- en: What’s new in 0.24.1 (February 3, 2019)
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://pandas.pydata.org/docs/whatsnew/v0.24.1.html](https://pandas.pydata.org/docs/whatsnew/v0.24.1.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Warning
  prefs: []
  type: TYPE_NORMAL
- en: The 0.24.x series of releases will be the last to support Python 2\. Future
    feature releases will support Python 3 only. See [Dropping Python 2.7](https://pandas.pydata.org/pandas-docs/version/0.24/install.html#install-dropping-27)
    for more.
  prefs: []
  type: TYPE_NORMAL
- en: These are the changes in pandas 0.24.1\. See [Release notes](index.html#release)
    for a full changelog including other versions of pandas. See [What’s new in 0.24.0
    (January 25, 2019)](v0.24.0.html#whatsnew-0240) for the 0.24.0 changelog.
  prefs: []
  type: TYPE_NORMAL
- en: '## API changes'
  prefs: []
  type: TYPE_NORMAL
- en: Changing the `sort` parameter for [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") set operations
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The default `sort` value for [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") has changed from `True` to `None` ([GH 24959](https://github.com/pandas-dev/pandas/issues/24959)).
    The default *behavior*, however, remains the same: the result is sorted, unless'
  prefs: []
  type: TYPE_NORMAL
- en: '`self` and `other` are identical'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`self` or `other` is empty'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`self` or `other` contain values that can not be compared (a `RuntimeWarning`
    is raised).'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This change will allow `sort=True` to mean “always sort” in a future release.
  prefs: []
  type: TYPE_NORMAL
- en: The same change applies to [`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference") and [`Index.symmetric_difference()`](../reference/api/pandas.Index.symmetric_difference.html#pandas.Index.symmetric_difference
    "pandas.Index.symmetric_difference"), which would not sort the result when the
    values could not be compared.
  prefs: []
  type: TYPE_NORMAL
- en: The `sort` option for [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") has changed in three ways.
  prefs: []
  type: TYPE_NORMAL
- en: The default has changed from `True` to `False`, to restore the pandas 0.23.4
    and earlier behavior of not sorting by default.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The behavior of `sort=True` can now be obtained with `sort=None`. This will
    sort the result only if the values in `self` and `other` are not identical.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The value `sort=True` is no longer allowed. A future version of pandas will
    properly support `sort=True` meaning “always sort”.  ## Fixed regressions'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") with `records` orient raising an `AttributeError`
    when the `DataFrame` contained more than 255 columns, or wrongly converting column
    names that were not valid python identifiers ([GH 24939](https://github.com/pandas-dev/pandas/issues/24939),
    [GH 24940](https://github.com/pandas-dev/pandas/issues/24940)).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql
    "pandas.read_sql") when passing certain queries with MySQL/pymysql ([GH 24988](https://github.com/pandas-dev/pandas/issues/24988)).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`Index.intersection`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") incorrectly sorting the values by default ([GH 24959](https://github.com/pandas-dev/pandas/issues/24959)).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge") when merging an empty `DataFrame` with multiple timezone-aware
    columns on one of the timezone-aware columns ([GH 25014](https://github.com/pandas-dev/pandas/issues/25014)).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`Series.rename_axis()`](../reference/api/pandas.Series.rename_axis.html#pandas.Series.rename_axis
    "pandas.Series.rename_axis") and [`DataFrame.rename_axis()`](../reference/api/pandas.DataFrame.rename_axis.html#pandas.DataFrame.rename_axis
    "pandas.DataFrame.rename_axis") where passing `None` failed to remove the axis
    name ([GH 25034](https://github.com/pandas-dev/pandas/issues/25034))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") with `box=False` incorrectly returning a `datetime64` object
    instead of a `timedelta64` object ([GH 24961](https://github.com/pandas-dev/pandas/issues/24961))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Fixed regression where custom hashable types could not be used as column keys
    in [`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index") ([GH 24969](https://github.com/pandas-dev/pandas/issues/24969))  ##
    Bug fixes'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Reshaping**'
  prefs: []
  type: TYPE_NORMAL
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") with [`Grouper`](../reference/api/pandas.Grouper.html#pandas.Grouper
    "pandas.Grouper") when there is a time change (DST) and grouping frequency is
    `'1d'` ([GH 24972](https://github.com/pandas-dev/pandas/issues/24972))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Visualization**'
  prefs: []
  type: TYPE_NORMAL
- en: Fixed the warning for implicitly registered matplotlib converters not showing.
    See [Restore Matplotlib datetime converter registration](v0.21.1.html#whatsnew-0211-converters)
    for more ([GH 24963](https://github.com/pandas-dev/pandas/issues/24963)).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Other**'
  prefs: []
  type: TYPE_NORMAL
- en: 'Fixed AttributeError when printing a DataFrame’s HTML repr after accessing
    the IPython config object ([GH 25036](https://github.com/pandas-dev/pandas/issues/25036))  ##
    Contributors'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A total of 7 people contributed patches to this release. People with a “+” by
    their names contributed a patch for the first time.
  prefs: []
  type: TYPE_NORMAL
- en: Alex Buchkovsky
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Roman Yurchak
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: h-vetinari
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: jbrockmendel
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Jeremy Schendel
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Joris Van den Bossche
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Tom Augspurger  ## API changes'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Changing the `sort` parameter for [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") set operations
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The default `sort` value for [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") has changed from `True` to `None` ([GH 24959](https://github.com/pandas-dev/pandas/issues/24959)).
    The default *behavior*, however, remains the same: the result is sorted, unless'
  prefs: []
  type: TYPE_NORMAL
- en: '`self` and `other` are identical'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`self` or `other` is empty'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`self` or `other` contain values that can not be compared (a `RuntimeWarning`
    is raised).'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This change will allow `sort=True` to mean “always sort” in a future release.
  prefs: []
  type: TYPE_NORMAL
- en: The same change applies to [`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference") and [`Index.symmetric_difference()`](../reference/api/pandas.Index.symmetric_difference.html#pandas.Index.symmetric_difference
    "pandas.Index.symmetric_difference"), which would not sort the result when the
    values could not be compared.
  prefs: []
  type: TYPE_NORMAL
- en: The `sort` option for [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") has changed in three ways.
  prefs: []
  type: TYPE_NORMAL
- en: The default has changed from `True` to `False`, to restore the pandas 0.23.4
    and earlier behavior of not sorting by default.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The behavior of `sort=True` can now be obtained with `sort=None`. This will
    sort the result only if the values in `self` and `other` are not identical.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The value `sort=True` is no longer allowed. A future version of pandas will
    properly support `sort=True` meaning “always sort”.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Changing the `sort` parameter for [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") set operations
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The default `sort` value for [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") has changed from `True` to `None` ([GH 24959](https://github.com/pandas-dev/pandas/issues/24959)).
    The default *behavior*, however, remains the same: the result is sorted, unless'
  prefs: []
  type: TYPE_NORMAL
- en: '`self` and `other` are identical'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`self` or `other` is empty'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`self` or `other` contain values that can not be compared (a `RuntimeWarning`
    is raised).'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This change will allow `sort=True` to mean “always sort” in a future release.
  prefs: []
  type: TYPE_NORMAL
- en: The same change applies to [`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference") and [`Index.symmetric_difference()`](../reference/api/pandas.Index.symmetric_difference.html#pandas.Index.symmetric_difference
    "pandas.Index.symmetric_difference"), which would not sort the result when the
    values could not be compared.
  prefs: []
  type: TYPE_NORMAL
- en: The `sort` option for [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") has changed in three ways.
  prefs: []
  type: TYPE_NORMAL
- en: The default has changed from `True` to `False`, to restore the pandas 0.23.4
    and earlier behavior of not sorting by default.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The behavior of `sort=True` can now be obtained with `sort=None`. This will
    sort the result only if the values in `self` and `other` are not identical.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The value `sort=True` is no longer allowed. A future version of pandas will
    properly support `sort=True` meaning “always sort”.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '## Fixed regressions'
  prefs: []
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") with `records` orient raising an `AttributeError`
    when the `DataFrame` contained more than 255 columns, or wrongly converting column
    names that were not valid python identifiers ([GH 24939](https://github.com/pandas-dev/pandas/issues/24939),
    [GH 24940](https://github.com/pandas-dev/pandas/issues/24940)).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql
    "pandas.read_sql") when passing certain queries with MySQL/pymysql ([GH 24988](https://github.com/pandas-dev/pandas/issues/24988)).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`Index.intersection`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") incorrectly sorting the values by default ([GH 24959](https://github.com/pandas-dev/pandas/issues/24959)).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge") when merging an empty `DataFrame` with multiple timezone-aware
    columns on one of the timezone-aware columns ([GH 25014](https://github.com/pandas-dev/pandas/issues/25014)).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`Series.rename_axis()`](../reference/api/pandas.Series.rename_axis.html#pandas.Series.rename_axis
    "pandas.Series.rename_axis") and [`DataFrame.rename_axis()`](../reference/api/pandas.DataFrame.rename_axis.html#pandas.DataFrame.rename_axis
    "pandas.DataFrame.rename_axis") where passing `None` failed to remove the axis
    name ([GH 25034](https://github.com/pandas-dev/pandas/issues/25034))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") with `box=False` incorrectly returning a `datetime64` object
    instead of a `timedelta64` object ([GH 24961](https://github.com/pandas-dev/pandas/issues/24961))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression where custom hashable types could not be used as column keys
    in [`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index") ([GH 24969](https://github.com/pandas-dev/pandas/issues/24969))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Bug fixes'
  prefs: []
  type: TYPE_NORMAL
- en: '**Reshaping**'
  prefs: []
  type: TYPE_NORMAL
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") with [`Grouper`](../reference/api/pandas.Grouper.html#pandas.Grouper
    "pandas.Grouper") when there is a time change (DST) and grouping frequency is
    `'1d'` ([GH 24972](https://github.com/pandas-dev/pandas/issues/24972))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Visualization**'
  prefs: []
  type: TYPE_NORMAL
- en: Fixed the warning for implicitly registered matplotlib converters not showing.
    See [Restore Matplotlib datetime converter registration](v0.21.1.html#whatsnew-0211-converters)
    for more ([GH 24963](https://github.com/pandas-dev/pandas/issues/24963)).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Other**'
  prefs: []
  type: TYPE_NORMAL
- en: Fixed AttributeError when printing a DataFrame’s HTML repr after accessing the
    IPython config object ([GH 25036](https://github.com/pandas-dev/pandas/issues/25036))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Contributors'
  prefs: []
  type: TYPE_NORMAL
- en: A total of 7 people contributed patches to this release. People with a “+” by
    their names contributed a patch for the first time.
  prefs: []
  type: TYPE_NORMAL
- en: Alex Buchkovsky
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Roman Yurchak
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: h-vetinari
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: jbrockmendel
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Jeremy Schendel
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Joris Van den Bossche
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Tom Augspurger
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
