- en: What’s new in 1.2.0 (December 26, 2020)
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 1.2.0 中的新功能（2020 年 12 月 26 日）
- en: 原文：[https://pandas.pydata.org/docs/whatsnew/v1.2.0.html](https://pandas.pydata.org/docs/whatsnew/v1.2.0.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://pandas.pydata.org/docs/whatsnew/v1.2.0.html](https://pandas.pydata.org/docs/whatsnew/v1.2.0.html)
- en: These are the changes in pandas 1.2.0\. See [Release notes](index.html#release)
    for a full changelog including other versions of pandas.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是 pandas 1.2.0 的更改。查看[发行说明](index.html#release)以获取包括其他版本的完整更改日志。
- en: Warning
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: The [xlwt](https://xlwt.readthedocs.io/en/latest/) package for writing old-style
    `.xls` excel files is no longer maintained. The [xlrd](https://xlrd.readthedocs.io/en/latest/)
    package is now only for reading old-style `.xls` files.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 用于写旧式 `.xls` Excel 文件的 [xlwt](https://xlwt.readthedocs.io/en/latest/) 包不再维护。现在
    [xlrd](https://xlrd.readthedocs.io/en/latest/) 包仅用于读取旧式 `.xls` 文件。
- en: Previously, the default argument `engine=None` to [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") would result in using the `xlrd` engine in many cases, including
    new Excel 2007+ (`.xlsx`) files. If [openpyxl](https://openpyxl.readthedocs.io/en/stable/)
    is installed, many of these cases will now default to using the `openpyxl` engine.
    See the [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") documentation for more details.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，对 [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 的默认参数 `engine=None` 在许多情况下会导致使用 `xlrd` 引擎，包括新的 Excel 2007+（`.xlsx`）文件。如果安装了
    [openpyxl](https://openpyxl.readthedocs.io/en/stable/)，则现在许多这些情况将默认使用 `openpyxl`
    引擎。有关更多详细信息，请参阅 [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 文档。
- en: Thus, it is strongly encouraged to install `openpyxl` to read Excel 2007+ (`.xlsx`)
    files. **Please do not report issues when using ``xlrd`` to read ``.xlsx`` files.**
    This is no longer supported, switch to using `openpyxl` instead.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，强烈建议安装 `openpyxl` 以读取 Excel 2007+（`.xlsx`）文件。**请不要在使用 ``xlrd`` 读取 ``.xlsx``
    文件时报告问题。** 这已不再受支持，请改用 `openpyxl`。
- en: Attempting to use the `xlwt` engine will raise a `FutureWarning` unless the
    option `io.excel.xls.writer` is set to `"xlwt"`. While this option is now deprecated
    and will also raise a `FutureWarning`, it can be globally set and the warning
    suppressed. Users are recommended to write `.xlsx` files using the `openpyxl`
    engine instead.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试使用 `xlwt` 引擎将引发 `FutureWarning`，除非选项 `io.excel.xls.writer` 设置为 `"xlwt"`。虽然此选项现已不推荐使用并且也会引发
    `FutureWarning`，但可以全局设置并抑制警告。建议用户改用 `openpyxl` 引擎来写入 `.xlsx` 文件。
- en: Enhancements
  id: totrans-8
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 增强功能
- en: '### Optionally disallow duplicate labels'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '### 可选地禁止重复标签'
- en: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    and [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    can now be created with `allows_duplicate_labels=False` flag to control whether
    the index or columns can contain duplicate labels ([GH 28394](https://github.com/pandas-dev/pandas/issues/28394)).
    This can be used to prevent accidental introduction of duplicate labels, which
    can affect downstream operations.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    和 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    现在可以使用 `allows_duplicate_labels=False` 标志创建，以控制索引或列是否可以包含重复标签（[GH 28394](https://github.com/pandas-dev/pandas/issues/28394)）。这可用于防止意外引入重复标签，这可能会影响下游操作。'
- en: By default, duplicates continue to be allowed.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，允许继续存在重复标签。
- en: '[PRE0]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: pandas will propagate the `allows_duplicate_labels` property through many operations.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 将通过许多操作传播 `allows_duplicate_labels` 属性。
- en: '[PRE1]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Warning
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: This is an experimental feature. Currently, many methods fail to propagate the
    `allows_duplicate_labels` value. In future versions it is expected that every
    method taking or returning one or more DataFrame or Series objects will propagate
    `allows_duplicate_labels`.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个实验性功能。目前，许多方法无法传播 `allows_duplicate_labels` 值。预计在未来版本中，每个接受或返回一个或多个 DataFrame
    或 Series 对象的方法都将传播 `allows_duplicate_labels`。
- en: See [Duplicate Labels](../user_guide/duplicates.html#duplicates) for more.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 查看[重复标签](../user_guide/duplicates.html#duplicates)了解更多信息。
- en: The `allows_duplicate_labels` flag is stored in the new `DataFrame.flags` attribute.
    This stores global attributes that apply to the *pandas object*. This differs
    from [`DataFrame.attrs`](../reference/api/pandas.DataFrame.attrs.html#pandas.DataFrame.attrs
    "pandas.DataFrame.attrs"), which stores information that applies to the dataset.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '`allows_duplicate_labels` 标志存储在新的 `DataFrame.flags` 属性中。这会存储适用于 *pandas 对象*
    的全局属性。这与[`DataFrame.attrs`](../reference/api/pandas.DataFrame.attrs.html#pandas.DataFrame.attrs
    "pandas.DataFrame.attrs")不同，后者存储适用于数据集的信息。'
- en: Passing arguments to fsspec backends
  id: totrans-19
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 传递参数给fsspec后端
- en: Many read/write functions have acquired the `storage_options` optional argument,
    to pass a dictionary of parameters to the storage backend. This allows, for example,
    for passing credentials to S3 and GCS storage. The details of what parameters
    can be passed to which backends can be found in the documentation of the individual
    storage backends (detailed from the fsspec docs for [builtin implementations](https://filesystem-spec.readthedocs.io/en/latest/api.html#built-in-implementations)
    and linked to [external ones](https://filesystem-spec.readthedocs.io/en/latest/api.html#other-known-implementations)).
    See Section [Reading/writing remote files](../user_guide/io.html#io-remote).
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 许多读写函数已经添加了可选参数`storage_options`，用于传递参数字典给存储后端。例如，这允许传递凭据给S3和GCS存储。可以在各个存储后端的文档中找到可以传递给哪些后端的参数的详细信息（从[fsspec文档中的内置实现](https://filesystem-spec.readthedocs.io/en/latest/api.html#built-in-implementations)详细说明，并链接到[外部实现](https://filesystem-spec.readthedocs.io/en/latest/api.html#other-known-implementations)）。请参阅[读取/写入远程文件](../user_guide/io.html#io-remote)部分。
- en: '[GH 35655](https://github.com/pandas-dev/pandas/issues/35655) added fsspec
    support (including `storage_options`) for reading excel files.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '[GH 35655](https://github.com/pandas-dev/pandas/issues/35655)为读取excel文件添加了fsspec支持（包括`storage_options`）。'
- en: '### Support for binary file handles in `to_csv`'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '### 支持`to_csv`中的二进制文件句柄'
- en: '`to_csv()` supports file handles in binary mode ([GH 19827](https://github.com/pandas-dev/pandas/issues/19827)
    and [GH 35058](https://github.com/pandas-dev/pandas/issues/35058)) with `encoding`
    ([GH 13068](https://github.com/pandas-dev/pandas/issues/13068) and [GH 23854](https://github.com/pandas-dev/pandas/issues/23854))
    and `compression` ([GH 22555](https://github.com/pandas-dev/pandas/issues/22555)).
    If pandas does not automatically detect whether the file handle is opened in binary
    or text mode, it is necessary to provide `mode="wb"`.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '`to_csv()`支持以二进制模式打开的文件句柄（[GH 19827](https://github.com/pandas-dev/pandas/issues/19827)和[GH
    35058](https://github.com/pandas-dev/pandas/issues/35058)），并且支持`encoding`（[GH
    13068](https://github.com/pandas-dev/pandas/issues/13068)和[GH 23854](https://github.com/pandas-dev/pandas/issues/23854)）以及`compression`（[GH
    22555](https://github.com/pandas-dev/pandas/issues/22555)）。如果pandas无法自动检测文件句柄是以二进制还是文本模式打开的，需要提供`mode="wb"`。'
- en: 'For example:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 例如：
- en: '[PRE2]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Support for short caption and table position in `to_latex`
  id: totrans-26
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '`to_latex`中支持短标题和表格位置'
- en: '[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") now allows one to specify a floating table position
    ([GH 35281](https://github.com/pandas-dev/pandas/issues/35281)) and a short caption
    ([GH 36267](https://github.com/pandas-dev/pandas/issues/36267)).'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex")现在允许指定浮动表格位置（[GH 35281](https://github.com/pandas-dev/pandas/issues/35281)）和短标题（[GH
    36267](https://github.com/pandas-dev/pandas/issues/36267)）。'
- en: The keyword `position` has been added to set the position.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 已添加关键字`position`以设置位置。
- en: '[PRE3]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Usage of the keyword `caption` has been extended. Besides taking a single string
    as an argument, one can optionally provide a tuple `(full_caption, short_caption)`
    to add a short caption macro.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 关键字`caption`的用法已经扩展。除了接受单个字符串作为参数外，还可以选择性地提供一个元组`(full_caption, short_caption)`来添加一个短标题宏。
- en: '[PRE4]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '### Change in default floating precision for `read_csv` and `read_table`'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '### 更改`read_csv`和`read_table`的默认浮点精度'
- en: 'For the C parsing engine, the methods [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") previously defaulted to a parser that could read floating
    point numbers slightly incorrectly with respect to the last bit in precision.
    The option `floating_precision="high"` has always been available to avoid this
    issue. Beginning with this version, the default is now to use the more accurate
    parser by making `floating_precision=None` correspond to the high precision parser,
    and the new option `floating_precision="legacy"` to use the legacy parser. The
    change to using the higher precision parser by default should have no impact on
    performance. ([GH 17154](https://github.com/pandas-dev/pandas/issues/17154))  ###
    Experimental nullable data types for float data'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '对于 C 解析引擎，之前的方法[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")和[`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") 默认使用的解析器在读取浮点数时可能会存在与精度的最后一位略有不正确的情况。选项 `floating_precision="high"`
    一直可用以避免此问题。从此版本开始，默认使用更准确的解析器，使 `floating_precision=None` 对应高精度解析器，而新选项 `floating_precision="legacy"`
    则使用旧解析器。默认改用更高精度解析器不应对性能产生影响。 ([GH 17154](https://github.com/pandas-dev/pandas/issues/17154))  ###
    实验性浮点数据的可空数据类型'
- en: We’ve added [`Float32Dtype`](../reference/api/pandas.Float32Dtype.html#pandas.Float32Dtype
    "pandas.Float32Dtype") / [`Float64Dtype`](../reference/api/pandas.Float64Dtype.html#pandas.Float64Dtype
    "pandas.Float64Dtype") and [`FloatingArray`](../reference/api/pandas.arrays.FloatingArray.html#pandas.arrays.FloatingArray
    "pandas.arrays.FloatingArray"). These are extension data types dedicated to floating
    point data that can hold the `pd.NA` missing value indicator ([GH 32265](https://github.com/pandas-dev/pandas/issues/32265),
    [GH 34307](https://github.com/pandas-dev/pandas/issues/34307)).
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已添加[`Float32Dtype`](../reference/api/pandas.Float32Dtype.html#pandas.Float32Dtype
    "pandas.Float32Dtype") / [`Float64Dtype`](../reference/api/pandas.Float64Dtype.html#pandas.Float64Dtype
    "pandas.Float64Dtype") 和 [`FloatingArray`](../reference/api/pandas.arrays.FloatingArray.html#pandas.arrays.FloatingArray
    "pandas.arrays.FloatingArray")。这些是专门用于浮点数据的扩展数据类型，可以容纳`pd.NA` 缺失值指示器 ([GH 32265](https://github.com/pandas-dev/pandas/issues/32265),
    [GH 34307](https://github.com/pandas-dev/pandas/issues/34307))。
- en: While the default float data type already supports missing values using `np.nan`,
    these new data types use `pd.NA` (and its corresponding behavior) as the missing
    value indicator, in line with the already existing nullable [integer](../user_guide/integer_na.html#integer-na)
    and [boolean](../user_guide/boolean.html#boolean) data types.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然默认的浮点数据类型已支持使用 `np.nan` 的缺失值，但这些新数据类型使用 `pd.NA`（及其相应的行为）作为缺失值指示器，与已存在的可空[整数](../user_guide/integer_na.html#integer-na)和[布尔](../user_guide/boolean.html#boolean)数据类型一致。
- en: 'One example where the behavior of `np.nan` and `pd.NA` is different is comparison
    operations:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '`np.nan` 和 `pd.NA` 行为不同的一个示例是比较操作：'
- en: '[PRE5]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[PRE6]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: See the [NA semantics](../user_guide/missing_data.html#missing-data-na) doc
    section for more details on the behavior when using the `pd.NA` missing value
    indicator.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 更多有关使用 `pd.NA` 缺失值指示器时的行为的详细信息，请参阅[NA语义](../user_guide/missing_data.html#missing-data-na)文档部分。
- en: 'As shown above, the dtype can be specified using the “Float64” or “Float32”
    string (capitalized to distinguish it from the default “float64” data type). Alternatively,
    you can also use the dtype object:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 如上所示，可以使用字符串“Float64”或“Float32”指定 dtype（大写以区别于默认的“float64”数据类型）。或者，您也可以使用 dtype
    对象：
- en: '[PRE7]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Operations with the existing integer or boolean nullable data types that give
    float results will now also use the nullable floating data types ([GH 38178](https://github.com/pandas-dev/pandas/issues/38178)).
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 使用现有的整数或布尔可空数据类型进行浮点结果的操作现在也将使用可空浮点数据类型 ([GH 38178](https://github.com/pandas-dev/pandas/issues/38178))。
- en: Warning
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: 'Experimental: the new floating data types are currently experimental, and their
    behavior or API may still change without warning. Especially the behavior regarding
    NaN (distinct from NA missing values) is subject to change.  ### Index/column
    name preservation when aggregating'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '实验性：新的浮点数据类型目前是实验性的，其行为或 API 可能仍会发生更改，而不另行通知。特别是关于 NaN（与 NA 缺失值不同）的行为可能会发生变化。  ###
    聚合时保留索引/列名'
- en: 'When aggregating using [`concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") or the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor, pandas will now attempt to preserve index and
    column names whenever possible ([GH 35847](https://github.com/pandas-dev/pandas/issues/35847)).
    In the case where all inputs share a common name, this name will be assigned to
    the result. When the input names do not all agree, the result will be unnamed.
    Here is an example where the index name is preserved:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")或[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")构造函数进行聚合时，pandas现在会尽可能保留索引和列名（[GH 35847](https://github.com/pandas-dev/pandas/issues/35847)）。在所有输入共享通用名称的情况下，该名称将分配给结果。当输入名称不完全一致时，结果将不具有名称。下面是一个保留索引名称的示例：
- en: '[PRE8]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'The same is true for [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex"), but the logic is applied separately on a level-by-level
    basis.  ### GroupBy supports EWM operations directly'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '对于[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")来说，情况也是一样的，但逻辑是逐级别地分开应用的。 ### GroupBy直接支持EWM操作'
- en: '`DataFrameGroupBy` now supports exponentially weighted window operations directly
    ([GH 16037](https://github.com/pandas-dev/pandas/issues/16037)).'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy`现在直接支持指数加权窗口操作（[GH 16037](https://github.com/pandas-dev/pandas/issues/16037)）。'
- en: '[PRE9]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Additionally `mean` supports execution via [Numba](https://numba.pydata.org/)
    with the `engine` and `engine_kwargs` arguments. Numba must be installed as an
    optional dependency to use this feature.  ### Other enhancements'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '此外，`mean`现在支持通过[Numba](https://numba.pydata.org/)以及`engine`和`engine_kwargs`参数直接执行。要使用此功能，必须将Numba安装为可选依赖项。
    ### 其他增强功能'
- en: Added `day_of_week` (compatibility alias `dayofweek`) property to [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp"), [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period"), [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") ([GH 9605](https://github.com/pandas-dev/pandas/issues/9605))
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")、[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")、[`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period")、[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")添加了`day_of_week`（兼容别名为`dayofweek`）属性（[GH 9605](https://github.com/pandas-dev/pandas/issues/9605))
- en: Added `day_of_year` (compatibility alias `dayofyear`) property to [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp"), [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period"), [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") ([GH 9605](https://github.com/pandas-dev/pandas/issues/9605))
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")、[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")、[`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period")、[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")添加了`day_of_year`（兼容别名为`dayofyear`）属性（[GH 9605](https://github.com/pandas-dev/pandas/issues/9605)）
- en: Added [`set_flags()`](../reference/api/pandas.DataFrame.set_flags.html#pandas.DataFrame.set_flags
    "pandas.DataFrame.set_flags") for setting table-wide flags on a Series or DataFrame
    ([GH 28394](https://github.com/pandas-dev/pandas/issues/28394))
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为[`DataFrame`](../reference/api/pandas.DataFrame.set_flags.html#pandas.DataFrame.set_flags
    "pandas.DataFrame.set_flags")或DataFrame设置表格级别的标志添加了[`set_flags()`](../reference/api/pandas.DataFrame.set_flags.html#pandas.DataFrame.set_flags
    "pandas.DataFrame.set_flags")（[GH 28394](https://github.com/pandas-dev/pandas/issues/28394))
- en: '[`DataFrame.applymap()`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap") now supports `na_action` ([GH 23803](https://github.com/pandas-dev/pandas/issues/23803))'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.applymap()`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap")现在支持`na_action`（[GH 23803](https://github.com/pandas-dev/pandas/issues/23803)）'
- en: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") with
    object dtype supports division and multiplication ([GH 34160](https://github.com/pandas-dev/pandas/issues/34160))'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 带有对象dtype的[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")支持除法和乘法（[GH
    34160](https://github.com/pandas-dev/pandas/issues/34160)）
- en: '`io.sql.get_schema()` now supports a `schema` keyword argument that will add
    a schema into the create table statement ([GH 28486](https://github.com/pandas-dev/pandas/issues/28486))'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`io.sql.get_schema()` 现在支持 `schema` 关键字参数，可以将模式添加到创建表的语句中（[GH 28486](https://github.com/pandas-dev/pandas/issues/28486)）'
- en: '[`DataFrame.explode()`](../reference/api/pandas.DataFrame.explode.html#pandas.DataFrame.explode
    "pandas.DataFrame.explode") and [`Series.explode()`](../reference/api/pandas.Series.explode.html#pandas.Series.explode
    "pandas.Series.explode") now support exploding of sets ([GH 35614](https://github.com/pandas-dev/pandas/issues/35614))'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.explode()`](../reference/api/pandas.DataFrame.explode.html#pandas.DataFrame.explode
    "pandas.DataFrame.explode") 和 [`Series.explode()`](../reference/api/pandas.Series.explode.html#pandas.Series.explode
    "pandas.Series.explode") 现在支持对集合进行展开（[GH 35614](https://github.com/pandas-dev/pandas/issues/35614)）'
- en: '[`DataFrame.hist()`](../reference/api/pandas.DataFrame.hist.html#pandas.DataFrame.hist
    "pandas.DataFrame.hist") now supports time series (datetime) data ([GH 32590](https://github.com/pandas-dev/pandas/issues/32590))'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.hist()`](../reference/api/pandas.DataFrame.hist.html#pandas.DataFrame.hist
    "pandas.DataFrame.hist") 现在支持时间序列（日期时间）数据（[GH 32590](https://github.com/pandas-dev/pandas/issues/32590)）'
- en: '[`Styler.set_table_styles()`](../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles
    "pandas.io.formats.style.Styler.set_table_styles") now allows the direct styling
    of rows and columns and can be chained ([GH 35607](https://github.com/pandas-dev/pandas/issues/35607))'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.set_table_styles()`](../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles
    "pandas.io.formats.style.Styler.set_table_styles") 现在允许直接对行和列进行样式设置，并且可以链式调用（[GH
    35607](https://github.com/pandas-dev/pandas/issues/35607)）'
- en: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") now allows direct CSS class name addition to
    individual data cells ([GH 36159](https://github.com/pandas-dev/pandas/issues/36159))'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 现在允许直接向各个数据单元格添加 CSS 类名（[GH 36159](https://github.com/pandas-dev/pandas/issues/36159)）'
- en: '[`Rolling.mean()`](../reference/api/pandas.core.window.rolling.Rolling.mean.html#pandas.core.window.rolling.Rolling.mean
    "pandas.core.window.rolling.Rolling.mean") and [`Rolling.sum()`](../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum
    "pandas.core.window.rolling.Rolling.sum") use Kahan summation to calculate the
    mean to avoid numerical problems ([GH 10319](https://github.com/pandas-dev/pandas/issues/10319),
    [GH 11645](https://github.com/pandas-dev/pandas/issues/11645), [GH 13254](https://github.com/pandas-dev/pandas/issues/13254),
    [GH 32761](https://github.com/pandas-dev/pandas/issues/32761), [GH 36031](https://github.com/pandas-dev/pandas/issues/36031))'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Rolling.mean()`](../reference/api/pandas.core.window.rolling.Rolling.mean.html#pandas.core.window.rolling.Rolling.mean
    "pandas.core.window.rolling.Rolling.mean") 和 [`Rolling.sum()`](../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum
    "pandas.core.window.rolling.Rolling.sum") 使用 Kahan 总和法来计算均值，以避免数值问题（[GH 10319](https://github.com/pandas-dev/pandas/issues/10319)，[GH
    11645](https://github.com/pandas-dev/pandas/issues/11645)，[GH 13254](https://github.com/pandas-dev/pandas/issues/13254)，[GH
    32761](https://github.com/pandas-dev/pandas/issues/32761)，[GH 36031](https://github.com/pandas-dev/pandas/issues/36031)）'
- en: '`DatetimeIndex.searchsorted()`, `TimedeltaIndex.searchsorted()`, `PeriodIndex.searchsorted()`,
    and [`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted") with datetime-like dtypes will now try to cast string
    arguments (list-like and scalar) to the matching datetime-like type ([GH 36346](https://github.com/pandas-dev/pandas/issues/36346))'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.searchsorted()`, `TimedeltaIndex.searchsorted()`, `PeriodIndex.searchsorted()`，以及
    [`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted") 在具有类似日期时间的数据类型时，现在会尝试将字符串参数（列表形式和标量）转换为相应的日期时间类型（[GH
    36346](https://github.com/pandas-dev/pandas/issues/36346)）'
- en: Added methods `IntegerArray.prod()`, `IntegerArray.min()`, and `IntegerArray.max()`
    ([GH 33790](https://github.com/pandas-dev/pandas/issues/33790))
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法 `IntegerArray.prod()`、`IntegerArray.min()` 和 `IntegerArray.max()`（[GH
    33790](https://github.com/pandas-dev/pandas/issues/33790)）
- en: Calling a NumPy ufunc on a `DataFrame` with extension types now preserves the
    extension types when possible ([GH 23743](https://github.com/pandas-dev/pandas/issues/23743))
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrame` 上调用 NumPy ufunc 时，现在会尽可能地保留扩展类型（[GH 23743](https://github.com/pandas-dev/pandas/issues/23743)）
- en: Calling a binary-input NumPy ufunc on multiple `DataFrame` objects now aligns,
    matching the behavior of binary operations and ufuncs on `Series` ([GH 23743](https://github.com/pandas-dev/pandas/issues/23743)).
    This change has been reverted in pandas 1.2.1, and the behaviour to not align
    DataFrames is deprecated instead, see the [the 1.2.1 release notes](v1.2.1.html#whatsnew-121-ufunc-deprecation).
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 调用二进制输入的 NumPy ufunc 在多个 `DataFrame` 对象上现在会对齐，与 `Series` 上的二进制操作和 ufuncs 的行为相匹配（[GH
    23743](https://github.com/pandas-dev/pandas/issues/23743)）。这一变更已在 pandas 1.2.1
    中被撤销，不对齐 DataFrames 的行为已被弃用，请参阅 [1.2.1 发行说明](v1.2.1.html#whatsnew-121-ufunc-deprecation)。
- en: Where possible `RangeIndex.difference()` and `RangeIndex.symmetric_difference()`
    will return [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex
    "pandas.RangeIndex") instead of `Int64Index` ([GH 36564](https://github.com/pandas-dev/pandas/issues/36564))
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在可能的情况下，`RangeIndex.difference()` 和 `RangeIndex.symmetric_difference()` 将返回
    [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex "pandas.RangeIndex")
    而不是 `Int64Index`（[GH 36564](https://github.com/pandas-dev/pandas/issues/36564))
- en: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") now supports [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") for columns in parquet format ([GH 34777](https://github.com/pandas-dev/pandas/issues/34777))'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") 现在支持 parquet 格式中的列的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")（[GH 34777](https://github.com/pandas-dev/pandas/issues/34777)）'
- en: '[`read_parquet()`](../reference/api/pandas.read_parquet.html#pandas.read_parquet
    "pandas.read_parquet") gained a `use_nullable_dtypes=True` option to use nullable
    dtypes that use `pd.NA` as missing value indicator where possible for the resulting
    DataFrame (default is `False`, and only applicable for `engine="pyarrow"`) ([GH
    31242](https://github.com/pandas-dev/pandas/issues/31242))'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_parquet()`](../reference/api/pandas.read_parquet.html#pandas.read_parquet
    "pandas.read_parquet") 增加了 `use_nullable_dtypes=True` 选项，以在可能的情况下使用 `pd.NA` 作为缺失值指示符号的可空数据类型，用于生成的
    DataFrame（默认为 `False`，仅适用于 `engine="pyarrow"`）（[GH 31242](https://github.com/pandas-dev/pandas/issues/31242)）'
- en: Added [`Rolling.sem()`](../reference/api/pandas.core.window.rolling.Rolling.sem.html#pandas.core.window.rolling.Rolling.sem
    "pandas.core.window.rolling.Rolling.sem") and `Expanding.sem()` to compute the
    standard error of the mean ([GH 26476](https://github.com/pandas-dev/pandas/issues/26476))
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了 [`Rolling.sem()`](../reference/api/pandas.core.window.rolling.Rolling.sem.html#pandas.core.window.rolling.Rolling.sem
    "pandas.core.window.rolling.Rolling.sem") 和 `Expanding.sem()` 来计算均值的标准误差（[GH 26476](https://github.com/pandas-dev/pandas/issues/26476)）
- en: '[`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") and [`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") use Kahan summation and Welford’s Method
    to avoid numerical issues ([GH 37051](https://github.com/pandas-dev/pandas/issues/37051))'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") 和 [`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") 使用 Kahan 求和和 Welford 方法避免数值问题（[GH 37051](https://github.com/pandas-dev/pandas/issues/37051)）'
- en: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") and [`DataFrame.cov()`](../reference/api/pandas.DataFrame.cov.html#pandas.DataFrame.cov
    "pandas.DataFrame.cov") use Welford’s Method to avoid numerical issues ([GH 37448](https://github.com/pandas-dev/pandas/issues/37448))'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") 和 [`DataFrame.cov()`](../reference/api/pandas.DataFrame.cov.html#pandas.DataFrame.cov
    "pandas.DataFrame.cov") 使用 Welford 方法避免数值问题（[GH 37448](https://github.com/pandas-dev/pandas/issues/37448)）'
- en: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") now recognizes `xlabel` and `ylabel` arguments for plots
    of type `scatter` and `hexbin` ([GH 37001](https://github.com/pandas-dev/pandas/issues/37001))'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 现在识别 `scatter` 和 `hexbin` 类型图的 `xlabel` 和 `ylabel` 参数（[GH
    37001](https://github.com/pandas-dev/pandas/issues/37001)）'
- en: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    now supports the `divmod` operation ([GH 37165](https://github.com/pandas-dev/pandas/issues/37165))'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    现在支持 `divmod` 操作（[GH 37165](https://github.com/pandas-dev/pandas/issues/37165)）'
- en: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") now returns a `bytes` object when no `path` argument
    is passed ([GH 37105](https://github.com/pandas-dev/pandas/issues/37105))'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") 现在在没有传递 `path` 参数时返回一个 `bytes` 对象（[GH 37105](https://github.com/pandas-dev/pandas/issues/37105))'
- en: '`Rolling` now supports the `closed` argument for fixed windows ([GH 34315](https://github.com/pandas-dev/pandas/issues/34315))'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Rolling` 现在支持固定窗口的 `closed` 参数（[GH 34315](https://github.com/pandas-dev/pandas/issues/34315)）'
- en: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `datetime64` or `datetime64tz` dtypes now support `std`
    ([GH 37436](https://github.com/pandas-dev/pandas/issues/37436))'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 现在支持 `datetime64` 或 `datetime64tz` dtypes 的 `std`（[GH 37436](https://github.com/pandas-dev/pandas/issues/37436)）'
- en: '`Window` now supports all Scipy window types in `win_type` with flexible keyword
    argument support ([GH 34556](https://github.com/pandas-dev/pandas/issues/34556))'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Window` 现在在 `win_type` 中支持所有 Scipy 窗口类型，并具有灵活的关键字参数支持（[GH 34556](https://github.com/pandas-dev/pandas/issues/34556)）'
- en: '[`testing.assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal") now has a `check_order` parameter that allows
    indexes to be checked in an order-insensitive manner ([GH 37478](https://github.com/pandas-dev/pandas/issues/37478))'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`testing.assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal") 现在有一个 `check_order` 参数，允许以无序方式检查索引（[GH 37478](https://github.com/pandas-dev/pandas/issues/37478)）'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    supports memory-mapping for compressed files ([GH 37621](https://github.com/pandas-dev/pandas/issues/37621))'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    支持对压缩文件进行内存映射（[GH 37621](https://github.com/pandas-dev/pandas/issues/37621)）'
- en: Add support for `min_count` keyword for [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") and [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") for functions `min`, `max`, `first` and `last` ([GH
    37821](https://github.com/pandas-dev/pandas/issues/37821), [GH 37768](https://github.com/pandas-dev/pandas/issues/37768))
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为 [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 和 [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 添加对 `min_count` 关键字的支持，用于 `min`、`max`、`first` 和 `last`
    函数（[GH 37821](https://github.com/pandas-dev/pandas/issues/37821)，[GH 37768](https://github.com/pandas-dev/pandas/issues/37768)）
- en: Improve error reporting for [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") when invalid merge column definitions were given ([GH
    16228](https://github.com/pandas-dev/pandas/issues/16228))
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了对 [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") 的错误报告，当给出无效的合并列定义时（[GH 16228](https://github.com/pandas-dev/pandas/issues/16228)）
- en: Improve numerical stability for [`Rolling.skew()`](../reference/api/pandas.core.window.rolling.Rolling.skew.html#pandas.core.window.rolling.Rolling.skew
    "pandas.core.window.rolling.Rolling.skew"), [`Rolling.kurt()`](../reference/api/pandas.core.window.rolling.Rolling.kurt.html#pandas.core.window.rolling.Rolling.kurt
    "pandas.core.window.rolling.Rolling.kurt"), `Expanding.skew()` and `Expanding.kurt()`
    through implementation of Kahan summation ([GH 6929](https://github.com/pandas-dev/pandas/issues/6929))
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了 [`Rolling.skew()`](../reference/api/pandas.core.window.rolling.Rolling.skew.html#pandas.core.window.rolling.Rolling.skew
    "pandas.core.window.rolling.Rolling.skew")、[`Rolling.kurt()`](../reference/api/pandas.core.window.rolling.Rolling.kurt.html#pandas.core.window.rolling.Rolling.kurt
    "pandas.core.window.rolling.Rolling.kurt")、`Expanding.skew()` 和 `Expanding.kurt()`
    的数值稳定性，通过实现 Kahan 求和（[GH 6929](https://github.com/pandas-dev/pandas/issues/6929)）
- en: Improved error reporting for subsetting columns of a `DataFrameGroupBy` with
    `axis=1` ([GH 37725](https://github.com/pandas-dev/pandas/issues/37725))
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了对带有 `axis=1` 的 `DataFrameGroupBy` 的列子集的错误报告（[GH 37725](https://github.com/pandas-dev/pandas/issues/37725)）
- en: Implement method `cross` for [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") and [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") ([GH 5401](https://github.com/pandas-dev/pandas/issues/5401))
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")和[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join")实现了`cross`方法（[GH 5401](https://github.com/pandas-dev/pandas/issues/5401)）
- en: When [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv"),
    [`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    and [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json "pandas.read_json")
    are called with `chunksize`/`iterator` they can be used in a `with` statement
    as they return context-managers ([GH 38225](https://github.com/pandas-dev/pandas/issues/38225))
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用`chunksize`/`iterator`调用[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")，[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas
    "pandas.read_sas")和[`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json")时，它们可以在`with`语句中使用，因为它们返回上下文管理器（[GH 38225](https://github.com/pandas-dev/pandas/issues/38225)）
- en: 'Augmented the list of named colors available for styling Excel exports, enabling
    all of CSS4 colors ([GH 38247](https://github.com/pandas-dev/pandas/issues/38247))  ##
    Notable bug fixes'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '扩展了可用于样式化Excel导出的命名颜色列表，启用了所有CSS4颜色（[GH 38247](https://github.com/pandas-dev/pandas/issues/38247)）  ##
    值得注意的错误修复'
- en: These are bug fixes that might have notable behavior changes.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是可能具有显着行为更改的错误修复。
- en: Consistency of DataFrame Reductions
  id: totrans-88
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: DataFrame缩减的一致性
- en: '[`DataFrame.any()`](../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any
    "pandas.DataFrame.any") and [`DataFrame.all()`](../reference/api/pandas.DataFrame.all.html#pandas.DataFrame.all
    "pandas.DataFrame.all") with `bool_only=True` now determines whether to exclude
    object-dtype columns on a column-by-column basis, instead of checking if *all*
    object-dtype columns can be considered boolean.'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.any()`](../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any
    "pandas.DataFrame.any")和[`DataFrame.all()`](../reference/api/pandas.DataFrame.all.html#pandas.DataFrame.all
    "pandas.DataFrame.all")现在使用`bool_only=True`确定是否基于逐列的基础来排除对象dtype列，而不是检查*所有*对象dtype列是否可以被视为布尔值。'
- en: This prevents pathological behavior where applying the reduction on a subset
    of columns could result in a larger Series result. See ([GH 37799](https://github.com/pandas-dev/pandas/issues/37799)).
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以防止将缩减应用于列子集时可能导致更大的Series结果的病态行为。参见（[GH 37799](https://github.com/pandas-dev/pandas/issues/37799)）。
- en: '[PRE10]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '*Previous behavior*:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE11]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '*New behavior*:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE12]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Other DataFrame reductions with `numeric_only=None` will also avoid this pathological
    behavior ([GH 37827](https://github.com/pandas-dev/pandas/issues/37827)):'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`numeric_only=None`的其他DataFrame缩减操作也将避免这种病态行为（[GH 37827](https://github.com/pandas-dev/pandas/issues/37827)）：
- en: '[PRE13]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '*Previous behavior*:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE14]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '*New behavior*:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE15]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Moreover, DataFrame reductions with `numeric_only=None` will now be consistent
    with their Series counterparts. In particular, for reductions where the Series
    method raises `TypeError`, the DataFrame reduction will now consider that column
    non-numeric instead of casting to a NumPy array which may have different semantics
    ([GH 36076](https://github.com/pandas-dev/pandas/issues/36076), [GH 28949](https://github.com/pandas-dev/pandas/issues/28949),
    [GH 21020](https://github.com/pandas-dev/pandas/issues/21020)).
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，使用`numeric_only=None`的DataFrame缩减现在将与其Series对应部分保持一致。特别是，对于Series方法引发`TypeError`的缩减，DataFrame缩减现在将考虑该列为非数值，而不是将其转换为可能具有不同语义的NumPy数组（[GH
    36076](https://github.com/pandas-dev/pandas/issues/36076)，[GH 28949](https://github.com/pandas-dev/pandas/issues/28949)，[GH
    21020](https://github.com/pandas-dev/pandas/issues/21020)）。
- en: '[PRE16]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '*Previous behavior*:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE17]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '*New behavior*:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE18]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '### Increased minimum version for Python'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '### 增加了Python的最低版本'
- en: 'pandas 1.2.0 supports Python 3.7.1 and higher ([GH 35214](https://github.com/pandas-dev/pandas/issues/35214)).  ###
    Increased minimum versions for dependencies'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 'pandas 1.2.0支持Python 3.7.1及更高版本（[GH 35214](https://github.com/pandas-dev/pandas/issues/35214)）。  ###
    增加了依赖项的最低版本'
- en: 'Some minimum supported versions of dependencies were updated ([GH 35214](https://github.com/pandas-dev/pandas/issues/35214)).
    If installed, we now require:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 更新了一些依赖项的最低支持版本（[GH 35214](https://github.com/pandas-dev/pandas/issues/35214)）。如果已安装，我们现在需要：
- en: '| Package | Minimum Version | Required | Changed |'
  id: totrans-111
  prefs: []
  type: TYPE_TB
  zh: '| 包 | 最低版本 | 需要 | 已更改 |'
- en: '| --- | --- | --- | --- |'
  id: totrans-112
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| numpy | 1.16.5 | X | X |'
  id: totrans-113
  prefs: []
  type: TYPE_TB
  zh: '| numpy | 1.16.5 | X | X |'
- en: '| pytz | 2017.3 | X | X |'
  id: totrans-114
  prefs: []
  type: TYPE_TB
  zh: '| pytz | 2017.3 | X | X |'
- en: '| python-dateutil | 2.7.3 | X |  |'
  id: totrans-115
  prefs: []
  type: TYPE_TB
  zh: '| python-dateutil | 2.7.3 | X |  |'
- en: '| bottleneck | 1.2.1 |  |  |'
  id: totrans-116
  prefs: []
  type: TYPE_TB
  zh: '| bottleneck | 1.2.1 |  |  |'
- en: '| numexpr | 2.6.8 |  | X |'
  id: totrans-117
  prefs: []
  type: TYPE_TB
  zh: '| numexpr | 2.6.8 |  | X |'
- en: '| pytest (dev) | 5.0.1 |  | X |'
  id: totrans-118
  prefs: []
  type: TYPE_TB
  zh: '| pytest (dev) | 5.0.1 |  | X |'
- en: '| mypy (dev) | 0.782 |  | X |'
  id: totrans-119
  prefs: []
  type: TYPE_TB
  zh: '| mypy (dev) | 0.782 |  | X |'
- en: For [optional libraries](https://pandas.pydata.org/docs/getting_started/install.html)
    the general recommendation is to use the latest version. The following table lists
    the lowest version per library that is currently being tested throughout the development
    of pandas. Optional libraries below the lowest tested version may still work,
    but are not considered supported.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 对于[可选库](https://pandas.pydata.org/docs/getting_started/install.html)，一般建议使用最新版本。以下表格列出了
    pandas 开发过程中当前正在测试的每个库的最低版本。低于最低测试版本的可选库可能仍然可以工作，但不被视为受支持。
- en: '| Package | Minimum Version | Changed |'
  id: totrans-121
  prefs: []
  type: TYPE_TB
  zh: '| 包 | 最低版本 | 已更改 |'
- en: '| --- | --- | --- |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| beautifulsoup4 | 4.6.0 |  |'
  id: totrans-123
  prefs: []
  type: TYPE_TB
  zh: '| beautifulsoup4 | 4.6.0 |  |'
- en: '| fastparquet | 0.3.2 |  |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '| fastparquet | 0.3.2 |  |'
- en: '| fsspec | 0.7.4 |  |'
  id: totrans-125
  prefs: []
  type: TYPE_TB
  zh: '| fsspec | 0.7.4 |  |'
- en: '| gcsfs | 0.6.0 |  |'
  id: totrans-126
  prefs: []
  type: TYPE_TB
  zh: '| gcsfs | 0.6.0 |  |'
- en: '| lxml | 4.3.0 | X |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
  zh: '| lxml | 4.3.0 | X |'
- en: '| matplotlib | 2.2.3 | X |'
  id: totrans-128
  prefs: []
  type: TYPE_TB
  zh: '| matplotlib | 2.2.3 | X |'
- en: '| numba | 0.46.0 |  |'
  id: totrans-129
  prefs: []
  type: TYPE_TB
  zh: '| numba | 0.46.0 |  |'
- en: '| openpyxl | 2.6.0 | X |'
  id: totrans-130
  prefs: []
  type: TYPE_TB
  zh: '| openpyxl | 2.6.0 | X |'
- en: '| pyarrow | 0.15.0 | X |'
  id: totrans-131
  prefs: []
  type: TYPE_TB
  zh: '| pyarrow | 0.15.0 | X |'
- en: '| pymysql | 0.7.11 | X |'
  id: totrans-132
  prefs: []
  type: TYPE_TB
  zh: '| pymysql | 0.7.11 | X |'
- en: '| pytables | 3.5.1 | X |'
  id: totrans-133
  prefs: []
  type: TYPE_TB
  zh: '| pytables | 3.5.1 | X |'
- en: '| s3fs | 0.4.0 |  |'
  id: totrans-134
  prefs: []
  type: TYPE_TB
  zh: '| s3fs | 0.4.0 |  |'
- en: '| scipy | 1.2.0 |  |'
  id: totrans-135
  prefs: []
  type: TYPE_TB
  zh: '| scipy | 1.2.0 |  |'
- en: '| sqlalchemy | 1.2.8 | X |'
  id: totrans-136
  prefs: []
  type: TYPE_TB
  zh: '| sqlalchemy | 1.2.8 | X |'
- en: '| xarray | 0.12.3 | X |'
  id: totrans-137
  prefs: []
  type: TYPE_TB
  zh: '| xarray | 0.12.3 | X |'
- en: '| xlrd | 1.2.0 | X |'
  id: totrans-138
  prefs: []
  type: TYPE_TB
  zh: '| xlrd | 1.2.0 | X |'
- en: '| xlsxwriter | 1.0.2 | X |'
  id: totrans-139
  prefs: []
  type: TYPE_TB
  zh: '| xlsxwriter | 1.0.2 | X |'
- en: '| xlwt | 1.3.0 | X |'
  id: totrans-140
  prefs: []
  type: TYPE_TB
  zh: '| xlwt | 1.3.0 | X |'
- en: '| pandas-gbq | 0.12.0 |  |'
  id: totrans-141
  prefs: []
  type: TYPE_TB
  zh: '| pandas-gbq | 0.12.0 |  |'
- en: 'See [Dependencies](../getting_started/install.html#install-dependencies) and
    [Optional dependencies](../getting_started/install.html#install-optional-dependencies)
    for more.  ### Other API changes'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '有关更多信息，请参见[依赖项](../getting_started/install.html#install-dependencies)和[可选依赖项](../getting_started/install.html#install-optional-dependencies)
    ### 其他 API 更改'
- en: Sorting in descending order is now stable for [`Series.sort_values()`](../reference/api/pandas.Series.sort_values.html#pandas.Series.sort_values
    "pandas.Series.sort_values") and [`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values") for Datetime-like [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") subclasses. This will affect sort order when sorting a DataFrame
    on multiple columns, sorting with a key function that produces duplicates, or
    requesting the sorting index when using [`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values"). When using [`Series.value_counts()`](../reference/api/pandas.Series.value_counts.html#pandas.Series.value_counts
    "pandas.Series.value_counts"), the count of missing values is no longer necessarily
    last in the list of duplicate counts. Instead, its position corresponds to the
    position in the original Series. When using [`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values") for Datetime-like [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") subclasses, NaTs ignored the `na_position` argument and were sorted
    to the beginning. Now they respect `na_position`, the default being `last`, same
    as other [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    subclasses ([GH 35992](https://github.com/pandas-dev/pandas/issues/35992))
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于Datetime-like [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    子类，现在 [`Series.sort_values()`](../reference/api/pandas.Series.sort_values.html#pandas.Series.sort_values
    "pandas.Series.sort_values") 和 [`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values") 的降序排序是稳定的。这会影响到当对 DataFrame 在多列上进行排序、使用产生重复值的键函数进行排序或者在使用
    [`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values") 时请求排序索引时的排序顺序。在使用 [`Series.value_counts()`](../reference/api/pandas.Series.value_counts.html#pandas.Series.value_counts
    "pandas.Series.value_counts") 时，缺失值的计数不再一定在重复计数列表的最后。相反，它的位置对应于原始 Series 中的位置。当对Datetime-like
    [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") 子类使用
    [`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values") 时，NaTs 忽略了 `na_position` 参数并被排序到开头。现在它们遵守 `na_position`，默认为
    `last`，与其他 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    子类相同 ([GH 35992](https://github.com/pandas-dev/pandas/issues/35992))
- en: Passing an invalid `fill_value` to `Categorical.take()`, `DatetimeArray.take()`,
    `TimedeltaArray.take()`, or `PeriodArray.take()` now raises a `TypeError` instead
    of a `ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将无效的 `fill_value` 传递给 `Categorical.take()`、`DatetimeArray.take()`、`TimedeltaArray.take()`
    或 `PeriodArray.take()` 现在引发 `TypeError` 而不是 `ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
- en: Passing an invalid `fill_value` to [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift") with a `CategoricalDtype` now raises a `TypeError` instead
    of a `ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Passing an invalid `fill_value` to [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift") with a `CategoricalDtype` now raises a `TypeError` instead
    of a `ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
- en: Passing an invalid value to `IntervalIndex.insert()` or `CategoricalIndex.insert()`
    now raises a `TypeError` instead of a `ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Passing an invalid value to `IntervalIndex.insert()` or `CategoricalIndex.insert()`
    now raises a `TypeError` instead of a `ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
- en: Attempting to reindex a Series with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") with an invalid `fill_value` now raises a `TypeError`
    instead of a `ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Attempting to reindex a Series with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") with an invalid `fill_value` now raises a `TypeError`
    instead of a `ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
- en: '`CategoricalIndex.append()` with an index that contains non-category values
    will now cast instead of raising `TypeError` ([GH 38098](https://github.com/pandas-dev/pandas/issues/38098))  ##
    Deprecations'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CategoricalIndex.append()` with an index that contains non-category values
    will now cast instead of raising `TypeError` ([GH 38098](https://github.com/pandas-dev/pandas/issues/38098))  ##
    Deprecations'
- en: Deprecated parameter `inplace` in [`MultiIndex.set_codes()`](../reference/api/pandas.MultiIndex.set_codes.html#pandas.MultiIndex.set_codes
    "pandas.MultiIndex.set_codes") and [`MultiIndex.set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels") ([GH 35626](https://github.com/pandas-dev/pandas/issues/35626))
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Deprecated parameter `inplace` in [`MultiIndex.set_codes()`](../reference/api/pandas.MultiIndex.set_codes.html#pandas.MultiIndex.set_codes
    "pandas.MultiIndex.set_codes") and [`MultiIndex.set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels "pandas.MultiIndex.set_levels") ([GH 35626](https://github.com/pandas-dev/pandas/issues/35626))
- en: Deprecated parameter `dtype` of method [`copy()`](../reference/api/pandas.Index.copy.html#pandas.Index.copy
    "pandas.Index.copy") for all [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") subclasses. Use the [`astype()`](../reference/api/pandas.Index.astype.html#pandas.Index.astype
    "pandas.Index.astype") method instead for changing dtype ([GH 35853](https://github.com/pandas-dev/pandas/issues/35853))
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Deprecated parameter `dtype` of method [`copy()`](../reference/api/pandas.Index.copy.html#pandas.Index.copy
    "pandas.Index.copy") for all [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") subclasses. Use the [`astype()`](../reference/api/pandas.Index.astype.html#pandas.Index.astype
    "pandas.Index.astype") method instead for changing dtype ([GH 35853](https://github.com/pandas-dev/pandas/issues/35853))
- en: Deprecated parameters `levels` and `codes` in [`MultiIndex.copy()`](../reference/api/pandas.MultiIndex.copy.html#pandas.MultiIndex.copy
    "pandas.MultiIndex.copy"). Use the [`set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels") and [`set_codes()`](../reference/api/pandas.MultiIndex.set_codes.html#pandas.MultiIndex.set_codes
    "pandas.MultiIndex.set_codes") methods instead ([GH 36685](https://github.com/pandas-dev/pandas/issues/36685))
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Deprecated parameters `levels` and `codes` in [`MultiIndex.copy()`](../reference/api/pandas.MultiIndex.copy.html#pandas.MultiIndex.copy
    "pandas.MultiIndex.copy"). Use the [`set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels "pandas.MultiIndex.set_levels") and [`set_codes()`](../reference/api/pandas.MultiIndex.set_codes.html#pandas.MultiIndex.set_codes
    "pandas.MultiIndex.set_codes "pandas.MultiIndex.set_codes") methods instead ([GH
    36685](https://github.com/pandas-dev/pandas/issues/36685))
- en: Date parser functions `parse_date_time()`, `parse_date_fields()`, `parse_all_fields()`
    and `generic_parser()` from `pandas.io.date_converters` are deprecated and will
    be removed in a future version; use [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") instead ([GH 35741](https://github.com/pandas-dev/pandas/issues/35741))
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Date parser functions `parse_date_time()`, `parse_date_fields()`, `parse_all_fields()`
    and `generic_parser()` from `pandas.io.date_converters` are deprecated and will
    be removed in a future version; use [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") instead ([GH 35741](https://github.com/pandas-dev/pandas/issues/35741))
- en: '`DataFrame.lookup()` is deprecated and will be removed in a future version,
    use [`DataFrame.melt()`](../reference/api/pandas.DataFrame.melt.html#pandas.DataFrame.melt
    "pandas.DataFrame.melt") and [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") instead ([GH 35224](https://github.com/pandas-dev/pandas/issues/35224))'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.lookup()`已被弃用，并将在未来版本中删除，请改用[`DataFrame.melt()`](../reference/api/pandas.DataFrame.melt.html#pandas.DataFrame.melt
    "pandas.DataFrame.melt")和[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc")（参见[GH 35224](https://github.com/pandas-dev/pandas/issues/35224)）'
- en: The method `Index.to_native_types()` is deprecated. Use `.astype(str)` instead
    ([GH 28867](https://github.com/pandas-dev/pandas/issues/28867))
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法`Index.to_native_types()`已弃用。请改用`.astype(str)`（参见[GH 28867](https://github.com/pandas-dev/pandas/issues/28867)）
- en: Deprecated indexing [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") rows with a single datetime-like string as `df[string]` (given
    the ambiguity whether it is indexing the rows or selecting a column), use `df.loc[string]`
    instead ([GH 36179](https://github.com/pandas-dev/pandas/issues/36179))
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用单个类似日期时间的字符串作为`df[string]`的索引行（由于模棱两可是索引行还是选择列），已被废弃，请改用`df.loc[string]`（参见[GH
    36179](https://github.com/pandas-dev/pandas/issues/36179)）
- en: Deprecated `Index.is_all_dates()` ([GH 27744](https://github.com/pandas-dev/pandas/issues/27744))
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用`Index.is_all_dates()`（参见[GH 27744](https://github.com/pandas-dev/pandas/issues/27744)）
- en: The default value of `regex` for [`Series.str.replace()`](../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace
    "pandas.Series.str.replace") will change from `True` to `False` in a future release.
    In addition, single character regular expressions will *not* be treated as literal
    strings when `regex=True` is set ([GH 24804](https://github.com/pandas-dev/pandas/issues/24804))
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.replace()`](../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace
    "pandas.Series.str.replace")的`regex`默认值将在将来的版本中从`True`更改为`False`。此外，当设置`regex=True`时，单个字符正则表达式将*不*被视为文字字符串（参见[GH
    24804](https://github.com/pandas-dev/pandas/issues/24804)）'
- en: Deprecated automatic alignment on comparison operations between [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series"), do `frame, ser = frame.align(ser, axis=1, copy=False)` before
    e.g. `frame == ser` ([GH 28759](https://github.com/pandas-dev/pandas/issues/28759))
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动对比操作在[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")和[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")之间已被弃用，请在例如`frame == ser`之前执行`frame, ser = frame.align(ser, axis=1,
    copy=False)`（参见[GH 28759](https://github.com/pandas-dev/pandas/issues/28759)）
- en: '`Rolling.count()` with `min_periods=None` will default to the size of the window
    in a future version ([GH 31302](https://github.com/pandas-dev/pandas/issues/31302))'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在未来版本中，带有`min_periods=None`的`Rolling.count()`将默认为窗口大小（参见[GH 31302](https://github.com/pandas-dev/pandas/issues/31302)）
- en: Using “outer” ufuncs on DataFrames to return 4d ndarray is now deprecated. Convert
    to an ndarray first ([GH 23743](https://github.com/pandas-dev/pandas/issues/23743))
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在DataFrame上使用“outer”ufuncs返回4d ndarray现已被弃用。请先转换为ndarray（参见[GH 23743](https://github.com/pandas-dev/pandas/issues/23743)）
- en: Deprecated slice-indexing on tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with naive `datetime` objects, to match scalar indexing
    behavior ([GH 36148](https://github.com/pandas-dev/pandas/issues/36148))
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在带有时区信息的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")上使用不带时区信息的`datetime`对象进行切片索引已被弃用，以匹配标量索引行为（参见[GH 36148](https://github.com/pandas-dev/pandas/issues/36148)）
- en: '[`Index.ravel()`](../reference/api/pandas.Index.ravel.html#pandas.Index.ravel
    "pandas.Index.ravel") returning a `np.ndarray` is deprecated, in the future this
    will return a view on the same index ([GH 19956](https://github.com/pandas-dev/pandas/issues/19956))'
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 返回`np.ndarray`的[`Index.ravel()`](../reference/api/pandas.Index.ravel.html#pandas.Index.ravel
    "pandas.Index.ravel")已弃用，将来将返回相同索引的视图（参见[GH 19956](https://github.com/pandas-dev/pandas/issues/19956)）
- en: Deprecate use of strings denoting units with ‘M’, ‘Y’ or ‘y’ in [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") ([GH 36666](https://github.com/pandas-dev/pandas/issues/36666))
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用使用带有‘M’、‘Y’或‘y’单位的字符串表示单位的[`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta")（参见[GH 36666](https://github.com/pandas-dev/pandas/issues/36666)）
- en: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") methods
    `&`, `|`, and `^` behaving as the set operations [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection"), [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union"), and [`Index.symmetric_difference()`](../reference/api/pandas.Index.symmetric_difference.html#pandas.Index.symmetric_difference
    "pandas.Index.symmetric_difference"), respectively, are deprecated and in the
    future will behave as pointwise boolean operations matching [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") behavior. Use the named set methods instead ([GH 36758](https://github.com/pandas-dev/pandas/issues/36758))'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")的方法`&`、`|`和`^`的行为类似于集合操作[`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection")、[`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union")和[`Index.symmetric_difference()`](../reference/api/pandas.Index.symmetric_difference.html#pandas.Index.symmetric_difference
    "pandas.Index.symmetric_difference")，已弃用，并且将来将作为与[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")行为匹配的逐点布尔操作。请改用命名的集合方法代替（[GH 36758](https://github.com/pandas-dev/pandas/issues/36758))'
- en: '`Categorical.is_dtype_equal()` and `CategoricalIndex.is_dtype_equal()` are
    deprecated, will be removed in a future version ([GH 37545](https://github.com/pandas-dev/pandas/issues/37545))'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.is_dtype_equal()`和`CategoricalIndex.is_dtype_equal()`已弃用，将在将来的版本中删除（[GH
    37545](https://github.com/pandas-dev/pandas/issues/37545))'
- en: '`Series.slice_shift()` and `DataFrame.slice_shift()` are deprecated, use [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift") or [`DataFrame.shift()`](../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift
    "pandas.DataFrame.shift") instead ([GH 37601](https://github.com/pandas-dev/pandas/issues/37601))'
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.slice_shift()`和`DataFrame.slice_shift()`已弃用，请改用[`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift")或[`DataFrame.shift()`](../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift
    "pandas.DataFrame.shift")代替（[GH 37601](https://github.com/pandas-dev/pandas/issues/37601))'
- en: Partial slicing on unordered [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") objects with keys that are not in the index is deprecated
    and will be removed in a future version ([GH 18531](https://github.com/pandas-dev/pandas/issues/18531))
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于无序的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")对象进行部分切片，其中键不在索引中，已弃用，并将在将来的版本中删除（[GH 18531](https://github.com/pandas-dev/pandas/issues/18531))
- en: The `how` keyword in `PeriodIndex.astype()` is deprecated and will be removed
    in a future version, use `index.to_timestamp(how=how)` instead ([GH 37982](https://github.com/pandas-dev/pandas/issues/37982))
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PeriodIndex.astype()`中的`how`关键字已弃用，并将在将来的版本中删除，请改用`index.to_timestamp(how=how)`代替（[GH
    37982](https://github.com/pandas-dev/pandas/issues/37982))'
- en: Deprecated `Index.asi8()` for [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") subclasses other than [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex"), and [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") ([GH 37877](https://github.com/pandas-dev/pandas/issues/37877))
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")的子类，除了[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")、[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")和[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")，已弃用`Index.asi8()`（[GH 37877](https://github.com/pandas-dev/pandas/issues/37877))
- en: The `inplace` parameter of `Categorical.remove_unused_categories()` is deprecated
    and will be removed in a future version ([GH 37643](https://github.com/pandas-dev/pandas/issues/37643))
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.remove_unused_categories()`的`inplace`参数已弃用，并将在将来的版本中删除（[GH 37643](https://github.com/pandas-dev/pandas/issues/37643))'
- en: The `null_counts` parameter of [`DataFrame.info()`](../reference/api/pandas.DataFrame.info.html#pandas.DataFrame.info
    "pandas.DataFrame.info") is deprecated and replaced by `show_counts`. It will
    be removed in a future version ([GH 37999](https://github.com/pandas-dev/pandas/issues/37999))
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.info()`](../reference/api/pandas.DataFrame.info.html#pandas.DataFrame.info
    "pandas.DataFrame.info")的`null_counts`参数已弃用，并由`show_counts`替代。将在将来的版本中删除（[GH 37999](https://github.com/pandas-dev/pandas/issues/37999))'
- en: '**Calling NumPy ufuncs on non-aligned DataFrames**'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '**在非对齐的DataFrame上调用NumPy ufuncs**'
- en: 'Calling NumPy ufuncs on non-aligned DataFrames changed behaviour in pandas
    1.2.0 (to align the inputs before calling the ufunc), but this change is reverted
    in pandas 1.2.1\. The behaviour to not align is now deprecated instead, see the
    [the 1.2.1 release notes](v1.2.1.html#whatsnew-121-ufunc-deprecation) for more
    details.  ## Performance improvements'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '在 pandas 1.2.0 中对非对齐 DataFrame 调用 NumPy ufuncs 的行为已更改（在调用 ufunc 之前对输入进行对齐），但此更改已在
    pandas 1.2.1 中撤销。 不对齐的行为现已弃用，请参阅[1.2.1 版本说明](v1.2.1.html#whatsnew-121-ufunc-deprecation)了解更多详细信息。  ##
    性能改进'
- en: Performance improvements when creating DataFrame or Series with dtype `str`
    or [`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype") from array with many string elements ([GH 36304](https://github.com/pandas-dev/pandas/issues/36304),
    [GH 36317](https://github.com/pandas-dev/pandas/issues/36317), [GH 36325](https://github.com/pandas-dev/pandas/issues/36325),
    [GH 36432](https://github.com/pandas-dev/pandas/issues/36432), [GH 37371](https://github.com/pandas-dev/pandas/issues/37371))
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建包含许多字符串元素的数组并使用 `str` 或 [`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype") 类型的 DataFrame 或 Series 时的性能改进 ([GH 36304](https://github.com/pandas-dev/pandas/issues/36304),
    [GH 36317](https://github.com/pandas-dev/pandas/issues/36317), [GH 36325](https://github.com/pandas-dev/pandas/issues/36325),
    [GH 36432](https://github.com/pandas-dev/pandas/issues/36432), [GH 37371](https://github.com/pandas-dev/pandas/issues/37371))
- en: Performance improvement in [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") and [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") with the `numba` engine ([GH 35759](https://github.com/pandas-dev/pandas/issues/35759))
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `numba` 引擎时 [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") 和 [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") 中的性能改进 ([GH 35759](https://github.com/pandas-dev/pandas/issues/35759))
- en: Performance improvements when creating [`Series.map()`](../reference/api/pandas.Series.map.html#pandas.Series.map
    "pandas.Series.map") from a huge dictionary ([GH 34717](https://github.com/pandas-dev/pandas/issues/34717))
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从大型字典创建 [`Series.map()`](../reference/api/pandas.Series.map.html#pandas.Series.map
    "pandas.Series.map") 时的性能改进 ([GH 34717](https://github.com/pandas-dev/pandas/issues/34717))
- en: Performance improvement in [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") and [`SeriesGroupBy.transform()`](../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform
    "pandas.core.groupby.SeriesGroupBy.transform") with the `numba` engine ([GH 36240](https://github.com/pandas-dev/pandas/issues/36240))
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `numba` 引擎时 [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") 和 [`SeriesGroupBy.transform()`](../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform
    "pandas.core.groupby.SeriesGroupBy.transform") 中的性能改进 ([GH 36240](https://github.com/pandas-dev/pandas/issues/36240))
- en: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") uuid method altered to compress data transmission
    over web whilst maintaining reasonably low table collision probability ([GH 36345](https://github.com/pandas-dev/pandas/issues/36345))'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 的 uuid 方法已更改，以在保持合理低的表冲突概率的同时压缩 Web 上的数据传输 ([GH
    36345](https://github.com/pandas-dev/pandas/issues/36345))'
- en: Performance improvement in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") with non-ns time unit for `float` `dtype` columns ([GH 20445](https://github.com/pandas-dev/pandas/issues/20445))
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用非 ns 时间单位的 `float` `dtype` 列时的 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 性能改进 ([GH 20445](https://github.com/pandas-dev/pandas/issues/20445))
- en: Performance improvement in setting values on an `IntervalArray` ([GH 36310](https://github.com/pandas-dev/pandas/issues/36310))
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `IntervalArray` 上设置值时的性能改进 ([GH 36310](https://github.com/pandas-dev/pandas/issues/36310))
- en: The internal index method `_shallow_copy()` now makes the new index and original
    index share cached attributes, avoiding creating these again, if created on either.
    This can speed up operations that depend on creating copies of existing indexes
    ([GH 36840](https://github.com/pandas-dev/pandas/issues/36840))
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内部索引方法`_shallow_copy()`现在使新索引和原索引共享缓存属性，避免再次创建这些属性，如果在任一处创建了。这可以加快依赖于创建现有索引副本的操作的速度（[GH
    36840](https://github.com/pandas-dev/pandas/issues/36840)）
- en: Performance improvement in `RollingGroupby.count()` ([GH 35625](https://github.com/pandas-dev/pandas/issues/35625))
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RollingGroupby.count()`的性能改进（[GH 35625](https://github.com/pandas-dev/pandas/issues/35625)）'
- en: Small performance decrease to [`Rolling.min()`](../reference/api/pandas.core.window.rolling.Rolling.min.html#pandas.core.window.rolling.Rolling.min
    "pandas.core.window.rolling.Rolling.min") and [`Rolling.max()`](../reference/api/pandas.core.window.rolling.Rolling.max.html#pandas.core.window.rolling.Rolling.max
    "pandas.core.window.rolling.Rolling.max") for fixed windows ([GH 36567](https://github.com/pandas-dev/pandas/issues/36567))
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 固定窗口的[`Rolling.min()`](../reference/api/pandas.core.window.rolling.Rolling.min.html#pandas.core.window.rolling.Rolling.min
    "pandas.core.window.rolling.Rolling.min")和[`Rolling.max()`](../reference/api/pandas.core.window.rolling.Rolling.max.html#pandas.core.window.rolling.Rolling.max
    "pandas.core.window.rolling.Rolling.max")略微减慢性能（[GH 36567](https://github.com/pandas-dev/pandas/issues/36567)）
- en: Reduced peak memory usage in [`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle") when using `protocol=5` in python 3.8+ ([GH 34244](https://github.com/pandas-dev/pandas/issues/34244))
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用python 3.8+中的`protocol=5`时，[`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle")的峰值内存使用量减少（[GH 34244](https://github.com/pandas-dev/pandas/issues/34244)）
- en: Faster `dir` calls when the object has many index labels, e.g. `dir(ser)` ([GH
    37450](https://github.com/pandas-dev/pandas/issues/37450))
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当对象具有许多索引标签时，例如`dir(ser)`，`dir`调用更快速（[GH 37450](https://github.com/pandas-dev/pandas/issues/37450)）
- en: Performance improvement in `ExpandingGroupby` ([GH 37064](https://github.com/pandas-dev/pandas/issues/37064))
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExpandingGroupby`的性能改进（[GH 37064](https://github.com/pandas-dev/pandas/issues/37064)）'
- en: Performance improvement in [`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") and [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") for [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") ([GH 8628](https://github.com/pandas-dev/pandas/issues/8628))
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.astype()`和`DataFrame.astype()`针对[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")的性能改进（[GH 8628](https://github.com/pandas-dev/pandas/issues/8628)）'
- en: Performance improvement in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") for `float` `dtype` ([GH 28303](https://github.com/pandas-dev/pandas/issues/28303)),
    changes of the underlying hash-function can lead to changes in float based indexes
    sort ordering for ties (e.g. [`Index.value_counts()`](../reference/api/pandas.Index.value_counts.html#pandas.Index.value_counts
    "pandas.Index.value_counts"))
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.groupby()`中`float` `dtype`的性能改进（[GH 28303](https://github.com/pandas-dev/pandas/issues/28303)），底层哈希函数的更改可能会导致基于浮点数的索引排序的变化（例如[`Index.value_counts()`](../reference/api/pandas.Index.value_counts.html#pandas.Index.value_counts
    "pandas.Index.value_counts")）'
- en: Performance improvement in `pd.isin()` for inputs with more than 1e6 elements
    ([GH 36611](https://github.com/pandas-dev/pandas/issues/36611))
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.isin()`针对元素超过1e6的输入的性能改进（[GH 36611](https://github.com/pandas-dev/pandas/issues/36611)）'
- en: Performance improvement for `DataFrame.__setitem__()` with list-like indexers
    ([GH 37954](https://github.com/pandas-dev/pandas/issues/37954))
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用类似列表的索引器时`DataFrame.__setitem__()`的性能改进（[GH 37954](https://github.com/pandas-dev/pandas/issues/37954)）
- en: '[`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json "pandas.read_json")
    now avoids reading entire file into memory when chunksize is specified ([GH 34548](https://github.com/pandas-dev/pandas/issues/34548))  ##
    Bug fixes'
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当指定chunksize时，[`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json")现在避免将整个文件读入内存（[GH 34548](https://github.com/pandas-dev/pandas/issues/34548)）
- en: Categorical
  id: totrans-192
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分类
- en: '`Categorical.fillna()` will always return a copy, validate a passed fill value
    regardless of whether there are any NAs to fill, and disallow an `NaT` as a fill
    value for numeric categories ([GH 36530](https://github.com/pandas-dev/pandas/issues/36530))'
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.fillna()` 将始终返回一个副本，无论是否有任何 NA 需要填充，都会验证传递的填充值，并且禁止将 `NaT` 用作数值类别的填充值（[GH
    36530](https://github.com/pandas-dev/pandas/issues/36530))'
- en: Bug in `Categorical.__setitem__()` that incorrectly raised when trying to set
    a tuple value ([GH 20439](https://github.com/pandas-dev/pandas/issues/20439))
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.__setitem__()` 中的错误，尝试设置元组值时错误地引发异常（[GH 20439](https://github.com/pandas-dev/pandas/issues/20439))'
- en: Bug in [`CategoricalIndex.equals()`](../reference/api/pandas.CategoricalIndex.equals.html#pandas.CategoricalIndex.equals
    "pandas.CategoricalIndex.equals") incorrectly casting non-category entries to
    `np.nan` ([GH 37667](https://github.com/pandas-dev/pandas/issues/37667))
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`CategoricalIndex.equals()`](../reference/api/pandas.CategoricalIndex.equals.html#pandas.CategoricalIndex.equals
    "pandas.CategoricalIndex.equals") 中的错误，错误地将非类别条目强制转换为 `np.nan`（[GH 37667](https://github.com/pandas-dev/pandas/issues/37667))'
- en: Bug in `CategoricalIndex.where()` incorrectly setting non-category entries to
    `np.nan` instead of raising `TypeError` ([GH 37977](https://github.com/pandas-dev/pandas/issues/37977))
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CategoricalIndex.where()` 中的错误，错误地将非类别条目设置为 `np.nan` 而不是引发 `TypeError`（[GH
    37977](https://github.com/pandas-dev/pandas/issues/37977))'
- en: Bug in `Categorical.to_numpy()` and `np.array(categorical)` with tz-aware `datetime64`
    categories incorrectly dropping the time zone information instead of casting to
    object dtype ([GH 38136](https://github.com/pandas-dev/pandas/issues/38136))
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.to_numpy()` 和 `np.array(categorical)` 中的错误，具有时区感知的 `datetime64`
    类别错误地丢弃时区信息，而不是转换为对象 dtype（[GH 38136](https://github.com/pandas-dev/pandas/issues/38136))'
- en: Datetime-like
  id: totrans-198
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 日期时间类似
- en: Bug in [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") that would convert datetime-like column on other
    [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    to integer when the column is not present in original [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 28481](https://github.com/pandas-dev/pandas/issues/28481))
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") 中的错误，当在原始 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 中不存在列时，会将其他 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 上的日期时间类似列转换为整数（[GH 28481](https://github.com/pandas-dev/pandas/issues/28481))'
- en: Bug in `DatetimeArray.date` where a `ValueError` would be raised with a read-only
    backing array ([GH 33530](https://github.com/pandas-dev/pandas/issues/33530))
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeArray.date` 中的错误，当只读备份数组引发 `ValueError` 时（[GH 33530](https://github.com/pandas-dev/pandas/issues/33530))'
- en: Bug in `NaT` comparisons failing to raise `TypeError` on invalid inequality
    comparisons ([GH 35046](https://github.com/pandas-dev/pandas/issues/35046))
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在无效的不等式比较上，`NaT` 比较失败，未引发 `TypeError` 的错误（[GH 35046](https://github.com/pandas-dev/pandas/issues/35046))
- en: Bug in [`DateOffset`](../reference/api/pandas.tseries.offsets.DateOffset.html#pandas.tseries.offsets.DateOffset
    "pandas.tseries.offsets.DateOffset") where attributes reconstructed from pickle
    files differ from original objects when input values exceed normal ranges (e.g.
    months=12) ([GH 34511](https://github.com/pandas-dev/pandas/issues/34511))
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DateOffset`](../reference/api/pandas.tseries.offsets.DateOffset.html#pandas.tseries.offsets.DateOffset
    "pandas.tseries.offsets.DateOffset") 中的错误，从 pickle 文件重新构建的属性与原始对象不同，当输入值超出正常范围时（例如，月份=12）（[GH
    34511](https://github.com/pandas-dev/pandas/issues/34511))'
- en: Bug in `DatetimeIndex.get_slice_bound()` where `datetime.date` objects were
    not accepted or naive [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") with a tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 35690](https://github.com/pandas-dev/pandas/issues/35690))
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.get_slice_bound()` 中的错误，其中不接受 `datetime.date` 对象或具有时区感知的 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 与具有时区感知的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")（[GH 35690](https://github.com/pandas-dev/pandas/issues/35690))'
- en: Bug in `DatetimeIndex.slice_locs()` where `datetime.date` objects were not accepted
    ([GH 34077](https://github.com/pandas-dev/pandas/issues/34077))
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.slice_locs()` 中的错误，其中不接受 `datetime.date` 对象（[GH 34077](https://github.com/pandas-dev/pandas/issues/34077))'
- en: Bug in `DatetimeIndex.searchsorted()`, `TimedeltaIndex.searchsorted()`, `PeriodIndex.searchsorted()`,
    and [`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted") with `datetime64`, `timedelta64` or [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") dtype placement of `NaT` values being inconsistent with NumPy
    ([GH 36176](https://github.com/pandas-dev/pandas/issues/36176), [GH 36254](https://github.com/pandas-dev/pandas/issues/36254))
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.searchsorted()`、`TimedeltaIndex.searchsorted()`、`PeriodIndex.searchsorted()`
    和 [`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted") 中的 Bug，与 NumPy 不一致地放置 `NaT` 值的 `datetime64`、`timedelta64`
    或 [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    dtype（[GH 36176](https://github.com/pandas-dev/pandas/issues/36176)，[GH 36254](https://github.com/pandas-dev/pandas/issues/36254)）'
- en: Inconsistency in [`DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray"), [`TimedeltaArray`](../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray
    "pandas.arrays.TimedeltaArray"), and [`PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray") method `__setitem__` casting arrays of strings to
    datetime-like scalars but not scalar strings ([GH 36261](https://github.com/pandas-dev/pandas/issues/36261))
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray")、[`TimedeltaArray`](../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray
    "pandas.arrays.TimedeltaArray") 和 [`PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray") 中方法 `__setitem__` 中的不一致性，将字符串数组转换为日期时间样式标量，但不转换标量字符串（[GH
    36261](https://github.com/pandas-dev/pandas/issues/36261)）'
- en: Bug in `DatetimeArray.take()` incorrectly allowing `fill_value` with a mismatched
    time zone ([GH 37356](https://github.com/pandas-dev/pandas/issues/37356))
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeArray.take()` 中的 Bug 错误地允许了带有不匹配时区的 `fill_value`（[GH 37356](https://github.com/pandas-dev/pandas/issues/37356)）'
- en: Bug in `DatetimeIndex.shift` incorrectly raising when shifting empty indexes
    ([GH 14811](https://github.com/pandas-dev/pandas/issues/14811))
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.shift` 中的 Bug 在移动空索引时错误地引发异常（[GH 14811](https://github.com/pandas-dev/pandas/issues/14811)）'
- en: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    and [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") comparisons between tz-aware and tz-naive objects now
    follow the standard library `datetime` behavior, returning `True`/`False` for
    `!=`/`==` and raising for inequality comparisons ([GH 28507](https://github.com/pandas-dev/pandas/issues/28507))'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    和 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 在时区感知和时区不感知对象之间的比较现在遵循标准库 `datetime` 行为，对于 `!=`/`==` 返回
    `True`/`False`，对于不等式比较引发异常（[GH 28507](https://github.com/pandas-dev/pandas/issues/28507)）'
- en: Bug in `DatetimeIndex.equals()` and `TimedeltaIndex.equals()` incorrectly considering
    `int64` indexes as equal ([GH 36744](https://github.com/pandas-dev/pandas/issues/36744))
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.equals()` 和 `TimedeltaIndex.equals()` 中的 Bug 错误地将 `int64` 索引视为相等（[GH
    36744](https://github.com/pandas-dev/pandas/issues/36744)）'
- en: '[`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json"), [`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json"), and [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") now implement time zone parsing when orient structure is `table`
    ([GH 35973](https://github.com/pandas-dev/pandas/issues/35973))'
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 orient 结构为 `table` 时，[`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json")、[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") 和 [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") 现在实现了时区解析（[GH 35973](https://github.com/pandas-dev/pandas/issues/35973)）
- en: '`astype()` now attempts to convert to `datetime64[ns, tz]` directly from `object`
    with inferred time zone from string ([GH 35973](https://github.com/pandas-dev/pandas/issues/35973))'
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`astype()` 现在尝试直接从推断出的字符串中的时区转换为 `datetime64[ns, tz]`（[GH 35973](https://github.com/pandas-dev/pandas/issues/35973)）'
- en: Bug in `TimedeltaIndex.sum()` and [`Series.sum()`](../reference/api/pandas.Series.sum.html#pandas.Series.sum
    "pandas.Series.sum") with `timedelta64` dtype on an empty index or series returning
    `NaT` instead of `Timedelta(0)` ([GH 31751](https://github.com/pandas-dev/pandas/issues/31751))
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`TimedeltaIndex.sum()` 和 [`Series.sum()`](../reference/api/pandas.Series.sum.html#pandas.Series.sum
    "pandas.Series.sum") 中的 Bug，在空索引或系列上返回 `NaT` 而不是 `Timedelta(0)` 的 `timedelta64`
    dtype（[GH 31751](https://github.com/pandas-dev/pandas/issues/31751)）'
- en: Bug in `DatetimeArray.shift()` incorrectly allowing `fill_value` with a mismatched
    time zone ([GH 37299](https://github.com/pandas-dev/pandas/issues/37299))
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeArray.shift()` 中的错误，错误地允许 `fill_value` 与不匹配的时区 ([GH 37299](https://github.com/pandas-dev/pandas/issues/37299))'
- en: Bug in adding a [`BusinessDay`](../reference/api/pandas.tseries.offsets.BusinessDay.html#pandas.tseries.offsets.BusinessDay
    "pandas.tseries.offsets.BusinessDay") with nonzero `offset` to a non-scalar other
    ([GH 37457](https://github.com/pandas-dev/pandas/issues/37457))
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将非零 `offset` 的 [`BusinessDay`](../reference/api/pandas.tseries.offsets.BusinessDay.html#pandas.tseries.offsets.BusinessDay
    "pandas.tseries.offsets.BusinessDay") 添加到非标量其他值中的错误 ([GH 37457](https://github.com/pandas-dev/pandas/issues/37457))
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") with a read-only array incorrectly raising ([GH 34857](https://github.com/pandas-dev/pandas/issues/34857))
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于只读数组，在 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 中错误地引发异常 ([GH 34857](https://github.com/pandas-dev/pandas/issues/34857))
- en: Bug in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") with `datetime64[ns]` dtype and `DatetimeIndex.isin()` incorrectly
    casting integers to datetimes ([GH 36621](https://github.com/pandas-dev/pandas/issues/36621))
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") 中的错误，对于 `datetime64[ns]` dtype 和 `DatetimeIndex.isin()`，错误地将整数转换为日期时间
    ([GH 36621](https://github.com/pandas-dev/pandas/issues/36621))'
- en: Bug in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") with `datetime64[ns]` dtype and `DatetimeIndex.isin()` failing
    to consider tz-aware and tz-naive datetimes as always different ([GH 35728](https://github.com/pandas-dev/pandas/issues/35728))
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") 中的错误，对于 `datetime64[ns]` dtype 和 `DatetimeIndex.isin()`，未考虑到时区感知和时区非感知的日期时间始终不同
    ([GH 35728](https://github.com/pandas-dev/pandas/issues/35728))'
- en: Bug in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") with `PeriodDtype` dtype and `PeriodIndex.isin()` failing
    to consider arguments with different `PeriodDtype` as always different ([GH 37528](https://github.com/pandas-dev/pandas/issues/37528))
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") 中的错误，对于 `PeriodDtype` dtype 和 `PeriodIndex.isin()`，未考虑到参数与不同
    `PeriodDtype` 始终不同 ([GH 37528](https://github.com/pandas-dev/pandas/issues/37528))'
- en: Bug in [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    constructor now correctly handles nanoseconds in the `value` argument ([GH 34621](https://github.com/pandas-dev/pandas/issues/34621)
    and [GH 17053](https://github.com/pandas-dev/pandas/issues/17053))
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在正确处理 `value` 参数中的纳秒的 [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") 构造函数中的错误 ([GH 34621](https://github.com/pandas-dev/pandas/issues/34621)
    和 [GH 17053](https://github.com/pandas-dev/pandas/issues/17053))
- en: Timedelta
  id: totrans-221
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时间间隔
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex"), [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series"), and [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") floor-division with `timedelta64` dtypes and `NaT` in the
    denominator ([GH 35529](https://github.com/pandas-dev/pandas/issues/35529))
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 `timedelta64` dtypes 和分母中的 `NaT`，[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")、[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 和 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 中的地板除法错误 ([GH 35529](https://github.com/pandas-dev/pandas/issues/35529))
- en: Bug in parsing of ISO 8601 durations in [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") and [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") ([GH 29773](https://github.com/pandas-dev/pandas/issues/29773),
    [GH 36204](https://github.com/pandas-dev/pandas/issues/36204))
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对 ISO 8601 时间间隔在 [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") 和 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 中的解析错误 ([GH 29773](https://github.com/pandas-dev/pandas/issues/29773),
    [GH 36204](https://github.com/pandas-dev/pandas/issues/36204))
- en: Bug in [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") with a read-only array incorrectly raising ([GH 34857](https://github.com/pandas-dev/pandas/issues/34857))
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于只读数组，在 [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") 中错误地引发异常 ([GH 34857](https://github.com/pandas-dev/pandas/issues/34857))
- en: Bug in [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") incorrectly truncating to sub-second portion of a string input
    when it has precision higher than nanoseconds ([GH 36738](https://github.com/pandas-dev/pandas/issues/36738))
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta "pandas.Timedelta")
    存在错误，在输入字符串的精度高于纳秒时，错误地截断为亚秒部分（[GH 36738](https://github.com/pandas-dev/pandas/issues/36738)）'
- en: Timezones
  id: totrans-226
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时区
- en: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") was raising `AmbiguousTimeError` for valid input with `ambiguous=False`
    ([GH 35297](https://github.com/pandas-dev/pandas/issues/35297))
  id: totrans-227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") 存在错误，在 `ambiguous=False` 的情况下，对有效输入引发 `AmbiguousTimeError`（[GH
    35297](https://github.com/pandas-dev/pandas/issues/35297)）'
- en: Bug in [`Timestamp.replace()`](../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace
    "pandas.Timestamp.replace") was losing fold information ([GH 37610](https://github.com/pandas-dev/pandas/issues/37610))
  id: totrans-228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.replace()`](../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace
    "pandas.Timestamp.replace") 存在错误，丢失了折叠信息（[GH 37610](https://github.com/pandas-dev/pandas/issues/37610)）'
- en: Numeric
  id: totrans-229
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数值
- en: Bug in [`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric") where float precision was incorrect ([GH 31364](https://github.com/pandas-dev/pandas/issues/31364))
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric") 存在错误，浮点精度不正确（[GH 31364](https://github.com/pandas-dev/pandas/issues/31364)）'
- en: Bug in [`DataFrame.any()`](../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any
    "pandas.DataFrame.any") with `axis=1` and `bool_only=True` ignoring the `bool_only`
    keyword ([GH 32432](https://github.com/pandas-dev/pandas/issues/32432))
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.any()`](../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any
    "pandas.DataFrame.any") 在 `axis=1` 和 `bool_only=True` 的情况下忽略了 `bool_only` 关键字（[GH
    32432](https://github.com/pandas-dev/pandas/issues/32432)）'
- en: Bug in [`Series.equals()`](../reference/api/pandas.Series.equals.html#pandas.Series.equals
    "pandas.Series.equals") where a `ValueError` was raised when NumPy arrays were
    compared to scalars ([GH 35267](https://github.com/pandas-dev/pandas/issues/35267))
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.equals()`](../reference/api/pandas.Series.equals.html#pandas.Series.equals
    "pandas.Series.equals") 存在错误，当将 NumPy 数组与标量进行比较时，会引发 `ValueError`（[GH 35267](https://github.com/pandas-dev/pandas/issues/35267)）'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    where two Series each have a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with different time zones having those indexes incorrectly
    changed when performing arithmetic operations ([GH 33671](https://github.com/pandas-dev/pandas/issues/33671))
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    存在错误，当两个具有不同时区的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 的 Series 进行算术运算时，这些索引会错误地更改（[GH 33671](https://github.com/pandas-dev/pandas/issues/33671)）'
- en: Bug in `pandas.testing` module functions when used with `check_exact=False`
    on complex numeric types ([GH 28235](https://github.com/pandas-dev/pandas/issues/28235))
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `pandas.testing` 模块函数时，当在复杂数值类型上使用 `check_exact=False` 时存在问题（[GH 28235](https://github.com/pandas-dev/pandas/issues/28235)）
- en: Bug in `DataFrame.__rmatmul__()` error handling reporting transposed shapes
    ([GH 21581](https://github.com/pandas-dev/pandas/issues/21581))
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.__rmatmul__()` 存在错误处理，报告了转置形状的问题（[GH 21581](https://github.com/pandas-dev/pandas/issues/21581)）'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    flex arithmetic methods where the result when operating with a `list`, `tuple`
    or `np.ndarray` would have an incorrect name ([GH 36760](https://github.com/pandas-dev/pandas/issues/36760))
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    的灵活算术方法存在错误，当与 `list`、`tuple` 或 `np.ndarray` 进行操作时，结果的名称会不正确（[GH 36760](https://github.com/pandas-dev/pandas/issues/36760)）'
- en: Bug in [`IntegerArray`](../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray
    "pandas.arrays.IntegerArray") multiplication with `timedelta` and `np.timedelta64`
    objects ([GH 36870](https://github.com/pandas-dev/pandas/issues/36870))
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntegerArray`](../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray
    "pandas.arrays.IntegerArray") 的乘法存在错误，与 `timedelta` 和 `np.timedelta64` 对象相乘时出现问题（[GH
    36870](https://github.com/pandas-dev/pandas/issues/36870)）'
- en: Bug in [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") comparison with tuple incorrectly treating tuple as array-like
    ([GH 21517](https://github.com/pandas-dev/pandas/issues/21517))
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    与元组比较时存在错误，错误地将元组视为类似数组（[GH 21517](https://github.com/pandas-dev/pandas/issues/21517)）'
- en: Bug in [`DataFrame.diff()`](../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff
    "pandas.DataFrame.diff") with `datetime64` dtypes including `NaT` values failing
    to fill `NaT` results correctly ([GH 32441](https://github.com/pandas-dev/pandas/issues/32441))
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.diff()`](../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff
    "pandas.DataFrame.diff") 在包含 `NaT` 值的 `datetime64` 数据类型时未能正确填充 `NaT` 结果的错误（[GH
    32441](https://github.com/pandas-dev/pandas/issues/32441)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") arithmetic ops incorrectly accepting keyword arguments ([GH
    36843](https://github.com/pandas-dev/pandas/issues/36843))
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    算术运算中的错误接受关键字参数（[GH 36843](https://github.com/pandas-dev/pandas/issues/36843)）'
- en: Bug in [`IntervalArray`](../reference/api/pandas.arrays.IntervalArray.html#pandas.arrays.IntervalArray
    "pandas.arrays.IntervalArray") comparisons with [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") not returning Series ([GH 36908](https://github.com/pandas-dev/pandas/issues/36908))
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalArray`](../reference/api/pandas.arrays.IntervalArray.html#pandas.arrays.IntervalArray
    "pandas.arrays.IntervalArray") 与 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 的比较不返回 Series 的错误（[GH 36908](https://github.com/pandas-dev/pandas/issues/36908)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") allowing arithmetic operations with list of array-likes with
    undefined results. Behavior changed to raising `ValueError` ([GH 36702](https://github.com/pandas-dev/pandas/issues/36702))
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    允许与未定义结果的数组列表进行算术操作的错误。行为更改为引发 `ValueError`（[GH 36702](https://github.com/pandas-dev/pandas/issues/36702)）'
- en: Bug in [`DataFrame.std()`](../reference/api/pandas.DataFrame.std.html#pandas.DataFrame.std
    "pandas.DataFrame.std") with `timedelta64` dtype and `skipna=False` ([GH 37392](https://github.com/pandas-dev/pandas/issues/37392))
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.std()`](../reference/api/pandas.DataFrame.std.html#pandas.DataFrame.std
    "pandas.DataFrame.std") 在 `timedelta64` 数据类型和 `skipna=False` 时的错误（[GH 37392](https://github.com/pandas-dev/pandas/issues/37392)）'
- en: Bug in [`DataFrame.min()`](../reference/api/pandas.DataFrame.min.html#pandas.DataFrame.min
    "pandas.DataFrame.min") and [`DataFrame.max()`](../reference/api/pandas.DataFrame.max.html#pandas.DataFrame.max
    "pandas.DataFrame.max") with `datetime64` dtype and `skipna=False` ([GH 36907](https://github.com/pandas-dev/pandas/issues/36907))
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.min()`](../reference/api/pandas.DataFrame.min.html#pandas.DataFrame.min
    "pandas.DataFrame.min") 和 [`DataFrame.max()`](../reference/api/pandas.DataFrame.max.html#pandas.DataFrame.max
    "pandas.DataFrame.max") 在 `datetime64` 数据类型和 `skipna=False` 时的错误（[GH 36907](https://github.com/pandas-dev/pandas/issues/36907)）'
- en: Bug in [`DataFrame.idxmax()`](../reference/api/pandas.DataFrame.idxmax.html#pandas.DataFrame.idxmax
    "pandas.DataFrame.idxmax") and [`DataFrame.idxmin()`](../reference/api/pandas.DataFrame.idxmin.html#pandas.DataFrame.idxmin
    "pandas.DataFrame.idxmin") with mixed dtypes incorrectly raising `TypeError` ([GH
    38195](https://github.com/pandas-dev/pandas/issues/38195))
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.idxmax()`](../reference/api/pandas.DataFrame.idxmax.html#pandas.DataFrame.idxmax
    "pandas.DataFrame.idxmax") 和 [`DataFrame.idxmin()`](../reference/api/pandas.DataFrame.idxmin.html#pandas.DataFrame.idxmin
    "pandas.DataFrame.idxmin") 混合数据类型时错误地引发 `TypeError`（[GH 38195](https://github.com/pandas-dev/pandas/issues/38195)）'
- en: Conversion
  id: totrans-246
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 转换
- en: Bug in [`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") with `orient='records'` now returns python native
    datetime objects for datetime-like columns ([GH 21256](https://github.com/pandas-dev/pandas/issues/21256))
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") 在 `orient=''records''` 时返回具有 python 原生日期时间对象的日期时间列的错误（[GH
    21256](https://github.com/pandas-dev/pandas/issues/21256)）'
- en: Bug in [`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") conversion from `string` to `float` raised in presence
    of `pd.NA` values ([GH 37626](https://github.com/pandas-dev/pandas/issues/37626))
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") 从 `string` 转换为 `float` 时在存在 `pd.NA` 值时引发错误（[GH 37626](https://github.com/pandas-dev/pandas/issues/37626)）'
- en: Strings
  id: totrans-249
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 字符串
- en: Bug in [`Series.to_string()`](../reference/api/pandas.Series.to_string.html#pandas.Series.to_string
    "pandas.Series.to_string"), [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string"), and [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") adding a leading space when `index=False` ([GH 24980](https://github.com/pandas-dev/pandas/issues/24980))
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.to_string()`](../reference/api/pandas.Series.to_string.html#pandas.Series.to_string
    "pandas.Series.to_string")、[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") 和 [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") 中的错误，在 `index=False` 时添加一个前导空格（[GH 24980](https://github.com/pandas-dev/pandas/issues/24980)）'
- en: Bug in [`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric") raising a `TypeError` when attempting to convert a string
    dtype Series containing only numeric strings and `NA` ([GH 37262](https://github.com/pandas-dev/pandas/issues/37262))
  id: totrans-251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric") 中的错误，在尝试转换仅包含数字字符串和 `NA` 的字符串 dtype Series 时引发 `TypeError`（[GH
    37262](https://github.com/pandas-dev/pandas/issues/37262)）'
- en: Interval
  id: totrans-252
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 区间
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") and [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") where [`Interval`](../reference/api/pandas.Interval.html#pandas.Interval
    "pandas.Interval") dtypes would be converted to object dtypes ([GH 34871](https://github.com/pandas-dev/pandas/issues/34871))
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 和 [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 中的错误，会将 [`Interval`](../reference/api/pandas.Interval.html#pandas.Interval
    "pandas.Interval") 的 dtype 转换为 object dtype（[GH 34871](https://github.com/pandas-dev/pandas/issues/34871)）'
- en: Bug in `IntervalIndex.take()` with negative indices and `fill_value=None` ([GH
    37330](https://github.com/pandas-dev/pandas/issues/37330))
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.take()` 中的错误，带有负索引和 `fill_value=None`（[GH 37330](https://github.com/pandas-dev/pandas/issues/37330)）'
- en: Bug in `IntervalIndex.putmask()` with datetime-like dtype incorrectly casting
    to object dtype ([GH 37968](https://github.com/pandas-dev/pandas/issues/37968))
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.putmask()` 中的错误，带有 datetime-like dtype，错误地转换为 object dtype（[GH
    37968](https://github.com/pandas-dev/pandas/issues/37968)）'
- en: Bug in `IntervalArray.astype()` incorrectly dropping dtype information with
    a [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") object ([GH 37984](https://github.com/pandas-dev/pandas/issues/37984))
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalArray.astype()` 中的错误会错误地丢弃带有 [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") 对象的 dtype 信息（[GH 37984](https://github.com/pandas-dev/pandas/issues/37984)）'
- en: Indexing
  id: totrans-257
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 索引
- en: Bug in `PeriodIndex.get_loc()` incorrectly raising `ValueError` on non-datelike
    strings instead of `KeyError`, causing similar errors in `Series.__getitem__()`,
    `Series.__contains__()`, and `Series.loc.__getitem__()` ([GH 34240](https://github.com/pandas-dev/pandas/issues/34240))
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PeriodIndex.get_loc()` 中的错误会错误地引发 `ValueError`，而不是 `KeyError`，导致 `Series.__getitem__()`、`Series.__contains__()`
    和 `Series.loc.__getitem__()` 中出现类似的错误（[GH 34240](https://github.com/pandas-dev/pandas/issues/34240)）'
- en: Bug in [`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values") where, when empty values were passed, the method would
    break by trying to compare missing values instead of pushing them to the end of
    the sort order ([GH 35584](https://github.com/pandas-dev/pandas/issues/35584))
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values") 中的错误，在传递空值时，该方法会尝试比较缺失值，而不是将它们推到排序顺序的末尾，导致方法中断（[GH
    35584](https://github.com/pandas-dev/pandas/issues/35584)）'
- en: Bug in [`Index.get_indexer()`](../reference/api/pandas.Index.get_indexer.html#pandas.Index.get_indexer
    "pandas.Index.get_indexer") and [`Index.get_indexer_non_unique()`](../reference/api/pandas.Index.get_indexer_non_unique.html#pandas.Index.get_indexer_non_unique
    "pandas.Index.get_indexer_non_unique") where `int64` arrays are returned instead
    of `intp` ([GH 36359](https://github.com/pandas-dev/pandas/issues/36359))
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.get_indexer()`](../reference/api/pandas.Index.get_indexer.html#pandas.Index.get_indexer
    "pandas.Index.get_indexer") 和 [`Index.get_indexer_non_unique()`](../reference/api/pandas.Index.get_indexer_non_unique.html#pandas.Index.get_indexer_non_unique
    "pandas.Index.get_indexer_non_unique") 中的错误，会返回 `int64` 数组，而不是 `intp`（[GH 36359](https://github.com/pandas-dev/pandas/issues/36359)）'
- en: Bug in [`DataFrame.sort_index()`](../reference/api/pandas.DataFrame.sort_index.html#pandas.DataFrame.sort_index
    "pandas.DataFrame.sort_index") where parameter ascending passed as a list on a
    single level index gives wrong result ([GH 32334](https://github.com/pandas-dev/pandas/issues/32334))
  id: totrans-261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在单个级别索引上将参数`ascending`作为列表传递给[`DataFrame.sort_index()`](../reference/api/pandas.DataFrame.sort_index.html#pandas.DataFrame.sort_index
    "pandas.DataFrame.sort_index")会导致错误的结果（[GH 32334](https://github.com/pandas-dev/pandas/issues/32334))
- en: Bug in [`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") was incorrectly raising a `ValueError` for input
    with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") with missing values in a level with `Categorical` dtype ([GH
    24206](https://github.com/pandas-dev/pandas/issues/24206))
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index")中的错误错误地对具有`Categorical` dtype的级别中的缺失值的具有[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")的输入引发了`ValueError`（[GH 24206](https://github.com/pandas-dev/pandas/issues/24206))'
- en: Bug in indexing with boolean masks on datetime-like values sometimes returning
    a view instead of a copy ([GH 36210](https://github.com/pandas-dev/pandas/issues/36210))
  id: totrans-263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在日期时间类值上使用布尔掩码进行索引时，有时会返回视图而不是副本的错误（[GH 36210](https://github.com/pandas-dev/pandas/issues/36210))
- en: Bug in `DataFrame.__getitem__()` and `DataFrame.loc.__getitem__()` with [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") columns and a numeric indexer ([GH 26490](https://github.com/pandas-dev/pandas/issues/26490))
  id: totrans-264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当具有数值索引器的[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")列时，`DataFrame.__getitem__()`和`DataFrame.loc.__getitem__()`中的错误（[GH
    26490](https://github.com/pandas-dev/pandas/issues/26490))
- en: Bug in `Series.loc.__getitem__()` with a non-unique [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") and an empty-list indexer ([GH 13691](https://github.com/pandas-dev/pandas/issues/13691))
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有非唯一的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")和空列表索引器的`Series.loc.__getitem__()`中的错误（[GH 13691](https://github.com/pandas-dev/pandas/issues/13691))
- en: Bug in indexing on a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") and a level named `"0"` ([GH 37194](https://github.com/pandas-dev/pandas/issues/37194))
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 索引中的错误在具有名为`"0"`的级别的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")或[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")上，且一个[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")（[GH 37194](https://github.com/pandas-dev/pandas/issues/37194))
- en: Bug in `Series.__getitem__()` when using an unsigned integer array as an indexer
    giving incorrect results or segfaulting instead of raising `KeyError` ([GH 37218](https://github.com/pandas-dev/pandas/issues/37218))
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用无符号整数数组作为索引器时，`Series.__getitem__()`中的错误导致错误的结果或导致`KeyError`而不是分段（[GH 37218](https://github.com/pandas-dev/pandas/issues/37218))
- en: Bug in [`Index.where()`](../reference/api/pandas.Index.where.html#pandas.Index.where
    "pandas.Index.where") incorrectly casting numeric values to strings ([GH 37591](https://github.com/pandas-dev/pandas/issues/37591))
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.where()`](../reference/api/pandas.Index.where.html#pandas.Index.where
    "pandas.Index.where")中的错误将数值错误地转换为字符串（[GH 37591](https://github.com/pandas-dev/pandas/issues/37591))'
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") returning empty result when indexer is a slice with negative
    step size ([GH 38071](https://github.com/pandas-dev/pandas/issues/38071))
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引器是具有负步长的切片时，[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc")中的错误返回空结果（[GH 38071](https://github.com/pandas-dev/pandas/issues/38071))
- en: Bug in [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") and [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") raises when the index was of `object` dtype and the given
    numeric label was in the index ([GH 26491](https://github.com/pandas-dev/pandas/issues/26491))
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引是`object` dtype并且给定的数值标签在索引中时，[`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc")和[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc")中的错误会引发（[GH 26491](https://github.com/pandas-dev/pandas/issues/26491))
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") returned requested key plus missing values when `loc`
    was applied to single level from a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 27104](https://github.com/pandas-dev/pandas/issues/27104))
  id: totrans-271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc")中的错误，在将`loc`应用于来自[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")的单个级别时，返回请求的键加上缺失值（[GH 27104](https://github.com/pandas-dev/pandas/issues/27104))
- en: Bug in indexing on a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") using a list-like indexer containing NA values ([GH
    37722](https://github.com/pandas-dev/pandas/issues/37722))
  id: totrans-272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用包含NA值的列表样式索引器对具有[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")或[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")进行索引时出现错误（[GH 37722](https://github.com/pandas-dev/pandas/issues/37722))
- en: Bug in `DataFrame.loc.__setitem__()` expanding an empty [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with mixed dtypes ([GH 37932](https://github.com/pandas-dev/pandas/issues/37932))
  id: totrans-273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrame.loc.__setitem__()`中的错误，扩展具有混合数据类型的空[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")（[GH 37932](https://github.com/pandas-dev/pandas/issues/37932))
- en: Bug in [`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs") ignored `droplevel=False` for columns ([GH 19056](https://github.com/pandas-dev/pandas/issues/19056))
  id: totrans-274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs")中的错误，对列忽略了`droplevel=False`（[GH 19056](https://github.com/pandas-dev/pandas/issues/19056))
- en: Bug in [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") raising `IndexingError` wrongly for empty DataFrame
    with `tolerance` not `None` or `method="nearest"` ([GH 27315](https://github.com/pandas-dev/pandas/issues/27315))
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex")中的错误，对于带有`tolerance`而不是`None`或`method="nearest"`的空DataFrame错误地引发`IndexingError`（[GH
    27315](https://github.com/pandas-dev/pandas/issues/27315))
- en: Bug in indexing on a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") using list-like indexer that contains elements that
    are in the index’s `categories` but not in the index itself failing to raise `KeyError`
    ([GH 37901](https://github.com/pandas-dev/pandas/issues/37901))
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用包含在索引的`categories`中但不在索引本身中的元素的列表样式索引器对具有[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")或[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")进行索引时出现错误，未能引发`KeyError`（[GH 37901](https://github.com/pandas-dev/pandas/issues/37901))
- en: Bug on inserting a boolean label into a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a numeric [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") columns incorrectly casting to integer ([GH 36319](https://github.com/pandas-dev/pandas/issues/36319))
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将布尔标签插入到具有数值[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")列的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")中的错误，错误地转换为整数（[GH 36319](https://github.com/pandas-dev/pandas/issues/36319))
- en: Bug in [`DataFrame.iloc()`](../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc
    "pandas.DataFrame.iloc") and [`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") aligning objects in `__setitem__` ([GH 22046](https://github.com/pandas-dev/pandas/issues/22046))
  id: totrans-278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.iloc()`](../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc
    "pandas.DataFrame.iloc")和[`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc")中的错误，在`__setitem__`中对齐对象（[GH 22046](https://github.com/pandas-dev/pandas/issues/22046))
- en: Bug in [`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop") does not raise if labels are partially found ([GH 37820](https://github.com/pandas-dev/pandas/issues/37820))
  id: totrans-279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop")中的错误，如果部分找到标签，则不会引发错误（[GH 37820](https://github.com/pandas-dev/pandas/issues/37820))
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") did not raise `KeyError` when missing combination was
    given with `slice(None)` for remaining levels ([GH 19556](https://github.com/pandas-dev/pandas/issues/19556))
  id: totrans-280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当给定 `slice(None)` 用于剩余级别的缺失组合时，[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 未引发 `KeyError` 的错误（[GH 19556](https://github.com/pandas-dev/pandas/issues/19556))
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") raising `TypeError` when non-integer slice was given to
    select values from [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 25165](https://github.com/pandas-dev/pandas/issues/25165),
    [GH 24263](https://github.com/pandas-dev/pandas/issues/24263))
  id: totrans-281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当给定非整数切片以从 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 中选择值时，[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 引发 `TypeError` 的错误（[GH 25165](https://github.com/pandas-dev/pandas/issues/25165),
    [GH 24263](https://github.com/pandas-dev/pandas/issues/24263))
- en: Bug in [`Series.at()`](../reference/api/pandas.Series.at.html#pandas.Series.at
    "pandas.Series.at") returning [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with one element instead of scalar when index is a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") with one level ([GH 38053](https://github.com/pandas-dev/pandas/issues/38053))
  id: totrans-282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引是具有一个级别的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 时，[`Series.at()`](../reference/api/pandas.Series.at.html#pandas.Series.at
    "pandas.Series.at") 返回具有一个元素而不是标量的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 的错误（[GH 38053](https://github.com/pandas-dev/pandas/issues/38053))
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") returning and assigning elements in wrong order when indexer
    is differently ordered than the [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") to filter ([GH 31330](https://github.com/pandas-dev/pandas/issues/31330),
    [GH 34603](https://github.com/pandas-dev/pandas/issues/34603))
  id: totrans-283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引器与要过滤的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 顺序不同时，[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 返回和分配元素的顺序错误（[GH 31330](https://github.com/pandas-dev/pandas/issues/31330),
    [GH 34603](https://github.com/pandas-dev/pandas/issues/34603))
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") and `DataFrame.__getitem__()` raising `KeyError` when
    columns were [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") with only one level ([GH 29749](https://github.com/pandas-dev/pandas/issues/29749))
  id: totrans-284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 和 `DataFrame.__getitem__()` 在仅具有一个级别的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 列时引发 `KeyError` 的错误（[GH 29749](https://github.com/pandas-dev/pandas/issues/29749))'
- en: Bug in `Series.__getitem__()` and `DataFrame.__getitem__()` raising blank `KeyError`
    without missing keys for [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") ([GH 27365](https://github.com/pandas-dev/pandas/issues/27365))
  id: totrans-285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在没有缺失键的情况下，[`Series.__getitem__()` 和 `DataFrame.__getitem__()` 在 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 上引发空白 `KeyError` 的错误（[GH 27365](https://github.com/pandas-dev/pandas/issues/27365))
- en: Bug in setting a new label on a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") incorrectly raising `TypeError` when the new label
    is not among the index’s categories ([GH 38098](https://github.com/pandas-dev/pandas/issues/38098))
  id: totrans-286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在具有 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 或 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 上设置新标签时，如果新标签不在索引的类别中，则错误地引发 `TypeError`（[GH 38098](https://github.com/pandas-dev/pandas/issues/38098))
- en: Bug in [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") and [`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") raising `ValueError` when inserting a list-like `np.array`,
    `list` or `tuple` in an `object` Series of equal length ([GH 37748](https://github.com/pandas-dev/pandas/issues/37748),
    [GH 37486](https://github.com/pandas-dev/pandas/issues/37486))
  id: totrans-287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Series.loc()` 和 `Series.iloc()` 中，当在长度相等的 `object` Series 中插入类似于列表的 `np.array`、`list`
    或 `tuple` 时引发 `ValueError` ([GH 37748](https://github.com/pandas-dev/pandas/issues/37748),
    [GH 37486](https://github.com/pandas-dev/pandas/issues/37486))
- en: Bug in [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") and [`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") setting all the values of an `object` Series with those
    of a list-like `ExtensionArray` instead of inserting it ([GH 38271](https://github.com/pandas-dev/pandas/issues/38271))
  id: totrans-288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") 和 [`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") 中的错误，将 `object` Series 的所有值设置为列表形式的 `ExtensionArray` 的值，而不是将其插入
    ([GH 38271](https://github.com/pandas-dev/pandas/issues/38271))'
- en: Missing
  id: totrans-289
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 缺失
- en: Bug in [`SeriesGroupBy.transform()`](../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform
    "pandas.core.groupby.SeriesGroupBy.transform") now correctly handles missing values
    for `dropna=False` ([GH 35014](https://github.com/pandas-dev/pandas/issues/35014))
  id: totrans-290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`SeriesGroupBy.transform()`](../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform
    "pandas.core.groupby.SeriesGroupBy.transform") 中的错误现在正确处理了 `dropna=False` 时的缺失值
    ([GH 35014](https://github.com/pandas-dev/pandas/issues/35014))'
- en: Bug in [`Series.nunique()`](../reference/api/pandas.Series.nunique.html#pandas.Series.nunique
    "pandas.Series.nunique") with `dropna=True` was returning incorrect results when
    both `NA` and `None` missing values were present ([GH 37566](https://github.com/pandas-dev/pandas/issues/37566))
  id: totrans-291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.nunique()`](../reference/api/pandas.Series.nunique.html#pandas.Series.nunique
    "pandas.Series.nunique") 中的错误，当存在 `NA` 和 `None` 缺失值时，使用 `dropna=True` 返回了不正确的结果
    ([GH 37566](https://github.com/pandas-dev/pandas/issues/37566))'
- en: Bug in [`Series.interpolate()`](../reference/api/pandas.Series.interpolate.html#pandas.Series.interpolate
    "pandas.Series.interpolate") where kwarg `limit_area` and `limit_direction` had
    no effect when using methods `pad` and `backfill` ([GH 31048](https://github.com/pandas-dev/pandas/issues/31048))
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.interpolate()`](../reference/api/pandas.Series.interpolate.html#pandas.Series.interpolate
    "pandas.Series.interpolate") 中的错误，当使用 `pad` 和 `backfill` 方法时，kwarg `limit_area`
    和 `limit_direction` 没有效果 ([GH 31048](https://github.com/pandas-dev/pandas/issues/31048))'
- en: MultiIndex
  id: totrans-293
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: MultiIndex
- en: Bug in [`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs") when used with [`IndexSlice`](../reference/api/pandas.IndexSlice.html#pandas.IndexSlice
    "pandas.IndexSlice") raises `TypeError` with message `"Expected label or tuple
    of labels"` ([GH 35301](https://github.com/pandas-dev/pandas/issues/35301))
  id: totrans-294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs") 中的错误，当与 [`IndexSlice`](../reference/api/pandas.IndexSlice.html#pandas.IndexSlice
    "pandas.IndexSlice") 一起使用时，引发 `TypeError`，消息为 `"Expected label or tuple of labels"`
    ([GH 35301](https://github.com/pandas-dev/pandas/issues/35301))'
- en: Bug in [`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") with `NaT` values in index raises `ValueError`
    with message `"cannot convert float NaN to integer"` ([GH 36541](https://github.com/pandas-dev/pandas/issues/36541))
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") 中的错误，当索引中存在 `NaT` 值时，引发 `ValueError`，消息为 `"cannot
    convert float NaN to integer"` ([GH 36541](https://github.com/pandas-dev/pandas/issues/36541))'
- en: Bug in [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") when used with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") containing string and `NaN` values raises `TypeError` ([GH
    36562](https://github.com/pandas-dev/pandas/issues/36562))
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") 中的错误，当与包含字符串和 `NaN` 值的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 一起使用时，引发 `TypeError` ([GH 36562](https://github.com/pandas-dev/pandas/issues/36562))'
- en: Bug in [`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop") dropped `NaN` values when non existing key was given
    as input ([GH 18853](https://github.com/pandas-dev/pandas/issues/18853))
  id: totrans-297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop") 存在问题，当输入不存在的键时丢弃了 `NaN` 值（[GH 18853](https://github.com/pandas-dev/pandas/issues/18853))'
- en: Bug in [`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop") dropping more values than expected when index has duplicates
    and is not sorted ([GH 33494](https://github.com/pandas-dev/pandas/issues/33494))
  id: totrans-298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop") 在索引存在重复且未排序的情况下，丢弃了比预期更多的值（[GH 33494](https://github.com/pandas-dev/pandas/issues/33494))'
- en: I/O
  id: totrans-299
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: I/O
- en: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    no longer leaks resources on failure ([GH 35566](https://github.com/pandas-dev/pandas/issues/35566))'
  id: totrans-300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    在失败时不再存在资源泄漏问题（[GH 35566](https://github.com/pandas-dev/pandas/issues/35566))'
- en: Bug in [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") and [`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv") caused a `ValueError` when it was called with a filename
    in combination with `mode` containing a `b` ([GH 35058](https://github.com/pandas-dev/pandas/issues/35058))
  id: totrans-301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") 和 [`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv") 存在问题，当以带有 `b` 的 `mode` 和文件名的形式调用时，会引发 `ValueError` 错误（[GH
    35058](https://github.com/pandas-dev/pandas/issues/35058))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") with `float_precision='round_trip'` did not handle `decimal`
    and `thousands` parameters ([GH 35365](https://github.com/pandas-dev/pandas/issues/35365))
  id: totrans-302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `float_precision='round_trip'` 的情况下，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 存在问题，无法处理 `decimal` 和 `thousands` 参数（[GH 35365](https://github.com/pandas-dev/pandas/issues/35365))
- en: '`to_pickle()` and [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") were closing user-provided file objects ([GH 35679](https://github.com/pandas-dev/pandas/issues/35679))'
  id: totrans-303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_pickle()` 和 [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") 在关闭用户提供的文件对象时出现了问题（[GH 35679](https://github.com/pandas-dev/pandas/issues/35679))'
- en: '`to_csv()` passes compression arguments for `''gzip''` always to `gzip.GzipFile`
    ([GH 28103](https://github.com/pandas-dev/pandas/issues/28103))'
  id: totrans-304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_csv()` 总是将 `''gzip''` 的压缩参数传递给 `gzip.GzipFile`（[GH 28103](https://github.com/pandas-dev/pandas/issues/28103))'
- en: '`to_csv()` did not support zip compression for binary file object not having
    a filename ([GH 35058](https://github.com/pandas-dev/pandas/issues/35058))'
  id: totrans-305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_csv()` 不支持对没有文件名的二进制文件对象进行 zip 压缩（[GH 35058](https://github.com/pandas-dev/pandas/issues/35058))'
- en: '`to_csv()` and [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") did not honor `compression` and `encoding` for path-like objects
    that are internally converted to file-like objects ([GH 35677](https://github.com/pandas-dev/pandas/issues/35677),
    [GH 26124](https://github.com/pandas-dev/pandas/issues/26124), [GH 32392](https://github.com/pandas-dev/pandas/issues/32392))'
  id: totrans-306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_csv()` 和 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 对于内部转换为文件对象的路径对象不遵守 `compression` 和 `encoding` 参数（[GH 35677](https://github.com/pandas-dev/pandas/issues/35677),
    [GH 26124](https://github.com/pandas-dev/pandas/issues/26124), [GH 32392](https://github.com/pandas-dev/pandas/issues/32392))'
- en: '[`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle"), [`Series.to_pickle()`](../reference/api/pandas.Series.to_pickle.html#pandas.Series.to_pickle
    "pandas.Series.to_pickle"), and [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") did not support compression for file-objects ([GH 26237](https://github.com/pandas-dev/pandas/issues/26237),
    [GH 29054](https://github.com/pandas-dev/pandas/issues/29054), [GH 29570](https://github.com/pandas-dev/pandas/issues/29570))'
  id: totrans-307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle"), [`Series.to_pickle()`](../reference/api/pandas.Series.to_pickle.html#pandas.Series.to_pickle
    "pandas.Series.to_pickle") 和 [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") 不支持对文件对象进行压缩（[GH 26237](https://github.com/pandas-dev/pandas/issues/26237),
    [GH 29054](https://github.com/pandas-dev/pandas/issues/29054), [GH 29570](https://github.com/pandas-dev/pandas/issues/29570))'
- en: Bug in `LongTableBuilder.middle_separator()` was duplicating LaTeX longtable
    entries in the List of Tables of a LaTeX document ([GH 34360](https://github.com/pandas-dev/pandas/issues/34360))
  id: totrans-308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`LongTableBuilder.middle_separator()`](../reference/api/pandas.LongTableBuilder.middle_separator.html#pandas.LongTableBuilder.middle_separator)
    中存在 bug，复制了 LaTeX 文档中表格的条目 ([GH 34360](https://github.com/pandas-dev/pandas/issues/34360))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") with `engine='python'` truncating data if multiple items present
    in first row and first element started with BOM ([GH 36343](https://github.com/pandas-dev/pandas/issues/36343))
  id: totrans-309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`engine='python'`且第一行存在多个项，并且第一个元素以 BOM 开头时，在 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中存在 bug，数据被截断（[GH 36343](https://github.com/pandas-dev/pandas/issues/36343))
- en: Removed `private_key` and `verbose` from [`read_gbq()`](../reference/api/pandas.read_gbq.html#pandas.read_gbq
    "pandas.read_gbq") as they are no longer supported in `pandas-gbq` ([GH 34654](https://github.com/pandas-dev/pandas/issues/34654),
    [GH 30200](https://github.com/pandas-dev/pandas/issues/30200))
  id: totrans-310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 [`read_gbq()`](../reference/api/pandas.read_gbq.html#pandas.read_gbq "pandas.read_gbq")中移除了
    `private_key` 和 `verbose`，因为它们在 `pandas-gbq` 中不再支持（[GH 34654](https://github.com/pandas-dev/pandas/issues/34654),
    [GH 30200](https://github.com/pandas-dev/pandas/issues/30200))
- en: Bumped minimum pytables version to 3.5.1 to avoid a `ValueError` in [`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf
    "pandas.read_hdf") ([GH 24839](https://github.com/pandas-dev/pandas/issues/24839))
  id: totrans-311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将最小的 pytables 版本升级至 3.5.1，以避免在 [`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf
    "pandas.read_hdf") 中出现 `ValueError`（[GH 24839](https://github.com/pandas-dev/pandas/issues/24839))
- en: Bug in [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") and [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") when `delim_whitespace=True` and `sep=default` ([GH 36583](https://github.com/pandas-dev/pandas/issues/36583))
  id: totrans-312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`delim_whitespace=True`且`sep=default`时，在[`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table")和[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")中存在 bug ([GH 36583](https://github.com/pandas-dev/pandas/issues/36583))
- en: Bug in [`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") and [`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") when used with `lines=True` and `orient='records'` the
    last line of the record is not appended with ‘new line character’ ([GH 36888](https://github.com/pandas-dev/pandas/issues/36888))
  id: totrans-313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用`lines=True`和`orient='records'`时，[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json")和[`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json")存在 bug，最后一行记录没有添加‘换行字符’（[GH 36888](https://github.com/pandas-dev/pandas/issues/36888)）
- en: Bug in [`read_parquet()`](../reference/api/pandas.read_parquet.html#pandas.read_parquet
    "pandas.read_parquet") with fixed offset time zones. String representation of
    time zones was not recognized ([GH 35997](https://github.com/pandas-dev/pandas/issues/35997),
    [GH 36004](https://github.com/pandas-dev/pandas/issues/36004))
  id: totrans-314
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在固定偏移时区的情况下，[`read_parquet()`](../reference/api/pandas.read_parquet.html#pandas.read_parquet
    "pandas.read_parquet")存在 bug。时区的字符串表示未被识别（[GH 35997](https://github.com/pandas-dev/pandas/issues/35997),
    [GH 36004](https://github.com/pandas-dev/pandas/issues/36004))
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html"), [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string"), and [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") ignoring the `na_rep` argument when `float_format`
    was also specified ([GH 9046](https://github.com/pandas-dev/pandas/issues/9046),
    [GH 13828](https://github.com/pandas-dev/pandas/issues/13828))
  id: totrans-315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`float_format`也被指定时，[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html")、[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string")和[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex")忽略了`na_rep`参数的 bug ([GH 9046](https://github.com/pandas-dev/pandas/issues/9046),
    [GH 13828](https://github.com/pandas-dev/pandas/issues/13828))
- en: Bug in output rendering of complex numbers showing too many trailing zeros ([GH
    36799](https://github.com/pandas-dev/pandas/issues/36799))
  id: totrans-316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在复数的输出渲染中存在 bug，显示了过多的尾随零（[GH 36799](https://github.com/pandas-dev/pandas/issues/36799))
- en: Bug in `HDFStore` threw a `TypeError` when exporting an empty DataFrame with
    `datetime64[ns, tz]` dtypes with a fixed HDF5 store ([GH 20594](https://github.com/pandas-dev/pandas/issues/20594))
  id: totrans-317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用固定的 HDF5 存储时，当导出空 DataFrame 且包含 `datetime64[ns, tz]` 数据类型时，`HDFStore` 中存在
    bug，会抛出 `TypeError` ([GH 20594](https://github.com/pandas-dev/pandas/issues/20594))
- en: Bug in `HDFStore` was dropping time zone information when exporting a Series
    with `datetime64[ns, tz]` dtypes with a fixed HDF5 store ([GH 20594](https://github.com/pandas-dev/pandas/issues/20594))
  id: totrans-318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用固定的HDF5存储导出具有`datetime64[ns, tz]` dtypes的Series时，`HDFStore`中的错误会丢失时区信息（[GH
    20594](https://github.com/pandas-dev/pandas/issues/20594)）
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    was closing user-provided binary file handles when `engine="c"` and an `encoding`
    was requested ([GH 36980](https://github.com/pandas-dev/pandas/issues/36980))'
  id: totrans-319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`engine="c"`并且请求了`encoding`时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")在关闭用户提供的二进制文件句柄时出现错误（[GH 36980](https://github.com/pandas-dev/pandas/issues/36980)）
- en: Bug in [`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf") was not dropping missing rows with `dropna=True` ([GH
    35719](https://github.com/pandas-dev/pandas/issues/35719))
  id: totrans-320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`dropna=True`时，[`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf")中的错误未删除缺失的行（[GH 35719](https://github.com/pandas-dev/pandas/issues/35719)）
- en: Bug in [`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html
    "pandas.read_html") was raising a `TypeError` when supplying a `pathlib.Path`
    argument to the `io` parameter ([GH 37705](https://github.com/pandas-dev/pandas/issues/37705))
  id: totrans-321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")在将`pathlib.Path`参数提供给`io`参数时引发`TypeError`错误（[GH
    37705](https://github.com/pandas-dev/pandas/issues/37705)）'
- en: '[`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel"), [`Series.to_excel()`](../reference/api/pandas.Series.to_excel.html#pandas.Series.to_excel
    "pandas.Series.to_excel"), [`DataFrame.to_markdown()`](../reference/api/pandas.DataFrame.to_markdown.html#pandas.DataFrame.to_markdown
    "pandas.DataFrame.to_markdown"), and [`Series.to_markdown()`](../reference/api/pandas.Series.to_markdown.html#pandas.Series.to_markdown
    "pandas.Series.to_markdown") now support writing to fsspec URLs such as S3 and
    Google Cloud Storage ([GH 33987](https://github.com/pandas-dev/pandas/issues/33987))'
  id: totrans-322
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel")，[`Series.to_excel()`](../reference/api/pandas.Series.to_excel.html#pandas.Series.to_excel
    "pandas.Series.to_excel")，[`DataFrame.to_markdown()`](../reference/api/pandas.DataFrame.to_markdown.html#pandas.DataFrame.to_markdown
    "pandas.DataFrame.to_markdown")，以及[`Series.to_markdown()`](../reference/api/pandas.Series.to_markdown.html#pandas.Series.to_markdown
    "pandas.Series.to_markdown")现在支持写入fsspec URL，例如S3和Google Cloud Storage（[GH 33987](https://github.com/pandas-dev/pandas/issues/33987)）'
- en: Bug in [`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf
    "pandas.read_fwf") with `skip_blank_lines=True` was not skipping blank lines ([GH
    37758](https://github.com/pandas-dev/pandas/issues/37758))
  id: totrans-323
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`skip_blank_lines=True`时，[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf
    "pandas.read_fwf")中的错误未跳过空行（[GH 37758](https://github.com/pandas-dev/pandas/issues/37758)）
- en: Parse missing values using [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") with `dtype=False` to `NaN` instead of `None` ([GH 28501](https://github.com/pandas-dev/pandas/issues/28501))
  id: totrans-324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用[`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json "pandas.read_json")解析缺失值，将`dtype=False`设置为`NaN`而不是`None`（[GH
    28501](https://github.com/pandas-dev/pandas/issues/28501)）
- en: '[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf "pandas.read_fwf")
    was inferring compression with `compression=None` which was not consistent with
    the other `read_*` functions ([GH 37909](https://github.com/pandas-dev/pandas/issues/37909))'
  id: totrans-325
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf "pandas.read_fwf")在推断压缩时使用`compression=None`，这与其他`read_*`函数不一致（[GH
    37909](https://github.com/pandas-dev/pandas/issues/37909)）'
- en: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") was ignoring `formatters` argument for `ExtensionDtype`
    columns ([GH 36525](https://github.com/pandas-dev/pandas/issues/36525))'
  id: totrans-326
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`ExtensionDtype`列的`formatters`参数中，[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html")忽略了该参数（[GH 36525](https://github.com/pandas-dev/pandas/issues/36525)）
- en: Bumped minimum xarray version to 0.12.3 to avoid reference to the removed `Panel`
    class ([GH 27101](https://github.com/pandas-dev/pandas/issues/27101), [GH 37983](https://github.com/pandas-dev/pandas/issues/37983))
  id: totrans-327
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将最小的xarray版本提升至0.12.3，以避免引用已移除的`Panel`类（[GH 27101](https://github.com/pandas-dev/pandas/issues/27101)，[GH
    37983](https://github.com/pandas-dev/pandas/issues/37983)）
- en: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") was re-opening file-like handles that also implement
    `os.PathLike` ([GH 38125](https://github.com/pandas-dev/pandas/issues/38125))'
  id: totrans-328
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") 会重新打开文件句柄，这些句柄还实现了 `os.PathLike` ([GH 38125](https://github.com/pandas-dev/pandas/issues/38125))'
- en: Bug in the conversion of a sliced `pyarrow.Table` with missing values to a DataFrame
    ([GH 38525](https://github.com/pandas-dev/pandas/issues/38525))
  id: totrans-329
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将具有缺失值的切片 `pyarrow.Table` 转换为 DataFrame 时存在 Bug ([GH 38525](https://github.com/pandas-dev/pandas/issues/38525))
- en: Bug in [`read_sql_table()`](../reference/api/pandas.read_sql_table.html#pandas.read_sql_table
    "pandas.read_sql_table") raising a `sqlalchemy.exc.OperationalError` when column
    names contained a percentage sign ([GH 37517](https://github.com/pandas-dev/pandas/issues/37517))
  id: totrans-330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在包含百分号的列名时，[`read_sql_table()`](../reference/api/pandas.read_sql_table.html#pandas.read_sql_table
    "pandas.read_sql_table") 中存在 Bug，会引发 `sqlalchemy.exc.OperationalError` ([GH 37517](https://github.com/pandas-dev/pandas/issues/37517))
- en: Period
  id: totrans-331
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Period
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") and [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") where [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") dtypes would be converted to object dtypes ([GH 34871](https://github.com/pandas-dev/pandas/issues/34871))
  id: totrans-332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 和 [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 存在 Bug，会将 [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") 类型转换为对象类型 ([GH 34871](https://github.com/pandas-dev/pandas/issues/34871))'
- en: Plotting
  id: totrans-333
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 绘图
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") was rotating xticklabels when `subplots=True`, even if
    the x-axis wasn’t an irregular time series ([GH 29460](https://github.com/pandas-dev/pandas/issues/29460))
  id: totrans-334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `subplots=True` 时，[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 会旋转 xticklabels，即使 x 轴不是不规则时间序列 ([GH 29460](https://github.com/pandas-dev/pandas/issues/29460))
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") where a marker letter in the `style` keyword sometimes
    caused a `ValueError` ([GH 21003](https://github.com/pandas-dev/pandas/issues/21003))
  id: totrans-335
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `style` 关键字中的标记字母有时会引发 `ValueError` 的 Bug ([GH 21003](https://github.com/pandas-dev/pandas/issues/21003))
- en: Bug in [`DataFrame.plot.bar()`](../reference/api/pandas.DataFrame.plot.bar.html#pandas.DataFrame.plot.bar
    "pandas.DataFrame.plot.bar") and [`Series.plot.bar()`](../reference/api/pandas.Series.plot.bar.html#pandas.Series.plot.bar
    "pandas.Series.plot.bar") where ticks positions were assigned by value order instead
    of using the actual value for numeric or a smart ordering for string ([GH 26186](https://github.com/pandas-dev/pandas/issues/26186),
    [GH 11465](https://github.com/pandas-dev/pandas/issues/11465)). This fix has been
    reverted in pandas 1.2.1, see [What’s new in 1.2.1 (January 20, 2021)](v1.2.1.html)
  id: totrans-336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.plot.bar()`](../reference/api/pandas.DataFrame.plot.bar.html#pandas.DataFrame.plot.bar
    "pandas.DataFrame.plot.bar") 和 [`Series.plot.bar()`](../reference/api/pandas.Series.plot.bar.html#pandas.Series.plot.bar
    "pandas.Series.plot.bar") 存在 Bug，刻度位置是按值顺序分配的，而不是根据数字值或字符串的智能排序 ([GH 26186](https://github.com/pandas-dev/pandas/issues/26186),
    [GH 11465](https://github.com/pandas-dev/pandas/issues/11465))。此修复已在 pandas 1.2.1
    中撤销，请参阅 [1.2.1 版本新特性（2021年1月20日）](v1.2.1.html)'
- en: Twinned axes were losing their tick labels which should only happen to all but
    the last row or column of ‘externally’ shared axes ([GH 33819](https://github.com/pandas-dev/pandas/issues/33819))
  id: totrans-337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 共享轴的双轴丢失了它们的刻度标签，这应该只发生在‘外部’共享轴的最后一行或列 ([GH 33819](https://github.com/pandas-dev/pandas/issues/33819))
- en: Bug in [`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot") and [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") was throwing a [`ValueError`](https://docs.python.org/3/library/exceptions.html#ValueError
    "(in Python v3.12)") when the Series or DataFrame was indexed by a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") with a fixed frequency and the x-axis lower limit was
    greater than the upper limit ([GH 37454](https://github.com/pandas-dev/pandas/issues/37454))
  id: totrans-338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot") 和 [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 中的 Bug 当 Series 或 DataFrame 被以 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 索引且 x 轴下限大于上限时会引发 [`ValueError`](https://docs.python.org/3/library/exceptions.html#ValueError
    "(在 Python v3.12 中)") ([GH 37454](https://github.com/pandas-dev/pandas/issues/37454))
- en: Bug in [`DataFrameGroupBy.boxplot()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.boxplot.html#pandas.core.groupby.DataFrameGroupBy.boxplot
    "pandas.core.groupby.DataFrameGroupBy.boxplot") when `subplots=False` would raise
    a `KeyError` ([GH 16748](https://github.com/pandas-dev/pandas/issues/16748))
  id: totrans-339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `subplots=False` 时，[`DataFrameGroupBy.boxplot()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.boxplot.html#pandas.core.groupby.DataFrameGroupBy.boxplot
    "pandas.core.groupby.DataFrameGroupBy.boxplot") 中的 Bug 会引发 `KeyError` ([GH 16748](https://github.com/pandas-dev/pandas/issues/16748))
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") and [`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot") was overwriting matplotlib’s shared y axes behavior when
    no `sharey` parameter was passed ([GH 37942](https://github.com/pandas-dev/pandas/issues/37942))
  id: totrans-340
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 和 [`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot") 中的 Bug 在没有传递 `sharey` 参数时覆盖了 matplotlib 的共享 y 轴行为（[GH 37942](https://github.com/pandas-dev/pandas/issues/37942)）'
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") was raising a `TypeError` with `ExtensionDtype` columns
    ([GH 32073](https://github.com/pandas-dev/pandas/issues/32073))
  id: totrans-341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrame.plot()` 中的 Bug 当使用 `ExtensionDtype` 列时会引发 `TypeError` ([GH 32073](https://github.com/pandas-dev/pandas/issues/32073))
- en: Styler
  id: totrans-342
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Styler
- en: Bug in `Styler.render()` HTML was generated incorrectly because of formatting
    error in `rowspan` attribute, it now matches with w3 syntax ([GH 38234](https://github.com/pandas-dev/pandas/issues/38234))
  id: totrans-343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Styler.render()` 中的 HTML 生成不正确，因为 `rowspan` 属性的格式错误，现在与 w3 语法匹配（[GH 38234](https://github.com/pandas-dev/pandas/issues/38234)）
- en: Groupby/resample/rolling
  id: totrans-344
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Groupby/resample/rolling
- en: Bug in [`DataFrameGroupBy.count()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.count.html#pandas.core.groupby.DataFrameGroupBy.count
    "pandas.core.groupby.DataFrameGroupBy.count") and `SeriesGroupBy.sum()` returning
    `NaN` for missing categories when grouped on multiple `Categoricals`. Now returning
    `0` ([GH 35028](https://github.com/pandas-dev/pandas/issues/35028))
  id: totrans-345
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrameGroupBy.count()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.count.html#pandas.core.groupby.DataFrameGroupBy.count
    "pandas.core.groupby.DataFrameGroupBy.count") 和 `SeriesGroupBy.sum()` 中的 Bug 当在多个
    `Categoricals` 上进行分组时，对于缺失的类别返回 `NaN`。现在返回 `0` ([GH 35028](https://github.com/pandas-dev/pandas/issues/35028))
- en: Bug in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") that would sometimes throw an erroneous
    `ValueError` if the grouping axis had duplicate entries ([GH 16646](https://github.com/pandas-dev/pandas/issues/16646))
  id: totrans-346
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") 中的 Bug 有时会在分组轴具有重复条目时抛出错误的 `ValueError`
    ([GH 16646](https://github.com/pandas-dev/pandas/issues/16646))
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") that would throw a `ValueError` when resampling from
    `"D"` to `"24H"` over a transition into daylight savings time (DST) ([GH 35219](https://github.com/pandas-dev/pandas/issues/35219))
  id: totrans-347
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 中的 Bug 会在从 `"D"` 到 `"24H"` 的 DST 转换期间进行重新采样时抛出 `ValueError`
    ([GH 35219](https://github.com/pandas-dev/pandas/issues/35219))
- en: Bug when combining methods [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") with [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") and [`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate") raising a `TypeError` ([GH 35325](https://github.com/pandas-dev/pandas/issues/35325))
  id: totrans-348
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当将 [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 方法与 [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 和 [`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate") 方法结合使用时，会引发`TypeError`（[GH 35325](https://github.com/pandas-dev/pandas/issues/35325)）
- en: Bug in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") where a non-nuisance grouping column
    would be dropped from the output columns if another groupby method was called
    before `.apply` ([GH 34656](https://github.com/pandas-dev/pandas/issues/34656))
  id: totrans-349
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") 中存在错误，如果在`.apply`之前调用了另一个groupby方法，则会从输出列中删除非无关的分组列（[GH
    34656](https://github.com/pandas-dev/pandas/issues/34656)）
- en: Bug when subsetting columns on a `DataFrameGroupBy` (e.g. `df.groupby('a')[['b']])`)
    would reset the attributes `axis`, `dropna`, `group_keys`, `level`, `mutated`,
    `sort`, and `squeeze` to their default values ([GH 9959](https://github.com/pandas-dev/pandas/issues/9959))
  id: totrans-350
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在`DataFrameGroupBy`上对列进行子集化时出现的错误（例如`df.groupby('a')[['b']])`）会将属性`axis`、`dropna`、`group_keys`、`level`、`mutated`、`sort`和`squeeze`重置为它们的默认值（[GH
    9959](https://github.com/pandas-dev/pandas/issues/9959)）
- en: Bug in `DataFrameGroupBy.tshift()` failing to raise `ValueError` when a frequency
    cannot be inferred for the index of a group ([GH 35937](https://github.com/pandas-dev/pandas/issues/35937))
  id: totrans-351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.tshift()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.tshift.html#pandas.core.groupby.DataFrameGroupBy.tshift
    "pandas.core.groupby.DataFrameGroupBy.tshift") 中的错误未能在组的索引无法推断出频率时引发`ValueError`（[GH
    35937](https://github.com/pandas-dev/pandas/issues/35937)）'
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") does not always maintain column index name for `any`,
    `all`, `bfill`, `ffill`, `shift` ([GH 29764](https://github.com/pandas-dev/pandas/issues/29764))
  id: totrans-352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 中存在的错误，对于 `any`、`all`、`bfill`、`ffill`、`shift`，不总是保持列索引名称（[GH
    29764](https://github.com/pandas-dev/pandas/issues/29764)）
- en: Bug in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") raising error with `np.nan` group(s)
    when `dropna=False` ([GH 35889](https://github.com/pandas-dev/pandas/issues/35889))
  id: totrans-353
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") 中存在错误，当 `dropna=False` 时，会在存在 `np.nan`
    的组时引发错误（[GH 35889](https://github.com/pandas-dev/pandas/issues/35889)）
- en: Bug in [`Rolling.sum()`](../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum
    "pandas.core.window.rolling.Rolling.sum") returned wrong values when dtypes where
    mixed between float and integer and `axis=1` ([GH 20649](https://github.com/pandas-dev/pandas/issues/20649),
    [GH 35596](https://github.com/pandas-dev/pandas/issues/35596))
  id: totrans-354
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Rolling.sum()`](../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum
    "pandas.core.window.rolling.Rolling.sum") 方法中，当dtype在浮点数和整数之间混合，并且`axis=1`时，返回的值错误（[GH
    20649](https://github.com/pandas-dev/pandas/issues/20649), [GH 35596](https://github.com/pandas-dev/pandas/issues/35596)）
- en: Bug in [`Rolling.count()`](../reference/api/pandas.core.window.rolling.Rolling.count.html#pandas.core.window.rolling.Rolling.count
    "pandas.core.window.rolling.Rolling.count") returned `np.nan` with [`FixedForwardWindowIndexer`](../reference/api/pandas.api.indexers.FixedForwardWindowIndexer.html#pandas.api.indexers.FixedForwardWindowIndexer
    "pandas.api.indexers.FixedForwardWindowIndexer") as window, `min_periods=0` and
    only missing values in the window ([GH 35579](https://github.com/pandas-dev/pandas/issues/35579))
  id: totrans-355
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Rolling.count()`](../reference/api/pandas.core.window.rolling.Rolling.count.html#pandas.core.window.rolling.Rolling.count
    "pandas.core.window.rolling.Rolling.count") 方法中，当窗口使用 [`FixedForwardWindowIndexer`](../reference/api/pandas.api.indexers.FixedForwardWindowIndexer.html#pandas.api.indexers.FixedForwardWindowIndexer
    "pandas.api.indexers.FixedForwardWindowIndexer") 且`min_periods=0`以及窗口中仅包含缺失值时，返回了`np.nan`（[GH
    35579](https://github.com/pandas-dev/pandas/issues/35579)）
- en: Bug where `Rolling` produces incorrect window sizes when using a `PeriodIndex`
    ([GH 34225](https://github.com/pandas-dev/pandas/issues/34225))
  id: totrans-356
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `PeriodIndex` 时，`Rolling` 会产生错误的窗口大小（[GH 34225](https://github.com/pandas-dev/pandas/issues/34225)）
- en: Bug in [`DataFrameGroupBy.ffill()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.ffill.html#pandas.core.groupby.DataFrameGroupBy.ffill
    "pandas.core.groupby.DataFrameGroupBy.ffill") and [`DataFrameGroupBy.bfill()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.bfill.html#pandas.core.groupby.DataFrameGroupBy.bfill
    "pandas.core.groupby.DataFrameGroupBy.bfill") where a `NaN` group would return
    filled values instead of `NaN` when `dropna=True` ([GH 34725](https://github.com/pandas-dev/pandas/issues/34725))
  id: totrans-357
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrameGroupBy.ffill()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.ffill.html#pandas.core.groupby.DataFrameGroupBy.ffill
    "pandas.core.groupby.DataFrameGroupBy.ffill")和[`DataFrameGroupBy.bfill()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.bfill.html#pandas.core.groupby.DataFrameGroupBy.bfill
    "pandas.core.groupby.DataFrameGroupBy.bfill")中存在 Bug，当 `dropna=True` 时，`NaN` 组会返回填充值而不是
    `NaN` ([GH 34725](https://github.com/pandas-dev/pandas/issues/34725))
- en: Bug in `RollingGroupby.count()` where a `ValueError` was raised when specifying
    the `closed` parameter ([GH 35869](https://github.com/pandas-dev/pandas/issues/35869))
  id: totrans-358
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`RollingGroupby.count()`中存在 Bug，当指定`closed`参数时引发`ValueError` ([GH 35869](https://github.com/pandas-dev/pandas/issues/35869))
- en: Bug in [`DataFrameGroupBy.rolling()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rolling.html#pandas.core.groupby.DataFrameGroupBy.rolling
    "pandas.core.groupby.DataFrameGroupBy.rolling") returning wrong values with partial
    centered window ([GH 36040](https://github.com/pandas-dev/pandas/issues/36040))
  id: totrans-359
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在部分中心化窗口中，[`DataFrameGroupBy.rolling()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rolling.html#pandas.core.groupby.DataFrameGroupBy.rolling
    "pandas.core.groupby.DataFrameGroupBy.rolling")存在 Bug，返回的值不正确 ([GH 36040](https://github.com/pandas-dev/pandas/issues/36040))
- en: Bug in [`DataFrameGroupBy.rolling()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rolling.html#pandas.core.groupby.DataFrameGroupBy.rolling
    "pandas.core.groupby.DataFrameGroupBy.rolling") returned wrong values with time
    aware window containing `NaN`. Raises `ValueError` because windows are not monotonic
    now ([GH 34617](https://github.com/pandas-dev/pandas/issues/34617))
  id: totrans-360
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有包含 `NaN` 的时间感知窗口的[`DataFrameGroupBy.rolling()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rolling.html#pandas.core.groupby.DataFrameGroupBy.rolling
    "pandas.core.groupby.DataFrameGroupBy.rolling")中存在 Bug，返回的值不正确。现在引发 `ValueError`，因为窗口现在不是单调的
    ([GH 34617](https://github.com/pandas-dev/pandas/issues/34617))
- en: Bug in `Rolling.__iter__()` where a `ValueError` was not raised when `min_periods`
    was larger than `window` ([GH 37156](https://github.com/pandas-dev/pandas/issues/37156))
  id: totrans-361
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Rolling.__iter__()`中存在 Bug，当`min_periods`大于`window`时没有引发`ValueError` ([GH
    37156](https://github.com/pandas-dev/pandas/issues/37156))
- en: Using [`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") instead of [`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") avoids numerical issues for [`Rolling.corr()`](../reference/api/pandas.core.window.rolling.Rolling.corr.html#pandas.core.window.rolling.Rolling.corr
    "pandas.core.window.rolling.Rolling.corr") when [`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") is still within floating point precision
    while [`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") is not ([GH 31286](https://github.com/pandas-dev/pandas/issues/31286))
  id: totrans-362
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用[`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var")而不是[`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std")可以避免在[`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var")仍在浮点精度范围内时，[`Rolling.corr()`](../reference/api/pandas.core.window.rolling.Rolling.corr.html#pandas.core.window.rolling.Rolling.corr
    "pandas.core.window.rolling.Rolling.corr")出现数值问题，而[`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std")则不会 ([GH 31286](https://github.com/pandas-dev/pandas/issues/31286))
- en: Bug in [`DataFrameGroupBy.quantile()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile
    "pandas.core.groupby.DataFrameGroupBy.quantile") and [`Resampler.quantile()`](../reference/api/pandas.core.resample.Resampler.quantile.html#pandas.core.resample.Resampler.quantile
    "pandas.core.resample.Resampler.quantile") raised `TypeError` when values were
    of type `Timedelta` ([GH 29485](https://github.com/pandas-dev/pandas/issues/29485))
  id: totrans-363
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.quantile()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile
    "pandas.core.groupby.DataFrameGroupBy.quantile") 和 [`Resampler.quantile()`](../reference/api/pandas.core.resample.Resampler.quantile.html#pandas.core.resample.Resampler.quantile
    "pandas.core.resample.Resampler.quantile") 中的 Bug 在值为 `Timedelta` 类型时引发了 `TypeError`
    错误（[GH 29485](https://github.com/pandas-dev/pandas/issues/29485)）'
- en: Bug in [`Rolling.median()`](../reference/api/pandas.core.window.rolling.Rolling.median.html#pandas.core.window.rolling.Rolling.median
    "pandas.core.window.rolling.Rolling.median") and [`Rolling.quantile()`](../reference/api/pandas.core.window.rolling.Rolling.quantile.html#pandas.core.window.rolling.Rolling.quantile
    "pandas.core.window.rolling.Rolling.quantile") returned wrong values for [`BaseIndexer`](../reference/api/pandas.api.indexers.BaseIndexer.html#pandas.api.indexers.BaseIndexer
    "pandas.api.indexers.BaseIndexer") subclasses with non-monotonic starting or ending
    points for windows ([GH 37153](https://github.com/pandas-dev/pandas/issues/37153))
  id: totrans-364
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Rolling.median()`](../reference/api/pandas.core.window.rolling.Rolling.median.html#pandas.core.window.rolling.Rolling.median
    "pandas.core.window.rolling.Rolling.median") 和 [`Rolling.quantile()`](../reference/api/pandas.core.window.rolling.Rolling.quantile.html#pandas.core.window.rolling.Rolling.quantile
    "pandas.core.window.rolling.Rolling.quantile") 中的 Bug 返回了基于非单调起始或结束点的 [`BaseIndexer`](../reference/api/pandas.api.indexers.BaseIndexer.html#pandas.api.indexers.BaseIndexer
    "pandas.api.indexers.BaseIndexer") 子类的错误值（[GH 37153](https://github.com/pandas-dev/pandas/issues/37153)）'
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") dropped `nan` groups from result with `dropna=False`
    when grouping over a single column ([GH 35646](https://github.com/pandas-dev/pandas/issues/35646),
    [GH 35542](https://github.com/pandas-dev/pandas/issues/35542))
  id: totrans-365
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在对单个列进行分组时，[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 中的 Bug 在 `dropna=False` 时会从结果中删除 `nan` 组（[GH 35646](https://github.com/pandas-dev/pandas/issues/35646),
    [GH 35542](https://github.com/pandas-dev/pandas/issues/35542)）
- en: Bug in [`DataFrameGroupBy.head()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.head.html#pandas.core.groupby.DataFrameGroupBy.head
    "pandas.core.groupby.DataFrameGroupBy.head"), `DataFrameGroupBy.tail()`, `SeriesGroupBy.head()`,
    and `SeriesGroupBy.tail()` would raise when used with `axis=1` ([GH 9772](https://github.com/pandas-dev/pandas/issues/9772))
  id: totrans-366
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `axis=1` 时，[`DataFrameGroupBy.head()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.head.html#pandas.core.groupby.DataFrameGroupBy.head
    "pandas.core.groupby.DataFrameGroupBy.head")、`DataFrameGroupBy.tail()`、`SeriesGroupBy.head()`
    和 `SeriesGroupBy.tail()` 中的 Bug 会引发错误（[GH 9772](https://github.com/pandas-dev/pandas/issues/9772)）
- en: Bug in [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") would raise when used with `axis=1`
    and a transformation kernel (e.g. “shift”) ([GH 36308](https://github.com/pandas-dev/pandas/issues/36308))
  id: totrans-367
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `axis=1` 和转换内核（例如“shift”）时，[`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") 中的 Bug 会引发错误（[GH 36308](https://github.com/pandas-dev/pandas/issues/36308)）
- en: Bug in [`DataFrameGroupBy.resample()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.resample.html#pandas.core.groupby.DataFrameGroupBy.resample
    "pandas.core.groupby.DataFrameGroupBy.resample") using `.agg` with sum produced
    different result than just calling `.sum` ([GH 33548](https://github.com/pandas-dev/pandas/issues/33548))
  id: totrans-368
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `.agg` 与 `.sum` 相比，[`DataFrameGroupBy.resample()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.resample.html#pandas.core.groupby.DataFrameGroupBy.resample
    "pandas.core.groupby.DataFrameGroupBy.resample") 中的 Bug 产生了不同的结果（[GH 33548](https://github.com/pandas-dev/pandas/issues/33548)）
- en: Bug in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") dropped values on `nan` group when
    returning the same axes with the original frame ([GH 38227](https://github.com/pandas-dev/pandas/issues/38227))
  id: totrans-369
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在返回与原始框架相同的轴时，[`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") 中的 Bug 会丢弃 `nan` 组的值（[GH 38227](https://github.com/pandas-dev/pandas/issues/38227)）
- en: Bug in [`DataFrameGroupBy.quantile()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile
    "pandas.core.groupby.DataFrameGroupBy.quantile") couldn’t handle with arraylike
    `q` when grouping by columns ([GH 33795](https://github.com/pandas-dev/pandas/issues/33795))
  id: totrans-370
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在按列分组时，[`DataFrameGroupBy.quantile()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile
    "pandas.core.groupby.DataFrameGroupBy.quantile")无法处理数组样式的`q`（[GH 33795](https://github.com/pandas-dev/pandas/issues/33795)）
- en: Bug in `DataFrameGroupBy.rank()` with `datetime64tz` or period dtype incorrectly
    casting results to those dtypes instead of returning `float64` dtype ([GH 38187](https://github.com/pandas-dev/pandas/issues/38187))
  id: totrans-371
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`datetime64tz`或周期dtype的`DataFrameGroupBy.rank()`中，错误地将结果转换为这些dtype，而不是返回`float64`
    dtype（[GH 38187](https://github.com/pandas-dev/pandas/issues/38187)）
- en: Reshaping
  id: totrans-372
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 重塑
- en: Bug in `DataFrame.crosstab()` was returning incorrect results on inputs with
    duplicate row names, duplicate column names or duplicate names between row and
    column labels ([GH 22529](https://github.com/pandas-dev/pandas/issues/22529))
  id: totrans-373
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有重复行名称、重复列名称或行列标签之间重复名称的输入上，`DataFrame.crosstab()`存在bug，返回不正确的结果（[GH 22529](https://github.com/pandas-dev/pandas/issues/22529)）
- en: Bug in [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") with `aggfunc='count'` or `aggfunc='sum'` returning
    `NaN` for missing categories when pivoted on a `Categorical`. Now returning `0`
    ([GH 31422](https://github.com/pandas-dev/pandas/issues/31422))
  id: totrans-374
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`aggfunc='count'`或`aggfunc='sum'`对`Categorical`进行数据透视时，[`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table")存在bug，对于缺失的类别返回`NaN`。现在返回`0`（[GH 31422](https://github.com/pandas-dev/pandas/issues/31422)）
- en: Bug in [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    and [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    constructor where input index names are not preserved in some cases ([GH 13475](https://github.com/pandas-dev/pandas/issues/13475))
  id: totrans-375
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在某些情况下，[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")和[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")构造函数中，输入索引名称未被保留（[GH 13475](https://github.com/pandas-dev/pandas/issues/13475)）
- en: Bug in func [`crosstab()`](../reference/api/pandas.crosstab.html#pandas.crosstab
    "pandas.crosstab") when using multiple columns with `margins=True` and `normalize=True`
    ([GH 35144](https://github.com/pandas-dev/pandas/issues/35144))
  id: totrans-376
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用多列进行`margins=True`和`normalize=True`的情况下，[`crosstab()`](../reference/api/pandas.crosstab.html#pandas.crosstab
    "pandas.crosstab")存在bug（[GH 35144](https://github.com/pandas-dev/pandas/issues/35144)）
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") where an empty DataFrame.stack would raise an error
    ([GH 36113](https://github.com/pandas-dev/pandas/issues/36113)). Now returning
    an empty Series with empty MultiIndex.
  id: totrans-377
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在空的DataFrame.stack上存在bug，[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack")会引发错误。现在返回带有空MultiIndex的空Series（[GH 36113](https://github.com/pandas-dev/pandas/issues/36113)）
- en: Bug in [`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack"). Now a Series with single level of Index trying to unstack
    would raise a `ValueError` ([GH 36113](https://github.com/pandas-dev/pandas/issues/36113))
  id: totrans-378
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在尝试取消堆叠具有单个索引级别的Series时，[`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack")会引发`ValueError`（[GH 36113](https://github.com/pandas-dev/pandas/issues/36113)）
- en: Bug in [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg") with `func={'name':<FUNC>}` incorrectly raising `TypeError`
    when `DataFrame.columns==['Name']` ([GH 36212](https://github.com/pandas-dev/pandas/issues/36212))
  id: totrans-379
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrame.columns==['Name']`时，使用`func={'name':<FUNC>}`的[`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg")不正确地引发`TypeError`（[GH 36212](https://github.com/pandas-dev/pandas/issues/36212)）
- en: Bug in [`Series.transform()`](../reference/api/pandas.Series.transform.html#pandas.Series.transform
    "pandas.Series.transform") would give incorrect results or raise when the argument
    `func` was a dictionary ([GH 35811](https://github.com/pandas-dev/pandas/issues/35811))
  id: totrans-380
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当参数`func`为字典时，[`Series.transform()`](../reference/api/pandas.Series.transform.html#pandas.Series.transform
    "pandas.Series.transform")会给出不正确的结果或引发错误（[GH 35811](https://github.com/pandas-dev/pandas/issues/35811)）
- en: Bug in [`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot") did not preserve [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") level names for columns when rows and columns are both multiindexed
    ([GH 36360](https://github.com/pandas-dev/pandas/issues/36360))
  id: totrans-381
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot")在行和列都是多级索引时，未保留列的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")级别名称的错误（[GH 36360](https://github.com/pandas-dev/pandas/issues/36360))
- en: Bug in [`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot") modified `index` argument when `columns` was passed
    but `values` was not ([GH 37635](https://github.com/pandas-dev/pandas/issues/37635))
  id: totrans-382
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot")在传递`columns`但未传递`values`时修改了`index`参数的错误（[GH 37635](https://github.com/pandas-dev/pandas/issues/37635))
- en: Bug in [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") returned a non deterministic level-order for the resulting
    [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    ([GH 36910](https://github.com/pandas-dev/pandas/issues/36910))
  id: totrans-383
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join")返回结果[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")的非确定性级别顺序的错误（[GH 36910](https://github.com/pandas-dev/pandas/issues/36910))
- en: Bug in [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") caused wrong alignment with dtype `string` and
    one level of `MultiIndex` containing only `NA` ([GH 37591](https://github.com/pandas-dev/pandas/issues/37591))
  id: totrans-384
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first")中的错误，导致`string`类型和只包含`NA`的一级`MultiIndex`对齐错误（[GH
    37591](https://github.com/pandas-dev/pandas/issues/37591))
- en: Fixed regression in [`merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge") on merging [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with empty DataFrame ([GH 36895](https://github.com/pandas-dev/pandas/issues/36895))
  id: totrans-385
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在[`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")中合并[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")与空DataFrame时的回归错误（[GH 36895](https://github.com/pandas-dev/pandas/issues/36895))
- en: Bug in [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") not setting index of return value when `func` return
    type is `dict` ([GH 37544](https://github.com/pandas-dev/pandas/issues/37544))
  id: totrans-386
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply")中的错误，当`func`返回类型为`dict`时，未设置返回值的索引（[GH 37544](https://github.com/pandas-dev/pandas/issues/37544))
- en: Bug in [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") and [`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge") returning inconsistent ordering in result for `how=right` and
    `how=left` ([GH 35382](https://github.com/pandas-dev/pandas/issues/35382))
  id: totrans-387
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")和[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge")在`how=right`和`how=left`时返回结果中排序不一致的错误（[GH 35382](https://github.com/pandas-dev/pandas/issues/35382))
- en: Bug in [`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered") couldn’t handle list-like `left_by` or `right_by` ([GH
    35269](https://github.com/pandas-dev/pandas/issues/35269))
  id: totrans-388
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered")无法处理类似列表的`left_by`或`right_by`的错误（[GH 35269](https://github.com/pandas-dev/pandas/issues/35269))
- en: Bug in [`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered") returned wrong join result when length of `left_by` or
    `right_by` equals to the rows of `left` or `right` ([GH 38166](https://github.com/pandas-dev/pandas/issues/38166))
  id: totrans-389
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered")在`left_by`或`right_by`的长度等于`left`或`right`的行数时返回错误的连接结果的问题（[GH
    38166](https://github.com/pandas-dev/pandas/issues/38166))
- en: Bug in [`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered") didn’t raise when elements in `left_by` or `right_by`
    not exist in `left` columns or `right` columns ([GH 38167](https://github.com/pandas-dev/pandas/issues/38167))
  id: totrans-390
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered")中`left_by`或`right_by`中的元素不存在于`left`列或`right`列时未引发错误的问题（[GH
    38167](https://github.com/pandas-dev/pandas/issues/38167))
- en: Bug in [`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") not validating bool dtype for `ignore_index`
    keyword ([GH 38274](https://github.com/pandas-dev/pandas/issues/38274))
  id: totrans-391
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") 中的 bug，不会验证 `ignore_index` 关键字的布尔类型 dtype
    ([GH 38274](https://github.com/pandas-dev/pandas/issues/38274))'
- en: ExtensionArray
  id: totrans-392
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ExtensionArray
- en: Fixed bug where [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") column set to scalar extension type via a dict instantiation
    was considered an object type rather than the extension type ([GH 35965](https://github.com/pandas-dev/pandas/issues/35965))
  id: totrans-393
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了通过字典实例化将 `DataFrame` 列设置为标量扩展类型时，将其视为对象类型而不是扩展类型的 bug ([GH 35965](https://github.com/pandas-dev/pandas/issues/35965))
- en: Fixed bug where `astype()` with equal dtype and `copy=False` would return a
    new object ([GH 28488](https://github.com/pandas-dev/pandas/issues/28488))
  id: totrans-394
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 `astype()` 在相等 dtype 和 `copy=False` 的情况下返回新对象的 bug ([GH 28488](https://github.com/pandas-dev/pandas/issues/28488))
- en: Fixed bug when applying a NumPy ufunc with multiple outputs to an [`IntegerArray`](../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray
    "pandas.arrays.IntegerArray") returning `None` ([GH 36913](https://github.com/pandas-dev/pandas/issues/36913))
  id: totrans-395
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了将 NumPy ufunc 应用于返回 `None` 的 [`IntegerArray`](../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray
    "pandas.arrays.IntegerArray") 时的 bug ([GH 36913](https://github.com/pandas-dev/pandas/issues/36913))
- en: Fixed an inconsistency in [`PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray")’s `__init__` signature to those of [`DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray") and [`TimedeltaArray`](../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray
    "pandas.arrays.TimedeltaArray") ([GH 37289](https://github.com/pandas-dev/pandas/issues/37289))
  id: totrans-396
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray") 的 `__init__` 签名与 [`DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray") 和 [`TimedeltaArray`](../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray
    "pandas.arrays.TimedeltaArray") 的不一致性 ([GH 37289](https://github.com/pandas-dev/pandas/issues/37289))
- en: Reductions for [`BooleanArray`](../reference/api/pandas.arrays.BooleanArray.html#pandas.arrays.BooleanArray
    "pandas.arrays.BooleanArray"), [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical"), [`DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray"), [`FloatingArray`](../reference/api/pandas.arrays.FloatingArray.html#pandas.arrays.FloatingArray
    "pandas.arrays.FloatingArray"), [`IntegerArray`](../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray
    "pandas.arrays.IntegerArray"), [`PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray"), [`TimedeltaArray`](../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray
    "pandas.arrays.TimedeltaArray"), and `PandasArray` are now keyword-only methods
    ([GH 37541](https://github.com/pandas-dev/pandas/issues/37541))
  id: totrans-397
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`BooleanArray`、`Categorical`、`DatetimeArray`、`FloatingArray`、`IntegerArray`、`PeriodArray`、`TimedeltaArray`
    和 `PandasArray` 的归约现在是关键字方法 ([GH 37541](https://github.com/pandas-dev/pandas/issues/37541))'
- en: Fixed a bug where a `TypeError` was wrongly raised if a membership check was
    made on an `ExtensionArray` containing nan-like values ([GH 37867](https://github.com/pandas-dev/pandas/issues/37867))
  id: totrans-398
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在包含类似 NaN 值的 `ExtensionArray` 上进行成员检查时错误引发 `TypeError` 的 bug ([GH 37867](https://github.com/pandas-dev/pandas/issues/37867))
- en: Other
  id: totrans-399
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 其他
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") and [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") incorrectly raising an `AssertionError` instead of a
    `ValueError` when invalid parameter combinations are passed ([GH 36045](https://github.com/pandas-dev/pandas/issues/36045))
  id: totrans-400
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 和 [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 错误地在传递无效参数组合时引发 `AssertionError` 而不是 `ValueError` 的错误（[GH
    36045](https://github.com/pandas-dev/pandas/issues/36045)）'
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") and [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") with numeric values and string `to_replace` ([GH 34789](https://github.com/pandas-dev/pandas/issues/34789))
  id: totrans-401
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 和 [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 在数值和字符串 `to_replace` 中存在的错误（[GH 34789](https://github.com/pandas-dev/pandas/issues/34789)）'
- en: Fixed metadata propagation in [`Series.abs()`](../reference/api/pandas.Series.abs.html#pandas.Series.abs
    "pandas.Series.abs") and ufuncs called on Series and DataFrames ([GH 28283](https://github.com/pandas-dev/pandas/issues/28283))
  id: totrans-402
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在 Series 和 DataFrame 上调用的 [`Series.abs()`](../reference/api/pandas.Series.abs.html#pandas.Series.abs
    "pandas.Series.abs") 和 ufuncs 中的元数据传播问题（[GH 28283](https://github.com/pandas-dev/pandas/issues/28283)）
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") and [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") incorrectly casting from `PeriodDtype` to object dtype
    ([GH 34871](https://github.com/pandas-dev/pandas/issues/34871))
  id: totrans-403
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 和 [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 错误地将 `PeriodDtype` 强制转换为对象 dtype（[GH 34871](https://github.com/pandas-dev/pandas/issues/34871)）'
- en: Fixed bug in metadata propagation incorrectly copying DataFrame columns as metadata
    when the column name overlaps with the metadata name ([GH 37037](https://github.com/pandas-dev/pandas/issues/37037))
  id: totrans-404
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了元数据传播中的错误，在列名与元数据名重叠时错误地复制 DataFrame 列作为元数据的问题（[GH 37037](https://github.com/pandas-dev/pandas/issues/37037)）
- en: Fixed metadata propagation in the [`Series.dt`](../reference/api/pandas.Series.dt.html#pandas.Series.dt
    "pandas.Series.dt"), [`Series.str`](../reference/api/pandas.Series.str.html#pandas.Series.str
    "pandas.Series.str") accessors, [`DataFrame.duplicated`](../reference/api/pandas.DataFrame.duplicated.html#pandas.DataFrame.duplicated
    "pandas.DataFrame.duplicated"), [`DataFrame.stack`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack"), [`DataFrame.unstack`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack"), [`DataFrame.pivot`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot"), `DataFrame.append`, [`DataFrame.diff`](../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff
    "pandas.DataFrame.diff"), [`DataFrame.applymap`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap") and [`DataFrame.update`](../reference/api/pandas.DataFrame.update.html#pandas.DataFrame.update
    "pandas.DataFrame.update") methods ([GH 28283](https://github.com/pandas-dev/pandas/issues/28283),
    [GH 37381](https://github.com/pandas-dev/pandas/issues/37381))
  id: totrans-405
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`Series.dt`](../reference/api/pandas.Series.dt.html#pandas.Series.dt "pandas.Series.dt")，[`Series.str`](../reference/api/pandas.Series.str.html#pandas.Series.str
    "pandas.Series.str") 访问器，[`DataFrame.duplicated`](../reference/api/pandas.DataFrame.duplicated.html#pandas.DataFrame.duplicated
    "pandas.DataFrame.duplicated")，[`DataFrame.stack`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack")，[`DataFrame.unstack`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")，[`DataFrame.pivot`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot")，`DataFrame.append`，[`DataFrame.diff`](../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff
    "pandas.DataFrame.diff")，[`DataFrame.applymap`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap") 和 [`DataFrame.update`](../reference/api/pandas.DataFrame.update.html#pandas.DataFrame.update
    "pandas.DataFrame.update") 方法中的元数据传播问题（[GH 28283](https://github.com/pandas-dev/pandas/issues/28283)，[GH
    37381](https://github.com/pandas-dev/pandas/issues/37381)）
- en: Fixed metadata propagation when selecting columns with `DataFrame.__getitem__`
    ([GH 28283](https://github.com/pandas-dev/pandas/issues/28283))
  id: totrans-406
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用 `DataFrame.__getitem__` 选择列时的元数据传播问题（[GH 28283](https://github.com/pandas-dev/pandas/issues/28283)）
- en: Bug in [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") with non-[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") failing to set the correct name on the returned [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") ([GH 38111](https://github.com/pandas-dev/pandas/issues/38111))
  id: totrans-407
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") 中的 Bug，当非 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 对象失败时，未能正确设置返回的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 的名称（[GH 38111](https://github.com/pandas-dev/pandas/issues/38111)）'
- en: Bug in `RangeIndex.intersection()` failing to set the correct name on the returned
    [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") in some
    corner cases ([GH 38197](https://github.com/pandas-dev/pandas/issues/38197))
  id: totrans-408
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RangeIndex.intersection()` 中的 Bug，在某些边缘情况下未能设置返回的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 的正确名称（[GH 38197](https://github.com/pandas-dev/pandas/issues/38197)）'
- en: Bug in [`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference") failing to set the correct name on the returned [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") in some corner cases ([GH 38268](https://github.com/pandas-dev/pandas/issues/38268))
  id: totrans-409
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference") 中的 Bug，在某些边缘情况下未能设置返回的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 的正确名称（[GH 38268](https://github.com/pandas-dev/pandas/issues/38268)）'
- en: Bug in [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") behaving differently depending on whether operand is an
    [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") or other
    list-like ([GH 36384](https://github.com/pandas-dev/pandas/issues/36384))
  id: totrans-410
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") 中的 Bug，根据操作数是否为 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 或其他类似列表的对象，表现不同（[GH 36384](https://github.com/pandas-dev/pandas/issues/36384)）'
- en: Bug in [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") with non-matching numeric dtypes casting to `object`
    dtype instead of minimal common dtype ([GH 38122](https://github.com/pandas-dev/pandas/issues/38122))
  id: totrans-411
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") 中的 Bug，在非匹配数值数据类型时将转换为 `object` 数据类型而不是最小公共数据类型（[GH
    38122](https://github.com/pandas-dev/pandas/issues/38122)）'
- en: Bug in `IntervalIndex.union()` returning an incorrectly-typed [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") when empty ([GH 38282](https://github.com/pandas-dev/pandas/issues/38282))
  id: totrans-412
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.union()` 中的 Bug，在空时返回了错误类型的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")（[GH 38282](https://github.com/pandas-dev/pandas/issues/38282)）'
- en: Passing an array with 2 or more dimensions to the [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") constructor now raises the more specific `ValueError` rather
    than a bare `Exception` ([GH 35744](https://github.com/pandas-dev/pandas/issues/35744))
  id: totrans-413
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在将具有 2 个或更多维度的数组传递给 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 构造函数时，会引发更具体的 `ValueError` 而不是裸露的 `Exception`（[GH 35744](https://github.com/pandas-dev/pandas/issues/35744)）
- en: Bug in `dir` where `dir(obj)` wouldn’t show attributes defined on the instance
    for pandas objects ([GH 37173](https://github.com/pandas-dev/pandas/issues/37173))
  id: totrans-414
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `dir` 中的 Bug，`dir(obj)` 不会显示定义在 pandas 对象实例上的属性（[GH 37173](https://github.com/pandas-dev/pandas/issues/37173)）
- en: Bug in [`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop") raising `InvalidIndexError` when index has duplicates ([GH
    38051](https://github.com/pandas-dev/pandas/issues/38051))
  id: totrans-415
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop") 中的 Bug，在索引存在重复时引发 `InvalidIndexError`（[GH 38051](https://github.com/pandas-dev/pandas/issues/38051)）'
- en: Bug in `RangeIndex.difference()` returning `Int64Index` in some cases where
    it should return [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex
    "pandas.RangeIndex") ([GH 38028](https://github.com/pandas-dev/pandas/issues/38028))
  id: totrans-416
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RangeIndex.difference()` 中的 Bug，在某些情况下返回 `Int64Index`，而应该返回 [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex
    "pandas.RangeIndex")（[GH 38028](https://github.com/pandas-dev/pandas/issues/38028)）'
- en: Fixed bug in `assert_series_equal()` when comparing a datetime-like array with
    an equivalent non extension dtype array ([GH 37609](https://github.com/pandas-dev/pandas/issues/37609))
  id: totrans-417
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 `assert_series_equal()` 中的 Bug，当比较类似日期时间的数组与等效的非扩展数据类型数组时（[GH 37609](https://github.com/pandas-dev/pandas/issues/37609)）
- en: Bug in [`is_bool_dtype()`](../reference/api/pandas.api.types.is_bool_dtype.html#pandas.api.types.is_bool_dtype
    "pandas.api.types.is_bool_dtype") would raise when passed a valid string such
    as `"boolean"` ([GH 38386](https://github.com/pandas-dev/pandas/issues/38386))
  id: totrans-418
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`is_bool_dtype()`](../reference/api/pandas.api.types.is_bool_dtype.html#pandas.api.types.is_bool_dtype
    "pandas.api.types.is_bool_dtype") 中的Bug会在传递有效字符串如`"boolean"`时引发问题（[GH 38386](https://github.com/pandas-dev/pandas/issues/38386)）'
- en: 'Fixed regression in logical operators raising `ValueError` when columns of
    [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    are a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") with unused categories ([GH 38367](https://github.com/pandas-dev/pandas/issues/38367))  ##
    Contributors'
  id: totrans-419
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '修复了逻辑运算符在 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 的列是 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 且有未使用类别时引发 `ValueError` 的问题（[GH 38367](https://github.com/pandas-dev/pandas/issues/38367)）  ##
    贡献者'
- en: A total of 257 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: 本次发布共有 257 人贡献了补丁。名字后带“+”的人第一次贡献了补丁。
- en: 21CSM +
  id: totrans-421
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 21CSM +
- en: AbdulMAbdi +
  id: totrans-422
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AbdulMAbdi +
- en: Abhiraj Hinge +
  id: totrans-423
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Abhiraj Hinge +
- en: Abhishek Mangla +
  id: totrans-424
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Abhishek Mangla +
- en: Abo7atm +
  id: totrans-425
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Abo7atm +
- en: Adam Spannbauer +
  id: totrans-426
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Adam Spannbauer +
- en: Albert Villanova del Moral
  id: totrans-427
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Albert Villanova del Moral
- en: Alex Kirko
  id: totrans-428
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Kirko
- en: Alex Lim +
  id: totrans-429
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Lim +
- en: Alex Thorne +
  id: totrans-430
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Thorne +
- en: Aleš Erjavec +
  id: totrans-431
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Aleš Erjavec +
- en: Ali McMaster
  id: totrans-432
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ali McMaster
- en: Amanda Dsouza +
  id: totrans-433
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Amanda Dsouza +
- en: Amim Knabben +
  id: totrans-434
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Amim Knabben +
- en: Andrew Wieteska
  id: totrans-435
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Wieteska
- en: Anshoo Rajput +
  id: totrans-436
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anshoo Rajput +
- en: Anthony Milbourne
  id: totrans-437
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anthony Milbourne
- en: Arun12121 +
  id: totrans-438
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Arun12121 +
- en: Asish Mahapatra
  id: totrans-439
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Asish Mahapatra
- en: Avinash Pancham +
  id: totrans-440
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Avinash Pancham +
- en: BeanNan +
  id: totrans-441
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: BeanNan +
- en: Ben Forbes +
  id: totrans-442
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ben Forbes +
- en: Brendan Wilby +
  id: totrans-443
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brendan Wilby +
- en: Bruno Almeida +
  id: totrans-444
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bruno Almeida +
- en: Byron Boulton +
  id: totrans-445
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Byron Boulton +
- en: Chankey Pathak
  id: totrans-446
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chankey Pathak
- en: Chris Barnes +
  id: totrans-447
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Barnes +
- en: Chris Lynch +
  id: totrans-448
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Lynch +
- en: Chris Withers
  id: totrans-449
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Withers
- en: Christoph Deil +
  id: totrans-450
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Christoph Deil +
- en: Christopher Hadley +
  id: totrans-451
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Christopher Hadley +
- en: Chuanzhu Xu
  id: totrans-452
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chuanzhu Xu
- en: Coelhudo +
  id: totrans-453
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Coelhudo +
- en: Dan Moore
  id: totrans-454
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dan Moore
- en: Daniel Saxton
  id: totrans-455
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Saxton
- en: David Kwong +
  id: totrans-456
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Kwong +
- en: David Li +
  id: totrans-457
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Li +
- en: David Mrva +
  id: totrans-458
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Mrva +
- en: Deepak Pandey +
  id: totrans-459
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Deepak Pandey +
- en: Deepyaman Datta
  id: totrans-460
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Deepyaman Datta
- en: Devin Petersohn
  id: totrans-461
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Devin Petersohn
- en: Dmitriy Perepelkin +
  id: totrans-462
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dmitriy Perepelkin +
- en: Douglas Hanley +
  id: totrans-463
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Douglas Hanley +
- en: Dāgs Grīnbergs +
  id: totrans-464
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dāgs Grīnbergs +
- en: Eli Treuherz +
  id: totrans-465
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eli Treuherz +
- en: Elliot Rampono +
  id: totrans-466
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Elliot Rampono +
- en: Erfan Nariman
  id: totrans-467
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Erfan Nariman
- en: Eric Goddard
  id: totrans-468
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric Goddard
- en: Eric Leung +
  id: totrans-469
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric Leung +
- en: Eric Wieser
  id: totrans-470
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric Wieser
- en: Ethan Chen +
  id: totrans-471
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ethan Chen +
- en: Eve +
  id: totrans-472
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eve +
- en: Eyal Trabelsi +
  id: totrans-473
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eyal Trabelsi +
- en: Fabian Gebhart +
  id: totrans-474
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fabian Gebhart +
- en: Fangchen Li
  id: totrans-475
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fangchen Li
- en: Felix Claessen +
  id: totrans-476
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Felix Claessen +
- en: Finlay Maguire +
  id: totrans-477
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Finlay Maguire +
- en: Florian Roscheck +
  id: totrans-478
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Florian Roscheck +
- en: Gabriel Monteiro
  id: totrans-479
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gabriel Monteiro
- en: Gautham +
  id: totrans-480
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gautham +
- en: Gerard Jorgensen +
  id: totrans-481
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gerard Jorgensen +
- en: Gregory Livschitz
  id: totrans-482
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gregory Livschitz
- en: Hans
  id: totrans-483
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hans
- en: Harsh Sharma
  id: totrans-484
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Harsh Sharma
- en: Honfung Wong +
  id: totrans-485
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Honfung Wong +
- en: Igor Gotlibovych +
  id: totrans-486
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Igor Gotlibovych +
- en: Iqrar Agalosi Nureyza
  id: totrans-487
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Iqrar Agalosi Nureyza
- en: Irv Lustig
  id: totrans-488
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Irv Lustig
- en: Isaac Virshup
  id: totrans-489
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Isaac Virshup
- en: Jacob Peacock
  id: totrans-490
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jacob Peacock
- en: Jacob Stevens-Haas +
  id: totrans-491
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jacob Stevens-Haas +
- en: Jan Müller +
  id: totrans-492
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jan Müller +
- en: Janus
  id: totrans-493
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Janus
- en: Jeet Parekh
  id: totrans-494
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeet Parekh
- en: Jeff Hernandez +
  id: totrans-495
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeff Hernandez +
- en: Jeff Reback
  id: totrans-496
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeff Reback
- en: Jiaxiang
  id: totrans-497
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jiaxiang
- en: Joao Pedro Berno Zanutto +
  id: totrans-498
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joao Pedro Berno Zanutto +
- en: Joel Nothman
  id: totrans-499
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joel Nothman
- en: Joel Whittier +
  id: totrans-500
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joel Whittier +
- en: John Karasinski +
  id: totrans-501
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: John Karasinski +
- en: John McGuigan +
  id: totrans-502
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: John McGuigan +
- en: Johnny Pribyl +
  id: totrans-503
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Johnny Pribyl +
- en: Jonas Laursen +
  id: totrans-504
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jonas Laursen +
- en: Jonathan Shreckengost +
  id: totrans-505
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jonathan Shreckengost +
- en: Joris Van den Bossche
  id: totrans-506
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Van den Bossche
- en: Jose +
  id: totrans-507
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jose +
- en: JoseNavy +
  id: totrans-508
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: JoseNavy +
- en: Josh Temple +
  id: totrans-509
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Josh Temple +
- en: Jun Kudo +
  id: totrans-510
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jun Kudo +
- en: Justin Essert
  id: totrans-511
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Justin Essert
- en: Justin Sexton +
  id: totrans-512
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Justin Sexton +
- en: Kaiqi Dong
  id: totrans-513
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kaiqi Dong
- en: Kamil Trocewicz +
  id: totrans-514
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kamil Trocewicz +
- en: Karthik Mathur
  id: totrans-515
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Karthik Mathur
- en: Kashif +
  id: totrans-516
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kashif +
- en: Kenny Huynh
  id: totrans-517
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kenny Huynh
- en: Kevin Sheppard
  id: totrans-518
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kevin Sheppard
- en: Kumar Shivam +
  id: totrans-519
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kumar Shivam +
- en: Leonardus Chen +
  id: totrans-520
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Leonardus Chen +
- en: Levi Matus +
  id: totrans-521
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Levi Matus +
- en: Lucas Rodés-Guirao +
  id: totrans-522
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lucas Rodés-Guirao +
- en: Luis Pinto +
  id: totrans-523
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Luis Pinto +
- en: Lynch +
  id: totrans-524
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lynch +
- en: Marc Garcia
  id: totrans-525
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marc Garcia
- en: Marco Gorelli
  id: totrans-526
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marco Gorelli
- en: Maria-Alexandra Ilie +
  id: totrans-527
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maria-Alexandra Ilie +
- en: Marian Denes
  id: totrans-528
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marian Denes
- en: Mark Graham +
  id: totrans-529
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mark Graham +
- en: Martin Durant
  id: totrans-530
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Martin Durant
- en: Matt Roeschke
  id: totrans-531
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Roeschke
- en: Matthew Roeschke
  id: totrans-532
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Roeschke
- en: Matthias Bussonnier
  id: totrans-533
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthias Bussonnier
- en: Maxim Ivanov +
  id: totrans-534
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maxim Ivanov +
- en: Mayank Chaudhary +
  id: totrans-535
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mayank Chaudhary +
- en: MeeseeksMachine
  id: totrans-536
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MeeseeksMachine
- en: Meghana Varanasi +
  id: totrans-537
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Meghana Varanasi +
- en: Metehan Kutlu +
  id: totrans-538
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Metehan Kutlu +
- en: Micael Jarniac +
  id: totrans-539
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Micael Jarniac +
- en: Micah Smith +
  id: totrans-540
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Micah Smith +
- en: Michael Marino
  id: totrans-541
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Marino
- en: Miroslav Šedivý
  id: totrans-542
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Miroslav Šedivý
- en: Mohammad Jafar Mashhadi
  id: totrans-543
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mohammad Jafar Mashhadi
- en: Mohammed Kashif +
  id: totrans-544
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mohammed Kashif +
- en: Nagesh Kumar C +
  id: totrans-545
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nagesh Kumar C +
- en: Nidhi Zare +
  id: totrans-546
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nidhi Zare +
- en: Nikhil Choudhary +
  id: totrans-547
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nikhil Choudhary +
- en: Number42
  id: totrans-548
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Number42
- en: Oleh Kozynets +
  id: totrans-549
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Oleh Kozynets +
- en: OlivierLuG
  id: totrans-550
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OlivierLuG
- en: Pandas Development Team
  id: totrans-551
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pandas 开发团队
- en: Paolo Lammens +
  id: totrans-552
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paolo Lammens +
- en: Paul Ganssle
  id: totrans-553
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul Ganssle
- en: Pax +
  id: totrans-554
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pax +
- en: Peter Liu +
  id: totrans-555
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Peter Liu +
- en: Philip Cerles +
  id: totrans-556
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Philip Cerles +
- en: Pranjal Bhardwaj +
  id: totrans-557
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pranjal Bhardwaj +
- en: Prayag Savsani +
  id: totrans-558
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Prayag Savsani +
- en: Purushothaman Srikanth +
  id: totrans-559
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Purushothaman Srikanth +
- en: Qbiwan +
  id: totrans-560
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Qbiwan +
- en: Rahul Chauhan +
  id: totrans-561
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rahul Chauhan +
- en: Rahul Sathanapalli +
  id: totrans-562
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rahul Sathanapalli +
- en: Rajat Bishnoi +
  id: totrans-563
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rajat Bishnoi +
- en: Ray Bell
  id: totrans-564
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ray Bell
- en: Reshama Shaikh +
  id: totrans-565
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Reshama Shaikh +
- en: Richard Shadrach
  id: totrans-566
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Richard Shadrach
- en: Robert Bradshaw
  id: totrans-567
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robert Bradshaw
- en: Robert de Vries
  id: totrans-568
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robert de Vries
- en: Rohith295
  id: totrans-569
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rohith295
- en: S Mono +
  id: totrans-570
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: S Mono +
- en: S.TAKENO +
  id: totrans-571
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: S.TAKENO +
- en: Sahid Velji +
  id: totrans-572
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sahid Velji +
- en: Sam Cohen +
  id: totrans-573
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sam Cohen +
- en: Sam Ezebunandu +
  id: totrans-574
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sam Ezebunandu +
- en: Sander +
  id: totrans-575
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sander +
- en: Sarthak +
  id: totrans-576
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sarthak +
- en: Sarthak Vineet Kumar +
  id: totrans-577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sarthak Vineet Kumar +
- en: Satrio H Wicaksono +
  id: totrans-578
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Satrio H Wicaksono +
- en: Scott Lasley
  id: totrans-579
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Scott Lasley
- en: Shao Yang Hong +
  id: totrans-580
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shao Yang Hong +
- en: Sharon Woo +
  id: totrans-581
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sharon Woo +
- en: Shubham Mehra +
  id: totrans-582
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shubham Mehra +
- en: Simon Hawkins
  id: totrans-583
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Simon Hawkins
- en: Sixuan (Cherie) Wu +
  id: totrans-584
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sixuan (Cherie) Wu +
- en: Souris Ash +
  id: totrans-585
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Souris Ash +
- en: Steffen Rehberg
  id: totrans-586
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Steffen Rehberg
- en: Suvayu Ali
  id: totrans-587
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Suvayu Ali
- en: Sven
  id: totrans-588
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sven
- en: SylvainLan +
  id: totrans-589
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SylvainLan +
- en: T. JEGHAM +
  id: totrans-590
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: T. JEGHAM +
- en: Terji Petersen
  id: totrans-591
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Terji Petersen
- en: Thomas Dickson +
  id: totrans-592
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Dickson +
- en: Thomas Heavey +
  id: totrans-593
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Heavey +
- en: Thomas Smith
  id: totrans-594
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Smith
- en: Tobias Pitters
  id: totrans-595
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tobias Pitters
- en: Tom Augspurger
  id: totrans-596
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tom Augspurger
- en: Tomasz Sakrejda +
  id: totrans-597
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tomasz Sakrejda +
- en: Torsten Wörtwein +
  id: totrans-598
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Torsten Wörtwein +
- en: Ty Mick +
  id: totrans-599
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ty Mick +
- en: UrielMaD +
  id: totrans-600
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: UrielMaD +
- en: Uwe L. Korn
  id: totrans-601
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Uwe L. Korn
- en: Vikramaditya Gaonkar +
  id: totrans-602
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vikramaditya Gaonkar +
- en: VirosaLi +
  id: totrans-603
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VirosaLi +
- en: W.R +
  id: totrans-604
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: W.R +
- en: Warren White +
  id: totrans-605
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Warren White +
- en: Wesley Boelrijk +
  id: totrans-606
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wesley Boelrijk +
- en: William Ayd
  id: totrans-607
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: William Ayd
- en: Yanxian Lin +
  id: totrans-608
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yanxian Lin +
- en: Yassir Karroum +
  id: totrans-609
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yassir Karroum +
- en: Yong Kai Yi +
  id: totrans-610
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yong Kai Yi +
- en: Yuanhao Geng +
  id: totrans-611
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yuanhao Geng +
- en: Yury Mikhaylov +
  id: totrans-612
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yury Mikhaylov +
- en: Yutaro Ikeda
  id: totrans-613
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yutaro Ikeda
- en: Yuya Takashina +
  id: totrans-614
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yuya Takashina +
- en: Zach Brookler +
  id: totrans-615
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zach Brookler +
- en: Zak Kohler +
  id: totrans-616
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zak Kohler +
- en: ZhihuiChen0903 +
  id: totrans-617
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ZhihuiChen0903 +
- en: abmyii
  id: totrans-618
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: abmyii
- en: alexhtn +
  id: totrans-619
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: alexhtn +
- en: asharma13524 +
  id: totrans-620
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: asharma13524 +
- en: attack68
  id: totrans-621
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: attack68
- en: beanan +
  id: totrans-622
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: beanan +
- en: chinhwee
  id: totrans-623
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: chinhwee
- en: cleconte987
  id: totrans-624
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: cleconte987
- en: danchev +
  id: totrans-625
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: danchev +
- en: ebardie +
  id: totrans-626
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ebardie +
- en: edwardkong
  id: totrans-627
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: edwardkong
- en: elliot rampono +
  id: totrans-628
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: elliot rampono +
- en: estasney +
  id: totrans-629
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: estasney +
- en: gabicca
  id: totrans-630
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gabicca
- en: geetha-rangaswamaiah +
  id: totrans-631
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: geetha-rangaswamaiah +
- en: gfyoung
  id: totrans-632
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gfyoung
- en: guru kiran
  id: totrans-633
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: guru kiran
- en: hardikpnsp +
  id: totrans-634
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: hardikpnsp +
- en: icanhazcodeplz +
  id: totrans-635
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: icanhazcodeplz +
- en: ivanovmg +
  id: totrans-636
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ivanovmg +
- en: jbrockmendel
  id: totrans-637
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jbrockmendel
- en: jeschwar
  id: totrans-638
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jeschwar
- en: jnecus
  id: totrans-639
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jnecus
- en: joooeey +
  id: totrans-640
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: joooeey +
- en: junk +
  id: totrans-641
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: junk +
- en: krajatcl +
  id: totrans-642
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: krajatcl +
- en: lacrosse91 +
  id: totrans-643
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: lacrosse91 +
- en: leo +
  id: totrans-644
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: leo +
- en: lpkirwin +
  id: totrans-645
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: lpkirwin +
- en: lrjball
  id: totrans-646
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: lrjball
- en: lucasrodes +
  id: totrans-647
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: lucasrodes +
- en: ma3da +
  id: totrans-648
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ma3da +
- en: mavismonica +
  id: totrans-649
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mavismonica +
- en: mlondschien +
  id: totrans-650
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mlondschien +
- en: mzeitlin11 +
  id: totrans-651
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mzeitlin11 +
- en: nguevara +
  id: totrans-652
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: nguevara +
- en: nrebena
  id: totrans-653
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: nrebena
- en: parkdj1 +
  id: totrans-654
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: parkdj1 +
- en: partev
  id: totrans-655
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: partev
- en: patrick
  id: totrans-656
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: patrick
- en: realead
  id: totrans-657
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: realead
- en: rxxg +
  id: totrans-658
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: rxxg +
- en: samilAyoub +
  id: totrans-659
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: samilAyoub +
- en: sanderland
  id: totrans-660
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sanderland
- en: shawnbrown
  id: totrans-661
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: shawnbrown
- en: sm1899 +
  id: totrans-662
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sm1899 +
- en: smartvinnetou
  id: totrans-663
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: smartvinnetou
- en: ssortman +
  id: totrans-664
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ssortman +
- en: steveya +
  id: totrans-665
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: steveya +
- en: taytzehao +
  id: totrans-666
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: taytzehao +
- en: tiagohonorato +
  id: totrans-667
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tiagohonorato +
- en: timhunderwood
  id: totrans-668
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: timhunderwood
- en: tkmz-n +
  id: totrans-669
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tkmz-n +
- en: tnwei +
  id: totrans-670
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tnwei +
- en: tpanza +
  id: totrans-671
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tpanza +
- en: vineethraj510 +
  id: totrans-672
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: vineethraj510 +
- en: vmdhhh +
  id: totrans-673
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: vmdhhh +
- en: xinrong-databricks +
  id: totrans-674
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: xinrong-databricks +
- en: yonas kassa +
  id: totrans-675
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: yonas kassa +
- en: yonashub +
  id: totrans-676
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: yonashub +
- en: Ádám Lippai +
  id: totrans-677
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ádám Lippai +
- en: Enhancements
  id: totrans-678
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Enhancements
- en: '### Optionally disallow duplicate labels'
  id: totrans-679
  prefs: []
  type: TYPE_NORMAL
  zh: '### 可选禁止重复标签'
- en: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    and [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    can now be created with `allows_duplicate_labels=False` flag to control whether
    the index or columns can contain duplicate labels ([GH 28394](https://github.com/pandas-dev/pandas/issues/28394)).
    This can be used to prevent accidental introduction of duplicate labels, which
    can affect downstream operations.'
  id: totrans-680
  prefs: []
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")和[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")现在可以通过设置`allows_duplicate_labels=False`标志来创建，以控制索引或列是否可以包含重复标签（[GH
    28394](https://github.com/pandas-dev/pandas/issues/28394)）。这可以用于防止意外引入重复标签，这可能会影响下游操作。'
- en: By default, duplicates continue to be allowed.
  id: totrans-681
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，允许重复。
- en: '[PRE19]'
  id: totrans-682
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: pandas will propagate the `allows_duplicate_labels` property through many operations.
  id: totrans-683
  prefs: []
  type: TYPE_NORMAL
  zh: pandas将通过许多操作传播`allows_duplicate_labels`属性。
- en: '[PRE20]'
  id: totrans-684
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Warning
  id: totrans-685
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: This is an experimental feature. Currently, many methods fail to propagate the
    `allows_duplicate_labels` value. In future versions it is expected that every
    method taking or returning one or more DataFrame or Series objects will propagate
    `allows_duplicate_labels`.
  id: totrans-686
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个试验性功能。目前，许多方法都无法传播`allows_duplicate_labels`值。未来版本预计每个接受或返回一个或多个DataFrame或Series对象的方法都将传播`allows_duplicate_labels`。
- en: See [Duplicate Labels](../user_guide/duplicates.html#duplicates) for more.
  id: totrans-687
  prefs: []
  type: TYPE_NORMAL
  zh: 查看[重复标签](../user_guide/duplicates.html#duplicates)以获取更多信息。
- en: The `allows_duplicate_labels` flag is stored in the new `DataFrame.flags` attribute.
    This stores global attributes that apply to the *pandas object*. This differs
    from [`DataFrame.attrs`](../reference/api/pandas.DataFrame.attrs.html#pandas.DataFrame.attrs
    "pandas.DataFrame.attrs"), which stores information that applies to the dataset.
  id: totrans-688
  prefs: []
  type: TYPE_NORMAL
  zh: 新的`DataFrame.flags`属性中存储了`allows_duplicate_labels`标志。这个属性存储了适用于*pandas对象*的全局属性。这与[`DataFrame.attrs`](../reference/api/pandas.DataFrame.attrs.html#pandas.DataFrame.attrs
    "pandas.DataFrame.attrs")不同，后者存储适用于数据集的信息。
- en: Passing arguments to fsspec backends
  id: totrans-689
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 将参数传递给fsspec后端
- en: Many read/write functions have acquired the `storage_options` optional argument,
    to pass a dictionary of parameters to the storage backend. This allows, for example,
    for passing credentials to S3 and GCS storage. The details of what parameters
    can be passed to which backends can be found in the documentation of the individual
    storage backends (detailed from the fsspec docs for [builtin implementations](https://filesystem-spec.readthedocs.io/en/latest/api.html#built-in-implementations)
    and linked to [external ones](https://filesystem-spec.readthedocs.io/en/latest/api.html#other-known-implementations)).
    See Section [Reading/writing remote files](../user_guide/io.html#io-remote).
  id: totrans-690
  prefs: []
  type: TYPE_NORMAL
  zh: 许多读写函数已经获得了`storage_options`可选参数，用于将参数字典传递给存储后端。这允许，例如，传递凭据给 S3 和 GCS 存储。关于可以传递哪些参数到哪些后端的详细信息可以在各个存储后端的文档中找到（从[fsspec
    文档中详细说明](https://filesystem-spec.readthedocs.io/en/latest/api.html#built-in-implementations)和链接到[外部实现](https://filesystem-spec.readthedocs.io/en/latest/api.html#other-known-implementations)）。请参阅[读取/写入远程文件](../user_guide/io.html#io-remote)部分。
- en: '[GH 35655](https://github.com/pandas-dev/pandas/issues/35655) added fsspec
    support (including `storage_options`) for reading excel files.'
  id: totrans-691
  prefs: []
  type: TYPE_NORMAL
  zh: '[GH 35655](https://github.com/pandas-dev/pandas/issues/35655) 添加了对于读取 Excel
    文件的 fsspec 支持（包括`storage_options`）。'
- en: '### Support for binary file handles in `to_csv`'
  id: totrans-692
  prefs: []
  type: TYPE_NORMAL
  zh: '### 对 `to_csv` 支持二进制文件句柄'
- en: '`to_csv()` supports file handles in binary mode ([GH 19827](https://github.com/pandas-dev/pandas/issues/19827)
    and [GH 35058](https://github.com/pandas-dev/pandas/issues/35058)) with `encoding`
    ([GH 13068](https://github.com/pandas-dev/pandas/issues/13068) and [GH 23854](https://github.com/pandas-dev/pandas/issues/23854))
    and `compression` ([GH 22555](https://github.com/pandas-dev/pandas/issues/22555)).
    If pandas does not automatically detect whether the file handle is opened in binary
    or text mode, it is necessary to provide `mode="wb"`.'
  id: totrans-693
  prefs: []
  type: TYPE_NORMAL
  zh: '`to_csv()` 支持二进制模式的文件句柄（[GH 19827](https://github.com/pandas-dev/pandas/issues/19827)
    和 [GH 35058](https://github.com/pandas-dev/pandas/issues/35058)）以及`encoding`（[GH
    13068](https://github.com/pandas-dev/pandas/issues/13068) 和 [GH 23854](https://github.com/pandas-dev/pandas/issues/23854)）和`compression`（[GH
    22555](https://github.com/pandas-dev/pandas/issues/22555)）。如果 pandas 不能自动检测文件句柄是以二进制还是文本模式打开的，则需要提供`mode="wb"`。'
- en: 'For example:'
  id: totrans-694
  prefs: []
  type: TYPE_NORMAL
  zh: 例如：
- en: '[PRE21]'
  id: totrans-695
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Support for short caption and table position in `to_latex`
  id: totrans-696
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '`to_latex` 中的简短说明和表位置的支持'
- en: '[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") now allows one to specify a floating table position
    ([GH 35281](https://github.com/pandas-dev/pandas/issues/35281)) and a short caption
    ([GH 36267](https://github.com/pandas-dev/pandas/issues/36267)).'
  id: totrans-697
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") 现在允许指定浮动表位置（[GH 35281](https://github.com/pandas-dev/pandas/issues/35281)）和简短说明（[GH
    36267](https://github.com/pandas-dev/pandas/issues/36267)）。'
- en: The keyword `position` has been added to set the position.
  id: totrans-698
  prefs: []
  type: TYPE_NORMAL
  zh: 添加了关键字`position`以设置位置。
- en: '[PRE22]'
  id: totrans-699
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Usage of the keyword `caption` has been extended. Besides taking a single string
    as an argument, one can optionally provide a tuple `(full_caption, short_caption)`
    to add a short caption macro.
  id: totrans-700
  prefs: []
  type: TYPE_NORMAL
  zh: 关键字`caption`的使用已经扩展。除了接受单个字符串作为参数外，还可以选择提供元组`(full_caption, short_caption)`以添加简短说明宏。
- en: '[PRE23]'
  id: totrans-701
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: '### Change in default floating precision for `read_csv` and `read_table`'
  id: totrans-702
  prefs: []
  type: TYPE_NORMAL
  zh: '### 更改了 `read_csv` 和 `read_table` 的默认浮点精度'
- en: 'For the C parsing engine, the methods [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") previously defaulted to a parser that could read floating
    point numbers slightly incorrectly with respect to the last bit in precision.
    The option `floating_precision="high"` has always been available to avoid this
    issue. Beginning with this version, the default is now to use the more accurate
    parser by making `floating_precision=None` correspond to the high precision parser,
    and the new option `floating_precision="legacy"` to use the legacy parser. The
    change to using the higher precision parser by default should have no impact on
    performance. ([GH 17154](https://github.com/pandas-dev/pandas/issues/17154))  ###
    Experimental nullable data types for float data'
  id: totrans-703
  prefs: []
  type: TYPE_NORMAL
  zh: '对于 C 解析引擎，方法 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 和 [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") 以前默认使用一个解析器，该解析器可能会在精度的最后一位上略微不正确地读取浮点数。选项 `floating_precision="high"`
    一直可用于避免此问题。从此版本开始，默认值现在是使用更准确的解析器，使 `floating_precision=None` 对应于高精度解析器，新选项 `floating_precision="legacy"`
    用于使用旧解析器。默认情况下改为使用更高精度的解析器不应对性能产生影响。([GH 17154](https://github.com/pandas-dev/pandas/issues/17154))  ###
    浮点数据的实验性可空数据类型'
- en: We’ve added [`Float32Dtype`](../reference/api/pandas.Float32Dtype.html#pandas.Float32Dtype
    "pandas.Float32Dtype") / [`Float64Dtype`](../reference/api/pandas.Float64Dtype.html#pandas.Float64Dtype
    "pandas.Float64Dtype") and [`FloatingArray`](../reference/api/pandas.arrays.FloatingArray.html#pandas.arrays.FloatingArray
    "pandas.arrays.FloatingArray"). These are extension data types dedicated to floating
    point data that can hold the `pd.NA` missing value indicator ([GH 32265](https://github.com/pandas-dev/pandas/issues/32265),
    [GH 34307](https://github.com/pandas-dev/pandas/issues/34307)).
  id: totrans-704
  prefs: []
  type: TYPE_NORMAL
  zh: 我们新增了[`Float32Dtype`](../reference/api/pandas.Float32Dtype.html#pandas.Float32Dtype
    "pandas.Float32Dtype") / [`Float64Dtype`](../reference/api/pandas.Float64Dtype.html#pandas.Float64Dtype
    "pandas.Float64Dtype") 和 [`FloatingArray`](../reference/api/pandas.arrays.FloatingArray.html#pandas.arrays.FloatingArray
    "pandas.arrays.FloatingArray")。这些是专门用于浮点数据的扩展数据类型，可以容纳`pd.NA`缺失值指示器 ([GH 32265](https://github.com/pandas-dev/pandas/issues/32265),
    [GH 34307](https://github.com/pandas-dev/pandas/issues/34307))。
- en: While the default float data type already supports missing values using `np.nan`,
    these new data types use `pd.NA` (and its corresponding behavior) as the missing
    value indicator, in line with the already existing nullable [integer](../user_guide/integer_na.html#integer-na)
    and [boolean](../user_guide/boolean.html#boolean) data types.
  id: totrans-705
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管默认的浮点数据类型已经支持使用 `np.nan` 来表示缺失值，但这些新的数据类型使用 `pd.NA`（以及其相应的行为）作为缺失值指示器，与已经存在的可空整数和布尔数据类型保持一致。
- en: 'One example where the behavior of `np.nan` and `pd.NA` is different is comparison
    operations:'
  id: totrans-706
  prefs: []
  type: TYPE_NORMAL
  zh: '`np.nan` 和 `pd.NA` 行为不同的一个示例是比较操作：'
- en: '[PRE24]'
  id: totrans-707
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '[PRE25]'
  id: totrans-708
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: See the [NA semantics](../user_guide/missing_data.html#missing-data-na) doc
    section for more details on the behavior when using the `pd.NA` missing value
    indicator.
  id: totrans-709
  prefs: []
  type: TYPE_NORMAL
  zh: 更多关于使用 `pd.NA` 缺失值指示器时的行为的详细信息，请参阅 [NA 语义](../user_guide/missing_data.html#missing-data-na)
    文档部分。
- en: 'As shown above, the dtype can be specified using the “Float64” or “Float32”
    string (capitalized to distinguish it from the default “float64” data type). Alternatively,
    you can also use the dtype object:'
  id: totrans-710
  prefs: []
  type: TYPE_NORMAL
  zh: 如上所示，可以使用 “Float64” 或 “Float32” 字符串指定数据类型（大写以区别于默认的 “float64” 数据类型）。另外，您也可以使用数据类型对象：
- en: '[PRE26]'
  id: totrans-711
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: Operations with the existing integer or boolean nullable data types that give
    float results will now also use the nullable floating data types ([GH 38178](https://github.com/pandas-dev/pandas/issues/38178)).
  id: totrans-712
  prefs: []
  type: TYPE_NORMAL
  zh: 对于产生浮点结果的现有整数或布尔可空数据类型的操作，现在也将使用可空浮点数据类型 ([GH 38178](https://github.com/pandas-dev/pandas/issues/38178))。
- en: Warning
  id: totrans-713
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: 'Experimental: the new floating data types are currently experimental, and their
    behavior or API may still change without warning. Especially the behavior regarding
    NaN (distinct from NA missing values) is subject to change.  ### Index/column
    name preservation when aggregating'
  id: totrans-714
  prefs: []
  type: TYPE_NORMAL
  zh: 实验性的：新的浮点数据类型目前还处于实验阶段，它们的行为或 API 可能会在不经过警告的情况下发生变化。特别是关于 NaN（与 NA 缺失值不同）的行为可能会发生变化。###
    聚合时保留索引/列名
- en: 'When aggregating using [`concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") or the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor, pandas will now attempt to preserve index and
    column names whenever possible ([GH 35847](https://github.com/pandas-dev/pandas/issues/35847)).
    In the case where all inputs share a common name, this name will be assigned to
    the result. When the input names do not all agree, the result will be unnamed.
    Here is an example where the index name is preserved:'
  id: totrans-715
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")函数或[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")构造函数进行聚合时，pandas现在会尽可能保留索引和列名称（[GH 35847](https://github.com/pandas-dev/pandas/issues/35847)）。如果所有输入共享一个公共名称，则将该名称分配给结果。当输入名称不完全一致时，结果将无名称。下面是一个保留索引名称的示例：
- en: '[PRE27]'
  id: totrans-716
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'The same is true for [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex"), but the logic is applied separately on a level-by-level
    basis.  ### GroupBy supports EWM operations directly'
  id: totrans-717
  prefs: []
  type: TYPE_NORMAL
  zh: 对于[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")也是如此，但逻辑是分别按级别应用的。###
    GroupBy直接支持EWM操作
- en: '`DataFrameGroupBy` now supports exponentially weighted window operations directly
    ([GH 16037](https://github.com/pandas-dev/pandas/issues/16037)).'
  id: totrans-718
  prefs: []
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy`现在直接支持指数加权窗口操作（[GH 16037](https://github.com/pandas-dev/pandas/issues/16037)）'
- en: '[PRE28]'
  id: totrans-719
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Additionally `mean` supports execution via [Numba](https://numba.pydata.org/)
    with the `engine` and `engine_kwargs` arguments. Numba must be installed as an
    optional dependency to use this feature.  ### Other enhancements'
  id: totrans-720
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，`mean`函数支持通过[Numba](https://numba.pydata.org/)执行，可使用`engine`和`engine_kwargs`参数。必须安装Numba作为可选依赖项才能使用此功能。###
    其他增强功能
- en: Added `day_of_week` (compatibility alias `dayofweek`) property to [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp"), [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period"), [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") ([GH 9605](https://github.com/pandas-dev/pandas/issues/9605))
  id: totrans-721
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")、[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")、[`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period")、[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")上添加了`day_of_week`（兼容别名`dayofweek`）属性（[GH 9605](https://github.com/pandas-dev/pandas/issues/9605)）
- en: Added `day_of_year` (compatibility alias `dayofyear`) property to [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp"), [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period"), [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") ([GH 9605](https://github.com/pandas-dev/pandas/issues/9605))
  id: totrans-722
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")、[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")、[`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period")、[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")上添加了`day_of_year`（兼容别名`dayofyear`）属性（[GH 9605](https://github.com/pandas-dev/pandas/issues/9605)）
- en: Added [`set_flags()`](../reference/api/pandas.DataFrame.set_flags.html#pandas.DataFrame.set_flags
    "pandas.DataFrame.set_flags") for setting table-wide flags on a Series or DataFrame
    ([GH 28394](https://github.com/pandas-dev/pandas/issues/28394))
  id: totrans-723
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了[`set_flags()`](../reference/api/pandas.DataFrame.set_flags.html#pandas.DataFrame.set_flags
    "pandas.DataFrame.set_flags")函数，用于在Series或DataFrame上设置表范围的标志（[GH 28394](https://github.com/pandas-dev/pandas/issues/28394)）
- en: '[`DataFrame.applymap()`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap") now supports `na_action` ([GH 23803](https://github.com/pandas-dev/pandas/issues/23803))'
  id: totrans-724
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.applymap()`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap")函数现在支持`na_action`参数（[GH 23803](https://github.com/pandas-dev/pandas/issues/23803)）'
- en: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") with
    object dtype supports division and multiplication ([GH 34160](https://github.com/pandas-dev/pandas/issues/34160))'
  id: totrans-725
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有对象dtype的[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")支持除法和乘法（[GH
    34160](https://github.com/pandas-dev/pandas/issues/34160)）
- en: '`io.sql.get_schema()` now supports a `schema` keyword argument that will add
    a schema into the create table statement ([GH 28486](https://github.com/pandas-dev/pandas/issues/28486))'
  id: totrans-726
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`io.sql.get_schema()` 现在支持 `schema` 关键字参数，该参数将在创建表语句中添加一个模式（[GH 28486](https://github.com/pandas-dev/pandas/issues/28486)）'
- en: '[`DataFrame.explode()`](../reference/api/pandas.DataFrame.explode.html#pandas.DataFrame.explode
    "pandas.DataFrame.explode") and [`Series.explode()`](../reference/api/pandas.Series.explode.html#pandas.Series.explode
    "pandas.Series.explode") now support exploding of sets ([GH 35614](https://github.com/pandas-dev/pandas/issues/35614))'
  id: totrans-727
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.explode()`](../reference/api/pandas.DataFrame.explode.html#pandas.DataFrame.explode
    "pandas.DataFrame.explode") 和 [`Series.explode()`](../reference/api/pandas.Series.explode.html#pandas.Series.explode
    "pandas.Series.explode") 现在支持集合的展开（[GH 35614](https://github.com/pandas-dev/pandas/issues/35614)）'
- en: '[`DataFrame.hist()`](../reference/api/pandas.DataFrame.hist.html#pandas.DataFrame.hist
    "pandas.DataFrame.hist") now supports time series (datetime) data ([GH 32590](https://github.com/pandas-dev/pandas/issues/32590))'
  id: totrans-728
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.hist()`](../reference/api/pandas.DataFrame.hist.html#pandas.DataFrame.hist
    "pandas.DataFrame.hist") 现在支持时间序列（日期时间）数据（[GH 32590](https://github.com/pandas-dev/pandas/issues/32590)）'
- en: '[`Styler.set_table_styles()`](../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles
    "pandas.io.formats.style.Styler.set_table_styles") now allows the direct styling
    of rows and columns and can be chained ([GH 35607](https://github.com/pandas-dev/pandas/issues/35607))'
  id: totrans-729
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.set_table_styles()`](../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles
    "pandas.io.formats.style.Styler.set_table_styles") 现在允许直接为行和列设置样式，并且可以链式调用（[GH
    35607](https://github.com/pandas-dev/pandas/issues/35607)）'
- en: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") now allows direct CSS class name addition to
    individual data cells ([GH 36159](https://github.com/pandas-dev/pandas/issues/36159))'
  id: totrans-730
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 现在允许将直接的 CSS 类名添加到单个数据单元格中（[GH 36159](https://github.com/pandas-dev/pandas/issues/36159)）'
- en: '[`Rolling.mean()`](../reference/api/pandas.core.window.rolling.Rolling.mean.html#pandas.core.window.rolling.Rolling.mean
    "pandas.core.window.rolling.Rolling.mean") and [`Rolling.sum()`](../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum
    "pandas.core.window.rolling.Rolling.sum") use Kahan summation to calculate the
    mean to avoid numerical problems ([GH 10319](https://github.com/pandas-dev/pandas/issues/10319),
    [GH 11645](https://github.com/pandas-dev/pandas/issues/11645), [GH 13254](https://github.com/pandas-dev/pandas/issues/13254),
    [GH 32761](https://github.com/pandas-dev/pandas/issues/32761), [GH 36031](https://github.com/pandas-dev/pandas/issues/36031))'
  id: totrans-731
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Rolling.mean()`](../reference/api/pandas.core.window.rolling.Rolling.mean.html#pandas.core.window.rolling.Rolling.mean
    "pandas.core.window.rolling.Rolling.mean") 和 [`Rolling.sum()`](../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum
    "pandas.core.window.rolling.Rolling.sum") 使用 Kahan 总和法计算平均值以避免数值问题（[GH 10319](https://github.com/pandas-dev/pandas/issues/10319)、[GH
    11645](https://github.com/pandas-dev/pandas/issues/11645)、[GH 13254](https://github.com/pandas-dev/pandas/issues/13254)、[GH
    32761](https://github.com/pandas-dev/pandas/issues/32761)、[GH 36031](https://github.com/pandas-dev/pandas/issues/36031)）'
- en: '`DatetimeIndex.searchsorted()`, `TimedeltaIndex.searchsorted()`, `PeriodIndex.searchsorted()`,
    and [`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted") with datetime-like dtypes will now try to cast string
    arguments (list-like and scalar) to the matching datetime-like type ([GH 36346](https://github.com/pandas-dev/pandas/issues/36346))'
  id: totrans-732
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.searchsorted()`、`TimedeltaIndex.searchsorted()`、`PeriodIndex.searchsorted()`
    和 [`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted") 在具有类似日期时间的数据类型时，现在会尝试将字符串参数（类似列表和标量）转换为相匹配的日期时间类型（[GH
    36346](https://github.com/pandas-dev/pandas/issues/36346)）'
- en: Added methods `IntegerArray.prod()`, `IntegerArray.min()`, and `IntegerArray.max()`
    ([GH 33790](https://github.com/pandas-dev/pandas/issues/33790))
  id: totrans-733
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新增方法 `IntegerArray.prod()`、`IntegerArray.min()` 和 `IntegerArray.max()`（[GH 33790](https://github.com/pandas-dev/pandas/issues/33790)）
- en: Calling a NumPy ufunc on a `DataFrame` with extension types now preserves the
    extension types when possible ([GH 23743](https://github.com/pandas-dev/pandas/issues/23743))
  id: totrans-734
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对 `DataFrame` 调用 NumPy 通用函数时，现在会在可能的情况下保留扩展类型（[GH 23743](https://github.com/pandas-dev/pandas/issues/23743)）
- en: Calling a binary-input NumPy ufunc on multiple `DataFrame` objects now aligns,
    matching the behavior of binary operations and ufuncs on `Series` ([GH 23743](https://github.com/pandas-dev/pandas/issues/23743)).
    This change has been reverted in pandas 1.2.1, and the behaviour to not align
    DataFrames is deprecated instead, see the [the 1.2.1 release notes](v1.2.1.html#whatsnew-121-ufunc-deprecation).
  id: totrans-735
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 调用二进制输入的 NumPy ufunc 在多个 `DataFrame` 对象上现在会对齐，与 `Series` 上的二进制操作和 ufuncs 的行为匹配（[GH
    23743](https://github.com/pandas-dev/pandas/issues/23743)）。这一变更已在 pandas 1.2.1
    中被撤销，不对齐 DataFrames 的行为已被弃用，详见 [1.2.1 发行说明](v1.2.1.html#whatsnew-121-ufunc-deprecation)。
- en: Where possible `RangeIndex.difference()` and `RangeIndex.symmetric_difference()`
    will return [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex
    "pandas.RangeIndex") instead of `Int64Index` ([GH 36564](https://github.com/pandas-dev/pandas/issues/36564))
  id: totrans-736
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在可能的情况下，`RangeIndex.difference()` 和 `RangeIndex.symmetric_difference()` 将返回
    [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex "pandas.RangeIndex")
    而不是 `Int64Index` ([GH 36564](https://github.com/pandas-dev/pandas/issues/36564))
- en: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") now supports [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") for columns in parquet format ([GH 34777](https://github.com/pandas-dev/pandas/issues/34777))'
  id: totrans-737
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") 现在支持 parquet 格式中列的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 34777](https://github.com/pandas-dev/pandas/issues/34777))'
- en: '[`read_parquet()`](../reference/api/pandas.read_parquet.html#pandas.read_parquet
    "pandas.read_parquet") gained a `use_nullable_dtypes=True` option to use nullable
    dtypes that use `pd.NA` as missing value indicator where possible for the resulting
    DataFrame (default is `False`, and only applicable for `engine="pyarrow"`) ([GH
    31242](https://github.com/pandas-dev/pandas/issues/31242))'
  id: totrans-738
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_parquet()`](../reference/api/pandas.read_parquet.html#pandas.read_parquet
    "pandas.read_parquet") 增加了 `use_nullable_dtypes=True` 选项，以在可能的情况下使用 `pd.NA` 作为缺失值指示符的可空数据类型，用于生成的
    DataFrame（默认为 `False`，仅适用于 `engine="pyarrow"`） ([GH 31242](https://github.com/pandas-dev/pandas/issues/31242))'
- en: Added [`Rolling.sem()`](../reference/api/pandas.core.window.rolling.Rolling.sem.html#pandas.core.window.rolling.Rolling.sem
    "pandas.core.window.rolling.Rolling.sem") and `Expanding.sem()` to compute the
    standard error of the mean ([GH 26476](https://github.com/pandas-dev/pandas/issues/26476))
  id: totrans-739
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了 [`Rolling.sem()`](../reference/api/pandas.core.window.rolling.Rolling.sem.html#pandas.core.window.rolling.Rolling.sem
    "pandas.core.window.rolling.Rolling.sem") 和 `Expanding.sem()` 来计算均值的标准误差 ([GH
    26476](https://github.com/pandas-dev/pandas/issues/26476))
- en: '[`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") and [`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") use Kahan summation and Welford’s Method
    to avoid numerical issues ([GH 37051](https://github.com/pandas-dev/pandas/issues/37051))'
  id: totrans-740
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") 和 [`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") 使用 Kahan 求和和 Welford 方法来避免数值问题 ([GH
    37051](https://github.com/pandas-dev/pandas/issues/37051))'
- en: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") and [`DataFrame.cov()`](../reference/api/pandas.DataFrame.cov.html#pandas.DataFrame.cov
    "pandas.DataFrame.cov") use Welford’s Method to avoid numerical issues ([GH 37448](https://github.com/pandas-dev/pandas/issues/37448))'
  id: totrans-741
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") 和 [`DataFrame.cov()`](../reference/api/pandas.DataFrame.cov.html#pandas.DataFrame.cov
    "pandas.DataFrame.cov") 使用 Welford 方法来避免数值问题 ([GH 37448](https://github.com/pandas-dev/pandas/issues/37448))'
- en: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") now recognizes `xlabel` and `ylabel` arguments for plots
    of type `scatter` and `hexbin` ([GH 37001](https://github.com/pandas-dev/pandas/issues/37001))'
  id: totrans-742
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 现在可以识别 `scatter` 和 `hexbin` 类型图的 `xlabel` 和 `ylabel`
    参数 ([GH 37001](https://github.com/pandas-dev/pandas/issues/37001))'
- en: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    now supports the `divmod` operation ([GH 37165](https://github.com/pandas-dev/pandas/issues/37165))'
  id: totrans-743
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    现在支持 `divmod` 操作 ([GH 37165](https://github.com/pandas-dev/pandas/issues/37165))'
- en: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") now returns a `bytes` object when no `path` argument
    is passed ([GH 37105](https://github.com/pandas-dev/pandas/issues/37105))'
  id: totrans-744
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet")现在在不传递`path`参数时返回一个`bytes`对象（[GH 37105](https://github.com/pandas-dev/pandas/issues/37105))'
- en: '`Rolling` now supports the `closed` argument for fixed windows ([GH 34315](https://github.com/pandas-dev/pandas/issues/34315))'
  id: totrans-745
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Rolling`现在支持了固定窗口的`closed`参数（[GH 34315](https://github.com/pandas-dev/pandas/issues/34315))'
- en: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `datetime64` or `datetime64tz` dtypes now support `std`
    ([GH 37436](https://github.com/pandas-dev/pandas/issues/37436))'
  id: totrans-746
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有`datetime64`或`datetime64tz` dtype的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")现在支持`std`（[GH 37436](https://github.com/pandas-dev/pandas/issues/37436))
- en: '`Window` now supports all Scipy window types in `win_type` with flexible keyword
    argument support ([GH 34556](https://github.com/pandas-dev/pandas/issues/34556))'
  id: totrans-747
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Window`现在支持在`win_type`中使用所有Scipy窗口类型，并支持灵活的关键字参数（[GH 34556](https://github.com/pandas-dev/pandas/issues/34556))'
- en: '[`testing.assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal") now has a `check_order` parameter that allows
    indexes to be checked in an order-insensitive manner ([GH 37478](https://github.com/pandas-dev/pandas/issues/37478))'
  id: totrans-748
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`testing.assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal")现在有了一个`check_order`参数，允许以无序方式检查索引（[GH 37478](https://github.com/pandas-dev/pandas/issues/37478))'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    supports memory-mapping for compressed files ([GH 37621](https://github.com/pandas-dev/pandas/issues/37621))'
  id: totrans-749
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")支持对压缩文件进行内存映射（[GH
    37621](https://github.com/pandas-dev/pandas/issues/37621))'
- en: Add support for `min_count` keyword for [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") and [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") for functions `min`, `max`, `first` and `last` ([GH
    37821](https://github.com/pandas-dev/pandas/issues/37821), [GH 37768](https://github.com/pandas-dev/pandas/issues/37768))
  id: totrans-750
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby")和[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample")函数的`min`、`max`、`first`和`last`添加对`min_count`关键字的支持（[GH
    37821](https://github.com/pandas-dev/pandas/issues/37821)，[GH 37768](https://github.com/pandas-dev/pandas/issues/37768))
- en: Improve error reporting for [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") when invalid merge column definitions were given ([GH
    16228](https://github.com/pandas-dev/pandas/issues/16228))
  id: totrans-751
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在给出无效的合并列定义时，改进了对[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")的错误报告 ([GH 16228](https://github.com/pandas-dev/pandas/issues/16228))
- en: Improve numerical stability for [`Rolling.skew()`](../reference/api/pandas.core.window.rolling.Rolling.skew.html#pandas.core.window.rolling.Rolling.skew
    "pandas.core.window.rolling.Rolling.skew"), [`Rolling.kurt()`](../reference/api/pandas.core.window.rolling.Rolling.kurt.html#pandas.core.window.rolling.Rolling.kurt
    "pandas.core.window.rolling.Rolling.kurt"), `Expanding.skew()` and `Expanding.kurt()`
    through implementation of Kahan summation ([GH 6929](https://github.com/pandas-dev/pandas/issues/6929))
  id: totrans-752
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过实现Kahan求和改进了对[`Rolling.skew()`](../reference/api/pandas.core.window.rolling.Rolling.skew.html#pandas.core.window.rolling.Rolling.skew
    "pandas.core.window.rolling.Rolling.skew")、[`Rolling.kurt()`](../reference/api/pandas.core.window.rolling.Rolling.kurt.html#pandas.core.window.rolling.Rolling.kurt
    "pandas.core.window.rolling.Rolling.kurt")、`Expanding.skew()`和`Expanding.kurt()`的数值稳定性（[GH
    6929](https://github.com/pandas-dev/pandas/issues/6929))
- en: Improved error reporting for subsetting columns of a `DataFrameGroupBy` with
    `axis=1` ([GH 37725](https://github.com/pandas-dev/pandas/issues/37725))
  id: totrans-753
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于使用`axis=1`的`DataFrameGroupBy`，改进了对列子集的错误报告（[GH 37725](https://github.com/pandas-dev/pandas/issues/37725))
- en: Implement method `cross` for [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") and [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") ([GH 5401](https://github.com/pandas-dev/pandas/issues/5401))
  id: totrans-754
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")和[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join")实现了`cross`方法（[GH 5401](https://github.com/pandas-dev/pandas/issues/5401)）
- en: When [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv"),
    [`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    and [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json "pandas.read_json")
    are called with `chunksize`/`iterator` they can be used in a `with` statement
    as they return context-managers ([GH 38225](https://github.com/pandas-dev/pandas/issues/38225))
  id: totrans-755
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用`chunksize`/`iterator`调用[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")、[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas
    "pandas.read_sas")和[`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json")时，它们可以在`with`语句中使用，因为它们返回上下文管理器（[GH 38225](https://github.com/pandas-dev/pandas/issues/38225)）
- en: 'Augmented the list of named colors available for styling Excel exports, enabling
    all of CSS4 colors ([GH 38247](https://github.com/pandas-dev/pandas/issues/38247))  ###
    Optionally disallow duplicate labels'
  id: totrans-756
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '增加了用于样式化Excel导出的已命名颜色列表，启用了所有CSS4颜色（[GH 38247](https://github.com/pandas-dev/pandas/issues/38247)）
    ### 可选择不允许重复标签'
- en: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    and [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    can now be created with `allows_duplicate_labels=False` flag to control whether
    the index or columns can contain duplicate labels ([GH 28394](https://github.com/pandas-dev/pandas/issues/28394)).
    This can be used to prevent accidental introduction of duplicate labels, which
    can affect downstream operations.'
  id: totrans-757
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`allows_duplicate_labels=False`标志，现在可以创建`Series`和`DataFrame`，以控制索引或列是否可以包含重复标签（[GH
    28394](https://github.com/pandas-dev/pandas/issues/28394)）。这可用于防止意外引入重复标签，这可能会影响到下游操作。
- en: By default, duplicates continue to be allowed.
  id: totrans-758
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，允许重复继续存在。
- en: '[PRE29]'
  id: totrans-759
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: pandas will propagate the `allows_duplicate_labels` property through many operations.
  id: totrans-760
  prefs: []
  type: TYPE_NORMAL
  zh: pandas将通过许多操作传播`allows_duplicate_labels`属性。
- en: '[PRE30]'
  id: totrans-761
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Warning
  id: totrans-762
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: This is an experimental feature. Currently, many methods fail to propagate the
    `allows_duplicate_labels` value. In future versions it is expected that every
    method taking or returning one or more DataFrame or Series objects will propagate
    `allows_duplicate_labels`.
  id: totrans-763
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个试验性的功能。当前，许多方法未能传播`allows_duplicate_labels`值。在未来版本中，预计每个接受或返回一个或多个DataFrame或Series对象的方法都将传播`allows_duplicate_labels`。
- en: See [Duplicate Labels](../user_guide/duplicates.html#duplicates) for more.
  id: totrans-764
  prefs: []
  type: TYPE_NORMAL
  zh: 更多信息请参阅[Duplicate Labels](../user_guide/duplicates.html#duplicates)。
- en: The `allows_duplicate_labels` flag is stored in the new `DataFrame.flags` attribute.
    This stores global attributes that apply to the *pandas object*. This differs
    from [`DataFrame.attrs`](../reference/api/pandas.DataFrame.attrs.html#pandas.DataFrame.attrs
    "pandas.DataFrame.attrs"), which stores information that applies to the dataset.
  id: totrans-765
  prefs: []
  type: TYPE_NORMAL
  zh: '`allows_duplicate_labels`标志存储在新的`DataFrame.flags`属性中。这个属性存储适用于*pandas对象*的全局属性。这与[`DataFrame.attrs`](../reference/api/pandas.DataFrame.attrs.html#pandas.DataFrame.attrs
    "pandas.DataFrame.attrs")不同，后者存储适用于数据集的信息。'
- en: Passing arguments to fsspec backends
  id: totrans-766
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 将参数传递给fsspec后端
- en: Many read/write functions have acquired the `storage_options` optional argument,
    to pass a dictionary of parameters to the storage backend. This allows, for example,
    for passing credentials to S3 and GCS storage. The details of what parameters
    can be passed to which backends can be found in the documentation of the individual
    storage backends (detailed from the fsspec docs for [builtin implementations](https://filesystem-spec.readthedocs.io/en/latest/api.html#built-in-implementations)
    and linked to [external ones](https://filesystem-spec.readthedocs.io/en/latest/api.html#other-known-implementations)).
    See Section [Reading/writing remote files](../user_guide/io.html#io-remote).
  id: totrans-767
  prefs: []
  type: TYPE_NORMAL
  zh: 许多读取/写入函数已经获取了 `storage_options` 可选参数，用于将参数字典传递给存储后端。这允许，例如，将凭据传递给 S3 和 GCS
    存储。可以在各个存储后端的文档中找到可以传递给哪些后端的参数的详细信息（从 fsspec 文档详细说明了 [内置实现](https://filesystem-spec.readthedocs.io/en/latest/api.html#built-in-implementations)
    并链接到 [外部实现](https://filesystem-spec.readthedocs.io/en/latest/api.html#other-known-implementations)）。请参阅章节
    [读取/写入远程文件](../user_guide/io.html#io-remote)。
- en: '[GH 35655](https://github.com/pandas-dev/pandas/issues/35655) added fsspec
    support (including `storage_options`) for reading excel files.'
  id: totrans-768
  prefs: []
  type: TYPE_NORMAL
  zh: '[GH 35655](https://github.com/pandas-dev/pandas/issues/35655) 添加了对读取 Excel
    文件的 fsspec 支持（包括 `storage_options`）。'
- en: '### Support for binary file handles in `to_csv`'
  id: totrans-769
  prefs: []
  type: TYPE_NORMAL
  zh: '### 支持在 `to_csv` 中使用二进制文件句柄'
- en: '`to_csv()` supports file handles in binary mode ([GH 19827](https://github.com/pandas-dev/pandas/issues/19827)
    and [GH 35058](https://github.com/pandas-dev/pandas/issues/35058)) with `encoding`
    ([GH 13068](https://github.com/pandas-dev/pandas/issues/13068) and [GH 23854](https://github.com/pandas-dev/pandas/issues/23854))
    and `compression` ([GH 22555](https://github.com/pandas-dev/pandas/issues/22555)).
    If pandas does not automatically detect whether the file handle is opened in binary
    or text mode, it is necessary to provide `mode="wb"`.'
  id: totrans-770
  prefs: []
  type: TYPE_NORMAL
  zh: '`to_csv()` 支持以二进制模式打开的文件句柄（[GH 19827](https://github.com/pandas-dev/pandas/issues/19827)
    和 [GH 35058](https://github.com/pandas-dev/pandas/issues/35058)）与 `encoding`（[GH
    13068](https://github.com/pandas-dev/pandas/issues/13068) 和 [GH 23854](https://github.com/pandas-dev/pandas/issues/23854)）以及
    `compression`（[GH 22555](https://github.com/pandas-dev/pandas/issues/22555)）。如果
    pandas 无法自动检测文件句柄是以二进制还是文本模式打开的，则需要提供 `mode="wb"`。'
- en: 'For example:'
  id: totrans-771
  prefs: []
  type: TYPE_NORMAL
  zh: 例如：
- en: '[PRE31]'
  id: totrans-772
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: Support for short caption and table position in `to_latex`
  id: totrans-773
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在 `to_latex` 中支持短标题和表位置
- en: '[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") now allows one to specify a floating table position
    ([GH 35281](https://github.com/pandas-dev/pandas/issues/35281)) and a short caption
    ([GH 36267](https://github.com/pandas-dev/pandas/issues/36267)).'
  id: totrans-774
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") 现在允许指定浮动表位置（[GH 35281](https://github.com/pandas-dev/pandas/issues/35281)）和短标题（[GH
    36267](https://github.com/pandas-dev/pandas/issues/36267)）。'
- en: The keyword `position` has been added to set the position.
  id: totrans-775
  prefs: []
  type: TYPE_NORMAL
  zh: 添加了关键字 `position` 以设置位置。
- en: '[PRE32]'
  id: totrans-776
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Usage of the keyword `caption` has been extended. Besides taking a single string
    as an argument, one can optionally provide a tuple `(full_caption, short_caption)`
    to add a short caption macro.
  id: totrans-777
  prefs: []
  type: TYPE_NORMAL
  zh: 关键字 `caption` 的用法已扩展。除了接受单个字符串作为参数外，还可以选择提供一个元组 `(full_caption, short_caption)`
    来添加一个简短标题宏。
- en: '[PRE33]'
  id: totrans-778
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: '### Change in default floating precision for `read_csv` and `read_table`'
  id: totrans-779
  prefs: []
  type: TYPE_NORMAL
  zh: '### 更改 `read_csv` 和 `read_table` 的默认浮点精度'
- en: For the C parsing engine, the methods [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") previously defaulted to a parser that could read floating
    point numbers slightly incorrectly with respect to the last bit in precision.
    The option `floating_precision="high"` has always been available to avoid this
    issue. Beginning with this version, the default is now to use the more accurate
    parser by making `floating_precision=None` correspond to the high precision parser,
    and the new option `floating_precision="legacy"` to use the legacy parser. The
    change to using the higher precision parser by default should have no impact on
    performance. ([GH 17154](https://github.com/pandas-dev/pandas/issues/17154))
  id: totrans-780
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 C 解析引擎，方法 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 和 [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") 以前默认使用一个解析器，该解析器在浮点数的精度上略微不正确，与最后一位有关。选项 `floating_precision="high"`
    一直可用以避免此问题。从此版本开始，默认值现在是使用更准确的解析器，使 `floating_precision=None` 对应于高精度解析器，并使用新选项
    `floating_precision="legacy"` 来使用旧解析器。默认情况下更改为使用更高精度解析器不应影响性能。（[GH 17154](https://github.com/pandas-dev/pandas/issues/17154)）
- en: '### Experimental nullable data types for float data'
  id: totrans-781
  prefs: []
  type: TYPE_NORMAL
  zh: '### 实验性的浮点数据的可空数据类型'
- en: We’ve added [`Float32Dtype`](../reference/api/pandas.Float32Dtype.html#pandas.Float32Dtype
    "pandas.Float32Dtype") / [`Float64Dtype`](../reference/api/pandas.Float64Dtype.html#pandas.Float64Dtype
    "pandas.Float64Dtype") and [`FloatingArray`](../reference/api/pandas.arrays.FloatingArray.html#pandas.arrays.FloatingArray
    "pandas.arrays.FloatingArray"). These are extension data types dedicated to floating
    point data that can hold the `pd.NA` missing value indicator ([GH 32265](https://github.com/pandas-dev/pandas/issues/32265),
    [GH 34307](https://github.com/pandas-dev/pandas/issues/34307)).
  id: totrans-782
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已添加了 [`Float32Dtype`](../reference/api/pandas.Float32Dtype.html#pandas.Float32Dtype
    "pandas.Float32Dtype") / [`Float64Dtype`](../reference/api/pandas.Float64Dtype.html#pandas.Float64Dtype
    "pandas.Float64Dtype") 和 [`FloatingArray`](../reference/api/pandas.arrays.FloatingArray.html#pandas.arrays.FloatingArray
    "pandas.arrays.FloatingArray")。这些是专用于浮点数据的扩展数据类型，可以保存 `pd.NA` 缺失值指示符（[GH 32265](https://github.com/pandas-dev/pandas/issues/32265)，[GH
    34307](https://github.com/pandas-dev/pandas/issues/34307)）。
- en: While the default float data type already supports missing values using `np.nan`,
    these new data types use `pd.NA` (and its corresponding behavior) as the missing
    value indicator, in line with the already existing nullable [integer](../user_guide/integer_na.html#integer-na)
    and [boolean](../user_guide/boolean.html#boolean) data types.
  id: totrans-783
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然默认的浮点数据类型已经使用 `np.nan` 支持缺失值，但这些新的数据类型使用 `pd.NA`（及其相应的行为）作为缺失值指示符，与已经存在的可空[整数](../user_guide/integer_na.html#integer-na)和[布尔](../user_guide/boolean.html#boolean)数据类型保持一致。
- en: 'One example where the behavior of `np.nan` and `pd.NA` is different is comparison
    operations:'
  id: totrans-784
  prefs: []
  type: TYPE_NORMAL
  zh: 一个示例是 `np.nan` 和 `pd.NA` 的行为不同的情况是比较操作：
- en: '[PRE34]'
  id: totrans-785
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: '[PRE35]'
  id: totrans-786
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: See the [NA semantics](../user_guide/missing_data.html#missing-data-na) doc
    section for more details on the behavior when using the `pd.NA` missing value
    indicator.
  id: totrans-787
  prefs: []
  type: TYPE_NORMAL
  zh: 有关使用 `pd.NA` 缺失值指示符时的行为的更多详细信息，请参见[NA 语义](../user_guide/missing_data.html#missing-data-na)文档部分。
- en: 'As shown above, the dtype can be specified using the “Float64” or “Float32”
    string (capitalized to distinguish it from the default “float64” data type). Alternatively,
    you can also use the dtype object:'
  id: totrans-788
  prefs: []
  type: TYPE_NORMAL
  zh: 如上所示，dtype 可以使用“Float64”或“Float32”字符串指定（大写以区别于默认的“float64”数据类型）。或者，您也可以使用 dtype
    对象：
- en: '[PRE36]'
  id: totrans-789
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: Operations with the existing integer or boolean nullable data types that give
    float results will now also use the nullable floating data types ([GH 38178](https://github.com/pandas-dev/pandas/issues/38178)).
  id: totrans-790
  prefs: []
  type: TYPE_NORMAL
  zh: 使用现有的整数或布尔可空数据类型进行给出浮点结果的操作现在也将使用可空浮点数据类型（[GH 38178](https://github.com/pandas-dev/pandas/issues/38178)）。
- en: Warning
  id: totrans-791
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: 'Experimental: the new floating data types are currently experimental, and their
    behavior or API may still change without warning. Especially the behavior regarding
    NaN (distinct from NA missing values) is subject to change.'
  id: totrans-792
  prefs: []
  type: TYPE_NORMAL
  zh: 实验性：新的浮点数据类型目前处于实验阶段，其行为或 API 可能会在没有警告的情况下发生变化。特别是关于 NaN（与 NA 缺失值不同）的行为可能会发生变化。
- en: '### Index/column name preservation when aggregating'
  id: totrans-793
  prefs: []
  type: TYPE_NORMAL
  zh: '### 聚合时保留索引/列名称'
- en: 'When aggregating using [`concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") or the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor, pandas will now attempt to preserve index and
    column names whenever possible ([GH 35847](https://github.com/pandas-dev/pandas/issues/35847)).
    In the case where all inputs share a common name, this name will be assigned to
    the result. When the input names do not all agree, the result will be unnamed.
    Here is an example where the index name is preserved:'
  id: totrans-794
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    构造函数进行聚合时，pandas 现在将尽可能保留索引和列名称（[GH 35847](https://github.com/pandas-dev/pandas/issues/35847)）。在所有输入共享通用名称的情况下，该名称将分配给结果。当输入名称不全一致时，结果将无名称。以下是保留索引名称的示例：
- en: '[PRE37]'
  id: totrans-795
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: The same is true for [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex"), but the logic is applied separately on a level-by-level
    basis.
  id: totrans-796
  prefs: []
  type: TYPE_NORMAL
  zh: '[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    也是如此，但逻辑是分别应用在逐级的基础上。'
- en: '### GroupBy supports EWM operations directly'
  id: totrans-797
  prefs: []
  type: TYPE_NORMAL
  zh: '### GroupBy 直接支持 EWM 操作'
- en: '`DataFrameGroupBy` now supports exponentially weighted window operations directly
    ([GH 16037](https://github.com/pandas-dev/pandas/issues/16037)).'
  id: totrans-798
  prefs: []
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy` 现在直接支持指数加权窗口操作（[GH 16037](https://github.com/pandas-dev/pandas/issues/16037)）。'
- en: '[PRE38]'
  id: totrans-799
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: Additionally `mean` supports execution via [Numba](https://numba.pydata.org/)
    with the `engine` and `engine_kwargs` arguments. Numba must be installed as an
    optional dependency to use this feature.
  id: totrans-800
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，`mean`现在支持通过[Numba](https://numba.pydata.org/)执行，使用`engine`和`engine_kwargs`参数。必须安装Numba作为可选依赖项才能使用此功能。
- en: '### Other enhancements'
  id: totrans-801
  prefs: []
  type: TYPE_NORMAL
  zh: '### 其他增强'
- en: Added `day_of_week` (compatibility alias `dayofweek`) property to [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp"), [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period"), [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") ([GH 9605](https://github.com/pandas-dev/pandas/issues/9605))
  id: totrans-802
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")、[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")、[`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period")、[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")添加了`day_of_week`（兼容别名`dayofweek`）属性（[GH 9605](https://github.com/pandas-dev/pandas/issues/9605))
- en: Added `day_of_year` (compatibility alias `dayofyear`) property to [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp"), [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period"), [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") ([GH 9605](https://github.com/pandas-dev/pandas/issues/9605))
  id: totrans-803
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")、[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")、[`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period")、[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")添加了`day_of_year`（兼容别名`dayofyear`）属性（[GH 9605](https://github.com/pandas-dev/pandas/issues/9605))
- en: Added [`set_flags()`](../reference/api/pandas.DataFrame.set_flags.html#pandas.DataFrame.set_flags
    "pandas.DataFrame.set_flags") for setting table-wide flags on a Series or DataFrame
    ([GH 28394](https://github.com/pandas-dev/pandas/issues/28394))
  id: totrans-804
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了[`set_flags()`](../reference/api/pandas.DataFrame.set_flags.html#pandas.DataFrame.set_flags
    "pandas.DataFrame.set_flags")用于在Series或DataFrame上设置表范围标志的功能（[GH 28394](https://github.com/pandas-dev/pandas/issues/28394))
- en: '[`DataFrame.applymap()`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap") now supports `na_action` ([GH 23803](https://github.com/pandas-dev/pandas/issues/23803))'
  id: totrans-805
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.applymap()`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap")现在支持`na_action`（[GH 23803](https://github.com/pandas-dev/pandas/issues/23803))'
- en: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") with
    object dtype supports division and multiplication ([GH 34160](https://github.com/pandas-dev/pandas/issues/34160))'
  id: totrans-806
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对象dtype的[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")支持除法和乘法（[GH
    34160](https://github.com/pandas-dev/pandas/issues/34160))
- en: '`io.sql.get_schema()` now supports a `schema` keyword argument that will add
    a schema into the create table statement ([GH 28486](https://github.com/pandas-dev/pandas/issues/28486))'
  id: totrans-807
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`io.sql.get_schema()`现在支持`schema`关键字参数，该参数将在创建表语句中添加模式（[GH 28486](https://github.com/pandas-dev/pandas/issues/28486))'
- en: '[`DataFrame.explode()`](../reference/api/pandas.DataFrame.explode.html#pandas.DataFrame.explode
    "pandas.DataFrame.explode") and [`Series.explode()`](../reference/api/pandas.Series.explode.html#pandas.Series.explode
    "pandas.Series.explode") now support exploding of sets ([GH 35614](https://github.com/pandas-dev/pandas/issues/35614))'
  id: totrans-808
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.explode()`](../reference/api/pandas.DataFrame.explode.html#pandas.DataFrame.explode
    "pandas.DataFrame.explode")和[`Series.explode()`](../reference/api/pandas.Series.explode.html#pandas.Series.explode
    "pandas.Series.explode")现在支持集合的爆炸操作（[GH 35614](https://github.com/pandas-dev/pandas/issues/35614))'
- en: '[`DataFrame.hist()`](../reference/api/pandas.DataFrame.hist.html#pandas.DataFrame.hist
    "pandas.DataFrame.hist") now supports time series (datetime) data ([GH 32590](https://github.com/pandas-dev/pandas/issues/32590))'
  id: totrans-809
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.hist()`](../reference/api/pandas.DataFrame.hist.html#pandas.DataFrame.hist
    "pandas.DataFrame.hist")现在支持时间序列（日期时间）数据（[GH 32590](https://github.com/pandas-dev/pandas/issues/32590))'
- en: '[`Styler.set_table_styles()`](../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles
    "pandas.io.formats.style.Styler.set_table_styles") now allows the direct styling
    of rows and columns and can be chained ([GH 35607](https://github.com/pandas-dev/pandas/issues/35607))'
  id: totrans-810
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.set_table_styles()`](../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles
    "pandas.io.formats.style.Styler.set_table_styles")现在允许直接对行和列进行样式设置，并且可以链式调用（[GH
    35607](https://github.com/pandas-dev/pandas/issues/35607))'
- en: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") now allows direct CSS class name addition to
    individual data cells ([GH 36159](https://github.com/pandas-dev/pandas/issues/36159))'
  id: totrans-811
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 现在允许直接向单个数据单元格添加 CSS 类名 ([GH 36159](https://github.com/pandas-dev/pandas/issues/36159))。'
- en: '[`Rolling.mean()`](../reference/api/pandas.core.window.rolling.Rolling.mean.html#pandas.core.window.rolling.Rolling.mean
    "pandas.core.window.rolling.Rolling.mean") and [`Rolling.sum()`](../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum
    "pandas.core.window.rolling.Rolling.sum") use Kahan summation to calculate the
    mean to avoid numerical problems ([GH 10319](https://github.com/pandas-dev/pandas/issues/10319),
    [GH 11645](https://github.com/pandas-dev/pandas/issues/11645), [GH 13254](https://github.com/pandas-dev/pandas/issues/13254),
    [GH 32761](https://github.com/pandas-dev/pandas/issues/32761), [GH 36031](https://github.com/pandas-dev/pandas/issues/36031))'
  id: totrans-812
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Rolling.mean()`](../reference/api/pandas.core.window.rolling.Rolling.mean.html#pandas.core.window.rolling.Rolling.mean
    "pandas.core.window.rolling.Rolling.mean") 和 [`Rolling.sum()`](../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum
    "pandas.core.window.rolling.Rolling.sum") 使用 Kahan 求和来计算均值以避免数值问题 ([GH 10319](https://github.com/pandas-dev/pandas/issues/10319),
    [GH 11645](https://github.com/pandas-dev/pandas/issues/11645), [GH 13254](https://github.com/pandas-dev/pandas/issues/13254),
    [GH 32761](https://github.com/pandas-dev/pandas/issues/32761), [GH 36031](https://github.com/pandas-dev/pandas/issues/36031))。'
- en: '`DatetimeIndex.searchsorted()`, `TimedeltaIndex.searchsorted()`, `PeriodIndex.searchsorted()`,
    and [`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted") with datetime-like dtypes will now try to cast string
    arguments (list-like and scalar) to the matching datetime-like type ([GH 36346](https://github.com/pandas-dev/pandas/issues/36346))'
  id: totrans-813
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.searchsorted()`、`TimedeltaIndex.searchsorted()`、`PeriodIndex.searchsorted()`
    和 [`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted") 对于 datetime 类型的 dtype 现在将尝试将字符串参数（类似列表和标量）转换为匹配的
    datetime 类型 ([GH 36346](https://github.com/pandas-dev/pandas/issues/36346))。'
- en: Added methods `IntegerArray.prod()`, `IntegerArray.min()`, and `IntegerArray.max()`
    ([GH 33790](https://github.com/pandas-dev/pandas/issues/33790))
  id: totrans-814
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法 `IntegerArray.prod()`、`IntegerArray.min()` 和 `IntegerArray.max()` ([GH
    33790](https://github.com/pandas-dev/pandas/issues/33790))。
- en: Calling a NumPy ufunc on a `DataFrame` with extension types now preserves the
    extension types when possible ([GH 23743](https://github.com/pandas-dev/pandas/issues/23743))
  id: totrans-815
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrame` 上调用 NumPy ufunc 时，如果可能，会保留扩展类型 ([GH 23743](https://github.com/pandas-dev/pandas/issues/23743))。
- en: Calling a binary-input NumPy ufunc on multiple `DataFrame` objects now aligns,
    matching the behavior of binary operations and ufuncs on `Series` ([GH 23743](https://github.com/pandas-dev/pandas/issues/23743)).
    This change has been reverted in pandas 1.2.1, and the behaviour to not align
    DataFrames is deprecated instead, see the [the 1.2.1 release notes](v1.2.1.html#whatsnew-121-ufunc-deprecation).
  id: totrans-816
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 调用二进制输入的 NumPy ufunc 在多个 `DataFrame` 对象上现在进行了对齐，与对 `Series` 进行的二元操作和 ufuncs
    的行为匹配 ([GH 23743](https://github.com/pandas-dev/pandas/issues/23743))。这个改变已经在
    pandas 1.2.1 中被撤销，并且不对齐 DataFrames 的行为已被弃用，请参阅 [1.2.1 发布说明](v1.2.1.html#whatsnew-121-ufunc-deprecation)。
- en: Where possible `RangeIndex.difference()` and `RangeIndex.symmetric_difference()`
    will return [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex
    "pandas.RangeIndex") instead of `Int64Index` ([GH 36564](https://github.com/pandas-dev/pandas/issues/36564))
  id: totrans-817
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在可能的情况下，`RangeIndex.difference()` 和 `RangeIndex.symmetric_difference()` 将返回
    [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex "pandas.RangeIndex")
    而不是 `Int64Index` ([GH 36564](https://github.com/pandas-dev/pandas/issues/36564))。
- en: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") now supports [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") for columns in parquet format ([GH 34777](https://github.com/pandas-dev/pandas/issues/34777))'
  id: totrans-818
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") 现在支持 parquet 格式的列中的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 34777](https://github.com/pandas-dev/pandas/issues/34777))。'
- en: '[`read_parquet()`](../reference/api/pandas.read_parquet.html#pandas.read_parquet
    "pandas.read_parquet") gained a `use_nullable_dtypes=True` option to use nullable
    dtypes that use `pd.NA` as missing value indicator where possible for the resulting
    DataFrame (default is `False`, and only applicable for `engine="pyarrow"`) ([GH
    31242](https://github.com/pandas-dev/pandas/issues/31242))'
  id: totrans-819
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_parquet()`](../reference/api/pandas.read_parquet.html#pandas.read_parquet
    "pandas.read_parquet")新增了`use_nullable_dtypes=True`选项，用于在结果DataFrame中尽可能使用`pd.NA`作为缺失值指示符的可空数据类型（默认为`False`，仅适用于`engine="pyarrow"`）（[GH
    31242](https://github.com/pandas-dev/pandas/issues/31242)）'
- en: Added [`Rolling.sem()`](../reference/api/pandas.core.window.rolling.Rolling.sem.html#pandas.core.window.rolling.Rolling.sem
    "pandas.core.window.rolling.Rolling.sem") and `Expanding.sem()` to compute the
    standard error of the mean ([GH 26476](https://github.com/pandas-dev/pandas/issues/26476))
  id: totrans-820
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新增了[`Rolling.sem()`](../reference/api/pandas.core.window.rolling.Rolling.sem.html#pandas.core.window.rolling.Rolling.sem
    "pandas.core.window.rolling.Rolling.sem")和`Expanding.sem()`来计算均值的标准误差（[GH 26476](https://github.com/pandas-dev/pandas/issues/26476)）
- en: '[`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") and [`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") use Kahan summation and Welford’s Method
    to avoid numerical issues ([GH 37051](https://github.com/pandas-dev/pandas/issues/37051))'
  id: totrans-821
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var")和[`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std")使用Kahan summation和Welford''s Method来避免数值问题（[GH
    37051](https://github.com/pandas-dev/pandas/issues/37051)）'
- en: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") and [`DataFrame.cov()`](../reference/api/pandas.DataFrame.cov.html#pandas.DataFrame.cov
    "pandas.DataFrame.cov") use Welford’s Method to avoid numerical issues ([GH 37448](https://github.com/pandas-dev/pandas/issues/37448))'
  id: totrans-822
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr")和[`DataFrame.cov()`](../reference/api/pandas.DataFrame.cov.html#pandas.DataFrame.cov
    "pandas.DataFrame.cov")使用Welford''s Method来避免数值问题（[GH 37448](https://github.com/pandas-dev/pandas/issues/37448)）'
- en: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") now recognizes `xlabel` and `ylabel` arguments for plots
    of type `scatter` and `hexbin` ([GH 37001](https://github.com/pandas-dev/pandas/issues/37001))'
  id: totrans-823
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot")现在对`scatter`和`hexbin`类型的图表识别`xlabel`和`ylabel`参数（[GH 37001](https://github.com/pandas-dev/pandas/issues/37001)）'
- en: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    now supports the `divmod` operation ([GH 37165](https://github.com/pandas-dev/pandas/issues/37165))'
  id: totrans-824
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")现在支持`divmod`操作（[GH
    37165](https://github.com/pandas-dev/pandas/issues/37165)）'
- en: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") now returns a `bytes` object when no `path` argument
    is passed ([GH 37105](https://github.com/pandas-dev/pandas/issues/37105))'
  id: totrans-825
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当没有传递`path`参数时，[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet")现在返回一个`bytes`对象（[GH 37105](https://github.com/pandas-dev/pandas/issues/37105)）
- en: '`Rolling` now supports the `closed` argument for fixed windows ([GH 34315](https://github.com/pandas-dev/pandas/issues/34315))'
  id: totrans-826
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Rolling`现在支持固定窗口的`closed`参数（[GH 34315](https://github.com/pandas-dev/pandas/issues/34315)）'
- en: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `datetime64` or `datetime64tz` dtypes now support `std`
    ([GH 37436](https://github.com/pandas-dev/pandas/issues/37436))'
  id: totrans-827
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有`datetime64`或`datetime64tz`数据类型的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")现在支持`std`（[GH 37436](https://github.com/pandas-dev/pandas/issues/37436)）
- en: '`Window` now supports all Scipy window types in `win_type` with flexible keyword
    argument support ([GH 34556](https://github.com/pandas-dev/pandas/issues/34556))'
  id: totrans-828
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Window`现在支持在`win_type`中的所有Scipy窗口类型，并支持灵活的关键字参数（[GH 34556](https://github.com/pandas-dev/pandas/issues/34556)）'
- en: '[`testing.assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal") now has a `check_order` parameter that allows
    indexes to be checked in an order-insensitive manner ([GH 37478](https://github.com/pandas-dev/pandas/issues/37478))'
  id: totrans-829
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`testing.assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal")现在具有`check_order`参数，允许按照无序方式检查索引（[GH 37478](https://github.com/pandas-dev/pandas/issues/37478)）'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    supports memory-mapping for compressed files ([GH 37621](https://github.com/pandas-dev/pandas/issues/37621))'
  id: totrans-830
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    支持压缩文件的内存映射（[GH 37621](https://github.com/pandas-dev/pandas/issues/37621)）'
- en: Add support for `min_count` keyword for [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") and [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") for functions `min`, `max`, `first` and `last` ([GH
    37821](https://github.com/pandas-dev/pandas/issues/37821), [GH 37768](https://github.com/pandas-dev/pandas/issues/37768))
  id: totrans-831
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby")和[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample")添加了对于函数`min`、`max`、`first`和`last`的`min_count`关键字支持（[GH
    37821](https://github.com/pandas-dev/pandas/issues/37821)、[GH 37768](https://github.com/pandas-dev/pandas/issues/37768)）
- en: Improve error reporting for [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") when invalid merge column definitions were given ([GH
    16228](https://github.com/pandas-dev/pandas/issues/16228))
  id: totrans-832
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")对于给定无效的合并列定义的错误报告（[GH 16228](https://github.com/pandas-dev/pandas/issues/16228)）
- en: Improve numerical stability for [`Rolling.skew()`](../reference/api/pandas.core.window.rolling.Rolling.skew.html#pandas.core.window.rolling.Rolling.skew
    "pandas.core.window.rolling.Rolling.skew"), [`Rolling.kurt()`](../reference/api/pandas.core.window.rolling.Rolling.kurt.html#pandas.core.window.rolling.Rolling.kurt
    "pandas.core.window.rolling.Rolling.kurt"), `Expanding.skew()` and `Expanding.kurt()`
    through implementation of Kahan summation ([GH 6929](https://github.com/pandas-dev/pandas/issues/6929))
  id: totrans-833
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过实现 Kahan 求和改进了[`Rolling.skew()`](../reference/api/pandas.core.window.rolling.Rolling.skew.html#pandas.core.window.rolling.Rolling.skew
    "pandas.core.window.rolling.Rolling.skew")、[`Rolling.kurt()`](../reference/api/pandas.core.window.rolling.Rolling.kurt.html#pandas.core.window.rolling.Rolling.kurt
    "pandas.core.window.rolling.Rolling.kurt")、`Expanding.skew()`和`Expanding.kurt()`的数值稳定性（[GH
    6929](https://github.com/pandas-dev/pandas/issues/6929)）
- en: Improved error reporting for subsetting columns of a `DataFrameGroupBy` with
    `axis=1` ([GH 37725](https://github.com/pandas-dev/pandas/issues/37725))
  id: totrans-834
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了对于使用`axis=1`对`DataFrameGroupBy`进行列子集选取的错误报告（[GH 37725](https://github.com/pandas-dev/pandas/issues/37725)）
- en: Implement method `cross` for [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") and [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") ([GH 5401](https://github.com/pandas-dev/pandas/issues/5401))
  id: totrans-835
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")和[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join")实现了`cross`方法（[GH 5401](https://github.com/pandas-dev/pandas/issues/5401)）
- en: When [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv"),
    [`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    and [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json "pandas.read_json")
    are called with `chunksize`/`iterator` they can be used in a `with` statement
    as they return context-managers ([GH 38225](https://github.com/pandas-dev/pandas/issues/38225))
  id: totrans-836
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用`chunksize`/`iterator`调用[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")、[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas
    "pandas.read_sas")和[`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json")时，它们可以在`with`语句中使用，因为它们返回上下文管理器（[GH 38225](https://github.com/pandas-dev/pandas/issues/38225)）
- en: Augmented the list of named colors available for styling Excel exports, enabling
    all of CSS4 colors ([GH 38247](https://github.com/pandas-dev/pandas/issues/38247))
  id: totrans-837
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 扩展了可用于 Excel 导出样式的命名颜色列表，使所有 CSS4 颜色都可用（[GH 38247](https://github.com/pandas-dev/pandas/issues/38247)）
- en: '## Notable bug fixes'
  id: totrans-838
  prefs: []
  type: TYPE_NORMAL
  zh: '## 显著的错误修复'
- en: These are bug fixes that might have notable behavior changes.
  id: totrans-839
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是可能具有显著行为变化的错误修复。
- en: Consistency of DataFrame Reductions
  id: totrans-840
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: DataFrame 减少的一致性
- en: '[`DataFrame.any()`](../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any
    "pandas.DataFrame.any") and [`DataFrame.all()`](../reference/api/pandas.DataFrame.all.html#pandas.DataFrame.all
    "pandas.DataFrame.all") with `bool_only=True` now determines whether to exclude
    object-dtype columns on a column-by-column basis, instead of checking if *all*
    object-dtype columns can be considered boolean.'
  id: totrans-841
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.any()`](../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any
    "pandas.DataFrame.any") 和 [`DataFrame.all()`](../reference/api/pandas.DataFrame.all.html#pandas.DataFrame.all
    "pandas.DataFrame.all") 现在使用 `bool_only=True`，将基于列来决定是否排除对象数据类型列，而不是检查是否 *所有*
    对象数据类型列都可以被视为布尔型。'
- en: This prevents pathological behavior where applying the reduction on a subset
    of columns could result in a larger Series result. See ([GH 37799](https://github.com/pandas-dev/pandas/issues/37799)).
  id: totrans-842
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以防止应用于列子集的缩减可能导致更大的Series结果的病态行为。参见（[GH 37799](https://github.com/pandas-dev/pandas/issues/37799)）。
- en: '[PRE39]'
  id: totrans-843
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: '*Previous behavior*:'
  id: totrans-844
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE40]'
  id: totrans-845
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: '*New behavior*:'
  id: totrans-846
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE41]'
  id: totrans-847
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'Other DataFrame reductions with `numeric_only=None` will also avoid this pathological
    behavior ([GH 37827](https://github.com/pandas-dev/pandas/issues/37827)):'
  id: totrans-848
  prefs: []
  type: TYPE_NORMAL
  zh: 其他使用`numeric_only=None`的DataFrame缩减也将避免这种病态行为（[GH 37827](https://github.com/pandas-dev/pandas/issues/37827)）：
- en: '[PRE42]'
  id: totrans-849
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: '*Previous behavior*:'
  id: totrans-850
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE43]'
  id: totrans-851
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: '*New behavior*:'
  id: totrans-852
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE44]'
  id: totrans-853
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: Moreover, DataFrame reductions with `numeric_only=None` will now be consistent
    with their Series counterparts. In particular, for reductions where the Series
    method raises `TypeError`, the DataFrame reduction will now consider that column
    non-numeric instead of casting to a NumPy array which may have different semantics
    ([GH 36076](https://github.com/pandas-dev/pandas/issues/36076), [GH 28949](https://github.com/pandas-dev/pandas/issues/28949),
    [GH 21020](https://github.com/pandas-dev/pandas/issues/21020)).
  id: totrans-854
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，使用`numeric_only=None`进行DataFrame缩减将与其Series对应项保持一致。特别是，对于Series方法引发`TypeError`的缩减，DataFrame缩减现在将考虑该列为非数值，而不是转换为可能具有不同语义的NumPy数组（[GH
    36076](https://github.com/pandas-dev/pandas/issues/36076)，[GH 28949](https://github.com/pandas-dev/pandas/issues/28949)，[GH
    21020](https://github.com/pandas-dev/pandas/issues/21020)）。
- en: '[PRE45]'
  id: totrans-855
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: '*Previous behavior*:'
  id: totrans-856
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE46]'
  id: totrans-857
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: '*New behavior*:'
  id: totrans-858
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE47]'
  id: totrans-859
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: '### Increased minimum version for Python'
  id: totrans-860
  prefs: []
  type: TYPE_NORMAL
  zh: '### Python的最低版本提升'
- en: 'pandas 1.2.0 supports Python 3.7.1 and higher ([GH 35214](https://github.com/pandas-dev/pandas/issues/35214)).  ###
    Increased minimum versions for dependencies'
  id: totrans-861
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 1.2.0支持Python 3.7.1及更高版本（[GH 35214](https://github.com/pandas-dev/pandas/issues/35214)）。###
    依赖项的最低版本提升
- en: 'Some minimum supported versions of dependencies were updated ([GH 35214](https://github.com/pandas-dev/pandas/issues/35214)).
    If installed, we now require:'
  id: totrans-862
  prefs: []
  type: TYPE_NORMAL
  zh: 一些依赖关系的最低支持版本已更新（[GH 35214](https://github.com/pandas-dev/pandas/issues/35214)）。如果已安装，现在我们要求：
- en: '| Package | Minimum Version | Required | Changed |'
  id: totrans-863
  prefs: []
  type: TYPE_TB
  zh: '| 包 | 最低版本 | 必需的 | 更改 |'
- en: '| --- | --- | --- | --- |'
  id: totrans-864
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| numpy | 1.16.5 | X | X |'
  id: totrans-865
  prefs: []
  type: TYPE_TB
  zh: '| numpy | 1.16.5 | X | X |'
- en: '| pytz | 2017.3 | X | X |'
  id: totrans-866
  prefs: []
  type: TYPE_TB
  zh: '| pytz | 2017.3 | X | X |'
- en: '| python-dateutil | 2.7.3 | X |  |'
  id: totrans-867
  prefs: []
  type: TYPE_TB
  zh: '| python-dateutil | 2.7.3 | X |  |'
- en: '| bottleneck | 1.2.1 |  |  |'
  id: totrans-868
  prefs: []
  type: TYPE_TB
  zh: '| bottleneck | 1.2.1 |  |  |'
- en: '| numexpr | 2.6.8 |  | X |'
  id: totrans-869
  prefs: []
  type: TYPE_TB
  zh: '| numexpr | 2.6.8 |  | X |'
- en: '| pytest (dev) | 5.0.1 |  | X |'
  id: totrans-870
  prefs: []
  type: TYPE_TB
  zh: '| pytest (dev) | 5.0.1 |  | X |'
- en: '| mypy (dev) | 0.782 |  | X |'
  id: totrans-871
  prefs: []
  type: TYPE_TB
  zh: '| mypy (dev) | 0.782 |  | X |'
- en: For [optional libraries](https://pandas.pydata.org/docs/getting_started/install.html)
    the general recommendation is to use the latest version. The following table lists
    the lowest version per library that is currently being tested throughout the development
    of pandas. Optional libraries below the lowest tested version may still work,
    but are not considered supported.
  id: totrans-872
  prefs: []
  type: TYPE_NORMAL
  zh: 对于[可选库](https://pandas.pydata.org/docs/getting_started/install.html)，一般建议使用最新版本。以下表格列出了在pandas开发过程中当前正在测试的每个库的最低版本。低于最低测试版本的可选库可能仍然可以使用，但不被认为是受支持的。
- en: '| Package | Minimum Version | Changed |'
  id: totrans-873
  prefs: []
  type: TYPE_TB
  zh: '| 包 | 最低版本 | 更改 |'
- en: '| --- | --- | --- |'
  id: totrans-874
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| beautifulsoup4 | 4.6.0 |  |'
  id: totrans-875
  prefs: []
  type: TYPE_TB
  zh: '| beautifulsoup4 | 4.6.0 |  |'
- en: '| fastparquet | 0.3.2 |  |'
  id: totrans-876
  prefs: []
  type: TYPE_TB
  zh: '| fastparquet | 0.3.2 |  |'
- en: '| fsspec | 0.7.4 |  |'
  id: totrans-877
  prefs: []
  type: TYPE_TB
  zh: '| fsspec | 0.7.4 |  |'
- en: '| gcsfs | 0.6.0 |  |'
  id: totrans-878
  prefs: []
  type: TYPE_TB
  zh: '| gcsfs | 0.6.0 |  |'
- en: '| lxml | 4.3.0 | X |'
  id: totrans-879
  prefs: []
  type: TYPE_TB
  zh: '| lxml | 4.3.0 | X |'
- en: '| matplotlib | 2.2.3 | X |'
  id: totrans-880
  prefs: []
  type: TYPE_TB
  zh: '| matplotlib | 2.2.3 | X |'
- en: '| numba | 0.46.0 |  |'
  id: totrans-881
  prefs: []
  type: TYPE_TB
  zh: '| numba | 0.46.0 |  |'
- en: '| openpyxl | 2.6.0 | X |'
  id: totrans-882
  prefs: []
  type: TYPE_TB
  zh: '| openpyxl | 2.6.0 | X |'
- en: '| pyarrow | 0.15.0 | X |'
  id: totrans-883
  prefs: []
  type: TYPE_TB
  zh: '| pyarrow | 0.15.0 | X |'
- en: '| pymysql | 0.7.11 | X |'
  id: totrans-884
  prefs: []
  type: TYPE_TB
  zh: '| pymysql | 0.7.11 | X |'
- en: '| pytables | 3.5.1 | X |'
  id: totrans-885
  prefs: []
  type: TYPE_TB
  zh: '| pytables | 3.5.1 | X |'
- en: '| s3fs | 0.4.0 |  |'
  id: totrans-886
  prefs: []
  type: TYPE_TB
  zh: '| s3fs | 0.4.0 |  |'
- en: '| scipy | 1.2.0 |  |'
  id: totrans-887
  prefs: []
  type: TYPE_TB
  zh: '| scipy | 1.2.0 |  |'
- en: '| sqlalchemy | 1.2.8 | X |'
  id: totrans-888
  prefs: []
  type: TYPE_TB
  zh: '| sqlalchemy | 1.2.8 | X |'
- en: '| xarray | 0.12.3 | X |'
  id: totrans-889
  prefs: []
  type: TYPE_TB
  zh: '| xarray | 0.12.3 | X |'
- en: '| xlrd | 1.2.0 | X |'
  id: totrans-890
  prefs: []
  type: TYPE_TB
  zh: '| xlrd | 1.2.0 | X |'
- en: '| xlsxwriter | 1.0.2 | X |'
  id: totrans-891
  prefs: []
  type: TYPE_TB
  zh: '| xlsxwriter | 1.0.2 | X |'
- en: '| xlwt | 1.3.0 | X |'
  id: totrans-892
  prefs: []
  type: TYPE_TB
  zh: '| xlwt | 1.3.0 | X |'
- en: '| pandas-gbq | 0.12.0 |  |'
  id: totrans-893
  prefs: []
  type: TYPE_TB
  zh: '| pandas-gbq | 0.12.0 |  |'
- en: 'See [Dependencies](../getting_started/install.html#install-dependencies) and
    [Optional dependencies](../getting_started/install.html#install-optional-dependencies)
    for more.  ### Other API changes'
  id: totrans-894
  prefs: []
  type: TYPE_NORMAL
  zh: 查看[Dependencies](../getting_started/install.html#install-dependencies)和[Optional
    dependencies](../getting_started/install.html#install-optional-dependencies)以获取更多信息。###
    其他API更改
- en: Sorting in descending order is now stable for [`Series.sort_values()`](../reference/api/pandas.Series.sort_values.html#pandas.Series.sort_values
    "pandas.Series.sort_values") and [`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values") for Datetime-like [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") subclasses. This will affect sort order when sorting a DataFrame
    on multiple columns, sorting with a key function that produces duplicates, or
    requesting the sorting index when using [`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values"). When using [`Series.value_counts()`](../reference/api/pandas.Series.value_counts.html#pandas.Series.value_counts
    "pandas.Series.value_counts"), the count of missing values is no longer necessarily
    last in the list of duplicate counts. Instead, its position corresponds to the
    position in the original Series. When using [`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values") for Datetime-like [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") subclasses, NaTs ignored the `na_position` argument and were sorted
    to the beginning. Now they respect `na_position`, the default being `last`, same
    as other [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    subclasses ([GH 35992](https://github.com/pandas-dev/pandas/issues/35992))
  id: totrans-895
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于日期时间类[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")子类，现在对[`Series.sort_values()`](../reference/api/pandas.Series.sort_values.html#pandas.Series.sort_values
    "pandas.Series.sort_values")和[`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values")进行降序排序是稳定的。这将影响在多列上对DataFrame进行排序、使用产生重复项的键函数进行排序或在使用[`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values")时请求排序索引时的排序顺序。在使用[`Series.value_counts()`](../reference/api/pandas.Series.value_counts.html#pandas.Series.value_counts
    "pandas.Series.value_counts")时，缺失值的计数不再必然位于重复计数列表的最后。相反，其位置对应于原始Series中的位置。在对日期时间类[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")子类使用[`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values")时，NaT会忽略`na_position`参数并被排序到开头。现在它们尊重`na_position`，默认值为`last`，与其他[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")子类相同 ([GH 35992](https://github.com/pandas-dev/pandas/issues/35992))
- en: Passing an invalid `fill_value` to `Categorical.take()`, `DatetimeArray.take()`,
    `TimedeltaArray.take()`, or `PeriodArray.take()` now raises a `TypeError` instead
    of a `ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
  id: totrans-896
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将无效的`fill_value`传递给`Categorical.take()`、`DatetimeArray.take()`、`TimedeltaArray.take()`或`PeriodArray.take()`现在会引发`TypeError`而不是`ValueError`
    ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
- en: Passing an invalid `fill_value` to [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift") with a `CategoricalDtype` now raises a `TypeError` instead
    of a `ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
  id: totrans-897
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将无效的`fill_value`传递给带有`CategoricalDtype`的[`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift")现在会引发`TypeError`而不是`ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
- en: Passing an invalid value to `IntervalIndex.insert()` or `CategoricalIndex.insert()`
    now raises a `TypeError` instead of a `ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
  id: totrans-898
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将无效值传递给`IntervalIndex.insert()`或`CategoricalIndex.insert()`现在会引发`TypeError`而不是`ValueError`
    ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
- en: Attempting to reindex a Series with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") with an invalid `fill_value` now raises a `TypeError`
    instead of a `ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
  id: totrans-899
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尝试使用具有无效`fill_value`的[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")重新索引Series现在会引发`TypeError`而不是`ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
- en: '`CategoricalIndex.append()` with an index that contains non-category values
    will now cast instead of raising `TypeError` ([GH 38098](https://github.com/pandas-dev/pandas/issues/38098))'
  id: totrans-900
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CategoricalIndex.append()`与包含非类别值的索引现在会转换而不是引发`TypeError` ([GH 38098](https://github.com/pandas-dev/pandas/issues/38098))'
- en: Consistency of DataFrame Reductions
  id: totrans-901
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: DataFrame缩减的一致性
- en: '[`DataFrame.any()`](../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any
    "pandas.DataFrame.any") and [`DataFrame.all()`](../reference/api/pandas.DataFrame.all.html#pandas.DataFrame.all
    "pandas.DataFrame.all") with `bool_only=True` now determines whether to exclude
    object-dtype columns on a column-by-column basis, instead of checking if *all*
    object-dtype columns can be considered boolean.'
  id: totrans-902
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.any()`](../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any
    "pandas.DataFrame.any") 和 [`DataFrame.all()`](../reference/api/pandas.DataFrame.all.html#pandas.DataFrame.all
    "pandas.DataFrame.all") 的`bool_only=True`现在将基于逐列的方式确定是否排除对象dtype列，而不是检查是否 *所有*
    对象dtype列都可以视为布尔值。'
- en: This prevents pathological behavior where applying the reduction on a subset
    of columns could result in a larger Series result. See ([GH 37799](https://github.com/pandas-dev/pandas/issues/37799)).
  id: totrans-903
  prefs: []
  type: TYPE_NORMAL
  zh: 这样可以防止在对列子集应用缩减时出现更大的Series结果的病态行为。参见（[GH 37799](https://github.com/pandas-dev/pandas/issues/37799)）。
- en: '[PRE48]'
  id: totrans-904
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: '*Previous behavior*:'
  id: totrans-905
  prefs: []
  type: TYPE_NORMAL
  zh: '*旧行为*：'
- en: '[PRE49]'
  id: totrans-906
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: '*New behavior*:'
  id: totrans-907
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE50]'
  id: totrans-908
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'Other DataFrame reductions with `numeric_only=None` will also avoid this pathological
    behavior ([GH 37827](https://github.com/pandas-dev/pandas/issues/37827)):'
  id: totrans-909
  prefs: []
  type: TYPE_NORMAL
  zh: 其他使用`numeric_only=None`的DataFrame缩减也将避免这种病态行为（[GH 37827](https://github.com/pandas-dev/pandas/issues/37827)）：
- en: '[PRE51]'
  id: totrans-910
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: '*Previous behavior*:'
  id: totrans-911
  prefs: []
  type: TYPE_NORMAL
  zh: '*旧行为*：'
- en: '[PRE52]'
  id: totrans-912
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: '*New behavior*:'
  id: totrans-913
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE53]'
  id: totrans-914
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: Moreover, DataFrame reductions with `numeric_only=None` will now be consistent
    with their Series counterparts. In particular, for reductions where the Series
    method raises `TypeError`, the DataFrame reduction will now consider that column
    non-numeric instead of casting to a NumPy array which may have different semantics
    ([GH 36076](https://github.com/pandas-dev/pandas/issues/36076), [GH 28949](https://github.com/pandas-dev/pandas/issues/28949),
    [GH 21020](https://github.com/pandas-dev/pandas/issues/21020)).
  id: totrans-915
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，使用`numeric_only=None`进行的DataFrame缩减现在将与其Series对应物保持一致。特别是，对于Series方法引发`TypeError`的缩减，DataFrame缩减现在将考虑该列为非数字，而不是转换为可能具有不同语义的NumPy数组（[GH
    36076](https://github.com/pandas-dev/pandas/issues/36076)，[GH 28949](https://github.com/pandas-dev/pandas/issues/28949)，[GH
    21020](https://github.com/pandas-dev/pandas/issues/21020))。
- en: '[PRE54]'
  id: totrans-916
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: '*Previous behavior*:'
  id: totrans-917
  prefs: []
  type: TYPE_NORMAL
  zh: '*旧行为*：'
- en: '[PRE55]'
  id: totrans-918
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: '*New behavior*:'
  id: totrans-919
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE56]'
  id: totrans-920
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: '### Increased minimum version for Python'
  id: totrans-921
  prefs: []
  type: TYPE_NORMAL
  zh: '### Python的最低版本要求增加了'
- en: pandas 1.2.0 supports Python 3.7.1 and higher ([GH 35214](https://github.com/pandas-dev/pandas/issues/35214)).
  id: totrans-922
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 1.2.0支持Python 3.7.1及更高版本（[GH 35214](https://github.com/pandas-dev/pandas/issues/35214)）。
- en: '### Increased minimum versions for dependencies'
  id: totrans-923
  prefs: []
  type: TYPE_NORMAL
  zh: '### 依赖项的最低版本要求增加了'
- en: 'Some minimum supported versions of dependencies were updated ([GH 35214](https://github.com/pandas-dev/pandas/issues/35214)).
    If installed, we now require:'
  id: totrans-924
  prefs: []
  type: TYPE_NORMAL
  zh: 一些依赖项的最低受支持版本已更新（[GH 35214](https://github.com/pandas-dev/pandas/issues/35214)）。如果已安装，我们现在要求：
- en: '| Package | Minimum Version | Required | Changed |'
  id: totrans-925
  prefs: []
  type: TYPE_TB
  zh: '| 包 | 最低版本 | 要求 | 变更 |'
- en: '| --- | --- | --- | --- |'
  id: totrans-926
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| numpy | 1.16.5 | X | X |'
  id: totrans-927
  prefs: []
  type: TYPE_TB
  zh: '| numpy | 1.16.5 | X | X |'
- en: '| pytz | 2017.3 | X | X |'
  id: totrans-928
  prefs: []
  type: TYPE_TB
  zh: '| pytz | 2017.3 | X | X |'
- en: '| python-dateutil | 2.7.3 | X |  |'
  id: totrans-929
  prefs: []
  type: TYPE_TB
  zh: '| python-dateutil | 2.7.3 | X |  |'
- en: '| bottleneck | 1.2.1 |  |  |'
  id: totrans-930
  prefs: []
  type: TYPE_TB
  zh: '| bottleneck | 1.2.1 |  |  |'
- en: '| numexpr | 2.6.8 |  | X |'
  id: totrans-931
  prefs: []
  type: TYPE_TB
  zh: '| numexpr | 2.6.8 |  | X |'
- en: '| pytest (dev) | 5.0.1 |  | X |'
  id: totrans-932
  prefs: []
  type: TYPE_TB
  zh: '| pytest (dev) | 5.0.1 |  | X |'
- en: '| mypy (dev) | 0.782 |  | X |'
  id: totrans-933
  prefs: []
  type: TYPE_TB
  zh: '| mypy (dev) | 0.782 |  | X |'
- en: For [optional libraries](https://pandas.pydata.org/docs/getting_started/install.html)
    the general recommendation is to use the latest version. The following table lists
    the lowest version per library that is currently being tested throughout the development
    of pandas. Optional libraries below the lowest tested version may still work,
    but are not considered supported.
  id: totrans-934
  prefs: []
  type: TYPE_NORMAL
  zh: 对于[可选库](https://pandas.pydata.org/docs/getting_started/install.html)，一般建议使用最新版本。以下表格列出了在pandas开发过程中当前正在测试的每个库的最低版本。低于最低测试版本的可选库可能仍然可用，但不被视为受支持。
- en: '| Package | Minimum Version | Changed |'
  id: totrans-935
  prefs: []
  type: TYPE_TB
  zh: '| 包 | 最低版本 | 变更 |'
- en: '| --- | --- | --- |'
  id: totrans-936
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| beautifulsoup4 | 4.6.0 |  |'
  id: totrans-937
  prefs: []
  type: TYPE_TB
  zh: '| beautifulsoup4 | 4.6.0 |  |'
- en: '| fastparquet | 0.3.2 |  |'
  id: totrans-938
  prefs: []
  type: TYPE_TB
  zh: '| fastparquet | 0.3.2 |  |'
- en: '| fsspec | 0.7.4 |  |'
  id: totrans-939
  prefs: []
  type: TYPE_TB
  zh: '| fsspec | 0.7.4 |  |'
- en: '| gcsfs | 0.6.0 |  |'
  id: totrans-940
  prefs: []
  type: TYPE_TB
  zh: '| gcsfs | 0.6.0 |  |'
- en: '| lxml | 4.3.0 | X |'
  id: totrans-941
  prefs: []
  type: TYPE_TB
  zh: '| lxml | 4.3.0 | X |'
- en: '| matplotlib | 2.2.3 | X |'
  id: totrans-942
  prefs: []
  type: TYPE_TB
  zh: '| matplotlib | 2.2.3 | X |'
- en: '| numba | 0.46.0 |  |'
  id: totrans-943
  prefs: []
  type: TYPE_TB
  zh: '| numba | 0.46.0 |  |'
- en: '| openpyxl | 2.6.0 | X |'
  id: totrans-944
  prefs: []
  type: TYPE_TB
  zh: '| openpyxl | 2.6.0 | X |'
- en: '| pyarrow | 0.15.0 | X |'
  id: totrans-945
  prefs: []
  type: TYPE_TB
  zh: '| pyarrow | 0.15.0 | X |'
- en: '| pymysql | 0.7.11 | X |'
  id: totrans-946
  prefs: []
  type: TYPE_TB
  zh: '| pymysql | 0.7.11 | X |'
- en: '| pytables | 3.5.1 | X |'
  id: totrans-947
  prefs: []
  type: TYPE_TB
  zh: '| pytables | 3.5.1 | X |'
- en: '| s3fs | 0.4.0 |  |'
  id: totrans-948
  prefs: []
  type: TYPE_TB
  zh: '| s3fs | 0.4.0 |  |'
- en: '| scipy | 1.2.0 |  |'
  id: totrans-949
  prefs: []
  type: TYPE_TB
  zh: '| scipy | 1.2.0 |  |'
- en: '| sqlalchemy | 1.2.8 | X |'
  id: totrans-950
  prefs: []
  type: TYPE_TB
  zh: '| sqlalchemy | 1.2.8 | X |'
- en: '| xarray | 0.12.3 | X |'
  id: totrans-951
  prefs: []
  type: TYPE_TB
  zh: '| xarray | 0.12.3 | X |'
- en: '| xlrd | 1.2.0 | X |'
  id: totrans-952
  prefs: []
  type: TYPE_TB
  zh: '| xlrd | 1.2.0 | X |'
- en: '| xlsxwriter | 1.0.2 | X |'
  id: totrans-953
  prefs: []
  type: TYPE_TB
  zh: '| xlsxwriter | 1.0.2 | X |'
- en: '| xlwt | 1.3.0 | X |'
  id: totrans-954
  prefs: []
  type: TYPE_TB
  zh: '| xlwt | 1.3.0 | X |'
- en: '| pandas-gbq | 0.12.0 |  |'
  id: totrans-955
  prefs: []
  type: TYPE_TB
  zh: '| pandas-gbq | 0.12.0 |  |'
- en: See [Dependencies](../getting_started/install.html#install-dependencies) and
    [Optional dependencies](../getting_started/install.html#install-optional-dependencies)
    for more.
  id: totrans-956
  prefs: []
  type: TYPE_NORMAL
  zh: 查看[依赖项](../getting_started/install.html#install-dependencies)和[可选依赖项](../getting_started/install.html#install-optional-dependencies)以获取更多信息。
- en: '### Other API changes'
  id: totrans-957
  prefs: []
  type: TYPE_NORMAL
  zh: '### 其他 API 变更'
- en: Sorting in descending order is now stable for [`Series.sort_values()`](../reference/api/pandas.Series.sort_values.html#pandas.Series.sort_values
    "pandas.Series.sort_values") and [`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values") for Datetime-like [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") subclasses. This will affect sort order when sorting a DataFrame
    on multiple columns, sorting with a key function that produces duplicates, or
    requesting the sorting index when using [`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values"). When using [`Series.value_counts()`](../reference/api/pandas.Series.value_counts.html#pandas.Series.value_counts
    "pandas.Series.value_counts"), the count of missing values is no longer necessarily
    last in the list of duplicate counts. Instead, its position corresponds to the
    position in the original Series. When using [`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values") for Datetime-like [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") subclasses, NaTs ignored the `na_position` argument and were sorted
    to the beginning. Now they respect `na_position`, the default being `last`, same
    as other [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    subclasses ([GH 35992](https://github.com/pandas-dev/pandas/issues/35992))
  id: totrans-958
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于日期时间类[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")子类，降序排序现在对于[`Series.sort_values()`](../reference/api/pandas.Series.sort_values.html#pandas.Series.sort_values
    "pandas.Series.sort_values")和[`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values")是稳定的。当在多列上对 DataFrame 进行排序、使用产生重复项的键函数进行排序，或在使用[`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values")时请求排序索引时，这将影响排序顺序。在使用[`Series.value_counts()`](../reference/api/pandas.Series.value_counts.html#pandas.Series.value_counts
    "pandas.Series.value_counts")时，缺失值的计数不再必然出现在重复计数列表的最后。相反，它的位置对应于原始 Series 中的位置。在日期时间类[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")子类上使用[`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values")时，NaT（不是时间）会忽略`na_position`参数并被排序到开头。现在它们尊重`na_position`，默认值为`last`，与其他[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")子类相同（[GH 35992](https://github.com/pandas-dev/pandas/issues/35992)）
- en: Passing an invalid `fill_value` to `Categorical.take()`, `DatetimeArray.take()`,
    `TimedeltaArray.take()`, or `PeriodArray.take()` now raises a `TypeError` instead
    of a `ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
  id: totrans-959
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将无效的`fill_value`传递给`Categorical.take()`、`DatetimeArray.take()`、`TimedeltaArray.take()`或`PeriodArray.take()`现在引发`TypeError`而不是`ValueError`（[GH
    37733](https://github.com/pandas-dev/pandas/issues/37733)）
- en: Passing an invalid `fill_value` to [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift") with a `CategoricalDtype` now raises a `TypeError` instead
    of a `ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
  id: totrans-960
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将无效的`fill_value`传递给[`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift")与`CategoricalDtype`一起现在引发`TypeError`而不是`ValueError`（[GH
    37733](https://github.com/pandas-dev/pandas/issues/37733)）
- en: Passing an invalid value to `IntervalIndex.insert()` or `CategoricalIndex.insert()`
    now raises a `TypeError` instead of a `ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
  id: totrans-961
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将无效值传递给`IntervalIndex.insert()`或`CategoricalIndex.insert()`现在引发`TypeError`而不是`ValueError`（[GH
    37733](https://github.com/pandas-dev/pandas/issues/37733)）
- en: Attempting to reindex a Series with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") with an invalid `fill_value` now raises a `TypeError`
    instead of a `ValueError` ([GH 37733](https://github.com/pandas-dev/pandas/issues/37733))
  id: totrans-962
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尝试重新索引一个带有无效`fill_value`的[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")现在引发`TypeError`而不是`ValueError`（[GH 37733](https://github.com/pandas-dev/pandas/issues/37733)）
- en: '`CategoricalIndex.append()` with an index that contains non-category values
    will now cast instead of raising `TypeError` ([GH 38098](https://github.com/pandas-dev/pandas/issues/38098))'
  id: totrans-963
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CategoricalIndex.append()`与包含非类别值的索引现在会进行转换而不是引发`TypeError`（[GH 38098](https://github.com/pandas-dev/pandas/issues/38098)）'
- en: '## Deprecations'
  id: totrans-964
  prefs: []
  type: TYPE_NORMAL
  zh: '## 废弃功能'
- en: Deprecated parameter `inplace` in [`MultiIndex.set_codes()`](../reference/api/pandas.MultiIndex.set_codes.html#pandas.MultiIndex.set_codes
    "pandas.MultiIndex.set_codes") and [`MultiIndex.set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels") ([GH 35626](https://github.com/pandas-dev/pandas/issues/35626))
  id: totrans-965
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.set_codes()`](../reference/api/pandas.MultiIndex.set_codes.html#pandas.MultiIndex.set_codes
    "pandas.MultiIndex.set_codes")和[`MultiIndex.set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels")中的弃用参数`inplace`（[GH 35626](https://github.com/pandas-dev/pandas/issues/35626)）'
- en: Deprecated parameter `dtype` of method [`copy()`](../reference/api/pandas.Index.copy.html#pandas.Index.copy
    "pandas.Index.copy") for all [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") subclasses. Use the [`astype()`](../reference/api/pandas.Index.astype.html#pandas.Index.astype
    "pandas.Index.astype") method instead for changing dtype ([GH 35853](https://github.com/pandas-dev/pandas/issues/35853))
  id: totrans-966
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")子类的方法[`copy()`](../reference/api/pandas.Index.copy.html#pandas.Index.copy
    "pandas.Index.copy")的弃用参数`dtype`。使用[`astype()`](../reference/api/pandas.Index.astype.html#pandas.Index.astype
    "pandas.Index.astype")方法来改变dtype（[GH 35853](https://github.com/pandas-dev/pandas/issues/35853)）
- en: Deprecated parameters `levels` and `codes` in [`MultiIndex.copy()`](../reference/api/pandas.MultiIndex.copy.html#pandas.MultiIndex.copy
    "pandas.MultiIndex.copy"). Use the [`set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels") and [`set_codes()`](../reference/api/pandas.MultiIndex.set_codes.html#pandas.MultiIndex.set_codes
    "pandas.MultiIndex.set_codes") methods instead ([GH 36685](https://github.com/pandas-dev/pandas/issues/36685))
  id: totrans-967
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.copy()`](../reference/api/pandas.MultiIndex.copy.html#pandas.MultiIndex.copy
    "pandas.MultiIndex.copy")中的参数`levels`和`codes`已被弃用。请改用[`set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels")和[`set_codes()`](../reference/api/pandas.MultiIndex.set_codes.html#pandas.MultiIndex.set_codes
    "pandas.MultiIndex.set_codes")方法代替（[GH 36685](https://github.com/pandas-dev/pandas/issues/36685)）'
- en: Date parser functions `parse_date_time()`, `parse_date_fields()`, `parse_all_fields()`
    and `generic_parser()` from `pandas.io.date_converters` are deprecated and will
    be removed in a future version; use [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") instead ([GH 35741](https://github.com/pandas-dev/pandas/issues/35741))
  id: totrans-968
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 来自`pandas.io.date_converters`的日期解析函数`parse_date_time()`，`parse_date_fields()`，`parse_all_fields()`和`generic_parser()`已被弃用，并将在将来的版本中移除；请使用[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")代替（[GH 35741](https://github.com/pandas-dev/pandas/issues/35741)）
- en: '`DataFrame.lookup()` is deprecated and will be removed in a future version,
    use [`DataFrame.melt()`](../reference/api/pandas.DataFrame.melt.html#pandas.DataFrame.melt
    "pandas.DataFrame.melt") and [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") instead ([GH 35224](https://github.com/pandas-dev/pandas/issues/35224))'
  id: totrans-969
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.lookup()`已被弃用，并将在将来的版本中移除，请改用[`DataFrame.melt()`](../reference/api/pandas.DataFrame.melt.html#pandas.DataFrame.melt
    "pandas.DataFrame.melt")和[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc")代替（[GH 35224](https://github.com/pandas-dev/pandas/issues/35224)）'
- en: The method `Index.to_native_types()` is deprecated. Use `.astype(str)` instead
    ([GH 28867](https://github.com/pandas-dev/pandas/issues/28867))
  id: totrans-970
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法`Index.to_native_types()`已被弃用。请改用`.astype(str)`代替（[GH 28867](https://github.com/pandas-dev/pandas/issues/28867)）
- en: Deprecated indexing [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") rows with a single datetime-like string as `df[string]` (given
    the ambiguity whether it is indexing the rows or selecting a column), use `df.loc[string]`
    instead ([GH 36179](https://github.com/pandas-dev/pandas/issues/36179))
  id: totrans-971
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用单个类似日期时间的字符串作为`df[string]`的索引已被弃用（由于索引行或选择列的歧义性），请使用`df.loc[string]`代替（[GH
    36179](https://github.com/pandas-dev/pandas/issues/36179)）
- en: Deprecated `Index.is_all_dates()` ([GH 27744](https://github.com/pandas-dev/pandas/issues/27744))
  id: totrans-972
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用`Index.is_all_dates()`（[GH 27744](https://github.com/pandas-dev/pandas/issues/27744)）
- en: The default value of `regex` for [`Series.str.replace()`](../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace
    "pandas.Series.str.replace") will change from `True` to `False` in a future release.
    In addition, single character regular expressions will *not* be treated as literal
    strings when `regex=True` is set ([GH 24804](https://github.com/pandas-dev/pandas/issues/24804))
  id: totrans-973
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.replace()`](../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace
    "pandas.Series.str.replace")的`regex`的默认值将在将来的版本中从`True`更改为`False`。此外，当设置`regex=True`时，单个字符正则表达式将*不*被视为字面字符串（[GH
    24804](https://github.com/pandas-dev/pandas/issues/24804)）'
- en: Deprecated automatic alignment on comparison operations between [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series"), do `frame, ser = frame.align(ser, axis=1, copy=False)` before
    e.g. `frame == ser` ([GH 28759](https://github.com/pandas-dev/pandas/issues/28759))
  id: totrans-974
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在比较[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")和[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")之间的自动对齐已被弃用，在执行`frame == ser`之前执行`frame, ser = frame.align(ser,
    axis=1, copy=False)`（[GH 28759](https://github.com/pandas-dev/pandas/issues/28759)）
- en: '`Rolling.count()` with `min_periods=None` will default to the size of the window
    in a future version ([GH 31302](https://github.com/pandas-dev/pandas/issues/31302))'
  id: totrans-975
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Rolling.count()`中`min_periods=None`将在将来的版本中默认为窗口的大小（[GH 31302](https://github.com/pandas-dev/pandas/issues/31302)）'
- en: Using “outer” ufuncs on DataFrames to return 4d ndarray is now deprecated. Convert
    to an ndarray first ([GH 23743](https://github.com/pandas-dev/pandas/issues/23743))
  id: totrans-976
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用“outer” ufuncs在DataFrames上返回4d ndarray现已被弃用。首先转换为ndarray（[GH 23743](https://github.com/pandas-dev/pandas/issues/23743)）
- en: Deprecated slice-indexing on tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with naive `datetime` objects, to match scalar indexing
    behavior ([GH 36148](https://github.com/pandas-dev/pandas/issues/36148))
  id: totrans-977
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")上弃用对naive `datetime`对象的切片索引，以匹配标量索引行为（[GH 36148](https://github.com/pandas-dev/pandas/issues/36148)）
- en: '[`Index.ravel()`](../reference/api/pandas.Index.ravel.html#pandas.Index.ravel
    "pandas.Index.ravel") returning a `np.ndarray` is deprecated, in the future this
    will return a view on the same index ([GH 19956](https://github.com/pandas-dev/pandas/issues/19956))'
  id: totrans-978
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 返回`np.ndarray`的[`Index.ravel()`](../reference/api/pandas.Index.ravel.html#pandas.Index.ravel
    "pandas.Index.ravel")已被弃用，将来将返回相同索引的视图（[GH 19956](https://github.com/pandas-dev/pandas/issues/19956)）
- en: Deprecate use of strings denoting units with ‘M’, ‘Y’ or ‘y’ in [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") ([GH 36666](https://github.com/pandas-dev/pandas/issues/36666))
  id: totrans-979
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用在[`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta")中使用表示单位的字符串‘M’、‘Y’或‘y’（[GH 36666](https://github.com/pandas-dev/pandas/issues/36666)）
- en: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") methods
    `&`, `|`, and `^` behaving as the set operations [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection"), [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union"), and [`Index.symmetric_difference()`](../reference/api/pandas.Index.symmetric_difference.html#pandas.Index.symmetric_difference
    "pandas.Index.symmetric_difference"), respectively, are deprecated and in the
    future will behave as pointwise boolean operations matching [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") behavior. Use the named set methods instead ([GH 36758](https://github.com/pandas-dev/pandas/issues/36758))'
  id: totrans-980
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")方法`&`、`|`和`^`的行为将被弃用，并且将来将与集合操作[`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection")、[`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union")和[`Index.symmetric_difference()`](../reference/api/pandas.Index.symmetric_difference.html#pandas.Index.symmetric_difference
    "pandas.Index.symmetric_difference")一致，分别，将来将与匹配[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")行为的逐点布尔操作一致。请改用命名的集合方法（[GH 36758](https://github.com/pandas-dev/pandas/issues/36758)）'
- en: '`Categorical.is_dtype_equal()` and `CategoricalIndex.is_dtype_equal()` are
    deprecated, will be removed in a future version ([GH 37545](https://github.com/pandas-dev/pandas/issues/37545))'
  id: totrans-981
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.is_dtype_equal()`和`CategoricalIndex.is_dtype_equal()`已被弃用，将在将来的版本中移除（[GH
    37545](https://github.com/pandas-dev/pandas/issues/37545))'
- en: '`Series.slice_shift()` and `DataFrame.slice_shift()` are deprecated, use [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift") or [`DataFrame.shift()`](../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift
    "pandas.DataFrame.shift") instead ([GH 37601](https://github.com/pandas-dev/pandas/issues/37601))'
  id: totrans-982
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.slice_shift()` 和 `DataFrame.slice_shift()` 已被弃用，请使用 [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift") 或 [`DataFrame.shift()`](../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift
    "pandas.DataFrame.shift") 替代（[GH 37601](https://github.com/pandas-dev/pandas/issues/37601)）'
- en: Partial slicing on unordered [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") objects with keys that are not in the index is deprecated
    and will be removed in a future version ([GH 18531](https://github.com/pandas-dev/pandas/issues/18531))
  id: totrans-983
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于无序的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 对象进行部分切片，使用不在索引中的键已弃用，并将在将来的版本中删除（[GH 18531](https://github.com/pandas-dev/pandas/issues/18531)）
- en: The `how` keyword in `PeriodIndex.astype()` is deprecated and will be removed
    in a future version, use `index.to_timestamp(how=how)` instead ([GH 37982](https://github.com/pandas-dev/pandas/issues/37982))
  id: totrans-984
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PeriodIndex.astype()` 中的 `how` 关键字已弃用，并将在将来的版本中删除，请改用 `index.to_timestamp(how=how)`（[GH
    37982](https://github.com/pandas-dev/pandas/issues/37982)）'
- en: Deprecated `Index.asi8()` for [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") subclasses other than [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex"), and [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") ([GH 37877](https://github.com/pandas-dev/pandas/issues/37877))
  id: totrans-985
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于除 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")、[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 和 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 外的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 子类，已弃用 `Index.asi8()`（[GH 37877](https://github.com/pandas-dev/pandas/issues/37877)）
- en: The `inplace` parameter of `Categorical.remove_unused_categories()` is deprecated
    and will be removed in a future version ([GH 37643](https://github.com/pandas-dev/pandas/issues/37643))
  id: totrans-986
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.remove_unused_categories()` 中的 `inplace` 参数已弃用，并将在将来的版本中删除（[GH
    37643](https://github.com/pandas-dev/pandas/issues/37643)）'
- en: The `null_counts` parameter of [`DataFrame.info()`](../reference/api/pandas.DataFrame.info.html#pandas.DataFrame.info
    "pandas.DataFrame.info") is deprecated and replaced by `show_counts`. It will
    be removed in a future version ([GH 37999](https://github.com/pandas-dev/pandas/issues/37999))
  id: totrans-987
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.info()`](../reference/api/pandas.DataFrame.info.html#pandas.DataFrame.info
    "pandas.DataFrame.info") 的 `null_counts` 参数已弃用，并替换为 `show_counts`。它将在将来的版本中删除（[GH
    37999](https://github.com/pandas-dev/pandas/issues/37999)）'
- en: '**Calling NumPy ufuncs on non-aligned DataFrames**'
  id: totrans-988
  prefs: []
  type: TYPE_NORMAL
  zh: '**在非对齐的 DataFrame 上调用 NumPy ufuncs**'
- en: Calling NumPy ufuncs on non-aligned DataFrames changed behaviour in pandas 1.2.0
    (to align the inputs before calling the ufunc), but this change is reverted in
    pandas 1.2.1\. The behaviour to not align is now deprecated instead, see the [the
    1.2.1 release notes](v1.2.1.html#whatsnew-121-ufunc-deprecation) for more details.
  id: totrans-989
  prefs: []
  type: TYPE_NORMAL
  zh: 在 pandas 1.2.0 中，调用非对齐的 DataFrame 上的 NumPy ufuncs 的行为发生了变化（在调用 ufunc 之前对输入进行对齐），但在
    pandas 1.2.1 中撤销了此更改。现在将不对齐的行为弃用，有关更多详情，请参阅 [1.2.1 版本说明](v1.2.1.html#whatsnew-121-ufunc-deprecation)
- en: '## Performance improvements'
  id: totrans-990
  prefs: []
  type: TYPE_NORMAL
  zh: '## 性能改进'
- en: Performance improvements when creating DataFrame or Series with dtype `str`
    or [`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype") from array with many string elements ([GH 36304](https://github.com/pandas-dev/pandas/issues/36304),
    [GH 36317](https://github.com/pandas-dev/pandas/issues/36317), [GH 36325](https://github.com/pandas-dev/pandas/issues/36325),
    [GH 36432](https://github.com/pandas-dev/pandas/issues/36432), [GH 37371](https://github.com/pandas-dev/pandas/issues/37371))
  id: totrans-991
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用数组创建具有 `str` 或 [`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype") 类型的 DataFrame 或 Series 时，性能有所提升，该数组包含许多字符串元素（[GH 36304](https://github.com/pandas-dev/pandas/issues/36304),
    [GH 36317](https://github.com/pandas-dev/pandas/issues/36317), [GH 36325](https://github.com/pandas-dev/pandas/issues/36325),
    [GH 36432](https://github.com/pandas-dev/pandas/issues/36432), [GH 37371](https://github.com/pandas-dev/pandas/issues/37371)）
- en: Performance improvement in [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") and [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") with the `numba` engine ([GH 35759](https://github.com/pandas-dev/pandas/issues/35759))
  id: totrans-992
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") 和 [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") 中使用`numba`引擎的性能改进 ([GH 35759](https://github.com/pandas-dev/pandas/issues/35759))
- en: Performance improvements when creating [`Series.map()`](../reference/api/pandas.Series.map.html#pandas.Series.map
    "pandas.Series.map") from a huge dictionary ([GH 34717](https://github.com/pandas-dev/pandas/issues/34717))
  id: totrans-993
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从一个巨大字典创建 [`Series.map()`](../reference/api/pandas.Series.map.html#pandas.Series.map
    "pandas.Series.map") 时的性能改进 ([GH 34717](https://github.com/pandas-dev/pandas/issues/34717))
- en: Performance improvement in [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") and [`SeriesGroupBy.transform()`](../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform
    "pandas.core.groupby.SeriesGroupBy.transform") with the `numba` engine ([GH 36240](https://github.com/pandas-dev/pandas/issues/36240))
  id: totrans-994
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") 和 [`SeriesGroupBy.transform()`](../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform
    "pandas.core.groupby.SeriesGroupBy.transform") 中使用`numba`引擎的性能改进 ([GH 36240](https://github.com/pandas-dev/pandas/issues/36240))
- en: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") uuid method altered to compress data transmission
    over web whilst maintaining reasonably low table collision probability ([GH 36345](https://github.com/pandas-dev/pandas/issues/36345))'
  id: totrans-995
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修改了 [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 的 uuid 方法，以在网络上传输数据时压缩数据，同时保持较低的表冲突概率 ([GH 36345](https://github.com/pandas-dev/pandas/issues/36345))
- en: Performance improvement in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") with non-ns time unit for `float` `dtype` columns ([GH 20445](https://github.com/pandas-dev/pandas/issues/20445))
  id: totrans-996
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `float` `dtype` 列中使用非 ns 时间单位的 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 的性能改进 ([GH 20445](https://github.com/pandas-dev/pandas/issues/20445))
- en: Performance improvement in setting values on an `IntervalArray` ([GH 36310](https://github.com/pandas-dev/pandas/issues/36310))
  id: totrans-997
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `IntervalArray` 上设置值的性能改进 ([GH 36310](https://github.com/pandas-dev/pandas/issues/36310))
- en: The internal index method `_shallow_copy()` now makes the new index and original
    index share cached attributes, avoiding creating these again, if created on either.
    This can speed up operations that depend on creating copies of existing indexes
    ([GH 36840](https://github.com/pandas-dev/pandas/issues/36840))
  id: totrans-998
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在内部索引方法 `_shallow_copy()` 使新索引和原始索引共享缓存属性，避免再次创建这些属性，如果在任一端创建了这些属性。这可以加快依赖于创建现有索引副本的操作速度
    ([GH 36840](https://github.com/pandas-dev/pandas/issues/36840))
- en: Performance improvement in `RollingGroupby.count()` ([GH 35625](https://github.com/pandas-dev/pandas/issues/35625))
  id: totrans-999
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`RollingGroupby.count()`中的性能改进 ([GH 35625](https://github.com/pandas-dev/pandas/issues/35625))
- en: Small performance decrease to [`Rolling.min()`](../reference/api/pandas.core.window.rolling.Rolling.min.html#pandas.core.window.rolling.Rolling.min
    "pandas.core.window.rolling.Rolling.min") and [`Rolling.max()`](../reference/api/pandas.core.window.rolling.Rolling.max.html#pandas.core.window.rolling.Rolling.max
    "pandas.core.window.rolling.Rolling.max") for fixed windows ([GH 36567](https://github.com/pandas-dev/pandas/issues/36567))
  id: totrans-1000
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于固定窗口的 [`Rolling.min()`](../reference/api/pandas.core.window.rolling.Rolling.min.html#pandas.core.window.rolling.Rolling.min
    "pandas.core.window.rolling.Rolling.min") 和 [`Rolling.max()`](../reference/api/pandas.core.window.rolling.Rolling.max.html#pandas.core.window.rolling.Rolling.max
    "pandas.core.window.rolling.Rolling.max") 有轻微的性能下降 ([GH 36567](https://github.com/pandas-dev/pandas/issues/36567))
- en: Reduced peak memory usage in [`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle") when using `protocol=5` in python 3.8+ ([GH 34244](https://github.com/pandas-dev/pandas/issues/34244))
  id: totrans-1001
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 python 3.8+ 使用 `protocol=5` 时在 [`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle") 中减少了峰值内存使用量 ([GH 34244](https://github.com/pandas-dev/pandas/issues/34244))
- en: Faster `dir` calls when the object has many index labels, e.g. `dir(ser)` ([GH
    37450](https://github.com/pandas-dev/pandas/issues/37450))
  id: totrans-1002
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当对象具有许多索引标签时，例如 `dir(ser)` 时，`dir` 调用更快（[GH 37450](https://github.com/pandas-dev/pandas/issues/37450)）
- en: Performance improvement in `ExpandingGroupby` ([GH 37064](https://github.com/pandas-dev/pandas/issues/37064))
  id: totrans-1003
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExpandingGroupby` 的性能改进（[GH 37064](https://github.com/pandas-dev/pandas/issues/37064)）'
- en: Performance improvement in [`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") and [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") for [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") ([GH 8628](https://github.com/pandas-dev/pandas/issues/8628))
  id: totrans-1004
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") 和 [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") 对 [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") 的性能改进（[GH 8628](https://github.com/pandas-dev/pandas/issues/8628)）'
- en: Performance improvement in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") for `float` `dtype` ([GH 28303](https://github.com/pandas-dev/pandas/issues/28303)),
    changes of the underlying hash-function can lead to changes in float based indexes
    sort ordering for ties (e.g. [`Index.value_counts()`](../reference/api/pandas.Index.value_counts.html#pandas.Index.value_counts
    "pandas.Index.value_counts"))
  id: totrans-1005
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 对 `float` `dtype` 的性能改进（[GH 28303](https://github.com/pandas-dev/pandas/issues/28303)），底层哈希函数的更改可能导致基于浮点索引的排序顺序的更改（例如
    [`Index.value_counts()`](../reference/api/pandas.Index.value_counts.html#pandas.Index.value_counts
    "pandas.Index.value_counts")）'
- en: Performance improvement in `pd.isin()` for inputs with more than 1e6 elements
    ([GH 36611](https://github.com/pandas-dev/pandas/issues/36611))
  id: totrans-1006
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.isin()` 对具有超过 1e6 个元素的输入的性能改进（[GH 36611](https://github.com/pandas-dev/pandas/issues/36611)）'
- en: Performance improvement for `DataFrame.__setitem__()` with list-like indexers
    ([GH 37954](https://github.com/pandas-dev/pandas/issues/37954))
  id: totrans-1007
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.__setitem__()` 的性能改进，支持类似列表的索引器（[GH 37954](https://github.com/pandas-dev/pandas/issues/37954)）'
- en: '[`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json "pandas.read_json")
    now avoids reading entire file into memory when chunksize is specified ([GH 34548](https://github.com/pandas-dev/pandas/issues/34548))'
  id: totrans-1008
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在指定了 chunksize 时，[`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") 现在避免将整个文件读入内存（[GH 34548](https://github.com/pandas-dev/pandas/issues/34548)）
- en: '## Bug fixes'
  id: totrans-1009
  prefs: []
  type: TYPE_NORMAL
  zh: '## Bug 修复'
- en: Categorical
  id: totrans-1010
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 类别
- en: '`Categorical.fillna()` will always return a copy, validate a passed fill value
    regardless of whether there are any NAs to fill, and disallow an `NaT` as a fill
    value for numeric categories ([GH 36530](https://github.com/pandas-dev/pandas/issues/36530))'
  id: totrans-1011
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.fillna()` 现在总是返回一个副本，无论是否有任何 NAs 被填充，都会验证传递的填充值，并禁止将 `NaT` 作为数值类别的填充值（[GH
    36530](https://github.com/pandas-dev/pandas/issues/36530)）'
- en: Bug in `Categorical.__setitem__()` that incorrectly raised when trying to set
    a tuple value ([GH 20439](https://github.com/pandas-dev/pandas/issues/20439))
  id: totrans-1012
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.__setitem__()` 中的 Bug 在尝试设置元组值时错误地引发异常（[GH 20439](https://github.com/pandas-dev/pandas/issues/20439)）'
- en: Bug in [`CategoricalIndex.equals()`](../reference/api/pandas.CategoricalIndex.equals.html#pandas.CategoricalIndex.equals
    "pandas.CategoricalIndex.equals") incorrectly casting non-category entries to
    `np.nan` ([GH 37667](https://github.com/pandas-dev/pandas/issues/37667))
  id: totrans-1013
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`CategoricalIndex.equals()`](../reference/api/pandas.CategoricalIndex.equals.html#pandas.CategoricalIndex.equals
    "pandas.CategoricalIndex.equals") 中的 Bug 将非类别条目错误地转换为 `np.nan`（[GH 37667](https://github.com/pandas-dev/pandas/issues/37667)）'
- en: Bug in `CategoricalIndex.where()` incorrectly setting non-category entries to
    `np.nan` instead of raising `TypeError` ([GH 37977](https://github.com/pandas-dev/pandas/issues/37977))
  id: totrans-1014
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CategoricalIndex.where()` 中的 Bug 将非类别条目错误地设置为 `np.nan`，而不是引发 `TypeError`（[GH
    37977](https://github.com/pandas-dev/pandas/issues/37977)）'
- en: Bug in `Categorical.to_numpy()` and `np.array(categorical)` with tz-aware `datetime64`
    categories incorrectly dropping the time zone information instead of casting to
    object dtype ([GH 38136](https://github.com/pandas-dev/pandas/issues/38136))
  id: totrans-1015
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.to_numpy()` 和带有 tz-aware `datetime64` 类别的 `np.array(categorical)`
    的 Bug 错误地丢弃了时区信息，而不是转换为对象 dtype（[GH 38136](https://github.com/pandas-dev/pandas/issues/38136)）'
- en: Datetime-like
  id: totrans-1016
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 日期时间类
- en: Bug in [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") that would convert datetime-like column on other
    [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    to integer when the column is not present in original [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 28481](https://github.com/pandas-dev/pandas/issues/28481))
  id: totrans-1017
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first")中存在一个错误，当列不在原始[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")中时，将其他[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")上的类似于datetime的列转换为整数 ([GH 28481](https://github.com/pandas-dev/pandas/issues/28481))
- en: Bug in `DatetimeArray.date` where a `ValueError` would be raised with a read-only
    backing array ([GH 33530](https://github.com/pandas-dev/pandas/issues/33530))
  id: totrans-1018
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DatetimeArray.date`中存在一个错误，在只读的后台数组中将引发`ValueError`错误 ([GH 33530](https://github.com/pandas-dev/pandas/issues/33530))
- en: Bug in `NaT` comparisons failing to raise `TypeError` on invalid inequality
    comparisons ([GH 35046](https://github.com/pandas-dev/pandas/issues/35046))
  id: totrans-1019
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`NaT`比较中存在一个错误，未能在无效的不等式比较上引发`TypeError` ([GH 35046](https://github.com/pandas-dev/pandas/issues/35046))
- en: Bug in [`DateOffset`](../reference/api/pandas.tseries.offsets.DateOffset.html#pandas.tseries.offsets.DateOffset
    "pandas.tseries.offsets.DateOffset") where attributes reconstructed from pickle
    files differ from original objects when input values exceed normal ranges (e.g.
    months=12) ([GH 34511](https://github.com/pandas-dev/pandas/issues/34511))
  id: totrans-1020
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DateOffset`](../reference/api/pandas.tseries.offsets.DateOffset.html#pandas.tseries.offsets.DateOffset
    "pandas.tseries.offsets.DateOffset")中存在一个错误，当输入值超出正常范围（例如，月份=12）时，从pickle文件重建的属性与原始对象不同（[GH
    34511](https://github.com/pandas-dev/pandas/issues/34511))
- en: Bug in `DatetimeIndex.get_slice_bound()` where `datetime.date` objects were
    not accepted or naive [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") with a tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 35690](https://github.com/pandas-dev/pandas/issues/35690))
  id: totrans-1021
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DatetimeIndex.get_slice_bound()`中存在一个错误，不接受`datetime.date`对象或具有时区感知的naive
    [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")和
    [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 35690](https://github.com/pandas-dev/pandas/issues/35690))
- en: Bug in `DatetimeIndex.slice_locs()` where `datetime.date` objects were not accepted
    ([GH 34077](https://github.com/pandas-dev/pandas/issues/34077))
  id: totrans-1022
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DatetimeIndex.slice_locs()`中存在一个错误，不接受`datetime.date`对象（[GH 34077](https://github.com/pandas-dev/pandas/issues/34077))
- en: Bug in `DatetimeIndex.searchsorted()`, `TimedeltaIndex.searchsorted()`, `PeriodIndex.searchsorted()`,
    and [`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted") with `datetime64`, `timedelta64` or [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") dtype placement of `NaT` values being inconsistent with NumPy
    ([GH 36176](https://github.com/pandas-dev/pandas/issues/36176), [GH 36254](https://github.com/pandas-dev/pandas/issues/36254))
  id: totrans-1023
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DatetimeIndex.searchsorted()`、`TimedeltaIndex.searchsorted()`、`PeriodIndex.searchsorted()`和[`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted")中存在一个错误，`datetime64`、`timedelta64`或[`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") dtype中的`NaT`值的放置与NumPy不一致 ([GH 36176](https://github.com/pandas-dev/pandas/issues/36176),
    [GH 36254](https://github.com/pandas-dev/pandas/issues/36254))
- en: Inconsistency in [`DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray"), [`TimedeltaArray`](../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray
    "pandas.arrays.TimedeltaArray"), and [`PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray") method `__setitem__` casting arrays of strings to
    datetime-like scalars but not scalar strings ([GH 36261](https://github.com/pandas-dev/pandas/issues/36261))
  id: totrans-1024
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray")、[`TimedeltaArray`](../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray
    "pandas.arrays.TimedeltaArray")和[`PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray")方法`__setitem__`中存在不一致，将字符串数组转换为类似于datetime的标量，但不是标量字符串
    ([GH 36261](https://github.com/pandas-dev/pandas/issues/36261))
- en: Bug in `DatetimeArray.take()` incorrectly allowing `fill_value` with a mismatched
    time zone ([GH 37356](https://github.com/pandas-dev/pandas/issues/37356))
  id: totrans-1025
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DatetimeArray.take()`中存在一个错误，错误地允许`fill_value`与不匹配的时区 ([GH 37356](https://github.com/pandas-dev/pandas/issues/37356))
- en: Bug in `DatetimeIndex.shift` incorrectly raising when shifting empty indexes
    ([GH 14811](https://github.com/pandas-dev/pandas/issues/14811))
  id: totrans-1026
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.shift` 中的 Bug，在移动空索引时不正确地引发异常 ([GH 14811](https://github.com/pandas-dev/pandas/issues/14811))'
- en: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    and [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") comparisons between tz-aware and tz-naive objects now
    follow the standard library `datetime` behavior, returning `True`/`False` for
    `!=`/`==` and raising for inequality comparisons ([GH 28507](https://github.com/pandas-dev/pandas/issues/28507))'
  id: totrans-1027
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    和 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 之间的比较，对于带有时区和不带时区的对象现在遵循标准库 `datetime` 的行为，对于 `!=`/`==`
    返回 `True`/`False`，对于不等式比较则引发异常 ([GH 28507](https://github.com/pandas-dev/pandas/issues/28507))'
- en: Bug in `DatetimeIndex.equals()` and `TimedeltaIndex.equals()` incorrectly considering
    `int64` indexes as equal ([GH 36744](https://github.com/pandas-dev/pandas/issues/36744))
  id: totrans-1028
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.equals()` 和 `TimedeltaIndex.equals()` 中的 Bug，不正确地将 `int64` 索引视为相等
    ([GH 36744](https://github.com/pandas-dev/pandas/issues/36744))'
- en: '[`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json"), [`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json"), and [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") now implement time zone parsing when orient structure is `table`
    ([GH 35973](https://github.com/pandas-dev/pandas/issues/35973))'
  id: totrans-1029
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json")、[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") 和 [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") 现在在 orient 结构为 `table` 时实现了时区解析 ([GH 35973](https://github.com/pandas-dev/pandas/issues/35973))'
- en: '`astype()` now attempts to convert to `datetime64[ns, tz]` directly from `object`
    with inferred time zone from string ([GH 35973](https://github.com/pandas-dev/pandas/issues/35973))'
  id: totrans-1030
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`astype()` 现在尝试直接从 `object` 转换为 `datetime64[ns, tz]`，并从字符串中推断时区（[GH 35973](https://github.com/pandas-dev/pandas/issues/35973)）'
- en: Bug in `TimedeltaIndex.sum()` and [`Series.sum()`](../reference/api/pandas.Series.sum.html#pandas.Series.sum
    "pandas.Series.sum") with `timedelta64` dtype on an empty index or series returning
    `NaT` instead of `Timedelta(0)` ([GH 31751](https://github.com/pandas-dev/pandas/issues/31751))
  id: totrans-1031
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`TimedeltaIndex.sum()` 和 [`Series.sum()`](../reference/api/pandas.Series.sum.html#pandas.Series.sum
    "pandas.Series.sum") 中的 Bug，在空索引或序列上使用 `timedelta64` 数据类型时返回 `NaT` 而不是 `Timedelta(0)`
    ([GH 31751](https://github.com/pandas-dev/pandas/issues/31751))'
- en: Bug in `DatetimeArray.shift()` incorrectly allowing `fill_value` with a mismatched
    time zone ([GH 37299](https://github.com/pandas-dev/pandas/issues/37299))
  id: totrans-1032
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeArray.shift()` 中的 Bug，不正确地允许具有不匹配时区的 `fill_value` ([GH 37299](https://github.com/pandas-dev/pandas/issues/37299))'
- en: Bug in adding a [`BusinessDay`](../reference/api/pandas.tseries.offsets.BusinessDay.html#pandas.tseries.offsets.BusinessDay
    "pandas.tseries.offsets.BusinessDay") with nonzero `offset` to a non-scalar other
    ([GH 37457](https://github.com/pandas-dev/pandas/issues/37457))
  id: totrans-1033
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将非标量其他内容添加到带有非零 `offset` 的 [`BusinessDay`](../reference/api/pandas.tseries.offsets.BusinessDay.html#pandas.tseries.offsets.BusinessDay
    "pandas.tseries.offsets.BusinessDay") 中的 Bug ([GH 37457](https://github.com/pandas-dev/pandas/issues/37457))
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") with a read-only array incorrectly raising ([GH 34857](https://github.com/pandas-dev/pandas/issues/34857))
  id: totrans-1034
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 中的 Bug，使用只读数组时不正确地引发异常 ([GH 34857](https://github.com/pandas-dev/pandas/issues/34857))'
- en: Bug in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") with `datetime64[ns]` dtype and `DatetimeIndex.isin()` incorrectly
    casting integers to datetimes ([GH 36621](https://github.com/pandas-dev/pandas/issues/36621))
  id: totrans-1035
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") 中的 Bug，当 `datetime64[ns]` 数据类型和 `DatetimeIndex.isin()` 不正确地将整数转换为日期时间时
    ([GH 36621](https://github.com/pandas-dev/pandas/issues/36621))'
- en: Bug in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") with `datetime64[ns]` dtype and `DatetimeIndex.isin()` failing
    to consider tz-aware and tz-naive datetimes as always different ([GH 35728](https://github.com/pandas-dev/pandas/issues/35728))
  id: totrans-1036
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") 中的 Bug，当 `datetime64[ns]` 数据类型和 `DatetimeIndex.isin()` 未考虑到带有时区和不带时区的日期时间始终不同时
    ([GH 35728](https://github.com/pandas-dev/pandas/issues/35728))'
- en: Bug in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") with `PeriodDtype` dtype and `PeriodIndex.isin()` failing
    to consider arguments with different `PeriodDtype` as always different ([GH 37528](https://github.com/pandas-dev/pandas/issues/37528))
  id: totrans-1037
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") 在`PeriodDtype`数据类型和`PeriodIndex.isin()`中，未考虑具有不同`PeriodDtype`参数的情况始终不同的问题（[GH
    37528](https://github.com/pandas-dev/pandas/issues/37528)）
- en: Bug in [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    constructor now correctly handles nanoseconds in the `value` argument ([GH 34621](https://github.com/pandas-dev/pandas/issues/34621)
    and [GH 17053](https://github.com/pandas-dev/pandas/issues/17053))
  id: totrans-1038
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    构造函数现在正确处理`value`参数中的纳秒（[GH 34621](https://github.com/pandas-dev/pandas/issues/34621)和[GH
    17053](https://github.com/pandas-dev/pandas/issues/17053)）
- en: Timedelta
  id: totrans-1039
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时间差
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex"), [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series"), and [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") floor-division with `timedelta64` dtypes and `NaT` in the
    denominator ([GH 35529](https://github.com/pandas-dev/pandas/issues/35529))
  id: totrans-1040
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")、[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")和[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 在`timedelta64`数据类型和分母为`NaT`时的地板除法中存在问题（[GH 35529](https://github.com/pandas-dev/pandas/issues/35529)）
- en: Bug in parsing of ISO 8601 durations in [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") and [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") ([GH 29773](https://github.com/pandas-dev/pandas/issues/29773),
    [GH 36204](https://github.com/pandas-dev/pandas/issues/36204))
  id: totrans-1041
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in ISO 8601持续时间的解析中存在问题，包括[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")和[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")（[GH 29773](https://github.com/pandas-dev/pandas/issues/29773)、[GH
    36204](https://github.com/pandas-dev/pandas/issues/36204)）
- en: Bug in [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") with a read-only array incorrectly raising ([GH 34857](https://github.com/pandas-dev/pandas/issues/34857))
  id: totrans-1042
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") 中的只读数组错误地引发异常（[GH 34857](https://github.com/pandas-dev/pandas/issues/34857)）
- en: Bug in [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") incorrectly truncating to sub-second portion of a string input
    when it has precision higher than nanoseconds ([GH 36738](https://github.com/pandas-dev/pandas/issues/36738))
  id: totrans-1043
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") 在字符串输入的子秒部分精度高于纳秒时错误地截断（[GH 36738](https://github.com/pandas-dev/pandas/issues/36738)）
- en: Timezones
  id: totrans-1044
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时区
- en: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") was raising `AmbiguousTimeError` for valid input with `ambiguous=False`
    ([GH 35297](https://github.com/pandas-dev/pandas/issues/35297))
  id: totrans-1045
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") 对`ambiguous=False`的有效输入引发`AmbiguousTimeError`的问题（[GH 35297](https://github.com/pandas-dev/pandas/issues/35297)）
- en: Bug in [`Timestamp.replace()`](../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace
    "pandas.Timestamp.replace") was losing fold information ([GH 37610](https://github.com/pandas-dev/pandas/issues/37610))
  id: totrans-1046
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Timestamp.replace()`](../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace
    "pandas.Timestamp.replace") 丢失了fold信息（[GH 37610](https://github.com/pandas-dev/pandas/issues/37610)）
- en: Numeric
  id: totrans-1047
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数值
- en: Bug in [`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric") where float precision was incorrect ([GH 31364](https://github.com/pandas-dev/pandas/issues/31364))
  id: totrans-1048
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric") 中浮点精度不正确的问题（[GH 31364](https://github.com/pandas-dev/pandas/issues/31364)）
- en: Bug in [`DataFrame.any()`](../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any
    "pandas.DataFrame.any") with `axis=1` and `bool_only=True` ignoring the `bool_only`
    keyword ([GH 32432](https://github.com/pandas-dev/pandas/issues/32432))
  id: totrans-1049
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.any()`](../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any
    "pandas.DataFrame.any") 在`axis=1`和`bool_only=True`时忽略`bool_only`关键字的问题（[GH 32432](https://github.com/pandas-dev/pandas/issues/32432)）
- en: Bug in [`Series.equals()`](../reference/api/pandas.Series.equals.html#pandas.Series.equals
    "pandas.Series.equals") where a `ValueError` was raised when NumPy arrays were
    compared to scalars ([GH 35267](https://github.com/pandas-dev/pandas/issues/35267))
  id: totrans-1050
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.equals()`](../reference/api/pandas.Series.equals.html#pandas.Series.equals
    "pandas.Series.equals")中的错误，当NumPy数组与标量进行比较时引发`ValueError`（[GH 35267](https://github.com/pandas-dev/pandas/issues/35267)）'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    where two Series each have a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with different time zones having those indexes incorrectly
    changed when performing arithmetic operations ([GH 33671](https://github.com/pandas-dev/pandas/issues/33671))
  id: totrans-1051
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")中的错误，当两个具有不同时区的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")执行算术运算时，这些索引会错误地更改（[GH 33671](https://github.com/pandas-dev/pandas/issues/33671)）'
- en: Bug in `pandas.testing` module functions when used with `check_exact=False`
    on complex numeric types ([GH 28235](https://github.com/pandas-dev/pandas/issues/28235))
  id: totrans-1052
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`check_exact=False`时，`pandas.testing`模块函数在复杂数值类型上的使用中出现的错误（[GH 28235](https://github.com/pandas-dev/pandas/issues/28235)）
- en: Bug in `DataFrame.__rmatmul__()` error handling reporting transposed shapes
    ([GH 21581](https://github.com/pandas-dev/pandas/issues/21581))
  id: totrans-1053
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.__rmatmul__()`中的错误处理报告转置形状（[GH 21581](https://github.com/pandas-dev/pandas/issues/21581)）'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    flex arithmetic methods where the result when operating with a `list`, `tuple`
    or `np.ndarray` would have an incorrect name ([GH 36760](https://github.com/pandas-dev/pandas/issues/36760))
  id: totrans-1054
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")中的灵活算术方法中的错误，当与`list`、`tuple`或`np.ndarray`进行操作时，结果将具有不正确的名称（[GH
    36760](https://github.com/pandas-dev/pandas/issues/36760)）'
- en: Bug in [`IntegerArray`](../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray
    "pandas.arrays.IntegerArray") multiplication with `timedelta` and `np.timedelta64`
    objects ([GH 36870](https://github.com/pandas-dev/pandas/issues/36870))
  id: totrans-1055
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntegerArray`](../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray
    "pandas.arrays.IntegerArray")与`timedelta`和`np.timedelta64`对象的乘法中的错误（[GH 36870](https://github.com/pandas-dev/pandas/issues/36870)）'
- en: Bug in [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") comparison with tuple incorrectly treating tuple as array-like
    ([GH 21517](https://github.com/pandas-dev/pandas/issues/21517))
  id: totrans-1056
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")中的错误，与元组进行比较时错误地将元组视为数组样本（[GH
    21517](https://github.com/pandas-dev/pandas/issues/21517)）'
- en: Bug in [`DataFrame.diff()`](../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff
    "pandas.DataFrame.diff") with `datetime64` dtypes including `NaT` values failing
    to fill `NaT` results correctly ([GH 32441](https://github.com/pandas-dev/pandas/issues/32441))
  id: totrans-1057
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.diff()`](../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff
    "pandas.DataFrame.diff")中的错误，处理`datetime64`类型，包括`NaT`值，未能正确填充`NaT`结果（[GH 32441](https://github.com/pandas-dev/pandas/issues/32441)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") arithmetic ops incorrectly accepting keyword arguments ([GH
    36843](https://github.com/pandas-dev/pandas/issues/36843))
  id: totrans-1058
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")中的错误，算术运算错误地接受关键字参数（[GH
    36843](https://github.com/pandas-dev/pandas/issues/36843)）'
- en: Bug in [`IntervalArray`](../reference/api/pandas.arrays.IntervalArray.html#pandas.arrays.IntervalArray
    "pandas.arrays.IntervalArray") comparisons with [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") not returning Series ([GH 36908](https://github.com/pandas-dev/pandas/issues/36908))
  id: totrans-1059
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalArray`](../reference/api/pandas.arrays.IntervalArray.html#pandas.arrays.IntervalArray
    "pandas.arrays.IntervalArray")与[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")比较时未返回Series（[GH 36908](https://github.com/pandas-dev/pandas/issues/36908)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") allowing arithmetic operations with list of array-likes with
    undefined results. Behavior changed to raising `ValueError` ([GH 36702](https://github.com/pandas-dev/pandas/issues/36702))
  id: totrans-1060
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")中的错误，允许与未定义结果的数组样本列表进行算术运算。行为更改为引发`ValueError`（[GH
    36702](https://github.com/pandas-dev/pandas/issues/36702)）'
- en: Bug in [`DataFrame.std()`](../reference/api/pandas.DataFrame.std.html#pandas.DataFrame.std
    "pandas.DataFrame.std") with `timedelta64` dtype and `skipna=False` ([GH 37392](https://github.com/pandas-dev/pandas/issues/37392))
  id: totrans-1061
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.std()`](../reference/api/pandas.DataFrame.std.html#pandas.DataFrame.std
    "pandas.DataFrame.std") 中的错误，对于 `timedelta64` 类型和 `skipna=False` 会出现错误（[GH 37392](https://github.com/pandas-dev/pandas/issues/37392)）'
- en: Bug in [`DataFrame.min()`](../reference/api/pandas.DataFrame.min.html#pandas.DataFrame.min
    "pandas.DataFrame.min") and [`DataFrame.max()`](../reference/api/pandas.DataFrame.max.html#pandas.DataFrame.max
    "pandas.DataFrame.max") with `datetime64` dtype and `skipna=False` ([GH 36907](https://github.com/pandas-dev/pandas/issues/36907))
  id: totrans-1062
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.min()`](../reference/api/pandas.DataFrame.min.html#pandas.DataFrame.min
    "pandas.DataFrame.min") 和 [`DataFrame.max()`](../reference/api/pandas.DataFrame.max.html#pandas.DataFrame.max
    "pandas.DataFrame.max") 中的错误，对于 `datetime64` 类型和 `skipna=False` 会出现错误（[GH 36907](https://github.com/pandas-dev/pandas/issues/36907)）'
- en: Bug in [`DataFrame.idxmax()`](../reference/api/pandas.DataFrame.idxmax.html#pandas.DataFrame.idxmax
    "pandas.DataFrame.idxmax") and [`DataFrame.idxmin()`](../reference/api/pandas.DataFrame.idxmin.html#pandas.DataFrame.idxmin
    "pandas.DataFrame.idxmin") with mixed dtypes incorrectly raising `TypeError` ([GH
    38195](https://github.com/pandas-dev/pandas/issues/38195))
  id: totrans-1063
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.idxmax()`](../reference/api/pandas.DataFrame.idxmax.html#pandas.DataFrame.idxmax
    "pandas.DataFrame.idxmax") 和 [`DataFrame.idxmin()`](../reference/api/pandas.DataFrame.idxmin.html#pandas.DataFrame.idxmin
    "pandas.DataFrame.idxmin") 中的错误，混合数据类型会错误地引发 `TypeError`（[GH 38195](https://github.com/pandas-dev/pandas/issues/38195)）'
- en: Conversion
  id: totrans-1064
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 转换
- en: Bug in [`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") with `orient='records'` now returns python native
    datetime objects for datetime-like columns ([GH 21256](https://github.com/pandas-dev/pandas/issues/21256))
  id: totrans-1065
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") 中的错误，使用 `orient=''records''` 时，现在会返回 datetime-like
    列的 Python 本机日期对象（[GH 21256](https://github.com/pandas-dev/pandas/issues/21256)）'
- en: Bug in [`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") conversion from `string` to `float` raised in presence
    of `pd.NA` values ([GH 37626](https://github.com/pandas-dev/pandas/issues/37626))
  id: totrans-1066
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") 中的错误，从 `string` 转换为 `float` 时出现 `pd.NA` 值（[GH 37626](https://github.com/pandas-dev/pandas/issues/37626)）'
- en: Strings
  id: totrans-1067
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 字符串
- en: Bug in [`Series.to_string()`](../reference/api/pandas.Series.to_string.html#pandas.Series.to_string
    "pandas.Series.to_string"), [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string"), and [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") adding a leading space when `index=False` ([GH 24980](https://github.com/pandas-dev/pandas/issues/24980))
  id: totrans-1068
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.to_string()`](../reference/api/pandas.Series.to_string.html#pandas.Series.to_string
    "pandas.Series.to_string")、[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") 和 [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") 中的错误，在 `index=False` 时会添加一个前导空格（[GH 24980](https://github.com/pandas-dev/pandas/issues/24980)）'
- en: Bug in [`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric") raising a `TypeError` when attempting to convert a string
    dtype Series containing only numeric strings and `NA` ([GH 37262](https://github.com/pandas-dev/pandas/issues/37262))
  id: totrans-1069
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric") 中的错误，尝试转换只包含数字字符串和 `NA` 的字符串类型 Series 时会引发 `TypeError`（[GH
    37262](https://github.com/pandas-dev/pandas/issues/37262)）'
- en: Interval
  id: totrans-1070
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 区间
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") and [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") where [`Interval`](../reference/api/pandas.Interval.html#pandas.Interval
    "pandas.Interval") dtypes would be converted to object dtypes ([GH 34871](https://github.com/pandas-dev/pandas/issues/34871))
  id: totrans-1071
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 和 [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 中的错误，[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval
    "pandas.Interval") 数据类型将被转换为对象数据类型（[GH 34871](https://github.com/pandas-dev/pandas/issues/34871)）'
- en: Bug in `IntervalIndex.take()` with negative indices and `fill_value=None` ([GH
    37330](https://github.com/pandas-dev/pandas/issues/37330))
  id: totrans-1072
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.take()` 中的错误，使用负索引和 `fill_value=None` 时（[GH 37330](https://github.com/pandas-dev/pandas/issues/37330)）'
- en: Bug in `IntervalIndex.putmask()` with datetime-like dtype incorrectly casting
    to object dtype ([GH 37968](https://github.com/pandas-dev/pandas/issues/37968))
  id: totrans-1073
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.putmask()` 中的 Bug，datetime 类型的数据错误地转换为对象 dtype ([GH 37968](https://github.com/pandas-dev/pandas/issues/37968))'
- en: Bug in `IntervalArray.astype()` incorrectly dropping dtype information with
    a [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") object ([GH 37984](https://github.com/pandas-dev/pandas/issues/37984))
  id: totrans-1074
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalArray.astype()`中的 Bug 错误地丢失了 [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") 对象的 dtype 信息 ([GH 37984](https://github.com/pandas-dev/pandas/issues/37984))'
- en: Indexing
  id: totrans-1075
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 索引
- en: Bug in `PeriodIndex.get_loc()` incorrectly raising `ValueError` on non-datelike
    strings instead of `KeyError`, causing similar errors in `Series.__getitem__()`,
    `Series.__contains__()`, and `Series.loc.__getitem__()` ([GH 34240](https://github.com/pandas-dev/pandas/issues/34240))
  id: totrans-1076
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PeriodIndex.get_loc()` 中的 Bug，错误地在非日期字符串上引发 `ValueError` 而不是 `KeyError`，导致
    `Series.__getitem__()`、`Series.__contains__()` 和 `Series.loc.__getitem__()` 中出现类似的错误
    ([GH 34240](https://github.com/pandas-dev/pandas/issues/34240))'
- en: Bug in [`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values") where, when empty values were passed, the method would
    break by trying to compare missing values instead of pushing them to the end of
    the sort order ([GH 35584](https://github.com/pandas-dev/pandas/issues/35584))
  id: totrans-1077
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values") 中的 Bug，当传递空值时，该方法会尝试比较缺失值而不是将其推到排序顺序的末尾，导致方法中断 ([GH
    35584](https://github.com/pandas-dev/pandas/issues/35584))'
- en: Bug in [`Index.get_indexer()`](../reference/api/pandas.Index.get_indexer.html#pandas.Index.get_indexer
    "pandas.Index.get_indexer") and [`Index.get_indexer_non_unique()`](../reference/api/pandas.Index.get_indexer_non_unique.html#pandas.Index.get_indexer_non_unique
    "pandas.Index.get_indexer_non_unique") where `int64` arrays are returned instead
    of `intp` ([GH 36359](https://github.com/pandas-dev/pandas/issues/36359))
  id: totrans-1078
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.get_indexer()`](../reference/api/pandas.Index.get_indexer.html#pandas.Index.get_indexer
    "pandas.Index.get_indexer") 和 [`Index.get_indexer_non_unique()`](../reference/api/pandas.Index.get_indexer_non_unique.html#pandas.Index.get_indexer_non_unique
    "pandas.Index.get_indexer_non_unique") 中的 Bug，返回 `int64` 数组而不是 `intp` ([GH 36359](https://github.com/pandas-dev/pandas/issues/36359))'
- en: Bug in [`DataFrame.sort_index()`](../reference/api/pandas.DataFrame.sort_index.html#pandas.DataFrame.sort_index
    "pandas.DataFrame.sort_index") where parameter ascending passed as a list on a
    single level index gives wrong result ([GH 32334](https://github.com/pandas-dev/pandas/issues/32334))
  id: totrans-1079
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.sort_index()`](../reference/api/pandas.DataFrame.sort_index.html#pandas.DataFrame.sort_index
    "pandas.DataFrame.sort_index") 中的 Bug，当参数 ascending 作为单级索引上的列表传递时，会给出错误的结果 ([GH
    32334](https://github.com/pandas-dev/pandas/issues/32334))'
- en: Bug in [`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") was incorrectly raising a `ValueError` for input
    with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") with missing values in a level with `Categorical` dtype ([GH
    24206](https://github.com/pandas-dev/pandas/issues/24206))
  id: totrans-1080
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") 中的 Bug，错误地在具有 `Categorical` dtype 的级别中存在缺失值的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 输入上引发 `ValueError` ([GH 24206](https://github.com/pandas-dev/pandas/issues/24206))'
- en: Bug in indexing with boolean masks on datetime-like values sometimes returning
    a view instead of a copy ([GH 36210](https://github.com/pandas-dev/pandas/issues/36210))
  id: totrans-1081
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在日期时间值上使用布尔掩码进行索引的 Bug，有时会返回视图而不是副本 ([GH 36210](https://github.com/pandas-dev/pandas/issues/36210))
- en: Bug in `DataFrame.__getitem__()` and `DataFrame.loc.__getitem__()` with [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") columns and a numeric indexer ([GH 26490](https://github.com/pandas-dev/pandas/issues/26490))
  id: totrans-1082
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.__getitem__()` 和 `DataFrame.loc.__getitem__()` 中的 Bug，涉及 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 列和数字索引器 ([GH 26490](https://github.com/pandas-dev/pandas/issues/26490))'
- en: Bug in `Series.loc.__getitem__()` with a non-unique [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") and an empty-list indexer ([GH 13691](https://github.com/pandas-dev/pandas/issues/13691))
  id: totrans-1083
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.loc.__getitem__()` 中的 Bug，涉及非唯一的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 和空列表索引器 ([GH 13691](https://github.com/pandas-dev/pandas/issues/13691))'
- en: Bug in indexing on a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") and a level named `"0"` ([GH 37194](https://github.com/pandas-dev/pandas/issues/37194))
  id: totrans-1084
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用具有名为 `"0"` 的级别的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 上索引时出现的 Bug（[GH 37194](https://github.com/pandas-dev/pandas/issues/37194)）
- en: Bug in `Series.__getitem__()` when using an unsigned integer array as an indexer
    giving incorrect results or segfaulting instead of raising `KeyError` ([GH 37218](https://github.com/pandas-dev/pandas/issues/37218))
  id: totrans-1085
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用无符号整数数组作为索引器时，[`Series.__getitem__()`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 出现错误的结果或崩溃，而不是引发 `KeyError`（[GH 37218](https://github.com/pandas-dev/pandas/issues/37218)）
- en: Bug in [`Index.where()`](../reference/api/pandas.Index.where.html#pandas.Index.where
    "pandas.Index.where") incorrectly casting numeric values to strings ([GH 37591](https://github.com/pandas-dev/pandas/issues/37591))
  id: totrans-1086
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.where()`中的 Bug 错误地将数值转换为字符串（[GH 37591](https://github.com/pandas-dev/pandas/issues/37591)）'
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") returning empty result when indexer is a slice with negative
    step size ([GH 38071](https://github.com/pandas-dev/pandas/issues/38071))
  id: totrans-1087
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在索引器是带有负步长的切片时，[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 返回了空结果（[GH 38071](https://github.com/pandas-dev/pandas/issues/38071)）
- en: Bug in [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") and [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") raises when the index was of `object` dtype and the given
    numeric label was in the index ([GH 26491](https://github.com/pandas-dev/pandas/issues/26491))
  id: totrans-1088
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在索引是 `object` dtype 且给定的数值标签在索引中时，[`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") 和 [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 出现错误（[GH 26491](https://github.com/pandas-dev/pandas/issues/26491)）
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") returned requested key plus missing values when `loc`
    was applied to single level from a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 27104](https://github.com/pandas-dev/pandas/issues/27104))
  id: totrans-1089
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在从 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 中的单个级别应用 `loc` 时，[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 返回了请求的键加上缺失值（[GH 27104](https://github.com/pandas-dev/pandas/issues/27104)）
- en: Bug in indexing on a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") using a list-like indexer containing NA values ([GH
    37722](https://github.com/pandas-dev/pandas/issues/37722))
  id: totrans-1090
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用包含 NA 值的列表索引器索引 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 上的索引时出现的 Bug，该索引器具有 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 类型（[GH 37722](https://github.com/pandas-dev/pandas/issues/37722)）
- en: Bug in `DataFrame.loc.__setitem__()` expanding an empty [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with mixed dtypes ([GH 37932](https://github.com/pandas-dev/pandas/issues/37932))
  id: totrans-1091
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.loc.__setitem__()`中的 Bug 在使用混合数据类型的空 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 扩展时出现问题（[GH 37932](https://github.com/pandas-dev/pandas/issues/37932)）'
- en: Bug in [`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs") ignored `droplevel=False` for columns ([GH 19056](https://github.com/pandas-dev/pandas/issues/19056))
  id: totrans-1092
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在列上使用 `droplevel=False` 时，[`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs") 忽略了这个参数（[GH 19056](https://github.com/pandas-dev/pandas/issues/19056)）
- en: Bug in [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") raising `IndexingError` wrongly for empty DataFrame
    with `tolerance` not `None` or `method="nearest"` ([GH 27315](https://github.com/pandas-dev/pandas/issues/27315))
  id: totrans-1093
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在空 DataFrame 上使用 `tolerance` 不为 `None` 或 `method="nearest"` 时，[`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") 错误地引发了 `IndexingError`（[GH 27315](https://github.com/pandas-dev/pandas/issues/27315)）
- en: Bug in indexing on a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") using list-like indexer that contains elements that
    are in the index’s `categories` but not in the index itself failing to raise `KeyError`
    ([GH 37901](https://github.com/pandas-dev/pandas/issues/37901))
  id: totrans-1094
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用包含索引的 `categories` 中存在但索引本身不存在的元素的类似列表索引器进行索引时，[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 的索引失败引发 `KeyError` 的错误（[GH 37901](https://github.com/pandas-dev/pandas/issues/37901)）
- en: Bug on inserting a boolean label into a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a numeric [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") columns incorrectly casting to integer ([GH 36319](https://github.com/pandas-dev/pandas/issues/36319))
  id: totrans-1095
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将布尔标签插入具有数字 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    列的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    时，错误地转换为整数（[GH 36319](https://github.com/pandas-dev/pandas/issues/36319)）
- en: Bug in [`DataFrame.iloc()`](../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc
    "pandas.DataFrame.iloc") and [`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") aligning objects in `__setitem__` ([GH 22046](https://github.com/pandas-dev/pandas/issues/22046))
  id: totrans-1096
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.iloc()`](../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc
    "pandas.DataFrame.iloc") 和 [`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") 在 `__setitem__` 中对齐对象的错误（[GH 22046](https://github.com/pandas-dev/pandas/issues/22046)）'
- en: Bug in [`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop") does not raise if labels are partially found ([GH 37820](https://github.com/pandas-dev/pandas/issues/37820))
  id: totrans-1097
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当部分标签被发现时，[`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop") 没有引发错误（[GH 37820](https://github.com/pandas-dev/pandas/issues/37820)）
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") did not raise `KeyError` when missing combination was
    given with `slice(None)` for remaining levels ([GH 19556](https://github.com/pandas-dev/pandas/issues/19556))
  id: totrans-1098
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用 `slice(None)` 给出剩余级别的缺失组合时，[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 没有引发 `KeyError` 的错误（[GH 19556](https://github.com/pandas-dev/pandas/issues/19556)）
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") raising `TypeError` when non-integer slice was given to
    select values from [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 25165](https://github.com/pandas-dev/pandas/issues/25165),
    [GH 24263](https://github.com/pandas-dev/pandas/issues/24263))
  id: totrans-1099
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当非整数切片被给定以从 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 中选择值时，[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 引发 `TypeError` 的错误（[GH 25165](https://github.com/pandas-dev/pandas/issues/25165),
    [GH 24263](https://github.com/pandas-dev/pandas/issues/24263)）
- en: Bug in [`Series.at()`](../reference/api/pandas.Series.at.html#pandas.Series.at
    "pandas.Series.at") returning [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with one element instead of scalar when index is a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") with one level ([GH 38053](https://github.com/pandas-dev/pandas/issues/38053))
  id: totrans-1100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引为 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 且仅有一个级别时，[`Series.at()`](../reference/api/pandas.Series.at.html#pandas.Series.at
    "pandas.Series.at") 返回一个元素而不是标量的错误（[GH 38053](https://github.com/pandas-dev/pandas/issues/38053)）
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") returning and assigning elements in wrong order when indexer
    is differently ordered than the [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") to filter ([GH 31330](https://github.com/pandas-dev/pandas/issues/31330),
    [GH 34603](https://github.com/pandas-dev/pandas/issues/34603))
  id: totrans-1101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引器与用于过滤的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 不同顺序时，[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 返回并分配元素的顺序错误（[GH 31330](https://github.com/pandas-dev/pandas/issues/31330),
    [GH 34603](https://github.com/pandas-dev/pandas/issues/34603)）
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") and `DataFrame.__getitem__()` raising `KeyError` when
    columns were [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") with only one level ([GH 29749](https://github.com/pandas-dev/pandas/issues/29749))
  id: totrans-1102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 和 `DataFrame.__getitem__()` 存在 bug，当列是只有一个级别的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 时会引发 `KeyError` ([GH 29749](https://github.com/pandas-dev/pandas/issues/29749))'
- en: Bug in `Series.__getitem__()` and `DataFrame.__getitem__()` raising blank `KeyError`
    without missing keys for [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") ([GH 27365](https://github.com/pandas-dev/pandas/issues/27365))
  id: totrans-1103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.__getitem__()` 和 `DataFrame.__getitem__()` 存在 bug，在 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 中不存在缺失键时会引发空白的 `KeyError` ([GH 27365](https://github.com/pandas-dev/pandas/issues/27365))'
- en: Bug in setting a new label on a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") incorrectly raising `TypeError` when the new label
    is not among the index’s categories ([GH 38098](https://github.com/pandas-dev/pandas/issues/38098))
  id: totrans-1104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在为 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    或 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    设置新标签时存在 bug，当新标签不在索引的类别中时，会错误地引发 `TypeError` ([GH 38098](https://github.com/pandas-dev/pandas/issues/38098))
- en: Bug in [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") and [`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") raising `ValueError` when inserting a list-like `np.array`,
    `list` or `tuple` in an `object` Series of equal length ([GH 37748](https://github.com/pandas-dev/pandas/issues/37748),
    [GH 37486](https://github.com/pandas-dev/pandas/issues/37486))
  id: totrans-1105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") 和 [`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") 存在 bug，在长度相等的 `object` Series 中插入类似于 `np.array`、`list` 或
    `tuple` 的列表时会引发 `ValueError` ([GH 37748](https://github.com/pandas-dev/pandas/issues/37748),
    [GH 37486](https://github.com/pandas-dev/pandas/issues/37486))'
- en: Bug in [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") and [`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") setting all the values of an `object` Series with those
    of a list-like `ExtensionArray` instead of inserting it ([GH 38271](https://github.com/pandas-dev/pandas/issues/38271))
  id: totrans-1106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") 和 [`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") 存在 bug，将 `object` Series 的所有值设置为类似于列表的 `ExtensionArray`
    的所有值，而不是将其插入其中 ([GH 38271](https://github.com/pandas-dev/pandas/issues/38271))'
- en: Missing
  id: totrans-1107
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 缺失
- en: Bug in [`SeriesGroupBy.transform()`](../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform
    "pandas.core.groupby.SeriesGroupBy.transform") now correctly handles missing values
    for `dropna=False` ([GH 35014](https://github.com/pandas-dev/pandas/issues/35014))
  id: totrans-1108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`SeriesGroupBy.transform()`](../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform
    "pandas.core.groupby.SeriesGroupBy.transform") 现在正确处理了 `dropna=False` 情况下的缺失值
    ([GH 35014](https://github.com/pandas-dev/pandas/issues/35014))'
- en: Bug in [`Series.nunique()`](../reference/api/pandas.Series.nunique.html#pandas.Series.nunique
    "pandas.Series.nunique") with `dropna=True` was returning incorrect results when
    both `NA` and `None` missing values were present ([GH 37566](https://github.com/pandas-dev/pandas/issues/37566))
  id: totrans-1109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.nunique()`](../reference/api/pandas.Series.nunique.html#pandas.Series.nunique
    "pandas.Series.nunique") 函数在 `dropna=True` 情况下存在 bug，当存在 `NA` 和 `None` 缺失值时返回不正确的结果
    ([GH 37566](https://github.com/pandas-dev/pandas/issues/37566))'
- en: Bug in [`Series.interpolate()`](../reference/api/pandas.Series.interpolate.html#pandas.Series.interpolate
    "pandas.Series.interpolate") where kwarg `limit_area` and `limit_direction` had
    no effect when using methods `pad` and `backfill` ([GH 31048](https://github.com/pandas-dev/pandas/issues/31048))
  id: totrans-1110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.interpolate()`](../reference/api/pandas.Series.interpolate.html#pandas.Series.interpolate
    "pandas.Series.interpolate") 函数存在 bug，在使用 `pad` 和 `backfill` 方法时，关键字参数 `limit_area`
    和 `limit_direction` 无效 ([GH 31048](https://github.com/pandas-dev/pandas/issues/31048))'
- en: MultiIndex
  id: totrans-1111
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 多重索引
- en: Bug in [`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs") when used with [`IndexSlice`](../reference/api/pandas.IndexSlice.html#pandas.IndexSlice
    "pandas.IndexSlice") raises `TypeError` with message `"Expected label or tuple
    of labels"` ([GH 35301](https://github.com/pandas-dev/pandas/issues/35301))
  id: totrans-1112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用[`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs")与[`IndexSlice`](../reference/api/pandas.IndexSlice.html#pandas.IndexSlice
    "pandas.IndexSlice")时出现错误，引发`TypeError`，错误消息为`"Expected label or tuple of labels"`（[GH
    35301](https://github.com/pandas-dev/pandas/issues/35301)）
- en: Bug in [`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") with `NaT` values in index raises `ValueError`
    with message `"cannot convert float NaN to integer"` ([GH 36541](https://github.com/pandas-dev/pandas/issues/36541))
  id: totrans-1113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引中存在`NaT`值时，[`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index")引发`ValueError`，错误消息为`"cannot convert float NaN
    to integer"`（[GH 36541](https://github.com/pandas-dev/pandas/issues/36541)）
- en: Bug in [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") when used with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") containing string and `NaN` values raises `TypeError` ([GH
    36562](https://github.com/pandas-dev/pandas/issues/36562))
  id: totrans-1114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当与包含字符串和`NaN`值的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")一起使用时，[`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first")引发`TypeError`（[GH 36562](https://github.com/pandas-dev/pandas/issues/36562)）
- en: Bug in [`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop") dropped `NaN` values when non existing key was given
    as input ([GH 18853](https://github.com/pandas-dev/pandas/issues/18853))
  id: totrans-1115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当输入为不存在的键时，[`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop")删除了`NaN`值（[GH 18853](https://github.com/pandas-dev/pandas/issues/18853)）
- en: Bug in [`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop") dropping more values than expected when index has duplicates
    and is not sorted ([GH 33494](https://github.com/pandas-dev/pandas/issues/33494))
  id: totrans-1116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引具有重复项且未排序时，[`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop")中出现错误，删除了比预期更多的值（[GH 33494](https://github.com/pandas-dev/pandas/issues/33494)）
- en: I/O
  id: totrans-1117
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 输入/输出
- en: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    no longer leaks resources on failure ([GH 35566](https://github.com/pandas-dev/pandas/issues/35566))'
  id: totrans-1118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")在失败时不再泄漏资源（[GH
    35566](https://github.com/pandas-dev/pandas/issues/35566)）'
- en: Bug in [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") and [`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv") caused a `ValueError` when it was called with a filename
    in combination with `mode` containing a `b` ([GH 35058](https://github.com/pandas-dev/pandas/issues/35058))
  id: totrans-1119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当与包含`b`的`mode`一起调用文件名时，[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv")和[`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv")中出现`ValueError`（[GH 35058](https://github.com/pandas-dev/pandas/issues/35058)）
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") with `float_precision='round_trip'` did not handle `decimal`
    and `thousands` parameters ([GH 35365](https://github.com/pandas-dev/pandas/issues/35365))
  id: totrans-1120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用`float_precision='round_trip'`时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")未处理`decimal`和`thousands`参数（[GH 35365](https://github.com/pandas-dev/pandas/issues/35365)）
- en: '`to_pickle()` and [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") were closing user-provided file objects ([GH 35679](https://github.com/pandas-dev/pandas/issues/35679))'
  id: totrans-1121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_pickle()`和[`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle")关闭了用户提供的文件对象（[GH 35679](https://github.com/pandas-dev/pandas/issues/35679)）'
- en: '`to_csv()` passes compression arguments for `''gzip''` always to `gzip.GzipFile`
    ([GH 28103](https://github.com/pandas-dev/pandas/issues/28103))'
  id: totrans-1122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_csv()`始终将对于''gzip''的压缩参数传递给`gzip.GzipFile`（[GH 28103](https://github.com/pandas-dev/pandas/issues/28103)）'
- en: '`to_csv()` did not support zip compression for binary file object not having
    a filename ([GH 35058](https://github.com/pandas-dev/pandas/issues/35058))'
  id: totrans-1123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_csv()`不支持对没有文件名的二进制文件对象进行zip压缩（[GH 35058](https://github.com/pandas-dev/pandas/issues/35058)）'
- en: '`to_csv()` and [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") did not honor `compression` and `encoding` for path-like objects
    that are internally converted to file-like objects ([GH 35677](https://github.com/pandas-dev/pandas/issues/35677),
    [GH 26124](https://github.com/pandas-dev/pandas/issues/26124), [GH 32392](https://github.com/pandas-dev/pandas/issues/32392))'
  id: totrans-1124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_csv()` 和 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 不支持对内部转换为文件对象的路径类对象进行 `compression` 和 `encoding` 的控制 ([GH 35677](https://github.com/pandas-dev/pandas/issues/35677),
    [GH 26124](https://github.com/pandas-dev/pandas/issues/26124), [GH 32392](https://github.com/pandas-dev/pandas/issues/32392))'
- en: '[`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle"), [`Series.to_pickle()`](../reference/api/pandas.Series.to_pickle.html#pandas.Series.to_pickle
    "pandas.Series.to_pickle"), and [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") did not support compression for file-objects ([GH 26237](https://github.com/pandas-dev/pandas/issues/26237),
    [GH 29054](https://github.com/pandas-dev/pandas/issues/29054), [GH 29570](https://github.com/pandas-dev/pandas/issues/29570))'
  id: totrans-1125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle")、[`Series.to_pickle()`](../reference/api/pandas.Series.to_pickle.html#pandas.Series.to_pickle
    "pandas.Series.to_pickle") 和 [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") 不支持文件对象的压缩 ([GH 26237](https://github.com/pandas-dev/pandas/issues/26237),
    [GH 29054](https://github.com/pandas-dev/pandas/issues/29054), [GH 29570](https://github.com/pandas-dev/pandas/issues/29570))'
- en: Bug in `LongTableBuilder.middle_separator()` was duplicating LaTeX longtable
    entries in the List of Tables of a LaTeX document ([GH 34360](https://github.com/pandas-dev/pandas/issues/34360))
  id: totrans-1126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`LongTableBuilder.middle_separator()`](https://github.com/pandas-dev/pandas/issues/34360)
    中存在的 Bug 会在 LaTeX 文档的列表中复制 LaTeX longtable 条目 ([GH 34360](https://github.com/pandas-dev/pandas/issues/34360))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") with `engine='python'` truncating data if multiple items present
    in first row and first element started with BOM ([GH 36343](https://github.com/pandas-dev/pandas/issues/36343))
  id: totrans-1127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `engine='python'` 时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中存在的 Bug 会在第一行中存在多个项且第一个元素以 BOM 开头时截断数据 ([GH 36343](https://github.com/pandas-dev/pandas/issues/36343))
- en: Removed `private_key` and `verbose` from [`read_gbq()`](../reference/api/pandas.read_gbq.html#pandas.read_gbq
    "pandas.read_gbq") as they are no longer supported in `pandas-gbq` ([GH 34654](https://github.com/pandas-dev/pandas/issues/34654),
    [GH 30200](https://github.com/pandas-dev/pandas/issues/30200))
  id: totrans-1128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 `pandas-gbq` 中移除了 `private_key` 和 `verbose`，因为它们不再被支持 ([GH 34654](https://github.com/pandas-dev/pandas/issues/34654),
    [GH 30200](https://github.com/pandas-dev/pandas/issues/30200))
- en: Bumped minimum pytables version to 3.5.1 to avoid a `ValueError` in [`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf
    "pandas.read_hdf") ([GH 24839](https://github.com/pandas-dev/pandas/issues/24839))
  id: totrans-1129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了避免在 [`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf "pandas.read_hdf")
    中出现 `ValueError`，将 pytables 的最小版本提升至 3.5.1 ([GH 24839](https://github.com/pandas-dev/pandas/issues/24839))
- en: Bug in [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") and [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") when `delim_whitespace=True` and `sep=default` ([GH 36583](https://github.com/pandas-dev/pandas/issues/36583))
  id: totrans-1130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `delim_whitespace=True` 且 `sep=default` 时，[`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") 和 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中存在的 Bug ([GH 36583](https://github.com/pandas-dev/pandas/issues/36583))
- en: Bug in [`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") and [`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") when used with `lines=True` and `orient='records'` the
    last line of the record is not appended with ‘new line character’ ([GH 36888](https://github.com/pandas-dev/pandas/issues/36888))
  id: totrans-1131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `lines=True` 和 `orient='records'` 时，[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") 和 [`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") 中存在的 Bug 会导致记录的最后一行不附加 'new line character' ([GH 36888](https://github.com/pandas-dev/pandas/issues/36888))
- en: Bug in [`read_parquet()`](../reference/api/pandas.read_parquet.html#pandas.read_parquet
    "pandas.read_parquet") with fixed offset time zones. String representation of
    time zones was not recognized ([GH 35997](https://github.com/pandas-dev/pandas/issues/35997),
    [GH 36004](https://github.com/pandas-dev/pandas/issues/36004))
  id: totrans-1132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有固定偏移时区的[`read_parquet()`](../reference/api/pandas.read_parquet.html#pandas.read_parquet
    "pandas.read_parquet")中，未识别时区的字符串表示的bug ([GH 35997](https://github.com/pandas-dev/pandas/issues/35997),
    [GH 36004](https://github.com/pandas-dev/pandas/issues/36004))
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html"), [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string"), and [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") ignoring the `na_rep` argument when `float_format`
    was also specified ([GH 9046](https://github.com/pandas-dev/pandas/issues/9046),
    [GH 13828](https://github.com/pandas-dev/pandas/issues/13828))
  id: totrans-1133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html")、[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string")和[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex")中，当同时指定`float_format`参数时，忽略了`na_rep`参数的bug ([GH 9046](https://github.com/pandas-dev/pandas/issues/9046),
    [GH 13828](https://github.com/pandas-dev/pandas/issues/13828))
- en: Bug in output rendering of complex numbers showing too many trailing zeros ([GH
    36799](https://github.com/pandas-dev/pandas/issues/36799))
  id: totrans-1134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 输出复数时显示过多尾随零的渲染bug ([GH 36799](https://github.com/pandas-dev/pandas/issues/36799))
- en: Bug in `HDFStore` threw a `TypeError` when exporting an empty DataFrame with
    `datetime64[ns, tz]` dtypes with a fixed HDF5 store ([GH 20594](https://github.com/pandas-dev/pandas/issues/20594))
  id: totrans-1135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`HDFStore`时，当导出空的`datetime64[ns, tz]`数据类型的DataFrame到固定的HDF5存储时，会抛出`TypeError`bug
    ([GH 20594](https://github.com/pandas-dev/pandas/issues/20594))
- en: Bug in `HDFStore` was dropping time zone information when exporting a Series
    with `datetime64[ns, tz]` dtypes with a fixed HDF5 store ([GH 20594](https://github.com/pandas-dev/pandas/issues/20594))
  id: totrans-1136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`HDFStore`时，当导出具有固定HDF5存储的`datetime64[ns, tz]`数据类型的Series时，会丢失时区信息的bug ([GH
    20594](https://github.com/pandas-dev/pandas/issues/20594))
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    was closing user-provided binary file handles when `engine="c"` and an `encoding`
    was requested ([GH 36980](https://github.com/pandas-dev/pandas/issues/36980))'
  id: totrans-1137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")中，当`engine="c"`且请求了`encoding`时，关闭了用户提供的二进制文件句柄的bug
    ([GH 36980](https://github.com/pandas-dev/pandas/issues/36980))
- en: Bug in [`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf") was not dropping missing rows with `dropna=True` ([GH
    35719](https://github.com/pandas-dev/pandas/issues/35719))
  id: totrans-1138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf")中，当`dropna=True`时未删除缺失行的bug ([GH 35719](https://github.com/pandas-dev/pandas/issues/35719))
- en: Bug in [`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html
    "pandas.read_html") was raising a `TypeError` when supplying a `pathlib.Path`
    argument to the `io` parameter ([GH 37705](https://github.com/pandas-dev/pandas/issues/37705))
  id: totrans-1139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")中，当向`io`参数提供`pathlib.Path`参数时，会引发`TypeError`的bug
    ([GH 37705](https://github.com/pandas-dev/pandas/issues/37705))
- en: '[`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel"), [`Series.to_excel()`](../reference/api/pandas.Series.to_excel.html#pandas.Series.to_excel
    "pandas.Series.to_excel"), [`DataFrame.to_markdown()`](../reference/api/pandas.DataFrame.to_markdown.html#pandas.DataFrame.to_markdown
    "pandas.DataFrame.to_markdown"), and [`Series.to_markdown()`](../reference/api/pandas.Series.to_markdown.html#pandas.Series.to_markdown
    "pandas.Series.to_markdown") now support writing to fsspec URLs such as S3 and
    Google Cloud Storage ([GH 33987](https://github.com/pandas-dev/pandas/issues/33987))'
  id: totrans-1140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel")、[`Series.to_excel()`](../reference/api/pandas.Series.to_excel.html#pandas.Series.to_excel
    "pandas.Series.to_excel")、[`DataFrame.to_markdown()`](../reference/api/pandas.DataFrame.to_markdown.html#pandas.DataFrame.to_markdown
    "pandas.DataFrame.to_markdown")和[`Series.to_markdown()`](../reference/api/pandas.Series.to_markdown.html#pandas.Series.to_markdown
    "pandas.Series.to_markdown")现在支持写入到诸如S3和Google Cloud Storage等fsspec URL中的bug ([GH
    33987](https://github.com/pandas-dev/pandas/issues/33987))'
- en: Bug in [`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf
    "pandas.read_fwf") with `skip_blank_lines=True` was not skipping blank lines ([GH
    37758](https://github.com/pandas-dev/pandas/issues/37758))
  id: totrans-1141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `skip_blank_lines=True` 时，[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf
    "pandas.read_fwf") 中的一个错误未跳过空行（[GH 37758](https://github.com/pandas-dev/pandas/issues/37758))
- en: Parse missing values using [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") with `dtype=False` to `NaN` instead of `None` ([GH 28501](https://github.com/pandas-dev/pandas/issues/28501))
  id: totrans-1142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json "pandas.read_json")
    时，使用 `dtype=False` 将缺失值解析为 `NaN` 而不是 `None`（[GH 28501](https://github.com/pandas-dev/pandas/issues/28501))
- en: '[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf "pandas.read_fwf")
    was inferring compression with `compression=None` which was not consistent with
    the other `read_*` functions ([GH 37909](https://github.com/pandas-dev/pandas/issues/37909))'
  id: totrans-1143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf "pandas.read_fwf")
    推断压缩时使用了 `compression=None`，这与其他 `read_*` 函数不一致（[GH 37909](https://github.com/pandas-dev/pandas/issues/37909))'
- en: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") was ignoring `formatters` argument for `ExtensionDtype`
    columns ([GH 36525](https://github.com/pandas-dev/pandas/issues/36525))'
  id: totrans-1144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 在 `ExtensionDtype` 列上忽略了 `formatters` 参数（[GH 36525](https://github.com/pandas-dev/pandas/issues/36525))'
- en: Bumped minimum xarray version to 0.12.3 to avoid reference to the removed `Panel`
    class ([GH 27101](https://github.com/pandas-dev/pandas/issues/27101), [GH 37983](https://github.com/pandas-dev/pandas/issues/37983))
  id: totrans-1145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将最低 xarray 版本提升到 0.12.3，以避免引用已删除的 `Panel` 类（[GH 27101](https://github.com/pandas-dev/pandas/issues/27101),
    [GH 37983](https://github.com/pandas-dev/pandas/issues/37983))
- en: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") was re-opening file-like handles that also implement
    `os.PathLike` ([GH 38125](https://github.com/pandas-dev/pandas/issues/38125))'
  id: totrans-1146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") 重新打开了同时实现了 `os.PathLike` 的文件句柄（[GH 38125](https://github.com/pandas-dev/pandas/issues/38125))'
- en: Bug in the conversion of a sliced `pyarrow.Table` with missing values to a DataFrame
    ([GH 38525](https://github.com/pandas-dev/pandas/issues/38525))
  id: totrans-1147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将具有缺失值的切片 `pyarrow.Table` 转换为 DataFrame 时存在一个错误（[GH 38525](https://github.com/pandas-dev/pandas/issues/38525))
- en: Bug in [`read_sql_table()`](../reference/api/pandas.read_sql_table.html#pandas.read_sql_table
    "pandas.read_sql_table") raising a `sqlalchemy.exc.OperationalError` when column
    names contained a percentage sign ([GH 37517](https://github.com/pandas-dev/pandas/issues/37517))
  id: totrans-1148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在包含百分号的列名时，[`read_sql_table()`](../reference/api/pandas.read_sql_table.html#pandas.read_sql_table
    "pandas.read_sql_table") 引发 `sqlalchemy.exc.OperationalError` 的一个错误（[GH 37517](https://github.com/pandas-dev/pandas/issues/37517))
- en: Period
  id: totrans-1149
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 期间
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") and [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") where [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") dtypes would be converted to object dtypes ([GH 34871](https://github.com/pandas-dev/pandas/issues/34871))
  id: totrans-1150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 和 [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 中存在的一个错误，会将 [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") 类型转换为对象类型（[GH 34871](https://github.com/pandas-dev/pandas/issues/34871))
- en: Plotting
  id: totrans-1151
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 绘图
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") was rotating xticklabels when `subplots=True`, even if
    the x-axis wasn’t an irregular time series ([GH 29460](https://github.com/pandas-dev/pandas/issues/29460))
  id: totrans-1152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `subplots=True` 时，[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 中的一个错误会在 x 轴不是不规则时间序列时旋转 xticklabels（[GH 29460](https://github.com/pandas-dev/pandas/issues/29460))
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") where a marker letter in the `style` keyword sometimes
    caused a `ValueError` ([GH 21003](https://github.com/pandas-dev/pandas/issues/21003))
  id: totrans-1153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `style` 关键字中的标记字母有时会引发 `ValueError` 时，[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 中存在的一个错误（[GH 21003](https://github.com/pandas-dev/pandas/issues/21003))
- en: Bug in [`DataFrame.plot.bar()`](../reference/api/pandas.DataFrame.plot.bar.html#pandas.DataFrame.plot.bar
    "pandas.DataFrame.plot.bar") and [`Series.plot.bar()`](../reference/api/pandas.Series.plot.bar.html#pandas.Series.plot.bar
    "pandas.Series.plot.bar") where ticks positions were assigned by value order instead
    of using the actual value for numeric or a smart ordering for string ([GH 26186](https://github.com/pandas-dev/pandas/issues/26186),
    [GH 11465](https://github.com/pandas-dev/pandas/issues/11465)). This fix has been
    reverted in pandas 1.2.1, see [What’s new in 1.2.1 (January 20, 2021)](v1.2.1.html)
  id: totrans-1154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在数值型或字符串的情况下，[`DataFrame.plot.bar()`](../reference/api/pandas.DataFrame.plot.bar.html#pandas.DataFrame.plot.bar
    "pandas.DataFrame.plot.bar") 和 [`Series.plot.bar()`](../reference/api/pandas.Series.plot.bar.html#pandas.Series.plot.bar
    "pandas.Series.plot.bar") 的刻度位置是按值顺序分配的，而不是实际值或智能排序（[GH 26186](https://github.com/pandas-dev/pandas/issues/26186),
    [GH 11465](https://github.com/pandas-dev/pandas/issues/11465)）。此修复已在 pandas 1.2.1
    中撤销，请参阅 [1.2.1版本更新（2021年1月20日）](v1.2.1.html)
- en: Twinned axes were losing their tick labels which should only happen to all but
    the last row or column of ‘externally’ shared axes ([GH 33819](https://github.com/pandas-dev/pandas/issues/33819))
  id: totrans-1155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 同步坐标轴失去了其刻度标签，应该只发生在‘externally’共享坐标轴的最后一行或列上（[GH 33819](https://github.com/pandas-dev/pandas/issues/33819)）
- en: Bug in [`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot") and [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") was throwing a [`ValueError`](https://docs.python.org/3/library/exceptions.html#ValueError
    "(in Python v3.12)") when the Series or DataFrame was indexed by a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") with a fixed frequency and the x-axis lower limit was
    greater than the upper limit ([GH 37454](https://github.com/pandas-dev/pandas/issues/37454))
  id: totrans-1156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 Series 或 DataFrame 被以固定频率索引时，且 x 轴下限大于上限时，[`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot") 和 [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 存在一个 Bug，会抛出 [`ValueError`](https://docs.python.org/3/library/exceptions.html#ValueError
    "(in Python v3.12)")（[GH 37454](https://github.com/pandas-dev/pandas/issues/37454)）
- en: Bug in [`DataFrameGroupBy.boxplot()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.boxplot.html#pandas.core.groupby.DataFrameGroupBy.boxplot
    "pandas.core.groupby.DataFrameGroupBy.boxplot") when `subplots=False` would raise
    a `KeyError` ([GH 16748](https://github.com/pandas-dev/pandas/issues/16748))
  id: totrans-1157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`subplots=False`时，[`DataFrameGroupBy.boxplot()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.boxplot.html#pandas.core.groupby.DataFrameGroupBy.boxplot
    "pandas.core.groupby.DataFrameGroupBy.boxplot")存在一个 Bug，会引发 `KeyError`（[GH 16748](https://github.com/pandas-dev/pandas/issues/16748)）
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") and [`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot") was overwriting matplotlib’s shared y axes behavior when
    no `sharey` parameter was passed ([GH 37942](https://github.com/pandas-dev/pandas/issues/37942))
  id: totrans-1158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当未传递 `sharey` 参数时，[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 和 [`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot") 存在一个 Bug，会覆盖 matplotlib 的共享 y 轴行为（[GH 37942](https://github.com/pandas-dev/pandas/issues/37942)）
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") was raising a `TypeError` with `ExtensionDtype` columns
    ([GH 32073](https://github.com/pandas-dev/pandas/issues/32073))
  id: totrans-1159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当存在 `ExtensionDtype` 列时，[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 会引发 `TypeError` 的 Bug（[GH 32073](https://github.com/pandas-dev/pandas/issues/32073)）
- en: Styler
  id: totrans-1160
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Styler
- en: Bug in `Styler.render()` HTML was generated incorrectly because of formatting
    error in `rowspan` attribute, it now matches with w3 syntax ([GH 38234](https://github.com/pandas-dev/pandas/issues/38234))
  id: totrans-1161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于 `rowspan` 属性格式错误，导致 `Styler.render()` 生成的 HTML 错误，现在已经修正，与 w3 语法匹配（[GH 38234](https://github.com/pandas-dev/pandas/issues/38234)）
- en: Groupby/resample/rolling
  id: totrans-1162
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Groupby/resample/rolling
- en: Bug in [`DataFrameGroupBy.count()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.count.html#pandas.core.groupby.DataFrameGroupBy.count
    "pandas.core.groupby.DataFrameGroupBy.count") and `SeriesGroupBy.sum()` returning
    `NaN` for missing categories when grouped on multiple `Categoricals`. Now returning
    `0` ([GH 35028](https://github.com/pandas-dev/pandas/issues/35028))
  id: totrans-1163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当多个`Categoricals`进行分组时，[`DataFrameGroupBy.count()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.count.html#pandas.core.groupby.DataFrameGroupBy.count
    "pandas.core.groupby.DataFrameGroupBy.count") 和 `SeriesGroupBy.sum()` 对丢失的类别返回
    `NaN`。现在返回`0`（[GH 35028](https://github.com/pandas-dev/pandas/issues/35028)）
- en: Bug in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") that would sometimes throw an erroneous
    `ValueError` if the grouping axis had duplicate entries ([GH 16646](https://github.com/pandas-dev/pandas/issues/16646))
  id: totrans-1164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrameGroupBy.apply()` 中存在错误，如果分组轴有重复条目，则有时会引发错误的 `ValueError`（[GH 16646](https://github.com/pandas-dev/pandas/issues/16646)）。
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") that would throw a `ValueError` when resampling from
    `"D"` to `"24H"` over a transition into daylight savings time (DST) ([GH 35219](https://github.com/pandas-dev/pandas/issues/35219))
  id: totrans-1165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 中存在错误，当从 `"D"` 转换到 `"24H"` 时进入夏令时时会引发 `ValueError`（[GH
    35219](https://github.com/pandas-dev/pandas/issues/35219)）。
- en: Bug when combining methods [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") with [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") and [`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate") raising a `TypeError` ([GH 35325](https://github.com/pandas-dev/pandas/issues/35325))
  id: totrans-1166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在组合方法 [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 和 [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 以及 [`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate") 时存在错误，会引发 `TypeError`（[GH 35325](https://github.com/pandas-dev/pandas/issues/35325)）。
- en: Bug in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") where a non-nuisance grouping column
    would be dropped from the output columns if another groupby method was called
    before `.apply` ([GH 34656](https://github.com/pandas-dev/pandas/issues/34656))
  id: totrans-1167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrameGroupBy.apply()` 中存在错误，如果在 `.apply` 之前调用了另一个 groupby 方法，则会从输出列中删除一个非干扰的分组列（[GH
    34656](https://github.com/pandas-dev/pandas/issues/34656)）。
- en: Bug when subsetting columns on a `DataFrameGroupBy` (e.g. `df.groupby('a')[['b']])`)
    would reset the attributes `axis`, `dropna`, `group_keys`, `level`, `mutated`,
    `sort`, and `squeeze` to their default values ([GH 9959](https://github.com/pandas-dev/pandas/issues/9959))
  id: totrans-1168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在对 `DataFrameGroupBy` 进行列子集操作时存在错误（例如 `df.groupby('a')[['b']])`），会重置 `axis`,
    `dropna`, `group_keys`, `level`, `mutated`, `sort`, 和 `squeeze` 到它们的默认值（[GH 9959](https://github.com/pandas-dev/pandas/issues/9959)）。
- en: Bug in `DataFrameGroupBy.tshift()` failing to raise `ValueError` when a frequency
    cannot be inferred for the index of a group ([GH 35937](https://github.com/pandas-dev/pandas/issues/35937))
  id: totrans-1169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrameGroupBy.tshift()` 中存在错误，当无法为组的索引推断频率时未能引发 `ValueError`（[GH 35937](https://github.com/pandas-dev/pandas/issues/35937)）。
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") does not always maintain column index name for `any`,
    `all`, `bfill`, `ffill`, `shift` ([GH 29764](https://github.com/pandas-dev/pandas/issues/29764))
  id: totrans-1170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 中的错误并不总是保留 `any`, `all`, `bfill`, `ffill`, `shift`
    的列索引名称（[GH 29764](https://github.com/pandas-dev/pandas/issues/29764)）。'
- en: Bug in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") raising error with `np.nan` group(s)
    when `dropna=False` ([GH 35889](https://github.com/pandas-dev/pandas/issues/35889))
  id: totrans-1171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrameGroupBy.apply()` 中存在错误，当 `dropna=False` 时，使用 `np.nan` 进行分组会引发错误（[GH
    35889](https://github.com/pandas-dev/pandas/issues/35889)）。
- en: Bug in [`Rolling.sum()`](../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum
    "pandas.core.window.rolling.Rolling.sum") returned wrong values when dtypes where
    mixed between float and integer and `axis=1` ([GH 20649](https://github.com/pandas-dev/pandas/issues/20649),
    [GH 35596](https://github.com/pandas-dev/pandas/issues/35596))
  id: totrans-1172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Rolling.sum()`中的错误导致混合了浮点数和整数的数据类型且`axis=1`时返回错误值（[GH 20649](https://github.com/pandas-dev/pandas/issues/20649)，[GH
    35596](https://github.com/pandas-dev/pandas/issues/35596)）'
- en: Bug in [`Rolling.count()`](../reference/api/pandas.core.window.rolling.Rolling.count.html#pandas.core.window.rolling.Rolling.count
    "pandas.core.window.rolling.Rolling.count") returned `np.nan` with [`FixedForwardWindowIndexer`](../reference/api/pandas.api.indexers.FixedForwardWindowIndexer.html#pandas.api.indexers.FixedForwardWindowIndexer
    "pandas.api.indexers.FixedForwardWindowIndexer") as window, `min_periods=0` and
    only missing values in the window ([GH 35579](https://github.com/pandas-dev/pandas/issues/35579))
  id: totrans-1173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Rolling.count()`中的错误，当使用`FixedForwardWindowIndexer`作为窗口，`min_periods=0`且窗口中只有缺失值时，返回`np.nan`（[GH
    35579](https://github.com/pandas-dev/pandas/issues/35579)）'
- en: Bug where `Rolling` produces incorrect window sizes when using a `PeriodIndex`
    ([GH 34225](https://github.com/pandas-dev/pandas/issues/34225))
  id: totrans-1174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`PeriodIndex`时，`Rolling`产生不正确的窗口大小的错误（[GH 34225](https://github.com/pandas-dev/pandas/issues/34225)）
- en: Bug in [`DataFrameGroupBy.ffill()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.ffill.html#pandas.core.groupby.DataFrameGroupBy.ffill
    "pandas.core.groupby.DataFrameGroupBy.ffill") and [`DataFrameGroupBy.bfill()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.bfill.html#pandas.core.groupby.DataFrameGroupBy.bfill
    "pandas.core.groupby.DataFrameGroupBy.bfill") where a `NaN` group would return
    filled values instead of `NaN` when `dropna=True` ([GH 34725](https://github.com/pandas-dev/pandas/issues/34725))
  id: totrans-1175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy.ffill()`和`DataFrameGroupBy.bfill()`中的错误，当`dropna=True`时，`NaN`组会返回填充值而不是`NaN`（[GH
    34725](https://github.com/pandas-dev/pandas/issues/34725)）'
- en: Bug in `RollingGroupby.count()` where a `ValueError` was raised when specifying
    the `closed` parameter ([GH 35869](https://github.com/pandas-dev/pandas/issues/35869))
  id: totrans-1176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RollingGroupby.count()`中的错误，在指定`closed`参数时引发`ValueError`（[GH 35869](https://github.com/pandas-dev/pandas/issues/35869))'
- en: Bug in [`DataFrameGroupBy.rolling()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rolling.html#pandas.core.groupby.DataFrameGroupBy.rolling
    "pandas.core.groupby.DataFrameGroupBy.rolling") returning wrong values with partial
    centered window ([GH 36040](https://github.com/pandas-dev/pandas/issues/36040))
  id: totrans-1177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy.rolling()`中的错误，在使用部分居中窗口时返回错误值（[GH 36040](https://github.com/pandas-dev/pandas/issues/36040)）'
- en: Bug in [`DataFrameGroupBy.rolling()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rolling.html#pandas.core.groupby.DataFrameGroupBy.rolling
    "pandas.core.groupby.DataFrameGroupBy.rolling") returned wrong values with time
    aware window containing `NaN`. Raises `ValueError` because windows are not monotonic
    now ([GH 34617](https://github.com/pandas-dev/pandas/issues/34617))
  id: totrans-1178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy.rolling()`中的错误，在包含`NaN`的时间感知窗口中返回错误值。现在引发`ValueError`，因为窗口现在不是单调的（[GH
    34617](https://github.com/pandas-dev/pandas/issues/34617)）'
- en: Bug in `Rolling.__iter__()` where a `ValueError` was not raised when `min_periods`
    was larger than `window` ([GH 37156](https://github.com/pandas-dev/pandas/issues/37156))
  id: totrans-1179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Rolling.__iter__()`中的错误，当`min_periods`大于`window`时未引发`ValueError`（[GH 37156](https://github.com/pandas-dev/pandas/issues/37156)）'
- en: Using [`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") instead of [`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") avoids numerical issues for [`Rolling.corr()`](../reference/api/pandas.core.window.rolling.Rolling.corr.html#pandas.core.window.rolling.Rolling.corr
    "pandas.core.window.rolling.Rolling.corr") when [`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") is still within floating point precision
    while [`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") is not ([GH 31286](https://github.com/pandas-dev/pandas/issues/31286))
  id: totrans-1180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 [`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") 而不是 [`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") 可避免在 [`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") 仍在浮点精度范围内时出现数值问题，而 [`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") 不会（[GH 31286](https://github.com/pandas-dev/pandas/issues/31286))
- en: Bug in [`DataFrameGroupBy.quantile()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile
    "pandas.core.groupby.DataFrameGroupBy.quantile") and [`Resampler.quantile()`](../reference/api/pandas.core.resample.Resampler.quantile.html#pandas.core.resample.Resampler.quantile
    "pandas.core.resample.Resampler.quantile") raised `TypeError` when values were
    of type `Timedelta` ([GH 29485](https://github.com/pandas-dev/pandas/issues/29485))
  id: totrans-1181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.quantile()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile
    "pandas.core.groupby.DataFrameGroupBy.quantile") 和 [`Resampler.quantile()`](../reference/api/pandas.core.resample.Resampler.quantile.html#pandas.core.resample.Resampler.quantile
    "pandas.core.resample.Resampler.quantile") 在数值为 `Timedelta` 类型时引发 `TypeError`
    错误（[GH 29485](https://github.com/pandas-dev/pandas/issues/29485)）'
- en: Bug in [`Rolling.median()`](../reference/api/pandas.core.window.rolling.Rolling.median.html#pandas.core.window.rolling.Rolling.median
    "pandas.core.window.rolling.Rolling.median") and [`Rolling.quantile()`](../reference/api/pandas.core.window.rolling.Rolling.quantile.html#pandas.core.window.rolling.Rolling.quantile
    "pandas.core.window.rolling.Rolling.quantile") returned wrong values for [`BaseIndexer`](../reference/api/pandas.api.indexers.BaseIndexer.html#pandas.api.indexers.BaseIndexer
    "pandas.api.indexers.BaseIndexer") subclasses with non-monotonic starting or ending
    points for windows ([GH 37153](https://github.com/pandas-dev/pandas/issues/37153))
  id: totrans-1182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Rolling.median()`](../reference/api/pandas.core.window.rolling.Rolling.median.html#pandas.core.window.rolling.Rolling.median
    "pandas.core.window.rolling.Rolling.median") 和 [`Rolling.quantile()`](../reference/api/pandas.core.window.rolling.Rolling.quantile.html#pandas.core.window.rolling.Rolling.quantile
    "pandas.core.window.rolling.Rolling.quantile") 对具有非单调起始或结束点的 [`BaseIndexer`](../reference/api/pandas.api.indexers.BaseIndexer.html#pandas.api.indexers.BaseIndexer
    "pandas.api.indexers.BaseIndexer") 子类的窗口返回错误值（[GH 37153](https://github.com/pandas-dev/pandas/issues/37153)）'
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") dropped `nan` groups from result with `dropna=False`
    when grouping over a single column ([GH 35646](https://github.com/pandas-dev/pandas/issues/35646),
    [GH 35542](https://github.com/pandas-dev/pandas/issues/35542))
  id: totrans-1183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 在单列分组时，使用 `dropna=False` 会从结果中删除 `nan` 组（[GH 35646](https://github.com/pandas-dev/pandas/issues/35646),
    [GH 35542](https://github.com/pandas-dev/pandas/issues/35542)）'
- en: Bug in [`DataFrameGroupBy.head()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.head.html#pandas.core.groupby.DataFrameGroupBy.head
    "pandas.core.groupby.DataFrameGroupBy.head"), `DataFrameGroupBy.tail()`, `SeriesGroupBy.head()`,
    and `SeriesGroupBy.tail()` would raise when used with `axis=1` ([GH 9772](https://github.com/pandas-dev/pandas/issues/9772))
  id: totrans-1184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.head()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.head.html#pandas.core.groupby.DataFrameGroupBy.head
    "pandas.core.groupby.DataFrameGroupBy.head")、`DataFrameGroupBy.tail()`、`SeriesGroupBy.head()`
    和 `SeriesGroupBy.tail()` 在使用 `axis=1` 时会引发错误（[GH 9772](https://github.com/pandas-dev/pandas/issues/9772)）'
- en: Bug in [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") would raise when used with `axis=1`
    and a transformation kernel (e.g. “shift”) ([GH 36308](https://github.com/pandas-dev/pandas/issues/36308))
  id: totrans-1185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform")时存在bug，当使用`axis=1`和转换核（例如“shift”）时，会引发错误
    ([GH 36308](https://github.com/pandas-dev/pandas/issues/36308))
- en: Bug in [`DataFrameGroupBy.resample()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.resample.html#pandas.core.groupby.DataFrameGroupBy.resample
    "pandas.core.groupby.DataFrameGroupBy.resample") using `.agg` with sum produced
    different result than just calling `.sum` ([GH 33548](https://github.com/pandas-dev/pandas/issues/33548))
  id: totrans-1186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`DataFrameGroupBy.resample()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.resample.html#pandas.core.groupby.DataFrameGroupBy.resample
    "pandas.core.groupby.DataFrameGroupBy.resample")时存在bug，使用`.agg`与sum一起会产生不同的结果，而仅调用`.sum`则不会
    ([GH 33548](https://github.com/pandas-dev/pandas/issues/33548))
- en: Bug in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") dropped values on `nan` group when
    returning the same axes with the original frame ([GH 38227](https://github.com/pandas-dev/pandas/issues/38227))
  id: totrans-1187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply")时存在bug，在返回与原始框架相同的轴时，会删除`nan`组的值
    ([GH 38227](https://github.com/pandas-dev/pandas/issues/38227))
- en: Bug in [`DataFrameGroupBy.quantile()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile
    "pandas.core.groupby.DataFrameGroupBy.quantile") couldn’t handle with arraylike
    `q` when grouping by columns ([GH 33795](https://github.com/pandas-dev/pandas/issues/33795))
  id: totrans-1188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`DataFrameGroupBy.quantile()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile
    "pandas.core.groupby.DataFrameGroupBy.quantile")时存在bug，当按列分组时，无法处理数组样式的`q` ([GH
    33795](https://github.com/pandas-dev/pandas/issues/33795))
- en: Bug in `DataFrameGroupBy.rank()` with `datetime64tz` or period dtype incorrectly
    casting results to those dtypes instead of returning `float64` dtype ([GH 38187](https://github.com/pandas-dev/pandas/issues/38187))
  id: totrans-1189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`DataFrameGroupBy.rank()`时存在bug，当使用`datetime64tz`或period类型时，结果被错误地转换为这些类型，而不是返回`float64`类型
    ([GH 38187](https://github.com/pandas-dev/pandas/issues/38187))
- en: Reshaping
  id: totrans-1190
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 重塑
- en: Bug in `DataFrame.crosstab()` was returning incorrect results on inputs with
    duplicate row names, duplicate column names or duplicate names between row and
    column labels ([GH 22529](https://github.com/pandas-dev/pandas/issues/22529))
  id: totrans-1191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrame.crosstab()`中存在bug，在具有重复行名称、重复列名称或行和列标签之间存在重复名称的输入上返回的结果不正确 ([GH
    22529](https://github.com/pandas-dev/pandas/issues/22529))
- en: Bug in [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") with `aggfunc='count'` or `aggfunc='sum'` returning
    `NaN` for missing categories when pivoted on a `Categorical`. Now returning `0`
    ([GH 31422](https://github.com/pandas-dev/pandas/issues/31422))
  id: totrans-1192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table")时存在bug，当使用`aggfunc='count'`或`aggfunc='sum'`时，对于在`Categorical`上进行数据透视时，丢失的类别会返回`NaN`。现在返回`0`
    ([GH 31422](https://github.com/pandas-dev/pandas/issues/31422))
- en: Bug in [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    and [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    constructor where input index names are not preserved in some cases ([GH 13475](https://github.com/pandas-dev/pandas/issues/13475))
  id: totrans-1193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`concat()`和`DataFrame`构造函数时存在bug，在某些情况下，输入索引名称不会保留 ([GH 13475](https://github.com/pandas-dev/pandas/issues/13475))
- en: Bug in func [`crosstab()`](../reference/api/pandas.crosstab.html#pandas.crosstab
    "pandas.crosstab") when using multiple columns with `margins=True` and `normalize=True`
    ([GH 35144](https://github.com/pandas-dev/pandas/issues/35144))
  id: totrans-1194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用func [`crosstab()`](../reference/api/pandas.crosstab.html#pandas.crosstab
    "pandas.crosstab")时存在bug，当同时使用多个列并且`margins=True`和`normalize=True`时 ([GH 35144](https://github.com/pandas-dev/pandas/issues/35144))
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") where an empty DataFrame.stack would raise an error
    ([GH 36113](https://github.com/pandas-dev/pandas/issues/36113)). Now returning
    an empty Series with empty MultiIndex.
  id: totrans-1195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack")时存在bug，在空DataFrame.stack时会引发错误 ([GH 36113](https://github.com/pandas-dev/pandas/issues/36113)).
    现在返回一个带有空MultiIndex的空Series。
- en: Bug in [`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack"). Now a Series with single level of Index trying to unstack
    would raise a `ValueError` ([GH 36113](https://github.com/pandas-dev/pandas/issues/36113))
  id: totrans-1196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack")中尝试对单级索引的Series进行unstack会引发`ValueError`的错误（[GH 36113](https://github.com/pandas-dev/pandas/issues/36113))
- en: Bug in [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg") with `func={'name':<FUNC>}` incorrectly raising `TypeError`
    when `DataFrame.columns==['Name']` ([GH 36212](https://github.com/pandas-dev/pandas/issues/36212))
  id: totrans-1197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg")中使用`func={'name':<FUNC>}`时，当`DataFrame.columns==['Name']`时错误地引发`TypeError`的问题（[GH
    36212](https://github.com/pandas-dev/pandas/issues/36212))
- en: Bug in [`Series.transform()`](../reference/api/pandas.Series.transform.html#pandas.Series.transform
    "pandas.Series.transform") would give incorrect results or raise when the argument
    `func` was a dictionary ([GH 35811](https://github.com/pandas-dev/pandas/issues/35811))
  id: totrans-1198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`Series.transform()`](../reference/api/pandas.Series.transform.html#pandas.Series.transform
    "pandas.Series.transform")中当参数`func`为字典时给出不正确的结果或引发错误的问题（[GH 35811](https://github.com/pandas-dev/pandas/issues/35811))
- en: Bug in [`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot") did not preserve [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") level names for columns when rows and columns are both multiindexed
    ([GH 36360](https://github.com/pandas-dev/pandas/issues/36360))
  id: totrans-1199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot")在行和列都是多级索引时未保留列的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")级别名称的问题（[GH 36360](https://github.com/pandas-dev/pandas/issues/36360))
- en: Bug in [`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot") modified `index` argument when `columns` was passed
    but `values` was not ([GH 37635](https://github.com/pandas-dev/pandas/issues/37635))
  id: totrans-1200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot")在传递`columns`但未传递`values`时修改了`index`参数的问题（[GH 37635](https://github.com/pandas-dev/pandas/issues/37635))
- en: Bug in [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") returned a non deterministic level-order for the resulting
    [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    ([GH 36910](https://github.com/pandas-dev/pandas/issues/36910))
  id: totrans-1201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join")返回的结果[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")的非确定性级别顺序的问题（[GH 36910](https://github.com/pandas-dev/pandas/issues/36910))
- en: Bug in [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") caused wrong alignment with dtype `string` and
    one level of `MultiIndex` containing only `NA` ([GH 37591](https://github.com/pandas-dev/pandas/issues/37591))
  id: totrans-1202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first")在包含`string`类型和只包含`NA`的一级`MultiIndex`时对齐错误的问题（[GH
    37591](https://github.com/pandas-dev/pandas/issues/37591))
- en: Fixed regression in [`merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge") on merging [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with empty DataFrame ([GH 36895](https://github.com/pandas-dev/pandas/issues/36895))
  id: totrans-1203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在[`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")中合并[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")与空DataFrame时的回归问题（[GH 36895](https://github.com/pandas-dev/pandas/issues/36895))
- en: Bug in [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") not setting index of return value when `func` return
    type is `dict` ([GH 37544](https://github.com/pandas-dev/pandas/issues/37544))
  id: totrans-1204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply")中当`func`返回类型为`dict`时未设置返回值索引的错误（[GH 37544](https://github.com/pandas-dev/pandas/issues/37544))
- en: Bug in [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") and [`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge") returning inconsistent ordering in result for `how=right` and
    `how=left` ([GH 35382](https://github.com/pandas-dev/pandas/issues/35382))
  id: totrans-1205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")和[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge")在`how=right`和`how=left`时返回结果的排序不一致的错误（[GH 35382](https://github.com/pandas-dev/pandas/issues/35382))
- en: Bug in [`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered") couldn’t handle list-like `left_by` or `right_by` ([GH
    35269](https://github.com/pandas-dev/pandas/issues/35269))
  id: totrans-1206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered")中的错误，无法处理类似列表的`left_by`或`right_by`（[GH 35269](https://github.com/pandas-dev/pandas/issues/35269)）'
- en: Bug in [`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered") returned wrong join result when length of `left_by` or
    `right_by` equals to the rows of `left` or `right` ([GH 38166](https://github.com/pandas-dev/pandas/issues/38166))
  id: totrans-1207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered")中的错误，在`left_by`或`right_by`的长度等于`left`或`right`的行数时返回错误的连接结果（[GH
    38166](https://github.com/pandas-dev/pandas/issues/38166)）'
- en: Bug in [`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered") didn’t raise when elements in `left_by` or `right_by`
    not exist in `left` columns or `right` columns ([GH 38167](https://github.com/pandas-dev/pandas/issues/38167))
  id: totrans-1208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered")中的错误，在`left_by`或`right_by`中的元素不存在于`left`列或`right`列时没有引发异常（[GH
    38167](https://github.com/pandas-dev/pandas/issues/38167)）'
- en: Bug in [`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") not validating bool dtype for `ignore_index`
    keyword ([GH 38274](https://github.com/pandas-dev/pandas/issues/38274))
  id: totrans-1209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates")中的错误，未验证`ignore_index`关键字的布尔dtype（[GH 38274](https://github.com/pandas-dev/pandas/issues/38274)）'
- en: ExtensionArray
  id: totrans-1210
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ExtensionArray
- en: Fixed bug where [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") column set to scalar extension type via a dict instantiation
    was considered an object type rather than the extension type ([GH 35965](https://github.com/pandas-dev/pandas/issues/35965))
  id: totrans-1211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了通过字典实例化将[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")列设置为标量扩展类型时被视为对象类型而不是扩展类型的错误（[GH 35965](https://github.com/pandas-dev/pandas/issues/35965)）
- en: Fixed bug where `astype()` with equal dtype and `copy=False` would return a
    new object ([GH 28488](https://github.com/pandas-dev/pandas/issues/28488))
  id: totrans-1212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`astype()`中等dtype和`copy=False`会返回一个新对象的错误（[GH 28488](https://github.com/pandas-dev/pandas/issues/28488)）
- en: Fixed bug when applying a NumPy ufunc with multiple outputs to an [`IntegerArray`](../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray
    "pandas.arrays.IntegerArray") returning `None` ([GH 36913](https://github.com/pandas-dev/pandas/issues/36913))
  id: totrans-1213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了将NumPy ufunc应用于具有多个输出的[`IntegerArray`](../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray
    "pandas.arrays.IntegerArray")返回`None`时的错误（[GH 36913](https://github.com/pandas-dev/pandas/issues/36913)）
- en: Fixed an inconsistency in [`PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray")’s `__init__` signature to those of [`DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray") and [`TimedeltaArray`](../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray
    "pandas.arrays.TimedeltaArray") ([GH 37289](https://github.com/pandas-dev/pandas/issues/37289))
  id: totrans-1214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray")的`__init__`签名与[`DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray")和[`TimedeltaArray`](../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray
    "pandas.arrays.TimedeltaArray")的不一致性（[GH 37289](https://github.com/pandas-dev/pandas/issues/37289)）
- en: Reductions for [`BooleanArray`](../reference/api/pandas.arrays.BooleanArray.html#pandas.arrays.BooleanArray
    "pandas.arrays.BooleanArray"), [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical"), [`DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray"), [`FloatingArray`](../reference/api/pandas.arrays.FloatingArray.html#pandas.arrays.FloatingArray
    "pandas.arrays.FloatingArray"), [`IntegerArray`](../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray
    "pandas.arrays.IntegerArray"), [`PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray"), [`TimedeltaArray`](../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray
    "pandas.arrays.TimedeltaArray"), and `PandasArray` are now keyword-only methods
    ([GH 37541](https://github.com/pandas-dev/pandas/issues/37541))
  id: totrans-1215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 [`BooleanArray`](../reference/api/pandas.arrays.BooleanArray.html#pandas.arrays.BooleanArray
    "pandas.arrays.BooleanArray")、[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")、[`DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray")、[`FloatingArray`](../reference/api/pandas.arrays.FloatingArray.html#pandas.arrays.FloatingArray
    "pandas.arrays.FloatingArray")、[`IntegerArray`](../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray
    "pandas.arrays.IntegerArray")、[`PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray")、[`TimedeltaArray`](../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray
    "pandas.arrays.TimedeltaArray") 和 `PandasArray` 的缩减现在是关键字方法（[GH 37541](https://github.com/pandas-dev/pandas/issues/37541)）
- en: Fixed a bug where a `TypeError` was wrongly raised if a membership check was
    made on an `ExtensionArray` containing nan-like values ([GH 37867](https://github.com/pandas-dev/pandas/issues/37867))
  id: totrans-1216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了一个 Bug，当对包含类似 NaN 值的 `ExtensionArray` 进行成员检查时错误地引发了 `TypeError`（[GH 37867](https://github.com/pandas-dev/pandas/issues/37867)）
- en: Other
  id: totrans-1217
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 其他
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") and [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") incorrectly raising an `AssertionError` instead of a
    `ValueError` when invalid parameter combinations are passed ([GH 36045](https://github.com/pandas-dev/pandas/issues/36045))
  id: totrans-1218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 和 [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 中存在一个 Bug，当传入无效参数组合时，错误地引发 `AssertionError` 而不是 `ValueError`（[GH
    36045](https://github.com/pandas-dev/pandas/issues/36045)）
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") and [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") with numeric values and string `to_replace` ([GH 34789](https://github.com/pandas-dev/pandas/issues/34789))
  id: totrans-1219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 和 [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 中存在一个 Bug，涉及到数值和字符串 `to_replace` （[GH 34789](https://github.com/pandas-dev/pandas/issues/34789)）
- en: Fixed metadata propagation in [`Series.abs()`](../reference/api/pandas.Series.abs.html#pandas.Series.abs
    "pandas.Series.abs") and ufuncs called on Series and DataFrames ([GH 28283](https://github.com/pandas-dev/pandas/issues/28283))
  id: totrans-1220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在 [`Series.abs()`](../reference/api/pandas.Series.abs.html#pandas.Series.abs
    "pandas.Series.abs") 和在 Series 和 DataFrames 上调用的 ufuncs 中错误地传播元数据的 Bug（[GH 28283](https://github.com/pandas-dev/pandas/issues/28283)）
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") and [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") incorrectly casting from `PeriodDtype` to object dtype
    ([GH 34871](https://github.com/pandas-dev/pandas/issues/34871))
  id: totrans-1221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 和 [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 中存在一个 Bug，错误地将 `PeriodDtype` 强制转换为对象 dtype（[GH 34871](https://github.com/pandas-dev/pandas/issues/34871)）
- en: Fixed bug in metadata propagation incorrectly copying DataFrame columns as metadata
    when the column name overlaps with the metadata name ([GH 37037](https://github.com/pandas-dev/pandas/issues/37037))
  id: totrans-1222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了元数据传播中的 Bug，当列名与元数据名称重叠时，错误地复制 DataFrame 列作为元数据（[GH 37037](https://github.com/pandas-dev/pandas/issues/37037)）
- en: Fixed metadata propagation in the [`Series.dt`](../reference/api/pandas.Series.dt.html#pandas.Series.dt
    "pandas.Series.dt"), [`Series.str`](../reference/api/pandas.Series.str.html#pandas.Series.str
    "pandas.Series.str") accessors, [`DataFrame.duplicated`](../reference/api/pandas.DataFrame.duplicated.html#pandas.DataFrame.duplicated
    "pandas.DataFrame.duplicated"), [`DataFrame.stack`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack"), [`DataFrame.unstack`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack"), [`DataFrame.pivot`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot"), `DataFrame.append`, [`DataFrame.diff`](../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff
    "pandas.DataFrame.diff"), [`DataFrame.applymap`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap") and [`DataFrame.update`](../reference/api/pandas.DataFrame.update.html#pandas.DataFrame.update
    "pandas.DataFrame.update") methods ([GH 28283](https://github.com/pandas-dev/pandas/issues/28283),
    [GH 37381](https://github.com/pandas-dev/pandas/issues/37381))
  id: totrans-1223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在 [`Series.dt`](../reference/api/pandas.Series.dt.html#pandas.Series.dt "pandas.Series.dt")、[`Series.str`](../reference/api/pandas.Series.str.html#pandas.Series.str
    "pandas.Series.str") 访问器、[`DataFrame.duplicated`](../reference/api/pandas.DataFrame.duplicated.html#pandas.DataFrame.duplicated
    "pandas.DataFrame.duplicated")、[`DataFrame.stack`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack")、[`DataFrame.unstack`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")、[`DataFrame.pivot`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot")、`DataFrame.append`、[`DataFrame.diff`](../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff
    "pandas.DataFrame.diff")、[`DataFrame.applymap`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap") 和 [`DataFrame.update`](../reference/api/pandas.DataFrame.update.html#pandas.DataFrame.update
    "pandas.DataFrame.update") 方法中的元数据传播问题（[GH 28283](https://github.com/pandas-dev/pandas/issues/28283),
    [GH 37381](https://github.com/pandas-dev/pandas/issues/37381)）
- en: Fixed metadata propagation when selecting columns with `DataFrame.__getitem__`
    ([GH 28283](https://github.com/pandas-dev/pandas/issues/28283))
  id: totrans-1224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用 `DataFrame.__getitem__` 选择列时元数据传播的问题（[GH 28283](https://github.com/pandas-dev/pandas/issues/28283)）
- en: Bug in [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") with non-[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") failing to set the correct name on the returned [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") ([GH 38111](https://github.com/pandas-dev/pandas/issues/38111))
  id: totrans-1225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在非 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    上调用 [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") 时存在错误，未能正确设置返回的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 的名称（[GH 38111](https://github.com/pandas-dev/pandas/issues/38111)）
- en: Bug in `RangeIndex.intersection()` failing to set the correct name on the returned
    [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") in some
    corner cases ([GH 38197](https://github.com/pandas-dev/pandas/issues/38197))
  id: totrans-1226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在一些极端情况下，`RangeIndex.intersection()` 中存在错误，未能正确设置返回的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 的名称（[GH 38197](https://github.com/pandas-dev/pandas/issues/38197)）
- en: Bug in [`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference") failing to set the correct name on the returned [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") in some corner cases ([GH 38268](https://github.com/pandas-dev/pandas/issues/38268))
  id: totrans-1227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在一些极端情况下，[`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference") 中存在错误，未能正确设置返回的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 的名称（[GH 38268](https://github.com/pandas-dev/pandas/issues/38268)）
- en: Bug in [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") behaving differently depending on whether operand is an
    [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") or other
    list-like ([GH 36384](https://github.com/pandas-dev/pandas/issues/36384))
  id: totrans-1228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") 中的错误表现不同，取决于操作数是 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 还是其他类似列表的对象（[GH 36384](https://github.com/pandas-dev/pandas/issues/36384)）'
- en: Bug in [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") with non-matching numeric dtypes casting to `object`
    dtype instead of minimal common dtype ([GH 38122](https://github.com/pandas-dev/pandas/issues/38122))
  id: totrans-1229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在非匹配的数值数据类型的情况下，[`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") 中存在错误，转换为 `object` 数据类型而不是最小公共数据类型（[GH 38122](https://github.com/pandas-dev/pandas/issues/38122)）
- en: Bug in `IntervalIndex.union()` returning an incorrectly-typed [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") when empty ([GH 38282](https://github.com/pandas-dev/pandas/issues/38282))
  id: totrans-1230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.union()`中的错误，在空时返回一个类型错误的[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")（[GH 38282](https://github.com/pandas-dev/pandas/issues/38282)）'
- en: Passing an array with 2 or more dimensions to the [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") constructor now raises the more specific `ValueError` rather
    than a bare `Exception` ([GH 35744](https://github.com/pandas-dev/pandas/issues/35744))
  id: totrans-1231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在将一个具有2个或更多维度的数组传递给[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")构造函数会引发更具体的`ValueError`，而不是一个裸露的`Exception`（[GH 35744](https://github.com/pandas-dev/pandas/issues/35744)）
- en: Bug in `dir` where `dir(obj)` wouldn’t show attributes defined on the instance
    for pandas objects ([GH 37173](https://github.com/pandas-dev/pandas/issues/37173))
  id: totrans-1232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dir`中的错误，`dir(obj)`不会显示在pandas对象实例上定义的属性（[GH 37173](https://github.com/pandas-dev/pandas/issues/37173)）'
- en: Bug in [`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop") raising `InvalidIndexError` when index has duplicates ([GH
    38051](https://github.com/pandas-dev/pandas/issues/38051))
  id: totrans-1233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop")中的错误，在索��具有重复项时引发`InvalidIndexError`（[GH 38051](https://github.com/pandas-dev/pandas/issues/38051）'
- en: Bug in `RangeIndex.difference()` returning `Int64Index` in some cases where
    it should return [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex
    "pandas.RangeIndex") ([GH 38028](https://github.com/pandas-dev/pandas/issues/38028))
  id: totrans-1234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RangeIndex.difference()`中的错误，在某些情况下返回`Int64Index`，而应返回[`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex
    "pandas.RangeIndex")（[GH 38028](https://github.com/pandas-dev/pandas/issues/38028)）'
- en: Fixed bug in `assert_series_equal()` when comparing a datetime-like array with
    an equivalent non extension dtype array ([GH 37609](https://github.com/pandas-dev/pandas/issues/37609))
  id: totrans-1235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`assert_series_equal()`中的错误，当比较类似日期时间的数组与等效的非扩展数据类型数组时（[GH 37609](https://github.com/pandas-dev/pandas/issues/37609)）
- en: Bug in [`is_bool_dtype()`](../reference/api/pandas.api.types.is_bool_dtype.html#pandas.api.types.is_bool_dtype
    "pandas.api.types.is_bool_dtype") would raise when passed a valid string such
    as `"boolean"` ([GH 38386](https://github.com/pandas-dev/pandas/issues/38386))
  id: totrans-1236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`is_bool_dtype()`](../reference/api/pandas.api.types.is_bool_dtype.html#pandas.api.types.is_bool_dtype
    "pandas.api.types.is_bool_dtype")中的错误，当传递有效字符串如`"boolean"`时会引发异常（[GH 38386](https://github.com/pandas-dev/pandas/issues/38386)）'
- en: Fixed regression in logical operators raising `ValueError` when columns of [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") are a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") with unused categories ([GH 38367](https://github.com/pandas-dev/pandas/issues/38367))
  id: totrans-1237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了逻辑运算符中的回归错误，当[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")的列是具有未使用类别的[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")时引发`ValueError`（[GH 38367](https://github.com/pandas-dev/pandas/issues/38367)）
- en: Categorical
  id: totrans-1238
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 类别
- en: '`Categorical.fillna()` will always return a copy, validate a passed fill value
    regardless of whether there are any NAs to fill, and disallow an `NaT` as a fill
    value for numeric categories ([GH 36530](https://github.com/pandas-dev/pandas/issues/36530))'
  id: totrans-1239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.fillna()`将始终返回一个副本，验证传递的填充值，无论是否有任何NA要填充，并禁止将`NaT`作为数值类别的填充值（[GH
    36530](https://github.com/pandas-dev/pandas/issues/36530)）'
- en: Bug in `Categorical.__setitem__()` that incorrectly raised when trying to set
    a tuple value ([GH 20439](https://github.com/pandas-dev/pandas/issues/20439))
  id: totrans-1240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.__setitem__()`中的错误，当尝试设置元组值时错误地引发异常（[GH 20439](https://github.com/pandas-dev/pandas/issues/20439)）'
- en: Bug in [`CategoricalIndex.equals()`](../reference/api/pandas.CategoricalIndex.equals.html#pandas.CategoricalIndex.equals
    "pandas.CategoricalIndex.equals") incorrectly casting non-category entries to
    `np.nan` ([GH 37667](https://github.com/pandas-dev/pandas/issues/37667))
  id: totrans-1241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`CategoricalIndex.equals()`](../reference/api/pandas.CategoricalIndex.equals.html#pandas.CategoricalIndex.equals
    "pandas.CategoricalIndex.equals")中的错误，错误地将非类别条目转换为`np.nan`（[GH 37667](https://github.com/pandas-dev/pandas/issues/37667)）'
- en: Bug in `CategoricalIndex.where()` incorrectly setting non-category entries to
    `np.nan` instead of raising `TypeError` ([GH 37977](https://github.com/pandas-dev/pandas/issues/37977))
  id: totrans-1242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CategoricalIndex.where()`中的错误，错误地将非类别条目设置为`np.nan`，而不是引发`TypeError`（[GH 37977](https://github.com/pandas-dev/pandas/issues/37977)）'
- en: Bug in `Categorical.to_numpy()` and `np.array(categorical)` with tz-aware `datetime64`
    categories incorrectly dropping the time zone information instead of casting to
    object dtype ([GH 38136](https://github.com/pandas-dev/pandas/issues/38136))
  id: totrans-1243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.to_numpy()` 和 `np.array(categorical)` 中存在的 bug，带有时区信息的 `datetime64`
    类别错误地丢弃了时区信息，而不是转换为对象 dtype ([GH 38136](https://github.com/pandas-dev/pandas/issues/38136))'
- en: Datetime-like
  id: totrans-1244
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 类似日期时间的
- en: Bug in [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") that would convert datetime-like column on other
    [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    to integer when the column is not present in original [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 28481](https://github.com/pandas-dev/pandas/issues/28481))
  id: totrans-1245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") 中存在的 bug 会在其他 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 上将类似日期时间的列转换为整数，当列在原始 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 中不存在时 ([GH 28481](https://github.com/pandas-dev/pandas/issues/28481))'
- en: Bug in `DatetimeArray.date` where a `ValueError` would be raised with a read-only
    backing array ([GH 33530](https://github.com/pandas-dev/pandas/issues/33530))
  id: totrans-1246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeArray.date` 中的一个 bug，会在只读的后备数组中引发 `ValueError`（[GH 33530](https://github.com/pandas-dev/pandas/issues/33530)）'
- en: Bug in `NaT` comparisons failing to raise `TypeError` on invalid inequality
    comparisons ([GH 35046](https://github.com/pandas-dev/pandas/issues/35046))
  id: totrans-1247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`NaT` 比较中的 bug，在无效的不等式比较中未能引发 `TypeError` ([GH 35046](https://github.com/pandas-dev/pandas/issues/35046))'
- en: Bug in [`DateOffset`](../reference/api/pandas.tseries.offsets.DateOffset.html#pandas.tseries.offsets.DateOffset
    "pandas.tseries.offsets.DateOffset") where attributes reconstructed from pickle
    files differ from original objects when input values exceed normal ranges (e.g.
    months=12) ([GH 34511](https://github.com/pandas-dev/pandas/issues/34511))
  id: totrans-1248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DateOffset` 中存在的 bug，从 pickle 文件重建的属性与输入值超出正常范围时的原始对象不同（例如 months=12）（[GH
    34511](https://github.com/pandas-dev/pandas/issues/34511)）'
- en: Bug in `DatetimeIndex.get_slice_bound()` where `datetime.date` objects were
    not accepted or naive [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") with a tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 35690](https://github.com/pandas-dev/pandas/issues/35690))
  id: totrans-1249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.get_slice_bound()` 中存在 bug，不接受 `datetime.date` 对象或带有时区信息的原生
    [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    与 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") （[GH 35690](https://github.com/pandas-dev/pandas/issues/35690)）'
- en: Bug in `DatetimeIndex.slice_locs()` where `datetime.date` objects were not accepted
    ([GH 34077](https://github.com/pandas-dev/pandas/issues/34077))
  id: totrans-1250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.slice_locs()` 中存在 bug，不接受 `datetime.date` 对象 ([GH 34077](https://github.com/pandas-dev/pandas/issues/34077))'
- en: Bug in `DatetimeIndex.searchsorted()`, `TimedeltaIndex.searchsorted()`, `PeriodIndex.searchsorted()`,
    and [`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted") with `datetime64`, `timedelta64` or [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") dtype placement of `NaT` values being inconsistent with NumPy
    ([GH 36176](https://github.com/pandas-dev/pandas/issues/36176), [GH 36254](https://github.com/pandas-dev/pandas/issues/36254))
  id: totrans-1251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.searchsorted()`、`TimedeltaIndex.searchsorted()`、`PeriodIndex.searchsorted()`
    和 [`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted") 存在 bug，与 NumPy 中 `datetime64`、`timedelta64` 或 [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") dtype 中 `NaT` 值的放置不一致 ([GH 36176](https://github.com/pandas-dev/pandas/issues/36176)，[GH
    36254](https://github.com/pandas-dev/pandas/issues/36254))'
- en: Inconsistency in [`DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray"), [`TimedeltaArray`](../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray
    "pandas.arrays.TimedeltaArray"), and [`PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray") method `__setitem__` casting arrays of strings to
    datetime-like scalars but not scalar strings ([GH 36261](https://github.com/pandas-dev/pandas/issues/36261))
  id: totrans-1252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray")，[`TimedeltaArray`](../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray
    "pandas.arrays.TimedeltaArray") 和 [`PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray") 方法 `__setitem__` 中的不一致性，将字符串数组转换为类似日期时间的标量，但不转换标量字符串（[GH
    36261](https://github.com/pandas-dev/pandas/issues/36261)）'
- en: Bug in `DatetimeArray.take()` incorrectly allowing `fill_value` with a mismatched
    time zone ([GH 37356](https://github.com/pandas-dev/pandas/issues/37356))
  id: totrans-1253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeArray.take()` 中的错误允许了不匹配的时区的 `fill_value`（[GH 37356](https://github.com/pandas-dev/pandas/issues/37356)）'
- en: Bug in `DatetimeIndex.shift` incorrectly raising when shifting empty indexes
    ([GH 14811](https://github.com/pandas-dev/pandas/issues/14811))
  id: totrans-1254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.shift` 中的错误，在移动空索引时错误地引发异常（[GH 14811](https://github.com/pandas-dev/pandas/issues/14811)）'
- en: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    and [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") comparisons between tz-aware and tz-naive objects now
    follow the standard library `datetime` behavior, returning `True`/`False` for
    `!=`/`==` and raising for inequality comparisons ([GH 28507](https://github.com/pandas-dev/pandas/issues/28507))'
  id: totrans-1255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    和 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 在有时区感知和无时区感知对象之间的比较现在遵循标准库 `datetime` 的行为，对于 `!=`/`==`
    返回 `True`/`False`，对于不相等的比较则引发异常（[GH 28507](https://github.com/pandas-dev/pandas/issues/28507)）'
- en: Bug in `DatetimeIndex.equals()` and `TimedeltaIndex.equals()` incorrectly considering
    `int64` indexes as equal ([GH 36744](https://github.com/pandas-dev/pandas/issues/36744))
  id: totrans-1256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.equals()` 和 `TimedeltaIndex.equals()` 中的错误，错误地将 `int64` 索引视为相等（[GH
    36744](https://github.com/pandas-dev/pandas/issues/36744)）'
- en: '[`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json"), [`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json"), and [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") now implement time zone parsing when orient structure is `table`
    ([GH 35973](https://github.com/pandas-dev/pandas/issues/35973))'
  id: totrans-1257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json")，[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") 和 [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") 现在在 `table` 结构的 orient 下实现了时区解析（[GH 35973](https://github.com/pandas-dev/pandas/issues/35973)）'
- en: '`astype()` now attempts to convert to `datetime64[ns, tz]` directly from `object`
    with inferred time zone from string ([GH 35973](https://github.com/pandas-dev/pandas/issues/35973))'
  id: totrans-1258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`astype()` 现在尝试从字符串推断时区，直接从 `object` 转换为 `datetime64[ns, tz]`（[GH 35973](https://github.com/pandas-dev/pandas/issues/35973)）'
- en: Bug in `TimedeltaIndex.sum()` and [`Series.sum()`](../reference/api/pandas.Series.sum.html#pandas.Series.sum
    "pandas.Series.sum") with `timedelta64` dtype on an empty index or series returning
    `NaT` instead of `Timedelta(0)` ([GH 31751](https://github.com/pandas-dev/pandas/issues/31751))
  id: totrans-1259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`TimedeltaIndex.sum()` 和 [`Series.sum()`](../reference/api/pandas.Series.sum.html#pandas.Series.sum
    "pandas.Series.sum") 在空索引或系列上返回 `NaT` 而不是 `Timedelta(0)` 的错误，该索引或系列具有 `timedelta64`
    类型（[GH 31751](https://github.com/pandas-dev/pandas/issues/31751)）'
- en: Bug in `DatetimeArray.shift()` incorrectly allowing `fill_value` with a mismatched
    time zone ([GH 37299](https://github.com/pandas-dev/pandas/issues/37299))
  id: totrans-1260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeArray.shift()` 中的错误允许了不匹配的时区的 `fill_value`（[GH 37299](https://github.com/pandas-dev/pandas/issues/37299)）'
- en: Bug in adding a [`BusinessDay`](../reference/api/pandas.tseries.offsets.BusinessDay.html#pandas.tseries.offsets.BusinessDay
    "pandas.tseries.offsets.BusinessDay") with nonzero `offset` to a non-scalar other
    ([GH 37457](https://github.com/pandas-dev/pandas/issues/37457))
  id: totrans-1261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将具有非零 `offset` 的 [`BusinessDay`](../reference/api/pandas.tseries.offsets.BusinessDay.html#pandas.tseries.offsets.BusinessDay
    "pandas.tseries.offsets.BusinessDay") 添加到非标量其他对象时的错误（[GH 37457](https://github.com/pandas-dev/pandas/issues/37457)）
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") with a read-only array incorrectly raising ([GH 34857](https://github.com/pandas-dev/pandas/issues/34857))
  id: totrans-1262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 中，使用只读数组时不正���地引发错误（[GH 34857](https://github.com/pandas-dev/pandas/issues/34857))
- en: Bug in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") with `datetime64[ns]` dtype and `DatetimeIndex.isin()` incorrectly
    casting integers to datetimes ([GH 36621](https://github.com/pandas-dev/pandas/issues/36621))
  id: totrans-1263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") 中，`datetime64[ns]` 数据类型和 `DatetimeIndex.isin()` 不正确地将整数转换为日期时间（[GH
    36621](https://github.com/pandas-dev/pandas/issues/36621))
- en: Bug in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") with `datetime64[ns]` dtype and `DatetimeIndex.isin()` failing
    to consider tz-aware and tz-naive datetimes as always different ([GH 35728](https://github.com/pandas-dev/pandas/issues/35728))
  id: totrans-1264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") 中，`datetime64[ns]` 数据类型和 `DatetimeIndex.isin()` 未考虑到时区感知和时区无关的日期时间始终不同（[GH
    35728](https://github.com/pandas-dev/pandas/issues/35728))
- en: Bug in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") with `PeriodDtype` dtype and `PeriodIndex.isin()` failing
    to consider arguments with different `PeriodDtype` as always different ([GH 37528](https://github.com/pandas-dev/pandas/issues/37528))
  id: totrans-1265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") 中，`PeriodDtype` 数据类型和 `PeriodIndex.isin()` 未考虑到具有不同 `PeriodDtype`
    参数的情况，始终认为它们不同（[GH 37528](https://github.com/pandas-dev/pandas/issues/37528))
- en: Bug in [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    constructor now correctly handles nanoseconds in the `value` argument ([GH 34621](https://github.com/pandas-dev/pandas/issues/34621)
    and [GH 17053](https://github.com/pandas-dev/pandas/issues/17053))
  id: totrans-1266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    构造函数中的错误现在正确处理了`value`参数中的纳秒（[GH 34621](https://github.com/pandas-dev/pandas/issues/34621)
    和 [GH 17053](https://github.com/pandas-dev/pandas/issues/17053))'
- en: Timedelta
  id: totrans-1267
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时间差
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex"), [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series"), and [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") floor-division with `timedelta64` dtypes and `NaT` in the
    denominator ([GH 35529](https://github.com/pandas-dev/pandas/issues/35529))
  id: totrans-1268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")、[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 和 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 中，`timedelta64` 数据类型和分母中的 `NaT` 进行地板除法时出现错误（[GH 35529](https://github.com/pandas-dev/pandas/issues/35529))
- en: Bug in parsing of ISO 8601 durations in [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") and [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") ([GH 29773](https://github.com/pandas-dev/pandas/issues/29773),
    [GH 36204](https://github.com/pandas-dev/pandas/issues/36204))
  id: totrans-1269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta "pandas.Timedelta")
    和 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 中解析 ISO 8601 时长的错误（[GH 29773](https://github.com/pandas-dev/pandas/issues/29773),
    [GH 36204](https://github.com/pandas-dev/pandas/issues/36204))
- en: Bug in [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") with a read-only array incorrectly raising ([GH 34857](https://github.com/pandas-dev/pandas/issues/34857))
  id: totrans-1270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") 中，使用只读数组时不正确地引发错误（[GH 34857](https://github.com/pandas-dev/pandas/issues/34857))
- en: Bug in [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") incorrectly truncating to sub-second portion of a string input
    when it has precision higher than nanoseconds ([GH 36738](https://github.com/pandas-dev/pandas/issues/36738))
  id: totrans-1271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta "pandas.Timedelta")
    中，当输入的字符串精度高于纳秒时，错误地截断为亚秒部分（[GH 36738](https://github.com/pandas-dev/pandas/issues/36738))
- en: Timezones
  id: totrans-1272
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时区
- en: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") was raising `AmbiguousTimeError` for valid input with `ambiguous=False`
    ([GH 35297](https://github.com/pandas-dev/pandas/issues/35297))
  id: totrans-1273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") 中，对于具有`ambiguous=False`的有效输入，引发`AmbiguousTimeError`错误（[GH
    35297](https://github.com/pandas-dev/pandas/issues/35297))
- en: Bug in [`Timestamp.replace()`](../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace
    "pandas.Timestamp.replace") was losing fold information ([GH 37610](https://github.com/pandas-dev/pandas/issues/37610))
  id: totrans-1274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timestamp.replace()` 中的错误，丢失了 fold 信息（[GH 37610](https://github.com/pandas-dev/pandas/issues/37610)）'
- en: Numeric
  id: totrans-1275
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数值
- en: Bug in [`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric") where float precision was incorrect ([GH 31364](https://github.com/pandas-dev/pandas/issues/31364))
  id: totrans-1276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_numeric()` 中浮点精度不正确的错误（[GH 31364](https://github.com/pandas-dev/pandas/issues/31364))'
- en: Bug in [`DataFrame.any()`](../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any
    "pandas.DataFrame.any") with `axis=1` and `bool_only=True` ignoring the `bool_only`
    keyword ([GH 32432](https://github.com/pandas-dev/pandas/issues/32432))
  id: totrans-1277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.any()` 中的错误，当 `axis=1` 和 `bool_only=True` 时，忽略了 `bool_only` 关键字（[GH
    32432](https://github.com/pandas-dev/pandas/issues/32432)）'
- en: Bug in [`Series.equals()`](../reference/api/pandas.Series.equals.html#pandas.Series.equals
    "pandas.Series.equals") where a `ValueError` was raised when NumPy arrays were
    compared to scalars ([GH 35267](https://github.com/pandas-dev/pandas/issues/35267))
  id: totrans-1278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.equals()`](../reference/api/pandas.Series.equals.html#pandas.Series.equals
    "pandas.Series.equals") 中的错误，当将 NumPy 数组与标量进行比较时引发 `ValueError`（[GH 35267](https://github.com/pandas-dev/pandas/issues/35267)）'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    where two Series each have a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with different time zones having those indexes incorrectly
    changed when performing arithmetic operations ([GH 33671](https://github.com/pandas-dev/pandas/issues/33671))
  id: totrans-1279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两个具有不同时区的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 的两个 Series 在执行算术操作时，错误地更改了这些索引（[GH 33671](https://github.com/pandas-dev/pandas/issues/33671)）
- en: Bug in `pandas.testing` module functions when used with `check_exact=False`
    on complex numeric types ([GH 28235](https://github.com/pandas-dev/pandas/issues/28235))
  id: totrans-1280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在复杂数值类型上使用 `check_exact=False` 时，`pandas.testing` 模块函数存在的错误（[GH 28235](https://github.com/pandas-dev/pandas/issues/28235)）
- en: Bug in `DataFrame.__rmatmul__()` error handling reporting transposed shapes
    ([GH 21581](https://github.com/pandas-dev/pandas/issues/21581))
  id: totrans-1281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.__rmatmul__()` 中错误处理报告转置形状的错误（[GH 21581](https://github.com/pandas-dev/pandas/issues/21581)）'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    flex arithmetic methods where the result when operating with a `list`, `tuple`
    or `np.ndarray` would have an incorrect name ([GH 36760](https://github.com/pandas-dev/pandas/issues/36760))
  id: totrans-1282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series` 弹性算术方法中的错误，当与 `list`、`tuple` 或 `np.ndarray` 进行操作时，结果会有错误的名称（[GH 36760](https://github.com/pandas-dev/pandas/issues/36760)）'
- en: Bug in [`IntegerArray`](../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray
    "pandas.arrays.IntegerArray") multiplication with `timedelta` and `np.timedelta64`
    objects ([GH 36870](https://github.com/pandas-dev/pandas/issues/36870))
  id: totrans-1283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntegerArray`](../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray
    "pandas.arrays.IntegerArray") 乘法与 `timedelta` 和 `np.timedelta64` 对象存在的错误（[GH 36870](https://github.com/pandas-dev/pandas/issues/36870)）'
- en: Bug in [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") comparison with tuple incorrectly treating tuple as array-like
    ([GH 21517](https://github.com/pandas-dev/pandas/issues/21517))
  id: totrans-1284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex` 与元组比较时，错误地将元组视为类似数组（[GH 21517](https://github.com/pandas-dev/pandas/issues/21517)）'
- en: Bug in [`DataFrame.diff()`](../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff
    "pandas.DataFrame.diff") with `datetime64` dtypes including `NaT` values failing
    to fill `NaT` results correctly ([GH 32441](https://github.com/pandas-dev/pandas/issues/32441))
  id: totrans-1285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.diff()` 中的错误，包括 `datetime64` dtypes 的 `NaT` 值未能正确填充 `NaT` 结果（[GH
    32441](https://github.com/pandas-dev/pandas/issues/32441)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") arithmetic ops incorrectly accepting keyword arguments ([GH
    36843](https://github.com/pandas-dev/pandas/issues/36843))
  id: totrans-1286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame` 算术运算中错误地接受关键字参数（[GH 36843](https://github.com/pandas-dev/pandas/issues/36843)）'
- en: Bug in [`IntervalArray`](../reference/api/pandas.arrays.IntervalArray.html#pandas.arrays.IntervalArray
    "pandas.arrays.IntervalArray") comparisons with [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") not returning Series ([GH 36908](https://github.com/pandas-dev/pandas/issues/36908))
  id: totrans-1287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalArray`](../reference/api/pandas.arrays.IntervalArray.html#pandas.arrays.IntervalArray
    "pandas.arrays.IntervalArray") 与 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 比较时的错误，未返回 Series（[GH 36908](https://github.com/pandas-dev/pandas/issues/36908))'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") allowing arithmetic operations with list of array-likes with
    undefined results. Behavior changed to raising `ValueError` ([GH 36702](https://github.com/pandas-dev/pandas/issues/36702))
  id: totrans-1288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    中存在的错误允许使用未定义结果的数组列表进行算术运算。行为已更改为引发`ValueError`（[GH 36702](https://github.com/pandas-dev/pandas/issues/36702))'
- en: Bug in [`DataFrame.std()`](../reference/api/pandas.DataFrame.std.html#pandas.DataFrame.std
    "pandas.DataFrame.std") with `timedelta64` dtype and `skipna=False` ([GH 37392](https://github.com/pandas-dev/pandas/issues/37392))
  id: totrans-1289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.std()`](../reference/api/pandas.DataFrame.std.html#pandas.DataFrame.std
    "pandas.DataFrame.std") 中的错误，针对 `timedelta64` 类型和 `skipna=False` （[GH 37392](https://github.com/pandas-dev/pandas/issues/37392))'
- en: Bug in [`DataFrame.min()`](../reference/api/pandas.DataFrame.min.html#pandas.DataFrame.min
    "pandas.DataFrame.min") and [`DataFrame.max()`](../reference/api/pandas.DataFrame.max.html#pandas.DataFrame.max
    "pandas.DataFrame.max") with `datetime64` dtype and `skipna=False` ([GH 36907](https://github.com/pandas-dev/pandas/issues/36907))
  id: totrans-1290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.min()`](../reference/api/pandas.DataFrame.min.html#pandas.DataFrame.min
    "pandas.DataFrame.min") 和 [`DataFrame.max()`](../reference/api/pandas.DataFrame.max.html#pandas.DataFrame.max
    "pandas.DataFrame.max") 中的错误，针对 `datetime64` 类型和 `skipna=False` （[GH 36907](https://github.com/pandas-dev/pandas/issues/36907))'
- en: Bug in [`DataFrame.idxmax()`](../reference/api/pandas.DataFrame.idxmax.html#pandas.DataFrame.idxmax
    "pandas.DataFrame.idxmax") and [`DataFrame.idxmin()`](../reference/api/pandas.DataFrame.idxmin.html#pandas.DataFrame.idxmin
    "pandas.DataFrame.idxmin") with mixed dtypes incorrectly raising `TypeError` ([GH
    38195](https://github.com/pandas-dev/pandas/issues/38195))
  id: totrans-1291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.idxmax()`](../reference/api/pandas.DataFrame.idxmax.html#pandas.DataFrame.idxmax
    "pandas.DataFrame.idxmax") 和 [`DataFrame.idxmin()`](../reference/api/pandas.DataFrame.idxmin.html#pandas.DataFrame.idxmin
    "pandas.DataFrame.idxmin") 中的错误，混合 dtype 不正确地引发`TypeError`（[GH 38195](https://github.com/pandas-dev/pandas/issues/38195))'
- en: Conversion
  id: totrans-1292
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 转换
- en: Bug in [`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") with `orient='records'` now returns python native
    datetime objects for datetime-like columns ([GH 21256](https://github.com/pandas-dev/pandas/issues/21256))
  id: totrans-1293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") 中的错误，在`orient=''records''`时，现在返回原生的 Python datetime
    对象，用于类似于日期时间的列（[GH 21256](https://github.com/pandas-dev/pandas/issues/21256))'
- en: Bug in [`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") conversion from `string` to `float` raised in presence
    of `pd.NA` values ([GH 37626](https://github.com/pandas-dev/pandas/issues/37626))
  id: totrans-1294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") 中的错误，将`string`转换为`float`时，在存在`pd.NA`值时引发（[GH 37626](https://github.com/pandas-dev/pandas/issues/37626))'
- en: Strings
  id: totrans-1295
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 字符串
- en: Bug in [`Series.to_string()`](../reference/api/pandas.Series.to_string.html#pandas.Series.to_string
    "pandas.Series.to_string"), [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string"), and [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") adding a leading space when `index=False` ([GH 24980](https://github.com/pandas-dev/pandas/issues/24980))
  id: totrans-1296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.to_string()`](../reference/api/pandas.Series.to_string.html#pandas.Series.to_string
    "pandas.Series.to_string"), [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") 和 [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") 在`index=False`时添加了一个前导空格的错误（[GH 24980](https://github.com/pandas-dev/pandas/issues/24980))'
- en: Bug in [`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric") raising a `TypeError` when attempting to convert a string
    dtype Series containing only numeric strings and `NA` ([GH 37262](https://github.com/pandas-dev/pandas/issues/37262))
  id: totrans-1297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric") 中的错误，在尝试转换仅包含数字字符串和`NA`的字符串 dtype Series 时引发`TypeError`（[GH
    37262](https://github.com/pandas-dev/pandas/issues/37262))'
- en: Interval
  id: totrans-1298
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 区间
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") and [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") where [`Interval`](../reference/api/pandas.Interval.html#pandas.Interval
    "pandas.Interval") dtypes would be converted to object dtypes ([GH 34871](https://github.com/pandas-dev/pandas/issues/34871))
  id: totrans-1299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 和 [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 中，[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval
    "pandas.Interval") dtypes 会被转换为对象 dtypes（[GH 34871](https://github.com/pandas-dev/pandas/issues/34871)）
- en: Bug in `IntervalIndex.take()` with negative indices and `fill_value=None` ([GH
    37330](https://github.com/pandas-dev/pandas/issues/37330))
  id: totrans-1300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用负索引和 `fill_value=None` 的 `IntervalIndex.take()` 中存在错误（[GH 37330](https://github.com/pandas-dev/pandas/issues/37330)）
- en: Bug in `IntervalIndex.putmask()` with datetime-like dtype incorrectly casting
    to object dtype ([GH 37968](https://github.com/pandas-dev/pandas/issues/37968))
  id: totrans-1301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `IntervalIndex.putmask()` 中，具有日期类似 dtype 的错误将其错误地转换为对象 dtype（[GH 37968](https://github.com/pandas-dev/pandas/issues/37968)）
- en: Bug in `IntervalArray.astype()` incorrectly dropping dtype information with
    a [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") object ([GH 37984](https://github.com/pandas-dev/pandas/issues/37984))
  id: totrans-1302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `IntervalArray.astype()` 中存在错误，使用 [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") 对象时会不正确地丢弃 dtype 信息（[GH 37984](https://github.com/pandas-dev/pandas/issues/37984)）
- en: Indexing
  id: totrans-1303
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 索引
- en: Bug in `PeriodIndex.get_loc()` incorrectly raising `ValueError` on non-datelike
    strings instead of `KeyError`, causing similar errors in `Series.__getitem__()`,
    `Series.__contains__()`, and `Series.loc.__getitem__()` ([GH 34240](https://github.com/pandas-dev/pandas/issues/34240))
  id: totrans-1304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `PeriodIndex.get_loc()` 中存在错误，当非日期字符串引发 `ValueError` 而不是 `KeyError` 时，会导致
    `Series.__getitem__()`、`Series.__contains__()` 和 `Series.loc.__getitem__()` 中出现类似错误的情况（[GH
    34240](https://github.com/pandas-dev/pandas/issues/34240)）
- en: Bug in [`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values") where, when empty values were passed, the method would
    break by trying to compare missing values instead of pushing them to the end of
    the sort order ([GH 35584](https://github.com/pandas-dev/pandas/issues/35584))
  id: totrans-1305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Index.sort_values()`](../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values
    "pandas.Index.sort_values") 中，当传递空值时，该方法会尝试比较缺失值而不是将它们推到排序顺序的末尾，从而导致方法中断（[GH 35584](https://github.com/pandas-dev/pandas/issues/35584)）
- en: Bug in [`Index.get_indexer()`](../reference/api/pandas.Index.get_indexer.html#pandas.Index.get_indexer
    "pandas.Index.get_indexer") and [`Index.get_indexer_non_unique()`](../reference/api/pandas.Index.get_indexer_non_unique.html#pandas.Index.get_indexer_non_unique
    "pandas.Index.get_indexer_non_unique") where `int64` arrays are returned instead
    of `intp` ([GH 36359](https://github.com/pandas-dev/pandas/issues/36359))
  id: totrans-1306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Index.get_indexer()`](../reference/api/pandas.Index.get_indexer.html#pandas.Index.get_indexer
    "pandas.Index.get_indexer") 和 [`Index.get_indexer_non_unique()`](../reference/api/pandas.Index.get_indexer_non_unique.html#pandas.Index.get_indexer_non_unique
    "pandas.Index.get_indexer_non_unique") 中，返回 `int64` 数组而不是 `intp`（[GH 36359](https://github.com/pandas-dev/pandas/issues/36359)）
- en: Bug in [`DataFrame.sort_index()`](../reference/api/pandas.DataFrame.sort_index.html#pandas.DataFrame.sort_index
    "pandas.DataFrame.sort_index") where parameter ascending passed as a list on a
    single level index gives wrong result ([GH 32334](https://github.com/pandas-dev/pandas/issues/32334))
  id: totrans-1307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.sort_index()`](../reference/api/pandas.DataFrame.sort_index.html#pandas.DataFrame.sort_index
    "pandas.DataFrame.sort_index") 中，当参数 ascending 以列表形式传递给单层索引时，会得到错误的结果（[GH 32334](https://github.com/pandas-dev/pandas/issues/32334)）
- en: Bug in [`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") was incorrectly raising a `ValueError` for input
    with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") with missing values in a level with `Categorical` dtype ([GH
    24206](https://github.com/pandas-dev/pandas/issues/24206))
  id: totrans-1308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") 中，对具有在具有 `Categorical` dtype 的级别中缺失值的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 输入不正确地引发了 `ValueError`（[GH 24206](https://github.com/pandas-dev/pandas/issues/24206)）
- en: Bug in indexing with boolean masks on datetime-like values sometimes returning
    a view instead of a copy ([GH 36210](https://github.com/pandas-dev/pandas/issues/36210))
  id: totrans-1309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在对日期类似值进行布尔掩码索引时，有时会返回视图而不是副本（[GH 36210](https://github.com/pandas-dev/pandas/issues/36210)）
- en: Bug in `DataFrame.__getitem__()` and `DataFrame.loc.__getitem__()` with [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") columns and a numeric indexer ([GH 26490](https://github.com/pandas-dev/pandas/issues/26490))
  id: totrans-1310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.__getitem__()`](../reference/api/pandas.DataFrame.__getitem__.html#pandas.DataFrame.__getitem__
    "pandas.DataFrame.__getitem__") 和 [`DataFrame.loc.__getitem__()`](../reference/api/pandas.DataFrame.loc.__getitem__.html#pandas.DataFrame.loc.__getitem__
    "pandas.DataFrame.loc.__getitem__") 存在一个 bug，当列为 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")，且使用数值索引器时 ([GH 26490](https://github.com/pandas-dev/pandas/issues/26490))'
- en: Bug in `Series.loc.__getitem__()` with a non-unique [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") and an empty-list indexer ([GH 13691](https://github.com/pandas-dev/pandas/issues/13691))
  id: totrans-1311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.loc.__getitem__()` 存在一个 bug，当使用非唯一的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 和一个空列表索引器时 ([GH 13691](https://github.com/pandas-dev/pandas/issues/13691))'
- en: Bug in indexing on a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") and a level named `"0"` ([GH 37194](https://github.com/pandas-dev/pandas/issues/37194))
  id: totrans-1312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用命名为 `"0"` 的级别的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 进行 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 索引时存在一个 bug ([GH 37194](https://github.com/pandas-dev/pandas/issues/37194))
- en: Bug in `Series.__getitem__()` when using an unsigned integer array as an indexer
    giving incorrect results or segfaulting instead of raising `KeyError` ([GH 37218](https://github.com/pandas-dev/pandas/issues/37218))
  id: totrans-1313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.__getitem__()` 存在一个 bug，当使用无符号整数数组作为索引器时，会产生错误的结果或段错误，而不是引发 `KeyError`
    ([GH 37218](https://github.com/pandas-dev/pandas/issues/37218))'
- en: Bug in [`Index.where()`](../reference/api/pandas.Index.where.html#pandas.Index.where
    "pandas.Index.where") incorrectly casting numeric values to strings ([GH 37591](https://github.com/pandas-dev/pandas/issues/37591))
  id: totrans-1314
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Index.where()`](../reference/api/pandas.Index.where.html#pandas.Index.where
    "pandas.Index.where") 中，将数值值错误地转换为字符串存在一个 bug ([GH 37591](https://github.com/pandas-dev/pandas/issues/37591))
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") returning empty result when indexer is a slice with negative
    step size ([GH 38071](https://github.com/pandas-dev/pandas/issues/38071))
  id: totrans-1315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在索引为带负步长的切片时，[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 返回空结果存在一个 bug ([GH 38071](https://github.com/pandas-dev/pandas/issues/38071))
- en: Bug in [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") and [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") raises when the index was of `object` dtype and the given
    numeric label was in the index ([GH 26491](https://github.com/pandas-dev/pandas/issues/26491))
  id: totrans-1316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") 和 [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 存在一个 bug，当索引为 `object` 类型且给定的数值标签在索引中时，会引发异常 ([GH 26491](https://github.com/pandas-dev/pandas/issues/26491))'
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") returned requested key plus missing values when `loc`
    was applied to single level from a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 27104](https://github.com/pandas-dev/pandas/issues/27104))
  id: totrans-1317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 存在一个 bug，当对来自 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 的单一级别应用 `loc` 时，返回了请求的键以及缺失的值 ([GH 27104](https://github.com/pandas-dev/pandas/issues/27104))'
- en: Bug in indexing on a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") using a list-like indexer containing NA values ([GH
    37722](https://github.com/pandas-dev/pandas/issues/37722))
  id: totrans-1318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用包含 NA 值的列表样式索引器的 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 上进行 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 索引时存在一个 bug ([GH 37722](https://github.com/pandas-dev/pandas/issues/37722))
- en: Bug in `DataFrame.loc.__setitem__()` expanding an empty [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with mixed dtypes ([GH 37932](https://github.com/pandas-dev/pandas/issues/37932))
  id: totrans-1319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.loc.__setitem__()` 存在一个 bug，在扩展具有混合类型的空 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 时 ([GH 37932](https://github.com/pandas-dev/pandas/issues/37932))'
- en: Bug in [`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs") ignored `droplevel=False` for columns ([GH 19056](https://github.com/pandas-dev/pandas/issues/19056))
  id: totrans-1320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs") 忽略了`droplevel=False`用于列（[GH 19056](https://github.com/pandas-dev/pandas/issues/19056))
- en: Bug in [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") raising `IndexingError` wrongly for empty DataFrame
    with `tolerance` not `None` or `method="nearest"` ([GH 27315](https://github.com/pandas-dev/pandas/issues/27315))
  id: totrans-1321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") 对于具有`tolerance`不是`None`或`method="nearest"`的空DataFrame错误地引发`IndexingError`（[GH
    27315](https://github.com/pandas-dev/pandas/issues/27315))
- en: Bug in indexing on a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") using list-like indexer that contains elements that
    are in the index’s `categories` but not in the index itself failing to raise `KeyError`
    ([GH 37901](https://github.com/pandas-dev/pandas/issues/37901))
  id: totrans-1322
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用包含在索引的`categories`中但不在索引本身中的元素的列表样索引器对具有[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")或[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")进行索引时失败，未能引发`KeyError`（[GH 37901](https://github.com/pandas-dev/pandas/issues/37901))
- en: Bug on inserting a boolean label into a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a numeric [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") columns incorrectly casting to integer ([GH 36319](https://github.com/pandas-dev/pandas/issues/36319))
  id: totrans-1323
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将布尔标签插入具有数字[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")列的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")时出现错误，错误地转换为整数（[GH 36319](https://github.com/pandas-dev/pandas/issues/36319))
- en: Bug in [`DataFrame.iloc()`](../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc
    "pandas.DataFrame.iloc") and [`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") aligning objects in `__setitem__` ([GH 22046](https://github.com/pandas-dev/pandas/issues/22046))
  id: totrans-1324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.iloc()`](../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc
    "pandas.DataFrame.iloc") 和 [`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") 在`__setitem__`中对齐对象时出现错误（[GH 22046](https://github.com/pandas-dev/pandas/issues/22046))
- en: Bug in [`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop") does not raise if labels are partially found ([GH 37820](https://github.com/pandas-dev/pandas/issues/37820))
  id: totrans-1325
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop") 如果标签部分找到，则不会引发错误（[GH 37820](https://github.com/pandas-dev/pandas/issues/37820))
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") did not raise `KeyError` when missing combination was
    given with `slice(None)` for remaining levels ([GH 19556](https://github.com/pandas-dev/pandas/issues/19556))
  id: totrans-1326
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 在使用`slice(None)`为剩余级别提供缺失组合时未引发`KeyError`（[GH 19556](https://github.com/pandas-dev/pandas/issues/19556))
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") raising `TypeError` when non-integer slice was given to
    select values from [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 25165](https://github.com/pandas-dev/pandas/issues/25165),
    [GH 24263](https://github.com/pandas-dev/pandas/issues/24263))
  id: totrans-1327
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 在给定非整数切片以从[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")选择值时引发`TypeError`（[GH 25165](https://github.com/pandas-dev/pandas/issues/25165),
    [GH 24263](https://github.com/pandas-dev/pandas/issues/24263))
- en: Bug in [`Series.at()`](../reference/api/pandas.Series.at.html#pandas.Series.at
    "pandas.Series.at") returning [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with one element instead of scalar when index is a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") with one level ([GH 38053](https://github.com/pandas-dev/pandas/issues/38053))
  id: totrans-1328
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引为只有一个级别的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")时，[`Series.at()`](../reference/api/pandas.Series.at.html#pandas.Series.at
    "pandas.Series.at")返回具有一个元素而不是标量的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")存在错误（[GH 38053](https://github.com/pandas-dev/pandas/issues/38053)）
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") returning and assigning elements in wrong order when indexer
    is differently ordered than the [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") to filter ([GH 31330](https://github.com/pandas-dev/pandas/issues/31330),
    [GH 34603](https://github.com/pandas-dev/pandas/issues/34603))
  id: totrans-1329
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引器与要筛选的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")的顺序不同而导致返回和分配元素顺序错误时，[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc")存在错误（[GH 31330](https://github.com/pandas-dev/pandas/issues/31330)，[GH
    34603](https://github.com/pandas-dev/pandas/issues/34603)）
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") and `DataFrame.__getitem__()` raising `KeyError` when
    columns were [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") with only one level ([GH 29749](https://github.com/pandas-dev/pandas/issues/29749))
  id: totrans-1330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当列为只有一个级别的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")时，[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc")和`DataFrame.__getitem__()`引发`KeyError`存在错误（[GH 29749](https://github.com/pandas-dev/pandas/issues/29749)）
- en: Bug in `Series.__getitem__()` and `DataFrame.__getitem__()` raising blank `KeyError`
    without missing keys for [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") ([GH 27365](https://github.com/pandas-dev/pandas/issues/27365))
  id: totrans-1331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")中没有缺失键时，[`Series.__getitem__()`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")和[`DataFrame.__getitem__()`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")会引发空白的`KeyError`存在错误（[GH 27365](https://github.com/pandas-dev/pandas/issues/27365)）
- en: Bug in setting a new label on a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") incorrectly raising `TypeError` when the new label
    is not among the index’s categories ([GH 38098](https://github.com/pandas-dev/pandas/issues/38098))
  id: totrans-1332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")或[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")上设置新标签时存在错误，当新标签不在索引的类别中时，会错误地引发`TypeError`（[GH 38098](https://github.com/pandas-dev/pandas/issues/38098)）
- en: Bug in [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") and [`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") raising `ValueError` when inserting a list-like `np.array`,
    `list` or `tuple` in an `object` Series of equal length ([GH 37748](https://github.com/pandas-dev/pandas/issues/37748),
    [GH 37486](https://github.com/pandas-dev/pandas/issues/37486))
  id: totrans-1333
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在长度相等的`object`系列中插入类似列表的`np.array`、`list`或`tuple`时，[`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc")和[`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc")引发`ValueError`存在错误（[GH 37748](https://github.com/pandas-dev/pandas/issues/37748)，[GH
    37486](https://github.com/pandas-dev/pandas/issues/37486)）
- en: Bug in [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") and [`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") setting all the values of an `object` Series with those
    of a list-like `ExtensionArray` instead of inserting it ([GH 38271](https://github.com/pandas-dev/pandas/issues/38271))
  id: totrans-1334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用类似列表的`ExtensionArray`而不是插入它时，[`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc")和[`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc")将所有值设置为`object`系列的所有值存在错误（[GH 38271](https://github.com/pandas-dev/pandas/issues/38271)）
- en: Missing
  id: totrans-1335
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 缺失
- en: Bug in [`SeriesGroupBy.transform()`](../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform
    "pandas.core.groupby.SeriesGroupBy.transform") now correctly handles missing values
    for `dropna=False` ([GH 35014](https://github.com/pandas-dev/pandas/issues/35014))
  id: totrans-1336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于`dropna=False`，[`SeriesGroupBy.transform()`](../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform
    "pandas.core.groupby.SeriesGroupBy.transform") 现在可以正确处理缺失值（[GH 35014](https://github.com/pandas-dev/pandas/issues/35014)）
- en: Bug in [`Series.nunique()`](../reference/api/pandas.Series.nunique.html#pandas.Series.nunique
    "pandas.Series.nunique") with `dropna=True` was returning incorrect results when
    both `NA` and `None` missing values were present ([GH 37566](https://github.com/pandas-dev/pandas/issues/37566))
  id: totrans-1337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当同时存在`NA`和`None`缺失值时，[`Series.nunique()`](../reference/api/pandas.Series.nunique.html#pandas.Series.nunique
    "pandas.Series.nunique") 中的错误参数`dropna=True`返回不正确的结果（[GH 37566](https://github.com/pandas-dev/pandas/issues/37566)）
- en: Bug in [`Series.interpolate()`](../reference/api/pandas.Series.interpolate.html#pandas.Series.interpolate
    "pandas.Series.interpolate") where kwarg `limit_area` and `limit_direction` had
    no effect when using methods `pad` and `backfill` ([GH 31048](https://github.com/pandas-dev/pandas/issues/31048))
  id: totrans-1338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用方法`pad`和`backfill`时，[`Series.interpolate()`](../reference/api/pandas.Series.interpolate.html#pandas.Series.interpolate
    "pandas.Series.interpolate") 中的错误参数`limit_area`和`limit_direction`没有效果（[GH 31048](https://github.com/pandas-dev/pandas/issues/31048)）
- en: MultiIndex
  id: totrans-1339
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 多重索引
- en: Bug in [`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs") when used with [`IndexSlice`](../reference/api/pandas.IndexSlice.html#pandas.IndexSlice
    "pandas.IndexSlice") raises `TypeError` with message `"Expected label or tuple
    of labels"` ([GH 35301](https://github.com/pandas-dev/pandas/issues/35301))
  id: totrans-1340
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当与[`IndexSlice`](../reference/api/pandas.IndexSlice.html#pandas.IndexSlice "pandas.IndexSlice")一起使用时，[`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs") 中的错误会引发`TypeError`错误，错误信息为`"Expected label or tuple of
    labels"`（[GH 35301](https://github.com/pandas-dev/pandas/issues/35301)）
- en: Bug in [`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") with `NaT` values in index raises `ValueError`
    with message `"cannot convert float NaN to integer"` ([GH 36541](https://github.com/pandas-dev/pandas/issues/36541))
  id: totrans-1341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引中存在`NaT`值时，[`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") 中的错误会引发`ValueError`错误，错误信息为`"cannot convert float
    NaN to integer"`（[GH 36541](https://github.com/pandas-dev/pandas/issues/36541)）
- en: Bug in [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") when used with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") containing string and `NaN` values raises `TypeError` ([GH
    36562](https://github.com/pandas-dev/pandas/issues/36562))
  id: totrans-1342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当包含字符串和`NaN`值的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")与[`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first")一起使用时，会引发`TypeError`错误（[GH 36562](https://github.com/pandas-dev/pandas/issues/36562)）
- en: Bug in [`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop") dropped `NaN` values when non existing key was given
    as input ([GH 18853](https://github.com/pandas-dev/pandas/issues/18853))
  id: totrans-1343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop") 中的错误当输入不存在的键时删除了`NaN`值（[GH 18853](https://github.com/pandas-dev/pandas/issues/18853)）'
- en: Bug in [`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop") dropping more values than expected when index has duplicates
    and is not sorted ([GH 33494](https://github.com/pandas-dev/pandas/issues/33494))
  id: totrans-1344
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引存在重复并且未排序时，[`MultiIndex.drop()`](../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop
    "pandas.MultiIndex.drop") 中的错误会删除比预期更多的值（[GH 33494](https://github.com/pandas-dev/pandas/issues/33494)）
- en: I/O
  id: totrans-1345
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 输入/输出
- en: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    no longer leaks resources on failure ([GH 35566](https://github.com/pandas-dev/pandas/issues/35566))'
  id: totrans-1346
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    在失败时不再泄漏资源（[GH 35566](https://github.com/pandas-dev/pandas/issues/35566)）'
- en: Bug in [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") and [`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv") caused a `ValueError` when it was called with a filename
    in combination with `mode` containing a `b` ([GH 35058](https://github.com/pandas-dev/pandas/issues/35058))
  id: totrans-1347
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.to_csv()` 和 `Series.to_csv()` 在与包含 `b` 的 `mode` 组合使用文件名时引发了 `ValueError`（[GH
    35058](https://github.com/pandas-dev/pandas/issues/35058)）。'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") with `float_precision='round_trip'` did not handle `decimal`
    and `thousands` parameters ([GH 35365](https://github.com/pandas-dev/pandas/issues/35365))
  id: totrans-1348
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `float_precision='round_trip'` 的 `read_csv()` 在处理 `decimal` 和 `thousands`
    参数时存在问题（[GH 35365](https://github.com/pandas-dev/pandas/issues/35365)）。
- en: '`to_pickle()` and [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") were closing user-provided file objects ([GH 35679](https://github.com/pandas-dev/pandas/issues/35679))'
  id: totrans-1349
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_pickle()` 和 `read_pickle()` 关闭了用户提供的文件对象（[GH 35679](https://github.com/pandas-dev/pandas/issues/35679)）。'
- en: '`to_csv()` passes compression arguments for `''gzip''` always to `gzip.GzipFile`
    ([GH 28103](https://github.com/pandas-dev/pandas/issues/28103))'
  id: totrans-1350
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_csv()` 总是将 `''gzip''` 的压缩参数传递给 `gzip.GzipFile`（[GH 28103](https://github.com/pandas-dev/pandas/issues/28103)）。'
- en: '`to_csv()` did not support zip compression for binary file object not having
    a filename ([GH 35058](https://github.com/pandas-dev/pandas/issues/35058))'
  id: totrans-1351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_csv()` 不支持对没有文件名的二进制文件对象进行 zip 压缩（[GH 35058](https://github.com/pandas-dev/pandas/issues/35058)）。'
- en: '`to_csv()` and [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") did not honor `compression` and `encoding` for path-like objects
    that are internally converted to file-like objects ([GH 35677](https://github.com/pandas-dev/pandas/issues/35677),
    [GH 26124](https://github.com/pandas-dev/pandas/issues/26124), [GH 32392](https://github.com/pandas-dev/pandas/issues/32392))'
  id: totrans-1352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_csv()` 和 `read_csv()` 不支持对内部转换为文件对象的路径对象进行 `compression` 和 `encoding` 的控制（[GH
    35677](https://github.com/pandas-dev/pandas/issues/35677)，[GH 26124](https://github.com/pandas-dev/pandas/issues/26124)，[GH
    32392](https://github.com/pandas-dev/pandas/issues/32392)）。'
- en: '[`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle"), [`Series.to_pickle()`](../reference/api/pandas.Series.to_pickle.html#pandas.Series.to_pickle
    "pandas.Series.to_pickle"), and [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") did not support compression for file-objects ([GH 26237](https://github.com/pandas-dev/pandas/issues/26237),
    [GH 29054](https://github.com/pandas-dev/pandas/issues/29054), [GH 29570](https://github.com/pandas-dev/pandas/issues/29570))'
  id: totrans-1353
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.to_pickle()`，`Series.to_pickle()` 和 `read_pickle()` 不支持文件对象的压缩（[GH
    26237](https://github.com/pandas-dev/pandas/issues/26237)，[GH 29054](https://github.com/pandas-dev/pandas/issues/29054)，[GH
    29570](https://github.com/pandas-dev/pandas/issues/29570)）。'
- en: Bug in `LongTableBuilder.middle_separator()` was duplicating LaTeX longtable
    entries in the List of Tables of a LaTeX document ([GH 34360](https://github.com/pandas-dev/pandas/issues/34360))
  id: totrans-1354
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`LongTableBuilder.middle_separator()` 中的错误会在 LaTeX 文档的表格列表中复制 LaTeX longtable
    条目（[GH 34360](https://github.com/pandas-dev/pandas/issues/34360)）。'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") with `engine='python'` truncating data if multiple items present
    in first row and first element started with BOM ([GH 36343](https://github.com/pandas-dev/pandas/issues/36343))
  id: totrans-1355
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `engine='python'` 的 `read_csv()` 在首行存在多个项且第一个元素以 BOM 开头时截断数据（[GH 36343](https://github.com/pandas-dev/pandas/issues/36343)）。
- en: Removed `private_key` and `verbose` from [`read_gbq()`](../reference/api/pandas.read_gbq.html#pandas.read_gbq
    "pandas.read_gbq") as they are no longer supported in `pandas-gbq` ([GH 34654](https://github.com/pandas-dev/pandas/issues/34654),
    [GH 30200](https://github.com/pandas-dev/pandas/issues/30200))
  id: totrans-1356
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 `pandas-gbq` 中移除了 `read_gbq()` 中的 `private_key` 和 `verbose`，因为它们不再受支持（[GH
    34654](https://github.com/pandas-dev/pandas/issues/34654)，[GH 30200](https://github.com/pandas-dev/pandas/issues/30200)）。
- en: Bumped minimum pytables version to 3.5.1 to avoid a `ValueError` in [`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf
    "pandas.read_hdf") ([GH 24839](https://github.com/pandas-dev/pandas/issues/24839))
  id: totrans-1357
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将最低 pytables 版本提升至 3.5.1 以避免在 [`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf
    "pandas.read_hdf") 中出现 `ValueError` 错误（[GH 24839](https://github.com/pandas-dev/pandas/issues/24839)）
- en: Bug in [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") and [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") when `delim_whitespace=True` and `sep=default` ([GH 36583](https://github.com/pandas-dev/pandas/issues/36583))
  id: totrans-1358
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `delim_whitespace=True` 且 `sep=default` 时，[`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") 和 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 存在漏洞（[GH 36583](https://github.com/pandas-dev/pandas/issues/36583)）
- en: Bug in [`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") and [`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") when used with `lines=True` and `orient='records'` the
    last line of the record is not appended with ‘new line character’ ([GH 36888](https://github.com/pandas-dev/pandas/issues/36888))
  id: totrans-1359
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当与 `lines=True` 和 `orient='records'` 一起使用时，[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") 和 [`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") 的漏洞，记录的最后一行未附加‘换行字符’（[GH 36888](https://github.com/pandas-dev/pandas/issues/36888)）
- en: Bug in [`read_parquet()`](../reference/api/pandas.read_parquet.html#pandas.read_parquet
    "pandas.read_parquet") with fixed offset time zones. String representation of
    time zones was not recognized ([GH 35997](https://github.com/pandas-dev/pandas/issues/35997),
    [GH 36004](https://github.com/pandas-dev/pandas/issues/36004))
  id: totrans-1360
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当存在固定偏移时区时，在 [`read_parquet()`](../reference/api/pandas.read_parquet.html#pandas.read_parquet
    "pandas.read_parquet") 中存在漏洞。时间区域的字符串表示形式未被识别（[GH 35997](https://github.com/pandas-dev/pandas/issues/35997),
    [GH 36004](https://github.com/pandas-dev/pandas/issues/36004)）
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html"), [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string"), and [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") ignoring the `na_rep` argument when `float_format`
    was also specified ([GH 9046](https://github.com/pandas-dev/pandas/issues/9046),
    [GH 13828](https://github.com/pandas-dev/pandas/issues/13828))
  id: totrans-1361
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html")、[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") 和 [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") 在指定 `float_format` 的同时忽略 `na_rep` 参数时存在漏洞（[GH 9046](https://github.com/pandas-dev/pandas/issues/9046),
    [GH 13828](https://github.com/pandas-dev/pandas/issues/13828)）'
- en: Bug in output rendering of complex numbers showing too many trailing zeros ([GH
    36799](https://github.com/pandas-dev/pandas/issues/36799))
  id: totrans-1362
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 复数输出渲染的 bug，显示过多尾随零（[GH 36799](https://github.com/pandas-dev/pandas/issues/36799)）
- en: Bug in `HDFStore` threw a `TypeError` when exporting an empty DataFrame with
    `datetime64[ns, tz]` dtypes with a fixed HDF5 store ([GH 20594](https://github.com/pandas-dev/pandas/issues/20594))
  id: totrans-1363
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用固定的 HDF5 存储导出空 DataFrame 时，`HDFStore` 存在一个 `TypeError` 错误（[GH 20594](https://github.com/pandas-dev/pandas/issues/20594)）
- en: Bug in `HDFStore` was dropping time zone information when exporting a Series
    with `datetime64[ns, tz]` dtypes with a fixed HDF5 store ([GH 20594](https://github.com/pandas-dev/pandas/issues/20594))
  id: totrans-1364
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在固定的 HDF5 存储中导出具有 `datetime64[ns, tz]` 数据类型的 Series 时，`HDFStore` 会丢弃时区信息（[GH
    20594](https://github.com/pandas-dev/pandas/issues/20594)）
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    was closing user-provided binary file handles when `engine="c"` and an `encoding`
    was requested ([GH 36980](https://github.com/pandas-dev/pandas/issues/36980))'
  id: totrans-1365
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `engine="c"` 且请求了 `encoding` 时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 在关闭用户提供的二进制文件句柄（[GH 36980](https://github.com/pandas-dev/pandas/issues/36980)）
- en: Bug in [`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf") was not dropping missing rows with `dropna=True` ([GH
    35719](https://github.com/pandas-dev/pandas/issues/35719))
  id: totrans-1366
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf") 中存在漏洞，当 `dropna=True` 时未删除缺失行（[GH 35719](https://github.com/pandas-dev/pandas/issues/35719)）
- en: Bug in [`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html
    "pandas.read_html") was raising a `TypeError` when supplying a `pathlib.Path`
    argument to the `io` parameter ([GH 37705](https://github.com/pandas-dev/pandas/issues/37705))
  id: totrans-1367
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")中的错误，在向`io`参数提供`pathlib.Path`参数时引发`TypeError`（[GH
    37705](https://github.com/pandas-dev/pandas/issues/37705)）'
- en: '[`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel"), [`Series.to_excel()`](../reference/api/pandas.Series.to_excel.html#pandas.Series.to_excel
    "pandas.Series.to_excel"), [`DataFrame.to_markdown()`](../reference/api/pandas.DataFrame.to_markdown.html#pandas.DataFrame.to_markdown
    "pandas.DataFrame.to_markdown"), and [`Series.to_markdown()`](../reference/api/pandas.Series.to_markdown.html#pandas.Series.to_markdown
    "pandas.Series.to_markdown") now support writing to fsspec URLs such as S3 and
    Google Cloud Storage ([GH 33987](https://github.com/pandas-dev/pandas/issues/33987))'
  id: totrans-1368
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel")，[`Series.to_excel()`](../reference/api/pandas.Series.to_excel.html#pandas.Series.to_excel
    "pandas.Series.to_excel")，[`DataFrame.to_markdown()`](../reference/api/pandas.DataFrame.to_markdown.html#pandas.DataFrame.to_markdown
    "pandas.DataFrame.to_markdown")和[`Series.to_markdown()`](../reference/api/pandas.Series.to_markdown.html#pandas.Series.to_markdown
    "pandas.Series.to_markdown")现在支持写入到诸如S3和Google Cloud Storage等fsspec URL中（[GH 33987](https://github.com/pandas-dev/pandas/issues/33987)）'
- en: Bug in [`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf
    "pandas.read_fwf") with `skip_blank_lines=True` was not skipping blank lines ([GH
    37758](https://github.com/pandas-dev/pandas/issues/37758))
  id: totrans-1369
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf "pandas.read_fwf")中的错误，当`skip_blank_lines=True`时未跳过空行（[GH
    37758](https://github.com/pandas-dev/pandas/issues/37758)）'
- en: Parse missing values using [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") with `dtype=False` to `NaN` instead of `None` ([GH 28501](https://github.com/pandas-dev/pandas/issues/28501))
  id: totrans-1370
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用[`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json "pandas.read_json")解析缺失值时，将`dtype=False`转换为`NaN`而不是`None`（[GH
    28501](https://github.com/pandas-dev/pandas/issues/28501)）
- en: '[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf "pandas.read_fwf")
    was inferring compression with `compression=None` which was not consistent with
    the other `read_*` functions ([GH 37909](https://github.com/pandas-dev/pandas/issues/37909))'
  id: totrans-1371
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf "pandas.read_fwf")使用`compression=None`推断压缩，这与其他`read_*`函数不一致（[GH
    37909](https://github.com/pandas-dev/pandas/issues/37909)）'
- en: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") was ignoring `formatters` argument for `ExtensionDtype`
    columns ([GH 36525](https://github.com/pandas-dev/pandas/issues/36525))'
  id: totrans-1372
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html")忽略了`ExtensionDtype`列的`formatters`参数（[GH 36525](https://github.com/pandas-dev/pandas/issues/36525)）'
- en: Bumped minimum xarray version to 0.12.3 to avoid reference to the removed `Panel`
    class ([GH 27101](https://github.com/pandas-dev/pandas/issues/27101), [GH 37983](https://github.com/pandas-dev/pandas/issues/37983))
  id: totrans-1373
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将最低xarray版本提升至0.12.3，以避免引用已删除的`Panel`类（[GH 27101](https://github.com/pandas-dev/pandas/issues/27101)，[GH
    37983](https://github.com/pandas-dev/pandas/issues/37983)）
- en: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") was re-opening file-like handles that also implement
    `os.PathLike` ([GH 38125](https://github.com/pandas-dev/pandas/issues/38125))'
  id: totrans-1374
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv")重新打开了实现`os.PathLike`的文件句柄（[GH 38125](https://github.com/pandas-dev/pandas/issues/38125)）'
- en: Bug in the conversion of a sliced `pyarrow.Table` with missing values to a DataFrame
    ([GH 38525](https://github.com/pandas-dev/pandas/issues/38525))
  id: totrans-1375
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将带有缺失值的切片`pyarrow.Table`转换为DataFrame时存在错误（[GH 38525](https://github.com/pandas-dev/pandas/issues/38525)）
- en: Bug in [`read_sql_table()`](../reference/api/pandas.read_sql_table.html#pandas.read_sql_table
    "pandas.read_sql_table") raising a `sqlalchemy.exc.OperationalError` when column
    names contained a percentage sign ([GH 37517](https://github.com/pandas-dev/pandas/issues/37517))
  id: totrans-1376
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sql_table()`](../reference/api/pandas.read_sql_table.html#pandas.read_sql_table
    "pandas.read_sql_table")中的错误，在列名包含百分号时引发`sqlalchemy.exc.OperationalError`（[GH
    37517](https://github.com/pandas-dev/pandas/issues/37517)）'
- en: Period
  id: totrans-1377
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 期间
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") and [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") where [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") dtypes would be converted to object dtypes ([GH 34871](https://github.com/pandas-dev/pandas/issues/34871))
  id: totrans-1378
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 和 [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 中的 Bug 会导致 [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") 数据类型被转换为对象数据类型（[GH 34871](https://github.com/pandas-dev/pandas/issues/34871)）'
- en: Plotting
  id: totrans-1379
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 绘图
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") was rotating xticklabels when `subplots=True`, even if
    the x-axis wasn’t an irregular time series ([GH 29460](https://github.com/pandas-dev/pandas/issues/29460))
  id: totrans-1380
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `subplots=True` 时，[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 中的 Bug 会旋转 x 轴刻度标签，即使 x 轴不是不规则时间序列（[GH 29460](https://github.com/pandas-dev/pandas/issues/29460)）
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") where a marker letter in the `style` keyword sometimes
    caused a `ValueError` ([GH 21003](https://github.com/pandas-dev/pandas/issues/21003))
  id: totrans-1381
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 中的 Bug，有时在 `style` 关键字中使用的标记字母会导致 `ValueError`（[GH 21003](https://github.com/pandas-dev/pandas/issues/21003)）'
- en: Bug in [`DataFrame.plot.bar()`](../reference/api/pandas.DataFrame.plot.bar.html#pandas.DataFrame.plot.bar
    "pandas.DataFrame.plot.bar") and [`Series.plot.bar()`](../reference/api/pandas.Series.plot.bar.html#pandas.Series.plot.bar
    "pandas.Series.plot.bar") where ticks positions were assigned by value order instead
    of using the actual value for numeric or a smart ordering for string ([GH 26186](https://github.com/pandas-dev/pandas/issues/26186),
    [GH 11465](https://github.com/pandas-dev/pandas/issues/11465)). This fix has been
    reverted in pandas 1.2.1, see [What’s new in 1.2.1 (January 20, 2021)](v1.2.1.html)
  id: totrans-1382
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.plot.bar()`](../reference/api/pandas.DataFrame.plot.bar.html#pandas.DataFrame.plot.bar
    "pandas.DataFrame.plot.bar") 和 [`Series.plot.bar()`](../reference/api/pandas.Series.plot.bar.html#pandas.Series.plot.bar
    "pandas.Series.plot.bar") 中，刻度位置是按值顺序分配的，而不是对数值进行智能排序或对字符串进行智能排序（[GH 26186](https://github.com/pandas-dev/pandas/issues/26186)，[GH
    11465](https://github.com/pandas-dev/pandas/issues/11465)）。该修复已在 pandas 1.2.1
    中撤销，参见 [1.2.1 版本新特性 (2021年1月20日)](v1.2.1.html)
- en: Twinned axes were losing their tick labels which should only happen to all but
    the last row or column of ‘externally’ shared axes ([GH 33819](https://github.com/pandas-dev/pandas/issues/33819))
  id: totrans-1383
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 并排的坐标轴会丢失它们的刻度标签，这只会发生在‘外部’共享轴的所有行或列中除了最后一行或列时（[GH 33819](https://github.com/pandas-dev/pandas/issues/33819)）
- en: Bug in [`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot") and [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") was throwing a [`ValueError`](https://docs.python.org/3/library/exceptions.html#ValueError
    "(in Python v3.12)") when the Series or DataFrame was indexed by a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") with a fixed frequency and the x-axis lower limit was
    greater than the upper limit ([GH 37454](https://github.com/pandas-dev/pandas/issues/37454))
  id: totrans-1384
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot") 和 [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 中的 Bug 在使用固定频率的 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 作为索引时，且 x 轴的下限大于上限时，会引发 [`ValueError`](https://docs.python.org/3/library/exceptions.html#ValueError
    "(在 Python v3.12)")（[GH 37454](https://github.com/pandas-dev/pandas/issues/37454))'
- en: Bug in [`DataFrameGroupBy.boxplot()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.boxplot.html#pandas.core.groupby.DataFrameGroupBy.boxplot
    "pandas.core.groupby.DataFrameGroupBy.boxplot") when `subplots=False` would raise
    a `KeyError` ([GH 16748](https://github.com/pandas-dev/pandas/issues/16748))
  id: totrans-1385
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrameGroupBy.boxplot()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.boxplot.html#pandas.core.groupby.DataFrameGroupBy.boxplot
    "pandas.core.groupby.DataFrameGroupBy.boxplot") 中，当 `subplots=False` 时会引发 `KeyError`（[GH
    16748](https://github.com/pandas-dev/pandas/issues/16748)）
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") and [`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot") was overwriting matplotlib’s shared y axes behavior when
    no `sharey` parameter was passed ([GH 37942](https://github.com/pandas-dev/pandas/issues/37942))
  id: totrans-1386
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在 [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 和 [`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot") 中，当没有传递 `sharey` 参数时，会覆盖 matplotlib 的共享 y 轴行为（[GH 37942](https://github.com/pandas-dev/pandas/issues/37942)）
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") was raising a `TypeError` with `ExtensionDtype` columns
    ([GH 32073](https://github.com/pandas-dev/pandas/issues/32073))
  id: totrans-1387
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在 [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 中，当有 `ExtensionDtype` 列时会引发 `TypeError`（[GH 32073](https://github.com/pandas-dev/pandas/issues/32073)）
- en: Styler
  id: totrans-1388
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Styler
- en: Bug in `Styler.render()` HTML was generated incorrectly because of formatting
    error in `rowspan` attribute, it now matches with w3 syntax ([GH 38234](https://github.com/pandas-dev/pandas/issues/38234))
  id: totrans-1389
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Styler.render()` HTML 中的 Bug 是由于 `rowspan` 属性的格式错误而导致生成错误，现在与 w3 语法匹配（[GH
    38234](https://github.com/pandas-dev/pandas/issues/38234)）'
- en: Groupby/resample/rolling
  id: totrans-1390
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Groupby/resample/rolling
- en: Bug in [`DataFrameGroupBy.count()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.count.html#pandas.core.groupby.DataFrameGroupBy.count
    "pandas.core.groupby.DataFrameGroupBy.count") and `SeriesGroupBy.sum()` returning
    `NaN` for missing categories when grouped on multiple `Categoricals`. Now returning
    `0` ([GH 35028](https://github.com/pandas-dev/pandas/issues/35028))
  id: totrans-1391
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在 [`DataFrameGroupBy.count()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.count.html#pandas.core.groupby.DataFrameGroupBy.count
    "pandas.core.groupby.DataFrameGroupBy.count") 和 `SeriesGroupBy.sum()` 中，当在多个 `Categoricals`
    上分组时，对于缺失的类别返回 `NaN`，现在返回 `0`（[GH 35028](https://github.com/pandas-dev/pandas/issues/35028)）
- en: Bug in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") that would sometimes throw an erroneous
    `ValueError` if the grouping axis had duplicate entries ([GH 16646](https://github.com/pandas-dev/pandas/issues/16646))
  id: totrans-1392
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在 [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") 中，如果分组轴具有重复条目，有时会引发错误的 `ValueError`（[GH
    16646](https://github.com/pandas-dev/pandas/issues/16646)）
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") that would throw a `ValueError` when resampling from
    `"D"` to `"24H"` over a transition into daylight savings time (DST) ([GH 35219](https://github.com/pandas-dev/pandas/issues/35219))
  id: totrans-1393
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在 [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 中，当从 `"D"` 重采样到 `"24H"` 时，在夏令时转换时会抛出 `ValueError`（[GH
    35219](https://github.com/pandas-dev/pandas/issues/35219)）
- en: Bug when combining methods [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") with [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") and [`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate") raising a `TypeError` ([GH 35325](https://github.com/pandas-dev/pandas/issues/35325))
  id: totrans-1394
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当结合方法 [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby")、[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 和 [`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate") 时，会引发 `TypeError`（[GH 35325](https://github.com/pandas-dev/pandas/issues/35325)）
- en: Bug in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") where a non-nuisance grouping column
    would be dropped from the output columns if another groupby method was called
    before `.apply` ([GH 34656](https://github.com/pandas-dev/pandas/issues/34656))
  id: totrans-1395
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在 [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") 中，如果在 `.apply` 之前调用了另一个 groupby
    方法，则会丢弃一个非烦扰性分组列（[GH 34656](https://github.com/pandas-dev/pandas/issues/34656)）
- en: Bug when subsetting columns on a `DataFrameGroupBy` (e.g. `df.groupby('a')[['b']])`)
    would reset the attributes `axis`, `dropna`, `group_keys`, `level`, `mutated`,
    `sort`, and `squeeze` to their default values ([GH 9959](https://github.com/pandas-dev/pandas/issues/9959))
  id: totrans-1396
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 `DataFrameGroupBy` 的列子集（例如 `df.groupby('a')[['b']])`）存在的问题会重置属性 `axis`、`dropna`、`group_keys`、`level`、`mutated`、`sort`
    和 `squeeze` 到它们的默认值（[GH 9959](https://github.com/pandas-dev/pandas/issues/9959)）
- en: Bug in `DataFrameGroupBy.tshift()` failing to raise `ValueError` when a frequency
    cannot be inferred for the index of a group ([GH 35937](https://github.com/pandas-dev/pandas/issues/35937))
  id: totrans-1397
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrameGroupBy.tshift()` 中存在问题，当无法为组的索引推断频率时，未能引发 `ValueError` 错误（[GH 35937](https://github.com/pandas-dev/pandas/issues/35937)）
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") does not always maintain column index name for `any`,
    `all`, `bfill`, `ffill`, `shift` ([GH 29764](https://github.com/pandas-dev/pandas/issues/29764))
  id: totrans-1398
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 中存在问题，对于 `any`、`all`、`bfill`、`ffill`、`shift`，不总是保留列索引名称（[GH
    29764](https://github.com/pandas-dev/pandas/issues/29764)）
- en: Bug in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") raising error with `np.nan` group(s)
    when `dropna=False` ([GH 35889](https://github.com/pandas-dev/pandas/issues/35889))
  id: totrans-1399
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") 中存在问题，当 `dropna=False` 时，使用 `np.nan`
    组时会引发错误（[GH 35889](https://github.com/pandas-dev/pandas/issues/35889)）
- en: Bug in [`Rolling.sum()`](../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum
    "pandas.core.window.rolling.Rolling.sum") returned wrong values when dtypes where
    mixed between float and integer and `axis=1` ([GH 20649](https://github.com/pandas-dev/pandas/issues/20649),
    [GH 35596](https://github.com/pandas-dev/pandas/issues/35596))
  id: totrans-1400
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Rolling.sum()`](../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum
    "pandas.core.window.rolling.Rolling.sum") 中返回了错误的值，当 float 和 integer 之间的数据类型混合且
    `axis=1` 时（[GH 20649](https://github.com/pandas-dev/pandas/issues/20649), [GH
    35596](https://github.com/pandas-dev/pandas/issues/35596))
- en: Bug in [`Rolling.count()`](../reference/api/pandas.core.window.rolling.Rolling.count.html#pandas.core.window.rolling.Rolling.count
    "pandas.core.window.rolling.Rolling.count") returned `np.nan` with [`FixedForwardWindowIndexer`](../reference/api/pandas.api.indexers.FixedForwardWindowIndexer.html#pandas.api.indexers.FixedForwardWindowIndexer
    "pandas.api.indexers.FixedForwardWindowIndexer") as window, `min_periods=0` and
    only missing values in the window ([GH 35579](https://github.com/pandas-dev/pandas/issues/35579))
  id: totrans-1401
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Rolling.count()`](../reference/api/pandas.core.window.rolling.Rolling.count.html#pandas.core.window.rolling.Rolling.count
    "pandas.core.window.rolling.Rolling.count") 中返回了 `np.nan`，其中 [`FixedForwardWindowIndexer`](../reference/api/pandas.api.indexers.FixedForwardWindowIndexer.html#pandas.api.indexers.FixedForwardWindowIndexer
    "pandas.api.indexers.FixedForwardWindowIndexer") 作为窗口，`min_periods=0`，窗口中仅包含缺失值（[GH
    35579](https://github.com/pandas-dev/pandas/issues/35579)）
- en: Bug where `Rolling` produces incorrect window sizes when using a `PeriodIndex`
    ([GH 34225](https://github.com/pandas-dev/pandas/issues/34225))
  id: totrans-1402
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `PeriodIndex` 时，`Rolling` 会产生错误的窗口大小（[GH 34225](https://github.com/pandas-dev/pandas/issues/34225)）
- en: Bug in [`DataFrameGroupBy.ffill()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.ffill.html#pandas.core.groupby.DataFrameGroupBy.ffill
    "pandas.core.groupby.DataFrameGroupBy.ffill") and [`DataFrameGroupBy.bfill()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.bfill.html#pandas.core.groupby.DataFrameGroupBy.bfill
    "pandas.core.groupby.DataFrameGroupBy.bfill") where a `NaN` group would return
    filled values instead of `NaN` when `dropna=True` ([GH 34725](https://github.com/pandas-dev/pandas/issues/34725))
  id: totrans-1403
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrameGroupBy.ffill()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.ffill.html#pandas.core.groupby.DataFrameGroupBy.ffill
    "pandas.core.groupby.DataFrameGroupBy.ffill") 和 [`DataFrameGroupBy.bfill()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.bfill.html#pandas.core.groupby.DataFrameGroupBy.bfill
    "pandas.core.groupby.DataFrameGroupBy.bfill") 中存在问题，当 `dropna=True` 时，`NaN` 组将返回填充值而不是
    `NaN`（[GH 34725](https://github.com/pandas-dev/pandas/issues/34725)）
- en: Bug in `RollingGroupby.count()` where a `ValueError` was raised when specifying
    the `closed` parameter ([GH 35869](https://github.com/pandas-dev/pandas/issues/35869))
  id: totrans-1404
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `RollingGroupby.count()` 中存在问题，当指定 `closed` 参数时会引发 `ValueError` 错误（[GH 35869](https://github.com/pandas-dev/pandas/issues/35869)）
- en: Bug in [`DataFrameGroupBy.rolling()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rolling.html#pandas.core.groupby.DataFrameGroupBy.rolling
    "pandas.core.groupby.DataFrameGroupBy.rolling") returning wrong values with partial
    centered window ([GH 36040](https://github.com/pandas-dev/pandas/issues/36040))
  id: totrans-1405
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有部分中心窗口的 [`DataFrameGroupBy.rolling()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rolling.html#pandas.core.groupby.DataFrameGroupBy.rolling
    "pandas.core.groupby.DataFrameGroupBy.rolling") 返回错误值（[GH 36040](https://github.com/pandas-dev/pandas/issues/36040)）。
- en: Bug in [`DataFrameGroupBy.rolling()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rolling.html#pandas.core.groupby.DataFrameGroupBy.rolling
    "pandas.core.groupby.DataFrameGroupBy.rolling") returned wrong values with time
    aware window containing `NaN`. Raises `ValueError` because windows are not monotonic
    now ([GH 34617](https://github.com/pandas-dev/pandas/issues/34617))
  id: totrans-1406
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有包含 `NaN` 的时间感知窗口的 [`DataFrameGroupBy.rolling()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rolling.html#pandas.core.groupby.DataFrameGroupBy.rolling
    "pandas.core.groupby.DataFrameGroupBy.rolling") 返回错误值。由于窗口现在不是单调的，引发 `ValueError`（[GH
    34617](https://github.com/pandas-dev/pandas/issues/34617)）。
- en: Bug in `Rolling.__iter__()` where a `ValueError` was not raised when `min_periods`
    was larger than `window` ([GH 37156](https://github.com/pandas-dev/pandas/issues/37156))
  id: totrans-1407
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `min_periods` 大于 `window` 时，`Rolling.__iter__()` 中未引发 `ValueError`（[GH 37156](https://github.com/pandas-dev/pandas/issues/37156)）。
- en: Using [`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") instead of [`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") avoids numerical issues for [`Rolling.corr()`](../reference/api/pandas.core.window.rolling.Rolling.corr.html#pandas.core.window.rolling.Rolling.corr
    "pandas.core.window.rolling.Rolling.corr") when [`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") is still within floating point precision
    while [`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") is not ([GH 31286](https://github.com/pandas-dev/pandas/issues/31286))
  id: totrans-1408
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 [`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") 仍在浮点精度内而 [`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") 不在时，使用 [`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") 替代 [`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") 可避免 [`Rolling.corr()`](../reference/api/pandas.core.window.rolling.Rolling.corr.html#pandas.core.window.rolling.Rolling.corr
    "pandas.core.window.rolling.Rolling.corr") 的数值问题（[GH 31286](https://github.com/pandas-dev/pandas/issues/31286)）。
- en: Bug in [`DataFrameGroupBy.quantile()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile
    "pandas.core.groupby.DataFrameGroupBy.quantile") and [`Resampler.quantile()`](../reference/api/pandas.core.resample.Resampler.quantile.html#pandas.core.resample.Resampler.quantile
    "pandas.core.resample.Resampler.quantile") raised `TypeError` when values were
    of type `Timedelta` ([GH 29485](https://github.com/pandas-dev/pandas/issues/29485))
  id: totrans-1409
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当值为 `Timedelta` 类型时，[`DataFrameGroupBy.quantile()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile
    "pandas.core.groupby.DataFrameGroupBy.quantile") 和 [`Resampler.quantile()`](../reference/api/pandas.core.resample.Resampler.quantile.html#pandas.core.resample.Resampler.quantile
    "pandas.core.resample.Resampler.quantile") 中出现 `TypeError` 错误（[GH 29485](https://github.com/pandas-dev/pandas/issues/29485)）。
- en: Bug in [`Rolling.median()`](../reference/api/pandas.core.window.rolling.Rolling.median.html#pandas.core.window.rolling.Rolling.median
    "pandas.core.window.rolling.Rolling.median") and [`Rolling.quantile()`](../reference/api/pandas.core.window.rolling.Rolling.quantile.html#pandas.core.window.rolling.Rolling.quantile
    "pandas.core.window.rolling.Rolling.quantile") returned wrong values for [`BaseIndexer`](../reference/api/pandas.api.indexers.BaseIndexer.html#pandas.api.indexers.BaseIndexer
    "pandas.api.indexers.BaseIndexer") subclasses with non-monotonic starting or ending
    points for windows ([GH 37153](https://github.com/pandas-dev/pandas/issues/37153))
  id: totrans-1410
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Rolling.median()`](../reference/api/pandas.core.window.rolling.Rolling.median.html#pandas.core.window.rolling.Rolling.median
    "pandas.core.window.rolling.Rolling.median") 和 [`Rolling.quantile()`](../reference/api/pandas.core.window.rolling.Rolling.quantile.html#pandas.core.window.rolling.Rolling.quantile
    "pandas.core.window.rolling.Rolling.quantile") 在具有非单调起始或结束点的 [`BaseIndexer`](../reference/api/pandas.api.indexers.BaseIndexer.html#pandas.api.indexers.BaseIndexer
    "pandas.api.indexers.BaseIndexer") 子类的窗口中返回错误的值（[GH 37153](https://github.com/pandas-dev/pandas/issues/37153)）。'
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") dropped `nan` groups from result with `dropna=False`
    when grouping over a single column ([GH 35646](https://github.com/pandas-dev/pandas/issues/35646),
    [GH 35542](https://github.com/pandas-dev/pandas/issues/35542))
  id: totrans-1411
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 中存在的 Bug，在仅对单列进行分组时，使用 `dropna=False` 会从结果中丢弃 `nan`
    组 ([GH 35646](https://github.com/pandas-dev/pandas/issues/35646), [GH 35542](https://github.com/pandas-dev/pandas/issues/35542))'
- en: Bug in [`DataFrameGroupBy.head()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.head.html#pandas.core.groupby.DataFrameGroupBy.head
    "pandas.core.groupby.DataFrameGroupBy.head"), `DataFrameGroupBy.tail()`, `SeriesGroupBy.head()`,
    and `SeriesGroupBy.tail()` would raise when used with `axis=1` ([GH 9772](https://github.com/pandas-dev/pandas/issues/9772))
  id: totrans-1412
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.head()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.head.html#pandas.core.groupby.DataFrameGroupBy.head
    "pandas.core.groupby.DataFrameGroupBy.head")、`DataFrameGroupBy.tail()`、`SeriesGroupBy.head()`
    和 `SeriesGroupBy.tail()` 中存在的 Bug，在使用 `axis=1` 时会报错 ([GH 9772](https://github.com/pandas-dev/pandas/issues/9772))'
- en: Bug in [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") would raise when used with `axis=1`
    and a transformation kernel (e.g. “shift”) ([GH 36308](https://github.com/pandas-dev/pandas/issues/36308))
  id: totrans-1413
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") 中存在的 Bug，在使用 `axis=1` 和转换核（例如“shift”）时会报错
    ([GH 36308](https://github.com/pandas-dev/pandas/issues/36308))'
- en: Bug in [`DataFrameGroupBy.resample()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.resample.html#pandas.core.groupby.DataFrameGroupBy.resample
    "pandas.core.groupby.DataFrameGroupBy.resample") using `.agg` with sum produced
    different result than just calling `.sum` ([GH 33548](https://github.com/pandas-dev/pandas/issues/33548))
  id: totrans-1414
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.resample()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.resample.html#pandas.core.groupby.DataFrameGroupBy.resample
    "pandas.core.groupby.DataFrameGroupBy.resample") 中存在的 Bug，在使用 `.agg` 和 sum 时产生的结果与仅调用
    `.sum` 不同 ([GH 33548](https://github.com/pandas-dev/pandas/issues/33548))'
- en: Bug in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") dropped values on `nan` group when
    returning the same axes with the original frame ([GH 38227](https://github.com/pandas-dev/pandas/issues/38227))
  id: totrans-1415
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") 中存在的 Bug，在返回与原始框架相同轴的 `nan` 组时，会丢弃
    `nan` 组的值 ([GH 38227](https://github.com/pandas-dev/pandas/issues/38227))'
- en: Bug in [`DataFrameGroupBy.quantile()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile
    "pandas.core.groupby.DataFrameGroupBy.quantile") couldn’t handle with arraylike
    `q` when grouping by columns ([GH 33795](https://github.com/pandas-dev/pandas/issues/33795))
  id: totrans-1416
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.quantile()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile
    "pandas.core.groupby.DataFrameGroupBy.quantile") 中存在的 Bug，在按列分组时，无法处理数组 `q` ([GH
    33795](https://github.com/pandas-dev/pandas/issues/33795))'
- en: Bug in `DataFrameGroupBy.rank()` with `datetime64tz` or period dtype incorrectly
    casting results to those dtypes instead of returning `float64` dtype ([GH 38187](https://github.com/pandas-dev/pandas/issues/38187))
  id: totrans-1417
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank")中存在的 Bug，当使用 `datetime64tz` 或 period
    dtype 时，错误地将结果转换为这些 dtype，而不是返回 `float64` dtype ([GH 38187](https://github.com/pandas-dev/pandas/issues/38187))'
- en: Reshaping
  id: totrans-1418
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 重塑
- en: Bug in `DataFrame.crosstab()` was returning incorrect results on inputs with
    duplicate row names, duplicate column names or duplicate names between row and
    column labels ([GH 22529](https://github.com/pandas-dev/pandas/issues/22529))
  id: totrans-1419
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.crosstab()` 中存在的 Bug，在具有重复行名称、重复列名称或行列标签之间存在重复名称的输入上，返回的结果不正确 ([GH
    22529](https://github.com/pandas-dev/pandas/issues/22529))'
- en: Bug in [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") with `aggfunc='count'` or `aggfunc='sum'` returning
    `NaN` for missing categories when pivoted on a `Categorical`. Now returning `0`
    ([GH 31422](https://github.com/pandas-dev/pandas/issues/31422))
  id: totrans-1420
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") 中存在的 Bug，当使用 `aggfunc=''count''` 或 `aggfunc=''sum''`
    时，在分类变量上透视时，缺失类别会返回 `NaN`。现在返回 `0` ([GH 31422](https://github.com/pandas-dev/pandas/issues/31422))'
- en: Bug in [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    and [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    constructor where input index names are not preserved in some cases ([GH 13475](https://github.com/pandas-dev/pandas/issues/13475))
  id: totrans-1421
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在某些情况下，[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    和 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    构造函数中输入的索引名称不会被保留（[GH 13475](https://github.com/pandas-dev/pandas/issues/13475)）
- en: Bug in func [`crosstab()`](../reference/api/pandas.crosstab.html#pandas.crosstab
    "pandas.crosstab") when using multiple columns with `margins=True` and `normalize=True`
    ([GH 35144](https://github.com/pandas-dev/pandas/issues/35144))
  id: totrans-1422
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用多个列且 `margins=True` 和 `normalize=True` 时，[`crosstab()`](../reference/api/pandas.crosstab.html#pandas.crosstab
    "pandas.crosstab") 的 func 中存在错误（[GH 35144](https://github.com/pandas-dev/pandas/issues/35144)）
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") where an empty DataFrame.stack would raise an error
    ([GH 36113](https://github.com/pandas-dev/pandas/issues/36113)). Now returning
    an empty Series with empty MultiIndex.
  id: totrans-1423
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当一个空 DataFrame.stack 时，[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") 会引发错误。现在返回一个具有空 MultiIndex 的空 Series。（[GH 36113](https://github.com/pandas-dev/pandas/issues/36113)）
- en: Bug in [`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack"). Now a Series with single level of Index trying to unstack
    would raise a `ValueError` ([GH 36113](https://github.com/pandas-dev/pandas/issues/36113))
  id: totrans-1424
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在尝试对具有单个索引级别的 Series 进行 unstack 操作时，[`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack") 会引发 `ValueError`（[GH 36113](https://github.com/pandas-dev/pandas/issues/36113)）
- en: Bug in [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg") with `func={'name':<FUNC>}` incorrectly raising `TypeError`
    when `DataFrame.columns==['Name']` ([GH 36212](https://github.com/pandas-dev/pandas/issues/36212))
  id: totrans-1425
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `DataFrame.columns==['Name']` 时，使用 `func={'name':<FUNC>}` 的 [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg") 错误地引发 `TypeError`（[GH 36212](https://github.com/pandas-dev/pandas/issues/36212)）
- en: Bug in [`Series.transform()`](../reference/api/pandas.Series.transform.html#pandas.Series.transform
    "pandas.Series.transform") would give incorrect results or raise when the argument
    `func` was a dictionary ([GH 35811](https://github.com/pandas-dev/pandas/issues/35811))
  id: totrans-1426
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.transform()`](../reference/api/pandas.Series.transform.html#pandas.Series.transform
    "pandas.Series.transform") 中的错误会在参数 `func` 是字典时给出不正确的结果或引发错误（[GH 35811](https://github.com/pandas-dev/pandas/issues/35811)）'
- en: Bug in [`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot") did not preserve [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") level names for columns when rows and columns are both multiindexed
    ([GH 36360](https://github.com/pandas-dev/pandas/issues/36360))
  id: totrans-1427
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当行和列都是多索引时，[`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot") 不会保留列的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 级别名称（[GH 36360](https://github.com/pandas-dev/pandas/issues/36360)）
- en: Bug in [`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot") modified `index` argument when `columns` was passed
    but `values` was not ([GH 37635](https://github.com/pandas-dev/pandas/issues/37635))
  id: totrans-1428
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递 `columns` 但未传递 `values` 时，[`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot") 会修改 `index` 参数（[GH 37635](https://github.com/pandas-dev/pandas/issues/37635)）
- en: Bug in [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") returned a non deterministic level-order for the resulting
    [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    ([GH 36910](https://github.com/pandas-dev/pandas/issues/36910))
  id: totrans-1429
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") 返回的结果 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 的级别顺序是非确定性的（[GH 36910](https://github.com/pandas-dev/pandas/issues/36910)）'
- en: Bug in [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") caused wrong alignment with dtype `string` and
    one level of `MultiIndex` containing only `NA` ([GH 37591](https://github.com/pandas-dev/pandas/issues/37591))
  id: totrans-1430
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 dtype 为 `string` 和只包含 `NA` 的一级 `MultiIndex` 时，[`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") 会导致错误的对齐（[GH 37591](https://github.com/pandas-dev/pandas/issues/37591)）
- en: Fixed regression in [`merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge") on merging [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with empty DataFrame ([GH 36895](https://github.com/pandas-dev/pandas/issues/36895))
  id: totrans-1431
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    中存在的回归错误，当与空 DataFrame 合并 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 时（[GH 36895](https://github.com/pandas-dev/pandas/issues/36895)）
- en: Bug in [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") not setting index of return value when `func` return
    type is `dict` ([GH 37544](https://github.com/pandas-dev/pandas/issues/37544))
  id: totrans-1432
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") 中存在的错误，当 `func` 返回类型为 `dict` 时未设置返回值的索引（[GH 37544](https://github.com/pandas-dev/pandas/issues/37544)）
- en: Bug in [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") and [`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge") returning inconsistent ordering in result for `how=right` and
    `how=left` ([GH 35382](https://github.com/pandas-dev/pandas/issues/35382))
  id: totrans-1433
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") 和 [`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge") 中存在的错误，在 `how=right` 和 `how=left` 时返回结果的顺序不一致（[GH 35382](https://github.com/pandas-dev/pandas/issues/35382)）
- en: Bug in [`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered") couldn’t handle list-like `left_by` or `right_by` ([GH
    35269](https://github.com/pandas-dev/pandas/issues/35269))
  id: totrans-1434
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered") 中存在的错误，不能处理类似列表的 `left_by` 或 `right_by`（[GH 35269](https://github.com/pandas-dev/pandas/issues/35269)）
- en: Bug in [`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered") returned wrong join result when length of `left_by` or
    `right_by` equals to the rows of `left` or `right` ([GH 38166](https://github.com/pandas-dev/pandas/issues/38166))
  id: totrans-1435
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered") 中存在的错误，当 `left_by` 或 `right_by` 的长度等于 `left` 或 `right`
    的行数时返回错误的连接结果（[GH 38166](https://github.com/pandas-dev/pandas/issues/38166)）
- en: Bug in [`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered") didn’t raise when elements in `left_by` or `right_by`
    not exist in `left` columns or `right` columns ([GH 38167](https://github.com/pandas-dev/pandas/issues/38167))
  id: totrans-1436
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`merge_ordered()`](../reference/api/pandas.merge_ordered.html#pandas.merge_ordered
    "pandas.merge_ordered") 中存在的错误，当 `left_by` 或 `right_by` 中的元素不存在于 `left` 列或 `right`
    列时未引发错误（[GH 38167](https://github.com/pandas-dev/pandas/issues/38167)）
- en: Bug in [`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") not validating bool dtype for `ignore_index`
    keyword ([GH 38274](https://github.com/pandas-dev/pandas/issues/38274))
  id: totrans-1437
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") 中存在的错误，未验证 `ignore_index` 关键字的布尔类型dtype（[GH
    38274](https://github.com/pandas-dev/pandas/issues/38274)）
- en: ExtensionArray
  id: totrans-1438
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ExtensionArray
- en: Fixed bug where [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") column set to scalar extension type via a dict instantiation
    was considered an object type rather than the extension type ([GH 35965](https://github.com/pandas-dev/pandas/issues/35965))
  id: totrans-1439
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了通过字典实例化将 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 列设置为标量扩展类型时，将其视为对象类型而不是扩展类型的错误（[GH 35965](https://github.com/pandas-dev/pandas/issues/35965)）
- en: Fixed bug where `astype()` with equal dtype and `copy=False` would return a
    new object ([GH 28488](https://github.com/pandas-dev/pandas/issues/28488))
  id: totrans-1440
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用相等dtype和 `copy=False` 的 `astype()` 会返回新对象的错误（[GH 28488](https://github.com/pandas-dev/pandas/issues/28488)）
- en: Fixed bug when applying a NumPy ufunc with multiple outputs to an [`IntegerArray`](../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray
    "pandas.arrays.IntegerArray") returning `None` ([GH 36913](https://github.com/pandas-dev/pandas/issues/36913))
  id: totrans-1441
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了将多输出的 NumPy ufunc 应用于 [`IntegerArray`](../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray
    "pandas.arrays.IntegerArray") 并返回 `None` 时的错误（[GH 36913](https://github.com/pandas-dev/pandas/issues/36913)）
- en: Fixed an inconsistency in [`PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray")’s `__init__` signature to those of [`DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray") and [`TimedeltaArray`](../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray
    "pandas.arrays.TimedeltaArray") ([GH 37289](https://github.com/pandas-dev/pandas/issues/37289))
  id: totrans-1442
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray") 的 `__init__` 签名与 [`DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray") 和 [`TimedeltaArray`](../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray
    "pandas.arrays.TimedeltaArray") 的签名不一致的问题（[GH 37289](https://github.com/pandas-dev/pandas/issues/37289)）
- en: Reductions for [`BooleanArray`](../reference/api/pandas.arrays.BooleanArray.html#pandas.arrays.BooleanArray
    "pandas.arrays.BooleanArray"), [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical"), [`DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray"), [`FloatingArray`](../reference/api/pandas.arrays.FloatingArray.html#pandas.arrays.FloatingArray
    "pandas.arrays.FloatingArray"), [`IntegerArray`](../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray
    "pandas.arrays.IntegerArray"), [`PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray"), [`TimedeltaArray`](../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray
    "pandas.arrays.TimedeltaArray"), and `PandasArray` are now keyword-only methods
    ([GH 37541](https://github.com/pandas-dev/pandas/issues/37541))
  id: totrans-1443
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 [`BooleanArray`](../reference/api/pandas.arrays.BooleanArray.html#pandas.arrays.BooleanArray
    "pandas.arrays.BooleanArray")、[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")、[`DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray")、[`FloatingArray`](../reference/api/pandas.arrays.FloatingArray.html#pandas.arrays.FloatingArray
    "pandas.arrays.FloatingArray")、[`IntegerArray`](../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray
    "pandas.arrays.IntegerArray")、[`PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray")、[`TimedeltaArray`](../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray
    "pandas.arrays.TimedeltaArray") 和 `PandasArray` 的缩减现在是关键字方法（[GH 37541](https://github.com/pandas-dev/pandas/issues/37541)）
- en: Fixed a bug where a `TypeError` was wrongly raised if a membership check was
    made on an `ExtensionArray` containing nan-like values ([GH 37867](https://github.com/pandas-dev/pandas/issues/37867))
  id: totrans-1444
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了一个 bug，当对包含类似 nan 的值的 `ExtensionArray` 进行成员检查时错误地引发了 `TypeError`（[GH 37867](https://github.com/pandas-dev/pandas/issues/37867)）
- en: Other
  id: totrans-1445
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 其他
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") and [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") incorrectly raising an `AssertionError` instead of a
    `ValueError` when invalid parameter combinations are passed ([GH 36045](https://github.com/pandas-dev/pandas/issues/36045))
  id: totrans-1446
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 和 [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 中存在 bug，当传递无效的参数组合时，错误地引发了 `AssertionError` 而不是 `ValueError`（[GH
    36045](https://github.com/pandas-dev/pandas/issues/36045)）
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") and [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") with numeric values and string `to_replace` ([GH 34789](https://github.com/pandas-dev/pandas/issues/34789))
  id: totrans-1447
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用数值和字符串 `to_replace` 时，[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 和 [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 中存在 bug（[GH 34789](https://github.com/pandas-dev/pandas/issues/34789)）
- en: Fixed metadata propagation in [`Series.abs()`](../reference/api/pandas.Series.abs.html#pandas.Series.abs
    "pandas.Series.abs") and ufuncs called on Series and DataFrames ([GH 28283](https://github.com/pandas-dev/pandas/issues/28283))
  id: totrans-1448
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在 [`Series.abs()`](../reference/api/pandas.Series.abs.html#pandas.Series.abs
    "pandas.Series.abs") 和在 Series 和 DataFrames 上调用的 ufuncs 中的元数据传播问题（[GH 28283](https://github.com/pandas-dev/pandas/issues/28283)）
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") and [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") incorrectly casting from `PeriodDtype` to object dtype
    ([GH 34871](https://github.com/pandas-dev/pandas/issues/34871))
  id: totrans-1449
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 和 [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 错误地从 `PeriodDtype` 转换为 object dtype 的 bug（[GH 34871](https://github.com/pandas-dev/pandas/issues/34871)）。
- en: Fixed bug in metadata propagation incorrectly copying DataFrame columns as metadata
    when the column name overlaps with the metadata name ([GH 37037](https://github.com/pandas-dev/pandas/issues/37037))
  id: totrans-1450
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了元数据传播中的错误，当列名与元数据名称重叠时，错误地将 DataFrame 列复制为元数据（[GH 37037](https://github.com/pandas-dev/pandas/issues/37037)）。
- en: Fixed metadata propagation in the [`Series.dt`](../reference/api/pandas.Series.dt.html#pandas.Series.dt
    "pandas.Series.dt"), [`Series.str`](../reference/api/pandas.Series.str.html#pandas.Series.str
    "pandas.Series.str") accessors, [`DataFrame.duplicated`](../reference/api/pandas.DataFrame.duplicated.html#pandas.DataFrame.duplicated
    "pandas.DataFrame.duplicated"), [`DataFrame.stack`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack"), [`DataFrame.unstack`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack"), [`DataFrame.pivot`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot"), `DataFrame.append`, [`DataFrame.diff`](../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff
    "pandas.DataFrame.diff"), [`DataFrame.applymap`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap") and [`DataFrame.update`](../reference/api/pandas.DataFrame.update.html#pandas.DataFrame.update
    "pandas.DataFrame.update") methods ([GH 28283](https://github.com/pandas-dev/pandas/issues/28283),
    [GH 37381](https://github.com/pandas-dev/pandas/issues/37381))
  id: totrans-1451
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在 [`Series.dt`](../reference/api/pandas.Series.dt.html#pandas.Series.dt "pandas.Series.dt")、[`Series.str`](../reference/api/pandas.Series.str.html#pandas.Series.str
    "pandas.Series.str") 访问器、[`DataFrame.duplicated`](../reference/api/pandas.DataFrame.duplicated.html#pandas.DataFrame.duplicated
    "pandas.DataFrame.duplicated")、[`DataFrame.stack`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack")、[`DataFrame.unstack`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")、[`DataFrame.pivot`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot")、`DataFrame.append`、[`DataFrame.diff`](../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff
    "pandas.DataFrame.diff")、[`DataFrame.applymap`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap") 和 [`DataFrame.update`](../reference/api/pandas.DataFrame.update.html#pandas.DataFrame.update
    "pandas.DataFrame.update") 方法中的元数据传播问题（[GH 28283](https://github.com/pandas-dev/pandas/issues/28283)、[GH
    37381](https://github.com/pandas-dev/pandas/issues/37381)）。
- en: Fixed metadata propagation when selecting columns with `DataFrame.__getitem__`
    ([GH 28283](https://github.com/pandas-dev/pandas/issues/28283))
  id: totrans-1452
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在使用 `DataFrame.__getitem__` 选择列时的元数据传播问题（[GH 28283](https://github.com/pandas-dev/pandas/issues/28283)）。
- en: Bug in [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") with non-[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") failing to set the correct name on the returned [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") ([GH 38111](https://github.com/pandas-dev/pandas/issues/38111))
  id: totrans-1453
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection")中的 bug，对于非[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 失败地设置了返回的[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")的正确名称（[GH 38111](https://github.com/pandas-dev/pandas/issues/38111)）。
- en: Bug in `RangeIndex.intersection()` failing to set the correct name on the returned
    [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") in some
    corner cases ([GH 38197](https://github.com/pandas-dev/pandas/issues/38197))
  id: totrans-1454
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在一些边缘情况下，`RangeIndex.intersection()` 失败地设置了返回的[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")的正确名称的 bug（[GH 38197](https://github.com/pandas-dev/pandas/issues/38197)）。
- en: Bug in [`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference") failing to set the correct name on the returned [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") in some corner cases ([GH 38268](https://github.com/pandas-dev/pandas/issues/38268))
  id: totrans-1455
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在一些边缘情况下，[`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference") 失败地设置了返回的[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")的正确名称的 bug（[GH 38268](https://github.com/pandas-dev/pandas/issues/38268)）。
- en: Bug in [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") behaving differently depending on whether operand is an
    [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") or other
    list-like ([GH 36384](https://github.com/pandas-dev/pandas/issues/36384))
  id: totrans-1456
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union")在操作数是[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")或其他类似列表时表现不同的错误 ([GH 36384](https://github.com/pandas-dev/pandas/issues/36384))
- en: Bug in [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") with non-matching numeric dtypes casting to `object`
    dtype instead of minimal common dtype ([GH 38122](https://github.com/pandas-dev/pandas/issues/38122))
  id: totrans-1457
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection")在非匹配数值dtype情况下转换为`object` dtype而不是最小公共dtype的错误 ([GH
    38122](https://github.com/pandas-dev/pandas/issues/38122))
- en: Bug in `IntervalIndex.union()` returning an incorrectly-typed [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") when empty ([GH 38282](https://github.com/pandas-dev/pandas/issues/38282))
  id: totrans-1458
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`IntervalIndex.union()`在为空时返回一个类型不正确的[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")的错误 ([GH 38282](https://github.com/pandas-dev/pandas/issues/38282))
- en: Passing an array with 2 or more dimensions to the [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") constructor now raises the more specific `ValueError` rather
    than a bare `Exception` ([GH 35744](https://github.com/pandas-dev/pandas/issues/35744))
  id: totrans-1459
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，将具有 2 个或更多维度的数组传递给 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 构造函数将引发更具体的`ValueError`，而不是裸露的`Exception` ([GH 35744](https://github.com/pandas-dev/pandas/issues/35744))
- en: Bug in `dir` where `dir(obj)` wouldn’t show attributes defined on the instance
    for pandas objects ([GH 37173](https://github.com/pandas-dev/pandas/issues/37173))
  id: totrans-1460
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`dir`中的一个错误，即`dir(obj)`不会显示在实例上定义的属性，适用于 pandas 对象 ([GH 37173](https://github.com/pandas-dev/pandas/issues/37173))
- en: Bug in [`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop") raising `InvalidIndexError` when index has duplicates ([GH
    38051](https://github.com/pandas-dev/pandas/issues/38051))
  id: totrans-1461
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop")在索引具有重复项时引发`InvalidIndexError`的错误 ([GH 38051](https://github.com/pandas-dev/pandas/issues/38051))
- en: Bug in `RangeIndex.difference()` returning `Int64Index` in some cases where
    it should return [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex
    "pandas.RangeIndex") ([GH 38028](https://github.com/pandas-dev/pandas/issues/38028))
  id: totrans-1462
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`RangeIndex.difference()`在某些情况下返回`Int64Index`而不是应该返回[`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex
    "pandas.RangeIndex")的错误 ([GH 38028](https://github.com/pandas-dev/pandas/issues/38028))
- en: Fixed bug in `assert_series_equal()` when comparing a datetime-like array with
    an equivalent non extension dtype array ([GH 37609](https://github.com/pandas-dev/pandas/issues/37609))
  id: totrans-1463
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`assert_series_equal()`中的一个错误，当比较一个类似于日期时间的数组和一个等价的非扩展dtype数组时 ([GH 37609](https://github.com/pandas-dev/pandas/issues/37609))
- en: Bug in [`is_bool_dtype()`](../reference/api/pandas.api.types.is_bool_dtype.html#pandas.api.types.is_bool_dtype
    "pandas.api.types.is_bool_dtype") would raise when passed a valid string such
    as `"boolean"` ([GH 38386](https://github.com/pandas-dev/pandas/issues/38386))
  id: totrans-1464
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`is_bool_dtype()`](../reference/api/pandas.api.types.is_bool_dtype.html#pandas.api.types.is_bool_dtype
    "pandas.api.types.is_bool_dtype")在传递有效字符串（如`"boolean"`）时引发错误的错误 ([GH 38386](https://github.com/pandas-dev/pandas/issues/38386))
- en: Fixed regression in logical operators raising `ValueError` when columns of [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") are a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") with unused categories ([GH 38367](https://github.com/pandas-dev/pandas/issues/38367))
  id: totrans-1465
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了逻辑运算符在[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")的列是未使用的类别的[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")时引发`ValueError`的错误 ([GH 38367](https://github.com/pandas-dev/pandas/issues/38367))
- en: '## Contributors'
  id: totrans-1466
  prefs: []
  type: TYPE_NORMAL
  zh: '## 贡献者'
- en: A total of 257 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  id: totrans-1467
  prefs: []
  type: TYPE_NORMAL
  zh: 共有 257 人为此版本贡献了补丁。名字后面带有“+”的人是首次贡献补丁。
- en: 21CSM +
  id: totrans-1468
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 21CSM +
- en: AbdulMAbdi +
  id: totrans-1469
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AbdulMAbdi +
- en: Abhiraj Hinge +
  id: totrans-1470
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Abhiraj Hinge +
- en: Abhishek Mangla +
  id: totrans-1471
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Abhishek Mangla +
- en: Abo7atm +
  id: totrans-1472
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Abo7atm +
- en: Adam Spannbauer +
  id: totrans-1473
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Adam Spannbauer +
- en: Albert Villanova del Moral
  id: totrans-1474
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Albert Villanova del Moral
- en: Alex Kirko
  id: totrans-1475
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Kirko
- en: Alex Lim +
  id: totrans-1476
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Lim +
- en: Alex Thorne +
  id: totrans-1477
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Thorne +
- en: Aleš Erjavec +
  id: totrans-1478
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Aleš Erjavec +
- en: Ali McMaster
  id: totrans-1479
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ali McMaster
- en: Amanda Dsouza +
  id: totrans-1480
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Amanda Dsouza +
- en: Amim Knabben +
  id: totrans-1481
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Amim Knabben +
- en: Andrew Wieteska
  id: totrans-1482
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Wieteska
- en: Anshoo Rajput +
  id: totrans-1483
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anshoo Rajput +
- en: Anthony Milbourne
  id: totrans-1484
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anthony Milbourne
- en: Arun12121 +
  id: totrans-1485
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Arun12121 +
- en: Asish Mahapatra
  id: totrans-1486
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Asish Mahapatra
- en: Avinash Pancham +
  id: totrans-1487
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Avinash Pancham +
- en: BeanNan +
  id: totrans-1488
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: BeanNan +
- en: Ben Forbes +
  id: totrans-1489
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ben Forbes +
- en: Brendan Wilby +
  id: totrans-1490
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brendan Wilby +
- en: Bruno Almeida +
  id: totrans-1491
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bruno Almeida +
- en: Byron Boulton +
  id: totrans-1492
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Byron Boulton +
- en: Chankey Pathak
  id: totrans-1493
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chankey Pathak
- en: Chris Barnes +
  id: totrans-1494
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Barnes +
- en: Chris Lynch +
  id: totrans-1495
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Lynch +
- en: Chris Withers
  id: totrans-1496
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Withers
- en: Christoph Deil +
  id: totrans-1497
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Christoph Deil +
- en: Christopher Hadley +
  id: totrans-1498
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Christopher Hadley +
- en: Chuanzhu Xu
  id: totrans-1499
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chuanzhu Xu
- en: Coelhudo +
  id: totrans-1500
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Coelhudo +
- en: Dan Moore
  id: totrans-1501
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dan Moore
- en: Daniel Saxton
  id: totrans-1502
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Saxton
- en: David Kwong +
  id: totrans-1503
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Kwong +
- en: David Li +
  id: totrans-1504
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Li +
- en: David Mrva +
  id: totrans-1505
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Mrva +
- en: Deepak Pandey +
  id: totrans-1506
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Deepak Pandey +
- en: Deepyaman Datta
  id: totrans-1507
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Deepyaman Datta
- en: Devin Petersohn
  id: totrans-1508
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Devin Petersohn
- en: Dmitriy Perepelkin +
  id: totrans-1509
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dmitriy Perepelkin +
- en: Douglas Hanley +
  id: totrans-1510
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Douglas Hanley +
- en: Dāgs Grīnbergs +
  id: totrans-1511
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dāgs Grīnbergs +
- en: Eli Treuherz +
  id: totrans-1512
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eli Treuherz +
- en: Elliot Rampono +
  id: totrans-1513
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Elliot Rampono +
- en: Erfan Nariman
  id: totrans-1514
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Erfan Nariman
- en: Eric Goddard
  id: totrans-1515
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric Goddard
- en: Eric Leung +
  id: totrans-1516
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric Leung +
- en: Eric Wieser
  id: totrans-1517
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric Wieser
- en: Ethan Chen +
  id: totrans-1518
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ethan Chen +
- en: Eve +
  id: totrans-1519
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eve +
- en: Eyal Trabelsi +
  id: totrans-1520
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eyal Trabelsi +
- en: Fabian Gebhart +
  id: totrans-1521
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fabian Gebhart +
- en: Fangchen Li
  id: totrans-1522
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fangchen Li
- en: Felix Claessen +
  id: totrans-1523
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Felix Claessen +
- en: Finlay Maguire +
  id: totrans-1524
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Finlay Maguire +
- en: Florian Roscheck +
  id: totrans-1525
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Florian Roscheck +
- en: Gabriel Monteiro
  id: totrans-1526
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gabriel Monteiro
- en: Gautham +
  id: totrans-1527
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gautham +
- en: Gerard Jorgensen +
  id: totrans-1528
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gerard Jorgensen +
- en: Gregory Livschitz
  id: totrans-1529
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gregory Livschitz
- en: Hans
  id: totrans-1530
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hans
- en: Harsh Sharma
  id: totrans-1531
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Harsh Sharma
- en: Honfung Wong +
  id: totrans-1532
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Honfung Wong +
- en: Igor Gotlibovych +
  id: totrans-1533
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Igor Gotlibovych +
- en: Iqrar Agalosi Nureyza
  id: totrans-1534
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Iqrar Agalosi Nureyza
- en: Irv Lustig
  id: totrans-1535
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Irv Lustig
- en: Isaac Virshup
  id: totrans-1536
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Isaac Virshup
- en: Jacob Peacock
  id: totrans-1537
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jacob Peacock
- en: Jacob Stevens-Haas +
  id: totrans-1538
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jacob Stevens-Haas +
- en: Jan Müller +
  id: totrans-1539
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jan Müller +
- en: Janus
  id: totrans-1540
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Janus
- en: Jeet Parekh
  id: totrans-1541
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeet Parekh
- en: Jeff Hernandez +
  id: totrans-1542
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeff Hernandez +
- en: Jeff Reback
  id: totrans-1543
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeff Reback
- en: Jiaxiang
  id: totrans-1544
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jiaxiang
- en: Joao Pedro Berno Zanutto +
  id: totrans-1545
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joao Pedro Berno Zanutto +
- en: Joel Nothman
  id: totrans-1546
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joel Nothman
- en: Joel Whittier +
  id: totrans-1547
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joel Whittier +
- en: John Karasinski +
  id: totrans-1548
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: John Karasinski +
- en: John McGuigan +
  id: totrans-1549
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: John McGuigan +
- en: Johnny Pribyl +
  id: totrans-1550
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Johnny Pribyl +
- en: Jonas Laursen +
  id: totrans-1551
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jonas Laursen +
- en: Jonathan Shreckengost +
  id: totrans-1552
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jonathan Shreckengost +
- en: Joris Van den Bossche
  id: totrans-1553
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Van den Bossche
- en: Jose +
  id: totrans-1554
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jose +
- en: JoseNavy +
  id: totrans-1555
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: JoseNavy +
- en: Josh Temple +
  id: totrans-1556
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Josh Temple +
- en: Jun Kudo +
  id: totrans-1557
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jun Kudo +
- en: Justin Essert
  id: totrans-1558
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Justin Essert
- en: Justin Sexton +
  id: totrans-1559
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Justin Sexton +
- en: Kaiqi Dong
  id: totrans-1560
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kaiqi Dong
- en: Kamil Trocewicz +
  id: totrans-1561
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kamil Trocewicz +
- en: Karthik Mathur
  id: totrans-1562
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Karthik Mathur
- en: Kashif +
  id: totrans-1563
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kashif +
- en: Kenny Huynh
  id: totrans-1564
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kenny Huynh
- en: Kevin Sheppard
  id: totrans-1565
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kevin Sheppard
- en: Kumar Shivam +
  id: totrans-1566
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kumar Shivam +
- en: Leonardus Chen +
  id: totrans-1567
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Leonardus Chen +
- en: Levi Matus +
  id: totrans-1568
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Levi Matus +
- en: Lucas Rodés-Guirao +
  id: totrans-1569
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lucas Rodés-Guirao +
- en: Luis Pinto +
  id: totrans-1570
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Luis Pinto +
- en: Lynch +
  id: totrans-1571
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lynch +
- en: Marc Garcia
  id: totrans-1572
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marc Garcia
- en: Marco Gorelli
  id: totrans-1573
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marco Gorelli
- en: Maria-Alexandra Ilie +
  id: totrans-1574
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maria-Alexandra Ilie +
- en: Marian Denes
  id: totrans-1575
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marian Denes
- en: Mark Graham +
  id: totrans-1576
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mark Graham +
- en: Martin Durant
  id: totrans-1577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Martin Durant
- en: Matt Roeschke
  id: totrans-1578
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Roeschke
- en: Matthew Roeschke
  id: totrans-1579
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Roeschke
- en: Matthias Bussonnier
  id: totrans-1580
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthias Bussonnier
- en: Maxim Ivanov +
  id: totrans-1581
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maxim Ivanov +
- en: Mayank Chaudhary +
  id: totrans-1582
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mayank Chaudhary +
- en: MeeseeksMachine
  id: totrans-1583
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MeeseeksMachine
- en: Meghana Varanasi +
  id: totrans-1584
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Meghana Varanasi +
- en: Metehan Kutlu +
  id: totrans-1585
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Metehan Kutlu +
- en: Micael Jarniac +
  id: totrans-1586
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Micael Jarniac +
- en: Micah Smith +
  id: totrans-1587
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Micah Smith +
- en: Michael Marino
  id: totrans-1588
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Marino
- en: Miroslav Šedivý
  id: totrans-1589
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Miroslav Šedivý
- en: Mohammad Jafar Mashhadi
  id: totrans-1590
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mohammad Jafar Mashhadi
- en: Mohammed Kashif +
  id: totrans-1591
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mohammed Kashif +
- en: Nagesh Kumar C +
  id: totrans-1592
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nagesh Kumar C +
- en: Nidhi Zare +
  id: totrans-1593
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nidhi Zare +
- en: Nikhil Choudhary +
  id: totrans-1594
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nikhil Choudhary +
- en: Number42
  id: totrans-1595
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Number42
- en: Oleh Kozynets +
  id: totrans-1596
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Oleh Kozynets +
- en: OlivierLuG
  id: totrans-1597
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OlivierLuG
- en: Pandas Development Team
  id: totrans-1598
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pandas 开发团队
- en: Paolo Lammens +
  id: totrans-1599
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paolo Lammens +
- en: Paul Ganssle
  id: totrans-1600
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul Ganssle
- en: Pax +
  id: totrans-1601
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pax +
- en: Peter Liu +
  id: totrans-1602
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Peter Liu +
- en: Philip Cerles +
  id: totrans-1603
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Philip Cerles +
- en: Pranjal Bhardwaj +
  id: totrans-1604
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pranjal Bhardwaj +
- en: Prayag Savsani +
  id: totrans-1605
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Prayag Savsani +
- en: Purushothaman Srikanth +
  id: totrans-1606
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Purushothaman Srikanth +
- en: Qbiwan +
  id: totrans-1607
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Qbiwan +
- en: Rahul Chauhan +
  id: totrans-1608
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rahul Chauhan +
- en: Rahul Sathanapalli +
  id: totrans-1609
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rahul Sathanapalli +
- en: Rajat Bishnoi +
  id: totrans-1610
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rajat Bishnoi +
- en: Ray Bell
  id: totrans-1611
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ray Bell
- en: Reshama Shaikh +
  id: totrans-1612
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Reshama Shaikh +
- en: Richard Shadrach
  id: totrans-1613
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Richard Shadrach
- en: Robert Bradshaw
  id: totrans-1614
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robert Bradshaw
- en: Robert de Vries
  id: totrans-1615
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robert de Vries
- en: Rohith295
  id: totrans-1616
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rohith295
- en: S Mono +
  id: totrans-1617
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: S Mono +
- en: S.TAKENO +
  id: totrans-1618
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: S.TAKENO +
- en: Sahid Velji +
  id: totrans-1619
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sahid Velji +
- en: Sam Cohen +
  id: totrans-1620
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sam Cohen +
- en: Sam Ezebunandu +
  id: totrans-1621
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sam Ezebunandu +
- en: Sander +
  id: totrans-1622
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sander +
- en: Sarthak +
  id: totrans-1623
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sarthak +
- en: Sarthak Vineet Kumar +
  id: totrans-1624
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sarthak Vineet Kumar +
- en: Satrio H Wicaksono +
  id: totrans-1625
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Satrio H Wicaksono +
- en: Scott Lasley
  id: totrans-1626
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Scott Lasley
- en: Shao Yang Hong +
  id: totrans-1627
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shao Yang Hong +
- en: Sharon Woo +
  id: totrans-1628
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sharon Woo +
- en: Shubham Mehra +
  id: totrans-1629
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shubham Mehra +
- en: Simon Hawkins
  id: totrans-1630
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Simon Hawkins
- en: Sixuan (Cherie) Wu +
  id: totrans-1631
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sixuan (Cherie) Wu +
- en: Souris Ash +
  id: totrans-1632
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Souris Ash +
- en: Steffen Rehberg
  id: totrans-1633
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Steffen Rehberg
- en: Suvayu Ali
  id: totrans-1634
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Suvayu Ali
- en: Sven
  id: totrans-1635
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sven
- en: SylvainLan +
  id: totrans-1636
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SylvainLan +
- en: T. JEGHAM +
  id: totrans-1637
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: T. JEGHAM +
- en: Terji Petersen
  id: totrans-1638
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Terji Petersen
- en: Thomas Dickson +
  id: totrans-1639
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Dickson +
- en: Thomas Heavey +
  id: totrans-1640
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Heavey +
- en: Thomas Smith
  id: totrans-1641
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Smith
- en: Tobias Pitters
  id: totrans-1642
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tobias Pitters
- en: Tom Augspurger
  id: totrans-1643
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tom Augspurger
- en: Tomasz Sakrejda +
  id: totrans-1644
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tomasz Sakrejda +
- en: Torsten Wörtwein +
  id: totrans-1645
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Torsten Wörtwein +
- en: Ty Mick +
  id: totrans-1646
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ty Mick +
- en: UrielMaD +
  id: totrans-1647
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: UrielMaD +
- en: Uwe L. Korn
  id: totrans-1648
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Uwe L. Korn
- en: Vikramaditya Gaonkar +
  id: totrans-1649
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vikramaditya Gaonkar +
- en: VirosaLi +
  id: totrans-1650
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VirosaLi +
- en: W.R +
  id: totrans-1651
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: W.R +
- en: Warren White +
  id: totrans-1652
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Warren White +
- en: Wesley Boelrijk +
  id: totrans-1653
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wesley Boelrijk +
- en: William Ayd
  id: totrans-1654
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: William Ayd
- en: Yanxian Lin +
  id: totrans-1655
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yanxian Lin +
- en: Yassir Karroum +
  id: totrans-1656
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yassir Karroum +
- en: Yong Kai Yi +
  id: totrans-1657
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yong Kai Yi +
- en: Yuanhao Geng +
  id: totrans-1658
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yuanhao Geng +
- en: Yury Mikhaylov +
  id: totrans-1659
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yury Mikhaylov +
- en: Yutaro Ikeda
  id: totrans-1660
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yutaro Ikeda
- en: Yuya Takashina +
  id: totrans-1661
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yuya Takashina +
- en: Zach Brookler +
  id: totrans-1662
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zach Brookler +
- en: Zak Kohler +
  id: totrans-1663
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zak Kohler +
- en: ZhihuiChen0903 +
  id: totrans-1664
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ZhihuiChen0903 +
- en: abmyii
  id: totrans-1665
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: abmyii
- en: alexhtn +
  id: totrans-1666
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: alexhtn +
- en: asharma13524 +
  id: totrans-1667
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: asharma13524 +
- en: attack68
  id: totrans-1668
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: attack68
- en: beanan +
  id: totrans-1669
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: beanan +
- en: chinhwee
  id: totrans-1670
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: chinhwee
- en: cleconte987
  id: totrans-1671
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: cleconte987
- en: danchev +
  id: totrans-1672
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: danchev +
- en: ebardie +
  id: totrans-1673
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ebardie +
- en: edwardkong
  id: totrans-1674
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: edwardkong
- en: elliot rampono +
  id: totrans-1675
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: elliot rampono +
- en: estasney +
  id: totrans-1676
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: estasney +
- en: gabicca
  id: totrans-1677
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gabicca
- en: geetha-rangaswamaiah +
  id: totrans-1678
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: geetha-rangaswamaiah +
- en: gfyoung
  id: totrans-1679
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gfyoung
- en: guru kiran
  id: totrans-1680
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: guru kiran
- en: hardikpnsp +
  id: totrans-1681
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: hardikpnsp +
- en: icanhazcodeplz +
  id: totrans-1682
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: icanhazcodeplz +
- en: ivanovmg +
  id: totrans-1683
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ivanovmg +
- en: jbrockmendel
  id: totrans-1684
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jbrockmendel
- en: jeschwar
  id: totrans-1685
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jeschwar
- en: jnecus
  id: totrans-1686
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jnecus
- en: joooeey +
  id: totrans-1687
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: joooeey +
- en: junk +
  id: totrans-1688
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: junk +
- en: krajatcl +
  id: totrans-1689
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: krajatcl +
- en: lacrosse91 +
  id: totrans-1690
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: lacrosse91 +
- en: leo +
  id: totrans-1691
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: leo +
- en: lpkirwin +
  id: totrans-1692
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: lpkirwin +
- en: lrjball
  id: totrans-1693
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: lrjball
- en: lucasrodes +
  id: totrans-1694
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: lucasrodes +
- en: ma3da +
  id: totrans-1695
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ma3da +
- en: mavismonica +
  id: totrans-1696
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mavismonica +
- en: mlondschien +
  id: totrans-1697
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mlondschien +
- en: mzeitlin11 +
  id: totrans-1698
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mzeitlin11 +
- en: nguevara +
  id: totrans-1699
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: nguevara +
- en: nrebena
  id: totrans-1700
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: nrebena
- en: parkdj1 +
  id: totrans-1701
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: parkdj1 +
- en: partev
  id: totrans-1702
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: partev
- en: patrick
  id: totrans-1703
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: patrick
- en: realead
  id: totrans-1704
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: realead
- en: rxxg +
  id: totrans-1705
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: rxxg +
- en: samilAyoub +
  id: totrans-1706
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: samilAyoub +
- en: sanderland
  id: totrans-1707
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sanderland
- en: shawnbrown
  id: totrans-1708
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: shawnbrown
- en: sm1899 +
  id: totrans-1709
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sm1899 +
- en: smartvinnetou
  id: totrans-1710
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: smartvinnetou
- en: ssortman +
  id: totrans-1711
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ssortman +
- en: steveya +
  id: totrans-1712
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: steveya +
- en: taytzehao +
  id: totrans-1713
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: taytzehao +
- en: tiagohonorato +
  id: totrans-1714
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tiagohonorato +
- en: timhunderwood
  id: totrans-1715
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: timhunderwood
- en: tkmz-n +
  id: totrans-1716
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tkmz-n +
- en: tnwei +
  id: totrans-1717
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tnwei +
- en: tpanza +
  id: totrans-1718
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tpanza +
- en: vineethraj510 +
  id: totrans-1719
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: vineethraj510 +
- en: vmdhhh +
  id: totrans-1720
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: vmdhhh +
- en: xinrong-databricks +
  id: totrans-1721
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: xinrong-databricks +
- en: yonas kassa +
  id: totrans-1722
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: yonas kassa +
- en: yonashub +
  id: totrans-1723
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: yonashub +
- en: Ádám Lippai +
  id: totrans-1724
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ádám Lippai +
