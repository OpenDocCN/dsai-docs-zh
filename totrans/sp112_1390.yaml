- en: Cross compilation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://docs.scipy.org/doc/scipy-1.12.0/building/cross_compilation.html](https://docs.scipy.org/doc/scipy-1.12.0/building/cross_compilation.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Cross compilation is a complex topic, we only add some hopefully helpful hints
    here (for now). As of May 2023, cross-compilation based on `crossenv` is known
    to work, as used (for example) in conda-forge. Cross-compilation without `crossenv`
    requires some manual overrides. You instruct these overrides by passing options
    to `meson setup` via [meson-python](https://meson-python.readthedocs.io/en/latest/how-to-guides/meson-args.html).
  prefs: []
  type: TYPE_NORMAL
- en: 'All distributions that are known to successfully cross compile SciPy are using
    `python -m build` (`pypa/build`), but using `pip` for that should be possible
    as well. Here are links to the SciPy’s “build recipes” on those distros:'
  prefs: []
  type: TYPE_NORMAL
- en: '[Void Linux](https://github.com/void-linux/void-packages/blob/master/srcpkgs/python3-scipy/template)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Nix](https://github.com/nixos/nixpkgs/blob/master/pkgs/development/python-modules/scipy/default.nix)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Conda-forge](https://github.com/conda-forge/scipy-feedstock/blob/main/recipe/build.sh)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: See also [Meson’s documentation on cross compilation](https://mesonbuild.com/Cross-compilation.html)
    to learn what options you may need to pass to Meson to successfully cross compile.
  prefs: []
  type: TYPE_NORMAL
- en: 'One common hiccup is that `numpy` and `pythran` require running Python code
    in order to obtain their include directories. This tends to not work well, either
    accidentally picking up the packages from the build (native) Python rather than
    the host (cross) Python or requiring `crossenv` or QEMU to run the host Python.
    To avoid this problem, specify the paths to the relevant directories in your *cross
    file*:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'For more details and the current status around cross compilation, see:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Tracking issue for SciPy cross-compilation needs and issues: [scipy#14812](https://github.com/scipy/scipy/issues/14812)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The state of cross compilation in Python: [pypackaging-native key issue page](https://pypackaging-native.github.io/key-issues/cross_compilation/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
