- en: pandas maintenance
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: pandas 维护
- en: 原文：[https://pandas.pydata.org/docs/development/maintaining.html](https://pandas.pydata.org/docs/development/maintaining.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://pandas.pydata.org/docs/development/maintaining.html](https://pandas.pydata.org/docs/development/maintaining.html)
- en: This guide is for pandas’ maintainers. It may also be interesting to contributors
    looking to understand the pandas development process and what steps are necessary
    to become a maintainer.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本指南适用于 pandas 的维护者。对于希望了解 pandas 开发流程以及成为维护者所需步骤的贡献者也可能感兴趣。
- en: The main contributing guide is available at [Contributing to pandas](contributing.html#contributing).
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 主要的贡献指南可在[贡献给 pandas](contributing.html#contributing)找到。
- en: Roles
  id: totrans-4
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 角色
- en: 'pandas uses two levels of permissions: **triage** and **core** team members.'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 使用两个级别的权限：**分类** 和 **核心** 团队成员。
- en: Triage members can label and close issues and pull requests.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 分类成员可以标记和关闭问题和拉取请求。
- en: Core team members can label and close issues and pull request, and can merge
    pull requests.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 核心团队成员可以标记和关闭问题和拉取请求，并且可以合并拉取请求。
- en: GitHub publishes the full [list of permissions](https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/repository-roles-for-an-organization).
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: GitHub 发布了完整的[权限列表](https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/repository-roles-for-an-organization)。
- en: Tasks
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 任务
- en: pandas is largely a volunteer project, so these tasks shouldn’t be read as “expectations”
    of triage and maintainers. Rather, they’re general descriptions of what it means
    to be a maintainer.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 主要是一个志愿者项目，因此这些任务不应被视为分类和维护者的“期望”。相反，它们是对成为维护者意味着什么的一般描述。
- en: Triage newly filed issues (see [Issue triage](#maintaining-triage))
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对新提交的问题进行分类（参见[问题分类](#maintaining-triage)）
- en: Review newly opened pull requests
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查看新提交的拉取请求
- en: Respond to updates on existing issues and pull requests
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 回应现有问题和拉取请求���更新
- en: Drive discussion and decisions on stalled issues and pull requests
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 推动对停滞的问题和拉取请求的讨论和决策
- en: Provide experience / wisdom on API design questions to ensure consistency and
    maintainability
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提供关于 API 设计问题的经验/智慧，以确保一致性和可维护性
- en: Project organization (run / attend developer meetings, represent pandas)
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 项目组织（运行/参加开发者会议，代表 pandas）
- en: '[https://matthewrocklin.com/blog/2019/05/18/maintainer](https://matthewrocklin.com/blog/2019/05/18/maintainer)
    may be interesting background reading.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://matthewrocklin.com/blog/2019/05/18/maintainer](https://matthewrocklin.com/blog/2019/05/18/maintainer)
    可能是有趣的背景阅读。'
- en: '## Issue triage'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '## 问题分类'
- en: Triage is an important first step in addressing issues reported by the community,
    and even partial contributions are a great way to help maintain pandas. Only remove
    the “Needs Triage” tag once all of the steps below have been completed.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 对社区报告的问题进行分类是解决问题的重要第一步，即使是部分贡献也是帮助维护 pandas 的好方法。只有在完成以下所有步骤后才能删除“需要分类”标签。
- en: Here’s a typical workflow for triaging a newly opened issue.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个处理新开立问题的典型工作流程。
- en: '**Thank the reporter for opening an issue**'
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**感谢报告者提出问题**'
- en: The issue tracker is many people’s first interaction with the pandas project
    itself, beyond just using the library. As such, we want it to be a welcoming,
    pleasant experience.
  id: totrans-22
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 问题跟踪器是许多人与 pandas 项目本身的第一次互动，不仅仅是使用库。因此，我们希望它是一个友好、愉快的体验。
- en: '**Is the necessary information provided?**'
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**是否提供了必要信息？**'
- en: Ideally reporters would fill out the issue template, but many don’t. If crucial
    information (like the version of pandas they used), is missing feel free to ask
    for that and label the issue with “Needs info”. The report should follow the guidelines
    in [Bug reports and enhancement requests](contributing.html#contributing-bug-reports).
    You may want to link to that if they didn’t follow the template.
  id: totrans-24
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 理想情况下，报告者会填写问题模板，但许多人没有这样做。如果关键信息（如他们使用的 pandas 版本）缺失，请随时要求并将问题标记为“需要信息”。报告应遵循[错误报告和增强请求](contributing.html#contributing-bug-reports)中的准则。如果他们没有遵循模板，您可能需要提供链接。
- en: Make sure that the title accurately reflects the issue. Edit it yourself if
    it’s not clear.
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 确保标题准确反映问题。如果不清楚，请自行编辑。
- en: '**Is this a duplicate issue?**'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**这是一个重复的问题吗？**'
- en: We have many open issues. If a new issue is clearly a duplicate, label the new
    issue as “Duplicate” and close the issue with a link to the original issue. Make
    sure to still thank the reporter, and encourage them to chime in on the original
    issue, and perhaps try to fix it.
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们有许多未解决的问题。如果新问题明显是重复的，请将新问题标记为“重复”并关闭该问题，并附上指向原始问题的链接。请确保仍然感谢报告者，并鼓励他们参与原始问题，并尝试修复它。
- en: If the new issue provides relevant information, such as a better or slightly
    different example, add it to the original issue as a comment or an edit to the
    original post.
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果新问题提供了相关信息，例如更好或略有不同的示例，请将其作为评论或对原始帖子的编辑添加到原始问题中。
- en: '**Is the issue minimal and reproducible**?'
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**问题是否最小化且可重现**？'
- en: For bug reports, we ask that the reporter provide a minimal reproducible example.
    See [https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports)
    for a good explanation. If the example is not reproducible, or if it’s *clearly*
    not minimal, feel free to ask the reporter if they can provide and example or
    simplify the provided one. Do acknowledge that writing minimal reproducible examples
    is hard work. If the reporter is struggling, you can try to write one yourself
    and we’ll edit the original post to include it.
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于 bug 报告，我们要求报告者提供一个最小可重现示例。参见[https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports)以获取良好的解释。如果示例无法重现，或者显然不是最小的，请随时询问报告者是否可以提供示例或简化提供的示例。请承认编写最小可重现示例是一项艰苦的工作。如果报告者遇到困难，您可以尝试自己编写一个，然后我们将编辑原始帖子以包含它。
- en: If a reproducible example can’t be provided, add the “Needs info” label.
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果无法提供可重现的示例，请添加“需要信息”标签。
- en: If a reproducible example is provided, but you see a simplification, edit the
    original post with your simpler reproducible example.
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果提供了可重现的示例，但你看到了一个简化，那么请编辑原始帖子，使用你更简单的可重现示例。
- en: Ensure the issue exists on the main branch and that it has the “Needs Triage”
    tag until all steps have been completed. Add a comment to the issue once you have
    verified it exists on the main branch, so others know it has been confirmed.
  id: totrans-33
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 确保问题存在于主分支上，并且具有“需要分类”标签，直到所有步骤完成。一旦验证问题存在于主分支上，请在问题上添加评论，以便其他人知道已经确认。
- en: '**Is this a clearly defined feature request?**'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**这是一个明确定义的功能请求吗？**'
- en: Generally, pandas prefers to discuss and design new features in issues, before
    a pull request is made. Encourage the submitter to include a proposed API for
    the new feature. Having them write a full docstring is a good way to pin down
    specifics.
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 一般来说，pandas 更喜欢在问题中讨论和设计新功能，然后再提交拉取请求。鼓励提交者包含新功能的建议 API。让他们编写完整的文档字符串是确定具体细节的好方法。
- en: Tag new feature requests with “Needs Discussion”, as we’ll need a discussion
    from several pandas maintainers before deciding whether the proposal is in scope
    for pandas.
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用“需要讨论”标记标记新功能请求，因为我们需要几位 pandas 维护者的讨论，然后才能决定该提议是否适用于 pandas。
- en: '**Is this a usage question?**'
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**这是一个使用问题吗？**'
- en: We prefer that usage questions are asked on StackOverflow with the pandas tag.
    [https://stackoverflow.com/questions/tagged/pandas](https://stackoverflow.com/questions/tagged/pandas)
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们更喜欢使用问题在 StackOverflow 上提问，并使用 pandas 标签。[https://stackoverflow.com/questions/tagged/pandas](https://stackoverflow.com/questions/tagged/pandas)
- en: If it’s easy to answer, feel free to link to the relevant documentation section,
    let them know that in the future this kind of question should be on StackOverflow,
    and close the issue.
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果很容易回答，请随时链接到相关文档部分，让他们知道将来这种问题应该在 StackOverflow 上提出，并关闭问题。
- en: '**What labels and milestones should I add?**'
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**我应该添加哪些标签和里程碑？**'
- en: Apply the relevant labels. This is a bit of an art, and comes with experience.
    Look at similar issues to get a feel for how things are labeled.
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 应用相关的标签。这有点艺术，需要经验。查看类似问题以了解如何标记事物的感觉。
- en: If the issue is clearly defined and the fix seems relatively straightforward,
    label the issue as “Good first issue”.
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果问题明确定义且修复似乎相对简单，请将问题标记为“好的首次问题”。
- en: 'Once you have completed the above, make sure to remove the “needs triage” label.  ##
    Investigating regressions'
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '完成上述步骤后，请确保删除“需要分类”标签。  ## 调查回归'
- en: Regressions are bugs that unintentionally break previously working code. The
    common way to investigate regressions is by using [git bisect](https://git-scm.com/docs/git-bisect),
    which finds the first commit that introduced the bug.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 回归是无意中破坏先前正常工��代码的错误。调查回归的常见方法是使用[git bisect](https://git-scm.com/docs/git-bisect)，该方法找到引入错误的第一个提交。
- en: 'For example: a user reports that `pd.Series([1, 1]).sum()` returns `3` in pandas
    version `1.5.0` while in version `1.4.0` it returned `2`. To begin, create a file
    `t.py` in your pandas directory, which contains'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 例如：用户报告说`pd.Series([1, 1]).sum()`在 pandas 版本`1.5.0`中返回`3`，而在版本`1.4.0`中返回`2`。首先，在你的
    pandas 目录中创建一个名为`t.py`的文件，其中包含
- en: '[PRE0]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'and then run:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 然后运行：
- en: '[PRE1]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: This finds the first commit that changed the behavior. The C extensions have
    to be rebuilt at every step, so the search can take a while.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 这找到了更改行为的第一个提交。每一步都必须重新构建 C 扩展，因此搜索可能需要一段时间。
- en: 'Exit bisect and rebuild the current version:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 退出 bisect 并重新构建当前版本：
- en: '[PRE2]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Report your findings under the corresponding issue and ping the commit author
    to get their input.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 在相应问题下报告您的发现，并通知提交者以获取他们的意见。
- en: Note
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'In the `bisect run` command above, commits are considered good if `t.py` exits
    with `0` and bad otherwise. When raising an exception is the desired behavior,
    wrap the code in an appropriate `try/except` statement. See [GH 35685](https://github.com/pandas-dev/pandas/issues/35685)
    for more examples.  ## Closing issues'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '在上面的`bisect run`命令中，如果`t.py`以`0`退出，则将提交视为良好，否则视为有问题。当引发异常是期望的行为时，请使用适当的`try/except`语句包装代码。更多示例请参见[GH
    35685](https://github.com/pandas-dev/pandas/issues/35685)。  ## 关闭问题'
- en: 'Be delicate here: many people interpret closing an issue as us saying that
    the conversation is over. It’s typically best to give the reporter some time to
    respond or self-close their issue if it’s determined that the behavior is not
    a bug, or the feature is out of scope. Sometimes reporters just go away though,
    and we’ll close the issue after the conversation has died. If you think an issue
    should be closed but are not completely sure, please apply the “closing candidate”
    label and wait for other maintainers to take a look.  ## Reviewing pull requests'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '在这里要谨慎：许多人认为关闭问题意味着我们认为对话已经结束。通常最好给报告者一些时间来回应或自行关闭他们的问题，如果确定该行为不是 bug，或者该功能不在范围内。有时候报告者就此消失了，我们会在对话结束后关闭问题。如果您认为问题应该关闭但不完全确定，请应用“关闭候选”标签，并等待其他维护者查看。  ##
    审查拉取请求'
- en: 'Anybody can review a pull request: regular contributors, triagers, or core-team
    members. But only core-team members can merge pull requests when they’re ready.'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 任何人都可以审查拉取请求：常规贡献者、分类者或核心团队成员。但只有核心团队成员可以在拉取请求准备就绪时合并拉取请求。
- en: Here are some things to check when reviewing a pull request.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 在审查拉取请求时，请检查以下内容。
- en: 'Tests should be in a sensible location: in the same file as closely related
    tests.'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试应该放在一个明智的位置：在与密切相关的测试相同的文件中。
- en: New public APIs should be included somewhere in `doc/source/reference/`.
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新的公共 API 应该包含在 `doc/source/reference/` 的某处。
- en: New / changed API should use the `versionadded` or `versionchanged` directives
    in the docstring.
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新/更改的 API 应在文档字符串中使用 `versionadded` 或 `versionchanged` 指令。
- en: User-facing changes should have a whatsnew in the appropriate file.
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户可见的更改应该在适当的文件中有一个 whatsnew。
- en: Regression tests should reference the original GitHub issue number like `# GH-1234`.
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 回归测试应该引用原始 GitHub 问题编号，如 `# GH-1234`。
- en: The pull request should be labeled and assigned the appropriate milestone (the
    next patch release for regression fixes and small bug fixes, the next minor milestone
    otherwise)
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 拉取请求应该被标记并分配适当的里程碑（下一个补丁发布用于回归修复和小 bug 修复，否则下一个次要里程碑）
- en: 'Changes should comply with our [Version policy](policies.html#policies-version).  ##
    Backporting'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '更改应符合我们的[版本政策](policies.html#policies-version)。  ## 回溯'
- en: 'pandas supports point releases (e.g. `1.4.3`) that aim to:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 支持点发布（例如 `1.4.3`）的目标是：
- en: Fix bugs in new features introduced in the first minor version release.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在第一个次要版本发布中引入的新功能中修复错误。
- en: e.g. If a new feature was added in `1.4` and contains a bug, a fix can be applied
    in `1.4.3`
  id: totrans-67
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，如果一个新功能在`1.4`中添加并包含一个错误，修复可以在`1.4.3`中应用。
- en: Fix bugs that used to work in a few minor releases prior. There should be agreement
    between core team members that a backport is appropriate.
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复以前在几个次要版本中工作的错误。核心团队成员之间应该达成一致意见，认为回溯是合适的。
- en: e.g. If a feature worked in `1.2` and stopped working since `1.3`, a fix can
    be applied in `1.4.3`.
  id: totrans-69
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，如果一个功能在`1.2`版本中工作，在`1.3`版本后停止工作，修复可以在`1.4.3`中应用。
- en: Since pandas minor releases are based on GitHub branches (e.g. point release
    of `1.4` are based off the `1.4.x` branch), “backporting” means merging a pull
    request fix to the `main` branch and correct minor branch associated with the
    next point release.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 pandas 的次要版本发布是基于 GitHub 分支的（例如 `1.4` 的点版本是基于 `1.4.x` 分支的），“回溯”意味着将拉取请求修复合并到
    `main` 分支和下一个点发布的关联的正确的次要分支。
- en: By default, if a pull request is assigned to the next point release milestone
    within the GitHub interface, the backporting process should happen automatically
    by the `@meeseeksdev` bot once the pull request is merged. A new pull request
    will be made backporting the pull request to the correct version branch. Sometimes
    due to merge conflicts, a manual pull request will need to be made addressing
    the code conflict.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，如果一个拉取请求被分配到下一个点发布里程碑，在 GitHub 界面内，一旦拉取请求被合并，`@meeseeksdev` 机器人应该自动进行回溯处理。将会创建一个新的拉取请求将拉取请求回溯到正确的版本分支。有时由于合并冲突，需要手动创建拉取请求来解决代码冲突。
- en: 'If the bot does not automatically start the backporting process, you can also
    write a GitHub comment in the merged pull request to trigger the backport:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 如果机器人没有自动开始回溯过程，您也可以在合并的拉取请求中写一个 GitHub 评论来触发回溯：
- en: '[PRE3]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: This will trigger a workflow which will backport a given change to a branch
    (e.g. @meeseeksdev backport 1.4.x)
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 这将触发一个工作流程，将给定的更改回溯到一个分支（例如 @meeseeksdev backport 1.4.x）
- en: Cleaning up old issues
  id: totrans-75
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 清理旧问题
- en: Every open issue in pandas has a cost. Open issues make finding duplicates harder,
    and can make it harder to know what needs to be done in pandas. That said, closing
    issues isn’t a goal on its own. Our goal is to make pandas the best it can be,
    and that’s best done by ensuring that the quality of our open issues is high.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 每个在 pandas 中的开放问题都有成本。开放的问题使得查找重复更加困难，并且可能会使得在 pandas 中需要做什么更加困难。也就是说，关闭问题不是一个独立的目标。我们的目标是使
    pandas 尽可能完美，而这最好是通过确保我们的开放问题的质量是高的。
- en: Occasionally, bugs are fixed but the issue isn’t linked to in the Pull Request.
    In these cases, comment that “This has been fixed, but could use a test.” and
    label the issue as “Good First Issue” and “Needs Test”.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 偶尔，错误被修复了，但问题没有在拉取请求中链接。在这些情况下，评论“已修复，但可能需要测试。”并将问题标记为“好的第一个问题”和“需要测试”。
- en: If an older issue doesn’t follow our issue template, edit the original post
    to include a minimal example, the actual output, and the expected output. Uniformity
    in issue reports is valuable.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个较旧的问题没有遵循我们的问题模板，请编辑原始帖子以包含一个最小的示例，实际输出和期望输出。问题报告的统一性是有价值的。
- en: If an older issue lacks a reproducible example, label it as “Needs Info” and
    ask them to provide one (or write one yourself if possible). If one isn’t provide
    reasonably soon, close it according to the policies in [Closing issues](#maintaining-closing).
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个较旧的问题缺乏可重现的示例，请将其标记为“需要信息”并要求提供一个（如果可能的话，自己编写一个）。如果不久提供了一个合理的，关闭它符合[关闭问题](#maintaining-closing)中的政策。
- en: Cleaning up old pull requests
  id: totrans-80
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 清理旧的拉取请求
- en: 'Occasionally, contributors are unable to finish off a pull request. If some
    time has passed (two weeks, say) since the last review requesting changes, gently
    ask if they’re still interested in working on this. If another two weeks or so
    passes with no response, thank them for their work and then either:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 偶尔，贡献者无法完成拉取请求。如果已经过去一段时间（比如说两周）自上次审查要求更改以来，温柔地询问他们是否仍然有兴趣继续进行。如果又过了大约两周没有回应，感谢他们的工作，然后要么：
- en: close the pull request;
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关闭拉取请求；
- en: push to the contributor’s branch to push their work over the finish line (if
    you’re part of `pandas-core`). This can be helpful for pushing an important PR
    across the line, or for fixing a small merge conflict.
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将工作推送到贡献者的分支以完成工作（如果你是`pandas-core`的一部分）。这对于推动重要的 PR 完成，或者解决小的合并冲突非常有帮助。
- en: 'If closing the pull request, then please comment on the original issue that
    “There’s a stalled PR at #1234 that may be helpful.”, and perhaps label the issue
    as “Good first issue” if the PR was relatively close to being accepted.'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '如果关闭拉取请求，请在原始问题上评论“在 #1234 上有一个搁置的 PR，可能会有帮助。”，并且如果 PR 相对接近被接受，则可能会标记问题为“好的第一个问题”。'
- en: Becoming a pandas maintainer
  id: totrans-85
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 成为一个pandas的维护者
- en: The full process is outlined in our [governance documents](https://github.com/pandas-dev/pandas/blob/main/web/pandas/about/governance.md).
    In summary, we’re happy to give triage permissions to anyone who shows interest
    by being helpful on the issue tracker.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 完整的流程概述在我们的[治理文件](https://github.com/pandas-dev/pandas/blob/main/web/pandas/about/governance.md)中。简而言之，我们很乐意向在问题跟踪器上提供帮助的任何人提供分类权限。
- en: 'The required steps for adding a maintainer are:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 添加维护者的必需步骤是：
- en: Contact the contributor and ask their interest to join.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 联系贡献者并询问他们是否有兴趣加入。
- en: Add the contributor to the appropriate [GitHub Team](https://github.com/orgs/pandas-dev/teams)
    if accepted the invitation.
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果接受邀请，请将贡献者添加到适当的[GitHub团队](https://github.com/orgs/pandas-dev/teams)中。
- en: '`pandas-core` is for core team members'
  id: totrans-90
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas-core` 是为核心团队成员设计的'
- en: ''
  id: totrans-91
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-92
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '`pandas-triage` is for pandas triage members'
  id: totrans-93
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas-triage` 是为 pandas 三审成员设计的'
- en: 'If adding to `pandas-core`, there are two additional steps:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 如果要添加到 `pandas-core`，还有两个额外步骤：
- en: Add the contributor to the pandas Google group.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将贡献者添加到 pandas Google 群组。
- en: Create a pull request to add the contributor’s GitHub handle to `pandas-dev/pandas/web/pandas/config.yml`.
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个拉取请求，将贡献者的 GitHub 句柄添加到 `pandas-dev/pandas/web/pandas/config.yml`。
- en: The current list of core-team members is at [pandas-dev/pandas](https://github.com/pandas-dev/pandas/blob/main/web/pandas/config.yml)
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 当前核心团队成员名单在 [pandas-dev/pandas](https://github.com/pandas-dev/pandas/blob/main/web/pandas/config.yml)
- en: '## Merging pull requests'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '## 合并拉取请求'
- en: Only core team members can merge pull requests. We have a few guidelines.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 只有核心团队成员可以合并拉取请求。我们有一些准则。
- en: You should typically not self-merge your own pull requests without approval.
    Exceptions include things like small changes to fix CI (e.g. pinning a package
    version). Self-merging with approval from other core team members is fine if the
    change is something you’re very confident about.
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通常不应自行合并自己的拉取请求，除非经过批准。例外情况包括修复 CI 的小更改（例如固定软件包版本）。如果其他核心团队成员批准了自行合并的更改，那么这样做是可以的，前提是您对更改非常有信心。
- en: You should not merge pull requests that have an active discussion, or pull requests
    that has any `-1` votes from a core maintainer. pandas operates by consensus.
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不应合并正在讨论中的拉取请求，或者有任何核心维护者给出 `-1` 投票的拉取请求。pandas 通过共识运作。
- en: For larger changes, it’s good to have a +1 from at least two core team members.
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于较大的更改，最好至少有两名核心团队成员的 +1。
- en: In addition to the items listed in [Closing issues](#maintaining-closing), you
    should verify that the pull request is assigned the correct milestone.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 除了 [关闭问题](#maintaining-closing) 中列出的��目外，您还应验证拉取请求是否分配了正确的里程碑。
- en: 'Pull requests merged with a patch-release milestone will typically be backported
    by our bot. Verify that the bot noticed the merge (it will leave a comment within
    a minute typically). If a manual backport is needed please do that, and remove
    the “Needs backport” label once you’ve done it manually. If you forget to assign
    a milestone before tagging, you can request the bot to backport it with:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 通常会通过我们的机器人将具有补丁发布里程碑的合并的拉取请求回溯。请验证机器人是否注意到了合并（通常会在一分钟内留下评论）。如果需要手动回溯，请执行此操作，并在手动完成后删除“需要回溯”标签。如果在标记之前忘记分配里程碑，您可以请求机器人回溯它：
- en: '[PRE4]  ## Benchmark machine'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE4]  ## 基准机器'
- en: The team currently owns dedicated hardware for hosting a website for pandas’
    ASV performance benchmark. The results are published to [https://asv-runner.github.io/asv-collection/pandas/](https://asv-runner.github.io/asv-collection/pandas/)
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 团队目前拥有专用硬件用于托管 pandas 的 ASV 性能基准网站。结果发布到 [https://asv-runner.github.io/asv-collection/pandas/](https://asv-runner.github.io/asv-collection/pandas/)
- en: Configuration
  id: totrans-107
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 配置
- en: The machine can be configured with the [Ansible](http://docs.ansible.com/ansible/latest/index.html)
    playbook in [tomaugspurger/asv-runner](https://github.com/tomaugspurger/asv-runner).
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 机器可以使用 [Ansible](http://docs.ansible.com/ansible/latest/index.html) playbook
    在 [tomaugspurger/asv-runner](https://github.com/tomaugspurger/asv-runner) 中进行配置。
- en: Publishing
  id: totrans-109
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 发布
- en: The results are published to another GitHub repository, [tomaugspurger/asv-collection](https://github.com/tomaugspurger/asv-collection).
    Finally, we have a cron job on our docs server to pull from [tomaugspurger/asv-collection](https://github.com/tomaugspurger/asv-collection),
    to serve them from `/speed`. Ask Tom or Joris for access to the webserver.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 结果发布到另一个 GitHub 存储库，[tomaugspurger/asv-collection](https://github.com/tomaugspurger/asv-collection)。最后，我们在文档服务器上有一个
    cron 作业从 [tomaugspurger/asv-collection](https://github.com/tomaugspurger/asv-collection)
    拉取，以从 `/speed` 提供服务。请向 Tom 或 Joris 请求访问 web 服务器。
- en: Debugging
  id: totrans-111
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 调试
- en: The benchmarks are scheduled by Airflow. It has a dashboard for viewing and
    debugging the results. You’ll need to setup an SSH tunnel to view them
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 基准由 Airflow 安排。它有一个仪表板用于查看和调试结果。您需要设置一个 SSH 隧道来查看它们
- en: 'ssh -L 8080:localhost:8080 pandas@panda.likescandy.com  ## Release process'
  id: totrans-113
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 'ssh -L 8080:localhost:8080 pandas@panda.likescandy.com  ## 发布流程'
- en: 'The release process makes a snapshot of pandas (a git commit) available to
    users with a particular version number. After the release the new pandas version
    will be available in the next places:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 发布过程会为用户提供 pandas 的快照（git 提交），并附带特定版本号。发布后，新的 pandas 版本将在以下位置可用：
- en: Git repo with a [new tag](https://github.com/pandas-dev/pandas/tags)
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有 [新标签](https://github.com/pandas-dev/pandas/tags) 的 Git 存储库
- en: Source distribution in a [GitHub release](https://github.com/pandas-dev/pandas/releases)
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[GitHub发布](https://github.com/pandas-dev/pandas/releases)中的源代码分发
- en: Pip packages in the [PyPI](https://pypi.org/project/pandas/)
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[PyPI](https://pypi.org/project/pandas/)中的Pip软件包'
- en: Conda/Mamba packages in [conda-forge](https://anaconda.org/conda-forge/pandas)
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[conda-forge](https://anaconda.org/conda-forge/pandas)中的Conda/Mamba软件包
- en: The process for releasing a new version of pandas is detailed next section.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 发布新版本的pandas的流程在下一节详细说明。
- en: The instructions contain `<version>` which needs to be replaced with the version
    to be released (e.g. `1.5.2`). Also the branch to be released `<branch>`, which
    depends on whether the version being released is the release candidate of a new
    version, or any other version. Release candidates are released from `main`, while
    other versions are released from their branch (e.g. `1.5.x`).
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 说明中包含需要替换为要发布版本的`<version>`（例如`1.5.2`）的部分。还有要发布的分支`<branch>`，这取决于要发布的版本是新版本的发布候选版本还是其他任何版本。发布候选版本从`main`发布，而其他版本从它们的分支发布（例如`1.5.x`）。
- en: Prerequisites
  id: totrans-121
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 先决条件
- en: 'In order to be able to release a new pandas version, the next permissions are
    needed:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 为了能够发布新的pandas版本，需要以下权限：
- en: Merge rights to the [pandas](https://github.com/pandas-dev/pandas/) and [pandas-feedstock](https://github.com/conda-forge/pandas-feedstock/)
    repositories. For the latter, open a PR adding your GitHub username to the conda-forge
    recipe.
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 合并权限到[pandas](https://github.com/pandas-dev/pandas/)和[pandas-feedstock](https://github.com/conda-forge/pandas-feedstock/)存储库。对于后者，打开一个PR，将您的GitHub用户名添加到conda-forge配方中。
- en: Permissions to push to `main` in the pandas repository, to push the new tags.
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许推送到`main`分支的权限在pandas存储库中，以推送新标签。
- en: '[Write permissions to PyPI](https://github.com/conda-forge/pandas-feedstock/pulls).'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[写入权限到PyPI](https://github.com/conda-forge/pandas-feedstock/pulls)。'
- en: Access to our website / documentation server. Share your public key with the
    infrastructure committee to be added to the `authorized_keys` file of the main
    server user.
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问我们的网站/文档服务器。将您的公钥与基础设施委员会共享，以添加到主服务器用户的`authorized_keys`文件中。
- en: Access to the social media accounts, to publish the announcements.
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问社交媒体账户，发布公告。
- en: Pre-release
  id: totrans-128
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 预发布
- en: 'Agree with the core team on the next topics:'
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 与核心团队就下一个主题达成一致：
- en: Release date (major/minor releases happen usually every 6 months, and patch
    releases monthly until x.x.5, just before the next major/minor)
  id: totrans-130
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 发布日期（主要/次要版本通常每6个月发布一次，补丁版本每月发布一次，直到x.x.5，即在下一个主要/次要版本之前）
- en: Blockers (issues and PRs that must be part of the release)
  id: totrans-131
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阻碍因素（必须包含在发布中的问题和PR）
- en: Next version after the one being released
  id: totrans-132
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在发布后的下一个版本
- en: 'Update and clean release notes for the version to be released, including:'
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新和清理要发布版本的发布说明，包括：
- en: Set the final date of the release
  id: totrans-134
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置发布的最终日期
- en: Remove any unused bullet point
  id: totrans-135
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除任何未使用的项目符号
- en: Make sure there are no formatting issues, typos, etc.
  id: totrans-136
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保没有格式问题、拼写错误等。
- en: Make sure the CI is green for the last commit of the branch being released.
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保正在发布的分支的最后提交的CI状态为绿色。
- en: If not a release candidate, make sure all backporting pull requests to the branch
    being released are merged.
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果不是发布候选版本，请确保所有要回溯到正在发布的分支的拉取请求已合并。
- en: 'Create a new issue and milestone for the version after the one being released.
    If the release was a release candidate, we would usually want to create issues
    and milestones for both the next major/minor, and the next patch release. In the
    milestone of a patch release, we add the description `on-merge: backport to <branch>`,
    so tagged PRs are automatically backported to the release branch by our bot.'
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '为正在发布的版本之后的版本创建一个新问题和里程碑。如果发布是一个发布候选版本，通常我们会想要为下一个主要/次要版本和下一个补丁版本创建问题和里程碑。在补丁版本的里程碑中，我们添加描述`on-merge:
    backport to <branch>`，这样标记的PR将由我们的机器人自动回溯到发布分支。'
- en: Change the milestone of all issues and PRs in the milestone being released to
    the next milestone.
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将正在发布的里程碑中的所有问题和PR的里程碑更改为下一个里程碑。
- en: Release
  id: totrans-141
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 发布
- en: 'Create an empty commit and a tag in the last commit of the branch to be released:'
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在要发布分支的最后提交中创建一个空提交和一个标签：
- en: '[PRE5]'
  id: totrans-143
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: The docs for the new version will be built and published automatically with
    the docs job in the CI, which will be triggered when the tag is pushed.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 新版本的文档将通过CI中的文档作业自动构建和发布，当标签被推送时将触发该作业。
- en: 'Only if the release is a release candidate, we want to create a new branch
    for it, immediately after creating the tag. For example, if we are releasing pandas
    1.4.0rc0, we would like to create the branch 1.4.x to backport commits to the
    1.4 versions. As well as create a tag to mark the start of the development of
    1.5.0 (assuming it is the next version):'
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 仅当发布为发布候选版时，我们想要为其创建一个新的分支，即在创建标签后立即。例如，如果我们发布 pandas 1.4.0rc0，则希望创建分支 1.4.x
    来将提交后退到 1.4 版本。以及创建一个标签来标记 1.5.0 的开发开始（假设它是下一个版本）：
- en: '[PRE6]'
  id: totrans-146
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Download the source distribution and wheels from the [wheel staging area](https://anaconda.org/scientific-python-nightly-wheels/pandas).
    Be careful to make sure that no wheels are missing (e.g. due to failed builds).
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 [wheel staging area](https://anaconda.org/scientific-python-nightly-wheels/pandas)
    下载源分发和 wheels。务必确保没有丢失任何 wheels（例如由于构建失败）。
- en: 'Running scripts/download_wheels.sh with the version that you want to download
    wheels/the sdist for should do the trick. This script will make a `dist` folder
    inside your clone of pandas and put the downloaded wheels and sdist there:'
  id: totrans-148
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用你想要下载 wheels/sdist 的版本运行 scripts/download_wheels.sh 应该可以解决问题。这个脚本将在你的 pandas
    克隆中创建一个 `dist` 文件夹，并将下载的 wheels 和 sdist 放在那里：
- en: '[PRE7]'
  id: totrans-149
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Create a [new GitHub release](https://github.com/pandas-dev/pandas/releases/new):'
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个 [新的 GitHub 发布](https://github.com/pandas-dev/pandas/releases/new)：
- en: 'Tag: `<version>`'
  id: totrans-151
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标签：`<version>`
- en: 'Title: `Pandas <version>`'
  id: totrans-152
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标题：`Pandas <version>`
- en: 'Description: Copy the description of the last release of the same kind (release
    candidate, major/minor or patch release)'
  id: totrans-153
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：复制相同类型上次发布的描述（发布候选版、主要/次要或补丁发布）
- en: 'Files: `pandas-<version>.tar.gz` source distribution just generated'
  id: totrans-154
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件：刚生成的 `pandas-<version>.tar.gz` 源分发
- en: 'Set as a pre-release: Only check for a release candidate'
  id: totrans-155
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将设置为预发布：仅检查发布候选版
- en: 'Set as the latest release: Leave checked, unless releasing a patch release
    for an older version (e.g. releasing 1.4.5 after 1.5 has been released)'
  id: totrans-156
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置为最新发布：留选中，除非发布了较旧版本的修补程序发布（例如，在发布了 1.5 之后发布了 1.4.5）
- en: 'Upload wheels to PyPI:'
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 wheels 上传到 PyPI：
- en: '[PRE8]'
  id: totrans-158
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: The GitHub release will after some hours trigger an [automated conda-forge PR](https://github.com/conda-forge/pandas-feedstock/pulls).
    (If you don’t want to wait, you can open an issue titled `@conda-forge-admin,
    please update version` to trigger the bot.) Merge it once the CI is green, and
    it will generate the conda-forge packages.
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: GitHub 发布几个小时后将触发一个 [自动 conda-forge PR](https://github.com/conda-forge/pandas-feedstock/pulls)。（如果你不想等待，可以打开一个标题为
    `@conda-forge-admin，请更新版本` 的问题来触发机器人。）当 CI 变为绿色时合并它，它将生成 conda-forge 软件包。
- en: In case a manual PR needs to be done, the version, sha256 and build fields are
    the ones that usually need to be changed. If anything else in the recipe has changed
    since the last release, those changes should be available in `ci/meta.yaml`.
  id: totrans-160
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果需要手动进行 PR，则通常需要更改版本、sha256 和构建字段。如果自上次发布以来配方中的任何其他内容都发生了变化，则这些更改应该在 `ci/meta.yaml`
    中可用。
- en: Post-Release
  id: totrans-161
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 发布后
- en: 'Update symlinks to stable documentation by logging in to our web server, and
    editing `/var/www/html/pandas-docs/stable` to point to `version/<latest-version>`
    for major and minor releases, or `version/<minor>` to `version/<patch>` for patch
    releases. The exact instructions are (replace the example version numbers by the
    appropriate ones for the version you are releasing):'
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过登录到我们的 Web 服务器，并编辑 `/var/www/html/pandas-docs/stable` 将其指向主要和次要发布的 `version/<latest-version>`，或将
    `version/<minor>` 指向 `version/<patch>` 来更新到稳定文档的符号链接。确切的说明如下（用你发布的版本的适当版本号替换示例版本号）：
- en: Log in to the server and use the correct user.
  id: totrans-163
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 登录到服务器并使用正确的用户。
- en: ''
  id: totrans-164
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-165
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: cd /var/www/html/pandas-docs/
  id: totrans-166
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: cd /var/www/html/pandas-docs/
- en: ''
  id: totrans-167
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-168
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ln -sfn version/2.1 stable (for a major or minor release)
  id: totrans-169
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: ln -sfn version/2.1 stable（用于主要或次要发布）
- en: ''
  id: totrans-170
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-171
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ln -sfn version/2.0.3 version/2.0 (for a patch release)
  id: totrans-172
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: ln -sfn version/2.0.3 version/2.0（用于补丁发布）
- en: If releasing a major or minor release, open a PR in our source code to update
    `web/pandas/versions.json`, to have the desired versions in the documentation
    dropdown menu.
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果发布主要或次要版本，请在我们的源代码中打开一个 PR 来更新 `web/pandas/versions.json`，以在文档下拉菜单中显示所需版本。
- en: Close the milestone and the issue for the released version.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭已发布版本的里程碑和问题。
- en: Create a new issue for the next release, with the estimated date of release.
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为下一次发布创建一个新问题，并提供预计发布日期。
- en: Open a PR with the placeholder for the release notes of the next version. See
    for example [the PR for 1.5.3](https://github.com/pandas-dev/pandas/pull/49843/files).
    Note that the template to use depends on whether it is a major, minor or patch
    release.
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提交一个 PR，用于下一个版本的发布说明占位符。例如，查看[1.5.3 的 PR](https://github.com/pandas-dev/pandas/pull/49843/files)。请注意，要使用的模板取决于是主要版本、次要版本还是补丁版本。
- en: 'Announce the new release in the official channels (use previous announcements
    for reference):'
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在官方渠道宣布新版本发布（使用以前的公告作为参考）：
- en: The pandas-dev and pydata mailing lists
  id: totrans-178
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: pandas-dev 和 pydata 邮件列表
- en: ''
  id: totrans-179
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-180
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Twitter, Mastodon, Telegram and LinkedIn
  id: totrans-181
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 推特、长毛象、电报和领英
- en: Update this release instructions to fix anything incorrect and to update about
    any change since the last release.
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新此版本发布说明以纠正任何不正确的内容，并更新自上次发布以来的任何更改。
- en: Roles
  id: totrans-183
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 角色
- en: 'pandas uses two levels of permissions: **triage** and **core** team members.'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 使用两个级别的权限：**分类**和**核心**团队成员。
- en: Triage members can label and close issues and pull requests.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 分类成员可以为问题和拉取请求打标签并关闭。
- en: Core team members can label and close issues and pull request, and can merge
    pull requests.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 核心团队成员可以为问题和拉取请求打标签和关闭，并可以合并拉取请求。
- en: GitHub publishes the full [list of permissions](https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/repository-roles-for-an-organization).
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: GitHub 发布了完整的[权限列表](https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/repository-roles-for-an-organization)。
- en: Tasks
  id: totrans-188
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 任务
- en: pandas is largely a volunteer project, so these tasks shouldn’t be read as “expectations”
    of triage and maintainers. Rather, they’re general descriptions of what it means
    to be a maintainer.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 在很大程度上是一个志愿者项目，因此这些任务不应被视为分类和维护者的“期望”。相反，它们是对维护者身份的一般描述。
- en: Triage newly filed issues (see [Issue triage](#maintaining-triage))
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对新提交的问题进行分类（参见[问题分类](#maintaining-triage)）
- en: Review newly opened pull requests
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 审查新打开的拉取请求
- en: Respond to updates on existing issues and pull requests
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 回应现有问题和拉取请求的更新
- en: Drive discussion and decisions on stalled issues and pull requests
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 推动讨论和决策停滞的问题和拉取请求
- en: Provide experience / wisdom on API design questions to ensure consistency and
    maintainability
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提供关于 API 设计问题的经验/智慧，以确保一致性和可维护性
- en: Project organization (run / attend developer meetings, represent pandas)
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 项目组织（组织/参加开发者会议，代表 pandas）
- en: '[https://matthewrocklin.com/blog/2019/05/18/maintainer](https://matthewrocklin.com/blog/2019/05/18/maintainer)
    may be interesting background reading.'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://matthewrocklin.com/blog/2019/05/18/maintainer](https://matthewrocklin.com/blog/2019/05/18/maintainer)
    可能是有趣的背景阅读。'
- en: '## Issue triage'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '## 问题分类'
- en: Triage is an important first step in addressing issues reported by the community,
    and even partial contributions are a great way to help maintain pandas. Only remove
    the “Needs Triage” tag once all of the steps below have been completed.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 问题分类是解决社区报告的问题的重要第一步，即使是部分贡献也是帮助维护 pandas 的好方法。只有在完成以下所有步骤后才能删除“需要分类”标签。
- en: Here’s a typical workflow for triaging a newly opened issue.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是对新打开问题进行分类的典型工作流程。
- en: '**Thank the reporter for opening an issue**'
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**感谢报告人提出问题**'
- en: The issue tracker is many people’s first interaction with the pandas project
    itself, beyond just using the library. As such, we want it to be a welcoming,
    pleasant experience.
  id: totrans-201
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 问题跟踪器是许多人与 pandas 项目本身的第一次互动，不仅仅是使用库。因此，我们希望它是一个友好、愉快的体验。
- en: '**Is the necessary information provided?**'
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**提供了必要的信息吗？**'
- en: Ideally reporters would fill out the issue template, but many don’t. If crucial
    information (like the version of pandas they used), is missing feel free to ask
    for that and label the issue with “Needs info”. The report should follow the guidelines
    in [Bug reports and enhancement requests](contributing.html#contributing-bug-reports).
    You may want to link to that if they didn’t follow the template.
  id: totrans-203
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 理想情况下，报告人会填写问题模板，但很多人没有这样做。如果关键信息（如他们使用的 pandas 版本）缺失，请随时要求并为问题打上“需要信息”标签。报告应遵循[错误报告和增强请求](contributing.html#contributing-bug-reports)中的准则。如果他们没有遵循模板，您可能需要链接到该页面。
- en: Make sure that the title accurately reflects the issue. Edit it yourself if
    it’s not clear.
  id: totrans-204
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 确保标题准确反映问题。如果不清楚，自行编辑。
- en: '**Is this a duplicate issue?**'
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**这是一个重复的问题吗？**'
- en: We have many open issues. If a new issue is clearly a duplicate, label the new
    issue as “Duplicate” and close the issue with a link to the original issue. Make
    sure to still thank the reporter, and encourage them to chime in on the original
    issue, and perhaps try to fix it.
  id: totrans-206
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们有许多未解决的问题。如果新问题明显是重复的，请将新问题标记为“重复”，并关闭问题并附上指向原始问题的链接。确保仍然要感谢报告者，并鼓励他们参与到原始问题中，并可能尝试解决它。
- en: If the new issue provides relevant information, such as a better or slightly
    different example, add it to the original issue as a comment or an edit to the
    original post.
  id: totrans-207
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果新问题提供了相关信息，例如更好或略有不同的示例，请将其作为评论或对原始帖子的编辑添加到原始问题中。
- en: '**Is the issue minimal and reproducible**?'
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**问题是最小且可重现的吗**？'
- en: For bug reports, we ask that the reporter provide a minimal reproducible example.
    See [https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports)
    for a good explanation. If the example is not reproducible, or if it’s *clearly*
    not minimal, feel free to ask the reporter if they can provide and example or
    simplify the provided one. Do acknowledge that writing minimal reproducible examples
    is hard work. If the reporter is struggling, you can try to write one yourself
    and we’ll edit the original post to include it.
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于 bug 报告，我们要求报告者提供一个最小可重现的示例。查看 [https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports)
    以获得很好的解释。如果示例不可重现，或者明显不是最小的，请随时询问报告者是否可以提供示例或简化所提供的示例。确实承认编写最小可重现示例是一项艰苦的工作。如果报告者遇到困难，您可以尝试自己编写一个，然后我们将编辑原始帖子以包含它。
- en: If a reproducible example can’t be provided, add the “Needs info” label.
  id: totrans-210
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果无法提供可重现的示例，请添加“需要信息”标签。
- en: If a reproducible example is provided, but you see a simplification, edit the
    original post with your simpler reproducible example.
  id: totrans-211
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果提供了可重现的示例，但您看到了简化，则使用您的简化可重现示例编辑原始帖子。
- en: Ensure the issue exists on the main branch and that it has the “Needs Triage”
    tag until all steps have been completed. Add a comment to the issue once you have
    verified it exists on the main branch, so others know it has been confirmed.
  id: totrans-212
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 确保问题存在于主分支上，并且它有“需要分类”标签，直到所有步骤都完成为止。确认问题存在于主分支后，在问题上添加评论，让其他人知道已经确认过。
- en: '**Is this a clearly defined feature request?**'
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**这是一个明确定义的功能请求吗？**'
- en: Generally, pandas prefers to discuss and design new features in issues, before
    a pull request is made. Encourage the submitter to include a proposed API for
    the new feature. Having them write a full docstring is a good way to pin down
    specifics.
  id: totrans-214
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 一般来说，pandas 更喜欢在拉取请求之前在问题中讨论和设计新功能。鼓励提交者包含新功能的建议 API。让他们编写完整的文档字符串是确定具体细节的好方法。
- en: Tag new feature requests with “Needs Discussion”, as we’ll need a discussion
    from several pandas maintainers before deciding whether the proposal is in scope
    for pandas.
  id: totrans-215
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将新功能请求标记为“需要讨论”，因为我们需要几个 pandas 维护者的讨论，然后才能决定该提议是否符合 pandas 的范围。
- en: '**Is this a usage question?**'
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**这是一个使用问题吗？**'
- en: We prefer that usage questions are asked on StackOverflow with the pandas tag.
    [https://stackoverflow.com/questions/tagged/pandas](https://stackoverflow.com/questions/tagged/pandas)
  id: totrans-217
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们更喜欢使用问题在 StackOverflow 上提出使用问题，并使用 pandas 标签。[https://stackoverflow.com/questions/tagged/pandas](https://stackoverflow.com/questions/tagged/pandas)
- en: If it’s easy to answer, feel free to link to the relevant documentation section,
    let them know that in the future this kind of question should be on StackOverflow,
    and close the issue.
  id: totrans-218
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果很容易回答，请随意链接到相关文档部分，并告诉他们今后这种问题应该在 StackOverflow 上提问，并关闭问题。
- en: '**What labels and milestones should I add?**'
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**我应该添加哪些标签和里程碑？**'
- en: Apply the relevant labels. This is a bit of an art, and comes with experience.
    Look at similar issues to get a feel for how things are labeled.
  id: totrans-220
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 应用相关的标签。这有点艺术性，并且随着经验而来。查看类似的问题以了解如何标记事物的感觉。
- en: If the issue is clearly defined and the fix seems relatively straightforward,
    label the issue as “Good first issue”.
  id: totrans-221
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果问题明确定义，并且修复似乎相对简单，请将问题标记为“好的第一个问题”。
- en: Once you have completed the above, make sure to remove the “needs triage” label.
  id: totrans-222
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 完成上述步骤后，请确保删除“需要分类”标签。
- en: '## Investigating regressions'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '## 调查回归'
- en: Regressions are bugs that unintentionally break previously working code. The
    common way to investigate regressions is by using [git bisect](https://git-scm.com/docs/git-bisect),
    which finds the first commit that introduced the bug.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 回归是无意中破坏以前正常工作代码的 bug。调查回归的常见方法是使用 [git bisect](https://git-scm.com/docs/git-bisect)，它可以找到引入
    bug 的第一个提交。
- en: 'For example: a user reports that `pd.Series([1, 1]).sum()` returns `3` in pandas
    version `1.5.0` while in version `1.4.0` it returned `2`. To begin, create a file
    `t.py` in your pandas directory, which contains'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 例如：一个用户报告说 `pd.Series([1, 1]).sum()` 在 pandas 版本 `1.5.0` 中返回 `3`，而在版本 `1.4.0`
    中返回 `2`。首先，在您的 pandas 目录中创建一个名为 `t.py` 的文件，其中包含
- en: '[PRE9]'
  id: totrans-226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'and then run:'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 然后运行：
- en: '[PRE10]'
  id: totrans-228
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: This finds the first commit that changed the behavior. The C extensions have
    to be rebuilt at every step, so the search can take a while.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 这找到了改变行为的第一个提交。C 扩展必须在每一步重建，所以搜索可能需要一段时间。
- en: 'Exit bisect and rebuild the current version:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 退出二分查找并重新构建当前版本：
- en: '[PRE11]'
  id: totrans-231
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Report your findings under the corresponding issue and ping the commit author
    to get their input.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 报告您的发现到相应的问题下，并提醒提交作者提供他们的意见。
- en: Note
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: In the `bisect run` command above, commits are considered good if `t.py` exits
    with `0` and bad otherwise. When raising an exception is the desired behavior,
    wrap the code in an appropriate `try/except` statement. See [GH 35685](https://github.com/pandas-dev/pandas/issues/35685)
    for more examples.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 在上面的 `bisect run` 命令中，如果 `t.py` 以 `0` 退出，那么提交将被视为好的，否则为坏的。当引发异常是期望的行为时，请使用适当的
    `try/except` 语句包装代码。更多示例请参见 [GH 35685](https://github.com/pandas-dev/pandas/issues/35685)。
- en: '## Closing issues'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: '## 关闭问题'
- en: 'Be delicate here: many people interpret closing an issue as us saying that
    the conversation is over. It’s typically best to give the reporter some time to
    respond or self-close their issue if it’s determined that the behavior is not
    a bug, or the feature is out of scope. Sometimes reporters just go away though,
    and we’ll close the issue after the conversation has died. If you think an issue
    should be closed but are not completely sure, please apply the “closing candidate”
    label and wait for other maintainers to take a look.'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 这里需要特别小心：许多人认为关闭一个问题意味着我们认为对话已经结束了。通常最好给报告者一些时间来回复或自行关闭他们的问题，如果确定行为不是 bug，或者功能超出了范围。有时候报告者确实会消失，我们会在对话结束后关闭问题。如果你认为一个问题应该关闭但并不完全确定，请应用“关闭候选”标签，并等待其他维护人员查看。
- en: '## Reviewing pull requests'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: '## 审查拉取请求'
- en: 'Anybody can review a pull request: regular contributors, triagers, or core-team
    members. But only core-team members can merge pull requests when they’re ready.'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 任何人都可以审查拉取请求：常规贡献者、筛选者或核心团队成员。但只有核心团队成员可以在准备就绪时合并拉取请求。
- en: Here are some things to check when reviewing a pull request.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 在审查拉取请求时，有一些要检查的事项。
- en: 'Tests should be in a sensible location: in the same file as closely related
    tests.'
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试应该放在一个合理的位置：与相关测试放在同一个文件中。
- en: New public APIs should be included somewhere in `doc/source/reference/`.
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新的公共 API 应该包含在 `doc/source/reference/` 的某处。
- en: New / changed API should use the `versionadded` or `versionchanged` directives
    in the docstring.
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新的/更改的 API 应该在文档字符串中使用 `versionadded` 或 `versionchanged` 指令。
- en: User-facing changes should have a whatsnew in the appropriate file.
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 面向用户的更改应该在适当的文件中有一个 whatsnew。
- en: Regression tests should reference the original GitHub issue number like `# GH-1234`.
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 回归测试应该引用原始的 GitHub 问题编号，如 `# GH-1234`。
- en: The pull request should be labeled and assigned the appropriate milestone (the
    next patch release for regression fixes and small bug fixes, the next minor milestone
    otherwise)
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 拉取请求应该被标记并分配适当的里程碑（下一个补丁发布对于回归修复和小 bug 修复，否则下一个次要里程碑）
- en: Changes should comply with our [Version policy](policies.html#policies-version).
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更改应符合我们的 [版本政策](policies.html#policies-version)。
- en: '## Backporting'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: '## 回溯'
- en: 'pandas supports point releases (e.g. `1.4.3`) that aim to:'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 支持点发布（例如 `1.4.3`），目的是：
- en: Fix bugs in new features introduced in the first minor version release.
  id: totrans-249
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在第一个次要版本发布中引入的新功能中的错误。
- en: e.g. If a new feature was added in `1.4` and contains a bug, a fix can be applied
    in `1.4.3`
  id: totrans-250
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，如果一个新功能在 `1.4` 中添加并包含一个 bug，修复可以应用于 `1.4.3`
- en: Fix bugs that used to work in a few minor releases prior. There should be agreement
    between core team members that a backport is appropriate.
  id: totrans-251
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在前几个次要版本中曾经有效的 bug。核心团队成员之间应该达成一致意见，认为回溯是合适的。
- en: e.g. If a feature worked in `1.2` and stopped working since `1.3`, a fix can
    be applied in `1.4.3`.
  id: totrans-252
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，如果一个功能在 `1.2` 中有效，但从 `1.3` 开始停止工作，则修复可以应用于 `1.4.3`。
- en: Since pandas minor releases are based on GitHub branches (e.g. point release
    of `1.4` are based off the `1.4.x` branch), “backporting” means merging a pull
    request fix to the `main` branch and correct minor branch associated with the
    next point release.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 pandas 的小版本发布是基于 GitHub 分支的（例如 `1.4` 的点版本发布基于 `1.4.x` 分支），“迁移”意味着将一个拉取请求修复合并到
    `main` 分支，并纠正与下一个点版本发布相关联的正确的次分支。
- en: By default, if a pull request is assigned to the next point release milestone
    within the GitHub interface, the backporting process should happen automatically
    by the `@meeseeksdev` bot once the pull request is merged. A new pull request
    will be made backporting the pull request to the correct version branch. Sometimes
    due to merge conflicts, a manual pull request will need to be made addressing
    the code conflict.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，如果一个拉取请求被分配到下一个点版本发布的里程碑中，则一旦拉取请求被合并，backporting 过程应该由 `@meeseeksdev`
    机器人自动进行。将会创建一个新的拉取请求将拉取请求迁移到正确的版本分支。有时由于合并冲突，需要手动创建一个拉取请求来解决代码冲突。
- en: 'If the bot does not automatically start the backporting process, you can also
    write a GitHub comment in the merged pull request to trigger the backport:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 如果机器人没有自动启动迁移流程，您也可以在合并的拉取请求中编写一个 GitHub 评论来触发迁移：
- en: '[PRE12]'
  id: totrans-256
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: This will trigger a workflow which will backport a given change to a branch
    (e.g. @meeseeksdev backport 1.4.x)
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 这将触发一个工作流程，将一个给定的更改迁移到一个分支（例如 @meeseeksdev 迁移到 1.4.x）。
- en: Cleaning up old issues
  id: totrans-258
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 清理旧的问题
- en: Every open issue in pandas has a cost. Open issues make finding duplicates harder,
    and can make it harder to know what needs to be done in pandas. That said, closing
    issues isn’t a goal on its own. Our goal is to make pandas the best it can be,
    and that’s best done by ensuring that the quality of our open issues is high.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 中的每一个未解决问题都是有成本的。未解决的问题会使查找重复问题变得更加困难，并且可能会使人们更难知道 pandas 需要做什么。尽管如此，关闭问题并不是一个目标。我们的目标是使
    pandas 变得尽可能好，并且最好的方法是确保我们未解决的问题的质量很高。
- en: Occasionally, bugs are fixed but the issue isn’t linked to in the Pull Request.
    In these cases, comment that “This has been fixed, but could use a test.” and
    label the issue as “Good First Issue” and “Needs Test”.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，问题被修复了，但问题没有在拉取请求中链接。在这种情况下，评论“这个问题已经解决，但是可能需要一个测试。”并将问题标记为“好的第一个问题”和“需要测试”。
- en: If an older issue doesn’t follow our issue template, edit the original post
    to include a minimal example, the actual output, and the expected output. Uniformity
    in issue reports is valuable.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个较早的问题没有遵循我们的问题模板，请编辑原始帖子以包含一个最小的示例、实际输出和期望输出。问题报告的统一性是有价值的。
- en: If an older issue lacks a reproducible example, label it as “Needs Info” and
    ask them to provide one (or write one yourself if possible). If one isn’t provide
    reasonably soon, close it according to the policies in [Closing issues](#maintaining-closing).
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个较早的问题缺乏可重现的示例，请将其标记为“需要信息”并要求他们提供一个（如果可能的话，自己编写一个）。如果在合理的时间内没有提供一个示例，根据[关闭问题](#maintaining-closing)中的政策关闭它。
- en: Cleaning up old pull requests
  id: totrans-263
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 清理旧的拉取请求
- en: 'Occasionally, contributors are unable to finish off a pull request. If some
    time has passed (two weeks, say) since the last review requesting changes, gently
    ask if they’re still interested in working on this. If another two weeks or so
    passes with no response, thank them for their work and then either:'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，贡献者无法完成一个拉取请求。如果已经过去了一段时间（比如两周）自上次审查请求更改以来，温柔地询问他们是否还有兴趣继续工作。如果再过两周左右没有回应，感谢他们的工作，然后要么：
- en: close the pull request;
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关闭拉取请求；
- en: push to the contributor’s branch to push their work over the finish line (if
    you’re part of `pandas-core`). This can be helpful for pushing an important PR
    across the line, or for fixing a small merge conflict.
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将更改推送到贡献者的分支以推动他们的工作完成（如果您是 `pandas-core` 的一部分）。这对于推动一个重要的 PR 完成，或者修复一个小的合并冲突都是有帮助的。
- en: 'If closing the pull request, then please comment on the original issue that
    “There’s a stalled PR at #1234 that may be helpful.”, and perhaps label the issue
    as “Good first issue” if the PR was relatively close to being accepted.'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: '如果关闭拉取请求，请在原始问题上评论“在 #1234 处有一个停滞的 PR 可能会有帮助。”，如果 PR 相对接近被接受，则可能标记问题为“好的第一个问题”。'
- en: Becoming a pandas maintainer
  id: totrans-268
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 成为 pandas 的维护者
- en: The full process is outlined in our [governance documents](https://github.com/pandas-dev/pandas/blob/main/web/pandas/about/governance.md).
    In summary, we’re happy to give triage permissions to anyone who shows interest
    by being helpful on the issue tracker.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 完整流程在我们的[治理文件](https://github.com/pandas-dev/pandas/blob/main/web/pandas/about/governance.md)中有详细说明。总而言之，我们很乐意将分类权限授予通过在问题跟踪器上提供帮助表现出兴趣的任何人。
- en: 'The required steps for adding a maintainer are:'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 添加维护者所需的步骤为：
- en: Contact the contributor and ask their interest to join.
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 联系贡献者，并询问他们加入的意愿。
- en: Add the contributor to the appropriate [GitHub Team](https://github.com/orgs/pandas-dev/teams)
    if accepted the invitation.
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果接受了邀请，将贡献者添加到适当的 [GitHub 团队](https://github.com/orgs/pandas-dev/teams)。
- en: '`pandas-core` is for core team members'
  id: totrans-273
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas-core` 适用于核心团队成员'
- en: ''
  id: totrans-274
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-275
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '`pandas-triage` is for pandas triage members'
  id: totrans-276
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas-triage` 适用于 pandas 分类成员'
- en: 'If adding to `pandas-core`, there are two additional steps:'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 如果添加到 `pandas-core`，还有两个额外的步骤：
- en: Add the contributor to the pandas Google group.
  id: totrans-278
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将贡献者添加到 pandas Google 群组。
- en: Create a pull request to add the contributor’s GitHub handle to `pandas-dev/pandas/web/pandas/config.yml`.
  id: totrans-279
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建拉取请求，将贡献者的 GitHub 句柄添加到 `pandas-dev/pandas/web/pandas/config.yml`。
- en: The current list of core-team members is at [pandas-dev/pandas](https://github.com/pandas-dev/pandas/blob/main/web/pandas/config.yml)
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 当前的核心团队成员列表位于 [pandas-dev/pandas](https://github.com/pandas-dev/pandas/blob/main/web/pandas/config.yml)
- en: '## Merging pull requests'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: '## 合并拉取请求'
- en: Only core team members can merge pull requests. We have a few guidelines.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 只有核心团队成员可以合并拉取请求。我们有一些指导方针。
- en: You should typically not self-merge your own pull requests without approval.
    Exceptions include things like small changes to fix CI (e.g. pinning a package
    version). Self-merging with approval from other core team members is fine if the
    change is something you’re very confident about.
  id: totrans-283
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通常情况下，不应在未经批准的情况下自我合并自己的拉取请求。例外情况包括对 CI 进行微小更改（例如固定软件包版本）。如果对更改非常自信，经其他核心团队成员批准后自我合并是可以的。
- en: You should not merge pull requests that have an active discussion, or pull requests
    that has any `-1` votes from a core maintainer. pandas operates by consensus.
  id: totrans-284
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不应合并正在讨论的拉取请求，或者从核心维护者那里获得`-1`票的拉取请求。pandas 通过共识运作。
- en: For larger changes, it’s good to have a +1 from at least two core team members.
  id: totrans-285
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于较大的更改，至少需要两名核心团队成员的`+1`。
- en: In addition to the items listed in [Closing issues](#maintaining-closing), you
    should verify that the pull request is assigned the correct milestone.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 除了 [关闭问题](#maintaining-closing) 中列出的项目外，您还应验证拉取请求是否分配了正确的里程碑。
- en: 'Pull requests merged with a patch-release milestone will typically be backported
    by our bot. Verify that the bot noticed the merge (it will leave a comment within
    a minute typically). If a manual backport is needed please do that, and remove
    the “Needs backport” label once you’ve done it manually. If you forget to assign
    a milestone before tagging, you can request the bot to backport it with:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 使用补丁发布里程碑合并的拉取请求通常将由我们的机器人回溯。请验证机器人是否注意到了合并（通常会在一分钟内留下评论）。如果需要手动回溯，请执行该操作，并在手动执行后删除“需要回溯”标签。如果在标记之前忘记分配里程碑，则可以请求机器人回溯它：
- en: '[PRE13]'
  id: totrans-288
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '## Benchmark machine'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: '## 基准机器'
- en: The team currently owns dedicated hardware for hosting a website for pandas’
    ASV performance benchmark. The results are published to [https://asv-runner.github.io/asv-collection/pandas/](https://asv-runner.github.io/asv-collection/pandas/)
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 该团队目前拥有专用硬件，用于托管 pandas 的 ASV 性能基准的网站。结果将发布到 [https://asv-runner.github.io/asv-collection/pandas/](https://asv-runner.github.io/asv-collection/pandas/)
- en: Configuration
  id: totrans-291
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 配置
- en: The machine can be configured with the [Ansible](http://docs.ansible.com/ansible/latest/index.html)
    playbook in [tomaugspurger/asv-runner](https://github.com/tomaugspurger/asv-runner).
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 该机器可以使用 [Ansible](http://docs.ansible.com/ansible/latest/index.html) 在 [tomaugspurger/asv-runner](https://github.com/tomaugspurger/asv-runner)
    中配置。
- en: Publishing
  id: totrans-293
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 发布
- en: The results are published to another GitHub repository, [tomaugspurger/asv-collection](https://github.com/tomaugspurger/asv-collection).
    Finally, we have a cron job on our docs server to pull from [tomaugspurger/asv-collection](https://github.com/tomaugspurger/asv-collection),
    to serve them from `/speed`. Ask Tom or Joris for access to the webserver.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 结果将发布到另一个 GitHub 存储库，[tomaugspurger/asv-collection](https://github.com/tomaugspurger/asv-collection)。最后，我们的文档服务器上有一个
    cron 任务，从 [tomaugspurger/asv-collection](https://github.com/tomaugspurger/asv-collection)
    拉取，以从 `/speed` 提供服务。请向 Tom 或 Joris 询问访问 Web 服务器的权限。
- en: Debugging
  id: totrans-295
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 调试
- en: The benchmarks are scheduled by Airflow. It has a dashboard for viewing and
    debugging the results. You’ll need to setup an SSH tunnel to view them
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 基准测试由Airflow安排。它有一个用于查看和调试结果的仪表板。您需要设置一个SSH隧道来查看它们
- en: ssh -L 8080:localhost:8080 pandas@panda.likescandy.com
  id: totrans-297
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ssh -L 8080:localhost:8080 pandas@panda.likescandy.com
- en: Configuration
  id: totrans-298
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 配置
- en: The machine can be configured with the [Ansible](http://docs.ansible.com/ansible/latest/index.html)
    playbook in [tomaugspurger/asv-runner](https://github.com/tomaugspurger/asv-runner).
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 机器可以使用[tomaugspurger/asv-runner](https://github.com/tomaugspurger/asv-runner)中的Ansible剧本进行配置。
- en: Publishing
  id: totrans-300
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 发布
- en: The results are published to another GitHub repository, [tomaugspurger/asv-collection](https://github.com/tomaugspurger/asv-collection).
    Finally, we have a cron job on our docs server to pull from [tomaugspurger/asv-collection](https://github.com/tomaugspurger/asv-collection),
    to serve them from `/speed`. Ask Tom or Joris for access to the webserver.
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 结果发布到另一个GitHub存储库，[tomaugspurger/asv-collection](https://github.com/tomaugspurger/asv-collection)。最后，我们在文档服务器上有一个cron作业从[tomaugspurger/asv-collection](https://github.com/tomaugspurger/asv-collection)拉取数据，以从`/speed`提供服务。请向Tom或Joris索取访问网页服务器的权限。
- en: Debugging
  id: totrans-302
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 调试
- en: The benchmarks are scheduled by Airflow. It has a dashboard for viewing and
    debugging the results. You’ll need to setup an SSH tunnel to view them
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 基准测试由Airflow安排。它有一个用于查看和调试结果的仪表板。您需要设置一个SSH隧道来查看它们
- en: ssh -L 8080:localhost:8080 pandas@panda.likescandy.com
  id: totrans-304
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ssh -L 8080:localhost:8080 pandas@panda.likescandy.com
- en: '## Release process'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: '## 发布流程'
- en: 'The release process makes a snapshot of pandas (a git commit) available to
    users with a particular version number. After the release the new pandas version
    will be available in the next places:'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 发布过程使pandas的快照（git提交）以特定版本号提供给用户。发布后，新的pandas版本将在以下位置可用：
- en: Git repo with a [new tag](https://github.com/pandas-dev/pandas/tags)
  id: totrans-307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有[新标签](https://github.com/pandas-dev/pandas/tags)的Git存储库
- en: Source distribution in a [GitHub release](https://github.com/pandas-dev/pandas/releases)
  id: totrans-308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[GitHub发布](https://github.com/pandas-dev/pandas/releases)中的源分发
- en: Pip packages in the [PyPI](https://pypi.org/project/pandas/)
  id: totrans-309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[PyPI中的Pip软件包](https://pypi.org/project/pandas/)'
- en: Conda/Mamba packages in [conda-forge](https://anaconda.org/conda-forge/pandas)
  id: totrans-310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[conda-forge](https://anaconda.org/conda-forge/pandas)中的Conda/Mamba软件包'
- en: The process for releasing a new version of pandas is detailed next section.
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 发布新版本pandas的流程在下一节详细说明。
- en: The instructions contain `<version>` which needs to be replaced with the version
    to be released (e.g. `1.5.2`). Also the branch to be released `<branch>`, which
    depends on whether the version being released is the release candidate of a new
    version, or any other version. Release candidates are released from `main`, while
    other versions are released from their branch (e.g. `1.5.x`).
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 说明中包含需要用版本替换的`<version>`（例如`1.5.2`）。还有要发布的分支`<branch>`，这取决于要发布的版本是新版本的候选版本，还是其他任何版本。候选版本从`main`发布，而其他版本从它们的分支发布（例如`1.5.x`）。
- en: Prerequisites
  id: totrans-313
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 先决条件
- en: 'In order to be able to release a new pandas version, the next permissions are
    needed:'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 为了能够发布新的pandas版本，需要以下权限：
- en: Merge rights to the [pandas](https://github.com/pandas-dev/pandas/) and [pandas-feedstock](https://github.com/conda-forge/pandas-feedstock/)
    repositories. For the latter, open a PR adding your GitHub username to the conda-forge
    recipe.
  id: totrans-315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 合并权限到[pandas](https://github.com/pandas-dev/pandas/)和[pandas-feedstock](https://github.com/conda-forge/pandas-feedstock/)存储库。对于后者，请打开一个PR，将您的GitHub用户名添加到conda-forge
    recipe中。
- en: Permissions to push to `main` in the pandas repository, to push the new tags.
  id: totrans-316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 推送到pandas存储库中`main`的权限，以推送新标签。
- en: '[Write permissions to PyPI](https://github.com/conda-forge/pandas-feedstock/pulls).'
  id: totrans-317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[PyPI的写权限](https://github.com/conda-forge/pandas-feedstock/pulls)。'
- en: Access to our website / documentation server. Share your public key with the
    infrastructure committee to be added to the `authorized_keys` file of the main
    server user.
  id: totrans-318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问我们的网站/文档服务器。与基础设施委员会共享您的公钥，以将其添加到主服务器用户的`authorized_keys`文件中。
- en: Access to the social media accounts, to publish the announcements.
  id: totrans-319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问社交媒体账户，发布公告。
- en: Pre-release
  id: totrans-320
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 预发布
- en: 'Agree with the core team on the next topics:'
  id: totrans-321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 与核心团队就以下主题达成一致：
- en: Release date (major/minor releases happen usually every 6 months, and patch
    releases monthly until x.x.5, just before the next major/minor)
  id: totrans-322
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 发布日期（主/次要版本通常每6个月发布一次，补丁版本每月发布一次，直到x.x.5，即在下一个主/次要版本之前）
- en: Blockers (issues and PRs that must be part of the release)
  id: totrans-323
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阻碍因素（必须包含在发布中的问题和PR）
- en: Next version after the one being released
  id: totrans-324
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 发布后的下一个版本
- en: 'Update and clean release notes for the version to be released, including:'
  id: totrans-325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新并清理即将发布的版本的发布说明，包括：
- en: Set the final date of the release
  id: totrans-326
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置发布的最终日期
- en: Remove any unused bullet point
  id: totrans-327
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除任何未使用的项目符号
- en: Make sure there are no formatting issues, typos, etc.
  id: totrans-328
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保没有格式问题、拼写错误等。
- en: Make sure the CI is green for the last commit of the branch being released.
  id: totrans-329
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保正在发布的分支的最后提交的 CI 是绿色的。
- en: If not a release candidate, make sure all backporting pull requests to the branch
    being released are merged.
  id: totrans-330
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果不是候选版本，请确保所有反向移植的拉取请求已合并到正在发布的分支中。
- en: 'Create a new issue and milestone for the version after the one being released.
    If the release was a release candidate, we would usually want to create issues
    and milestones for both the next major/minor, and the next patch release. In the
    milestone of a patch release, we add the description `on-merge: backport to <branch>`,
    so tagged PRs are automatically backported to the release branch by our bot.'
  id: totrans-331
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '为正在发布的版本之后的版本创建一个新的问题和里程碑。如果发布是一个候选版本，我们通常会想要为下一个主要/次要版本和下一个补丁版本创建问题和里程碑。在补丁版本的里程碑中，我们添加描述`on-merge:
    backport to <branch>`，这样标记的 PR 就会被我们的机器人自动反向移植到发布分支。'
- en: Change the milestone of all issues and PRs in the milestone being released to
    the next milestone.
  id: totrans-332
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将正在发布的里程碑中的所有问题和 PR 的里程碑更改为下一个里程碑。
- en: Release
  id: totrans-333
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 发布
- en: 'Create an empty commit and a tag in the last commit of the branch to be released:'
  id: totrans-334
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在要发布的分支的最后提交中创建一个空提交和一个标签：
- en: '[PRE14]'
  id: totrans-335
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: The docs for the new version will be built and published automatically with
    the docs job in the CI, which will be triggered when the tag is pushed.
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 新版本的文档将通过 CI 中的文档作业自动构建和发布，在推送标签时会触发该作业。
- en: 'Only if the release is a release candidate, we want to create a new branch
    for it, immediately after creating the tag. For example, if we are releasing pandas
    1.4.0rc0, we would like to create the branch 1.4.x to backport commits to the
    1.4 versions. As well as create a tag to mark the start of the development of
    1.5.0 (assuming it is the next version):'
  id: totrans-337
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 只有在发布版本是候选版本的情况下，我们才希望立即为其创建一个新的分支，即在创建标签后。例如，如果我们要发布 pandas 1.4.0rc0，我们希望创建分支
    1.4.x 来将提交反向移植到 1.4 版本。同时，创建一个标签来标记 1.5.0 的开发开始（假设它是下一个版本）：
- en: '[PRE15]'
  id: totrans-338
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Download the source distribution and wheels from the [wheel staging area](https://anaconda.org/scientific-python-nightly-wheels/pandas).
    Be careful to make sure that no wheels are missing (e.g. due to failed builds).
  id: totrans-339
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从[wheel staging area](https://anaconda.org/scientific-python-nightly-wheels/pandas)下载源分发和轮子。务必确保没有轮子丢失（例如由于构建失败）。
- en: 'Running scripts/download_wheels.sh with the version that you want to download
    wheels/the sdist for should do the trick. This script will make a `dist` folder
    inside your clone of pandas and put the downloaded wheels and sdist there:'
  id: totrans-340
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用您想要下载轮子/源分发包的版本运行 scripts/download_wheels.sh 应该可以解决问题。此脚本将在您的 pandas 克隆内创建一个`dist`文件夹，并将下载的轮子和源分发包放入其中：
- en: '[PRE16]'
  id: totrans-341
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Create a [new GitHub release](https://github.com/pandas-dev/pandas/releases/new):'
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个[新的 GitHub 发布](https://github.com/pandas-dev/pandas/releases/new)：
- en: 'Tag: `<version>`'
  id: totrans-343
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标签：`<版本>`
- en: 'Title: `Pandas <version>`'
  id: totrans-344
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标题：`Pandas <版本>`
- en: 'Description: Copy the description of the last release of the same kind (release
    candidate, major/minor or patch release)'
  id: totrans-345
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：复制相同类型的最后一个发布的描述（候选版本、主要/次要版本或补丁版本）
- en: 'Files: `pandas-<version>.tar.gz` source distribution just generated'
  id: totrans-346
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件：刚刚生成的`pandas-<版本>.tar.gz`源分发包
- en: 'Set as a pre-release: Only check for a release candidate'
  id: totrans-347
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将其设置为预发布：仅检查发布候选版本
- en: 'Set as the latest release: Leave checked, unless releasing a patch release
    for an older version (e.g. releasing 1.4.5 after 1.5 has been released)'
  id: totrans-348
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置为最新发布：保留勾选，除非发布旧版本的补丁版本（例如，在 1.5 发布后发布 1.4.5）
- en: 'Upload wheels to PyPI:'
  id: totrans-349
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将轮子上传到 PyPI：
- en: '[PRE17]'
  id: totrans-350
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: The GitHub release will after some hours trigger an [automated conda-forge PR](https://github.com/conda-forge/pandas-feedstock/pulls).
    (If you don’t want to wait, you can open an issue titled `@conda-forge-admin,
    please update version` to trigger the bot.) Merge it once the CI is green, and
    it will generate the conda-forge packages.
  id: totrans-351
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: GitHub 发布后几个小时将触发一个[自动的 conda-forge PR](https://github.com/conda-forge/pandas-feedstock/pulls)。（如果不想等待，您可以打开一个标题为`@conda-forge-admin，请更新版本`的问题来触发机器人。）一旦
    CI 变绿，就合并它，它将生成 conda-forge 软件包。
- en: In case a manual PR needs to be done, the version, sha256 and build fields are
    the ones that usually need to be changed. If anything else in the recipe has changed
    since the last release, those changes should be available in `ci/meta.yaml`.
  id: totrans-352
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果需要手动进行PR，通常需要更改版本、sha256和构建字段。如果自上次发布以来配方中的其他内容发生了变化，这些变化应该在`ci/meta.yaml`中可用。
- en: Post-Release
  id: totrans-353
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 发布后
- en: 'Update symlinks to stable documentation by logging in to our web server, and
    editing `/var/www/html/pandas-docs/stable` to point to `version/<latest-version>`
    for major and minor releases, or `version/<minor>` to `version/<patch>` for patch
    releases. The exact instructions are (replace the example version numbers by the
    appropriate ones for the version you are releasing):'
  id: totrans-354
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过登录到我们的Web服务器，编辑`/var/www/html/pandas-docs/stable`，将符号链接更新为主要和次要版本的`version/<latest-version>`，或者将`version/<minor>`更新为`version/<patch>`来更新稳定文档。具体的说明是（用适当的版本号替换示例版本号）：
- en: Log in to the server and use the correct user.
  id: totrans-355
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 登录服务器并使用正确的用户。
- en: ''
  id: totrans-356
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-357
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: cd /var/www/html/pandas-docs/
  id: totrans-358
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: cd /var/www/html/pandas-docs/
- en: ''
  id: totrans-359
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-360
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ln -sfn version/2.1 stable (for a major or minor release)
  id: totrans-361
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: ln -sfn version/2.1 stable（用于主要或次要版本的发布）
- en: ''
  id: totrans-362
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-363
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ln -sfn version/2.0.3 version/2.0 (for a patch release)
  id: totrans-364
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: ln -sfn version/2.0.3 version/2.0（用于补丁版本的发布）
- en: If releasing a major or minor release, open a PR in our source code to update
    `web/pandas/versions.json`, to have the desired versions in the documentation
    dropdown menu.
  id: totrans-365
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果发布主要或次要版本，请在我们的源代码中打开一个PR来更新`web/pandas/versions.json`，以在文档下拉菜单中显示所需的版本。
- en: Close the milestone and the issue for the released version.
  id: totrans-366
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭发布版本的里程碑和问题。
- en: Create a new issue for the next release, with the estimated date of release.
  id: totrans-367
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为下一个发布创建一个新问题，包括预计的发布日期。
- en: Open a PR with the placeholder for the release notes of the next version. See
    for example [the PR for 1.5.3](https://github.com/pandas-dev/pandas/pull/49843/files).
    Note that the template to use depends on whether it is a major, minor or patch
    release.
  id: totrans-368
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个PR，占位符为下一个版本的发布说明。例如查看[1.5.3的PR](https://github.com/pandas-dev/pandas/pull/49843/files)。请注意，要使用的模板取决于是主要、次要还是补丁版本的发布。
- en: 'Announce the new release in the official channels (use previous announcements
    for reference):'
  id: totrans-369
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在官方渠道宣布新版本发布（参考以前的公告）：
- en: The pandas-dev and pydata mailing lists
  id: totrans-370
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: pandas-dev和pydata邮件列表
- en: ''
  id: totrans-371
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-372
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Twitter, Mastodon, Telegram and LinkedIn
  id: totrans-373
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: Twitter、Mastodon、Telegram和LinkedIn
- en: Update this release instructions to fix anything incorrect and to update about
    any change since the last release.
  id: totrans-374
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新此发布说明以修复任何不正确的内容，并更新自上次发布以来的任何更改。
- en: Prerequisites
  id: totrans-375
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 先决条件
- en: 'In order to be able to release a new pandas version, the next permissions are
    needed:'
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: 为了能够发布新的pandas版本，需要以下权限：
- en: Merge rights to the [pandas](https://github.com/pandas-dev/pandas/) and [pandas-feedstock](https://github.com/conda-forge/pandas-feedstock/)
    repositories. For the latter, open a PR adding your GitHub username to the conda-forge
    recipe.
  id: totrans-377
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 合并对[pandas](https://github.com/pandas-dev/pandas/)和[pandas-feedstock](https://github.com/conda-forge/pandas-feedstock/)存储库的权限。对于后者，打开一个PR，将您的GitHub用户名添加到conda-forge配方中。
- en: Permissions to push to `main` in the pandas repository, to push the new tags.
  id: totrans-378
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在pandas存储库中推送到`main`的权限，以推送新标签。
- en: '[Write permissions to PyPI](https://github.com/conda-forge/pandas-feedstock/pulls).'
  id: totrans-379
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[PyPI的写入权限](https://github.com/conda-forge/pandas-feedstock/pulls)。'
- en: Access to our website / documentation server. Share your public key with the
    infrastructure committee to be added to the `authorized_keys` file of the main
    server user.
  id: totrans-380
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问我们的网站/文档服务器。与基础设施委员会分享您的公钥，以添加到主服务器用户的`authorized_keys`文件中。
- en: Access to the social media accounts, to publish the announcements.
  id: totrans-381
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问社交媒体账号，发布公告。
- en: Pre-release
  id: totrans-382
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 预发布
- en: 'Agree with the core team on the next topics:'
  id: totrans-383
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 与核心团队就下一个主题达成一致：
- en: Release date (major/minor releases happen usually every 6 months, and patch
    releases monthly until x.x.5, just before the next major/minor)
  id: totrans-384
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 发布日期（主要/次要版本通常每6个月发布一次，补丁版本每月发布一次，直到x.x.5，即在下一个主要/次要版本之前）
- en: Blockers (issues and PRs that must be part of the release)
  id: totrans-385
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阻碍因素（必须包含在发布中的问题和PR）
- en: Next version after the one being released
  id: totrans-386
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在即将发布的版本之后的下一个版本。
- en: 'Update and clean release notes for the version to be released, including:'
  id: totrans-387
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新和清理即将发布版本的发布说明，包括：
- en: Set the final date of the release
  id: totrans-388
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置发布的最终日期
- en: Remove any unused bullet point
  id: totrans-389
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除任何未使用的项目符号
- en: Make sure there are no formatting issues, typos, etc.
  id: totrans-390
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保没有格式问题、拼写错误等。
- en: Make sure the CI is green for the last commit of the branch being released.
  id: totrans-391
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保CI在发布分支的最后一次提交中是绿色的。
- en: If not a release candidate, make sure all backporting pull requests to the branch
    being released are merged.
  id: totrans-392
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果不是发布候选版，请确保所有回溯到要发布的分支的 pull request 都已合并。
- en: 'Create a new issue and milestone for the version after the one being released.
    If the release was a release candidate, we would usually want to create issues
    and milestones for both the next major/minor, and the next patch release. In the
    milestone of a patch release, we add the description `on-merge: backport to <branch>`,
    so tagged PRs are automatically backported to the release branch by our bot.'
  id: totrans-393
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '为正在发布的版本创建一个新问题和里程碑。如果发布是一个发布候选版，通常我们会想要为下一个主/次要版本和下一个补丁发布创建问题和里程碑。在补丁发布的里程碑中，我们添加描述`on-merge:
    backport to <branch>`，这样标记的 PR 就会被我们的机器人自动回溯到发布分支。'
- en: Change the milestone of all issues and PRs in the milestone being released to
    the next milestone.
  id: totrans-394
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将正在发布的里程碑中的所有问题和 PR 的里程碑更改为下一个里程碑。
- en: Release
  id: totrans-395
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 发布
- en: 'Create an empty commit and a tag in the last commit of the branch to be released:'
  id: totrans-396
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个空提交和一个标签在要发布的分支的最后一个提交上：
- en: '[PRE18]'
  id: totrans-397
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: The docs for the new version will be built and published automatically with
    the docs job in the CI, which will be triggered when the tag is pushed.
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: 新版本的文档将通过 CI 中的文档作业自动构建和发布，当标签被推送时，它将被触发。
- en: 'Only if the release is a release candidate, we want to create a new branch
    for it, immediately after creating the tag. For example, if we are releasing pandas
    1.4.0rc0, we would like to create the branch 1.4.x to backport commits to the
    1.4 versions. As well as create a tag to mark the start of the development of
    1.5.0 (assuming it is the next version):'
  id: totrans-399
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 只有当发布是发布候选版时，我们才想要立即在创建标签后为其创建一个新分支。例如，如果我们发布 pandas 1.4.0rc0，我们希望创建 1.4.x 分支以将提交回溯到
    1.4 版本。以及创建一个标签来标记 1.5.0 的开发开始（假设它是下一个版本）：
- en: '[PRE19]'
  id: totrans-400
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Download the source distribution and wheels from the [wheel staging area](https://anaconda.org/scientific-python-nightly-wheels/pandas).
    Be careful to make sure that no wheels are missing (e.g. due to failed builds).
  id: totrans-401
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从[wheel staging area](https://anaconda.org/scientific-python-nightly-wheels/pandas)下载源分发和轮子。请务必确保没有缺少任何轮子（例如，由于构建失败）。
- en: 'Running scripts/download_wheels.sh with the version that you want to download
    wheels/the sdist for should do the trick. This script will make a `dist` folder
    inside your clone of pandas and put the downloaded wheels and sdist there:'
  id: totrans-402
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用您要下载轮子/源分发的版本运行`scripts/download_wheels.sh`应该就可以了。此脚本将在 pandas 的克隆中创建一个`dist`文件夹，并将下载的轮子和源分发放在其中：
- en: '[PRE20]'
  id: totrans-403
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'Create a [new GitHub release](https://github.com/pandas-dev/pandas/releases/new):'
  id: totrans-404
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个[新的 GitHub 发布](https://github.com/pandas-dev/pandas/releases/new)：
- en: 'Tag: `<version>`'
  id: totrans-405
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标签：`<version>`
- en: 'Title: `Pandas <version>`'
  id: totrans-406
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标题：`Pandas <version>`
- en: 'Description: Copy the description of the last release of the same kind (release
    candidate, major/minor or patch release)'
  id: totrans-407
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述：复制相同类型的上一个发布的描述（发布候选版、主/次要发布或补丁发布）
- en: 'Files: `pandas-<version>.tar.gz` source distribution just generated'
  id: totrans-408
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件：刚刚生成的`pandas-<version>.tar.gz`源分发
- en: 'Set as a pre-release: Only check for a release candidate'
  id: totrans-409
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置为预发布：仅在发布候选版时检查
- en: 'Set as the latest release: Leave checked, unless releasing a patch release
    for an older version (e.g. releasing 1.4.5 after 1.5 has been released)'
  id: totrans-410
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置为最新发布：勾选，除非发布的是较旧版本的补丁发布（例如，在 1.5 发布后发布 1.4.5）
- en: 'Upload wheels to PyPI:'
  id: totrans-411
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将轮子上传到 PyPI：
- en: '[PRE21]'
  id: totrans-412
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: The GitHub release will after some hours trigger an [automated conda-forge PR](https://github.com/conda-forge/pandas-feedstock/pulls).
    (If you don’t want to wait, you can open an issue titled `@conda-forge-admin,
    please update version` to trigger the bot.) Merge it once the CI is green, and
    it will generate the conda-forge packages.
  id: totrans-413
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 几个小时后，GitHub 发布将触发一个[自动的 conda-forge PR](https://github.com/conda-forge/pandas-feedstock/pulls)。（如果不想等待，您可以打开一个标题为`@conda-forge-admin,
    please update version`的问题来触发机器人。）一旦 CI 绿灯，就合并它，它将生成 conda-forge 包。
- en: In case a manual PR needs to be done, the version, sha256 and build fields are
    the ones that usually need to be changed. If anything else in the recipe has changed
    since the last release, those changes should be available in `ci/meta.yaml`.
  id: totrans-414
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果需要进行手动 PR，通常需要更改版本、sha256 和构建字段。如果食谱中的其他内容自上次发布以来发生了变化，则这些变化应该在`ci/meta.yaml`中可用。
- en: Post-Release
  id: totrans-415
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 发布后
- en: 'Update symlinks to stable documentation by logging in to our web server, and
    editing `/var/www/html/pandas-docs/stable` to point to `version/<latest-version>`
    for major and minor releases, or `version/<minor>` to `version/<patch>` for patch
    releases. The exact instructions are (replace the example version numbers by the
    appropriate ones for the version you are releasing):'
  id: totrans-416
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过登录到我们的 Web 服务器并编辑 `/var/www/html/pandas-docs/stable` 来更新到稳定文档的符号链接，指向主要和次要版本的
    `version/<latest-version>`，或者将 `version/<minor>` 指向 `version/<patch>` 以适应补丁版本。确切的说明如下（将示例版本号替换为您发布的版本的适当版本号）：
- en: Log in to the server and use the correct user.
  id: totrans-417
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 登录服务器并使用正确的用户。
- en: ''
  id: totrans-418
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-419
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: cd /var/www/html/pandas-docs/
  id: totrans-420
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: cd /var/www/html/pandas-docs/
- en: ''
  id: totrans-421
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-422
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ln -sfn version/2.1 stable (for a major or minor release)
  id: totrans-423
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: ln -sfn version/2.1 stable（用于主要或次要版本发布）
- en: ''
  id: totrans-424
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-425
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ln -sfn version/2.0.3 version/2.0 (for a patch release)
  id: totrans-426
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: ln -sfn version/2.0.3 version/2.0（用于补丁版本发布）
- en: If releasing a major or minor release, open a PR in our source code to update
    `web/pandas/versions.json`, to have the desired versions in the documentation
    dropdown menu.
  id: totrans-427
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果发布主要或次要版本，请在我们的源代码中打开一个 PR 来更新 `web/pandas/versions.json`，以便在文档下拉菜单中显示所需的版本。
- en: Close the milestone and the issue for the released version.
  id: totrans-428
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭发布版本的里程碑和问题。
- en: Create a new issue for the next release, with the estimated date of release.
  id: totrans-429
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为下一个版本创建一个新的问题，包括预计发布日期。
- en: Open a PR with the placeholder for the release notes of the next version. See
    for example [the PR for 1.5.3](https://github.com/pandas-dev/pandas/pull/49843/files).
    Note that the template to use depends on whether it is a major, minor or patch
    release.
  id: totrans-430
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个 PR，用于下一个版本的发布说明的占位符。参见[1.5.3 的 PR](https://github.com/pandas-dev/pandas/pull/49843/files)的示例。请注意，要使用的模板取决于是主要版本、次要版本还是补丁版本。
- en: 'Announce the new release in the official channels (use previous announcements
    for reference):'
  id: totrans-431
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在官方渠道宣布新版本发布（参考先前的公告）：
- en: The pandas-dev and pydata mailing lists
  id: totrans-432
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: pandas-dev 和 pydata 邮件列表
- en: ''
  id: totrans-433
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-434
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Twitter, Mastodon, Telegram and LinkedIn
  id: totrans-435
  prefs:
  - PREF_IND
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: Twitter、Mastodon、Telegram 和 LinkedIn
- en: Update this release instructions to fix anything incorrect and to update about
    any change since the last release.
  id: totrans-436
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新本次发布的说明以修正任何不正确的地方，并更新自上次发布以来的任何更改。
