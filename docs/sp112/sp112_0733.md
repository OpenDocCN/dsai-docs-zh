# scipy.spatial.SphericalVoronoi

> 原文：[https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.spatial.SphericalVoronoi.html#scipy.spatial.SphericalVoronoi](https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.spatial.SphericalVoronoi.html#scipy.spatial.SphericalVoronoi)

```py
class scipy.spatial.SphericalVoronoi(points, radius=1, center=None, threshold=1e-06)
```

球面上的Voronoi图。

版本0.18.0中的新内容。

参数：

**points**浮点数数组，形状为（npoints，ndim）

用于构建球面Voronoi图的点的坐标。

**radius**浮点数，可选

球的半径（默认值：1）

**center**浮点数数组，形状为（ndim，）

球的中心（默认值：原点）

**threshold**浮点数

用于检测重复点和点与球参数之间不匹配的阈值。（默认值：1e-06）

引发：

ValueError

如果*points*中有重复项。如果提供的*radius*与*points*不一致。

另请参阅

[`Voronoi`](scipy.spatial.Voronoi.html#scipy.spatial.Voronoi "scipy.spatial.Voronoi")

N维空间中的传统Voronoi图。

注释

球面Voronoi图算法的步骤如下。计算输入点（生成器）的凸包，等同于它们在球面上的Delaunay三角剖分[[Caroli]](#r9133a064969a-caroli)。然后使用凸包的邻居信息来排序每个生成器周围的Voronoi区域顶点。后一种方法对浮点数问题的敏感性远低于基于角度的Voronoi区域顶点排序方法。

球面Voronoi算法性能的实证评估表明二次时间复杂度（对数线性是最佳的，但算法更难实现）。

参考文献

[[Caroli](#id1)]

Caroli等人。球面上或接近球面的点的稳健且高效的Delaunay三角形。研究报告RR-7004，2009年。

[VanOosterom]

Van Oosterom和Strackee。平面三角形的立体角。IEEE生物医学工程交易，1983年，第125-126页。

示例

执行一些导入并在立方体上取一些点：

```py
>>> import numpy as np
>>> import matplotlib.pyplot as plt
>>> from scipy.spatial import SphericalVoronoi, geometric_slerp
>>> from mpl_toolkits.mplot3d import proj3d
>>> # set input data
>>> points = np.array([[0, 0, 1], [0, 0, -1], [1, 0, 0],
...                    [0, 1, 0], [0, -1, 0], [-1, 0, 0], ]) 
```

计算球面Voronoi图：

```py
>>> radius = 1
>>> center = np.array([0, 0, 0])
>>> sv = SphericalVoronoi(points, radius, center) 
```

生成绘图：

```py
>>> # sort vertices (optional, helpful for plotting)
>>> sv.sort_vertices_of_regions()
>>> t_vals = np.linspace(0, 1, 2000)
>>> fig = plt.figure()
>>> ax = fig.add_subplot(111, projection='3d')
>>> # plot the unit sphere for reference (optional)
>>> u = np.linspace(0, 2 * np.pi, 100)
>>> v = np.linspace(0, np.pi, 100)
>>> x = np.outer(np.cos(u), np.sin(v))
>>> y = np.outer(np.sin(u), np.sin(v))
>>> z = np.outer(np.ones(np.size(u)), np.cos(v))
>>> ax.plot_surface(x, y, z, color='y', alpha=0.1)
>>> # plot generator points
>>> ax.scatter(points[:, 0], points[:, 1], points[:, 2], c='b')
>>> # plot Voronoi vertices
>>> ax.scatter(sv.vertices[:, 0], sv.vertices[:, 1], sv.vertices[:, 2],
...                    c='g')
>>> # indicate Voronoi regions (as Euclidean polygons)
>>> for region in sv.regions:
...    n = len(region)
...    for i in range(n):
...        start = sv.vertices[region][i]
...        end = sv.vertices[region][(i + 1) % n]
...        result = geometric_slerp(start, end, t_vals)
...        ax.plot(result[..., 0],
...                result[..., 1],
...                result[..., 2],
...                c='k')
>>> ax.azim = 10
>>> ax.elev = 40
>>> _ = ax.set_xticks([])
>>> _ = ax.set_yticks([])
>>> _ = ax.set_zticks([])
>>> fig.set_size_inches(4, 4)
>>> plt.show() 
```

![../../_images/scipy-spatial-SphericalVoronoi-1.png](../Images/7df25865e711378eb606beb79a3a79cf.png)

属性：

**points**双精度数组，形状为（npoints，ndim）

从*ndim*维度中的点生成Voronoi图。

**radius**双精度

球的半径

**center**双精度数组，形状为（ndim，）

球的中心

**vertices**双精度数组，形状为（nvertices，ndim）

对应于点的Voronoi顶点

**regions**整数列表的列表，形状为（npoints，_ ）

第n个条目是由属于点中第n个点的顶点的索引组成的列表

方法

| [`calculate_areas`](scipy.spatial.SphericalVoronoi.calculate_areas.html#scipy.spatial.SphericalVoronoi.calculate_areas "scipy.spatial.SphericalVoronoi.calculate_areas")() | 计算Voronoi区域的面积。 |
| --- | --- |
