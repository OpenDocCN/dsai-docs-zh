- en: numpy.diff
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://numpy.org/doc/1.26/reference/generated/numpy.diff.html](https://numpy.org/doc/1.26/reference/generated/numpy.diff.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Calculate the n-th discrete difference along the given axis.
  prefs: []
  type: TYPE_NORMAL
- en: The first difference is given by `out[i] = a[i+1] - a[i]` along the given axis,
    higher differences are calculated by using [`diff`](#numpy.diff "numpy.diff")
    recursively.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**a**array_like'
  prefs: []
  type: TYPE_NORMAL
- en: Input array
  prefs: []
  type: TYPE_NORMAL
- en: '**n**int, optional'
  prefs: []
  type: TYPE_NORMAL
- en: The number of times values are differenced. If zero, the input is returned as-is.
  prefs: []
  type: TYPE_NORMAL
- en: '**axis**int, optional'
  prefs: []
  type: TYPE_NORMAL
- en: The axis along which the difference is taken, default is the last axis.
  prefs: []
  type: TYPE_NORMAL
- en: '**prepend, append**array_like, optional'
  prefs: []
  type: TYPE_NORMAL
- en: Values to prepend or append to *a* along axis prior to performing the difference.
    Scalar values are expanded to arrays with length 1 in the direction of axis and
    the shape of the input array in along all other axes. Otherwise the dimension
    and shape must match *a* except along axis.
  prefs: []
  type: TYPE_NORMAL
- en: New in version 1.16.0.
  prefs: []
  type: TYPE_NORMAL
- en: 'Returns:'
  prefs: []
  type: TYPE_NORMAL
- en: '**diff**ndarray'
  prefs: []
  type: TYPE_NORMAL
- en: The n-th differences. The shape of the output is the same as *a* except along
    *axis* where the dimension is smaller by *n*. The type of the output is the same
    as the type of the difference between any two elements of *a*. This is the same
    as the type of *a* in most cases. A notable exception is [`datetime64`](../arrays.scalars.html#numpy.datetime64
    "numpy.datetime64"), which results in a [`timedelta64`](../arrays.scalars.html#numpy.timedelta64
    "numpy.timedelta64") output array.
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs: []
  type: TYPE_NORMAL
- en: '[`gradient`](numpy.gradient.html#numpy.gradient "numpy.gradient"), [`ediff1d`](numpy.ediff1d.html#numpy.ediff1d
    "numpy.ediff1d"), [`cumsum`](numpy.cumsum.html#numpy.cumsum "numpy.cumsum")'
  prefs: []
  type: TYPE_NORMAL
- en: Notes
  prefs: []
  type: TYPE_NORMAL
- en: Type is preserved for boolean arrays, so the result will contain *False* when
    consecutive elements are the same and *True* when they differ.
  prefs: []
  type: TYPE_NORMAL
- en: 'For unsigned integer arrays, the results will also be unsigned. This should
    not be surprising, as the result is consistent with calculating the difference
    directly:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'If this is not desirable, then the array should be cast to a larger integer
    type first:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
