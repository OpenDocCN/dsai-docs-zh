- en: NumPy 1.8.1 Release Notes
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://numpy.org/doc/1.26/release/1.8.1-notes.html](https://numpy.org/doc/1.26/release/1.8.1-notes.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: This is a bugfix only release in the 1.8.x series.
  prefs: []
  type: TYPE_NORMAL
- en: Issues fixed
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'gh-4276: Fix mean, var, std methods for object arrays'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4262: remove insecure mktemp usage'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-2385: absolute(complex(inf)) raises invalid warning in python3'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4024: Sequence assignment doesn’t raise exception on shape mismatch'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4027: Fix chunked reading of strings longer than BUFFERSIZE'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4109: Fix object scalar return type of 0-d array indices'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4018: fix missing check for memory allocation failure in ufuncs'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4156: high order linalg.norm discards imaginary elements of complex arrays'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4144: linalg: norm fails on longdouble, signed int'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4094: fix NaT handling in _strided_to_strided_string_to_datetime'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4051: fix uninitialized use in _strided_to_strided_string_to_datetime'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4093: Loading compressed .npz file fails under Python 2.6.6'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4138: segfault with non-native endian memoryview in python 3.4'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4123: Fix missing NULL check in lexsort'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4170: fix native-only long long check in memoryviews'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4187: Fix large file support on 32 bit'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4152: fromfile: ensure file handle positions are in sync in python3'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4176: clang compatibility: Typos in conversion_utils'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4223: Fetching a non-integer item caused array return'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4197: fix minor memory leak in memoryview failure case'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4206: fix build with single-threaded python'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4220: add versionadded:: 1.8.0 to ufunc.at docstring'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4267: improve handling of memory allocation failure'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4267: fix use of capi without gil in ufunc.at'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4261: Detect vendor versions of GNU Compilers'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4253: IRR was returning nan instead of valid negative answer'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4254: fix unnecessary byte order flag change for byte arrays'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-3263: numpy.random.shuffle clobbers mask of a MaskedArray'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4270: np.random.shuffle not work with flexible dtypes'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-3173: Segmentation fault when ‘size’ argument to random.multinomial'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-2799: allow using unique with lists of complex'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-3504: fix linspace truncation for integer array scalar'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4191: get_info(‘openblas’) does not read libraries key'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-3348: Access violation in _descriptor_from_pep3118_format'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-3175: segmentation fault with numpy.array() from bytearray'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4266: histogramdd - wrong result for entries very close to last boundary'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4408: Fix stride_stricks.as_strided function for object arrays'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4225: fix log1p and exmp1 return for np.inf on windows compiler builds'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4359: Fix infinite recursion in str.format of flex arrays'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4145: Incorrect shape of broadcast result with the exponent operator'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4483: Fix commutativity of {dot,multiply,inner}(scalar, matrix_of_objs)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4466: Delay npyiter size check when size may change'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4485: Buffered stride was erroneously marked fixed'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4354: byte_bounds fails with datetime dtypes'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4486: segfault/error converting from/to high-precision datetime64 objects'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4428: einsum(None, None, None, None) causes segfault'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4134: uninitialized use for for size 1 object reductions'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Changes
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: NDIter
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: When `NpyIter_RemoveAxis` is now called, the iterator range will be reset.
  prefs: []
  type: TYPE_NORMAL
- en: When a multi index is being tracked and an iterator is not buffered, it is possible
    to use `NpyIter_RemoveAxis`. In this case an iterator can shrink in size. Because
    the total size of an iterator is limited, the iterator may be too large before
    these calls. In this case its size will be set to `-1` and an error issued not
    at construction time but when removing the multi index, setting the iterator range,
    or getting the next function.
  prefs: []
  type: TYPE_NORMAL
- en: This has no effect on currently working code, but highlights the necessity of
    checking for an error return if these conditions can occur. In most cases the
    arrays being iterated are as large as the iterator so that such a problem cannot
    occur.
  prefs: []
  type: TYPE_NORMAL
- en: Optional reduced verbosity for np.distutils
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Set `numpy.distutils.system_info.system_info.verbosity = 0` and then calls to
    `numpy.distutils.system_info.get_info('blas_opt')` will not print anything on
    the output. This is mostly for other packages using numpy.distutils.
  prefs: []
  type: TYPE_NORMAL
- en: Deprecations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: C-API
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The utility function npy_PyFile_Dup and npy_PyFile_DupClose are broken by the
    internal buffering python 3 applies to its file objects. To fix this two new functions
    npy_PyFile_Dup2 and npy_PyFile_DupClose2 are declared in npy_3kcompat.h and the
    old functions are deprecated. Due to the fragile nature of these functions it
    is recommended to instead use the python API when possible.
  prefs: []
  type: TYPE_NORMAL
- en: Issues fixed
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'gh-4276: Fix mean, var, std methods for object arrays'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4262: remove insecure mktemp usage'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-2385: absolute(complex(inf)) raises invalid warning in python3'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4024: Sequence assignment doesn’t raise exception on shape mismatch'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4027: Fix chunked reading of strings longer than BUFFERSIZE'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4109: Fix object scalar return type of 0-d array indices'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4018: fix missing check for memory allocation failure in ufuncs'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4156: high order linalg.norm discards imaginary elements of complex arrays'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4144: linalg: norm fails on longdouble, signed int'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4094: fix NaT handling in _strided_to_strided_string_to_datetime'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4051: fix uninitialized use in _strided_to_strided_string_to_datetime'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4093: Loading compressed .npz file fails under Python 2.6.6'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4138: segfault with non-native endian memoryview in python 3.4'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4123: Fix missing NULL check in lexsort'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4170: fix native-only long long check in memoryviews'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4187: Fix large file support on 32 bit'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4152: fromfile: ensure file handle positions are in sync in python3'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4176: clang compatibility: Typos in conversion_utils'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4223: Fetching a non-integer item caused array return'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4197: fix minor memory leak in memoryview failure case'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4206: fix build with single-threaded python'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4220: add versionadded:: 1.8.0 to ufunc.at docstring'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4267: improve handling of memory allocation failure'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4267: fix use of capi without gil in ufunc.at'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4261: Detect vendor versions of GNU Compilers'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4253: IRR was returning nan instead of valid negative answer'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4254: fix unnecessary byte order flag change for byte arrays'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-3263: numpy.random.shuffle clobbers mask of a MaskedArray'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4270: np.random.shuffle not work with flexible dtypes'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-3173: Segmentation fault when ‘size’ argument to random.multinomial'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-2799: allow using unique with lists of complex'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-3504: fix linspace truncation for integer array scalar'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4191: get_info(‘openblas’) does not read libraries key'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-3348: Access violation in _descriptor_from_pep3118_format'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-3175: segmentation fault with numpy.array() from bytearray'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4266: histogramdd - wrong result for entries very close to last boundary'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4408: Fix stride_stricks.as_strided function for object arrays'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4225: fix log1p and exmp1 return for np.inf on windows compiler builds'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4359: Fix infinite recursion in str.format of flex arrays'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4145: Incorrect shape of broadcast result with the exponent operator'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4483: Fix commutativity of {dot,multiply,inner}(scalar, matrix_of_objs)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4466: Delay npyiter size check when size may change'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4485: Buffered stride was erroneously marked fixed'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4354: byte_bounds fails with datetime dtypes'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4486: segfault/error converting from/to high-precision datetime64 objects'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4428: einsum(None, None, None, None) causes segfault'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'gh-4134: uninitialized use for for size 1 object reductions'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Changes
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: NDIter
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: When `NpyIter_RemoveAxis` is now called, the iterator range will be reset.
  prefs: []
  type: TYPE_NORMAL
- en: When a multi index is being tracked and an iterator is not buffered, it is possible
    to use `NpyIter_RemoveAxis`. In this case an iterator can shrink in size. Because
    the total size of an iterator is limited, the iterator may be too large before
    these calls. In this case its size will be set to `-1` and an error issued not
    at construction time but when removing the multi index, setting the iterator range,
    or getting the next function.
  prefs: []
  type: TYPE_NORMAL
- en: This has no effect on currently working code, but highlights the necessity of
    checking for an error return if these conditions can occur. In most cases the
    arrays being iterated are as large as the iterator so that such a problem cannot
    occur.
  prefs: []
  type: TYPE_NORMAL
- en: Optional reduced verbosity for np.distutils
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Set `numpy.distutils.system_info.system_info.verbosity = 0` and then calls to
    `numpy.distutils.system_info.get_info('blas_opt')` will not print anything on
    the output. This is mostly for other packages using numpy.distutils.
  prefs: []
  type: TYPE_NORMAL
- en: NDIter
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: When `NpyIter_RemoveAxis` is now called, the iterator range will be reset.
  prefs: []
  type: TYPE_NORMAL
- en: When a multi index is being tracked and an iterator is not buffered, it is possible
    to use `NpyIter_RemoveAxis`. In this case an iterator can shrink in size. Because
    the total size of an iterator is limited, the iterator may be too large before
    these calls. In this case its size will be set to `-1` and an error issued not
    at construction time but when removing the multi index, setting the iterator range,
    or getting the next function.
  prefs: []
  type: TYPE_NORMAL
- en: This has no effect on currently working code, but highlights the necessity of
    checking for an error return if these conditions can occur. In most cases the
    arrays being iterated are as large as the iterator so that such a problem cannot
    occur.
  prefs: []
  type: TYPE_NORMAL
- en: Optional reduced verbosity for np.distutils
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Set `numpy.distutils.system_info.system_info.verbosity = 0` and then calls to
    `numpy.distutils.system_info.get_info('blas_opt')` will not print anything on
    the output. This is mostly for other packages using numpy.distutils.
  prefs: []
  type: TYPE_NORMAL
- en: Deprecations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: C-API
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The utility function npy_PyFile_Dup and npy_PyFile_DupClose are broken by the
    internal buffering python 3 applies to its file objects. To fix this two new functions
    npy_PyFile_Dup2 and npy_PyFile_DupClose2 are declared in npy_3kcompat.h and the
    old functions are deprecated. Due to the fragile nature of these functions it
    is recommended to instead use the python API when possible.
  prefs: []
  type: TYPE_NORMAL
- en: C-API
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The utility function npy_PyFile_Dup and npy_PyFile_DupClose are broken by the
    internal buffering python 3 applies to its file objects. To fix this two new functions
    npy_PyFile_Dup2 and npy_PyFile_DupClose2 are declared in npy_3kcompat.h and the
    old functions are deprecated. Due to the fragile nature of these functions it
    is recommended to instead use the python API when possible.
  prefs: []
  type: TYPE_NORMAL
