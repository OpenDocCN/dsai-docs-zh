- en: Version 0.17.0 (October 9, 2015)
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 版本 0.17.0 (2015年10月9日)
- en: 原文：[https://pandas.pydata.org/docs/whatsnew/v0.17.0.html](https://pandas.pydata.org/docs/whatsnew/v0.17.0.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://pandas.pydata.org/docs/whatsnew/v0.17.0.html](https://pandas.pydata.org/docs/whatsnew/v0.17.0.html)
- en: This is a major release from 0.16.2 and includes a small number of API changes,
    several new features, enhancements, and performance improvements along with a
    large number of bug fixes. We recommend that all users upgrade to this version.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 这是从 0.16.2 开始的重要版本，并包括一小部分 API 更改，以及许多新功能、增强功能和性能改进，以及大量的错误修复。我们建议所有用户升级到此版本。
- en: Warning
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: pandas >= 0.17.0 will no longer support compatibility with Python version 3.2
    ([GH 9118](https://github.com/pandas-dev/pandas/issues/9118))
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: pandas >= 0.17.0 将不再支持与 Python 版本 3.2 的兼容性 ([GH 9118](https://github.com/pandas-dev/pandas/issues/9118))
- en: Warning
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: The `pandas.io.data` package is deprecated and will be replaced by the [pandas-datareader
    package](https://github.com/pydata/pandas-datareader). This will allow the data
    modules to be independently updated to your pandas installation. The API for `pandas-datareader
    v0.1.1` is exactly the same as in `pandas v0.17.0` ([GH 8961](https://github.com/pandas-dev/pandas/issues/8961),
    [GH 10861](https://github.com/pandas-dev/pandas/issues/10861)).
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '`pandas.io.data` 包已被弃用，并将由 [pandas-datareader package](https://github.com/pydata/pandas-datareader)
    替代。这将允许数据模块独立更新到您的 pandas 安装中。`pandas-datareader v0.1.1` 的 API 与 `pandas v0.17.0`
    中的完全相同 ([GH 8961](https://github.com/pandas-dev/pandas/issues/8961), [GH 10861](https://github.com/pandas-dev/pandas/issues/10861))。'
- en: 'After installing pandas-datareader, you can easily change your imports:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 安装 pandas-datareader 后，您可以轻松更改导入方式：
- en: '[PRE0]'
  id: totrans-8
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: becomes
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 变为
- en: '[PRE1]'
  id: totrans-10
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Highlights include:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 主要亮点包括：
- en: Release the Global Interpreter Lock (GIL) on some cython operations, see [here](#whatsnew-0170-gil)
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在一些 cython 操作中释放全局解释器锁（GIL），参见 [这里](#whatsnew-0170-gil)
- en: Plotting methods are now available as attributes of the `.plot` accessor, see
    [here](#whatsnew-0170-plot)
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 绘图方法现在作为 `.plot` 访问器的属性可用，参见 [这里](#whatsnew-0170-plot)
- en: The sorting API has been revamped to remove some long-time inconsistencies,
    see [here](#whatsnew-0170-api-breaking-sorting)
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 排序 API 已进行了重新设计，以消除一些长期存在的不一致性，参见 [这里](#whatsnew-0170-api-breaking-sorting)
- en: Support for a `datetime64[ns]` with timezones as a first-class dtype, see [here](#whatsnew-0170-tz)
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持将带时区的 `datetime64[ns]` 作为一级 dtype，参见 [这里](#whatsnew-0170-tz)
- en: The default for `to_datetime` will now be to `raise` when presented with unparsable
    formats, previously this would return the original input. Also, date parse functions
    now return consistent results. See [here](#whatsnew-0170-api-breaking-to-datetime)
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_datetime` 的默认行为现在将是在遇到无法解析的格式时 `raise`，以前会返回原始输入。此外，日期解析函数现在返回一致的结果。参见
    [这里](#whatsnew-0170-api-breaking-to-datetime)'
- en: The default for `dropna` in `HDFStore` has changed to `False`, to store by default
    all rows even if they are all `NaN`, see [here](#whatsnew-0170-api-breaking-hdf-dropna)
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`HDFStore` 中 `dropna` 的默认值已更改为 `False`，默认情况下存储所有行，即使它们全部为 `NaN`，请参见 [这里](#whatsnew-0170-api-breaking-hdf-dropna)'
- en: Datetime accessor (`dt`) now supports `Series.dt.strftime` to generate formatted
    strings for datetime-likes, and `Series.dt.total_seconds` to generate each duration
    of the timedelta in seconds. See [here](#whatsnew-0170-strftime)
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Datetime 访问器 (`dt`) 现在支持 `Series.dt.strftime` 以生成 datetime-likes 的格式化字符串，以及
    `Series.dt.total_seconds` 以生成时间增量的每个持续时间的秒数。参见 [这里](#whatsnew-0170-strftime)
- en: '`Period` and `PeriodIndex` can handle multiplied freq like `3D`, which corresponding
    to 3 days span. See [here](#whatsnew-0170-periodfreq)'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Period` 和 `PeriodIndex` 可以处理类似 `3D` 的乘频率，对应于 3 天的跨度。参见 [这里](#whatsnew-0170-periodfreq)'
- en: Development installed versions of pandas will now have `PEP440` compliant version
    strings ([GH 9518](https://github.com/pandas-dev/pandas/issues/9518))
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装版本的 pandas 现在将具有 `PEP440` 兼容的版本字符串 ([GH 9518](https://github.com/pandas-dev/pandas/issues/9518))
- en: Development support for benchmarking with the [Air Speed Velocity library](https://github.com/spacetelescope/asv/)
    ([GH 8361](https://github.com/pandas-dev/pandas/issues/8361))
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开发支持使用 [Air Speed Velocity library](https://github.com/spacetelescope/asv/)
    进行基准测试 ([GH 8361](https://github.com/pandas-dev/pandas/issues/8361))
- en: Support for reading SAS xport files, see [here](#whatsnew-0170-enhancements-sas-xport)
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持读取 SAS xport 文件，参见 [这里](#whatsnew-0170-enhancements-sas-xport)
- en: Documentation comparing SAS to *pandas*, see [here](../getting_started/comparison/comparison_with_sas.html#compare-with-sas)
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比较 SAS 与 *pandas* 的文档，请参见 [这里](../getting_started/comparison/comparison_with_sas.html#compare-with-sas)
- en: Removal of the automatic TimeSeries broadcasting, deprecated since 0.8.0, see
    [here](#whatsnew-0170-prior-deprecations)
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自 0.8.0 起已废弃自动 TimeSeries 广播，参见 [这里](#whatsnew-0170-prior-deprecations)
- en: Display format with plain text can optionally align with Unicode East Asian
    Width, see [here](#whatsnew-0170-east-asian-width)
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 显示格式可以选择与 Unicode 东亚宽度对齐，参见[这里](#whatsnew-0170-east-asian-width)
- en: Compatibility with Python 3.5 ([GH 11097](https://github.com/pandas-dev/pandas/issues/11097))
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与 Python 3.5 兼容 ([GH 11097](https://github.com/pandas-dev/pandas/issues/11097))
- en: Compatibility with matplotlib 1.5.0 ([GH 11111](https://github.com/pandas-dev/pandas/issues/11111))
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与 matplotlib 1.5.0 兼容 ([GH 11111](https://github.com/pandas-dev/pandas/issues/11111))
- en: Check the [API Changes](#whatsnew-0170-api) and [deprecations](#whatsnew-0170-deprecations)
    before updating.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在更新之前，请查看[API 更改](#whatsnew-0170-api)和[弃用](#whatsnew-0170-deprecations)。
- en: What’s new in v0.17.0
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: v0.17.0 中的新功能
- en: '[New features](#new-features)'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[新功能](#new-features)'
- en: '[Datetime with TZ](#datetime-with-tz)'
  id: totrans-31
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[带时区的日期时间](#datetime-with-tz)'
- en: '[Releasing the GIL](#releasing-the-gil)'
  id: totrans-32
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[释放 GIL](#releasing-the-gil)'
- en: '[Plot submethods](#plot-submethods)'
  id: totrans-33
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[绘图子方法](#plot-submethods)'
- en: '[Additional methods for `dt` accessor](#additional-methods-for-dt-accessor)'
  id: totrans-34
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[dt 访问器的其他方法](#additional-methods-for-dt-accessor)'
- en: '[Series.dt.strftime](#series-dt-strftime)'
  id: totrans-35
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[Series.dt.strftime](#series-dt-strftime)'
- en: '[Series.dt.total_seconds](#series-dt-total-seconds)'
  id: totrans-36
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[Series.dt.total_seconds](#series-dt-total-seconds)'
- en: '[Period frequency enhancement](#period-frequency-enhancement)'
  id: totrans-37
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[周期频率增强](#period-frequency-enhancement)'
- en: '[Support for SAS XPORT files](#support-for-sas-xport-files)'
  id: totrans-38
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[支持 SAS XPORT 文件](#support-for-sas-xport-files)'
- en: '[Support for math functions in .eval()](#support-for-math-functions-in-eval)'
  id: totrans-39
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[在 .eval() 中支持数学函数](#support-for-math-functions-in-eval)'
- en: '[Changes to Excel with `MultiIndex`](#changes-to-excel-with-multiindex)'
  id: totrans-40
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[带有 `MultiIndex` 的 Excel 更改](#changes-to-excel-with-multiindex)'
- en: '[Google BigQuery enhancements](#google-bigquery-enhancements)'
  id: totrans-41
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[Google BigQuery 增强](#google-bigquery-enhancements)'
- en: '[Display alignment with Unicode East Asian width](#display-alignment-with-unicode-east-asian-width)'
  id: totrans-42
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与 Unicode 东亚宽度对齐的显示对齐](#display-alignment-with-unicode-east-asian-width)
- en: '[Other enhancements](#other-enhancements)'
  id: totrans-43
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[其他增强](#other-enhancements)'
- en: '[Backwards incompatible API changes](#backwards-incompatible-api-changes)'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[不兼容的 API 更改](#backwards-incompatible-api-changes)'
- en: '[Changes to sorting API](#changes-to-sorting-api)'
  id: totrans-45
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[排序 API 更改](#changes-to-sorting-api)'
- en: '[Changes to to_datetime and to_timedelta](#changes-to-to-datetime-and-to-timedelta)'
  id: totrans-46
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[to_datetime 和 to_timedelta 的更改](#changes-to-to-datetime-and-to-timedelta)'
- en: '[Error handling](#error-handling)'
  id: totrans-47
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[错误处理](#error-handling)'
- en: '[Consistent parsing](#consistent-parsing)'
  id: totrans-48
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[一致的解析](#consistent-parsing)'
- en: '[Changes to Index comparisons](#changes-to-index-comparisons)'
  id: totrans-49
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[索引比较的更改](#changes-to-index-comparisons)'
- en: '[Changes to boolean comparisons vs. None](#changes-to-boolean-comparisons-vs-none)'
  id: totrans-50
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[布尔比较与 None 的更改](#changes-to-boolean-comparisons-vs-none)'
- en: '[HDFStore dropna behavior](#hdfstore-dropna-behavior)'
  id: totrans-51
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[HDFStore dropna 行为](#hdfstore-dropna-behavior)'
- en: '[Changes to `display.precision` option](#changes-to-display-precision-option)'
  id: totrans-52
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[display.precision 选项更改](#changes-to-display-precision-option)'
- en: '[Changes to `Categorical.unique`](#changes-to-categorical-unique)'
  id: totrans-53
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[Categorical.unique 更改](#changes-to-categorical-unique)'
- en: '[Changes to `bool` passed as `header` in parsers](#changes-to-bool-passed-as-header-in-parsers)'
  id: totrans-54
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[解析器中传递为 `header` 的 `bool` 更改](#changes-to-bool-passed-as-header-in-parsers)'
- en: '[Other API changes](#other-api-changes)'
  id: totrans-55
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[其他 API 更改](#other-api-changes)'
- en: '[Deprecations](#deprecations)'
  id: totrans-56
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[弃用](#deprecations)'
- en: '[Removal of prior version deprecations/changes](#removal-of-prior-version-deprecations-changes)'
  id: totrans-57
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[删除之前版本的弃用/更改](#removal-of-prior-version-deprecations-changes)'
- en: '[Performance improvements](#performance-improvements)'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[性能改进](#performance-improvements)'
- en: '[Bug fixes](#bug-fixes)'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[错误修复](#bug-fixes)'
- en: '[Contributors](#contributors)'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[贡献者](#contributors)'
- en: '## New features'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '## 新功能'
- en: '### Datetime with TZ'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '### 带时区的日期时间'
- en: We are adding an implementation that natively supports datetime with timezones.
    A `Series` or a `DataFrame` column previously *could* be assigned a datetime with
    timezones, and would work as an `object` dtype. This had performance issues with
    a large number rows. See the [docs](../user_guide/timeseries.html#timeseries-timezone-series)
    for more details. ([GH 8260](https://github.com/pandas-dev/pandas/issues/8260),
    [GH 10763](https://github.com/pandas-dev/pandas/issues/10763), [GH 11034](https://github.com/pandas-dev/pandas/issues/11034)).
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 我们正在添加一个原生支持带时区的日期时间的实现。以前，`Series`或`DataFrame`列可以分配带有时区的日期时间，并且将作为`object`
    dtype工作。这会导致大量行的性能问题。有关更多详细信息，请参阅[文档](../user_guide/timeseries.html#timeseries-timezone-series)。([GH
    8260](https://github.com/pandas-dev/pandas/issues/8260), [GH 10763](https://github.com/pandas-dev/pandas/issues/10763),
    [GH 11034](https://github.com/pandas-dev/pandas/issues/11034)).
- en: The new implementation allows for having a single-timezone across all rows,
    with operations in a performant manner.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 新的实现允许在所有行中具有单一时区，并以高效的方式进行操作。
- en: '[PRE2]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '[PRE3]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: This uses a new-dtype representation as well, that is very similar in look-and-feel
    to its numpy cousin `datetime64[ns]`
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 这也使用了一种新的数据类型表示，与其 numpy 表亲 `datetime64[ns]` 非常相似。
- en: '[PRE4]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Note
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: There is a slightly different string repr for the underlying `DatetimeIndex`
    as a result of the dtype changes, but functionally these are the same.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 由于数据类型的更改，底层 `DatetimeIndex` 的字符串表示有所不同，但在功能上它们是相同的。
- en: 'Previous behavior:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE5]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'New behavior:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 新的行为：
- en: '[PRE6]  ### Releasing the GIL'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE6]  ### 释放 GIL'
- en: We are releasing the global-interpreter-lock (GIL) on some cython operations.
    This will allow other threads to run simultaneously during computation, potentially
    allowing performance improvements from multi-threading. Notably `groupby`, `nsmallest`,
    `value_counts` and some indexing operations benefit from this. ([GH 8882](https://github.com/pandas-dev/pandas/issues/8882))
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 我们正在对一些 Cython 操作释放全局解释器锁（GIL）。这将允许在计算过程中同时运行其他线程，从而可能通过多线程获得性能改进。特别是 `groupby`、`nsmallest`、`value_counts`
    和一些索引操作会从中受益。([GH 8882](https://github.com/pandas-dev/pandas/issues/8882))
- en: For example the groupby expression in the following code will have the GIL released
    during the factorization step, e.g. `df.groupby('key')` as well as the `.sum()`
    operation.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，以下代码中的 groupby 表达式在因子化步骤期间将释放 GIL，例如 `df.groupby('key')` 以及 `.sum()` 操作。
- en: '[PRE7]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Releasing of the GIL could benefit an application that uses threads for user
    interactions (e.g. [QT](https://wiki.python.org/moin/PyQt)), or performing multi-threaded
    computations. A nice example of a library that can handle these types of computation-in-parallel
    is the [dask](https://dask.readthedocs.io/en/latest/) library.  ### Plot submethods'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '释放 GIL 可以使使用线程进行用户交互（例如 [QT](https://wiki.python.org/moin/PyQt)）或执行多线程计算的应用程序受益。一个可以处理这些类型并行计算的库的好例子是
    [dask](https://dask.readthedocs.io/en/latest/) 库。  ### 绘图子方法'
- en: The Series and DataFrame `.plot()` method allows for customizing [plot types](../user_guide/visualization.html#visualization-other)
    by supplying the `kind` keyword arguments. Unfortunately, many of these kinds
    of plots use different required and optional keyword arguments, which makes it
    difficult to discover what any given plot kind uses out of the dozens of possible
    arguments.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: Series 和 DataFrame 的 `.plot()` 方法允许通过提供 `kind` 关键字参数来自定义[绘图类型](../user_guide/visualization.html#visualization-other)。不幸的是，许多这类绘图使用不同的必需和可选关键字参数，这使得很难发现任何给定绘图种类使用了数十种可能参数中的哪些。
- en: 'To alleviate this issue, we have added a new, optional plotting interface,
    which exposes each kind of plot as a method of the `.plot` attribute. Instead
    of writing `series.plot(kind=<kind>, ...)`, you can now also use `series.plot.<kind>(...)`:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 为了缓解这个问题，我们添加了一个新的、可选的绘图接口，将每种绘图作为 `.plot` 属性的方法暴露出来。现在，您不仅可以编写 `series.plot(kind=<kind>,
    ...)`，还可以使用 `series.plot.<kind>(...)`：
- en: '[PRE8]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '![../_images/whatsnew_plot_submethods.png](../Images/a24da7baedb7d89b10b8e6e05912eb42.png)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![../_images/whatsnew_plot_submethods.png](../Images/a24da7baedb7d89b10b8e6e05912eb42.png)'
- en: 'As a result of this change, these methods are now all discoverable via tab-completion:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 由于这个变化，这些方法现在都可以通过制表完成来发现：
- en: '[PRE9]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Each method signature only includes relevant arguments. Currently, these are
    limited to required arguments, but in the future these will include optional arguments,
    as well. For an overview, see the new [Plotting](../reference/frame.html#api-dataframe-plotting)
    API documentation.  ### Additional methods for `dt` accessor'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '每个方法签名只包括相关的参数。目前，这些参数仅限于必需参数，但将来将包括可选参数。有关概述，请参阅新的 [绘图](../reference/frame.html#api-dataframe-plotting)
    API 文档。  ### `dt` 访问器的附加方法'
- en: Series.dt.strftime
  id: totrans-86
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Series.dt.strftime
- en: 'We are now supporting a `Series.dt.strftime` method for datetime-likes to generate
    a formatted string ([GH 10110](https://github.com/pandas-dev/pandas/issues/10110)).
    Examples:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在支持使用 `Series.dt.strftime` 方法来为类似日期时间的对象生成格式化字符串（[GH 10110](https://github.com/pandas-dev/pandas/issues/10110)）。示例：
- en: '[PRE10]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '[PRE11]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: The string format is as the python standard library and details can be found
    [here](https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior)
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 字符串格式与 python 标准库相同，详细信息可在 [这里](https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior)
    找到
- en: Series.dt.total_seconds
  id: totrans-91
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Series.dt.total_seconds
- en: '`pd.Series` of type `timedelta64` has new method `.dt.total_seconds()` returning
    the duration of the timedelta in seconds ([GH 10817](https://github.com/pandas-dev/pandas/issues/10817))'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '`pd.Series` 类型的 `timedelta64` 具有新方法 `.dt.total_seconds()`，返回时间增量的持续时间（秒）([GH
    10817](https://github.com/pandas-dev/pandas/issues/10817))'
- en: '[PRE12]  ### Period frequency enhancement'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE12]  ### 周期频率增强'
- en: '`Period`, `PeriodIndex` and `period_range` can now accept multiplied freq.
    Also, `Period.freq` and `PeriodIndex.freq` are now stored as a `DateOffset` instance
    like `DatetimeIndex`, and not as `str` ([GH 7811](https://github.com/pandas-dev/pandas/issues/7811))'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '`Period`, `PeriodIndex`和`period_range`现在可以接受乘以频率。另外，`Period.freq`和`PeriodIndex.freq`现在被存储为`DateOffset`实例，类似于`DatetimeIndex`，而不是`str`
    ([GH 7811](https://github.com/pandas-dev/pandas/issues/7811))'
- en: A multiplied freq represents a span of corresponding length. The example below
    creates a period of 3 days. Addition and subtraction will shift the period by
    its span.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 乘以频率表示相应长度的跨度。下面的示例创建了一个3天的期间。加法和减法将按照其跨度移动期间。
- en: '[PRE13]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: You can use the multiplied freq in `PeriodIndex` and `period_range`.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在`PeriodIndex`和`period_range`中使用乘以频率。
- en: '[PRE14]  ### Support for SAS XPORT files'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE14]  ### 对SAS XPORT文件的支持'
- en: '`read_sas()` provides support for reading *SAS XPORT* format files. ([GH 4052](https://github.com/pandas-dev/pandas/issues/4052)).'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '`read_sas()`现在提供对读取*SAS XPORT*格式文件的支持。 ([GH 4052](https://github.com/pandas-dev/pandas/issues/4052)).'
- en: '[PRE15]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: It is also possible to obtain an iterator and read an XPORT file incrementally.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 还可以获得迭代器并逐步读取XPORT文件。
- en: '[PRE16]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'See the [docs](../user_guide/io.html#io-sas) for more details.  ### Support
    for math functions in .eval()'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '详细信息请参阅[文档](../user_guide/io.html#io-sas)  ### 在.eval()中支持数学函数'
- en: '[`eval()`](../reference/api/pandas.eval.html#pandas.eval "pandas.eval") now
    supports calling math functions ([GH 4893](https://github.com/pandas-dev/pandas/issues/4893))'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '[`eval()`](../reference/api/pandas.eval.html#pandas.eval "pandas.eval") 现在支持调用数学函数
    ([GH 4893](https://github.com/pandas-dev/pandas/issues/4893))'
- en: '[PRE17]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: The support math functions are `sin`, `cos`, `exp`, `log`, `expm1`, `log1p`,
    `sqrt`, `sinh`, `cosh`, `tanh`, `arcsin`, `arccos`, `arctan`, `arccosh`, `arcsinh`,
    `arctanh`, `abs` and `arctan2`.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 支持的数学函数有`sin`, `cos`, `exp`, `log`, `expm1`, `log1p`, `sqrt`, `sinh`, `cosh`,
    `tanh`, `arcsin`, `arccos`, `arctan`, `arccosh`, `arcsinh`, `arctanh`, `abs` 和
    `arctan2`.
- en: These functions map to the intrinsics for the `NumExpr` engine. For the Python
    engine, they are mapped to `NumPy` calls.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 这些函数映射到`NumExpr`引擎的内部函数。对于Python引擎，它们被映射到`NumPy`调用。
- en: Changes to Excel with `MultiIndex`
  id: totrans-108
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Excel中的更改与`MultiIndex`
- en: In version 0.16.2 a `DataFrame` with `MultiIndex` columns could not be written
    to Excel via `to_excel`. That functionality has been added ([GH 10564](https://github.com/pandas-dev/pandas/issues/10564)),
    along with updating `read_excel` so that the data can be read back with, no loss
    of information, by specifying which columns/rows make up the `MultiIndex` in the
    `header` and `index_col` parameters ([GH 4679](https://github.com/pandas-dev/pandas/issues/4679))
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 在版本0.16.2中，具有`MultiIndex`列的`DataFrame`无法通过`to_excel`写入Excel。已经添加了这个功能 ([GH 10564](https://github.com/pandas-dev/pandas/issues/10564))，同时更新了`read_excel`，以便通过在`header`和`index_col`参数中指定哪些列/行组成`MultiIndex`，可以读取数据而不会丢失信息
    ([GH 4679](https://github.com/pandas-dev/pandas/issues/4679))
- en: See the [documentation](../user_guide/io.html#io-excel) for more details.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 有关详细信息，请参阅[文档](../user_guide/io.html#io-excel)。
- en: '[PRE18]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Previously, it was necessary to specify the `has_index_names` argument in `read_excel`,
    if the serialized data had index names. For version 0.17.0 the output format of
    `to_excel` has been changed to make this keyword unnecessary - the change is shown
    below.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，在`read_excel`中必须指定`has_index_names`参数，如果序列化数据具有索引名称。对于版本0.17.0，`to_excel`的输出格式已更改，使得这个关键字不再必要
    - 更改如下所示。
- en: '**Old**'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '**旧**'
- en: '![../_images/old-excel-index.png](../Images/24fc3cf72dcb9ab17e7d499a0c8be954.png)'
  id: totrans-114
  prefs: []
  type: TYPE_IMG
  zh: '![../_images/old-excel-index.png](../Images/24fc3cf72dcb9ab17e7d499a0c8be954.png)'
- en: '**New**'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '**新**'
- en: '![../_images/new-excel-index.png](../Images/a628af99312aec6b62837d7d84324a39.png)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![../_images/new-excel-index.png](../Images/a628af99312aec6b62837d7d84324a39.png)'
- en: Warning
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: Excel files saved in version 0.16.2 or prior that had index names will still
    able to be read in, but the `has_index_names` argument must specified to `True`.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 保存在版本0.16.2或之前并且具有索引名称的Excel文件仍然可以被读取，但必须指定`has_index_names`参数为`True`。
- en: '### Google BigQuery enhancements'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '### Google BigQuery增强'
- en: Added ability to automatically create a table/dataset using the `pandas.io.gbq.to_gbq()`
    function if the destination table/dataset does not exist. ([GH 8325](https://github.com/pandas-dev/pandas/issues/8325),
    [GH 11121](https://github.com/pandas-dev/pandas/issues/11121)).
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了使用`pandas.io.gbq.to_gbq()`函数自动创建表/数据集的能力，如果目标表/数据集不存在的话。 ([GH 8325](https://github.com/pandas-dev/pandas/issues/8325),
    [GH 11121](https://github.com/pandas-dev/pandas/issues/11121)).
- en: Added ability to replace an existing table and schema when calling the `pandas.io.gbq.to_gbq()`
    function via the `if_exists` argument. See the [docs](https://pandas-gbq.readthedocs.io/en/latest/writing.html)
    for more details ([GH 8325](https://github.com/pandas-dev/pandas/issues/8325)).
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了通过 `if_exists` 参数调用 `pandas.io.gbq.to_gbq()` 函数时替换现有表和模式的能力。 有关更多详细信息，请参阅[文档](https://pandas-gbq.readthedocs.io/en/latest/writing.html)（[GH
    8325](https://github.com/pandas-dev/pandas/issues/8325)）。
- en: '`InvalidColumnOrder` and `InvalidPageToken` in the gbq module will raise `ValueError`
    instead of `IOError`.'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gbq 模块中的 `InvalidColumnOrder` 和 `InvalidPageToken` 将引发 `ValueError` 而不是 `IOError`。
- en: The `generate_bq_schema()` function is now deprecated and will be removed in
    a future version ([GH 11121](https://github.com/pandas-dev/pandas/issues/11121))
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`generate_bq_schema()` 函数现已过时，并将在将来的版本中删除（[GH 11121](https://github.com/pandas-dev/pandas/issues/11121)）'
- en: 'The gbq module will now support Python 3 ([GH 11094](https://github.com/pandas-dev/pandas/issues/11094)).  ###
    Display alignment with Unicode East Asian width'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'gbq 模块现在将支持 Python 3（[GH 11094](https://github.com/pandas-dev/pandas/issues/11094)）。  ###
    显示与 Unicode 东亚宽度对齐'
- en: Warning
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: Enabling this option will affect the performance for printing of `DataFrame`
    and `Series` (about 2 times slower). Use only when it is actually required.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 启用此选项将影响打印 `DataFrame` 和 `Series` 的性能（大约慢 2 倍）。 仅在实际需要时使用。
- en: Some East Asian countries use Unicode characters its width is corresponding
    to 2 alphabets. If a `DataFrame` or `Series` contains these characters, the default
    output cannot be aligned properly. The following options are added to enable precise
    handling for these characters.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 一些东亚国家使用 Unicode 字符，其宽度对应于 2 个字母。 如果 `DataFrame` 或 `Series` 包含这些字符，则默认输出无法正确对齐。
    添加以下选项以精确处理这些字符。
- en: '`display.unicode.east_asian_width`: Whether to use the Unicode East Asian Width
    to calculate the display text width. ([GH 2612](https://github.com/pandas-dev/pandas/issues/2612))'
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`display.unicode.east_asian_width`：是否使用 Unicode 东亚宽度来计算显示文本宽度。 （[GH 2612](https://github.com/pandas-dev/pandas/issues/2612)）'
- en: '`display.unicode.ambiguous_as_wide`: Whether to handle Unicode characters belong
    to Ambiguous as Wide. ([GH 11102](https://github.com/pandas-dev/pandas/issues/11102))'
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`display.unicode.ambiguous_as_wide`：是否处理 Unicode 字符属于 Ambiguous 为 Wide。 （[GH
    11102](https://github.com/pandas-dev/pandas/issues/11102)）'
- en: '[PRE19]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '[PRE20]'
  id: totrans-131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'For further details, see [here](../user_guide/options.html#options-east-asian-width)  ###
    Other enhancements'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '更多详细信息，请参阅[这里](../user_guide/options.html#options-east-asian-width)  ### 其他增强'
- en: Support for `openpyxl` >= 2.2\. The API for style support is now stable ([GH
    10125](https://github.com/pandas-dev/pandas/issues/10125))
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持 `openpyxl` >= 2.2。 样式支持的 API 现在稳定（[GH 10125](https://github.com/pandas-dev/pandas/issues/10125)）
- en: '`merge` now accepts the argument `indicator` which adds a Categorical-type
    column (by default called `_merge`) to the output object that takes on the values
    ([GH 8790](https://github.com/pandas-dev/pandas/issues/8790))'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`merge` 现在接受参数 `indicator`，它将向输出对象添加一个分类类型的列（默认称为 `_merge`），该列接受以下值（[GH 8790](https://github.com/pandas-dev/pandas/issues/8790)）'
- en: '| Observation Origin | `_merge` value |'
  id: totrans-135
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 观察来源 | `_merge` 值 |'
- en: '| --- | --- |'
  id: totrans-136
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Merge key only in `''left''` frame | `left_only` |'
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 仅在 `''left''` 框架中的合并键 | `left_only` |'
- en: '| Merge key only in `''right''` frame | `right_only` |'
  id: totrans-138
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 仅在 `''right''` 框架中的合并键 | `right_only` |'
- en: '| Merge key in both frames | `both` |'
  id: totrans-139
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 两个框架中的合并键 | `both` |'
- en: '[PRE21]'
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: For more, see the [updated docs](../user_guide/merging.html#merging-indicator)
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 更多信息，请参阅[更新文档](../user_guide/merging.html#merging-indicator)
- en: '`pd.to_numeric` is a new function to coerce strings to numbers (possibly with
    coercion) ([GH 11133](https://github.com/pandas-dev/pandas/issues/11133))'
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.to_numeric` 是一个新函数，用于将字符串强制转换为数字（可能会进行强制转换）（[GH 11133](https://github.com/pandas-dev/pandas/issues/11133)）'
- en: '`pd.merge` will now allow duplicate column names if they are not merged upon
    ([GH 10639](https://github.com/pandas-dev/pandas/issues/10639)).'
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果它们未合并，则 `pd.merge` 现在将允许重复列名（[GH 10639](https://github.com/pandas-dev/pandas/issues/10639)）。
- en: '`pd.pivot` will now allow passing index as `None` ([GH 3962](https://github.com/pandas-dev/pandas/issues/3962)).'
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.pivot` 现在将允许将索引作为 `None` 传递（[GH 3962](https://github.com/pandas-dev/pandas/issues/3962)）。'
- en: '`pd.concat` will now use existing Series names if provided ([GH 10698](https://github.com/pandas-dev/pandas/issues/10698)).'
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.concat` 现在将使用提供的现有 Series 名称（如果提供）（[GH 10698](https://github.com/pandas-dev/pandas/issues/10698)）。'
- en: '[PRE22]'
  id: totrans-146
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Previous behavior:'
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 先前行为：
- en: '[PRE23]'
  id: totrans-148
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'New behavior:'
  id: totrans-149
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE24]'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '`DataFrame` has gained the `nlargest` and `nsmallest` methods ([GH 10393](https://github.com/pandas-dev/pandas/issues/10393))'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame` 已增加 `nlargest` 和 `nsmallest` 方法（[GH 10393](https://github.com/pandas-dev/pandas/issues/10393)）'
- en: Add a `limit_direction` keyword argument that works with `limit` to enable `interpolate`
    to fill `NaN` values forward, backward, or both ([GH 9218](https://github.com/pandas-dev/pandas/issues/9218),
    [GH 10420](https://github.com/pandas-dev/pandas/issues/10420), [GH 11115](https://github.com/pandas-dev/pandas/issues/11115))
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了一个 `limit_direction` 关键字参数，与 `limit` 一起使用以使 `interpolate` 填充 `NaN` 值向前、向后或两者都填充（[GH
    9218](https://github.com/pandas-dev/pandas/issues/9218)，[GH 10420](https://github.com/pandas-dev/pandas/issues/10420)，[GH
    11115](https://github.com/pandas-dev/pandas/issues/11115)）
- en: '[PRE25]'
  id: totrans-153
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Added a `DataFrame.round` method to round the values to a variable number of
    decimal places ([GH 10568](https://github.com/pandas-dev/pandas/issues/10568)).
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了一个 `DataFrame.round` 方法，以将值四舍五入为可变小数位数（[GH 10568](https://github.com/pandas-dev/pandas/issues/10568)）。
- en: '[PRE26]'
  id: totrans-155
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: '`drop_duplicates` and `duplicated` now accept a `keep` keyword to target first,
    last, and all duplicates. The `take_last` keyword is deprecated, see [here](#whatsnew-0170-deprecations)
    ([GH 6511](https://github.com/pandas-dev/pandas/issues/6511), [GH 8505](https://github.com/pandas-dev/pandas/issues/8505))'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`drop_duplicates` 和 `duplicated` 现在接受一个 `keep` 关键字来定位第一个、最后一个和所有重复项。 `take_last`
    关键字已弃用，请参阅[此处](#whatsnew-0170-deprecations)（[GH 6511](https://github.com/pandas-dev/pandas/issues/6511)，[GH
    8505](https://github.com/pandas-dev/pandas/issues/8505)）'
- en: '[PRE27]'
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Reindex now has a `tolerance` argument that allows for finer control of [Limits
    on filling while reindexing](../user_guide/basics.html#basics-limits-on-reindex-fill)
    ([GH 10411](https://github.com/pandas-dev/pandas/issues/10411)):'
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Reindex 现在具有 `tolerance` 参数，允许更精细地控制[重新索引时填充的限制](../user_guide/basics.html#basics-limits-on-reindex-fill)（[GH
    10411](https://github.com/pandas-dev/pandas/issues/10411)）：
- en: '[PRE28]'
  id: totrans-159
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'When used on a `DatetimeIndex`, `TimedeltaIndex` or `PeriodIndex`, `tolerance`
    will coerced into a `Timedelta` if possible. This allows you to specify tolerance
    with a string:'
  id: totrans-160
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当用于 `DatetimeIndex`、`TimedeltaIndex` 或 `PeriodIndex` 时，如果可能的话，`tolerance` 将被强制转换为
    `Timedelta`。这使您可以使用字符串指定容差：
- en: '[PRE29]'
  id: totrans-161
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: '`tolerance` is also exposed by the lower level `Index.get_indexer` and `Index.get_loc`
    methods.'
  id: totrans-162
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`tolerance` 也由底层的 `Index.get_indexer` 和 `Index.get_loc` 方法公开。'
- en: Added functionality to use the `base` argument when resampling a `TimeDeltaIndex`
    ([GH 10530](https://github.com/pandas-dev/pandas/issues/10530))
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了在重新采样 `TimeDeltaIndex` 时使用 `base` 参数的功能（[GH 10530](https://github.com/pandas-dev/pandas/issues/10530)）
- en: '`DatetimeIndex` can be instantiated using strings contains `NaT` ([GH 7599](https://github.com/pandas-dev/pandas/issues/7599))'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex` 可以使用包含 `NaT` 的字符串进行实例化（[GH 7599](https://github.com/pandas-dev/pandas/issues/7599)）'
- en: '`to_datetime` can now accept the `yearfirst` keyword ([GH 7599](https://github.com/pandas-dev/pandas/issues/7599))'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_datetime` 现在可以接受 `yearfirst` 关键字（[GH 7599](https://github.com/pandas-dev/pandas/issues/7599)）'
- en: '`pandas.tseries.offsets` larger than the `Day` offset can now be used with
    a `Series` for addition/subtraction ([GH 10699](https://github.com/pandas-dev/pandas/issues/10699)).
    See the [docs](../user_guide/timeseries.html#timeseries-offsetseries) for more
    details.'
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.tseries.offsets` 大于 `Day` 偏移量现在可以与 `Series` 一起使用进行加法/减法（[GH 10699](https://github.com/pandas-dev/pandas/issues/10699)）。有关更多详细信息，请参阅[文档](../user_guide/timeseries.html#timeseries-offsetseries)。'
- en: '`pd.Timedelta.total_seconds()` now returns Timedelta duration to ns precision
    (previously microsecond precision) ([GH 10939](https://github.com/pandas-dev/pandas/issues/10939))'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.Timedelta.total_seconds()` 现在返回纳秒精度的 Timedelta 时长（之前是微秒精度）（[GH 10939](https://github.com/pandas-dev/pandas/issues/10939)）'
- en: '`PeriodIndex` now supports arithmetic with `np.ndarray` ([GH 10638](https://github.com/pandas-dev/pandas/issues/10638))'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PeriodIndex` 现在支持与 `np.ndarray` 的算术运算（[GH 10638](https://github.com/pandas-dev/pandas/issues/10638)）'
- en: Support pickling of `Period` objects ([GH 10439](https://github.com/pandas-dev/pandas/issues/10439))
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持对 `Period` 对象进行 pickling（[GH 10439](https://github.com/pandas-dev/pandas/issues/10439)）
- en: '`.as_blocks` will now take a `copy` optional argument to return a copy of the
    data, default is to copy (no change in behavior from prior versions), ([GH 9607](https://github.com/pandas-dev/pandas/issues/9607))'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.as_blocks` 现在将接受一个 `copy` 可选参数以返回数据的副本，默认为复制（与先前版本的行为没有变化）（[GH 9607](https://github.com/pandas-dev/pandas/issues/9607)）'
- en: '`regex` argument to `DataFrame.filter` now handles numeric column names instead
    of raising `ValueError` ([GH 10384](https://github.com/pandas-dev/pandas/issues/10384)).'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.filter` 的 `regex` 参数现在处理数字列名而不是引发 `ValueError`（[GH 10384](https://github.com/pandas-dev/pandas/issues/10384)）。'
- en: Enable reading gzip compressed files via URL, either by explicitly setting the
    compression parameter or by inferring from the presence of the HTTP Content-Encoding
    header in the response ([GH 8685](https://github.com/pandas-dev/pandas/issues/8685))
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 URL 读取 gzip 压缩文件，可以通过显式设置压缩参数或通过推断响应中的 HTTP Content-Encoding 头来实现（[GH 8685](https://github.com/pandas-dev/pandas/issues/8685)）
- en: Enable writing Excel files in [memory](../user_guide/io.html#io-excel-writing-buffer)
    using StringIO/BytesIO ([GH 7074](https://github.com/pandas-dev/pandas/issues/7074))
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用StringIO/BytesIO在[内存](../user_guide/io.html#io-excel-writing-buffer)中写入Excel文件
    ([GH 7074](https://github.com/pandas-dev/pandas/issues/7074))
- en: Enable serialization of lists and dicts to strings in `ExcelWriter` ([GH 8188](https://github.com/pandas-dev/pandas/issues/8188))
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`ExcelWriter`中启用对列表和字典的序列化为字符串的功能（[GH 8188](https://github.com/pandas-dev/pandas/issues/8188))
- en: SQL io functions now accept a SQLAlchemy connectable. ([GH 7877](https://github.com/pandas-dev/pandas/issues/7877))
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SQL io函数现在接受一个SQLAlchemy连接对象。([GH 7877](https://github.com/pandas-dev/pandas/issues/7877))
- en: '`pd.read_sql` and `to_sql` can accept database URI as `con` parameter ([GH
    10214](https://github.com/pandas-dev/pandas/issues/10214))'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_sql`和`to_sql`现在可以接受数据库URI作为`con`参数（[GH 10214](https://github.com/pandas-dev/pandas/issues/10214))'
- en: '`read_sql_table` will now allow reading from views ([GH 10750](https://github.com/pandas-dev/pandas/issues/10750)).'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`read_sql_table`现在允许从视图中读取数据 ([GH 10750](https://github.com/pandas-dev/pandas/issues/10750)).'
- en: Enable writing complex values to `HDFStores` when using the `table` format ([GH
    10447](https://github.com/pandas-dev/pandas/issues/10447))
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`table`格式时，允许将复杂值写入`HDFStores` ([GH 10447](https://github.com/pandas-dev/pandas/issues/10447))
- en: Enable `pd.read_hdf` to be used without specifying a key when the HDF file contains
    a single dataset ([GH 10443](https://github.com/pandas-dev/pandas/issues/10443))
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当HDF文件包含单个数据集时，允许在不指定键的情况下使用`pd.read_hdf` ([GH 10443](https://github.com/pandas-dev/pandas/issues/10443))
- en: '`pd.read_stata` will now read Stata 118 type files. ([GH 9882](https://github.com/pandas-dev/pandas/issues/9882))'
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_stata`现在可以读取Stata 118类型文件。 ([GH 9882](https://github.com/pandas-dev/pandas/issues/9882))'
- en: '`msgpack` submodule has been updated to 0.4.6 with backward compatibility ([GH
    10581](https://github.com/pandas-dev/pandas/issues/10581))'
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`msgpack`子模块已更新为0.4.6，并保持向后兼容性 ([GH 10581](https://github.com/pandas-dev/pandas/issues/10581))'
- en: '`DataFrame.to_dict` now accepts `orient=''index''` keyword argument ([GH 10844](https://github.com/pandas-dev/pandas/issues/10844)).'
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.to_dict`现在接受`orient=''index''`关键字参数 ([GH 10844](https://github.com/pandas-dev/pandas/issues/10844)).'
- en: '`DataFrame.apply` will return a Series of dicts if the passed function returns
    a dict and `reduce=True` ([GH 8735](https://github.com/pandas-dev/pandas/issues/8735)).'
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果传递的函数返回一个字典且`reduce=True`，`DataFrame.apply`将返回一个字典的Series ([GH 8735](https://github.com/pandas-dev/pandas/issues/8735)).
- en: Allow passing `kwargs` to the interpolation methods ([GH 10378](https://github.com/pandas-dev/pandas/issues/10378)).
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许将`kwargs`传递给插值方法 ([GH 10378](https://github.com/pandas-dev/pandas/issues/10378)).
- en: Improved error message when concatenating an empty iterable of `Dataframe` objects
    ([GH 9157](https://github.com/pandas-dev/pandas/issues/9157))
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在连接空的`Dataframe`对象的可迭代对象时，改进了错误消息 ([GH 9157](https://github.com/pandas-dev/pandas/issues/9157))
- en: '`pd.read_csv` can now read bz2-compressed files incrementally, and the C parser
    can read bz2-compressed files from AWS S3 ([GH 11070](https://github.com/pandas-dev/pandas/issues/11070),
    [GH 11072](https://github.com/pandas-dev/pandas/issues/11072)).'
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv`现在可以逐步读取bz2压缩文件，并且C解析器可以从AWS S3读取bz2压缩文件 ([GH 11070](https://github.com/pandas-dev/pandas/issues/11070),
    [GH 11072](https://github.com/pandas-dev/pandas/issues/11072)).'
- en: In `pd.read_csv`, recognize `s3n://` and `s3a://` URLs as designating S3 file
    storage ([GH 11070](https://github.com/pandas-dev/pandas/issues/11070), [GH 11071](https://github.com/pandas-dev/pandas/issues/11071)).
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`pd.read_csv`中，识别`s3n://`和`s3a://` URL作为S3文件存储的指示符 ([GH 11070](https://github.com/pandas-dev/pandas/issues/11070),
    [GH 11071](https://github.com/pandas-dev/pandas/issues/11071)).
- en: Read CSV files from AWS S3 incrementally, instead of first downloading the entire
    file. (Full file download still required for compressed files in Python 2.) ([GH
    11070](https://github.com/pandas-dev/pandas/issues/11070), [GH 11073](https://github.com/pandas-dev/pandas/issues/11073))
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 逐步从AWS S3读取CSV文件，而不是首先下载整个文件。 （Python 2中仍需要完整文件下载以读取压缩文件。） ([GH 11070](https://github.com/pandas-dev/pandas/issues/11070),
    [GH 11073](https://github.com/pandas-dev/pandas/issues/11073))
- en: '`pd.read_csv` is now able to infer compression type for files read from AWS
    S3 storage ([GH 11070](https://github.com/pandas-dev/pandas/issues/11070), [GH
    11074](https://github.com/pandas-dev/pandas/issues/11074)).  ## Backwards incompatible
    API changes'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv`现在能够推断从AWS S3存储读取的文件的压缩类型 ([GH 11070](https://github.com/pandas-dev/pandas/issues/11070),
    [GH 11074](https://github.com/pandas-dev/pandas/issues/11074)).  ## 不兼容的API更改'
- en: '### Changes to sorting API'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: '### 排序API的更改'
- en: The sorting API has had some longtime inconsistencies. ([GH 9816](https://github.com/pandas-dev/pandas/issues/9816),
    [GH 8239](https://github.com/pandas-dev/pandas/issues/8239)).
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 排序API存在一些长期存在的不一致性。([GH 9816](https://github.com/pandas-dev/pandas/issues/9816),
    [GH 8239](https://github.com/pandas-dev/pandas/issues/8239)).
- en: 'Here is a summary of the API **PRIOR** to 0.17.0:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是0.17.0之前的API的摘要：
- en: '`Series.sort` is **INPLACE** while `DataFrame.sort` returns a new object.'
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.sort` **就地**进行，而 `DataFrame.sort` 返回一个新对象。'
- en: '`Series.order` returns a new object'
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.order` 返回一个新对象'
- en: It was possible to use `Series/DataFrame.sort_index` to sort by **values** by
    passing the `by` keyword.
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 过去可以使用 `Series/DataFrame.sort_index` 通过传递 `by` 关键字来按 **值** 排序。
- en: '`Series/DataFrame.sortlevel` worked only on a `MultiIndex` for sorting by index.'
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series/DataFrame.sortlevel` 仅对 `MultiIndex` 进行索引排序有效。'
- en: 'To address these issues, we have revamped the API:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 为了解决这些问题，我们已经重新设计了API：
- en: We have introduced a new method, [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values"), which is the merger of `DataFrame.sort()`, `Series.sort()`,
    and `Series.order()`, to handle sorting of **values**.
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们引入了一个新方法，[`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values")，它是 `DataFrame.sort()`，`Series.sort()` 和 `Series.order()`
    的合并，用于处理 **值** 的排序。
- en: The existing methods `Series.sort()`, `Series.order()`, and `DataFrame.sort()`
    have been deprecated and will be removed in a future version.
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现有的方法 `Series.sort()`，`Series.order()` 和 `DataFrame.sort()` 已被弃用，并将在将来的版本中删除。
- en: The `by` argument of `DataFrame.sort_index()` has been deprecated and will be
    removed in a future version.
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.sort_index()` 的 `by` 参数已弃用，并将在将来的版本中删除。'
- en: The existing method `.sort_index()` will gain the `level` keyword to enable
    level sorting.
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现有方法 `.sort_index()` 将获得 `level` 关键字以启用级别排序。
- en: We now have two distinct and non-overlapping methods of sorting. A `*` marks
    items that will show a `FutureWarning`.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有了两种不重叠的排序方法。一个 `*` 标记的项目将显示 `FutureWarning`。
- en: 'To sort by the **values**:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 要按**值**排序：
- en: '| Previous | Replacement |'
  id: totrans-204
  prefs: []
  type: TYPE_TB
  zh: '| 之前 | 替代 |'
- en: '| --- | --- |'
  id: totrans-205
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| * `Series.order()` | `Series.sort_values()` |'
  id: totrans-206
  prefs: []
  type: TYPE_TB
  zh: '| * `Series.order()` | `Series.sort_values()` |'
- en: '| * `Series.sort()` | `Series.sort_values(inplace=True)` |'
  id: totrans-207
  prefs: []
  type: TYPE_TB
  zh: '| * `Series.sort()` | `Series.sort_values(inplace=True)` |'
- en: '| * `DataFrame.sort(columns=...)` | `DataFrame.sort_values(by=...)` |'
  id: totrans-208
  prefs: []
  type: TYPE_TB
  zh: '| * `DataFrame.sort(columns=...)` | `DataFrame.sort_values(by=...)` |'
- en: 'To sort by the **index**:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 要按 **索引** 排序：
- en: '| Previous | Replacement |'
  id: totrans-210
  prefs: []
  type: TYPE_TB
  zh: '| 之前 | 替代 |'
- en: '| --- | --- |'
  id: totrans-211
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `Series.sort_index()` | `Series.sort_index()` |'
  id: totrans-212
  prefs: []
  type: TYPE_TB
  zh: '| `Series.sort_index()` | `Series.sort_index()` |'
- en: '| `Series.sortlevel(level=...)` | `Series.sort_index(level=...`) |'
  id: totrans-213
  prefs: []
  type: TYPE_TB
  zh: '| `Series.sortlevel(level=...)` | `Series.sort_index(level=...`) |'
- en: '| `DataFrame.sort_index()` | `DataFrame.sort_index()` |'
  id: totrans-214
  prefs: []
  type: TYPE_TB
  zh: '| `DataFrame.sort_index()` | `DataFrame.sort_index()` |'
- en: '| `DataFrame.sortlevel(level=...)` | `DataFrame.sort_index(level=...)` |'
  id: totrans-215
  prefs: []
  type: TYPE_TB
  zh: '| `DataFrame.sortlevel(level=...)` | `DataFrame.sort_index(level=...)` |'
- en: '| * `DataFrame.sort()` | `DataFrame.sort_index()` |'
  id: totrans-216
  prefs: []
  type: TYPE_TB
  zh: '| * `DataFrame.sort()` | `DataFrame.sort_index()` |'
- en: We have also deprecated and changed similar methods in two Series-like classes,
    `Index` and `Categorical`.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还已经弃用并更改了两个类似于 Series 的类中的相似方法，即 `Index` 和 `Categorical`。
- en: '| Previous | Replacement |'
  id: totrans-218
  prefs: []
  type: TYPE_TB
  zh: '| 之前 | 替代 |'
- en: '| --- | --- |'
  id: totrans-219
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| * `Index.order()` | `Index.sort_values()` |'
  id: totrans-220
  prefs: []
  type: TYPE_TB
  zh: '| * `Index.order()` | `Index.sort_values()` |'
- en: '| * `Categorical.order()` | `Categorical.sort_values()` |  ### Changes to to_datetime
    and to_timedelta'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: '| * `Categorical.order()` | `Categorical.sort_values()` |  ### 对 to_datetime
    和 to_timedelta 的更改'
- en: Error handling
  id: totrans-222
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 错误处理
- en: The default for `pd.to_datetime` error handling has changed to `errors='raise'`.
    In prior versions it was `errors='ignore'`. Furthermore, the `coerce` argument
    has been deprecated in favor of `errors='coerce'`. This means that invalid parsing
    will raise rather that return the original input as in previous versions. ([GH
    10636](https://github.com/pandas-dev/pandas/issues/10636))
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '`pd.to_datetime` 的错误处理默认已更改为 `errors=''raise''`。在以前的版本中是 `errors=''ignore''`。此外，已弃用了
    `coerce` 参数，而采用了 `errors=''coerce''`。这意味着无效的解析将引发异常，而不是像以前的版本那样返回原始输入。([GH 10636](https://github.com/pandas-dev/pandas/issues/10636))'
- en: 'Previous behavior:'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE30]'
  id: totrans-225
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'New behavior:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE31]'
  id: totrans-227
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: Of course you can coerce this as well.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，你也可以强制执行这一点。
- en: '[PRE32]'
  id: totrans-229
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'To keep the previous behavior, you can use `errors=''ignore''`:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 要保持以前的行为，您可以使用 `errors='ignore'`：
- en: '[PRE33]'
  id: totrans-231
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: Furthermore, `pd.to_timedelta` has gained a similar API, of `errors='raise'|'ignore'|'coerce'`,
    and the `coerce` keyword has been deprecated in favor of `errors='coerce'`.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，`pd.to_timedelta` 已获得了 `errors='raise'|'ignore'|'coerce'` 的类似API，而 `coerce`
    关键字已被弃用，而采用了 `errors='coerce'`。
- en: Consistent parsing
  id: totrans-233
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 统一解析
- en: The string parsing of `to_datetime`, `Timestamp` and `DatetimeIndex` has been
    made consistent. ([GH 7599](https://github.com/pandas-dev/pandas/issues/7599))
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: '`to_datetime`，`Timestamp`和`DatetimeIndex`的字符串解析已经统一。([GH 7599](https://github.com/pandas-dev/pandas/issues/7599))'
- en: Prior to v0.17.0, `Timestamp` and `to_datetime` may parse year-only datetime-string
    incorrectly using today’s date, otherwise `DatetimeIndex` uses the beginning of
    the year. `Timestamp` and `to_datetime` may raise `ValueError` in some types of
    datetime-string which `DatetimeIndex` can parse, such as a quarterly string.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 在v0.17.0之前，`Timestamp`和`to_datetime`可能会使用今天的日期不正确地解析仅包含年份的日期时间字符串，否则`DatetimeIndex`将使用年初。`Timestamp`和`to_datetime`可能会在某些`DatetimeIndex`可以解析的日期时间字符串中引发`ValueError`，例如季度字符串。
- en: 'Previous behavior:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE34]'
  id: totrans-237
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: v0.17.0 can parse them as below. It works on `DatetimeIndex` also.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: v0.17.0可以解析如下。它也适用于`DatetimeIndex`。
- en: 'New behavior:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 新的行为：
- en: '[PRE35]'
  id: totrans-240
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: Note
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: If you want to perform calculations based on today’s date, use `Timestamp.now()`
    and `pandas.tseries.offsets`.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 如果要基于今天的日期执行计算，请使用`Timestamp.now()`和`pandas.tseries.offsets`。
- en: '[PRE36]'
  id: totrans-243
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: Changes to Index comparisons
  id: totrans-244
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 索引比较的更改
- en: Operator equal on `Index` should behavior similarly to `Series` ([GH 9947](https://github.com/pandas-dev/pandas/issues/9947),
    [GH 10637](https://github.com/pandas-dev/pandas/issues/10637))
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 在`Index`上的等于操作应该与`Series`类似（[GH 9947](https://github.com/pandas-dev/pandas/issues/9947),
    [GH 10637](https://github.com/pandas-dev/pandas/issues/10637)）
- en: Starting in v0.17.0, comparing `Index` objects of different lengths will raise
    a `ValueError`. This is to be consistent with the behavior of `Series`.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 从v0.17.0开始，比较不同长度的`Index`对象将引发`ValueError`。这是为了与`Series`的行为保持一致。
- en: 'Previous behavior:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE37]'
  id: totrans-248
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'New behavior:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 新的行为：
- en: '[PRE38]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'Note that this is different from the `numpy` behavior where a comparison can
    be broadcast:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，这与`numpy`的行为不同，其中比较可以进行广播：
- en: '[PRE39]'
  id: totrans-252
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'or it can return False if broadcasting can not be done:'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 或者如果无法进行广播，则可以返回False：
- en: '[PRE40]'
  id: totrans-254
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: Changes to boolean comparisons vs. None
  id: totrans-255
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 布尔比较与None的更改
- en: Boolean comparisons of a `Series` vs `None` will now be equivalent to comparing
    with `np.nan`, rather than raise `TypeError`. ([GH 1079](https://github.com/pandas-dev/pandas/issues/1079)).
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: '`Series`与`None`的布尔比较现在等同于与`np.nan`比较，而不是引发`TypeError`。([GH 1079](https://github.com/pandas-dev/pandas/issues/1079)).'
- en: '[PRE41]'
  id: totrans-257
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'Previous behavior:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE42]'
  id: totrans-259
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'New behavior:'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 新的行为：
- en: '[PRE43]'
  id: totrans-261
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: Usually you simply want to know which values are null.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 通常你只想知道哪些值是空的。
- en: '[PRE44]'
  id: totrans-263
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: Warning
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: You generally will want to use `isnull/notnull` for these types of comparisons,
    as `isnull/notnull` tells you which elements are null. One has to be mindful that
    `nan's` don’t compare equal, but `None's` do. Note that pandas/numpy uses the
    fact that `np.nan != np.nan`, and treats `None` like `np.nan`.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 通常情况下，您会想要使用`isnull/notnull`进行这些类型的比较，因为`isnull/notnull`告诉您哪些元素为空。必须注意`nan`不相等，但`None`相等。请注意pandas/numpy使用`np.nan
    != np.nan`的事实，并将`None`视为`np.nan`。
- en: '[PRE45]'
  id: totrans-266
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: '### HDFStore dropna behavior'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: '### HDFStore dropna 行为'
- en: The default behavior for HDFStore write functions with `format='table'` is now
    to keep rows that are all missing. Previously, the behavior was to drop rows that
    were all missing save the index. The previous behavior can be replicated using
    the `dropna=True` option. ([GH 9382](https://github.com/pandas-dev/pandas/issues/9382))
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`format='table'`的HDFStore写函数的默认行为现在是保留所有缺失的行。先前的行为是删除所有缺失的行，保存索引。可以使用`dropna=True`选项复制先前的行为。([GH
    9382](https://github.com/pandas-dev/pandas/issues/9382))
- en: 'Previous behavior:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE46]'
  id: totrans-270
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: '[PRE47]'
  id: totrans-271
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'New behavior:'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 新的行为：
- en: '[PRE48]'
  id: totrans-273
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'See the [docs](../user_guide/io.html#io-hdf5) for more details.  ### Changes
    to `display.precision` option'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: '更多细节请参阅[文档](../user_guide/io.html#io-hdf5)。  ### 更改`display.precision`选项'
- en: The `display.precision` option has been clarified to refer to decimal places
    ([GH 10451](https://github.com/pandas-dev/pandas/issues/10451)).
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: '`display.precision`选项已经明确指的是小数位数（[GH 10451](https://github.com/pandas-dev/pandas/issues/10451)）。'
- en: Earlier versions of pandas would format floating point numbers to have one less
    decimal place than the value in `display.precision`.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 早期版本的pandas会将浮点数格式化为比`display.precision`中的值少一个小数位数。
- en: '[PRE49]'
  id: totrans-277
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: If interpreting precision as “significant figures” this did work for scientific
    notation but that same interpretation did not work for values with standard formatting.
    It was also out of step with how numpy handles formatting.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 如果将精度解释为“有效数字”，这对科学记数法有效，但对于具有标准格式的值则不适用。这也与numpy处理格式的方式不一致。
- en: Going forward the value of `display.precision` will directly control the number
    of places after the decimal, for regular formatting as well as scientific notation,
    similar to how numpy’s `precision` print option works.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 从现在开始，`display.precision`的值将直接控制小数点后的位数，用于常规格式和科学记数法，类似于numpy的`precision`打印选项的工作方式。
- en: '[PRE50]'
  id: totrans-280
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'To preserve output behavior with prior versions the default value of `display.precision`
    has been reduced to `6` from `7`.  ### Changes to `Categorical.unique`'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 为保留与以前版本的输出行为一致，`display.precision`的默认值已从`7`降低到`6`。### `Categorical.unique`的更改
- en: '`Categorical.unique` now returns new `Categoricals` with `categories` and `codes`
    that are unique, rather than returning `np.array` ([GH 10508](https://github.com/pandas-dev/pandas/issues/10508))'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: '`Categorical.unique`现在返回具有唯一`categories`和`codes`的新`Categoricals`，而不是返回`np.array`（[GH
    10508](https://github.com/pandas-dev/pandas/issues/10508)）'
- en: 'unordered category: values and categories are sorted by appearance order.'
  id: totrans-283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无序类别：值和类别按出现顺序排序。
- en: 'ordered category: values are sorted by appearance order, categories keep existing
    order.'
  id: totrans-284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有序类别：值按出现顺序排序，类别保持现有顺序。
- en: '[PRE51]'
  id: totrans-285
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: Changes to `bool` passed as `header` in parsers
  id: totrans-286
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 更改`parser`中传递的`header`为`bool`
- en: In earlier versions of pandas, if a bool was passed the `header` argument of
    `read_csv`, `read_excel`, or `read_html` it was implicitly converted to an integer,
    resulting in `header=0` for `False` and `header=1` for `True` ([GH 6113](https://github.com/pandas-dev/pandas/issues/6113))
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 在较早版本的pandas中，如果将`bool`传递给`read_csv`，`read_excel`或`read_html`的`header`参数，则会隐式转换为整数，导致`False`为`header=0`，`True`为`header=1`（[GH
    6113](https://github.com/pandas-dev/pandas/issues/6113)）
- en: A `bool` input to `header` will now raise a `TypeError`
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: '`header`的`bool`输入现在会引发`TypeError`'
- en: '[PRE52]'
  id: totrans-289
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: '### Other API changes'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: '### 其他API更改'
- en: Line and kde plot with `subplots=True` now uses default colors, not all black.
    Specify `color='k'` to draw all lines in black ([GH 9894](https://github.com/pandas-dev/pandas/issues/9894))
  id: totrans-291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`subplots=True`的线和kde图现在使用默认颜色，而不是全部黑色。指定`color='k'`以绘制所有线条为黑色（[GH 9894](https://github.com/pandas-dev/pandas/issues/9894)）
- en: Calling the `.value_counts()` method on a Series with a `categorical` dtype
    now returns a Series with a `CategoricalIndex` ([GH 10704](https://github.com/pandas-dev/pandas/issues/10704))
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有`categorical`dtype的Series上调用`.value_counts()`方法现在返回具有`CategoricalIndex`的Series（[GH
    10704](https://github.com/pandas-dev/pandas/issues/10704)）
- en: The metadata properties of subclasses of pandas objects will now be serialized
    ([GH 10553](https://github.com/pandas-dev/pandas/issues/10553)).
  id: totrans-293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 子类的元数据属性现在将被序列化（[GH 10553](https://github.com/pandas-dev/pandas/issues/10553)）。
- en: '`groupby` using `Categorical` follows the same rule as `Categorical.unique`
    described above ([GH 10508](https://github.com/pandas-dev/pandas/issues/10508))'
  id: totrans-294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`Categorical`进行`groupby`遵循上述`Categorical.unique`的相同规则（[GH 10508](https://github.com/pandas-dev/pandas/issues/10508)）
- en: When constructing `DataFrame` with an array of `complex64` dtype previously
    meant the corresponding column was automatically promoted to the `complex128`
    dtype. pandas will now preserve the itemsize of the input for complex data ([GH
    10952](https://github.com/pandas-dev/pandas/issues/10952))
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以`complex64`dtype数组构造`DataFrame`以前意味着相应的列会自动提升为`complex128`dtype。pandas现在将保留复杂数据的输入项大小（[GH
    10952](https://github.com/pandas-dev/pandas/issues/10952)）
- en: some numeric reduction operators would return `ValueError`, rather than `TypeError`
    on object types that includes strings and numbers ([GH 11131](https://github.com/pandas-dev/pandas/issues/11131))
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一些数值缩减运算符将在包含字符串和数字的对象类型上返回`ValueError`，而不是`TypeError`（[GH 11131](https://github.com/pandas-dev/pandas/issues/11131)）
- en: Passing currently unsupported `chunksize` argument to `read_excel` or `ExcelFile.parse`
    will now raise `NotImplementedError` ([GH 8011](https://github.com/pandas-dev/pandas/issues/8011))
  id: totrans-297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将目前不支持的`chunksize`参数传递给`read_excel`或`ExcelFile.parse`现在会引发`NotImplementedError`（[GH
    8011](https://github.com/pandas-dev/pandas/issues/8011)）
- en: Allow an `ExcelFile` object to be passed into `read_excel` ([GH 11198](https://github.com/pandas-dev/pandas/issues/11198))
  id: totrans-298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许将`ExcelFile`对象传递给`read_excel`（[GH 11198](https://github.com/pandas-dev/pandas/issues/11198))
- en: '`DatetimeIndex.union` does not infer `freq` if `self` and the input have `None`
    as `freq` ([GH 11086](https://github.com/pandas-dev/pandas/issues/11086))'
  id: totrans-299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果`self`和输入的`freq`都为`None`，则`DatetimeIndex.union`不会推断`freq`（[GH 11086](https://github.com/pandas-dev/pandas/issues/11086)）
- en: '`NaT`’s methods now either raise `ValueError`, or return `np.nan` or `NaT`
    ([GH 9513](https://github.com/pandas-dev/pandas/issues/9513))'
  id: totrans-300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`NaT`的方法现在要么引发`ValueError`，要么返回`np.nan`或`NaT`（[GH 9513](https://github.com/pandas-dev/pandas/issues/9513)）'
- en: '| Behavior | Methods |'
  id: totrans-301
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 行为 | 方法 |'
- en: '| --- | --- |'
  id: totrans-302
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| return `np.nan` | `weekday`, `isoweekday` |'
  id: totrans-303
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 返回`np.nan` | `weekday`，`isoweekday` |'
- en: '| return `NaT` | `date`, `now`, `replace`, `to_datetime`, `today` |'
  id: totrans-304
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 返回`NaT` | `date`，`now`，`replace`，`to_datetime`，`today` |'
- en: '| return `np.datetime64(''NaT'')` | `to_datetime64` (unchanged) |'
  id: totrans-305
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 返回`np.datetime64(''NaT'')` | `to_datetime64`（未更改） |'
- en: '| raise `ValueError` | All other public methods (names not beginning with underscores)
    |  ### Deprecations'
  id: totrans-306
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '| 抛出 `ValueError` | 所有其他公共方法（不以下划线开头的名称） |  ### 弃用'
- en: For `Series` the following indexing functions are deprecated ([GH 10177](https://github.com/pandas-dev/pandas/issues/10177)).
  id: totrans-307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 `Series`，以下索引函数已弃用 ([GH 10177](https://github.com/pandas-dev/pandas/issues/10177))。
- en: '| Deprecated Function | Replacement |'
  id: totrans-308
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 弃用的函数 | 替代方法 |'
- en: '| --- | --- |'
  id: totrans-309
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `.irow(i)` | `.iloc[i]` or `.iat[i]` |'
  id: totrans-310
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.irow(i)` | `.iloc[i]` 或 `.iat[i]` |'
- en: '| `.iget(i)` | `.iloc[i]` or `.iat[i]` |'
  id: totrans-311
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.iget(i)` | `.iloc[i]` 或 `.iat[i]` |'
- en: '| `.iget_value(i)` | `.iloc[i]` or `.iat[i]` |'
  id: totrans-312
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.iget_value(i)` | `.iloc[i]` 或 `.iat[i]` |'
- en: For `DataFrame` the following indexing functions are deprecated ([GH 10177](https://github.com/pandas-dev/pandas/issues/10177)).
  id: totrans-313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 `DataFrame`，以下索引函数已弃用 ([GH 10177](https://github.com/pandas-dev/pandas/issues/10177)).
- en: '| Deprecated Function | Replacement |'
  id: totrans-314
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 弃用的函数 | 替代方法 |'
- en: '| --- | --- |'
  id: totrans-315
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `.irow(i)` | `.iloc[i]` |'
  id: totrans-316
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.irow(i)` | `.iloc[i]` |'
- en: '| `.iget_value(i, j)` | `.iloc[i, j]` or `.iat[i, j]` |'
  id: totrans-317
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.iget_value(i, j)` | `.iloc[i, j]` 或 `.iat[i, j]` |'
- en: '| `.icol(j)` | `.iloc[:, j]` |'
  id: totrans-318
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.icol(j)` | `.iloc[:, j]` |'
- en: Note
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: These indexing function have been deprecated in the documentation since 0.11.0.
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 这些索引函数自 0.11.0 起已在文档中弃用。
- en: '`Categorical.name` was deprecated to make `Categorical` more `numpy.ndarray`
    like. Use `Series(cat, name="whatever")` instead ([GH 10482](https://github.com/pandas-dev/pandas/issues/10482)).'
  id: totrans-321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.name` 已弃用以使 `Categorical` 更类似于 `numpy.ndarray`。使用 `Series(cat,
    name="whatever")` 替代 ([GH 10482](https://github.com/pandas-dev/pandas/issues/10482)).'
- en: Setting missing values (NaN) in a `Categorical`’s `categories` will issue a
    warning ([GH 10748](https://github.com/pandas-dev/pandas/issues/10748)). You can
    still have missing values in the `values`.
  id: totrans-322
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Categorical` 的 `categories` 中设置缺失值（NaN）将发出警告 ([GH 10748](https://github.com/pandas-dev/pandas/issues/10748)).
    您仍然可以在 `values` 中有缺失值。
- en: '`drop_duplicates` and `duplicated`’s `take_last` keyword was deprecated in
    favor of `keep`. ([GH 6511](https://github.com/pandas-dev/pandas/issues/6511),
    [GH 8505](https://github.com/pandas-dev/pandas/issues/8505))'
  id: totrans-323
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`drop_duplicates` 和 `duplicated` 的 `take_last` 关键字已弃用，建议使用 `keep`。([GH 6511](https://github.com/pandas-dev/pandas/issues/6511),
    [GH 8505](https://github.com/pandas-dev/pandas/issues/8505))'
- en: '`Series.nsmallest` and `nlargest`’s `take_last` keyword was deprecated in favor
    of `keep`. ([GH 10792](https://github.com/pandas-dev/pandas/issues/10792))'
  id: totrans-324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.nsmallest` 和 `nlargest` 的 `take_last` 关键字已弃用，建议使用 `keep`。([GH 10792](https://github.com/pandas-dev/pandas/issues/10792))'
- en: '`DataFrame.combineAdd` and `DataFrame.combineMult` are deprecated. They can
    easily be replaced by using the `add` and `mul` methods: `DataFrame.add(other,
    fill_value=0)` and `DataFrame.mul(other, fill_value=1.)` ([GH 10735](https://github.com/pandas-dev/pandas/issues/10735)).'
  id: totrans-325
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.combineAdd` 和 `DataFrame.combineMult` 已弃用。可以通过使用 `add` 和 `mul` 方法轻松替换：`DataFrame.add(other,
    fill_value=0)` 和 `DataFrame.mul(other, fill_value=1.)` ([GH 10735](https://github.com/pandas-dev/pandas/issues/10735)).'
- en: '`TimeSeries` deprecated in favor of `Series` (note that this has been an alias
    since 0.13.0), ([GH 10890](https://github.com/pandas-dev/pandas/issues/10890))'
  id: totrans-326
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`TimeSeries` 弃用，建议使用 `Series`（请注意，自 0.13.0 起这是一个别名），([GH 10890](https://github.com/pandas-dev/pandas/issues/10890))'
- en: '`SparsePanel` deprecated and will be removed in a future version ([GH 11157](https://github.com/pandas-dev/pandas/issues/11157)).'
  id: totrans-327
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparsePanel` 弃用，将在将来的版本中移除 ([GH 11157](https://github.com/pandas-dev/pandas/issues/11157)).'
- en: '`Series.is_time_series` deprecated in favor of `Series.index.is_all_dates`
    ([GH 11135](https://github.com/pandas-dev/pandas/issues/11135))'
  id: totrans-328
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.is_time_series` 弃用，建议使用 `Series.index.is_all_dates` ([GH 11135](https://github.com/pandas-dev/pandas/issues/11135))'
- en: Legacy offsets (like `'A@JAN'`) are deprecated (note that this has been alias
    since 0.8.0) ([GH 10878](https://github.com/pandas-dev/pandas/issues/10878))
  id: totrans-329
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 旧偏移（如 `'A@JAN'`）已弃用（请注意，自 0.8.0 起这是一个别名） ([GH 10878](https://github.com/pandas-dev/pandas/issues/10878))
- en: '`WidePanel` deprecated in favor of `Panel`, `LongPanel` in favor of `DataFrame`
    (note these have been aliases since < 0.11.0), ([GH 10892](https://github.com/pandas-dev/pandas/issues/10892))'
  id: totrans-330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`WidePanel` 弃用，建议使用 `Panel`，`LongPanel` 弃用，建议使用 `DataFrame`（请注意，自 < 0.11.0
    起这些都是别名），([GH 10892](https://github.com/pandas-dev/pandas/issues/10892))'
- en: '`DataFrame.convert_objects` has been deprecated in favor of type-specific functions
    `pd.to_datetime`, `pd.to_timestamp` and `pd.to_numeric` (new in 0.17.0) ([GH 11133](https://github.com/pandas-dev/pandas/issues/11133)).  ###
    Removal of prior version deprecations/changes'
  id: totrans-331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.convert_objects` 已弃用，建议使用类型特定的函数 `pd.to_datetime`、`pd.to_timestamp`
    和 `pd.to_numeric`（0.17.0 中新增） ([GH 11133](https://github.com/pandas-dev/pandas/issues/11133)).  ###
    删除之前版本的弃用/更改'
- en: Removal of `na_last` parameters from `Series.order()` and `Series.sort()`, in
    favor of `na_position`. ([GH 5231](https://github.com/pandas-dev/pandas/issues/5231))
  id: totrans-332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 `Series.order()` 和 `Series.sort()` 中移除了 `na_last` 参数，改用 `na_position`。 ([GH
    5231](https://github.com/pandas-dev/pandas/issues/5231))
- en: Remove of `percentile_width` from `.describe()`, in favor of `percentiles`.
    ([GH 7088](https://github.com/pandas-dev/pandas/issues/7088))
  id: totrans-333
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 `.describe()` 中移除了 `percentile_width`，改用 `percentiles`。 ([GH 7088](https://github.com/pandas-dev/pandas/issues/7088))
- en: Removal of `colSpace` parameter from `DataFrame.to_string()`, in favor of `col_space`,
    circa 0.8.0 version.
  id: totrans-334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrame.to_string()` 中移除 `colSpace` 参数，改用 `col_space`，大约在 0.8.0 版本中。
- en: Removal of automatic time-series broadcasting ([GH 2304](https://github.com/pandas-dev/pandas/issues/2304))
  id: totrans-335
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除自动时间序列广播功能 ([GH 2304](https://github.com/pandas-dev/pandas/issues/2304))
- en: '[PRE53]'
  id: totrans-336
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE53]'
- en: Previously
  id: totrans-337
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以前
- en: '[PRE54]'
  id: totrans-338
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE54]'
- en: Current
  id: totrans-339
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当前
- en: '[PRE55]'
  id: totrans-340
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE55]'
- en: Remove `table` keyword in `HDFStore.put/append`, in favor of using `format=`
    ([GH 4645](https://github.com/pandas-dev/pandas/issues/4645))
  id: totrans-341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `HDFStore.put/append` 中移除 `table` 关键字，改用 `format=` ([GH 4645](https://github.com/pandas-dev/pandas/issues/4645))
- en: Remove `kind` in `read_excel/ExcelFile` as its unused ([GH 4712](https://github.com/pandas-dev/pandas/issues/4712))
  id: totrans-342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `read_excel/ExcelFile` 中移除 `kind` 参数，因为它未被使用 ([GH 4712](https://github.com/pandas-dev/pandas/issues/4712))
- en: Remove `infer_type` keyword from `pd.read_html` as its unused ([GH 4770](https://github.com/pandas-dev/pandas/issues/4770),
    [GH 7032](https://github.com/pandas-dev/pandas/issues/7032))
  id: totrans-343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `pd.read_html` 中移除 `infer_type` 关键字，因为它未被使用 ([GH 4770](https://github.com/pandas-dev/pandas/issues/4770),
    [GH 7032](https://github.com/pandas-dev/pandas/issues/7032))
- en: Remove `offset` and `timeRule` keywords from `Series.tshift/shift`, in favor
    of `freq` ([GH 4853](https://github.com/pandas-dev/pandas/issues/4853), [GH 4864](https://github.com/pandas-dev/pandas/issues/4864))
  id: totrans-344
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Series.tshift/shift` 中移除 `offset` 和 `timeRule` 关键字，改用 `freq` ([GH 4853](https://github.com/pandas-dev/pandas/issues/4853),
    [GH 4864](https://github.com/pandas-dev/pandas/issues/4864))
- en: 'Remove `pd.load/pd.save` aliases in favor of `pd.to_pickle/pd.read_pickle`
    ([GH 3787](https://github.com/pandas-dev/pandas/issues/3787))  ## Performance
    improvements'
  id: totrans-345
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '移除 `pd.load/pd.save` 的别名，改用 `pd.to_pickle/pd.read_pickle` ([GH 3787](https://github.com/pandas-dev/pandas/issues/3787))  ##
    性能提升'
- en: Development support for benchmarking with the [Air Speed Velocity library](https://github.com/spacetelescope/asv/)
    ([GH 8361](https://github.com/pandas-dev/pandas/issues/8361))
  id: totrans-346
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持使用 [Air Speed Velocity library](https://github.com/spacetelescope/asv/) 进行基准测试的开发支持
    ([GH 8361](https://github.com/pandas-dev/pandas/issues/8361))
- en: Added vbench benchmarks for alternative ExcelWriter engines and reading Excel
    files ([GH 7171](https://github.com/pandas-dev/pandas/issues/7171))
  id: totrans-347
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为备用 ExcelWriter 引擎和读取 Excel 文件添加了 vbench 基准测试 ([GH 7171](https://github.com/pandas-dev/pandas/issues/7171))
- en: Performance improvements in `Categorical.value_counts` ([GH 10804](https://github.com/pandas-dev/pandas/issues/10804))
  id: totrans-348
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Categorical.value_counts` 中提高了性能 ([GH 10804](https://github.com/pandas-dev/pandas/issues/10804))
- en: Performance improvements in `SeriesGroupBy.nunique` and `SeriesGroupBy.value_counts`
    and `SeriesGroupby.transform` ([GH 10820](https://github.com/pandas-dev/pandas/issues/10820),
    [GH 11077](https://github.com/pandas-dev/pandas/issues/11077))
  id: totrans-349
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `SeriesGroupBy.nunique`、`SeriesGroupBy.value_counts` 和 `SeriesGroupby.transform`
    中提高了性能 ([GH 10820](https://github.com/pandas-dev/pandas/issues/10820), [GH 11077](https://github.com/pandas-dev/pandas/issues/11077))
- en: Performance improvements in `DataFrame.drop_duplicates` with integer dtypes
    ([GH 10917](https://github.com/pandas-dev/pandas/issues/10917))
  id: totrans-350
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在整数类型的数据中提高了 `DataFrame.drop_duplicates` 的性能 ([GH 10917](https://github.com/pandas-dev/pandas/issues/10917))
- en: Performance improvements in `DataFrame.duplicated` with wide frames. ([GH 10161](https://github.com/pandas-dev/pandas/issues/10161),
    [GH 11180](https://github.com/pandas-dev/pandas/issues/11180))
  id: totrans-351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在宽框架中提高了 `DataFrame.duplicated` 的性能。 ([GH 10161](https://github.com/pandas-dev/pandas/issues/10161),
    [GH 11180](https://github.com/pandas-dev/pandas/issues/11180))
- en: 4x improvement in `timedelta` string parsing ([GH 6755](https://github.com/pandas-dev/pandas/issues/6755),
    [GH 10426](https://github.com/pandas-dev/pandas/issues/10426))
  id: totrans-352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`timedelta` 字符串解析速度提高了 4 倍 ([GH 6755](https://github.com/pandas-dev/pandas/issues/6755),
    [GH 10426](https://github.com/pandas-dev/pandas/issues/10426))'
- en: 8x improvement in `timedelta64` and `datetime64` ops ([GH 6755](https://github.com/pandas-dev/pandas/issues/6755))
  id: totrans-353
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`timedelta64` 和 `datetime64` 操作性能提高了 8 倍 ([GH 6755](https://github.com/pandas-dev/pandas/issues/6755))'
- en: Significantly improved performance of indexing `MultiIndex` with slicers ([GH
    10287](https://github.com/pandas-dev/pandas/issues/10287))
  id: totrans-354
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 显著提高了使用切片器对 `MultiIndex` 进行索引的性能 ([GH 10287](https://github.com/pandas-dev/pandas/issues/10287))
- en: 8x improvement in `iloc` using list-like input ([GH 10791](https://github.com/pandas-dev/pandas/issues/10791))
  id: totrans-355
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用类似列表的输入时，`iloc` 的性能提高了 8 倍 ([GH 10791](https://github.com/pandas-dev/pandas/issues/10791))
- en: Improved performance of `Series.isin` for datetimelike/integer Series ([GH 10287](https://github.com/pandas-dev/pandas/issues/10287))
  id: totrans-356
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 datetimelike/integer Series，`Series.isin` 的性能得到了改善（[GH 10287](https://github.com/pandas-dev/pandas/issues/10287)）
- en: 20x improvement in `concat` of Categoricals when categories are identical ([GH
    10587](https://github.com/pandas-dev/pandas/issues/10587))
  id: totrans-357
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当类别相同时，`concat` 的 20 倍改进（[GH 10587](https://github.com/pandas-dev/pandas/issues/10587)）
- en: Improved performance of `to_datetime` when specified format string is ISO8601
    ([GH 10178](https://github.com/pandas-dev/pandas/issues/10178))
  id: totrans-358
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当指定的格式字符串为 ISO8601 时，`to_datetime` 的性能得到了改善（[GH 10178](https://github.com/pandas-dev/pandas/issues/10178)）
- en: 2x improvement of `Series.value_counts` for float dtype ([GH 10821](https://github.com/pandas-dev/pandas/issues/10821))
  id: totrans-359
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 float dtype，`Series.value_counts` 的 2 倍改进（[GH 10821](https://github.com/pandas-dev/pandas/issues/10821)）
- en: Enable `infer_datetime_format` in `to_datetime` when date components do not
    have 0 padding ([GH 11142](https://github.com/pandas-dev/pandas/issues/11142))
  id: totrans-360
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在日期组件没有 0 填充时，在 `to_datetime` 中启用 `infer_datetime_format`（[GH 11142](https://github.com/pandas-dev/pandas/issues/11142)）
- en: Regression from 0.16.1 in constructing `DataFrame` from nested dictionary ([GH
    11084](https://github.com/pandas-dev/pandas/issues/11084))
  id: totrans-361
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从嵌套字典构造 `DataFrame` 的回归问题（[GH 11084](https://github.com/pandas-dev/pandas/issues/11084)）
- en: 'Performance improvements in addition/subtraction operations for `DateOffset`
    with `Series` or `DatetimeIndex` ([GH 10744](https://github.com/pandas-dev/pandas/issues/10744),
    [GH 11205](https://github.com/pandas-dev/pandas/issues/11205))  ## Bug fixes'
  id: totrans-362
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于带有 `Series` 或 `DatetimeIndex` 的 `DateOffset` 的加法/减法操作的性能改进（[GH 10744](https://github.com/pandas-dev/pandas/issues/10744)，[GH
    11205](https://github.com/pandas-dev/pandas/issues/11205)）
- en: Bug in incorrect computation of `.mean()` on `timedelta64[ns]` because of overflow
    ([GH 9442](https://github.com/pandas-dev/pandas/issues/9442))
  id: totrans-363
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 因为溢出而导致 `timedelta64[ns]` 上 `.mean()` 计算不正确的错误（[GH 9442](https://github.com/pandas-dev/pandas/issues/9442)）
- en: Bug in `.isin` on older numpies ([GH 11232](https://github.com/pandas-dev/pandas/issues/11232))
  id: totrans-364
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在旧版本的 numpy 上的 `.isin` 中的错误（[GH 11232](https://github.com/pandas-dev/pandas/issues/11232)）
- en: Bug in `DataFrame.to_html(index=False)` renders unnecessary `name` row ([GH
    10344](https://github.com/pandas-dev/pandas/issues/10344))
  id: totrans-365
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.to_html(index=False)` 中的错误，渲染了不必要的 `name` 行（[GH 10344](https://github.com/pandas-dev/pandas/issues/10344)）'
- en: Bug in `DataFrame.to_latex()` the `column_format` argument could not be passed
    ([GH 9402](https://github.com/pandas-dev/pandas/issues/9402))
  id: totrans-366
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.to_latex()` 中 `column_format` 参数无法传递的错误（[GH 9402](https://github.com/pandas-dev/pandas/issues/9402)）'
- en: Bug in `DatetimeIndex` when localizing with `NaT` ([GH 10477](https://github.com/pandas-dev/pandas/issues/10477))
  id: totrans-367
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `NaT` 进行本地化时的 `DatetimeIndex` 中的错误（[GH 10477](https://github.com/pandas-dev/pandas/issues/10477)）
- en: Bug in `Series.dt` ops in preserving meta-data ([GH 10477](https://github.com/pandas-dev/pandas/issues/10477))
  id: totrans-368
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在保留元数据方面，`Series.dt` 操作中的错误（[GH 10477](https://github.com/pandas-dev/pandas/issues/10477)）
- en: Bug in preserving `NaT` when passed in an otherwise invalid `to_datetime` construction
    ([GH 10477](https://github.com/pandas-dev/pandas/issues/10477))
  id: totrans-369
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在传递给 `to_datetime` 的无效构造中保留 `NaT` 的错误（[GH 10477](https://github.com/pandas-dev/pandas/issues/10477)）
- en: Bug in `DataFrame.apply` when function returns categorical series. ([GH 9573](https://github.com/pandas-dev/pandas/issues/9573))
  id: totrans-370
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当函数返回分类系列时，在 `DataFrame.apply` 中的错误（[GH 9573](https://github.com/pandas-dev/pandas/issues/9573)）
- en: Bug in `to_datetime` with invalid dates and formats supplied ([GH 10154](https://github.com/pandas-dev/pandas/issues/10154))
  id: totrans-371
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过提供无效日期和格式给 `to_datetime` 导致的错误（[GH 10154](https://github.com/pandas-dev/pandas/issues/10154)）
- en: Bug in `Index.drop_duplicates` dropping name(s) ([GH 10115](https://github.com/pandas-dev/pandas/issues/10115))
  id: totrans-372
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在删除名称时，在 `Index.drop_duplicates` 中的错误（[GH 10115](https://github.com/pandas-dev/pandas/issues/10115)）
- en: Bug in `Series.quantile` dropping name ([GH 10881](https://github.com/pandas-dev/pandas/issues/10881))
  id: totrans-373
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除名称时，在 `Series.quantile` 中的错误（[GH 10881](https://github.com/pandas-dev/pandas/issues/10881)）
- en: Bug in `pd.Series` when setting a value on an empty `Series` whose index has
    a frequency. ([GH 10193](https://github.com/pandas-dev/pandas/issues/10193))
  id: totrans-374
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在空 `Series` 上设置值时，`pd.Series` 中的错误，其索引具有频率。（[GH 10193](https://github.com/pandas-dev/pandas/issues/10193)）
- en: Bug in `pd.Series.interpolate` with invalid `order` keyword values. ([GH 10633](https://github.com/pandas-dev/pandas/issues/10633))
  id: totrans-375
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在无效的 `order` 关键字值下的 `pd.Series.interpolate` 中的错误（[GH 10633](https://github.com/pandas-dev/pandas/issues/10633)）
- en: Bug in `DataFrame.plot` raises `ValueError` when color name is specified by
    multiple characters ([GH 10387](https://github.com/pandas-dev/pandas/issues/10387))
  id: totrans-376
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当颜色名称由多个字符指定时，在 `DataFrame.plot` 中引发 `ValueError` 的错误（[GH 10387](https://github.com/pandas-dev/pandas/issues/10387)）
- en: Bug in `Index` construction with a mixed list of tuples ([GH 10697](https://github.com/pandas-dev/pandas/issues/10697))
  id: totrans-377
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用元组混合列表进行`Index`构造时的bug ([GH 10697](https://github.com/pandas-dev/pandas/issues/10697))
- en: Bug in `DataFrame.reset_index` when index contains `NaT`. ([GH 10388](https://github.com/pandas-dev/pandas/issues/10388))
  id: totrans-378
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.reset_index`中的bug，当索引包含`NaT`时。 ([GH 10388](https://github.com/pandas-dev/pandas/issues/10388))'
- en: Bug in `ExcelReader` when worksheet is empty ([GH 6403](https://github.com/pandas-dev/pandas/issues/6403))
  id: totrans-379
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当工作表为空时，`ExcelReader`中的bug ([GH 6403](https://github.com/pandas-dev/pandas/issues/6403))
- en: Bug in `BinGrouper.group_info` where returned values are not compatible with
    base class ([GH 10914](https://github.com/pandas-dev/pandas/issues/10914))
  id: totrans-380
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`BinGrouper.group_info`中的bug，返回的值与基类不兼容 ([GH 10914](https://github.com/pandas-dev/pandas/issues/10914))'
- en: Bug in clearing the cache on `DataFrame.pop` and a subsequent inplace op ([GH
    10912](https://github.com/pandas-dev/pandas/issues/10912))
  id: totrans-381
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 清除`DataFrame.pop`缓存时的错误和随后的原地操作中的一个bug ([GH 10912](https://github.com/pandas-dev/pandas/issues/10912))
- en: Bug in indexing with a mixed-integer `Index` causing an `ImportError` ([GH 10610](https://github.com/pandas-dev/pandas/issues/10610))
  id: totrans-382
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用混合整数`Index`进行索引时导致`ImportError`的bug ([GH 10610](https://github.com/pandas-dev/pandas/issues/10610))
- en: Bug in `Series.count` when index has nulls ([GH 10946](https://github.com/pandas-dev/pandas/issues/10946))
  id: totrans-383
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.count`中的bug，当索引有空值时 ([GH 10946](https://github.com/pandas-dev/pandas/issues/10946))'
- en: Bug in pickling of a non-regular freq `DatetimeIndex` ([GH 11002](https://github.com/pandas-dev/pandas/issues/11002))
  id: totrans-384
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在非常规频率`DatetimeIndex`的pickling中的bug ([GH 11002](https://github.com/pandas-dev/pandas/issues/11002))
- en: Bug causing `DataFrame.where` to not respect the `axis` parameter when the frame
    has a symmetric shape. ([GH 9736](https://github.com/pandas-dev/pandas/issues/9736))
  id: totrans-385
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 导致`DataFrame.where`在框架具有对称形状时不遵守`axis`参数的bug。 ([GH 9736](https://github.com/pandas-dev/pandas/issues/9736))
- en: Bug in `Table.select_column` where name is not preserved ([GH 10392](https://github.com/pandas-dev/pandas/issues/10392))
  id: totrans-386
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Table.select_column`中的bug，名称未被保留 ([GH 10392](https://github.com/pandas-dev/pandas/issues/10392))'
- en: Bug in `offsets.generate_range` where `start` and `end` have finer precision
    than `offset` ([GH 9907](https://github.com/pandas-dev/pandas/issues/9907))
  id: totrans-387
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`offsets.generate_range`中的bug，其中`start`和`end`的精度比`offset`更精细 ([GH 9907](https://github.com/pandas-dev/pandas/issues/9907))'
- en: Bug in `pd.rolling_*` where `Series.name` would be lost in the output ([GH 10565](https://github.com/pandas-dev/pandas/issues/10565))
  id: totrans-388
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.rolling_*`中的bug，导致输出中`Series.name`丢失 ([GH 10565](https://github.com/pandas-dev/pandas/issues/10565))'
- en: Bug in `stack` when index or columns are not unique. ([GH 10417](https://github.com/pandas-dev/pandas/issues/10417))
  id: totrans-389
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`stack`中的bug，当索引或列不唯一时。 ([GH 10417](https://github.com/pandas-dev/pandas/issues/10417))'
- en: Bug in setting a `Panel` when an axis has a MultiIndex ([GH 10360](https://github.com/pandas-dev/pandas/issues/10360))
  id: totrans-390
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置`Panel`时出现bug，当一个轴具有MultiIndex时 ([GH 10360](https://github.com/pandas-dev/pandas/issues/10360))
- en: Bug in `USFederalHolidayCalendar` where `USMemorialDay` and `USMartinLutherKingJr`
    were incorrect ([GH 10278](https://github.com/pandas-dev/pandas/issues/10278)
    and [GH 9760](https://github.com/pandas-dev/pandas/issues/9760) )
  id: totrans-391
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`USFederalHolidayCalendar`中的bug，导致`USMemorialDay`和`USMartinLutherKingJr`不正确
    ([GH 10278](https://github.com/pandas-dev/pandas/issues/10278) 和 [GH 9760](https://github.com/pandas-dev/pandas/issues/9760))'
- en: Bug in `.sample()` where returned object, if set, gives unnecessary `SettingWithCopyWarning`
    ([GH 10738](https://github.com/pandas-dev/pandas/issues/10738))
  id: totrans-392
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.sample()`中的bug，如果设置了返回对象，则会出现不必要的`SettingWithCopyWarning` ([GH 10738](https://github.com/pandas-dev/pandas/issues/10738))'
- en: Bug in `.sample()` where weights passed as `Series` were not aligned along axis
    before being treated positionally, potentially causing problems if weight indices
    were not aligned with sampled object. ([GH 10738](https://github.com/pandas-dev/pandas/issues/10738))
  id: totrans-393
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.sample()`中的bug，导致作为`Series`传递的权重在被处理之前未沿轴对齐，如果权重索引与抽样对象不对齐，可能会导致问题。 ([GH
    10738](https://github.com/pandas-dev/pandas/issues/10738))'
- en: Regression fixed in ([GH 9311](https://github.com/pandas-dev/pandas/issues/9311),
    [GH 6620](https://github.com/pandas-dev/pandas/issues/6620), [GH 9345](https://github.com/pandas-dev/pandas/issues/9345)),
    where groupby with a datetime-like converting to float with certain aggregators
    ([GH 10979](https://github.com/pandas-dev/pandas/issues/10979))
  id: totrans-394
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复的回归问题 ([GH 9311](https://github.com/pandas-dev/pandas/issues/9311), [GH 6620](https://github.com/pandas-dev/pandas/issues/6620),
    [GH 9345](https://github.com/pandas-dev/pandas/issues/9345))，其中带有日期时间的groupby转换为带有某些聚合器的浮点数
    ([GH 10979](https://github.com/pandas-dev/pandas/issues/10979))
- en: Bug in `DataFrame.interpolate` with `axis=1` and `inplace=True` ([GH 10395](https://github.com/pandas-dev/pandas/issues/10395))
  id: totrans-395
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.interpolate`中的bug，带有`axis=1`和`inplace=True` ([GH 10395](https://github.com/pandas-dev/pandas/issues/10395))'
- en: Bug in `io.sql.get_schema` when specifying multiple columns as primary key ([GH
    10385](https://github.com/pandas-dev/pandas/issues/10385)).
  id: totrans-396
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在指定多列作为主键时，`io.sql.get_schema` 中存在 Bug ([GH 10385](https://github.com/pandas-dev/pandas/issues/10385)).
- en: Bug in `groupby(sort=False)` with datetime-like `Categorical` raises `ValueError`
    ([GH 10505](https://github.com/pandas-dev/pandas/issues/10505))
  id: totrans-397
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 datetime-like `Categorical` 中使用 `groupby(sort=False)` 会引发 `ValueError` ([GH
    10505](https://github.com/pandas-dev/pandas/issues/10505))
- en: Bug in `groupby(axis=1)` with `filter()` throws `IndexError` ([GH 11041](https://github.com/pandas-dev/pandas/issues/11041))
  id: totrans-398
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `groupby(axis=1)` 中使用 `filter()` 会抛出 `IndexError` ([GH 11041](https://github.com/pandas-dev/pandas/issues/11041))
- en: Bug in `test_categorical` on big-endian builds ([GH 10425](https://github.com/pandas-dev/pandas/issues/10425))
  id: totrans-399
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在大端序构建上的 `test_categorical` 存在 Bug ([GH 10425](https://github.com/pandas-dev/pandas/issues/10425))
- en: Bug in `Series.shift` and `DataFrame.shift` not supporting categorical data
    ([GH 9416](https://github.com/pandas-dev/pandas/issues/9416))
  id: totrans-400
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在不支持分类数据的情况下，`Series.shift` 和 `DataFrame.shift` 中存在 Bug ([GH 9416](https://github.com/pandas-dev/pandas/issues/9416))
- en: Bug in `Series.map` using categorical `Series` raises `AttributeError` ([GH
    10324](https://github.com/pandas-dev/pandas/issues/10324))
  id: totrans-401
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用分类 `Series` 的 `Series.map` 会引发 `AttributeError` ([GH 10324](https://github.com/pandas-dev/pandas/issues/10324))
- en: Bug in `MultiIndex.get_level_values` including `Categorical` raises `AttributeError`
    ([GH 10460](https://github.com/pandas-dev/pandas/issues/10460))
  id: totrans-402
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包括 `Categorical` 的 `MultiIndex.get_level_values` 会引发 `AttributeError` ([GH 10460](https://github.com/pandas-dev/pandas/issues/10460))
- en: Bug in `pd.get_dummies` with `sparse=True` not returning `SparseDataFrame` ([GH
    10531](https://github.com/pandas-dev/pandas/issues/10531))
  id: totrans-403
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `pd.get_dummies` 中，`sparse=True` 不会返回 `SparseDataFrame` ([GH 10531](https://github.com/pandas-dev/pandas/issues/10531))
- en: Bug in `Index` subtypes (such as `PeriodIndex`) not returning their own type
    for `.drop` and `.insert` methods ([GH 10620](https://github.com/pandas-dev/pandas/issues/10620))
  id: totrans-404
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Index` 子类型（如 `PeriodIndex`）的 `.drop` 和 `.insert` 方法中未返回其自身类型的 Bug ([GH 10620](https://github.com/pandas-dev/pandas/issues/10620))
- en: Bug in `algos.outer_join_indexer` when `right` array is empty ([GH 10618](https://github.com/pandas-dev/pandas/issues/10618))
  id: totrans-405
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `algos.outer_join_indexer` 中，当 `right` 数组为空时存在 Bug ([GH 10618](https://github.com/pandas-dev/pandas/issues/10618))
- en: Bug in `filter` (regression from 0.16.0) and `transform` when grouping on multiple
    keys, one of which is datetime-like ([GH 10114](https://github.com/pandas-dev/pandas/issues/10114))
  id: totrans-406
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在多个键分组时，`filter`（从 0.16.0 开始的回归）和 `transform` 存在 Bug，其中一个键是类似于日期时间的键 ([GH 10114](https://github.com/pandas-dev/pandas/issues/10114))
- en: Bug in `to_datetime` and `to_timedelta` causing `Index` name to be lost ([GH
    10875](https://github.com/pandas-dev/pandas/issues/10875))
  id: totrans-407
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_datetime` 和 `to_timedelta` 中的 Bug 导致 `Index` 名称丢失 ([GH 10875](https://github.com/pandas-dev/pandas/issues/10875))'
- en: Bug in `len(DataFrame.groupby)` causing `IndexError` when there’s a column containing
    only NaNs ([GH 11016](https://github.com/pandas-dev/pandas/issues/11016))
  id: totrans-408
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `len(DataFrame.groupby)` 中存在 Bug，当存在一个仅包含 NaN 的列时，会引发 `IndexError` ([GH 11016](https://github.com/pandas-dev/pandas/issues/11016))
- en: Bug that caused segfault when resampling an empty Series ([GH 10228](https://github.com/pandas-dev/pandas/issues/10228))
  id: totrans-409
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当对空 Series 进行重新采样时导致 segfault 的 Bug ([GH 10228](https://github.com/pandas-dev/pandas/issues/10228))
- en: Bug in `DatetimeIndex` and `PeriodIndex.value_counts` resets name from its result,
    but retains in result’s `Index`. ([GH 10150](https://github.com/pandas-dev/pandas/issues/10150))
  id: totrans-410
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DatetimeIndex` 和 `PeriodIndex.value_counts` 中存在 Bug，会重置结果的名称，但在结果的 `Index`
    中保留。 ([GH 10150](https://github.com/pandas-dev/pandas/issues/10150))
- en: Bug in `pd.eval` using `numexpr` engine coerces 1 element numpy array to scalar
    ([GH 10546](https://github.com/pandas-dev/pandas/issues/10546))
  id: totrans-411
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `numexpr` 引擎的 `pd.eval` 中，将 1 个元素的 numpy 数组强制转换为标量 ([GH 10546](https://github.com/pandas-dev/pandas/issues/10546))
- en: Bug in `pd.concat` with `axis=0` when column is of dtype `category` ([GH 10177](https://github.com/pandas-dev/pandas/issues/10177))
  id: totrans-412
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `axis=0` 时，`pd.concat` 中存在 Bug，当列的 dtype 为 `category` 时 ([GH 10177](https://github.com/pandas-dev/pandas/issues/10177))
- en: Bug in `read_msgpack` where input type is not always checked ([GH 10369](https://github.com/pandas-dev/pandas/issues/10369),
    [GH 10630](https://github.com/pandas-dev/pandas/issues/10630))
  id: totrans-413
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `read_msgpack` 中存在 Bug，输入类型并非始终被检查 ([GH 10369](https://github.com/pandas-dev/pandas/issues/10369),
    [GH 10630](https://github.com/pandas-dev/pandas/issues/10630))
- en: Bug in `pd.read_csv` with kwargs `index_col=False`, `index_col=['a', 'b']` or
    `dtype` ([GH 10413](https://github.com/pandas-dev/pandas/issues/10413), [GH 10467](https://github.com/pandas-dev/pandas/issues/10467),
    [GH 10577](https://github.com/pandas-dev/pandas/issues/10577))
  id: totrans-414
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 kwargs `index_col=False`、`index_col=['a', 'b']` 或 `dtype` 时，`pd.read_csv`
    中存在 Bug ([GH 10413](https://github.com/pandas-dev/pandas/issues/10413), [GH 10467](https://github.com/pandas-dev/pandas/issues/10467),
    [GH 10577](https://github.com/pandas-dev/pandas/issues/10577))
- en: Bug in `Series.from_csv` with `header` kwarg not setting the `Series.name` or
    the `Series.index.name` ([GH 10483](https://github.com/pandas-dev/pandas/issues/10483))
  id: totrans-415
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`header`关键字参数的`Series.from_csv`中的错误未设置`Series.name`或`Series.index.name`（[GH
    10483](https://github.com/pandas-dev/pandas/issues/10483)）
- en: Bug in `groupby.var` which caused variance to be inaccurate for small float
    values ([GH 10448](https://github.com/pandas-dev/pandas/issues/10448))
  id: totrans-416
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于小浮点值，导致方差不准确的`groupby.var`中的错误（[GH 10448](https://github.com/pandas-dev/pandas/issues/10448)）
- en: Bug in `Series.plot(kind='hist')` Y Label not informative ([GH 10485](https://github.com/pandas-dev/pandas/issues/10485))
  id: totrans-417
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.plot(kind=''hist'')`中的Y标签不具有信息性的错误（[GH 10485](https://github.com/pandas-dev/pandas/issues/10485)）'
- en: Bug in `read_csv` when using a converter which generates a `uint8` type ([GH
    9266](https://github.com/pandas-dev/pandas/issues/9266))
  id: totrans-418
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用转换器生成`uint8`类型时的`read_csv`中的错误（[GH 9266](https://github.com/pandas-dev/pandas/issues/9266)）
- en: Bug causes memory leak in time-series line and area plot ([GH 9003](https://github.com/pandas-dev/pandas/issues/9003))
  id: totrans-419
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 时间序列线图和区域图中存在内存泄漏的错误（[GH 9003](https://github.com/pandas-dev/pandas/issues/9003)）
- en: Bug when setting a `Panel` sliced along the major or minor axes when the right-hand
    side is a `DataFrame` ([GH 11014](https://github.com/pandas-dev/pandas/issues/11014))
  id: totrans-420
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当右侧为`DataFrame`时设置沿主轴或次要轴切片的`Panel`中的错误（[GH 11014](https://github.com/pandas-dev/pandas/issues/11014)）
- en: Bug that returns `None` and does not raise `NotImplementedError` when operator
    functions (e.g. `.add`) of `Panel` are not implemented ([GH 7692](https://github.com/pandas-dev/pandas/issues/7692))
  id: totrans-421
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当未实现`Panel`的操作函数（例如`.add`）时，返回`None`并且不引发`NotImplementedError`的错误（[GH 7692](https://github.com/pandas-dev/pandas/issues/7692)）
- en: Bug in line and kde plot cannot accept multiple colors when `subplots=True`
    ([GH 9894](https://github.com/pandas-dev/pandas/issues/9894))
  id: totrans-422
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`subplots=True`时，`line`和`kde`图中无法接受多个颜色的错误（[GH 9894](https://github.com/pandas-dev/pandas/issues/9894)）
- en: Bug in `DataFrame.plot` raises `ValueError` when color name is specified by
    multiple characters ([GH 10387](https://github.com/pandas-dev/pandas/issues/10387))
  id: totrans-423
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当颜色名称由多个字符指定时，`DataFrame.plot`引发`ValueError`的错误（[GH 10387](https://github.com/pandas-dev/pandas/issues/10387)）
- en: Bug in left and right `align` of `Series` with `MultiIndex` may be inverted
    ([GH 10665](https://github.com/pandas-dev/pandas/issues/10665))
  id: totrans-424
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有`MultiIndex`的左对齐和右对齐的`Series`中的错误可能被倒置（[GH 10665](https://github.com/pandas-dev/pandas/issues/10665)）
- en: Bug in left and right `join` of with `MultiIndex` may be inverted ([GH 10741](https://github.com/pandas-dev/pandas/issues/10741))
  id: totrans-425
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有`MultiIndex`的左连接和右连接可能被倒置的错误（[GH 10741](https://github.com/pandas-dev/pandas/issues/10741)）
- en: Bug in `read_stata` when reading a file with a different order set in `columns`
    ([GH 10757](https://github.com/pandas-dev/pandas/issues/10757))
  id: totrans-426
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在设置了`columns`不同顺序的文件时，`read_stata`中读取文件的错误（[GH 10757](https://github.com/pandas-dev/pandas/issues/10757)）
- en: Bug in `Categorical` may not representing properly when category contains `tz`
    or `Period` ([GH 10713](https://github.com/pandas-dev/pandas/issues/10713))
  id: totrans-427
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当类别包含`tz`或`Period`时，`Categorical`中可能不正确地表示的错误（[GH 10713](https://github.com/pandas-dev/pandas/issues/10713)）
- en: Bug in `Categorical.__iter__` may not returning correct `datetime` and `Period`
    ([GH 10713](https://github.com/pandas-dev/pandas/issues/10713))
  id: totrans-428
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.__iter__`中可能不会返回正确的`datetime`和`Period`的错误（[GH 10713](https://github.com/pandas-dev/pandas/issues/10713)）'
- en: Bug in indexing with a `PeriodIndex` on an object with a `PeriodIndex` ([GH
    4125](https://github.com/pandas-dev/pandas/issues/4125))
  id: totrans-429
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有`PeriodIndex`的对象上进行索引时的错误（[GH 4125](https://github.com/pandas-dev/pandas/issues/4125)）
- en: 'Bug in `read_csv` with `engine=''c''`: EOF preceded by a comment, blank line,
    etc. was not handled correctly ([GH 10728](https://github.com/pandas-dev/pandas/issues/10728),
    [GH 10548](https://github.com/pandas-dev/pandas/issues/10548))'
  id: totrans-430
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`engine='c'`的`read_csv`中的错误：EOF之前有注释、空行等时没有正确处理（[GH 10728](https://github.com/pandas-dev/pandas/issues/10728)，[GH
    10548](https://github.com/pandas-dev/pandas/issues/10548)）
- en: Reading “famafrench” data via `DataReader` results in HTTP 404 error because
    of the website url is changed ([GH 10591](https://github.com/pandas-dev/pandas/issues/10591)).
  id: totrans-431
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过`DataReader`读取“famafrench”数据导致HTTP 404错误，因为网站URL已更改（[GH 10591](https://github.com/pandas-dev/pandas/issues/10591)）。
- en: Bug in `read_msgpack` where DataFrame to decode has duplicate column names ([GH
    9618](https://github.com/pandas-dev/pandas/issues/9618))
  id: totrans-432
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`read_msgpack`中解码的DataFrame具有重复列名的错误（[GH 9618](https://github.com/pandas-dev/pandas/issues/9618)）'
- en: Bug in `io.common.get_filepath_or_buffer` which caused reading of valid S3 files
    to fail if the bucket also contained keys for which the user does not have read
    permission ([GH 10604](https://github.com/pandas-dev/pandas/issues/10604))
  id: totrans-433
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`io.common.get_filepath_or_buffer`中的错误导致读取有效的S3文件失败，如果存储桶还包含用户没有读取权限的键（[GH
    10604](https://github.com/pandas-dev/pandas/issues/10604)）'
- en: Bug in vectorised setting of timestamp columns with python `datetime.date` and
    numpy `datetime64` ([GH 10408](https://github.com/pandas-dev/pandas/issues/10408),
    [GH 10412](https://github.com/pandas-dev/pandas/issues/10412))
  id: totrans-434
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在使用 python `datetime.date` 和 numpy `datetime64` 进行时间戳列的矢量化设置时 ([GH 10408](https://github.com/pandas-dev/pandas/issues/10408)，[GH
    10412](https://github.com/pandas-dev/pandas/issues/10412))
- en: Bug in `Index.take` may add unnecessary `freq` attribute ([GH 10791](https://github.com/pandas-dev/pandas/issues/10791))
  id: totrans-435
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `Index.take` 可能会添加不必要的 `freq` 属性 ([GH 10791](https://github.com/pandas-dev/pandas/issues/10791))
- en: Bug in `merge` with empty `DataFrame` may raise `IndexError` ([GH 10824](https://github.com/pandas-dev/pandas/issues/10824))
  id: totrans-436
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `merge` 空 `DataFrame` 可能会引发 `IndexError` ([GH 10824](https://github.com/pandas-dev/pandas/issues/10824))
- en: Bug in `to_latex` where unexpected keyword argument for some documented arguments
    ([GH 10888](https://github.com/pandas-dev/pandas/issues/10888))
  id: totrans-437
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `to_latex`，某些已记录参数的意外关键字参数 ([GH 10888](https://github.com/pandas-dev/pandas/issues/10888))
- en: Bug in indexing of large `DataFrame` where `IndexError` is uncaught ([GH 10645](https://github.com/pandas-dev/pandas/issues/10645)
    and [GH 10692](https://github.com/pandas-dev/pandas/issues/10692))
  id: totrans-438
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在大型 `DataFrame` 的索引中，未捕获 `IndexError` ([GH 10645](https://github.com/pandas-dev/pandas/issues/10645)
    和 [GH 10692](https://github.com/pandas-dev/pandas/issues/10692))
- en: Bug in `read_csv` when using the `nrows` or `chunksize` parameters if file contains
    only a header line ([GH 9535](https://github.com/pandas-dev/pandas/issues/9535))
  id: totrans-439
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `read_csv` 使用 `nrows` 或 `chunksize` 参数时，如果文件仅包含一个标题行 ([GH 9535](https://github.com/pandas-dev/pandas/issues/9535))
- en: Bug in serialization of `category` types in HDF5 in presence of alternate encodings.
    ([GH 10366](https://github.com/pandas-dev/pandas/issues/10366))
  id: totrans-440
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在存在备用编码时 HDF5 中序列化 `category` 类型 ([GH 10366](https://github.com/pandas-dev/pandas/issues/10366))
- en: Bug in `pd.DataFrame` when constructing an empty DataFrame with a string dtype
    ([GH 9428](https://github.com/pandas-dev/pandas/issues/9428))
  id: totrans-441
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `pd.DataFrame` 构造空 DataFrame 时带有字符串 dtype ([GH 9428](https://github.com/pandas-dev/pandas/issues/9428))
- en: Bug in `pd.DataFrame.diff` when DataFrame is not consolidated ([GH 10907](https://github.com/pandas-dev/pandas/issues/10907))
  id: totrans-442
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `pd.DataFrame.diff` 当 DataFrame 未经合并时 ([GH 10907](https://github.com/pandas-dev/pandas/issues/10907))
- en: Bug in `pd.unique` for arrays with the `datetime64` or `timedelta64` dtype that
    meant an array with object dtype was returned instead the original dtype ([GH
    9431](https://github.com/pandas-dev/pandas/issues/9431))
  id: totrans-443
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `pd.unique` 对于具有 `datetime64` 或 `timedelta64` dtype 的数组，返回对象 dtype 的数组，而不是原始
    dtype ([GH 9431](https://github.com/pandas-dev/pandas/issues/9431))
- en: Bug in `Timedelta` raising error when slicing from 0s ([GH 10583](https://github.com/pandas-dev/pandas/issues/10583))
  id: totrans-444
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `Timedelta` 在从 0s 切片时引发错误 ([GH 10583](https://github.com/pandas-dev/pandas/issues/10583))
- en: Bug in `DatetimeIndex.take` and `TimedeltaIndex.take` may not raise `IndexError`
    against invalid index ([GH 10295](https://github.com/pandas-dev/pandas/issues/10295))
  id: totrans-445
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `DatetimeIndex.take` 和 `TimedeltaIndex.take` 对无效索引可能不会引发 `IndexError`
    ([GH 10295](https://github.com/pandas-dev/pandas/issues/10295))
- en: Bug in `Series([np.nan]).astype('M8[ms]')`, which now returns `Series([pd.NaT])`
    ([GH 10747](https://github.com/pandas-dev/pandas/issues/10747))
  id: totrans-446
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `Series([np.nan]).astype('M8[ms]')`，现在返回 `Series([pd.NaT])` ([GH 10747](https://github.com/pandas-dev/pandas/issues/10747))
- en: Bug in `PeriodIndex.order` reset freq ([GH 10295](https://github.com/pandas-dev/pandas/issues/10295))
  id: totrans-447
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `PeriodIndex.order` 重置频率 ([GH 10295](https://github.com/pandas-dev/pandas/issues/10295))
- en: Bug in `date_range` when `freq` divides `end` as nanos ([GH 10885](https://github.com/pandas-dev/pandas/issues/10885))
  id: totrans-448
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `date_range` 当 `freq` 将 `end` 分成纳秒时 ([GH 10885](https://github.com/pandas-dev/pandas/issues/10885))
- en: Bug in `iloc` allowing memory outside bounds of a Series to be accessed with
    negative integers ([GH 10779](https://github.com/pandas-dev/pandas/issues/10779))
  id: totrans-449
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `iloc` 允许使用负整数访问 Series 超出边界的内存（[GH 10779](https://github.com/pandas-dev/pandas/issues/10779)）
- en: Bug in `read_msgpack` where encoding is not respected ([GH 10581](https://github.com/pandas-dev/pandas/issues/10581))
  id: totrans-450
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `read_msgpack` 中未尊重编码 ([GH 10581](https://github.com/pandas-dev/pandas/issues/10581))
- en: Bug preventing access to the first index when using `iloc` with a list containing
    the appropriate negative integer ([GH 10547](https://github.com/pandas-dev/pandas/issues/10547),
    [GH 10779](https://github.com/pandas-dev/pandas/issues/10779))
  id: totrans-451
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 阻止使用包含适当负整数的列表时使用 `iloc` 访问第一个索引 ([GH 10547](https://github.com/pandas-dev/pandas/issues/10547)，[GH
    10779](https://github.com/pandas-dev/pandas/issues/10779))
- en: Bug in `TimedeltaIndex` formatter causing error while trying to save `DataFrame`
    with `TimedeltaIndex` using `to_csv` ([GH 10833](https://github.com/pandas-dev/pandas/issues/10833))
  id: totrans-452
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `TimedeltaIndex` 格式化器在尝试使用 `to_csv` 保存具有 `TimedeltaIndex` 的 `DataFrame`
    时引发错误 ([GH 10833](https://github.com/pandas-dev/pandas/issues/10833))
- en: Bug in `DataFrame.where` when handling Series slicing ([GH 10218](https://github.com/pandas-dev/pandas/issues/10218),
    [GH 9558](https://github.com/pandas-dev/pandas/issues/9558))
  id: totrans-453
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当处理 Series 切片时，`DataFrame.where` 方法存在 bug（[GH 10218](https://github.com/pandas-dev/pandas/issues/10218)，[GH
    9558](https://github.com/pandas-dev/pandas/issues/9558)）
- en: Bug where `pd.read_gbq` throws `ValueError` when Bigquery returns zero rows
    ([GH 10273](https://github.com/pandas-dev/pandas/issues/10273))
  id: totrans-454
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 Bigquery 返回零行时，`pd.read_gbq` 抛出 `ValueError` 的错误（[GH 10273](https://github.com/pandas-dev/pandas/issues/10273)）
- en: Bug in `to_json` which was causing segmentation fault when serializing 0-rank
    ndarray ([GH 9576](https://github.com/pandas-dev/pandas/issues/9576))
  id: totrans-455
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在序列化 0 级 ndarray 时，`to_json` 存在导致段错误的 bug（[GH 9576](https://github.com/pandas-dev/pandas/issues/9576)）
- en: Bug in plotting functions may raise `IndexError` when plotted on `GridSpec`
    ([GH 10819](https://github.com/pandas-dev/pandas/issues/10819))
  id: totrans-456
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `GridSpec` 上绘制时，绘图函数可能会引发 `IndexError` 的 bug（[GH 10819](https://github.com/pandas-dev/pandas/issues/10819)）
- en: Bug in plot result may show unnecessary minor ticklabels ([GH 10657](https://github.com/pandas-dev/pandas/issues/10657))
  id: totrans-457
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在绘图结果中，可能会显示不必要的次要刻度标签的 bug（[GH 10657](https://github.com/pandas-dev/pandas/issues/10657)）
- en: Bug in `groupby` incorrect computation for aggregation on `DataFrame` with `NaT`
    (E.g `first`, `last`, `min`). ([GH 10590](https://github.com/pandas-dev/pandas/issues/10590),
    [GH 11010](https://github.com/pandas-dev/pandas/issues/11010))
  id: totrans-458
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在带有 `NaT` 的 `DataFrame` 上进行聚合（例如 `first`、`last`、`min`）时，`groupby` 存在错误的计算。（[GH
    10590](https://github.com/pandas-dev/pandas/issues/10590)，[GH 11010](https://github.com/pandas-dev/pandas/issues/11010)）
- en: Bug when constructing `DataFrame` where passing a dictionary with only scalar
    values and specifying columns did not raise an error ([GH 10856](https://github.com/pandas-dev/pandas/issues/10856))
  id: totrans-459
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递一个仅包含标量值的字典并指定列时，构建 `DataFrame` 时可能不会引发错误（[GH 10856](https://github.com/pandas-dev/pandas/issues/10856)）
- en: Bug in `.var()` causing roundoff errors for highly similar values ([GH 10242](https://github.com/pandas-dev/pandas/issues/10242))
  id: totrans-460
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当高度相似的值进行 `.var()` 计算时，可能会出现舍入错误（[GH 10242](https://github.com/pandas-dev/pandas/issues/10242)）
- en: Bug in `DataFrame.plot(subplots=True)` with duplicated columns outputs incorrect
    result ([GH 10962](https://github.com/pandas-dev/pandas/issues/10962))
  id: totrans-461
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrame.plot(subplots=True)` 中存在重复列时，输出结果错误（[GH 10962](https://github.com/pandas-dev/pandas/issues/10962)）
- en: Bug in `Index` arithmetic may result in incorrect class ([GH 10638](https://github.com/pandas-dev/pandas/issues/10638))
  id: totrans-462
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当进行索引运算时，`Index` 类可能会导致错误的类别（[GH 10638](https://github.com/pandas-dev/pandas/issues/10638)）
- en: Bug in `date_range` results in empty if freq is negative annually, quarterly
    and monthly ([GH 11018](https://github.com/pandas-dev/pandas/issues/11018))
  id: totrans-463
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当频率为负数时，`date_range` 方法在年度、季度和月度情况下结果为空（[GH 11018](https://github.com/pandas-dev/pandas/issues/11018)）
- en: Bug in `DatetimeIndex` cannot infer negative freq ([GH 11018](https://github.com/pandas-dev/pandas/issues/11018))
  id: totrans-464
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex` 无法推断负频率的 bug（[GH 11018](https://github.com/pandas-dev/pandas/issues/11018)）'
- en: Remove use of some deprecated numpy comparison operations, mainly in tests.
    ([GH 10569](https://github.com/pandas-dev/pandas/issues/10569))
  id: totrans-465
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除了一些已弃用的 numpy 比较操作，主要在测试中。 （[GH 10569](https://github.com/pandas-dev/pandas/issues/10569)）
- en: Bug in `Index` dtype may not applied properly ([GH 11017](https://github.com/pandas-dev/pandas/issues/11017))
  id: totrans-466
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `Index` 数据类型未正确应用时存在 bug（[GH 11017](https://github.com/pandas-dev/pandas/issues/11017)）
- en: Bug in `io.gbq` when testing for minimum google api client version ([GH 10652](https://github.com/pandas-dev/pandas/issues/10652))
  id: totrans-467
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在测试最小 Google API 客户端版本时，`io.gbq` 存在 bug（[GH 10652](https://github.com/pandas-dev/pandas/issues/10652)）
- en: Bug in `DataFrame` construction from nested `dict` with `timedelta` keys ([GH
    11129](https://github.com/pandas-dev/pandas/issues/11129))
  id: totrans-468
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当从嵌套的 `dict` 构建 `DataFrame` 时，可能会存在 bug，其中包含 `timedelta` 键（[GH 11129](https://github.com/pandas-dev/pandas/issues/11129)）
- en: Bug in `.fillna` against may raise `TypeError` when data contains datetime dtype
    ([GH 7095](https://github.com/pandas-dev/pandas/issues/7095), [GH 11153](https://github.com/pandas-dev/pandas/issues/11153))
  id: totrans-469
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当数据包含 datetime 数据类型时，`.fillna` 方法可能会引发 `TypeError` 的错误（[GH 7095](https://github.com/pandas-dev/pandas/issues/7095)，[GH
    11153](https://github.com/pandas-dev/pandas/issues/11153)）
- en: Bug in `.groupby` when number of keys to group by is same as length of index
    ([GH 11185](https://github.com/pandas-dev/pandas/issues/11185))
  id: totrans-470
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当要分组的键数与索引长度相同时，在 `.groupby` 中存在 bug（[GH 11185](https://github.com/pandas-dev/pandas/issues/11185)）
- en: Bug in `convert_objects` where converted values might not be returned if all
    null and `coerce` ([GH 9589](https://github.com/pandas-dev/pandas/issues/9589))
  id: totrans-471
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当全部为 null 并且 `coerce` 参数为真时，`convert_objects` 方法可能不会返回转换后的值（[GH 9589](https://github.com/pandas-dev/pandas/issues/9589)）
- en: 'Bug in `convert_objects` where `copy` keyword was not respected ([GH 9589](https://github.com/pandas-dev/pandas/issues/9589))  ##
    Contributors'
  id: totrans-472
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当未遵守 `copy` 参数时，`convert_objects` 方法可能不会尊重 `copy` 关键字（[GH 9589](https://github.com/pandas-dev/pandas/issues/9589)）
- en: A total of 112 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  id: totrans-473
  prefs: []
  type: TYPE_NORMAL
  zh: 总共有112人为此版本贡献了补丁。名字后面带有“+”的人第一次贡献了补丁。
- en: Alex Rothberg
  id: totrans-474
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Rothberg
- en: Andrea Bedini +
  id: totrans-475
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrea Bedini +
- en: Andrew Rosenfeld
  id: totrans-476
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Rosenfeld
- en: Andy Hayden
  id: totrans-477
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andy Hayden
- en: Andy Li +
  id: totrans-478
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andy Li +
- en: Anthonios Partheniou +
  id: totrans-479
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anthonios Partheniou +
- en: Artemy Kolchinsky
  id: totrans-480
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Artemy Kolchinsky
- en: Bernard Willers
  id: totrans-481
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bernard Willers
- en: Charlie Clark +
  id: totrans-482
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Charlie Clark +
- en: Chris +
  id: totrans-483
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris +
- en: Chris Whelan
  id: totrans-484
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Whelan
- en: Christoph Gohlke +
  id: totrans-485
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Christoph Gohlke +
- en: Christopher Whelan
  id: totrans-486
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Christopher Whelan
- en: Clark Fitzgerald
  id: totrans-487
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Clark Fitzgerald
- en: Clearfield Christopher +
  id: totrans-488
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Clearfield Christopher +
- en: Dan Ringwalt +
  id: totrans-489
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dan Ringwalt +
- en: Daniel Ni +
  id: totrans-490
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Ni +
- en: Data & Code Expert Experimenting with Code on Data +
  id: totrans-491
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据和代码专家在数据上尝试代码的实验 +
- en: David Cottrell
  id: totrans-492
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Cottrell
- en: David John Gagne +
  id: totrans-493
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David John Gagne +
- en: David Kelly +
  id: totrans-494
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Kelly +
- en: ETF +
  id: totrans-495
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ETF +
- en: Eduardo Schettino +
  id: totrans-496
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eduardo Schettino +
- en: Egor +
  id: totrans-497
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Egor +
- en: Egor Panfilov +
  id: totrans-498
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Egor Panfilov +
- en: Evan Wright
  id: totrans-499
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Evan Wright
- en: Frank Pinter +
  id: totrans-500
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Frank Pinter +
- en: Gabriel Araujo +
  id: totrans-501
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gabriel Araujo +
- en: Garrett-R
  id: totrans-502
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Garrett-R
- en: Gianluca Rossi +
  id: totrans-503
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gianluca Rossi +
- en: Guillaume Gay
  id: totrans-504
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Guillaume Gay
- en: Guillaume Poulin
  id: totrans-505
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Guillaume Poulin
- en: Harsh Nisar +
  id: totrans-506
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Harsh Nisar +
- en: Ian Henriksen +
  id: totrans-507
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ian Henriksen +
- en: Ian Hoegen +
  id: totrans-508
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ian Hoegen +
- en: Jaidev Deshpande +
  id: totrans-509
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jaidev Deshpande +
- en: Jan Rudolph +
  id: totrans-510
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jan Rudolph +
- en: Jan Schulz
  id: totrans-511
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jan Schulz
- en: Jason Swails +
  id: totrans-512
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jason Swails +
- en: Jeff Reback
  id: totrans-513
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeff Reback
- en: Jonas Buyl +
  id: totrans-514
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jonas Buyl +
- en: Joris Van den Bossche
  id: totrans-515
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Van den Bossche
- en: Joris Vankerschaver +
  id: totrans-516
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Vankerschaver +
- en: Josh Levy-Kramer +
  id: totrans-517
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Josh Levy-Kramer +
- en: Julien Danjou
  id: totrans-518
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Julien Danjou
- en: Ka Wo Chen
  id: totrans-519
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ka Wo Chen
- en: Karrie Kehoe +
  id: totrans-520
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Karrie Kehoe +
- en: Kelsey Jordahl
  id: totrans-521
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kelsey Jordahl
- en: Kerby Shedden
  id: totrans-522
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kerby Shedden
- en: Kevin Sheppard
  id: totrans-523
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kevin Sheppard
- en: Lars Buitinck
  id: totrans-524
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lars Buitinck
- en: Leif Johnson +
  id: totrans-525
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Leif Johnson +
- en: Luis Ortiz +
  id: totrans-526
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Luis Ortiz +
- en: Mac +
  id: totrans-527
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mac +
- en: Matt Gambogi +
  id: totrans-528
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Gambogi +
- en: Matt Savoie +
  id: totrans-529
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Savoie +
- en: Matthew Gilbert +
  id: totrans-530
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Gilbert +
- en: Maximilian Roos +
  id: totrans-531
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maximilian Roos +
- en: Michelangelo D’Agostino +
  id: totrans-532
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michelangelo D’Agostino +
- en: Mortada Mehyar
  id: totrans-533
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mortada Mehyar
- en: Nick Eubank
  id: totrans-534
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nick Eubank
- en: Nipun Batra
  id: totrans-535
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nipun Batra
- en: Ondřej Čertík
  id: totrans-536
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ondřej Čertík
- en: Phillip Cloud
  id: totrans-537
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Phillip Cloud
- en: Pratap Vardhan +
  id: totrans-538
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pratap Vardhan +
- en: Rafal Skolasinski +
  id: totrans-539
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rafal Skolasinski +
- en: Richard Lewis +
  id: totrans-540
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Richard Lewis +
- en: Rinoc Johnson +
  id: totrans-541
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rinoc Johnson +
- en: Rob Levy
  id: totrans-542
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rob Levy
- en: Robert Gieseke
  id: totrans-543
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robert Gieseke
- en: Safia Abdalla +
  id: totrans-544
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Safia Abdalla +
- en: Samuel Denny +
  id: totrans-545
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Samuel Denny +
- en: Saumitra Shahapure +
  id: totrans-546
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Saumitra Shahapure +
- en: Sebastian Pölsterl +
  id: totrans-547
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sebastian Pölsterl +
- en: Sebastian Rubbert +
  id: totrans-548
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sebastian Rubbert +
- en: Sheppard, Kevin +
  id: totrans-549
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sheppard, Kevin +
- en: Sinhrks
  id: totrans-550
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sinhrks
- en: Siu Kwan Lam +
  id: totrans-551
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Siu Kwan Lam +
- en: Skipper Seabold
  id: totrans-552
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Skipper Seabold
- en: Spencer Carrucciu +
  id: totrans-553
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Spencer Carrucciu +
- en: Stephan Hoyer
  id: totrans-554
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stephan Hoyer
- en: Stephen Hoover +
  id: totrans-555
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stephen Hoover +
- en: Stephen Pascoe +
  id: totrans-556
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stephen Pascoe +
- en: Terry Santegoeds +
  id: totrans-557
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Terry Santegoeds +
- en: Thomas Grainger
  id: totrans-558
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Grainger
- en: Tjerk Santegoeds +
  id: totrans-559
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tjerk Santegoeds +
- en: Tom Augspurger
  id: totrans-560
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tom Augspurger
- en: Vincent Davis +
  id: totrans-561
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vincent Davis +
- en: Winterflower +
  id: totrans-562
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 冬花 +
- en: Yaroslav Halchenko
  id: totrans-563
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yaroslav Halchenko
- en: Yuan Tang (Terry) +
  id: totrans-564
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tang Yuan（特里） +
- en: agijsberts
  id: totrans-565
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: agijsberts
- en: ajcr +
  id: totrans-566
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ajcr +
- en: behzad nouri
  id: totrans-567
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: behzad nouri
- en: cel4
  id: totrans-568
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: cel4
- en: chris-b1 +
  id: totrans-569
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: chris-b1 +
- en: cyrusmaher +
  id: totrans-570
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: cyrusmaher +
- en: davidovitch +
  id: totrans-571
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: davidovitch +
- en: ganego +
  id: totrans-572
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ganego +
- en: jreback
  id: totrans-573
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jreback
- en: juricast +
  id: totrans-574
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: juricast +
- en: larvian +
  id: totrans-575
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: larvian +
- en: maximilianr +
  id: totrans-576
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: maximilianr +
- en: msund +
  id: totrans-577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: msund +
- en: rekcahpassyla
  id: totrans-578
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: rekcahpassyla
- en: robertzk +
  id: totrans-579
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: robertzk +
- en: scls19fr
  id: totrans-580
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: scls19fr
- en: seth-p
  id: totrans-581
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: seth-p
- en: sinhrks
  id: totrans-582
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sinhrks
- en: springcoil +
  id: totrans-583
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: springcoil +
- en: terrytangyuan +
  id: totrans-584
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: terrytangyuan +
- en: 'tzinckgraf +  ## New features'
  id: totrans-585
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'tzinckgraf +  ## 新功能'
- en: '### Datetime with TZ'
  id: totrans-586
  prefs: []
  type: TYPE_NORMAL
  zh: '### 带时区的Datetime'
- en: We are adding an implementation that natively supports datetime with timezones.
    A `Series` or a `DataFrame` column previously *could* be assigned a datetime with
    timezones, and would work as an `object` dtype. This had performance issues with
    a large number rows. See the [docs](../user_guide/timeseries.html#timeseries-timezone-series)
    for more details. ([GH 8260](https://github.com/pandas-dev/pandas/issues/8260),
    [GH 10763](https://github.com/pandas-dev/pandas/issues/10763), [GH 11034](https://github.com/pandas-dev/pandas/issues/11034)).
  id: totrans-587
  prefs: []
  type: TYPE_NORMAL
  zh: 我们正在添加一个本地支持带时区的datetime的实现。 `Series`或`DataFrame`列以前*可以*被分配具有时区的datetime，并且将作为`object`dtype工作。这对于大量行存在性能问题。有关更多详细信息，请参见[文档](../user_guide/timeseries.html#timeseries-timezone-series)。（[GH
    8260](https://github.com/pandas-dev/pandas/issues/8260)，[GH 10763](https://github.com/pandas-dev/pandas/issues/10763)，[GH
    11034](https://github.com/pandas-dev/pandas/issues/11034)）。
- en: The new implementation allows for having a single-timezone across all rows,
    with operations in a performant manner.
  id: totrans-588
  prefs: []
  type: TYPE_NORMAL
  zh: 新实现允许在所有行中具有单一时区，并以高效的方式进行操作。
- en: '[PRE56]'
  id: totrans-589
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: '[PRE57]'
  id: totrans-590
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: This uses a new-dtype representation as well, that is very similar in look-and-feel
    to its numpy cousin `datetime64[ns]`
  id: totrans-591
  prefs: []
  type: TYPE_NORMAL
  zh: 这还使用了一种新的dtype表示法，与其numpy近亲`datetime64[ns]`非常相似。
- en: '[PRE58]'
  id: totrans-592
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: Note
  id: totrans-593
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: There is a slightly different string repr for the underlying `DatetimeIndex`
    as a result of the dtype changes, but functionally these are the same.
  id: totrans-594
  prefs: []
  type: TYPE_NORMAL
  zh: 由于dtype的更改，底层的`DatetimeIndex`有一个略有不同的字符串表示形式，但从功能上讲，它们是相同的。
- en: 'Previous behavior:'
  id: totrans-595
  prefs: []
  type: TYPE_NORMAL
  zh: 以前的行为：
- en: '[PRE59]'
  id: totrans-596
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: 'New behavior:'
  id: totrans-597
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE60]  ### Releasing the GIL'
  id: totrans-598
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE60]  ### 释放GIL'
- en: We are releasing the global-interpreter-lock (GIL) on some cython operations.
    This will allow other threads to run simultaneously during computation, potentially
    allowing performance improvements from multi-threading. Notably `groupby`, `nsmallest`,
    `value_counts` and some indexing operations benefit from this. ([GH 8882](https://github.com/pandas-dev/pandas/issues/8882))
  id: totrans-599
  prefs: []
  type: TYPE_NORMAL
  zh: 我们正在释放一些 Cython 操作的全局解释器锁（GIL）。这将允许在计算期间同时运行其他线程，可能允许来自多线程的性能改进。特别是 `groupby`、`nsmallest`、`value_counts`
    和一些索引操作受益于此。 ([GH 8882](https://github.com/pandas-dev/pandas/issues/8882))
- en: For example the groupby expression in the following code will have the GIL released
    during the factorization step, e.g. `df.groupby('key')` as well as the `.sum()`
    operation.
  id: totrans-600
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，下面代码中的 groupby 表达式在因子化步骤（例如 `df.groupby('key')`）以及 `.sum()` 操作期间都会释放 GIL。
- en: '[PRE61]'
  id: totrans-601
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 'Releasing of the GIL could benefit an application that uses threads for user
    interactions (e.g. [QT](https://wiki.python.org/moin/PyQt)), or performing multi-threaded
    computations. A nice example of a library that can handle these types of computation-in-parallel
    is the [dask](https://dask.readthedocs.io/en/latest/) library.  ### Plot submethods'
  id: totrans-602
  prefs: []
  type: TYPE_NORMAL
  zh: '释放 GIL 可以使使用线程进行用户交互（例如 [QT](https://wiki.python.org/moin/PyQt)）或执行多线程计算的应用程序受益。一个可以处理这些并行计算的库的良好示例是
    [dask](https://dask.readthedocs.io/en/latest/) 库。  ### 绘图子方法'
- en: The Series and DataFrame `.plot()` method allows for customizing [plot types](../user_guide/visualization.html#visualization-other)
    by supplying the `kind` keyword arguments. Unfortunately, many of these kinds
    of plots use different required and optional keyword arguments, which makes it
    difficult to discover what any given plot kind uses out of the dozens of possible
    arguments.
  id: totrans-603
  prefs: []
  type: TYPE_NORMAL
  zh: '`Series` 和 `DataFrame` 的 `.plot()` 方法允许通过提供 `kind` 关键字参数来自定义[绘图类型](../user_guide/visualization.html#visualization-other)。不幸的是，许多这些类型的绘图使用不同的必需和可选关键字参数，这使得难以发现在几十种可能的参数中任何给定绘图类型使用了什么。'
- en: 'To alleviate this issue, we have added a new, optional plotting interface,
    which exposes each kind of plot as a method of the `.plot` attribute. Instead
    of writing `series.plot(kind=<kind>, ...)`, you can now also use `series.plot.<kind>(...)`:'
  id: totrans-604
  prefs: []
  type: TYPE_NORMAL
  zh: 为了缓解这个问题，我们添加了一个新的可选绘图接口，它将每种绘图类型都作为 `.plot` 属性的一个方法暴露出来。现在，你可以使用 `series.plot.<kind>(...)`，而不仅仅是写
    `series.plot(kind=<kind>, ...)`：
- en: '[PRE62]'
  id: totrans-605
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: '![../_images/whatsnew_plot_submethods.png](../Images/a24da7baedb7d89b10b8e6e05912eb42.png)'
  id: totrans-606
  prefs: []
  type: TYPE_IMG
  zh: '![../_images/whatsnew_plot_submethods.png](../Images/a24da7baedb7d89b10b8e6e05912eb42.png)'
- en: 'As a result of this change, these methods are now all discoverable via tab-completion:'
  id: totrans-607
  prefs: []
  type: TYPE_NORMAL
  zh: 由于这个改变，这些方法现在都可以通过制表符补全发现：
- en: '[PRE63]'
  id: totrans-608
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: 'Each method signature only includes relevant arguments. Currently, these are
    limited to required arguments, but in the future these will include optional arguments,
    as well. For an overview, see the new [Plotting](../reference/frame.html#api-dataframe-plotting)
    API documentation.  ### Additional methods for `dt` accessor'
  id: totrans-609
  prefs: []
  type: TYPE_NORMAL
  zh: '每个方法签名只包括相关的参数。目前，这些限于必需参数，但将来这些将包括可选参数。有关概述，请参阅新的[绘图](../reference/frame.html#api-dataframe-plotting)
    API 文档。  ### `dt` 访问器的其他方法'
- en: Series.dt.strftime
  id: totrans-610
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '`Series.dt.strftime`'
- en: 'We are now supporting a `Series.dt.strftime` method for datetime-likes to generate
    a formatted string ([GH 10110](https://github.com/pandas-dev/pandas/issues/10110)).
    Examples:'
  id: totrans-611
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们支持 `Series.dt.strftime` 方法来为类似日期时间的对象生成格式化的字符串 ([GH 10110](https://github.com/pandas-dev/pandas/issues/10110))。示例：
- en: '[PRE64]'
  id: totrans-612
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: '[PRE65]'
  id: totrans-613
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: The string format is as the python standard library and details can be found
    [here](https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior)
  id: totrans-614
  prefs: []
  type: TYPE_NORMAL
  zh: 字符串格式与 Python 标准库相同，详细信息可在[此处](https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior)找到
- en: Series.dt.total_seconds
  id: totrans-615
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '`Series.dt.total_seconds`'
- en: '`pd.Series` of type `timedelta64` has new method `.dt.total_seconds()` returning
    the duration of the timedelta in seconds ([GH 10817](https://github.com/pandas-dev/pandas/issues/10817))'
  id: totrans-616
  prefs: []
  type: TYPE_NORMAL
  zh: 类型为 `timedelta64` 的 `pd.Series` 现在有一个新方法 `.dt.total_seconds()`，返回时间差的持续时间（以秒为单位）
    ([GH 10817](https://github.com/pandas-dev/pandas/issues/10817))
- en: '[PRE66]  ### Period frequency enhancement'
  id: totrans-617
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE66]  ### 周期频率增强'
- en: '`Period`, `PeriodIndex` and `period_range` can now accept multiplied freq.
    Also, `Period.freq` and `PeriodIndex.freq` are now stored as a `DateOffset` instance
    like `DatetimeIndex`, and not as `str` ([GH 7811](https://github.com/pandas-dev/pandas/issues/7811))'
  id: totrans-618
  prefs: []
  type: TYPE_NORMAL
  zh: '`Period`、`PeriodIndex` 和 `period_range` 现在可以接受乘法频率。此外，`Period.freq` 和 `PeriodIndex.freq`
    现在存储为 `DateOffset` 实例，就像 `DatetimeIndex` 一样，而不是作为 `str` ([GH 7811](https://github.com/pandas-dev/pandas/issues/7811))'
- en: A multiplied freq represents a span of corresponding length. The example below
    creates a period of 3 days. Addition and subtraction will shift the period by
    its span.
  id: totrans-619
  prefs: []
  type: TYPE_NORMAL
  zh: 乘以频率表示相应长度的跨度。下面的例子创建了一个 3 天的周期。加法和减法将周期移动到其跨度。
- en: '[PRE67]'
  id: totrans-620
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: You can use the multiplied freq in `PeriodIndex` and `period_range`.
  id: totrans-621
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在`PeriodIndex`和`period_range`中使用乘以频率的值。
- en: '[PRE68]  ### Support for SAS XPORT files'
  id: totrans-622
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE68]  ### 支持 SAS XPORT 文件'
- en: '`read_sas()` provides support for reading *SAS XPORT* format files. ([GH 4052](https://github.com/pandas-dev/pandas/issues/4052)).'
  id: totrans-623
  prefs: []
  type: TYPE_NORMAL
  zh: '`read_sas()` 提供对读取 *SAS XPORT* 格式文件的支持。([GH 4052](https://github.com/pandas-dev/pandas/issues/4052))。'
- en: '[PRE69]'
  id: totrans-624
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: It is also possible to obtain an iterator and read an XPORT file incrementally.
  id: totrans-625
  prefs: []
  type: TYPE_NORMAL
  zh: 还可以获取迭代器并逐步读取 XPORT 文件。
- en: '[PRE70]'
  id: totrans-626
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: 'See the [docs](../user_guide/io.html#io-sas) for more details.  ### Support
    for math functions in .eval()'
  id: totrans-627
  prefs: []
  type: TYPE_NORMAL
  zh: '详细信息请参阅[文档](../user_guide/io.html#io-sas)。  ### 在 .eval() 中支持数学函数'
- en: '[`eval()`](../reference/api/pandas.eval.html#pandas.eval "pandas.eval") now
    supports calling math functions ([GH 4893](https://github.com/pandas-dev/pandas/issues/4893))'
  id: totrans-628
  prefs: []
  type: TYPE_NORMAL
  zh: '[`eval()`](../reference/api/pandas.eval.html#pandas.eval "pandas.eval") 现在支持调用数学函数
    ([GH 4893](https://github.com/pandas-dev/pandas/issues/4893))。'
- en: '[PRE71]'
  id: totrans-629
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: The support math functions are `sin`, `cos`, `exp`, `log`, `expm1`, `log1p`,
    `sqrt`, `sinh`, `cosh`, `tanh`, `arcsin`, `arccos`, `arctan`, `arccosh`, `arcsinh`,
    `arctanh`, `abs` and `arctan2`.
  id: totrans-630
  prefs: []
  type: TYPE_NORMAL
  zh: 支持的数学函数有`sin`、`cos`、`exp`、`log`、`expm1`、`log1p`、`sqrt`、`sinh`、`cosh`、`tanh`、`arcsin`、`arccos`、`arctan`、`arccosh`、`arcsinh`、`arctanh`、`abs`
    和 `arctan2`。
- en: These functions map to the intrinsics for the `NumExpr` engine. For the Python
    engine, they are mapped to `NumPy` calls.
  id: totrans-631
  prefs: []
  type: TYPE_NORMAL
  zh: 这些函数映射到`NumExpr`引擎的内在函数。对于 Python 引擎，它们被映射到`NumPy`调用。
- en: Changes to Excel with `MultiIndex`
  id: totrans-632
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 对 Excel 的更改与`MultiIndex`
- en: In version 0.16.2 a `DataFrame` with `MultiIndex` columns could not be written
    to Excel via `to_excel`. That functionality has been added ([GH 10564](https://github.com/pandas-dev/pandas/issues/10564)),
    along with updating `read_excel` so that the data can be read back with, no loss
    of information, by specifying which columns/rows make up the `MultiIndex` in the
    `header` and `index_col` parameters ([GH 4679](https://github.com/pandas-dev/pandas/issues/4679))
  id: totrans-633
  prefs: []
  type: TYPE_NORMAL
  zh: 在版本 0.16.2 中，带有`MultiIndex`列的`DataFrame`无法通过`to_excel`写入到 Excel。这个功能已经被添加（[GH
    10564](https://github.com/pandas-dev/pandas/issues/10564)），同时更新了`read_excel`，以便通过在`header`和`index_col`参数中指定哪些列/行组成`MultiIndex`来读取数据，以保证信息不丢失（[GH
    4679](https://github.com/pandas-dev/pandas/issues/4679)）。
- en: See the [documentation](../user_guide/io.html#io-excel) for more details.
  id: totrans-634
  prefs: []
  type: TYPE_NORMAL
  zh: 详细信息请参阅[文档](../user_guide/io.html#io-excel)。
- en: '[PRE72]'
  id: totrans-635
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: Previously, it was necessary to specify the `has_index_names` argument in `read_excel`,
    if the serialized data had index names. For version 0.17.0 the output format of
    `to_excel` has been changed to make this keyword unnecessary - the change is shown
    below.
  id: totrans-636
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，在`read_excel`中必须指定`has_index_names`参数，如果序列化数据有索引名称的话。对于版本 0.17.0，`to_excel`的输出格式已更改，使得这个关键字不再必要
    - 更改如下所示。
- en: '**Old**'
  id: totrans-637
  prefs: []
  type: TYPE_NORMAL
  zh: '**旧**'
- en: '![../_images/old-excel-index.png](../Images/24fc3cf72dcb9ab17e7d499a0c8be954.png)'
  id: totrans-638
  prefs: []
  type: TYPE_IMG
  zh: '![../_images/old-excel-index.png](../Images/24fc3cf72dcb9ab17e7d499a0c8be954.png)'
- en: '**New**'
  id: totrans-639
  prefs: []
  type: TYPE_NORMAL
  zh: '**新**'
- en: '![../_images/new-excel-index.png](../Images/a628af99312aec6b62837d7d84324a39.png)'
  id: totrans-640
  prefs: []
  type: TYPE_IMG
  zh: '![../_images/new-excel-index.png](../Images/a628af99312aec6b62837d7d84324a39.png)'
- en: Warning
  id: totrans-641
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: Excel files saved in version 0.16.2 or prior that had index names will still
    able to be read in, but the `has_index_names` argument must specified to `True`.
  id: totrans-642
  prefs: []
  type: TYPE_NORMAL
  zh: 版本 0.16.2 或之前保存的带有索引名称的 Excel 文件仍然可以被读取，但必须将`has_index_names`参数指定为`True`。
- en: '### Google BigQuery enhancements'
  id: totrans-643
  prefs: []
  type: TYPE_NORMAL
  zh: '### Google BigQuery 增强'
- en: Added ability to automatically create a table/dataset using the `pandas.io.gbq.to_gbq()`
    function if the destination table/dataset does not exist. ([GH 8325](https://github.com/pandas-dev/pandas/issues/8325),
    [GH 11121](https://github.com/pandas-dev/pandas/issues/11121)).
  id: totrans-644
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了自动创建表格/数据集的能力，使用`pandas.io.gbq.to_gbq()`函数，如果目标表格/数据集不存在的话。([GH 8325](https://github.com/pandas-dev/pandas/issues/8325),
    [GH 11121](https://github.com/pandas-dev/pandas/issues/11121))。
- en: Added ability to replace an existing table and schema when calling the `pandas.io.gbq.to_gbq()`
    function via the `if_exists` argument. See the [docs](https://pandas-gbq.readthedocs.io/en/latest/writing.html)
    for more details ([GH 8325](https://github.com/pandas-dev/pandas/issues/8325)).
  id: totrans-645
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了在调用`pandas.io.gbq.to_gbq()`函数时替换现有表格和模式的能力，通过`if_exists`参数。更多详细信息请参阅[文档](https://pandas-gbq.readthedocs.io/en/latest/writing.html)（[GH
    8325](https://github.com/pandas-dev/pandas/issues/8325)）。
- en: '`InvalidColumnOrder` and `InvalidPageToken` in the gbq module will raise `ValueError`
    instead of `IOError`.'
  id: totrans-646
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 gbq 模块中，`InvalidColumnOrder` 和 `InvalidPageToken` 将引发`ValueError`而不是`IOError`。
- en: The `generate_bq_schema()` function is now deprecated and will be removed in
    a future version ([GH 11121](https://github.com/pandas-dev/pandas/issues/11121))
  id: totrans-647
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`generate_bq_schema()` 函数现在已被弃用，并将在未来版本中移除（[GH 11121](https://github.com/pandas-dev/pandas/issues/11121)）。'
- en: 'The gbq module will now support Python 3 ([GH 11094](https://github.com/pandas-dev/pandas/issues/11094)).  ###
    Display alignment with Unicode East Asian width'
  id: totrans-648
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'gbq 模块现在支持 Python 3（[GH 11094](https://github.com/pandas-dev/pandas/issues/11094)）。  ###
    使用 Unicode 东亚宽度进行显示对齐'
- en: Warning
  id: totrans-649
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: Enabling this option will affect the performance for printing of `DataFrame`
    and `Series` (about 2 times slower). Use only when it is actually required.
  id: totrans-650
  prefs: []
  type: TYPE_NORMAL
  zh: 启用此选项将影响打印 `DataFrame` 和 `Series` 的性能（大约慢 2 倍）。仅在实际需要时使用。
- en: Some East Asian countries use Unicode characters its width is corresponding
    to 2 alphabets. If a `DataFrame` or `Series` contains these characters, the default
    output cannot be aligned properly. The following options are added to enable precise
    handling for these characters.
  id: totrans-651
  prefs: []
  type: TYPE_NORMAL
  zh: 一些东亚国家使用 Unicode 字符，其宽度对应于 2 个字母。如果 `DataFrame` 或 `Series` 包含这些字符，则默认输出无法正确对齐。添加以下选项以实现对这些字符的精确处理。
- en: '`display.unicode.east_asian_width`: Whether to use the Unicode East Asian Width
    to calculate the display text width. ([GH 2612](https://github.com/pandas-dev/pandas/issues/2612))'
  id: totrans-652
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`display.unicode.east_asian_width`：是否使用 Unicode 东亚宽度来计算显示文本宽度（[GH 2612](https://github.com/pandas-dev/pandas/issues/2612)）。'
- en: '`display.unicode.ambiguous_as_wide`: Whether to handle Unicode characters belong
    to Ambiguous as Wide. ([GH 11102](https://github.com/pandas-dev/pandas/issues/11102))'
  id: totrans-653
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`display.unicode.ambiguous_as_wide`：是否处理属于 Ambiguous as Wide 的 Unicode 字符（[GH
    11102](https://github.com/pandas-dev/pandas/issues/11102)）。'
- en: '[PRE73]'
  id: totrans-654
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: '[PRE74]'
  id: totrans-655
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: 'For further details, see [here](../user_guide/options.html#options-east-asian-width)  ###
    Other enhancements'
  id: totrans-656
  prefs: []
  type: TYPE_NORMAL
  zh: '更多详细信息，请参见[这里](../user_guide/options.html#options-east-asian-width)  ### 其他增强功能'
- en: Support for `openpyxl` >= 2.2\. The API for style support is now stable ([GH
    10125](https://github.com/pandas-dev/pandas/issues/10125))
  id: totrans-657
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持 `openpyxl` >= 2.2。现在样式支持的 API 已稳定（[GH 10125](https://github.com/pandas-dev/pandas/issues/10125)）。
- en: '`merge` now accepts the argument `indicator` which adds a Categorical-type
    column (by default called `_merge`) to the output object that takes on the values
    ([GH 8790](https://github.com/pandas-dev/pandas/issues/8790))'
  id: totrans-658
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`merge` 现在接受参数 `indicator`，它会向输出对象添加一个分类列（默认名为 `_merge`），其值为（[GH 8790](https://github.com/pandas-dev/pandas/issues/8790)）。'
- en: '| Observation Origin | `_merge` value |'
  id: totrans-659
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 观察来源 | `_merge` 值 |'
- en: '| --- | --- |'
  id: totrans-660
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Merge key only in `''left''` frame | `left_only` |'
  id: totrans-661
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 仅在 `''left''` 框架中的合并键 | `left_only` |'
- en: '| Merge key only in `''right''` frame | `right_only` |'
  id: totrans-662
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 仅在 `''right''` 框架中的合并键 | `right_only` |'
- en: '| Merge key in both frames | `both` |'
  id: totrans-663
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 在两个框架中的合并键 | `both` |'
- en: '[PRE75]'
  id: totrans-664
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE75]'
- en: For more, see the [updated docs](../user_guide/merging.html#merging-indicator)
  id: totrans-665
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 更多信息，请查看[更新的文档](../user_guide/merging.html#merging-indicator)。
- en: '`pd.to_numeric` is a new function to coerce strings to numbers (possibly with
    coercion) ([GH 11133](https://github.com/pandas-dev/pandas/issues/11133))'
  id: totrans-666
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.to_numeric` 是一个将字符串强制转换为数字（可能会进行强制转换）的新函数（[GH 11133](https://github.com/pandas-dev/pandas/issues/11133)）。'
- en: '`pd.merge` will now allow duplicate column names if they are not merged upon
    ([GH 10639](https://github.com/pandas-dev/pandas/issues/10639)).'
  id: totrans-667
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.merge` 现在允许重复的列名，如果它们没有被合并（[GH 10639](https://github.com/pandas-dev/pandas/issues/10639)）。'
- en: '`pd.pivot` will now allow passing index as `None` ([GH 3962](https://github.com/pandas-dev/pandas/issues/3962)).'
  id: totrans-668
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.pivot` 现在允许将索引传递为 `None`（[GH 3962](https://github.com/pandas-dev/pandas/issues/3962)）。'
- en: '`pd.concat` will now use existing Series names if provided ([GH 10698](https://github.com/pandas-dev/pandas/issues/10698)).'
  id: totrans-669
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.concat` 现在会使用提供的现有 Series 名称（[GH 10698](https://github.com/pandas-dev/pandas/issues/10698)）。'
- en: '[PRE76]'
  id: totrans-670
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE76]'
- en: 'Previous behavior:'
  id: totrans-671
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE77]'
  id: totrans-672
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE77]'
- en: 'New behavior:'
  id: totrans-673
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE78]'
  id: totrans-674
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE78]'
- en: '`DataFrame` has gained the `nlargest` and `nsmallest` methods ([GH 10393](https://github.com/pandas-dev/pandas/issues/10393))'
  id: totrans-675
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame` 现在具有 `nlargest` 和 `nsmallest` 方法（[GH 10393](https://github.com/pandas-dev/pandas/issues/10393)）。'
- en: Add a `limit_direction` keyword argument that works with `limit` to enable `interpolate`
    to fill `NaN` values forward, backward, or both ([GH 9218](https://github.com/pandas-dev/pandas/issues/9218),
    [GH 10420](https://github.com/pandas-dev/pandas/issues/10420), [GH 11115](https://github.com/pandas-dev/pandas/issues/11115))
  id: totrans-676
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加一个 `limit_direction` 关键字参数，与 `limit` 一起使用，以使 `interpolate` 前向、后向或两者填充 `NaN`
    值（[GH 9218](https://github.com/pandas-dev/pandas/issues/9218)，[GH 10420](https://github.com/pandas-dev/pandas/issues/10420)，[GH
    11115](https://github.com/pandas-dev/pandas/issues/11115)）。
- en: '[PRE79]'
  id: totrans-677
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE79]'
- en: Added a `DataFrame.round` method to round the values to a variable number of
    decimal places ([GH 10568](https://github.com/pandas-dev/pandas/issues/10568)).
  id: totrans-678
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了一个 `DataFrame.round` 方法来将值四舍五入到可变的小数位数（[GH 10568](https://github.com/pandas-dev/pandas/issues/10568)）。
- en: '[PRE80]'
  id: totrans-679
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE80]'
- en: '`drop_duplicates` and `duplicated` now accept a `keep` keyword to target first,
    last, and all duplicates. The `take_last` keyword is deprecated, see [here](#whatsnew-0170-deprecations)
    ([GH 6511](https://github.com/pandas-dev/pandas/issues/6511), [GH 8505](https://github.com/pandas-dev/pandas/issues/8505))'
  id: totrans-680
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`drop_duplicates` 和 `duplicated` 现在接受一个 `keep` 关键字以针对第一个、最后一个和所有重复项。`take_last`
    关键字已弃用，请参阅[这里](#whatsnew-0170-deprecations)（[GH 6511](https://github.com/pandas-dev/pandas/issues/6511),
    [GH 8505](https://github.com/pandas-dev/pandas/issues/8505)）。'
- en: '[PRE81]'
  id: totrans-681
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE81]'
- en: 'Reindex now has a `tolerance` argument that allows for finer control of [Limits
    on filling while reindexing](../user_guide/basics.html#basics-limits-on-reindex-fill)
    ([GH 10411](https://github.com/pandas-dev/pandas/issues/10411)):'
  id: totrans-682
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在 `reindex` 有一个 `tolerance` 参数，允许对[重新索引填充限制](../user_guide/basics.html#basics-limits-on-reindex-fill)进行更精细的控制（[GH
    10411](https://github.com/pandas-dev/pandas/issues/10411)）：
- en: '[PRE82]'
  id: totrans-683
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE82]'
- en: 'When used on a `DatetimeIndex`, `TimedeltaIndex` or `PeriodIndex`, `tolerance`
    will coerced into a `Timedelta` if possible. This allows you to specify tolerance
    with a string:'
  id: totrans-684
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当在 `DatetimeIndex`、`TimedeltaIndex` 或 `PeriodIndex` 上使用时，如果可能的话，`tolerance`
    将被转换为 `Timedelta`。这允许您使用字符串指定容差：
- en: '[PRE83]'
  id: totrans-685
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE83]'
- en: '`tolerance` is also exposed by the lower level `Index.get_indexer` and `Index.get_loc`
    methods.'
  id: totrans-686
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`tolerance` 也由较低级别的 `Index.get_indexer` 和 `Index.get_loc` 方法公开。'
- en: Added functionality to use the `base` argument when resampling a `TimeDeltaIndex`
    ([GH 10530](https://github.com/pandas-dev/pandas/issues/10530))
  id: totrans-687
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了在重采样 `TimeDeltaIndex` 时使用 `base` 参数的功能（[GH 10530](https://github.com/pandas-dev/pandas/issues/10530)）。
- en: '`DatetimeIndex` can be instantiated using strings contains `NaT` ([GH 7599](https://github.com/pandas-dev/pandas/issues/7599))'
  id: totrans-688
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex` 可以使用包含 `NaT` 的字符串实例化（[GH 7599](https://github.com/pandas-dev/pandas/issues/7599)）。'
- en: '`to_datetime` can now accept the `yearfirst` keyword ([GH 7599](https://github.com/pandas-dev/pandas/issues/7599))'
  id: totrans-689
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_datetime` 现在可以接受 `yearfirst` 关键字（[GH 7599](https://github.com/pandas-dev/pandas/issues/7599)）。'
- en: '`pandas.tseries.offsets` larger than the `Day` offset can now be used with
    a `Series` for addition/subtraction ([GH 10699](https://github.com/pandas-dev/pandas/issues/10699)).
    See the [docs](../user_guide/timeseries.html#timeseries-offsetseries) for more
    details.'
  id: totrans-690
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 大于 `Day` 偏移量的 `pandas.tseries.offsets` 现在可以与 `Series` 一起用于加法/减法（[GH 10699](https://github.com/pandas-dev/pandas/issues/10699)）。有关更多详情，请参阅[文档](../user_guide/timeseries.html#timeseries-offsetseries)。
- en: '`pd.Timedelta.total_seconds()` now returns Timedelta duration to ns precision
    (previously microsecond precision) ([GH 10939](https://github.com/pandas-dev/pandas/issues/10939))'
  id: totrans-691
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.Timedelta.total_seconds()` 现在返回到纳秒精度的 Timedelta 时长（先前是微秒精度）（[GH 10939](https://github.com/pandas-dev/pandas/issues/10939)）。'
- en: '`PeriodIndex` now supports arithmetic with `np.ndarray` ([GH 10638](https://github.com/pandas-dev/pandas/issues/10638))'
  id: totrans-692
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PeriodIndex` 现在支持与 `np.ndarray` 的算术运算（[GH 10638](https://github.com/pandas-dev/pandas/issues/10638)）。'
- en: Support pickling of `Period` objects ([GH 10439](https://github.com/pandas-dev/pandas/issues/10439))
  id: totrans-693
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持 `Period` 对象的 pickling（[GH 10439](https://github.com/pandas-dev/pandas/issues/10439)）。
- en: '`.as_blocks` will now take a `copy` optional argument to return a copy of the
    data, default is to copy (no change in behavior from prior versions), ([GH 9607](https://github.com/pandas-dev/pandas/issues/9607))'
  id: totrans-694
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.as_blocks` 现在将接受一个 `copy` 可选参数以返回数据的副本，默认值为复制（与以前版本的行为相同），（[GH 9607](https://github.com/pandas-dev/pandas/issues/9607)）。'
- en: '`regex` argument to `DataFrame.filter` now handles numeric column names instead
    of raising `ValueError` ([GH 10384](https://github.com/pandas-dev/pandas/issues/10384)).'
  id: totrans-695
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.filter` 的 `regex` 参数现在处理数值列名而不是引发 `ValueError` ([GH 10384](https://github.com/pandas-dev/pandas/issues/10384))。'
- en: Enable reading gzip compressed files via URL, either by explicitly setting the
    compression parameter or by inferring from the presence of the HTTP Content-Encoding
    header in the response ([GH 8685](https://github.com/pandas-dev/pandas/issues/8685))
  id: totrans-696
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 URL 读取 gzip 压缩文件，可以通过显式设置压缩参数或通过从响应中的 HTTP Content-Encoding 标头的存在推断来实现（[GH
    8685](https://github.com/pandas-dev/pandas/issues/8685)）。
- en: Enable writing Excel files in [memory](../user_guide/io.html#io-excel-writing-buffer)
    using StringIO/BytesIO ([GH 7074](https://github.com/pandas-dev/pandas/issues/7074))
  id: totrans-697
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 StringIO/BytesIO 在[内存](../user_guide/io.html#io-excel-writing-buffer)中写入
    Excel 文件（[GH 7074](https://github.com/pandas-dev/pandas/issues/7074)）。
- en: Enable serialization of lists and dicts to strings in `ExcelWriter` ([GH 8188](https://github.com/pandas-dev/pandas/issues/8188))
  id: totrans-698
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `ExcelWriter` 中允许将列表和字典序列化为字符串（[GH 8188](https://github.com/pandas-dev/pandas/issues/8188)）。
- en: SQL io functions now accept a SQLAlchemy connectable. ([GH 7877](https://github.com/pandas-dev/pandas/issues/7877))
  id: totrans-699
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SQL io 函数现在接受 SQLAlchemy 的连接对象。([GH 7877](https://github.com/pandas-dev/pandas/issues/7877))
- en: '`pd.read_sql` and `to_sql` can accept database URI as `con` parameter ([GH
    10214](https://github.com/pandas-dev/pandas/issues/10214))'
  id: totrans-700
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_sql` 和 `to_sql` 现在可以接受数据库 URI 作为 `con` 参数。([GH 10214](https://github.com/pandas-dev/pandas/issues/10214))'
- en: '`read_sql_table` will now allow reading from views ([GH 10750](https://github.com/pandas-dev/pandas/issues/10750)).'
  id: totrans-701
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`read_sql_table` 现在允许从视图中读取。([GH 10750](https://github.com/pandas-dev/pandas/issues/10750))。'
- en: Enable writing complex values to `HDFStores` when using the `table` format ([GH
    10447](https://github.com/pandas-dev/pandas/issues/10447))
  id: totrans-702
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `table` 格式时，使得能够将复杂值写入到 `HDFStores` 中。([GH 10447](https://github.com/pandas-dev/pandas/issues/10447))
- en: Enable `pd.read_hdf` to be used without specifying a key when the HDF file contains
    a single dataset ([GH 10443](https://github.com/pandas-dev/pandas/issues/10443))
  id: totrans-703
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 HDF 文件包含单个数据集时，使得可以在不指定键的情况下使用 `pd.read_hdf`。([GH 10443](https://github.com/pandas-dev/pandas/issues/10443))
- en: '`pd.read_stata` will now read Stata 118 type files. ([GH 9882](https://github.com/pandas-dev/pandas/issues/9882))'
  id: totrans-704
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_stata` 现在能够读取 Stata 118 类型的文件。([GH 9882](https://github.com/pandas-dev/pandas/issues/9882))'
- en: '`msgpack` submodule has been updated to 0.4.6 with backward compatibility ([GH
    10581](https://github.com/pandas-dev/pandas/issues/10581))'
  id: totrans-705
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`msgpack` 子模块已更新到 0.4.6 版本并保持向后兼容。([GH 10581](https://github.com/pandas-dev/pandas/issues/10581))'
- en: '`DataFrame.to_dict` now accepts `orient=''index''` keyword argument ([GH 10844](https://github.com/pandas-dev/pandas/issues/10844)).'
  id: totrans-706
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.to_dict` 现在接受 `orient=''index''` 关键字参数。([GH 10844](https://github.com/pandas-dev/pandas/issues/10844)).'
- en: '`DataFrame.apply` will return a Series of dicts if the passed function returns
    a dict and `reduce=True` ([GH 8735](https://github.com/pandas-dev/pandas/issues/8735)).'
  id: totrans-707
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果传递的函数返回一个字典且 `reduce=True`，则 `DataFrame.apply` 将返回一个字典的 Series。([GH 8735](https://github.com/pandas-dev/pandas/issues/8735)).
- en: Allow passing `kwargs` to the interpolation methods ([GH 10378](https://github.com/pandas-dev/pandas/issues/10378)).
  id: totrans-708
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许将 `kwargs` 传递给插值方法。([GH 10378](https://github.com/pandas-dev/pandas/issues/10378))。
- en: Improved error message when concatenating an empty iterable of `Dataframe` objects
    ([GH 9157](https://github.com/pandas-dev/pandas/issues/9157))
  id: totrans-709
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当连接空的 `Dataframe` 对象时，改进了错误消息的显示。([GH 9157](https://github.com/pandas-dev/pandas/issues/9157))
- en: '`pd.read_csv` can now read bz2-compressed files incrementally, and the C parser
    can read bz2-compressed files from AWS S3 ([GH 11070](https://github.com/pandas-dev/pandas/issues/11070),
    [GH 11072](https://github.com/pandas-dev/pandas/issues/11072)).'
  id: totrans-710
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv` 现在能够逐步读取 bz2 压缩文件，并且 C 解析器能够从 AWS S3 中读取 bz2 压缩文件。([GH 11070](https://github.com/pandas-dev/pandas/issues/11070),
    [GH 11072](https://github.com/pandas-dev/pandas/issues/11072)).'
- en: In `pd.read_csv`, recognize `s3n://` and `s3a://` URLs as designating S3 file
    storage ([GH 11070](https://github.com/pandas-dev/pandas/issues/11070), [GH 11071](https://github.com/pandas-dev/pandas/issues/11071)).
  id: totrans-711
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `pd.read_csv` 中，识别 `s3n://` 和 `s3a://` URL 作为 S3 文件存储的标识。([GH 11070](https://github.com/pandas-dev/pandas/issues/11070),
    [GH 11071](https://github.com/pandas-dev/pandas/issues/11071))。
- en: Read CSV files from AWS S3 incrementally, instead of first downloading the entire
    file. (Full file download still required for compressed files in Python 2.) ([GH
    11070](https://github.com/pandas-dev/pandas/issues/11070), [GH 11073](https://github.com/pandas-dev/pandas/issues/11073))
  id: totrans-712
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 AWS S3 逐步读取 CSV 文件，而不是首先下载整个文件。（Python 2 中仍需要对压缩文件进行完整下载。）([GH 11070](https://github.com/pandas-dev/pandas/issues/11070),
    [GH 11073](https://github.com/pandas-dev/pandas/issues/11073))
- en: '`pd.read_csv` is now able to infer compression type for files read from AWS
    S3 storage ([GH 11070](https://github.com/pandas-dev/pandas/issues/11070), [GH
    11074](https://github.com/pandas-dev/pandas/issues/11074)).  ### Datetime with
    TZ'
  id: totrans-713
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv` 现在能够推断从 AWS S3 存储读取的文件的压缩类型。([GH 11070](https://github.com/pandas-dev/pandas/issues/11070),
    [GH 11074](https://github.com/pandas-dev/pandas/issues/11074))。 ### 带有时区的日期时间'
- en: We are adding an implementation that natively supports datetime with timezones.
    A `Series` or a `DataFrame` column previously *could* be assigned a datetime with
    timezones, and would work as an `object` dtype. This had performance issues with
    a large number rows. See the [docs](../user_guide/timeseries.html#timeseries-timezone-series)
    for more details. ([GH 8260](https://github.com/pandas-dev/pandas/issues/8260),
    [GH 10763](https://github.com/pandas-dev/pandas/issues/10763), [GH 11034](https://github.com/pandas-dev/pandas/issues/11034)).
  id: totrans-714
  prefs: []
  type: TYPE_NORMAL
  zh: 我们正在添加一种原生支持带有时区的日期时间的实现。以前`Series`或`DataFrame`列可以被赋予带有时区的日期时间，并且会作为`object`
    dtype 工作。这对于大量行存在性能问题。有关更多详细信息，请参见[文档](../user_guide/timeseries.html#timeseries-timezone-series)。([GH
    8260](https://github.com/pandas-dev/pandas/issues/8260), [GH 10763](https://github.com/pandas-dev/pandas/issues/10763),
    [GH 11034](https://github.com/pandas-dev/pandas/issues/11034))。
- en: The new implementation allows for having a single-timezone across all rows,
    with operations in a performant manner.
  id: totrans-715
  prefs: []
  type: TYPE_NORMAL
  zh: 新的实现允许在所有行之间具有单个时区，并以高效的方式进行操作。
- en: '[PRE84]'
  id: totrans-716
  prefs: []
  type: TYPE_PRE
  zh: '[PRE84]'
- en: '[PRE85]'
  id: totrans-717
  prefs: []
  type: TYPE_PRE
  zh: '[PRE85]'
- en: This uses a new-dtype representation as well, that is very similar in look-and-feel
    to its numpy cousin `datetime64[ns]`
  id: totrans-718
  prefs: []
  type: TYPE_NORMAL
  zh: 这也使用了一个新的dtype表示，它在外观和感觉上与它的numpy堂兄`datetime64[ns]`非常相似
- en: '[PRE86]'
  id: totrans-719
  prefs: []
  type: TYPE_PRE
  zh: '[PRE86]'
- en: Note
  id: totrans-720
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: There is a slightly different string repr for the underlying `DatetimeIndex`
    as a result of the dtype changes, but functionally these are the same.
  id: totrans-721
  prefs: []
  type: TYPE_NORMAL
  zh: 由于dtype的更改，底层的`DatetimeIndex`具有略有不同的字符串repr，但从功能上讲这些是相同的。
- en: 'Previous behavior:'
  id: totrans-722
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE87]'
  id: totrans-723
  prefs: []
  type: TYPE_PRE
  zh: '[PRE87]'
- en: 'New behavior:'
  id: totrans-724
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE88]'
  id: totrans-725
  prefs: []
  type: TYPE_PRE
  zh: '[PRE88]'
- en: '### Releasing the GIL'
  id: totrans-726
  prefs: []
  type: TYPE_NORMAL
  zh: '### 释放GIL'
- en: We are releasing the global-interpreter-lock (GIL) on some cython operations.
    This will allow other threads to run simultaneously during computation, potentially
    allowing performance improvements from multi-threading. Notably `groupby`, `nsmallest`,
    `value_counts` and some indexing operations benefit from this. ([GH 8882](https://github.com/pandas-dev/pandas/issues/8882))
  id: totrans-727
  prefs: []
  type: TYPE_NORMAL
  zh: 我们正在释放一些cython操作上的全局解释器锁（GIL）。这将允许在计算期间同时运行其他线程，可能允许从多线程中获得性能改进。特别是`groupby`、`nsmallest`、`value_counts`和一些索引操作会从中受益。([GH
    8882](https://github.com/pandas-dev/pandas/issues/8882))
- en: For example the groupby expression in the following code will have the GIL released
    during the factorization step, e.g. `df.groupby('key')` as well as the `.sum()`
    operation.
  id: totrans-728
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，以下代码中的groupby表达式将在因子化步骤中释放GIL，例如`df.groupby('key')`以及`.sum()`操作。
- en: '[PRE89]'
  id: totrans-729
  prefs: []
  type: TYPE_PRE
  zh: '[PRE89]'
- en: Releasing of the GIL could benefit an application that uses threads for user
    interactions (e.g. [QT](https://wiki.python.org/moin/PyQt)), or performing multi-threaded
    computations. A nice example of a library that can handle these types of computation-in-parallel
    is the [dask](https://dask.readthedocs.io/en/latest/) library.
  id: totrans-730
  prefs: []
  type: TYPE_NORMAL
  zh: GIL的释放可以使使用线程进行用户交互（例如[QT](https://wiki.python.org/moin/PyQt)）或执行多线程计算的应用受益。一个能够处理这些类型的并行计算的库的很好的例子是[dask](https://dask.readthedocs.io/en/latest/)库。
- en: '### Plot submethods'
  id: totrans-731
  prefs: []
  type: TYPE_NORMAL
  zh: '### 绘图子方法'
- en: The Series and DataFrame `.plot()` method allows for customizing [plot types](../user_guide/visualization.html#visualization-other)
    by supplying the `kind` keyword arguments. Unfortunately, many of these kinds
    of plots use different required and optional keyword arguments, which makes it
    difficult to discover what any given plot kind uses out of the dozens of possible
    arguments.
  id: totrans-732
  prefs: []
  type: TYPE_NORMAL
  zh: Series和DataFrame的`.plot()`方法允许通过提供`kind`关键字参数来自定义[绘图类型](../user_guide/visualization.html#visualization-other)。不幸的是，许多这些类型的绘图使用不同的必需和可选关键字参数，这使得很难发现任何给定绘图类型使用的是哪些可能的参数中的哪些。
- en: 'To alleviate this issue, we have added a new, optional plotting interface,
    which exposes each kind of plot as a method of the `.plot` attribute. Instead
    of writing `series.plot(kind=<kind>, ...)`, you can now also use `series.plot.<kind>(...)`:'
  id: totrans-733
  prefs: []
  type: TYPE_NORMAL
  zh: 为了缓解这个问题，我们添加了一个新的、可选的绘图接口，它将每种类型的绘图作为`.plot`属性的一个方法暴露出来。现在你可以使用`series.plot.<kind>(...)`来替代写`series.plot(kind=<kind>,
    ...)`：
- en: '[PRE90]'
  id: totrans-734
  prefs: []
  type: TYPE_PRE
  zh: '[PRE90]'
- en: '![../_images/whatsnew_plot_submethods.png](../Images/a24da7baedb7d89b10b8e6e05912eb42.png)'
  id: totrans-735
  prefs: []
  type: TYPE_IMG
  zh: '![../_images/whatsnew_plot_submethods.png](../Images/a24da7baedb7d89b10b8e6e05912eb42.png)'
- en: 'As a result of this change, these methods are now all discoverable via tab-completion:'
  id: totrans-736
  prefs: []
  type: TYPE_NORMAL
  zh: 由于这个变化，现在可以通过制表符补全发现这些方法了：
- en: '[PRE91]'
  id: totrans-737
  prefs: []
  type: TYPE_PRE
  zh: '[PRE91]'
- en: Each method signature only includes relevant arguments. Currently, these are
    limited to required arguments, but in the future these will include optional arguments,
    as well. For an overview, see the new [Plotting](../reference/frame.html#api-dataframe-plotting)
    API documentation.
  id: totrans-738
  prefs: []
  type: TYPE_NORMAL
  zh: 每个方法签名只包含相关参数。目前，这些限于必需参数，但在将来，这些将包括可选参数。有关概述，请参阅新的[绘图](../reference/frame.html#api-dataframe-plotting)
    API文档。
- en: '### Additional methods for `dt` accessor'
  id: totrans-739
  prefs: []
  type: TYPE_NORMAL
  zh: '### `dt` 访问器的额外方法'
- en: Series.dt.strftime
  id: totrans-740
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Series.dt.strftime
- en: 'We are now supporting a `Series.dt.strftime` method for datetime-likes to generate
    a formatted string ([GH 10110](https://github.com/pandas-dev/pandas/issues/10110)).
    Examples:'
  id: totrans-741
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在支持了一个用于日期型的 `Series.dt.strftime` 方法以生成格式化的字符串 ([GH 10110](https://github.com/pandas-dev/pandas/issues/10110))。例如：
- en: '[PRE92]'
  id: totrans-742
  prefs: []
  type: TYPE_PRE
  zh: '[PRE92]'
- en: '[PRE93]'
  id: totrans-743
  prefs: []
  type: TYPE_PRE
  zh: '[PRE93]'
- en: The string format is as the python standard library and details can be found
    [here](https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior)
  id: totrans-744
  prefs: []
  type: TYPE_NORMAL
  zh: 字符串格式与 Python 标准库相同，详情请查看[此处](https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior)
- en: Series.dt.total_seconds
  id: totrans-745
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Series.dt.total_seconds
- en: '`pd.Series` of type `timedelta64` has new method `.dt.total_seconds()` returning
    the duration of the timedelta in seconds ([GH 10817](https://github.com/pandas-dev/pandas/issues/10817))'
  id: totrans-746
  prefs: []
  type: TYPE_NORMAL
  zh: '`pd.Series` 类型的 `timedelta64` 有一个新方法 `.dt.total_seconds()` 返回时间间隔的持续时间（以秒为单位）
    ([GH 10817](https://github.com/pandas-dev/pandas/issues/10817))'
- en: '[PRE94]'
  id: totrans-747
  prefs: []
  type: TYPE_PRE
  zh: '[PRE94]'
- en: Series.dt.strftime
  id: totrans-748
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Series.dt.strftime
- en: 'We are now supporting a `Series.dt.strftime` method for datetime-likes to generate
    a formatted string ([GH 10110](https://github.com/pandas-dev/pandas/issues/10110)).
    Examples:'
  id: totrans-749
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在支持了一个用于日期型的 `Series.dt.strftime` 方法以生成格式化的字符串 ([GH 10110](https://github.com/pandas-dev/pandas/issues/10110))。例如：
- en: '[PRE95]'
  id: totrans-750
  prefs: []
  type: TYPE_PRE
  zh: '[PRE95]'
- en: '[PRE96]'
  id: totrans-751
  prefs: []
  type: TYPE_PRE
  zh: '[PRE96]'
- en: The string format is as the python standard library and details can be found
    [here](https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior)
  id: totrans-752
  prefs: []
  type: TYPE_NORMAL
  zh: 字符串格式与 Python 标准库相同，详情请查看[此处](https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior)
- en: Series.dt.total_seconds
  id: totrans-753
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Series.dt.total_seconds
- en: '`pd.Series` of type `timedelta64` has new method `.dt.total_seconds()` returning
    the duration of the timedelta in seconds ([GH 10817](https://github.com/pandas-dev/pandas/issues/10817))'
  id: totrans-754
  prefs: []
  type: TYPE_NORMAL
  zh: '`pd.Series` 类型的 `timedelta64` 有一个新方法 `.dt.total_seconds()` 返回时间间隔的持续时间（以秒为单位）
    ([GH 10817](https://github.com/pandas-dev/pandas/issues/10817))'
- en: '[PRE97]'
  id: totrans-755
  prefs: []
  type: TYPE_PRE
  zh: '[PRE97]'
- en: '### Period frequency enhancement'
  id: totrans-756
  prefs: []
  type: TYPE_NORMAL
  zh: '### 期间频率增强'
- en: '`Period`, `PeriodIndex` and `period_range` can now accept multiplied freq.
    Also, `Period.freq` and `PeriodIndex.freq` are now stored as a `DateOffset` instance
    like `DatetimeIndex`, and not as `str` ([GH 7811](https://github.com/pandas-dev/pandas/issues/7811))'
  id: totrans-757
  prefs: []
  type: TYPE_NORMAL
  zh: '`Period`、`PeriodIndex` 和 `period_range` 现在可以接受乘以频率的输入。此外，`Period.freq` 和 `PeriodIndex.freq`
    现在存储为`DateOffset`实例，类似于`DatetimeIndex`，而不是存储为`str` ([GH 7811](https://github.com/pandas-dev/pandas/issues/7811))'
- en: A multiplied freq represents a span of corresponding length. The example below
    creates a period of 3 days. Addition and subtraction will shift the period by
    its span.
  id: totrans-758
  prefs: []
  type: TYPE_NORMAL
  zh: 乘以频率代表相应长度的跨度。下面的示例创建了一个为期 3 天的期间。加法和减法将以其跨度移动期间。
- en: '[PRE98]'
  id: totrans-759
  prefs: []
  type: TYPE_PRE
  zh: '[PRE98]'
- en: You can use the multiplied freq in `PeriodIndex` and `period_range`.
  id: totrans-760
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在 `PeriodIndex` 和 `period_range` 中使用频率相乘。
- en: '[PRE99]'
  id: totrans-761
  prefs: []
  type: TYPE_PRE
  zh: '[PRE99]'
- en: '### Support for SAS XPORT files'
  id: totrans-762
  prefs: []
  type: TYPE_NORMAL
  zh: '### 对 SAS XPORT 文件的支持'
- en: '`read_sas()` provides support for reading *SAS XPORT* format files. ([GH 4052](https://github.com/pandas-dev/pandas/issues/4052)).'
  id: totrans-763
  prefs: []
  type: TYPE_NORMAL
  zh: '`read_sas()` 提供了对*SAS XPORT*格式文件的读取支持。([GH 4052](https://github.com/pandas-dev/pandas/issues/4052)).'
- en: '[PRE100]'
  id: totrans-764
  prefs: []
  type: TYPE_PRE
  zh: '[PRE100]'
- en: It is also possible to obtain an iterator and read an XPORT file incrementally.
  id: totrans-765
  prefs: []
  type: TYPE_NORMAL
  zh: 还可以获取迭代器并逐步读取 XPORT 文件。
- en: '[PRE101]'
  id: totrans-766
  prefs: []
  type: TYPE_PRE
  zh: '[PRE101]'
- en: See the [docs](../user_guide/io.html#io-sas) for more details.
  id: totrans-767
  prefs: []
  type: TYPE_NORMAL
  zh: 更多详情请参阅[文档](../user_guide/io.html#io-sas)。
- en: '### Support for math functions in .eval()'
  id: totrans-768
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在 .eval() 中支持数学函数'
- en: '[`eval()`](../reference/api/pandas.eval.html#pandas.eval "pandas.eval") now
    supports calling math functions ([GH 4893](https://github.com/pandas-dev/pandas/issues/4893))'
  id: totrans-769
  prefs: []
  type: TYPE_NORMAL
  zh: '[`eval()`](../reference/api/pandas.eval.html#pandas.eval "pandas.eval") 现在支持调用数学函数
    ([GH 4893](https://github.com/pandas-dev/pandas/issues/4893))'
- en: '[PRE102]'
  id: totrans-770
  prefs: []
  type: TYPE_PRE
  zh: '[PRE102]'
- en: The support math functions are `sin`, `cos`, `exp`, `log`, `expm1`, `log1p`,
    `sqrt`, `sinh`, `cosh`, `tanh`, `arcsin`, `arccos`, `arctan`, `arccosh`, `arcsinh`,
    `arctanh`, `abs` and `arctan2`.
  id: totrans-771
  prefs: []
  type: TYPE_NORMAL
  zh: 支持的数学函数有 `sin`、`cos`、`exp`、`log`、`expm1`、`log1p`、`sqrt`、`sinh`、`cosh`、`tanh`、`arcsin`、`arccos`、`arctan`、`arccosh`、`arcsinh`、`arctanh`、`abs`
    和 `arctan2`。
- en: These functions map to the intrinsics for the `NumExpr` engine. For the Python
    engine, they are mapped to `NumPy` calls.
  id: totrans-772
  prefs: []
  type: TYPE_NORMAL
  zh: 这些函数映射到`NumExpr`引擎的内在功能。对于 Python 引擎，它们映射到`NumPy`调用。
- en: Changes to Excel with `MultiIndex`
  id: totrans-773
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Excel 中的 `MultiIndex` 的更改
- en: In version 0.16.2 a `DataFrame` with `MultiIndex` columns could not be written
    to Excel via `to_excel`. That functionality has been added ([GH 10564](https://github.com/pandas-dev/pandas/issues/10564)),
    along with updating `read_excel` so that the data can be read back with, no loss
    of information, by specifying which columns/rows make up the `MultiIndex` in the
    `header` and `index_col` parameters ([GH 4679](https://github.com/pandas-dev/pandas/issues/4679))
  id: totrans-774
  prefs: []
  type: TYPE_NORMAL
  zh: 在版本0.16.2中，带有`MultiIndex`列的`DataFrame`无法通过`to_excel`写入Excel。该功能已添加（[GH 10564](https://github.com/pandas-dev/pandas/issues/10564)），以及更新`read_excel`，使得可以通过在`header`和`index_col`参数中指定哪些列/行组成`MultiIndex`来读取数据而无信息丢失（[GH
    4679](https://github.com/pandas-dev/pandas/issues/4679)）。
- en: See the [documentation](../user_guide/io.html#io-excel) for more details.
  id: totrans-775
  prefs: []
  type: TYPE_NORMAL
  zh: 有关更多详细信息，请参阅[文档](../user_guide/io.html#io-excel)。
- en: '[PRE103]'
  id: totrans-776
  prefs: []
  type: TYPE_PRE
  zh: '[PRE103]'
- en: Previously, it was necessary to specify the `has_index_names` argument in `read_excel`,
    if the serialized data had index names. For version 0.17.0 the output format of
    `to_excel` has been changed to make this keyword unnecessary - the change is shown
    below.
  id: totrans-777
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，如果序列化数据具有索引名称，则在`read_excel`中需要指定`has_index_names`参数。对于版本0.17.0，`to_excel`的输出格式已更改，使得此关键字不再必要-更改如下所示。
- en: '**Old**'
  id: totrans-778
  prefs: []
  type: TYPE_NORMAL
  zh: '**旧**'
- en: '![../_images/old-excel-index.png](../Images/24fc3cf72dcb9ab17e7d499a0c8be954.png)'
  id: totrans-779
  prefs: []
  type: TYPE_IMG
  zh: '![../_images/old-excel-index.png](../Images/24fc3cf72dcb9ab17e7d499a0c8be954.png)'
- en: '**New**'
  id: totrans-780
  prefs: []
  type: TYPE_NORMAL
  zh: '**新**'
- en: '![../_images/new-excel-index.png](../Images/a628af99312aec6b62837d7d84324a39.png)'
  id: totrans-781
  prefs: []
  type: TYPE_IMG
  zh: '![../_images/new-excel-index.png](../Images/a628af99312aec6b62837d7d84324a39.png)'
- en: Warning
  id: totrans-782
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: Excel files saved in version 0.16.2 or prior that had index names will still
    able to be read in, but the `has_index_names` argument must specified to `True`.
  id: totrans-783
  prefs: []
  type: TYPE_NORMAL
  zh: 在版本0.16.2或之前保存的具有索引名称的Excel文件仍然可以读取，但必须将`has_index_names`参数指定为`True`。
- en: '### Google BigQuery enhancements'
  id: totrans-784
  prefs: []
  type: TYPE_NORMAL
  zh: '### Google BigQuery 增强功能'
- en: Added ability to automatically create a table/dataset using the `pandas.io.gbq.to_gbq()`
    function if the destination table/dataset does not exist. ([GH 8325](https://github.com/pandas-dev/pandas/issues/8325),
    [GH 11121](https://github.com/pandas-dev/pandas/issues/11121)).
  id: totrans-785
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`pandas.io.gbq.to_gbq()`函数时，如果目标表/数据集不存在，现在可以自动创建表格/数据集。（[GH 8325](https://github.com/pandas-dev/pandas/issues/8325)，[GH
    11121](https://github.com/pandas-dev/pandas/issues/11121)）。
- en: Added ability to replace an existing table and schema when calling the `pandas.io.gbq.to_gbq()`
    function via the `if_exists` argument. See the [docs](https://pandas-gbq.readthedocs.io/en/latest/writing.html)
    for more details ([GH 8325](https://github.com/pandas-dev/pandas/issues/8325)).
  id: totrans-786
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在调用`pandas.io.gbq.to_gbq()`函数时，通过`if_exists`参数添加了替换现有表格和模式的功能。更多详细信息请参阅[文档](https://pandas-gbq.readthedocs.io/en/latest/writing.html)（[GH
    8325](https://github.com/pandas-dev/pandas/issues/8325)）。
- en: '`InvalidColumnOrder` and `InvalidPageToken` in the gbq module will raise `ValueError`
    instead of `IOError`.'
  id: totrans-787
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在gbq模块中，`InvalidColumnOrder`和`InvalidPageToken`将引发`ValueError`而不是`IOError`。
- en: The `generate_bq_schema()` function is now deprecated and will be removed in
    a future version ([GH 11121](https://github.com/pandas-dev/pandas/issues/11121))
  id: totrans-788
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`generate_bq_schema()`函数现已弃用，并将在将来的版本中删除（[GH 11121](https://github.com/pandas-dev/pandas/issues/11121)）。'
- en: The gbq module will now support Python 3 ([GH 11094](https://github.com/pandas-dev/pandas/issues/11094)).
  id: totrans-789
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gbq模块现在将支持Python 3（[GH 11094](https://github.com/pandas-dev/pandas/issues/11094)）。
- en: '### Display alignment with Unicode East Asian width'
  id: totrans-790
  prefs: []
  type: TYPE_NORMAL
  zh: '### 使用 Unicode 东亚宽度进行显示对齐'
- en: Warning
  id: totrans-791
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: Enabling this option will affect the performance for printing of `DataFrame`
    and `Series` (about 2 times slower). Use only when it is actually required.
  id: totrans-792
  prefs: []
  type: TYPE_NORMAL
  zh: 启用此选项将影响`DataFrame`和`Series`的打印性能（大约慢2倍）。只在实际需要时使用。
- en: Some East Asian countries use Unicode characters its width is corresponding
    to 2 alphabets. If a `DataFrame` or `Series` contains these characters, the default
    output cannot be aligned properly. The following options are added to enable precise
    handling for these characters.
  id: totrans-793
  prefs: []
  type: TYPE_NORMAL
  zh: 一些东亚国家使用Unicode字符，其宽度相当于2个字母。如果`DataFrame`或`Series`包含这些字符，则默认输出无法正确对齐。以下选项已添加以精确处理这些字符。
- en: '`display.unicode.east_asian_width`: Whether to use the Unicode East Asian Width
    to calculate the display text width. ([GH 2612](https://github.com/pandas-dev/pandas/issues/2612))'
  id: totrans-794
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`display.unicode.east_asian_width`：是否使用Unicode东亚宽度来计算显示文本宽度（[GH 2612](https://github.com/pandas-dev/pandas/issues/2612)）。'
- en: '`display.unicode.ambiguous_as_wide`: Whether to handle Unicode characters belong
    to Ambiguous as Wide. ([GH 11102](https://github.com/pandas-dev/pandas/issues/11102))'
  id: totrans-795
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`display.unicode.ambiguous_as_wide`：是否处理属于Ambiguous的Unicode字符为Wide（[GH 11102](https://github.com/pandas-dev/pandas/issues/11102)）。'
- en: '[PRE104]'
  id: totrans-796
  prefs: []
  type: TYPE_PRE
  zh: '[PRE104]'
- en: '[PRE105]'
  id: totrans-797
  prefs: []
  type: TYPE_PRE
  zh: '[PRE105]'
- en: For further details, see [here](../user_guide/options.html#options-east-asian-width)
  id: totrans-798
  prefs: []
  type: TYPE_NORMAL
  zh: 更多细节，请参见[这里](../user_guide/options.html#options-east-asian-width)
- en: '### Other enhancements'
  id: totrans-799
  prefs: []
  type: TYPE_NORMAL
  zh: '### 其他增强'
- en: Support for `openpyxl` >= 2.2\. The API for style support is now stable ([GH
    10125](https://github.com/pandas-dev/pandas/issues/10125))
  id: totrans-800
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持 `openpyxl` >= 2.2\. 现在样式支持的 API 已经稳定 ([GH 10125](https://github.com/pandas-dev/pandas/issues/10125))
- en: '`merge` now accepts the argument `indicator` which adds a Categorical-type
    column (by default called `_merge`) to the output object that takes on the values
    ([GH 8790](https://github.com/pandas-dev/pandas/issues/8790))'
  id: totrans-801
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`merge` 现在接受 `indicator` 参数，该参数将一个分类类型列（默认为 `_merge`）添加到输出对象中，取值为 ([GH 8790](https://github.com/pandas-dev/pandas/issues/8790))'
- en: '| Observation Origin | `_merge` value |'
  id: totrans-802
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 观察来源 | `_merge` 值 |'
- en: '| --- | --- |'
  id: totrans-803
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Merge key only in `''left''` frame | `left_only` |'
  id: totrans-804
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 仅在 `''left''` 框架中的合并键 | `left_only` |'
- en: '| Merge key only in `''right''` frame | `right_only` |'
  id: totrans-805
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 仅在 `''right''` 框架中的合并键 | `right_only` |'
- en: '| Merge key in both frames | `both` |'
  id: totrans-806
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 两个框架中的合并键 | `both` |'
- en: '[PRE106]'
  id: totrans-807
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE106]'
- en: For more, see the [updated docs](../user_guide/merging.html#merging-indicator)
  id: totrans-808
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 更多内容，请参见[更新的文档](../user_guide/merging.html#merging-indicator)
- en: '`pd.to_numeric` is a new function to coerce strings to numbers (possibly with
    coercion) ([GH 11133](https://github.com/pandas-dev/pandas/issues/11133))'
  id: totrans-809
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.to_numeric` 是一个新函数，用于将字符串强制转换为数字（可能会进行强制转换） ([GH 11133](https://github.com/pandas-dev/pandas/issues/11133))'
- en: '`pd.merge` will now allow duplicate column names if they are not merged upon
    ([GH 10639](https://github.com/pandas-dev/pandas/issues/10639)).'
  id: totrans-810
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.merge` 现在允许重复的列名，如果它们没有被合并 ([GH 10639](https://github.com/pandas-dev/pandas/issues/10639)).'
- en: '`pd.pivot` will now allow passing index as `None` ([GH 3962](https://github.com/pandas-dev/pandas/issues/3962)).'
  id: totrans-811
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.pivot` 现在允许将索引传递为 `None` ([GH 3962](https://github.com/pandas-dev/pandas/issues/3962)).'
- en: '`pd.concat` will now use existing Series names if provided ([GH 10698](https://github.com/pandas-dev/pandas/issues/10698)).'
  id: totrans-812
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.concat` 现在将使用现有的 Series 名称（如果提供） ([GH 10698](https://github.com/pandas-dev/pandas/issues/10698)).'
- en: '[PRE107]'
  id: totrans-813
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE107]'
- en: 'Previous behavior:'
  id: totrans-814
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE108]'
  id: totrans-815
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE108]'
- en: 'New behavior:'
  id: totrans-816
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE109]'
  id: totrans-817
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE109]'
- en: '`DataFrame` has gained the `nlargest` and `nsmallest` methods ([GH 10393](https://github.com/pandas-dev/pandas/issues/10393))'
  id: totrans-818
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame` 增加了 `nlargest` 和 `nsmallest` 方法 ([GH 10393](https://github.com/pandas-dev/pandas/issues/10393))'
- en: Add a `limit_direction` keyword argument that works with `limit` to enable `interpolate`
    to fill `NaN` values forward, backward, or both ([GH 9218](https://github.com/pandas-dev/pandas/issues/9218),
    [GH 10420](https://github.com/pandas-dev/pandas/issues/10420), [GH 11115](https://github.com/pandas-dev/pandas/issues/11115))
  id: totrans-819
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了一个 `limit_direction` 关键字参数，与 `limit` 一起使用，使 `interpolate` 能够向前、向后或两者填充 `NaN`
    值 ([GH 9218](https://github.com/pandas-dev/pandas/issues/9218), [GH 10420](https://github.com/pandas-dev/pandas/issues/10420),
    [GH 11115](https://github.com/pandas-dev/pandas/issues/11115))
- en: '[PRE110]'
  id: totrans-820
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE110]'
- en: Added a `DataFrame.round` method to round the values to a variable number of
    decimal places ([GH 10568](https://github.com/pandas-dev/pandas/issues/10568)).
  id: totrans-821
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了一个 `DataFrame.round` 方法，将值四舍五入到可变的小数位数 ([GH 10568](https://github.com/pandas-dev/pandas/issues/10568)).
- en: '[PRE111]'
  id: totrans-822
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE111]'
- en: '`drop_duplicates` and `duplicated` now accept a `keep` keyword to target first,
    last, and all duplicates. The `take_last` keyword is deprecated, see [here](#whatsnew-0170-deprecations)
    ([GH 6511](https://github.com/pandas-dev/pandas/issues/6511), [GH 8505](https://github.com/pandas-dev/pandas/issues/8505))'
  id: totrans-823
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`drop_duplicates` 和 `duplicated` 现在接受一个 `keep` 关键字，以定位第一个、最后一个和所有重复项。`take_last`
    关键字已被弃用，请参见[这里](#whatsnew-0170-deprecations) ([GH 6511](https://github.com/pandas-dev/pandas/issues/6511),
    [GH 8505](https://github.com/pandas-dev/pandas/issues/8505))'
- en: '[PRE112]'
  id: totrans-824
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE112]'
- en: 'Reindex now has a `tolerance` argument that allows for finer control of [Limits
    on filling while reindexing](../user_guide/basics.html#basics-limits-on-reindex-fill)
    ([GH 10411](https://github.com/pandas-dev/pandas/issues/10411)):'
  id: totrans-825
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Reindex 现在有一个 `tolerance` 参数，允许更精细地控制[重新索引时的填充限制](../user_guide/basics.html#basics-limits-on-reindex-fill)
    ([GH 10411](https://github.com/pandas-dev/pandas/issues/10411)):'
- en: '[PRE113]'
  id: totrans-826
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE113]'
- en: 'When used on a `DatetimeIndex`, `TimedeltaIndex` or `PeriodIndex`, `tolerance`
    will coerced into a `Timedelta` if possible. This allows you to specify tolerance
    with a string:'
  id: totrans-827
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当在 `DatetimeIndex`、`TimedeltaIndex` 或 `PeriodIndex` 上使用时，如果可能的话，`tolerance`
    将被强制转换为 `Timedelta`。这允许您使用字符串指定容差：
- en: '[PRE114]'
  id: totrans-828
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE114]'
- en: '`tolerance` is also exposed by the lower level `Index.get_indexer` and `Index.get_loc`
    methods.'
  id: totrans-829
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`tolerance` 也可以通过更低级别的 `Index.get_indexer` 和 `Index.get_loc` 方法暴露出来。'
- en: Added functionality to use the `base` argument when resampling a `TimeDeltaIndex`
    ([GH 10530](https://github.com/pandas-dev/pandas/issues/10530))
  id: totrans-830
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了在对 `TimeDeltaIndex` 重新采样时使用 `base` 参数的功能 ([GH 10530](https://github.com/pandas-dev/pandas/issues/10530))
- en: '`DatetimeIndex` can be instantiated using strings contains `NaT` ([GH 7599](https://github.com/pandas-dev/pandas/issues/7599))'
  id: totrans-831
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex` 可以使用包含 `NaT` 的字符串进行实例化 ([GH 7599](https://github.com/pandas-dev/pandas/issues/7599))'
- en: '`to_datetime` can now accept the `yearfirst` keyword ([GH 7599](https://github.com/pandas-dev/pandas/issues/7599))'
  id: totrans-832
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_datetime` 现在可以接受 `yearfirst` 关键字。([GH 7599](https://github.com/pandas-dev/pandas/issues/7599))'
- en: '`pandas.tseries.offsets` larger than the `Day` offset can now be used with
    a `Series` for addition/subtraction ([GH 10699](https://github.com/pandas-dev/pandas/issues/10699)).
    See the [docs](../user_guide/timeseries.html#timeseries-offsetseries) for more
    details.'
  id: totrans-833
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 大于 `Day` 偏移的 `pandas.tseries.offsets` 现在可以与 `Series` 一起用于加法/减法。查看[文档](../user_guide/timeseries.html#timeseries-offsetseries)获取更多详细信息。
- en: '`pd.Timedelta.total_seconds()` now returns Timedelta duration to ns precision
    (previously microsecond precision) ([GH 10939](https://github.com/pandas-dev/pandas/issues/10939))'
  id: totrans-834
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.Timedelta.total_seconds()` 现在以纳秒精度返回 Timedelta 时长（之前是微秒精度）。([GH 10939](https://github.com/pandas-dev/pandas/issues/10939))'
- en: '`PeriodIndex` now supports arithmetic with `np.ndarray` ([GH 10638](https://github.com/pandas-dev/pandas/issues/10638))'
  id: totrans-835
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PeriodIndex` 现在支持与 `np.ndarray` 的算术运算。([GH 10638](https://github.com/pandas-dev/pandas/issues/10638))'
- en: Support pickling of `Period` objects ([GH 10439](https://github.com/pandas-dev/pandas/issues/10439))
  id: totrans-836
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持 `Period` 对象的 pickling。([GH 10439](https://github.com/pandas-dev/pandas/issues/10439))
- en: '`.as_blocks` will now take a `copy` optional argument to return a copy of the
    data, default is to copy (no change in behavior from prior versions), ([GH 9607](https://github.com/pandas-dev/pandas/issues/9607))'
  id: totrans-837
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.as_blocks` 现在接受一个可选参数 `copy`，以返回数据的副本，默认为复制（与之前版本的行为没有变化）。([GH 9607](https://github.com/pandas-dev/pandas/issues/9607))'
- en: '`regex` argument to `DataFrame.filter` now handles numeric column names instead
    of raising `ValueError` ([GH 10384](https://github.com/pandas-dev/pandas/issues/10384)).'
  id: totrans-838
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.filter` 的 `regex` 参数现在可以处理数字列名，而不是引发 `ValueError`。([GH 10384](https://github.com/pandas-dev/pandas/issues/10384))'
- en: Enable reading gzip compressed files via URL, either by explicitly setting the
    compression parameter or by inferring from the presence of the HTTP Content-Encoding
    header in the response ([GH 8685](https://github.com/pandas-dev/pandas/issues/8685))
  id: totrans-839
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 URL 读取 gzip 压缩文件，可以通过显式设置压缩参数或通过推断响应中的 HTTP Content-Encoding 头来实现。([GH 8685](https://github.com/pandas-dev/pandas/issues/8685))
- en: Enable writing Excel files in [memory](../user_guide/io.html#io-excel-writing-buffer)
    using StringIO/BytesIO ([GH 7074](https://github.com/pandas-dev/pandas/issues/7074))
  id: totrans-840
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 StringIO/BytesIO 在[内存](../user_guide/io.html#io-excel-writing-buffer)中写入
    Excel 文件。([GH 7074](https://github.com/pandas-dev/pandas/issues/7074))
- en: Enable serialization of lists and dicts to strings in `ExcelWriter` ([GH 8188](https://github.com/pandas-dev/pandas/issues/8188))
  id: totrans-841
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `ExcelWriter` 中允许将列表和字典序列化为字符串。([GH 8188](https://github.com/pandas-dev/pandas/issues/8188))
- en: SQL io functions now accept a SQLAlchemy connectable. ([GH 7877](https://github.com/pandas-dev/pandas/issues/7877))
  id: totrans-842
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SQL io 函数现在接受 SQLAlchemy 连接。([GH 7877](https://github.com/pandas-dev/pandas/issues/7877))
- en: '`pd.read_sql` and `to_sql` can accept database URI as `con` parameter ([GH
    10214](https://github.com/pandas-dev/pandas/issues/10214))'
  id: totrans-843
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_sql` 和 `to_sql` 可以接受数据库 URI 作为 `con` 参数。([GH 10214](https://github.com/pandas-dev/pandas/issues/10214))'
- en: '`read_sql_table` will now allow reading from views ([GH 10750](https://github.com/pandas-dev/pandas/issues/10750)).'
  id: totrans-844
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`read_sql_table` 现在允许从视图中读取。([GH 10750](https://github.com/pandas-dev/pandas/issues/10750))'
- en: Enable writing complex values to `HDFStores` when using the `table` format ([GH
    10447](https://github.com/pandas-dev/pandas/issues/10447))
  id: totrans-845
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `table` 格式时，允许将复杂值写入 `HDFStores`。([GH 10447](https://github.com/pandas-dev/pandas/issues/10447))
- en: Enable `pd.read_hdf` to be used without specifying a key when the HDF file contains
    a single dataset ([GH 10443](https://github.com/pandas-dev/pandas/issues/10443))
  id: totrans-846
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 HDF 文件包含单个数据集时，允许使用 `pd.read_hdf` 而无需指定键。([GH 10443](https://github.com/pandas-dev/pandas/issues/10443))
- en: '`pd.read_stata` will now read Stata 118 type files. ([GH 9882](https://github.com/pandas-dev/pandas/issues/9882))'
  id: totrans-847
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_stata` 现在可以读取 Stata 118 类型文件。([GH 9882](https://github.com/pandas-dev/pandas/issues/9882))'
- en: '`msgpack` submodule has been updated to 0.4.6 with backward compatibility ([GH
    10581](https://github.com/pandas-dev/pandas/issues/10581))'
  id: totrans-848
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`msgpack` 子模块已更新为 0.4.6，并具有向后兼容性。([GH 10581](https://github.com/pandas-dev/pandas/issues/10581))'
- en: '`DataFrame.to_dict` now accepts `orient=''index''` keyword argument ([GH 10844](https://github.com/pandas-dev/pandas/issues/10844)).'
  id: totrans-849
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.to_dict` 现在接受 `orient=''index''` 关键字参数。([GH 10844](https://github.com/pandas-dev/pandas/issues/10844))'
- en: '`DataFrame.apply` will return a Series of dicts if the passed function returns
    a dict and `reduce=True` ([GH 8735](https://github.com/pandas-dev/pandas/issues/8735)).'
  id: totrans-850
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果传递的函数返回一个字典且 `reduce=True`，`DataFrame.apply` 将返回��个字典的 Series。([GH 8735](https://github.com/pandas-dev/pandas/issues/8735))
- en: Allow passing `kwargs` to the interpolation methods ([GH 10378](https://github.com/pandas-dev/pandas/issues/10378)).
  id: totrans-851
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许将`kwargs`传递给插值方法（[GH 10378](https://github.com/pandas-dev/pandas/issues/10378)）。
- en: Improved error message when concatenating an empty iterable of `Dataframe` objects
    ([GH 9157](https://github.com/pandas-dev/pandas/issues/9157))
  id: totrans-852
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在连接空的`Dataframe`对象可迭代时改进了错误消息（[GH 9157](https://github.com/pandas-dev/pandas/issues/9157)）。
- en: '`pd.read_csv` can now read bz2-compressed files incrementally, and the C parser
    can read bz2-compressed files from AWS S3 ([GH 11070](https://github.com/pandas-dev/pandas/issues/11070),
    [GH 11072](https://github.com/pandas-dev/pandas/issues/11072)).'
  id: totrans-853
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv`现在可以逐步读取bz2压缩文件，C解析器可以从AWS S3读取bz2压缩文件（[GH 11070](https://github.com/pandas-dev/pandas/issues/11070)，[GH
    11072](https://github.com/pandas-dev/pandas/issues/11072))。'
- en: In `pd.read_csv`, recognize `s3n://` and `s3a://` URLs as designating S3 file
    storage ([GH 11070](https://github.com/pandas-dev/pandas/issues/11070), [GH 11071](https://github.com/pandas-dev/pandas/issues/11071)).
  id: totrans-854
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`pd.read_csv`中，识别`s3n://`和`s3a://` URL作为S3文件存储的指定（[GH 11070](https://github.com/pandas-dev/pandas/issues/11070)，[GH
    11071](https://github.com/pandas-dev/pandas/issues/11071)）。
- en: Read CSV files from AWS S3 incrementally, instead of first downloading the entire
    file. (Full file download still required for compressed files in Python 2.) ([GH
    11070](https://github.com/pandas-dev/pandas/issues/11070), [GH 11073](https://github.com/pandas-dev/pandas/issues/11073))
  id: totrans-855
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 逐步从AWS S3读取CSV文件，而不是首先下载整个文件。（Python 2中仍需要完整文件下载以处理压缩文件。）（[GH 11070](https://github.com/pandas-dev/pandas/issues/11070)，[GH
    11073](https://github.com/pandas-dev/pandas/issues/11073)）
- en: '`pd.read_csv` is now able to infer compression type for files read from AWS
    S3 storage ([GH 11070](https://github.com/pandas-dev/pandas/issues/11070), [GH
    11074](https://github.com/pandas-dev/pandas/issues/11074)).'
  id: totrans-856
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv`现在能够推断从AWS S3存储读取的文件的压缩类型（[GH 11070](https://github.com/pandas-dev/pandas/issues/11070)，[GH
    11074](https://github.com/pandas-dev/pandas/issues/11074))。'
- en: '## Backwards incompatible API changes'
  id: totrans-857
  prefs: []
  type: TYPE_NORMAL
  zh: '## 不兼容的API更改'
- en: '### Changes to sorting API'
  id: totrans-858
  prefs: []
  type: TYPE_NORMAL
  zh: '### 排序API的更改'
- en: The sorting API has had some longtime inconsistencies. ([GH 9816](https://github.com/pandas-dev/pandas/issues/9816),
    [GH 8239](https://github.com/pandas-dev/pandas/issues/8239)).
  id: totrans-859
  prefs: []
  type: TYPE_NORMAL
  zh: 排序API存在一些长期的不一致性。([GH 9816](https://github.com/pandas-dev/pandas/issues/9816)，[GH
    8239](https://github.com/pandas-dev/pandas/issues/8239))。
- en: 'Here is a summary of the API **PRIOR** to 0.17.0:'
  id: totrans-860
  prefs: []
  type: TYPE_NORMAL
  zh: 这是0.17.0之前的API摘要：
- en: '`Series.sort` is **INPLACE** while `DataFrame.sort` returns a new object.'
  id: totrans-861
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.sort`是**原地**的，而`DataFrame.sort`返回一个新对象。'
- en: '`Series.order` returns a new object'
  id: totrans-862
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.order`返回一个新对象'
- en: It was possible to use `Series/DataFrame.sort_index` to sort by **values** by
    passing the `by` keyword.
  id: totrans-863
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以使用`Series/DataFrame.sort_index`通过传递`by`关键字来按**值**排序。
- en: '`Series/DataFrame.sortlevel` worked only on a `MultiIndex` for sorting by index.'
  id: totrans-864
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series/DataFrame.sortlevel`仅适用于通过索引排序的`MultiIndex`。'
- en: 'To address these issues, we have revamped the API:'
  id: totrans-865
  prefs: []
  type: TYPE_NORMAL
  zh: 为了解决���些问题，我们已经重新设计了API：
- en: We have introduced a new method, [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values"), which is the merger of `DataFrame.sort()`, `Series.sort()`,
    and `Series.order()`, to handle sorting of **values**.
  id: totrans-866
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们引入了一个新方法，[`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values")，它是`DataFrame.sort()`，`Series.sort()`和`Series.order()`的合并，用于处理**值**的排序。
- en: The existing methods `Series.sort()`, `Series.order()`, and `DataFrame.sort()`
    have been deprecated and will be removed in a future version.
  id: totrans-867
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现有方法`Series.sort()`，`Series.order()`和`DataFrame.sort()`已被弃用，并将在将来的版本中删除。
- en: The `by` argument of `DataFrame.sort_index()` has been deprecated and will be
    removed in a future version.
  id: totrans-868
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.sort_index()`的`by`参数已被弃用，并将在将来的版本中删除。'
- en: The existing method `.sort_index()` will gain the `level` keyword to enable
    level sorting.
  id: totrans-869
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现有方法`.sort_index()`将增加`level`关键字以启用级别排序。
- en: We now have two distinct and non-overlapping methods of sorting. A `*` marks
    items that will show a `FutureWarning`.
  id: totrans-870
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有两种不重叠的排序方法。`*`标记的项目将显示`FutureWarning`。
- en: 'To sort by the **values**:'
  id: totrans-871
  prefs: []
  type: TYPE_NORMAL
  zh: 按**值**排序：
- en: '| Previous | Replacement |'
  id: totrans-872
  prefs: []
  type: TYPE_TB
  zh: '| 之前 | 替换 |'
- en: '| --- | --- |'
  id: totrans-873
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| * `Series.order()` | `Series.sort_values()` |'
  id: totrans-874
  prefs: []
  type: TYPE_TB
  zh: '| * `Series.order()` | `Series.sort_values()` |'
- en: '| * `Series.sort()` | `Series.sort_values(inplace=True)` |'
  id: totrans-875
  prefs: []
  type: TYPE_TB
  zh: '| * `Series.sort()` | `Series.sort_values(inplace=True)` |'
- en: '| * `DataFrame.sort(columns=...)` | `DataFrame.sort_values(by=...)` |'
  id: totrans-876
  prefs: []
  type: TYPE_TB
  zh: '| * `DataFrame.sort(columns=...)` | `DataFrame.sort_values(by=...)` |'
- en: 'To sort by the **index**:'
  id: totrans-877
  prefs: []
  type: TYPE_NORMAL
  zh: 按**索引**排序：
- en: '| Previous | Replacement |'
  id: totrans-878
  prefs: []
  type: TYPE_TB
  zh: '| 之前 | 替换 |'
- en: '| --- | --- |'
  id: totrans-879
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `Series.sort_index()` | `Series.sort_index()` |'
  id: totrans-880
  prefs: []
  type: TYPE_TB
  zh: '| `Series.sort_index()` | `Series.sort_index()` |'
- en: '| `Series.sortlevel(level=...)` | `Series.sort_index(level=...`) |'
  id: totrans-881
  prefs: []
  type: TYPE_TB
  zh: '| `Series.sortlevel(level=...)` | `Series.sort_index(level=...`) |'
- en: '| `DataFrame.sort_index()` | `DataFrame.sort_index()` |'
  id: totrans-882
  prefs: []
  type: TYPE_TB
  zh: '| `DataFrame.sort_index()` | `DataFrame.sort_index()` |'
- en: '| `DataFrame.sortlevel(level=...)` | `DataFrame.sort_index(level=...)` |'
  id: totrans-883
  prefs: []
  type: TYPE_TB
  zh: '| `DataFrame.sortlevel(level=...)` | `DataFrame.sort_index(level=...)` |'
- en: '| * `DataFrame.sort()` | `DataFrame.sort_index()` |'
  id: totrans-884
  prefs: []
  type: TYPE_TB
  zh: '| * `DataFrame.sort()` | `DataFrame.sort_index()` |'
- en: We have also deprecated and changed similar methods in two Series-like classes,
    `Index` and `Categorical`.
  id: totrans-885
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还弃用并更改了两个类似于Series的类`Index`和`Categorical`中的类似方法。
- en: '| Previous | Replacement |'
  id: totrans-886
  prefs: []
  type: TYPE_TB
  zh: '| 以前 | 替换 |'
- en: '| --- | --- |'
  id: totrans-887
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| * `Index.order()` | `Index.sort_values()` |'
  id: totrans-888
  prefs: []
  type: TYPE_TB
  zh: '| * `Index.order()` | `Index.sort_values()` |'
- en: '| * `Categorical.order()` | `Categorical.sort_values()` |  ### Changes to to_datetime
    and to_timedelta'
  id: totrans-889
  prefs: []
  type: TYPE_NORMAL
  zh: '| * `Categorical.order()` | `Categorical.sort_values()` |  ### `to_datetime`和`to_timedelta`的更改'
- en: Error handling
  id: totrans-890
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 错误处理
- en: The default for `pd.to_datetime` error handling has changed to `errors='raise'`.
    In prior versions it was `errors='ignore'`. Furthermore, the `coerce` argument
    has been deprecated in favor of `errors='coerce'`. This means that invalid parsing
    will raise rather that return the original input as in previous versions. ([GH
    10636](https://github.com/pandas-dev/pandas/issues/10636))
  id: totrans-891
  prefs: []
  type: TYPE_NORMAL
  zh: '`pd.to_datetime`的默认错误处理方式已更改为`errors=''raise''`。在之前的版本中是`errors=''ignore''`。此外，`coerce`参数已被弃用，改用`errors=''coerce''`。这意味着无效的解析将引发错误，而不像以前的版本那样返回原始输入。([GH
    10636](https://github.com/pandas-dev/pandas/issues/10636))'
- en: 'Previous behavior:'
  id: totrans-892
  prefs: []
  type: TYPE_NORMAL
  zh: 以前的行为：
- en: '[PRE115]'
  id: totrans-893
  prefs: []
  type: TYPE_PRE
  zh: '[PRE115]'
- en: 'New behavior:'
  id: totrans-894
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE116]'
  id: totrans-895
  prefs: []
  type: TYPE_PRE
  zh: '[PRE116]'
- en: Of course you can coerce this as well.
  id: totrans-896
  prefs: []
  type: TYPE_NORMAL
  zh: 当然您也可以强制执行这个。
- en: '[PRE117]'
  id: totrans-897
  prefs: []
  type: TYPE_PRE
  zh: '[PRE117]'
- en: 'To keep the previous behavior, you can use `errors=''ignore''`:'
  id: totrans-898
  prefs: []
  type: TYPE_NORMAL
  zh: 要保持以前的行为，您可以使用`errors='ignore'`：
- en: '[PRE118]'
  id: totrans-899
  prefs: []
  type: TYPE_PRE
  zh: '[PRE118]'
- en: Furthermore, `pd.to_timedelta` has gained a similar API, of `errors='raise'|'ignore'|'coerce'`,
    and the `coerce` keyword has been deprecated in favor of `errors='coerce'`.
  id: totrans-900
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，`pd.to_timedelta`也获得了类似的API，`errors='raise'|'ignore'|'coerce'`，并且`coerce`关键字已被弃用，改用`errors='coerce'`。
- en: Consistent parsing
  id: totrans-901
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 一致的解析
- en: The string parsing of `to_datetime`, `Timestamp` and `DatetimeIndex` has been
    made consistent. ([GH 7599](https://github.com/pandas-dev/pandas/issues/7599))
  id: totrans-902
  prefs: []
  type: TYPE_NORMAL
  zh: '`to_datetime`，`Timestamp`和`DatetimeIndex`的字符串解析已经变得一致。([GH 7599](https://github.com/pandas-dev/pandas/issues/7599))'
- en: Prior to v0.17.0, `Timestamp` and `to_datetime` may parse year-only datetime-string
    incorrectly using today’s date, otherwise `DatetimeIndex` uses the beginning of
    the year. `Timestamp` and `to_datetime` may raise `ValueError` in some types of
    datetime-string which `DatetimeIndex` can parse, such as a quarterly string.
  id: totrans-903
  prefs: []
  type: TYPE_NORMAL
  zh: 在v0.17.0之前，`Timestamp`和`to_datetime`可能会使用今天的日期不正确地解析仅包含年份的日期字符串，否则`DatetimeIndex`将使用该年的年初。`Timestamp`和`to_datetime`可能会在某些`DatetimeIndex`可以解析的日期字符串类型中引发`ValueError`，例如季度字符串。
- en: 'Previous behavior:'
  id: totrans-904
  prefs: []
  type: TYPE_NORMAL
  zh: 以前的行为：
- en: '[PRE119]'
  id: totrans-905
  prefs: []
  type: TYPE_PRE
  zh: '[PRE119]'
- en: v0.17.0 can parse them as below. It works on `DatetimeIndex` also.
  id: totrans-906
  prefs: []
  type: TYPE_NORMAL
  zh: v0.17.0可以像下面这样解析它们。它也适用于`DatetimeIndex`。
- en: 'New behavior:'
  id: totrans-907
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE120]'
  id: totrans-908
  prefs: []
  type: TYPE_PRE
  zh: '[PRE120]'
- en: Note
  id: totrans-909
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: If you want to perform calculations based on today’s date, use `Timestamp.now()`
    and `pandas.tseries.offsets`.
  id: totrans-910
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想要基于今天的日期执行计算，请使用`Timestamp.now()`和`pandas.tseries.offsets`。
- en: '[PRE121]'
  id: totrans-911
  prefs: []
  type: TYPE_PRE
  zh: '[PRE121]'
- en: Changes to Index comparisons
  id: totrans-912
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 索引比较的更改
- en: Operator equal on `Index` should behavior similarly to `Series` ([GH 9947](https://github.com/pandas-dev/pandas/issues/9947),
    [GH 10637](https://github.com/pandas-dev/pandas/issues/10637))
  id: totrans-913
  prefs: []
  type: TYPE_NORMAL
  zh: '`Index`上的等号操作应该与`Series`类似（[GH 9947](https://github.com/pandas-dev/pandas/issues/9947),
    [GH 10637](https://github.com/pandas-dev/pandas/issues/10637)）'
- en: Starting in v0.17.0, comparing `Index` objects of different lengths will raise
    a `ValueError`. This is to be consistent with the behavior of `Series`.
  id: totrans-914
  prefs: []
  type: TYPE_NORMAL
  zh: 从v0.17.0开始，比较不同长度的`Index`对象将引发`ValueError`。这是为了与`Series`的行为保持一致。
- en: 'Previous behavior:'
  id: totrans-915
  prefs: []
  type: TYPE_NORMAL
  zh: 以前的行为：
- en: '[PRE122]'
  id: totrans-916
  prefs: []
  type: TYPE_PRE
  zh: '[PRE122]'
- en: 'New behavior:'
  id: totrans-917
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE123]'
  id: totrans-918
  prefs: []
  type: TYPE_PRE
  zh: '[PRE123]'
- en: 'Note that this is different from the `numpy` behavior where a comparison can
    be broadcast:'
  id: totrans-919
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，这与`numpy`的行为不同，其中可以进行广播比较：
- en: '[PRE124]'
  id: totrans-920
  prefs: []
  type: TYPE_PRE
  zh: '[PRE124]'
- en: 'or it can return False if broadcasting can not be done:'
  id: totrans-921
  prefs: []
  type: TYPE_NORMAL
  zh: 或者如果无法进行广播，则可以返回False：
- en: '[PRE125]'
  id: totrans-922
  prefs: []
  type: TYPE_PRE
  zh: '[PRE125]'
- en: Changes to boolean comparisons vs. None
  id: totrans-923
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 布尔比较与None的更改
- en: Boolean comparisons of a `Series` vs `None` will now be equivalent to comparing
    with `np.nan`, rather than raise `TypeError`. ([GH 1079](https://github.com/pandas-dev/pandas/issues/1079)).
  id: totrans-924
  prefs: []
  type: TYPE_NORMAL
  zh: '`Series`与`None`的布尔比较现在将等同于与`np.nan`比较，而不是引发`TypeError`。([GH 1079](https://github.com/pandas-dev/pandas/issues/1079)).'
- en: '[PRE126]'
  id: totrans-925
  prefs: []
  type: TYPE_PRE
  zh: '[PRE126]'
- en: 'Previous behavior:'
  id: totrans-926
  prefs: []
  type: TYPE_NORMAL
  zh: 以前的行为：
- en: '[PRE127]'
  id: totrans-927
  prefs: []
  type: TYPE_PRE
  zh: '[PRE127]'
- en: 'New behavior:'
  id: totrans-928
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE128]'
  id: totrans-929
  prefs: []
  type: TYPE_PRE
  zh: '[PRE128]'
- en: Usually you simply want to know which values are null.
  id: totrans-930
  prefs: []
  type: TYPE_NORMAL
  zh: 通常您只想知道哪些值为null。
- en: '[PRE129]'
  id: totrans-931
  prefs: []
  type: TYPE_PRE
  zh: '[PRE129]'
- en: Warning
  id: totrans-932
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: You generally will want to use `isnull/notnull` for these types of comparisons,
    as `isnull/notnull` tells you which elements are null. One has to be mindful that
    `nan's` don’t compare equal, but `None's` do. Note that pandas/numpy uses the
    fact that `np.nan != np.nan`, and treats `None` like `np.nan`.
  id: totrans-933
  prefs: []
  type: TYPE_NORMAL
  zh: 通常您会希望对这些类型的比较使用`isnull/notnull`，因为`isnull/notnull`告诉您哪些元素为null。必须注意`nan`不相等，但`None`相等。请注意，pandas/numpy使用`np.nan
    != np.nan`的事实，并将`None`视为`np.nan`。
- en: '[PRE130]'
  id: totrans-934
  prefs: []
  type: TYPE_PRE
  zh: '[PRE130]'
- en: '### HDFStore dropna behavior'
  id: totrans-935
  prefs: []
  type: TYPE_NORMAL
  zh: '### HDFStore dropna行为'
- en: The default behavior for HDFStore write functions with `format='table'` is now
    to keep rows that are all missing. Previously, the behavior was to drop rows that
    were all missing save the index. The previous behavior can be replicated using
    the `dropna=True` option. ([GH 9382](https://github.com/pandas-dev/pandas/issues/9382))
  id: totrans-936
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`format='table'`的HDFStore写函数的默认行为现在是保留所有缺失的行。以前，行为是删除所有缺失的行，保存索引。以前的行为可以使用`dropna=True`选项复制。([GH
    9382](https://github.com/pandas-dev/pandas/issues/9382))
- en: 'Previous behavior:'
  id: totrans-937
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE131]'
  id: totrans-938
  prefs: []
  type: TYPE_PRE
  zh: '[PRE131]'
- en: '[PRE132]'
  id: totrans-939
  prefs: []
  type: TYPE_PRE
  zh: '[PRE132]'
- en: 'New behavior:'
  id: totrans-940
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE133]'
  id: totrans-941
  prefs: []
  type: TYPE_PRE
  zh: '[PRE133]'
- en: 'See the [docs](../user_guide/io.html#io-hdf5) for more details.  ### Changes
    to `display.precision` option'
  id: totrans-942
  prefs: []
  type: TYPE_NORMAL
  zh: 查看[文档](../user_guide/io.html#io-hdf5)以获取更多详细信息。### `display.precision`选项的更改
- en: The `display.precision` option has been clarified to refer to decimal places
    ([GH 10451](https://github.com/pandas-dev/pandas/issues/10451)).
  id: totrans-943
  prefs: []
  type: TYPE_NORMAL
  zh: '`display.precision`选项已经明确指定为小数位数（[GH 10451](https://github.com/pandas-dev/pandas/issues/10451)）'
- en: Earlier versions of pandas would format floating point numbers to have one less
    decimal place than the value in `display.precision`.
  id: totrans-944
  prefs: []
  type: TYPE_NORMAL
  zh: 早期版本的pandas会将浮点数格式化为比`display.precision`中的值少一个小数位数。
- en: '[PRE134]'
  id: totrans-945
  prefs: []
  type: TYPE_PRE
  zh: '[PRE134]'
- en: If interpreting precision as “significant figures” this did work for scientific
    notation but that same interpretation did not work for values with standard formatting.
    It was also out of step with how numpy handles formatting.
  id: totrans-946
  prefs: []
  type: TYPE_NORMAL
  zh: 如果将精度解释为“有效数字”，这对科学计数法有效，但对于具有标准格式的值，同样的解释不起作用。这也与numpy处理格式的方式不一致。
- en: Going forward the value of `display.precision` will directly control the number
    of places after the decimal, for regular formatting as well as scientific notation,
    similar to how numpy’s `precision` print option works.
  id: totrans-947
  prefs: []
  type: TYPE_NORMAL
  zh: 从现在开始，`display.precision`的值将直接控制小数点后的位数，用于常规��式和科学计数法，类似于numpy的`precision`打印选项的工作方式。
- en: '[PRE135]'
  id: totrans-948
  prefs: []
  type: TYPE_PRE
  zh: '[PRE135]'
- en: 'To preserve output behavior with prior versions the default value of `display.precision`
    has been reduced to `6` from `7`.  ### Changes to `Categorical.unique`'
  id: totrans-949
  prefs: []
  type: TYPE_NORMAL
  zh: 为了保持与先前版本的输出行为一致，`display.precision`的默认值已从`7`降低到`6`。### `Categorical.unique`的更改
- en: '`Categorical.unique` now returns new `Categoricals` with `categories` and `codes`
    that are unique, rather than returning `np.array` ([GH 10508](https://github.com/pandas-dev/pandas/issues/10508))'
  id: totrans-950
  prefs: []
  type: TYPE_NORMAL
  zh: '`Categorical.unique`现在返回具有唯一`categories`和`codes`的新`Categoricals`，而不是返回`np.array`（[GH
    10508](https://github.com/pandas-dev/pandas/issues/10508)）'
- en: 'unordered category: values and categories are sorted by appearance order.'
  id: totrans-951
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无序类别：值和类别按出现顺序排序。
- en: 'ordered category: values are sorted by appearance order, categories keep existing
    order.'
  id: totrans-952
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有序类别：值按出现顺序排序，类别保持现有顺序。
- en: '[PRE136]'
  id: totrans-953
  prefs: []
  type: TYPE_PRE
  zh: '[PRE136]'
- en: Changes to `bool` passed as `header` in parsers
  id: totrans-954
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 解析器中传递的`header`为`bool`的更改
- en: In earlier versions of pandas, if a bool was passed the `header` argument of
    `read_csv`, `read_excel`, or `read_html` it was implicitly converted to an integer,
    resulting in `header=0` for `False` and `header=1` for `True` ([GH 6113](https://github.com/pandas-dev/pandas/issues/6113))
  id: totrans-955
  prefs: []
  type: TYPE_NORMAL
  zh: 在早期版本的pandas中，如果在`read_csv`、`read_excel`或`read_html`的`header`参数中传递了一个布尔值，它会被隐式转换为整数，导致`False`时`header=0`，`True`时`header=1`（[GH
    6113](https://github.com/pandas-dev/pandas/issues/6113)）
- en: A `bool` input to `header` will now raise a `TypeError`
  id: totrans-956
  prefs: []
  type: TYPE_NORMAL
  zh: 对于`header`的`bool`输入现在会引发`TypeError`
- en: '[PRE137]'
  id: totrans-957
  prefs: []
  type: TYPE_PRE
  zh: '[PRE137]'
- en: '### Other API changes'
  id: totrans-958
  prefs: []
  type: TYPE_NORMAL
  zh: '### 其他API更改'
- en: Line and kde plot with `subplots=True` now uses default colors, not all black.
    Specify `color='k'` to draw all lines in black ([GH 9894](https://github.com/pandas-dev/pandas/issues/9894))
  id: totrans-959
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有`subplots=True`的线条和kde图现在使用默认颜色，而不是全部黑色。指定`color='k'`以将所有线条绘制为黑色（[GH 9894](https://github.com/pandas-dev/pandas/issues/9894)）
- en: Calling the `.value_counts()` method on a Series with a `categorical` dtype
    now returns a Series with a `CategoricalIndex` ([GH 10704](https://github.com/pandas-dev/pandas/issues/10704))
  id: totrans-960
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有`categorical`数据类型的Series上调用`.value_counts()`方法现在返回一个带有`CategoricalIndex`的Series（[GH
    10704](https://github.com/pandas-dev/pandas/issues/10704)）
- en: The metadata properties of subclasses of pandas objects will now be serialized
    ([GH 10553](https://github.com/pandas-dev/pandas/issues/10553)).
  id: totrans-961
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: pandas对象的子类的元数据属性现在将被序列化（[GH 10553](https://github.com/pandas-dev/pandas/issues/10553)）
- en: '`groupby` using `Categorical` follows the same rule as `Categorical.unique`
    described above ([GH 10508](https://github.com/pandas-dev/pandas/issues/10508))'
  id: totrans-962
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`Categorical`进行`groupby`遵循上述`Categorical.unique`描述的相同规则（[GH 10508](https://github.com/pandas-dev/pandas/issues/10508)）。
- en: When constructing `DataFrame` with an array of `complex64` dtype previously
    meant the corresponding column was automatically promoted to the `complex128`
    dtype. pandas will now preserve the itemsize of the input for complex data ([GH
    10952](https://github.com/pandas-dev/pandas/issues/10952))
  id: totrans-963
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以前使用`complex64` dtype数组构建`DataFrame`意味着相应的列会自动提升为`complex128` dtype。现在pandas将保留复杂数据输入的itemsize（[GH
    10952](https://github.com/pandas-dev/pandas/issues/10952)）。
- en: some numeric reduction operators would return `ValueError`, rather than `TypeError`
    on object types that includes strings and numbers ([GH 11131](https://github.com/pandas-dev/pandas/issues/11131))
  id: totrans-964
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一些数值缩减运算符在包含字符串和数字的对象类型上会返回`ValueError`，而不是`TypeError`（[GH 11131](https://github.com/pandas-dev/pandas/issues/11131)）。
- en: Passing currently unsupported `chunksize` argument to `read_excel` or `ExcelFile.parse`
    will now raise `NotImplementedError` ([GH 8011](https://github.com/pandas-dev/pandas/issues/8011))
  id: totrans-965
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将当前不支持的`chunksize`参数传递给`read_excel`或`ExcelFile.parse`现在将引发`NotImplementedError`（[GH
    8011](https://github.com/pandas-dev/pandas/issues/8011)）。
- en: Allow an `ExcelFile` object to be passed into `read_excel` ([GH 11198](https://github.com/pandas-dev/pandas/issues/11198))
  id: totrans-966
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许将`ExcelFile`对象传递给`read_excel`（[GH 11198](https://github.com/pandas-dev/pandas/issues/11198)）。
- en: '`DatetimeIndex.union` does not infer `freq` if `self` and the input have `None`
    as `freq` ([GH 11086](https://github.com/pandas-dev/pandas/issues/11086))'
  id: totrans-967
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.union`如果`self`和输入都将`freq`设为`None`，则不会推断`freq`（[GH 11086](https://github.com/pandas-dev/pandas/issues/11086)）。'
- en: '`NaT`’s methods now either raise `ValueError`, or return `np.nan` or `NaT`
    ([GH 9513](https://github.com/pandas-dev/pandas/issues/9513))'
  id: totrans-968
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`NaT`的方法现在要么引发`ValueError`，要么返回`np.nan`或`NaT`（[GH 9513](https://github.com/pandas-dev/pandas/issues/9513)）。'
- en: '| Behavior | Methods |'
  id: totrans-969
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 行为 | 方法 |'
- en: '| --- | --- |'
  id: totrans-970
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| return `np.nan` | `weekday`, `isoweekday` |'
  id: totrans-971
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 返回`np.nan` | `weekday`，`isoweekday` |'
- en: '| return `NaT` | `date`, `now`, `replace`, `to_datetime`, `today` |'
  id: totrans-972
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 返回`NaT` | `date`，`now`，`replace`，`to_datetime`，`today` |'
- en: '| return `np.datetime64(''NaT'')` | `to_datetime64` (unchanged) |'
  id: totrans-973
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 返回`np.datetime64(''NaT'')` | `to_datetime64`（未更改） |'
- en: '| raise `ValueError` | All other public methods (names not beginning with underscores)
    |  ### Deprecations'
  id: totrans-974
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '| 引发`ValueError` | 所有其��公共方法（名称不以下划线开头）|  ### 弃用'
- en: For `Series` the following indexing functions are deprecated ([GH 10177](https://github.com/pandas-dev/pandas/issues/10177)).
  id: totrans-975
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于`Series`，以下索引函数已被弃用（[GH 10177](https://github.com/pandas-dev/pandas/issues/10177)）。
- en: '| Deprecated Function | Replacement |'
  id: totrans-976
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 弃用函数 | 替代 |'
- en: '| --- | --- |'
  id: totrans-977
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `.irow(i)` | `.iloc[i]` or `.iat[i]` |'
  id: totrans-978
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.irow(i)` | `.iloc[i]`或`.iat[i]` |'
- en: '| `.iget(i)` | `.iloc[i]` or `.iat[i]` |'
  id: totrans-979
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.iget(i)` | `.iloc[i]`或`.iat[i]` |'
- en: '| `.iget_value(i)` | `.iloc[i]` or `.iat[i]` |'
  id: totrans-980
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.iget_value(i)` | `.iloc[i]`或`.iat[i]` |'
- en: For `DataFrame` the following indexing functions are deprecated ([GH 10177](https://github.com/pandas-dev/pandas/issues/10177)).
  id: totrans-981
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于`DataFrame`，以下索引函数已被弃用（[GH 10177](https://github.com/pandas-dev/pandas/issues/10177)）。
- en: '| Deprecated Function | Replacement |'
  id: totrans-982
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 弃用函数 | 替代 |'
- en: '| --- | --- |'
  id: totrans-983
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `.irow(i)` | `.iloc[i]` |'
  id: totrans-984
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.irow(i)` | `.iloc[i]` |'
- en: '| `.iget_value(i, j)` | `.iloc[i, j]` or `.iat[i, j]` |'
  id: totrans-985
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.iget_value(i, j)` | `.iloc[i, j]`或`.iat[i, j]` |'
- en: '| `.icol(j)` | `.iloc[:, j]` |'
  id: totrans-986
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.icol(j)` | `.iloc[:, j]` |'
- en: Note
  id: totrans-987
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: These indexing function have been deprecated in the documentation since 0.11.0.
  id: totrans-988
  prefs: []
  type: TYPE_NORMAL
  zh: 这些索引函数自0.11.0版本起已在文档中弃用。
- en: '`Categorical.name` was deprecated to make `Categorical` more `numpy.ndarray`
    like. Use `Series(cat, name="whatever")` instead ([GH 10482](https://github.com/pandas-dev/pandas/issues/10482)).'
  id: totrans-989
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.name`已被弃用，以使`Categorical`更像`numpy.ndarray`。请改用`Series(cat, name="whatever")`代替（[GH
    10482](https://github.com/pandas-dev/pandas/issues/10482)）。'
- en: Setting missing values (NaN) in a `Categorical`’s `categories` will issue a
    warning ([GH 10748](https://github.com/pandas-dev/pandas/issues/10748)). You can
    still have missing values in the `values`.
  id: totrans-990
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Categorical`的`categories`中设置缺失值（NaN）将发出警告（[GH 10748](https://github.com/pandas-dev/pandas/issues/10748)）。您仍然可以在`values`中有缺失值。
- en: '`drop_duplicates` and `duplicated`’s `take_last` keyword was deprecated in
    favor of `keep`. ([GH 6511](https://github.com/pandas-dev/pandas/issues/6511),
    [GH 8505](https://github.com/pandas-dev/pandas/issues/8505))'
  id: totrans-991
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`drop_duplicates`和`duplicated`的`take_last`关键字已被弃用，推荐使用`keep`（[GH 6511](https://github.com/pandas-dev/pandas/issues/6511)，[GH
    8505](https://github.com/pandas-dev/pandas/issues/8505)）。'
- en: '`Series.nsmallest` and `nlargest`’s `take_last` keyword was deprecated in favor
    of `keep`. ([GH 10792](https://github.com/pandas-dev/pandas/issues/10792))'
  id: totrans-992
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.nsmallest`和`nlargest`的`take_last`关键字已弃用，改用`keep`。 ([GH 10792](https://github.com/pandas-dev/pandas/issues/10792))'
- en: '`DataFrame.combineAdd` and `DataFrame.combineMult` are deprecated. They can
    easily be replaced by using the `add` and `mul` methods: `DataFrame.add(other,
    fill_value=0)` and `DataFrame.mul(other, fill_value=1.)` ([GH 10735](https://github.com/pandas-dev/pandas/issues/10735)).'
  id: totrans-993
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.combineAdd`和`DataFrame.combineMult`已弃用。可以使用`add`和`mul`方法轻松替代：`DataFrame.add(other,
    fill_value=0)`和`DataFrame.mul(other, fill_value=1.)` ([GH 10735](https://github.com/pandas-dev/pandas/issues/10735)).'
- en: '`TimeSeries` deprecated in favor of `Series` (note that this has been an alias
    since 0.13.0), ([GH 10890](https://github.com/pandas-dev/pandas/issues/10890))'
  id: totrans-994
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`TimeSeries`已弃用，改用`Series`（请注意，自0.13.0以来，这一直是别名）， ([GH 10890](https://github.com/pandas-dev/pandas/issues/10890))'
- en: '`SparsePanel` deprecated and will be removed in a future version ([GH 11157](https://github.com/pandas-dev/pandas/issues/11157)).'
  id: totrans-995
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparsePanel`已弃用，将在将来的版本中移除 ([GH 11157](https://github.com/pandas-dev/pandas/issues/11157)).'
- en: '`Series.is_time_series` deprecated in favor of `Series.index.is_all_dates`
    ([GH 11135](https://github.com/pandas-dev/pandas/issues/11135))'
  id: totrans-996
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.is_time_series`已弃用，改用`Series.index.is_all_dates` ([GH 11135](https://github.com/pandas-dev/pandas/issues/11135))'
- en: Legacy offsets (like `'A@JAN'`) are deprecated (note that this has been alias
    since 0.8.0) ([GH 10878](https://github.com/pandas-dev/pandas/issues/10878))
  id: totrans-997
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 已弃用传统偏移量（例如`'A@JAN'`）（请注意，自0.8.0以来，这一直是别名） ([GH 10878](https://github.com/pandas-dev/pandas/issues/10878))
- en: '`WidePanel` deprecated in favor of `Panel`, `LongPanel` in favor of `DataFrame`
    (note these have been aliases since < 0.11.0), ([GH 10892](https://github.com/pandas-dev/pandas/issues/10892))'
  id: totrans-998
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`WidePanel`已弃用，改用`Panel`，`LongPanel`已弃用，改用`DataFrame`（请注意，自0.11.0之前，这些一直是别名），
    ([GH 10892](https://github.com/pandas-dev/pandas/issues/10892))'
- en: '`DataFrame.convert_objects` has been deprecated in favor of type-specific functions
    `pd.to_datetime`, `pd.to_timestamp` and `pd.to_numeric` (new in 0.17.0) ([GH 11133](https://github.com/pandas-dev/pandas/issues/11133)).  ###
    Removal of prior version deprecations/changes'
  id: totrans-999
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.convert_objects`已弃用，改用类型特定的函数`pd.to_datetime`，`pd.to_timestamp`和`pd.to_numeric`（在0.17.0中新增）
    ([GH 11133](https://github.com/pandas-dev/pandas/issues/11133)).  ### 移除先前版本的弃用/更改'
- en: Removal of `na_last` parameters from `Series.order()` and `Series.sort()`, in
    favor of `na_position`. ([GH 5231](https://github.com/pandas-dev/pandas/issues/5231))
  id: totrans-1000
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从`Series.order()`和`Series.sort()`中删除`na_last`参数，改用`na_position`。 ([GH 5231](https://github.com/pandas-dev/pandas/issues/5231))
- en: Remove of `percentile_width` from `.describe()`, in favor of `percentiles`.
    ([GH 7088](https://github.com/pandas-dev/pandas/issues/7088))
  id: totrans-1001
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从`.describe()`中删除`percentile_width`，改用`percentiles`。 ([GH 7088](https://github.com/pandas-dev/pandas/issues/7088))
- en: Removal of `colSpace` parameter from `DataFrame.to_string()`, in favor of `col_space`,
    circa 0.8.0 version.
  id: totrans-1002
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从`DataFrame.to_string()`中删除`colSpace`参数，改用`col_space`，大约是在0.8.0版本。
- en: Removal of automatic time-series broadcasting ([GH 2304](https://github.com/pandas-dev/pandas/issues/2304))
  id: totrans-1003
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动时间序列广播已移除 ([GH 2304](https://github.com/pandas-dev/pandas/issues/2304))
- en: '[PRE138]'
  id: totrans-1004
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE138]'
- en: Previously
  id: totrans-1005
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以前
- en: '[PRE139]'
  id: totrans-1006
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE139]'
- en: Current
  id: totrans-1007
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 现有
- en: '[PRE140]'
  id: totrans-1008
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE140]'
- en: Remove `table` keyword in `HDFStore.put/append`, in favor of using `format=`
    ([GH 4645](https://github.com/pandas-dev/pandas/issues/4645))
  id: totrans-1009
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`HDFStore.put/append`中删除`table`关键字，改用`format=` ([GH 4645](https://github.com/pandas-dev/pandas/issues/4645))
- en: Remove `kind` in `read_excel/ExcelFile` as its unused ([GH 4712](https://github.com/pandas-dev/pandas/issues/4712))
  id: totrans-1010
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`read_excel/ExcelFile`中删除`kind`，因为它没有被使用 ([GH 4712](https://github.com/pandas-dev/pandas/issues/4712))
- en: Remove `infer_type` keyword from `pd.read_html` as its unused ([GH 4770](https://github.com/pandas-dev/pandas/issues/4770),
    [GH 7032](https://github.com/pandas-dev/pandas/issues/7032))
  id: totrans-1011
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从`pd.read_html`中删除`infer_type`关键字，因为它没有被使用 ([GH 4770](https://github.com/pandas-dev/pandas/issues/4770),
    [GH 7032](https://github.com/pandas-dev/pandas/issues/7032))
- en: Remove `offset` and `timeRule` keywords from `Series.tshift/shift`, in favor
    of `freq` ([GH 4853](https://github.com/pandas-dev/pandas/issues/4853), [GH 4864](https://github.com/pandas-dev/pandas/issues/4864))
  id: totrans-1012
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从`Series.tshift/shift`中删除`offset`和`timeRule`关键字，改用`freq` ([GH 4853](https://github.com/pandas-dev/pandas/issues/4853),
    [GH 4864](https://github.com/pandas-dev/pandas/issues/4864))
- en: 'Remove `pd.load/pd.save` aliases in favor of `pd.to_pickle/pd.read_pickle`
    ([GH 3787](https://github.com/pandas-dev/pandas/issues/3787))  ### Changes to
    sorting API'
  id: totrans-1013
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '删除`pd.load/pd.save`别名，改用`pd.to_pickle/pd.read_pickle` ([GH 3787](https://github.com/pandas-dev/pandas/issues/3787))  ###
    排序 API 的更改'
- en: The sorting API has had some longtime inconsistencies. ([GH 9816](https://github.com/pandas-dev/pandas/issues/9816),
    [GH 8239](https://github.com/pandas-dev/pandas/issues/8239)).
  id: totrans-1014
  prefs: []
  type: TYPE_NORMAL
  zh: 排序API存在长期的不一致性。([GH 9816](https://github.com/pandas-dev/pandas/issues/9816),
    [GH 8239](https://github.com/pandas-dev/pandas/issues/8239)).
- en: 'Here is a summary of the API **PRIOR** to 0.17.0:'
  id: totrans-1015
  prefs: []
  type: TYPE_NORMAL
  zh: 这是0.17.0之前API的摘要：
- en: '`Series.sort` is **INPLACE** while `DataFrame.sort` returns a new object.'
  id: totrans-1016
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.sort`是**INPLACE**的，而`DataFrame.sort`返回一个新对象。'
- en: '`Series.order` returns a new object'
  id: totrans-1017
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.order`返回一个新对象'
- en: It was possible to use `Series/DataFrame.sort_index` to sort by **values** by
    passing the `by` keyword.
  id: totrans-1018
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以使用`Series/DataFrame.sort_index`通过传递`by`关键字来按**值**排序。
- en: '`Series/DataFrame.sortlevel` worked only on a `MultiIndex` for sorting by index.'
  id: totrans-1019
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series/DataFrame.sortlevel`仅在`MultiIndex`上对索引进行排序。'
- en: 'To address these issues, we have revamped the API:'
  id: totrans-1020
  prefs: []
  type: TYPE_NORMAL
  zh: 为了解决这些问题，我们已经重构了API：
- en: We have introduced a new method, [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values"), which is the merger of `DataFrame.sort()`, `Series.sort()`,
    and `Series.order()`, to handle sorting of **values**.
  id: totrans-1021
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们引入了一个新方法，[`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values")，它是`DataFrame.sort()`、`Series.sort()`和`Series.order()`的合并，用于处理**值**的排序。
- en: The existing methods `Series.sort()`, `Series.order()`, and `DataFrame.sort()`
    have been deprecated and will be removed in a future version.
  id: totrans-1022
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现有的方法`Series.sort()`、`Series.order()`和`DataFrame.sort()`已被弃用，并将在未来的版本中移除。
- en: The `by` argument of `DataFrame.sort_index()` has been deprecated and will be
    removed in a future version.
  id: totrans-1023
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.sort_index()`的`by`参数已被弃用，并将在未来的版本中移除。'
- en: The existing method `.sort_index()` will gain the `level` keyword to enable
    level sorting.
  id: totrans-1024
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现有方法`.sort_index()`将增加`level`关键字以启用级别排序。
- en: We now have two distinct and non-overlapping methods of sorting. A `*` marks
    items that will show a `FutureWarning`.
  id: totrans-1025
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有了两种不同且不重叠的排序方法。`*`标记了将显示`FutureWarning`的项目。
- en: 'To sort by the **values**:'
  id: totrans-1026
  prefs: []
  type: TYPE_NORMAL
  zh: 要按**值**排序：
- en: '| Previous | Replacement |'
  id: totrans-1027
  prefs: []
  type: TYPE_TB
  zh: '| 以前 | 替换 |'
- en: '| --- | --- |'
  id: totrans-1028
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| * `Series.order()` | `Series.sort_values()` |'
  id: totrans-1029
  prefs: []
  type: TYPE_TB
  zh: '| * `Series.order()` | `Series.sort_values()` |'
- en: '| * `Series.sort()` | `Series.sort_values(inplace=True)` |'
  id: totrans-1030
  prefs: []
  type: TYPE_TB
  zh: '| * `Series.sort()` | `Series.sort_values(inplace=True)` |'
- en: '| * `DataFrame.sort(columns=...)` | `DataFrame.sort_values(by=...)` |'
  id: totrans-1031
  prefs: []
  type: TYPE_TB
  zh: '| * `DataFrame.sort(columns=...)` | `DataFrame.sort_values(by=...)` |'
- en: 'To sort by the **index**:'
  id: totrans-1032
  prefs: []
  type: TYPE_NORMAL
  zh: 要按**索引**排序：
- en: '| Previous | Replacement |'
  id: totrans-1033
  prefs: []
  type: TYPE_TB
  zh: '| 以前 | 替换 |'
- en: '| --- | --- |'
  id: totrans-1034
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `Series.sort_index()` | `Series.sort_index()` |'
  id: totrans-1035
  prefs: []
  type: TYPE_TB
  zh: '| `Series.sort_index()` | `Series.sort_index()` |'
- en: '| `Series.sortlevel(level=...)` | `Series.sort_index(level=...`) |'
  id: totrans-1036
  prefs: []
  type: TYPE_TB
  zh: '| `Series.sortlevel(level=...)` | `Series.sort_index(level=...'') |'
- en: '| `DataFrame.sort_index()` | `DataFrame.sort_index()` |'
  id: totrans-1037
  prefs: []
  type: TYPE_TB
  zh: '| `DataFrame.sort_index()` | `DataFrame.sort_index()` |'
- en: '| `DataFrame.sortlevel(level=...)` | `DataFrame.sort_index(level=...)` |'
  id: totrans-1038
  prefs: []
  type: TYPE_TB
  zh: '| `DataFrame.sortlevel(level=...)` | `DataFrame.sort_index(level=...)` |'
- en: '| * `DataFrame.sort()` | `DataFrame.sort_index()` |'
  id: totrans-1039
  prefs: []
  type: TYPE_TB
  zh: '| * `DataFrame.sort()` | `DataFrame.sort_index()` |'
- en: We have also deprecated and changed similar methods in two Series-like classes,
    `Index` and `Categorical`.
  id: totrans-1040
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还已经弃用和更改了两个类似于Series的类`Index`和`Categorical`中的类似方法。
- en: '| Previous | Replacement |'
  id: totrans-1041
  prefs: []
  type: TYPE_TB
  zh: '| 以前 | 替换 |'
- en: '| --- | --- |'
  id: totrans-1042
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| * `Index.order()` | `Index.sort_values()` |'
  id: totrans-1043
  prefs: []
  type: TYPE_TB
  zh: '| * `Index.order()` | `Index.sort_values()` |'
- en: '| * `Categorical.order()` | `Categorical.sort_values()` |'
  id: totrans-1044
  prefs: []
  type: TYPE_TB
  zh: '| * `Categorical.order()` | `Categorical.sort_values()` |'
- en: '### Changes to to_datetime and to_timedelta'
  id: totrans-1045
  prefs: []
  type: TYPE_NORMAL
  zh: '### `to_datetime`和`to_timedelta`的更改'
- en: Error handling
  id: totrans-1046
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 错误处理
- en: The default for `pd.to_datetime` error handling has changed to `errors='raise'`.
    In prior versions it was `errors='ignore'`. Furthermore, the `coerce` argument
    has been deprecated in favor of `errors='coerce'`. This means that invalid parsing
    will raise rather that return the original input as in previous versions. ([GH
    10636](https://github.com/pandas-dev/pandas/issues/10636))
  id: totrans-1047
  prefs: []
  type: TYPE_NORMAL
  zh: '`pd.to_datetime`错误处理的默认值已更改为`errors=''raise''`。在之前的版本中是`errors=''ignore''`。此外，`coerce`参数已被弃用，改用`errors=''coerce''`。这意味着无效的解析将引发错误，而不是像以前的版本那样返回原始输入。([GH
    10636](https://github.com/pandas-dev/pandas/issues/10636))'
- en: 'Previous behavior:'
  id: totrans-1048
  prefs: []
  type: TYPE_NORMAL
  zh: 以前的行为：
- en: '[PRE141]'
  id: totrans-1049
  prefs: []
  type: TYPE_PRE
  zh: '[PRE141]'
- en: 'New behavior:'
  id: totrans-1050
  prefs: []
  type: TYPE_NORMAL
  zh: 新的行为：
- en: '[PRE142]'
  id: totrans-1051
  prefs: []
  type: TYPE_PRE
  zh: '[PRE142]'
- en: Of course you can coerce this as well.
  id: totrans-1052
  prefs: []
  type: TYPE_NORMAL
  zh: 当然你也可以强制执行这个。
- en: '[PRE143]'
  id: totrans-1053
  prefs: []
  type: TYPE_PRE
  zh: '[PRE143]'
- en: 'To keep the previous behavior, you can use `errors=''ignore''`:'
  id: totrans-1054
  prefs: []
  type: TYPE_NORMAL
  zh: 要保持以前的行为，可以使用`errors='ignore'`：
- en: '[PRE144]'
  id: totrans-1055
  prefs: []
  type: TYPE_PRE
  zh: '[PRE144]'
- en: Furthermore, `pd.to_timedelta` has gained a similar API, of `errors='raise'|'ignore'|'coerce'`,
    and the `coerce` keyword has been deprecated in favor of `errors='coerce'`.
  id: totrans-1056
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，`pd.to_timedelta`已经获得了类似的API，即`errors='raise'|'ignore'|'coerce'`，并且`coerce`关键字已被弃用，改用`errors='coerce'`。
- en: Consistent parsing
  id: totrans-1057
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 一致的解析
- en: The string parsing of `to_datetime`, `Timestamp` and `DatetimeIndex` has been
    made consistent. ([GH 7599](https://github.com/pandas-dev/pandas/issues/7599))
  id: totrans-1058
  prefs: []
  type: TYPE_NORMAL
  zh: '`to_datetime`，`Timestamp`和`DatetimeIndex`的字符串解析已经统一。 ([GH 7599](https://github.com/pandas-dev/pandas/issues/7599))'
- en: Prior to v0.17.0, `Timestamp` and `to_datetime` may parse year-only datetime-string
    incorrectly using today’s date, otherwise `DatetimeIndex` uses the beginning of
    the year. `Timestamp` and `to_datetime` may raise `ValueError` in some types of
    datetime-string which `DatetimeIndex` can parse, such as a quarterly string.
  id: totrans-1059
  prefs: []
  type: TYPE_NORMAL
  zh: 在v0.17.0之前，`Timestamp`和`to_datetime`可能会使用今天的日期错误地解析年份日期字符串，否则`DatetimeIndex`将使用年初。在某些`DatetimeIndex`可以解析的日期时间字符串（如季度字符串）中，`Timestamp`和`to_datetime`可能会引发`ValueError`。
- en: 'Previous behavior:'
  id: totrans-1060
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE145]'
  id: totrans-1061
  prefs: []
  type: TYPE_PRE
  zh: '[PRE145]'
- en: v0.17.0 can parse them as below. It works on `DatetimeIndex` also.
  id: totrans-1062
  prefs: []
  type: TYPE_NORMAL
  zh: v0.17.0可以解析如下。它也适用于`DatetimeIndex`。
- en: 'New behavior:'
  id: totrans-1063
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE146]'
  id: totrans-1064
  prefs: []
  type: TYPE_PRE
  zh: '[PRE146]'
- en: Note
  id: totrans-1065
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: If you want to perform calculations based on today’s date, use `Timestamp.now()`
    and `pandas.tseries.offsets`.
  id: totrans-1066
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想要基于今天的日期执行计算，请使用`Timestamp.now()`和`pandas.tseries.offsets`。
- en: '[PRE147]'
  id: totrans-1067
  prefs: []
  type: TYPE_PRE
  zh: '[PRE147]'
- en: Error handling
  id: totrans-1068
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 错误处理
- en: The default for `pd.to_datetime` error handling has changed to `errors='raise'`.
    In prior versions it was `errors='ignore'`. Furthermore, the `coerce` argument
    has been deprecated in favor of `errors='coerce'`. This means that invalid parsing
    will raise rather that return the original input as in previous versions. ([GH
    10636](https://github.com/pandas-dev/pandas/issues/10636))
  id: totrans-1069
  prefs: []
  type: TYPE_NORMAL
  zh: '`pd.to_datetime`的错误处理默认值已更改为`errors=''raise''`。在之前的版本中，它是`errors=''ignore''`。此外，`coerce`参数已弃用，改为`errors=''coerce''`。这意味着无效的解析将引发而不是返回原始输入，与以前的版本不同。
    ([GH 10636](https://github.com/pandas-dev/pandas/issues/10636))'
- en: 'Previous behavior:'
  id: totrans-1070
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE148]'
  id: totrans-1071
  prefs: []
  type: TYPE_PRE
  zh: '[PRE148]'
- en: 'New behavior:'
  id: totrans-1072
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE149]'
  id: totrans-1073
  prefs: []
  type: TYPE_PRE
  zh: '[PRE149]'
- en: Of course you can coerce this as well.
  id: totrans-1074
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，您也可以强制执行这一点。
- en: '[PRE150]'
  id: totrans-1075
  prefs: []
  type: TYPE_PRE
  zh: '[PRE150]'
- en: 'To keep the previous behavior, you can use `errors=''ignore''`:'
  id: totrans-1076
  prefs: []
  type: TYPE_NORMAL
  zh: 要保持先前的行为，您可以使用`errors='ignore'`：
- en: '[PRE151]'
  id: totrans-1077
  prefs: []
  type: TYPE_PRE
  zh: '[PRE151]'
- en: Furthermore, `pd.to_timedelta` has gained a similar API, of `errors='raise'|'ignore'|'coerce'`,
    and the `coerce` keyword has been deprecated in favor of `errors='coerce'`.
  id: totrans-1078
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，`pd.to_timedelta`已经获得了相似的API，即`errors='raise'|'ignore'|'coerce'`，并且`coerce`关键字已经弃用，改为`errors='coerce'`。
- en: Consistent parsing
  id: totrans-1079
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 一致的解析
- en: The string parsing of `to_datetime`, `Timestamp` and `DatetimeIndex` has been
    made consistent. ([GH 7599](https://github.com/pandas-dev/pandas/issues/7599))
  id: totrans-1080
  prefs: []
  type: TYPE_NORMAL
  zh: '`to_datetime`，`Timestamp`和`DatetimeIndex`的字符串解析已经统一。 ([GH 7599](https://github.com/pandas-dev/pandas/issues/7599))'
- en: Prior to v0.17.0, `Timestamp` and `to_datetime` may parse year-only datetime-string
    incorrectly using today’s date, otherwise `DatetimeIndex` uses the beginning of
    the year. `Timestamp` and `to_datetime` may raise `ValueError` in some types of
    datetime-string which `DatetimeIndex` can parse, such as a quarterly string.
  id: totrans-1081
  prefs: []
  type: TYPE_NORMAL
  zh: 在v0.17.0之前，`Timestamp`和`to_datetime`可能会使用今天的日期错误地解析年份日期字符串，否则`DatetimeIndex`将使用年初。在某些`DatetimeIndex`可以解析的日期时间字符串（如季度字符串）中，`Timestamp`和`to_datetime`可能会引发`ValueError`。
- en: 'Previous behavior:'
  id: totrans-1082
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE152]'
  id: totrans-1083
  prefs: []
  type: TYPE_PRE
  zh: '[PRE152]'
- en: v0.17.0 can parse them as below. It works on `DatetimeIndex` also.
  id: totrans-1084
  prefs: []
  type: TYPE_NORMAL
  zh: v0.17.0可以解析如下。它也适用于`DatetimeIndex`。
- en: 'New behavior:'
  id: totrans-1085
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE153]'
  id: totrans-1086
  prefs: []
  type: TYPE_PRE
  zh: '[PRE153]'
- en: Note
  id: totrans-1087
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: If you want to perform calculations based on today’s date, use `Timestamp.now()`
    and `pandas.tseries.offsets`.
  id: totrans-1088
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想要基于今天的日期执行计算，请使用`Timestamp.now()`和`pandas.tseries.offsets`。
- en: '[PRE154]'
  id: totrans-1089
  prefs: []
  type: TYPE_PRE
  zh: '[PRE154]'
- en: Changes to Index comparisons
  id: totrans-1090
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 索引比较的更改
- en: Operator equal on `Index` should behavior similarly to `Series` ([GH 9947](https://github.com/pandas-dev/pandas/issues/9947),
    [GH 10637](https://github.com/pandas-dev/pandas/issues/10637))
  id: totrans-1091
  prefs: []
  type: TYPE_NORMAL
  zh: '`Index`上的等号操作应该与`Series`类似 ([GH 9947](https://github.com/pandas-dev/pandas/issues/9947),
    [GH 10637](https://github.com/pandas-dev/pandas/issues/10637))'
- en: Starting in v0.17.0, comparing `Index` objects of different lengths will raise
    a `ValueError`. This is to be consistent with the behavior of `Series`.
  id: totrans-1092
  prefs: []
  type: TYPE_NORMAL
  zh: 从v0.17.0开始，比较长度不同的`Index`对象将引发`ValueError`。这是为了与`Series`的行为一致。
- en: 'Previous behavior:'
  id: totrans-1093
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE155]'
  id: totrans-1094
  prefs: []
  type: TYPE_PRE
  zh: '[PRE155]'
- en: 'New behavior:'
  id: totrans-1095
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE156]'
  id: totrans-1096
  prefs: []
  type: TYPE_PRE
  zh: '[PRE156]'
- en: 'Note that this is different from the `numpy` behavior where a comparison can
    be broadcast:'
  id: totrans-1097
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，这与`numpy`的行为不同，其中比较可以广播：
- en: '[PRE157]'
  id: totrans-1098
  prefs: []
  type: TYPE_PRE
  zh: '[PRE157]'
- en: 'or it can return False if broadcasting can not be done:'
  id: totrans-1099
  prefs: []
  type: TYPE_NORMAL
  zh: 或者如果无法进行广播，则可以返回False：
- en: '[PRE158]'
  id: totrans-1100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE158]'
- en: Changes to boolean comparisons vs. None
  id: totrans-1101
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 对布尔比较与`None`的更改
- en: Boolean comparisons of a `Series` vs `None` will now be equivalent to comparing
    with `np.nan`, rather than raise `TypeError`. ([GH 1079](https://github.com/pandas-dev/pandas/issues/1079)).
  id: totrans-1102
  prefs: []
  type: TYPE_NORMAL
  zh: 与`None`比较`Series`的布尔比较现在等效于与`np.nan`比较，而不是引发`TypeError`。 ([GH 1079](https://github.com/pandas-dev/pandas/issues/1079)).
- en: '[PRE159]'
  id: totrans-1103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE159]'
- en: 'Previous behavior:'
  id: totrans-1104
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE160]'
  id: totrans-1105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE160]'
- en: 'New behavior:'
  id: totrans-1106
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE161]'
  id: totrans-1107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE161]'
- en: Usually you simply want to know which values are null.
  id: totrans-1108
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，您只想知道哪些值为空。
- en: '[PRE162]'
  id: totrans-1109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE162]'
- en: Warning
  id: totrans-1110
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: You generally will want to use `isnull/notnull` for these types of comparisons,
    as `isnull/notnull` tells you which elements are null. One has to be mindful that
    `nan's` don’t compare equal, but `None's` do. Note that pandas/numpy uses the
    fact that `np.nan != np.nan`, and treats `None` like `np.nan`.
  id: totrans-1111
  prefs: []
  type: TYPE_NORMAL
  zh: 通常您会希望使用 `isnull/notnull` 进行这些类型的比较，因为 `isnull/notnull` 告诉您哪些元素为空。需要注意的是 `nan`
    不相等，但 `None` 相等。请注意，pandas/numpy 使用 `np.nan != np.nan` 这一事实，并将 `None` 视为 `np.nan`。
- en: '[PRE163]'
  id: totrans-1112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE163]'
- en: '### HDFStore dropna behavior'
  id: totrans-1113
  prefs: []
  type: TYPE_NORMAL
  zh: '### HDFStore dropna 行为'
- en: The default behavior for HDFStore write functions with `format='table'` is now
    to keep rows that are all missing. Previously, the behavior was to drop rows that
    were all missing save the index. The previous behavior can be replicated using
    the `dropna=True` option. ([GH 9382](https://github.com/pandas-dev/pandas/issues/9382))
  id: totrans-1114
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `format='table'` 的 HDFStore 写入函数的默认行为现在是保留所有丢失的行。以前，行为是删除所有丢失的行，除了索引。以前的行为可以使用
    `dropna=True` 选项复制。 （[GH 9382](https://github.com/pandas-dev/pandas/issues/9382)）
- en: 'Previous behavior:'
  id: totrans-1115
  prefs: []
  type: TYPE_NORMAL
  zh: 以前的行为：
- en: '[PRE164]'
  id: totrans-1116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE164]'
- en: '[PRE165]'
  id: totrans-1117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE165]'
- en: 'New behavior:'
  id: totrans-1118
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE166]'
  id: totrans-1119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE166]'
- en: See the [docs](../user_guide/io.html#io-hdf5) for more details.
  id: totrans-1120
  prefs: []
  type: TYPE_NORMAL
  zh: 更多详情请参阅[文档](../user_guide/io.html#io-hdf5)。
- en: '### Changes to `display.precision` option'
  id: totrans-1121
  prefs: []
  type: TYPE_NORMAL
  zh: '### 对 `display.precision` 选项的更改'
- en: The `display.precision` option has been clarified to refer to decimal places
    ([GH 10451](https://github.com/pandas-dev/pandas/issues/10451)).
  id: totrans-1122
  prefs: []
  type: TYPE_NORMAL
  zh: '`display.precision` 选项已经明确指出是指小数位数（[GH 10451](https://github.com/pandas-dev/pandas/issues/10451)）。'
- en: Earlier versions of pandas would format floating point numbers to have one less
    decimal place than the value in `display.precision`.
  id: totrans-1123
  prefs: []
  type: TYPE_NORMAL
  zh: 早期版本的 pandas 会将浮点数格式化为比 `display.precision` 中的值少一个小数位数。
- en: '[PRE167]'
  id: totrans-1124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE167]'
- en: If interpreting precision as “significant figures” this did work for scientific
    notation but that same interpretation did not work for values with standard formatting.
    It was also out of step with how numpy handles formatting.
  id: totrans-1125
  prefs: []
  type: TYPE_NORMAL
  zh: 如果将精度解释为“有效数字”，这对科学计数法确实有效，但对于标准格式的值，相同的解释则不起作用。这也与 numpy 处理格式的方式不一致。
- en: Going forward the value of `display.precision` will directly control the number
    of places after the decimal, for regular formatting as well as scientific notation,
    similar to how numpy’s `precision` print option works.
  id: totrans-1126
  prefs: []
  type: TYPE_NORMAL
  zh: 未来，`display.precision` 的值将直接控制小数点后的位数，适用于常规格式和科学计数法，类似于 numpy 的 `precision`
    打印选项的工作方式。
- en: '[PRE168]'
  id: totrans-1127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE168]'
- en: To preserve output behavior with prior versions the default value of `display.precision`
    has been reduced to `6` from `7`.
  id: totrans-1128
  prefs: []
  type: TYPE_NORMAL
  zh: 为了保留与之前版本的输出行为相同，`display.precision` 的默认值已从 `7` 减少到 `6`。
- en: '### Changes to `Categorical.unique`'
  id: totrans-1129
  prefs: []
  type: TYPE_NORMAL
  zh: '### 对 `Categorical.unique` 的更改'
- en: '`Categorical.unique` now returns new `Categoricals` with `categories` and `codes`
    that are unique, rather than returning `np.array` ([GH 10508](https://github.com/pandas-dev/pandas/issues/10508))'
  id: totrans-1130
  prefs: []
  type: TYPE_NORMAL
  zh: '`Categorical.unique` 现在返回具有唯一 `categories` 和 `codes` 的新 `Categoricals`，而不是返回
    `np.array` （[GH 10508](https://github.com/pandas-dev/pandas/issues/10508)）'
- en: 'unordered category: values and categories are sorted by appearance order.'
  id: totrans-1131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无序类别：值和类别按出现顺序排序。
- en: 'ordered category: values are sorted by appearance order, categories keep existing
    order.'
  id: totrans-1132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有序类别：值按出现顺序排序，类别保留现有顺序。
- en: '[PRE169]'
  id: totrans-1133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE169]'
- en: Changes to `bool` passed as `header` in parsers
  id: totrans-1134
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 更改传递给解析器中的 `header` 的 `bool`
- en: In earlier versions of pandas, if a bool was passed the `header` argument of
    `read_csv`, `read_excel`, or `read_html` it was implicitly converted to an integer,
    resulting in `header=0` for `False` and `header=1` for `True` ([GH 6113](https://github.com/pandas-dev/pandas/issues/6113))
  id: totrans-1135
  prefs: []
  type: TYPE_NORMAL
  zh: 在 pandas 的早期版本中，如果 `read_csv`、`read_excel` 或 `read_html` 的 `header` 参数传递了一个布尔值，则它会被隐式转换为整数，结果是
    `False` 对应 `header=0`，`True` 对应 `header=1` （[GH 6113](https://github.com/pandas-dev/pandas/issues/6113)）
- en: A `bool` input to `header` will now raise a `TypeError`
  id: totrans-1136
  prefs: []
  type: TYPE_NORMAL
  zh: '`header` 的 `bool` 输入现在会引发 `TypeError`。'
- en: '[PRE170]'
  id: totrans-1137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE170]'
- en: '### Other API changes'
  id: totrans-1138
  prefs: []
  type: TYPE_NORMAL
  zh: '### 其他 API 更改'
- en: Line and kde plot with `subplots=True` now uses default colors, not all black.
    Specify `color='k'` to draw all lines in black ([GH 9894](https://github.com/pandas-dev/pandas/issues/9894))
  id: totrans-1139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `subplots=True` 时，线条和 kde 图现在使用默认颜色，而不是全黑色。指定 `color='k'` 来绘制所有线条为黑色（[GH
    9894](https://github.com/pandas-dev/pandas/issues/9894)）。
- en: Calling the `.value_counts()` method on a Series with a `categorical` dtype
    now returns a Series with a `CategoricalIndex` ([GH 10704](https://github.com/pandas-dev/pandas/issues/10704))
  id: totrans-1140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对具有 `categorical` dtype 的 Series 调用 `.value_counts()` 方法现在将返回一个具有 `CategoricalIndex`
    的 Series（[GH 10704](https://github.com/pandas-dev/pandas/issues/10704)）
- en: The metadata properties of subclasses of pandas objects will now be serialized
    ([GH 10553](https://github.com/pandas-dev/pandas/issues/10553)).
  id: totrans-1141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: pandas 对象的子类的元数据属性现在将被序列化（[GH 10553](https://github.com/pandas-dev/pandas/issues/10553)）。
- en: '`groupby` using `Categorical` follows the same rule as `Categorical.unique`
    described above ([GH 10508](https://github.com/pandas-dev/pandas/issues/10508))'
  id: totrans-1142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `Categorical` 进行 `groupby` 遵循与上述 `Categorical.unique` 相同的规则（[GH 10508](https://github.com/pandas-dev/pandas/issues/10508)）
- en: When constructing `DataFrame` with an array of `complex64` dtype previously
    meant the corresponding column was automatically promoted to the `complex128`
    dtype. pandas will now preserve the itemsize of the input for complex data ([GH
    10952](https://github.com/pandas-dev/pandas/issues/10952))
  id: totrans-1143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用 `complex64` dtype 的数组构建 `DataFrame` 时，以前会自动将相应列提升为 `complex128` dtype。pandas
    现在会保留复杂数据的输入项大小（[GH 10952](https://github.com/pandas-dev/pandas/issues/10952)）
- en: some numeric reduction operators would return `ValueError`, rather than `TypeError`
    on object types that includes strings and numbers ([GH 11131](https://github.com/pandas-dev/pandas/issues/11131))
  id: totrans-1144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一些数值缩减运算符在包含字符串和数字的对象类型上会返回 `ValueError` 而不是 `TypeError`（[GH 11131](https://github.com/pandas-dev/pandas/issues/11131)）
- en: Passing currently unsupported `chunksize` argument to `read_excel` or `ExcelFile.parse`
    will now raise `NotImplementedError` ([GH 8011](https://github.com/pandas-dev/pandas/issues/8011))
  id: totrans-1145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将当前不支持的 `chunksize` 参数传递给 `read_excel` 或 `ExcelFile.parse` 现在会引发 `NotImplementedError`（[GH
    8011](https://github.com/pandas-dev/pandas/issues/8011)）
- en: Allow an `ExcelFile` object to be passed into `read_excel` ([GH 11198](https://github.com/pandas-dev/pandas/issues/11198))
  id: totrans-1146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许将 `ExcelFile` 对象传递给 `read_excel`（[GH 11198](https://github.com/pandas-dev/pandas/issues/11198)）
- en: '`DatetimeIndex.union` does not infer `freq` if `self` and the input have `None`
    as `freq` ([GH 11086](https://github.com/pandas-dev/pandas/issues/11086))'
  id: totrans-1147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果 `self` 和输入的 `freq` 都为 `None`，则 `DatetimeIndex.union` 不会推断 `freq`（[GH 11086](https://github.com/pandas-dev/pandas/issues/11086)）
- en: '`NaT`’s methods now either raise `ValueError`, or return `np.nan` or `NaT`
    ([GH 9513](https://github.com/pandas-dev/pandas/issues/9513))'
  id: totrans-1148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`NaT` 的方法现在要么引发 `ValueError`，要么返回 `np.nan` 或 `NaT`（[GH 9513](https://github.com/pandas-dev/pandas/issues/9513)）'
- en: '| Behavior | Methods |'
  id: totrans-1149
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 行为 | 方法 |'
- en: '| --- | --- |'
  id: totrans-1150
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| return `np.nan` | `weekday`, `isoweekday` |'
  id: totrans-1151
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 返回 `np.nan` | `weekday`、`isoweekday` |'
- en: '| return `NaT` | `date`, `now`, `replace`, `to_datetime`, `today` |'
  id: totrans-1152
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 返回 `NaT` | `date`、`now`、`replace`、`to_datetime`、`today` |'
- en: '| return `np.datetime64(''NaT'')` | `to_datetime64` (unchanged) |'
  id: totrans-1153
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 返回 `np.datetime64(''NaT'')` | `to_datetime64`（不变） |'
- en: '| raise `ValueError` | All other public methods (names not beginning with underscores)
    |'
  id: totrans-1154
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引发 `ValueError` | 所有其他公共方法（名称不以下划线开头） |'
- en: '### Deprecations'
  id: totrans-1155
  prefs: []
  type: TYPE_NORMAL
  zh: '### 弃用'
- en: For `Series` the following indexing functions are deprecated ([GH 10177](https://github.com/pandas-dev/pandas/issues/10177)).
  id: totrans-1156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 `Series`，以下索引函数已被弃用（[GH 10177](https://github.com/pandas-dev/pandas/issues/10177)）。
- en: '| Deprecated Function | Replacement |'
  id: totrans-1157
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 废弃的函数 | 替代 |'
- en: '| --- | --- |'
  id: totrans-1158
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `.irow(i)` | `.iloc[i]` or `.iat[i]` |'
  id: totrans-1159
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.irow(i)` | `.iloc[i]` 或 `.iat[i]` |'
- en: '| `.iget(i)` | `.iloc[i]` or `.iat[i]` |'
  id: totrans-1160
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.iget(i)` | `.iloc[i]` 或 `.iat[i]` |'
- en: '| `.iget_value(i)` | `.iloc[i]` or `.iat[i]` |'
  id: totrans-1161
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.iget_value(i)` | `.iloc[i]` 或 `.iat[i]` |'
- en: For `DataFrame` the following indexing functions are deprecated ([GH 10177](https://github.com/pandas-dev/pandas/issues/10177)).
  id: totrans-1162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 `DataFrame`，以下索引函数已被弃用（[GH 10177](https://github.com/pandas-dev/pandas/issues/10177)）。
- en: '| Deprecated Function | Replacement |'
  id: totrans-1163
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 废弃的函数 | 替代 |'
- en: '| --- | --- |'
  id: totrans-1164
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `.irow(i)` | `.iloc[i]` |'
  id: totrans-1165
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.irow(i)` | `.iloc[i]` |'
- en: '| `.iget_value(i, j)` | `.iloc[i, j]` or `.iat[i, j]` |'
  id: totrans-1166
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.iget_value(i, j)` | `.iloc[i, j]` 或 `.iat[i, j]` |'
- en: '| `.icol(j)` | `.iloc[:, j]` |'
  id: totrans-1167
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `.icol(j)` | `.iloc[:, j]` |'
- en: Note
  id: totrans-1168
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: These indexing function have been deprecated in the documentation since 0.11.0.
  id: totrans-1169
  prefs: []
  type: TYPE_NORMAL
  zh: 这些索引函数自 0.11.0 版本以来已在文档中弃用。
- en: '`Categorical.name` was deprecated to make `Categorical` more `numpy.ndarray`
    like. Use `Series(cat, name="whatever")` instead ([GH 10482](https://github.com/pandas-dev/pandas/issues/10482)).'
  id: totrans-1170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.name` 被弃用以使 `Categorical` 更像 `numpy.ndarray`。使用 `Series(cat, name="whatever")`
    替代（[GH 10482](https://github.com/pandas-dev/pandas/issues/10482)）。'
- en: Setting missing values (NaN) in a `Categorical`’s `categories` will issue a
    warning ([GH 10748](https://github.com/pandas-dev/pandas/issues/10748)). You can
    still have missing values in the `values`.
  id: totrans-1171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Categorical` 的 `categories` 中设置缺失值（NaN）将发出警告（[GH 10748](https://github.com/pandas-dev/pandas/issues/10748)）。您仍然可以在
    `values` 中有缺失值。
- en: '`drop_duplicates` and `duplicated`’s `take_last` keyword was deprecated in
    favor of `keep`. ([GH 6511](https://github.com/pandas-dev/pandas/issues/6511),
    [GH 8505](https://github.com/pandas-dev/pandas/issues/8505))'
  id: totrans-1172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`drop_duplicates` 和 `duplicated` 的 `take_last` 关键字已弃用，改用 `keep`（[GH 6511](https://github.com/pandas-dev/pandas/issues/6511)，[GH
    8505](https://github.com/pandas-dev/pandas/issues/8505)）'
- en: '`Series.nsmallest` and `nlargest`’s `take_last` keyword was deprecated in favor
    of `keep`. ([GH 10792](https://github.com/pandas-dev/pandas/issues/10792))'
  id: totrans-1173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.nsmallest` 和 `nlargest` 中的 `take_last` 关键字已废弃，推荐使用 `keep`。([GH 10792](https://github.com/pandas-dev/pandas/issues/10792))'
- en: '`DataFrame.combineAdd` and `DataFrame.combineMult` are deprecated. They can
    easily be replaced by using the `add` and `mul` methods: `DataFrame.add(other,
    fill_value=0)` and `DataFrame.mul(other, fill_value=1.)` ([GH 10735](https://github.com/pandas-dev/pandas/issues/10735)).'
  id: totrans-1174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.combineAdd` 和 `DataFrame.combineMult` 已废弃。它们可以很容易地被 `add` 和 `mul`
    方法替代：`DataFrame.add(other, fill_value=0)` 和 `DataFrame.mul(other, fill_value=1.)`
    ([GH 10735](https://github.com/pandas-dev/pandas/issues/10735)).'
- en: '`TimeSeries` deprecated in favor of `Series` (note that this has been an alias
    since 0.13.0), ([GH 10890](https://github.com/pandas-dev/pandas/issues/10890))'
  id: totrans-1175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`TimeSeries` 已废弃，推荐使用 `Series`（注意，自 0.13.0 起这是一个别名）([GH 10890](https://github.com/pandas-dev/pandas/issues/10890))'
- en: '`SparsePanel` deprecated and will be removed in a future version ([GH 11157](https://github.com/pandas-dev/pandas/issues/11157)).'
  id: totrans-1176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparsePanel` 已废弃，并将在将来的版本中移除 ([GH 11157](https://github.com/pandas-dev/pandas/issues/11157))'
- en: '`Series.is_time_series` deprecated in favor of `Series.index.is_all_dates`
    ([GH 11135](https://github.com/pandas-dev/pandas/issues/11135))'
  id: totrans-1177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.is_time_series` 已废弃，推荐使用 `Series.index.is_all_dates` ([GH 11135](https://github.com/pandas-dev/pandas/issues/11135))'
- en: Legacy offsets (like `'A@JAN'`) are deprecated (note that this has been alias
    since 0.8.0) ([GH 10878](https://github.com/pandas-dev/pandas/issues/10878))
  id: totrans-1178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用传统偏移（如 `'A@JAN'`）（注意，自 0.8.0 起这是一个别名）([GH 10878](https://github.com/pandas-dev/pandas/issues/10878))
- en: '`WidePanel` deprecated in favor of `Panel`, `LongPanel` in favor of `DataFrame`
    (note these have been aliases since < 0.11.0), ([GH 10892](https://github.com/pandas-dev/pandas/issues/10892))'
  id: totrans-1179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`WidePanel` 已废弃，推荐使用 `Panel`，`LongPanel` 废弃，推荐使用 `DataFrame`（注意，这些自 < 0.11.0
    起是别名）, ([GH 10892](https://github.com/pandas-dev/pandas/issues/10892))'
- en: '`DataFrame.convert_objects` has been deprecated in favor of type-specific functions
    `pd.to_datetime`, `pd.to_timestamp` and `pd.to_numeric` (new in 0.17.0) ([GH 11133](https://github.com/pandas-dev/pandas/issues/11133)).'
  id: totrans-1180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.convert_objects` 已废弃，推荐使用类型特定的函数 `pd.to_datetime`、`pd.to_timestamp`
    和 `pd.to_numeric`（0.17.0 新增）([GH 11133](https://github.com/pandas-dev/pandas/issues/11133)).'
- en: '### Removal of prior version deprecations/changes'
  id: totrans-1181
  prefs: []
  type: TYPE_NORMAL
  zh: '### 移除先前版本的弃用/更改'
- en: Removal of `na_last` parameters from `Series.order()` and `Series.sort()`, in
    favor of `na_position`. ([GH 5231](https://github.com/pandas-dev/pandas/issues/5231))
  id: totrans-1182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除 `Series.order()` 和 `Series.sort()` 中的 `na_last` 参数，推荐使用 `na_position` ([GH
    5231](https://github.com/pandas-dev/pandas/issues/5231))
- en: Remove of `percentile_width` from `.describe()`, in favor of `percentiles`.
    ([GH 7088](https://github.com/pandas-dev/pandas/issues/7088))
  id: totrans-1183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 `.describe()` 中移除 `percentile_width`，推荐使用 `percentiles`。([GH 7088](https://github.com/pandas-dev/pandas/issues/7088))
- en: Removal of `colSpace` parameter from `DataFrame.to_string()`, in favor of `col_space`,
    circa 0.8.0 version.
  id: totrans-1184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除 `DataFrame.to_string()` 中的 `colSpace` 参数，推荐使用 `col_space`，大约在 0.8.0 版本时期。
- en: Removal of automatic time-series broadcasting ([GH 2304](https://github.com/pandas-dev/pandas/issues/2304))
  id: totrans-1185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除自动时间序列广播 ([GH 2304](https://github.com/pandas-dev/pandas/issues/2304))
- en: '[PRE171]'
  id: totrans-1186
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE171]'
- en: Previously
  id: totrans-1187
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以前
- en: '[PRE172]'
  id: totrans-1188
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE172]'
- en: Current
  id: totrans-1189
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当前
- en: '[PRE173]'
  id: totrans-1190
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE173]'
- en: Remove `table` keyword in `HDFStore.put/append`, in favor of using `format=`
    ([GH 4645](https://github.com/pandas-dev/pandas/issues/4645))
  id: totrans-1191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除 `HDFStore.put/append` 中的 `table` 关键字，推荐使用 `format=` ([GH 4645](https://github.com/pandas-dev/pandas/issues/4645))
- en: Remove `kind` in `read_excel/ExcelFile` as its unused ([GH 4712](https://github.com/pandas-dev/pandas/issues/4712))
  id: totrans-1192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除 `read_excel/ExcelFile` 中的 `kind` 参数，因为它没有被使用 ([GH 4712](https://github.com/pandas-dev/pandas/issues/4712))
- en: Remove `infer_type` keyword from `pd.read_html` as its unused ([GH 4770](https://github.com/pandas-dev/pandas/issues/4770),
    [GH 7032](https://github.com/pandas-dev/pandas/issues/7032))
  id: totrans-1193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除 `pd.read_html` 中的 `infer_type` 关键字，因为它没有被使用 ([GH 4770](https://github.com/pandas-dev/pandas/issues/4770),
    [GH 7032](https://github.com/pandas-dev/pandas/issues/7032))
- en: Remove `offset` and `timeRule` keywords from `Series.tshift/shift`, in favor
    of `freq` ([GH 4853](https://github.com/pandas-dev/pandas/issues/4853), [GH 4864](https://github.com/pandas-dev/pandas/issues/4864))
  id: totrans-1194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除 `Series.tshift/shift` 中的 `offset` 和 `timeRule` 关键字，推荐使用 `freq` ([GH 4853](https://github.com/pandas-dev/pandas/issues/4853),
    [GH 4864](https://github.com/pandas-dev/pandas/issues/4864))
- en: Remove `pd.load/pd.save` aliases in favor of `pd.to_pickle/pd.read_pickle` ([GH
    3787](https://github.com/pandas-dev/pandas/issues/3787))
  id: totrans-1195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除 `pd.load/pd.save` 的别名，推荐使用 `pd.to_pickle/pd.read_pickle` ([GH 3787](https://github.com/pandas-dev/pandas/issues/3787))
- en: '## Performance improvements'
  id: totrans-1196
  prefs: []
  type: TYPE_NORMAL
  zh: '## 性能改进'
- en: Development support for benchmarking with the [Air Speed Velocity library](https://github.com/spacetelescope/asv/)
    ([GH 8361](https://github.com/pandas-dev/pandas/issues/8361))
  id: totrans-1197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于与 [Air Speed Velocity library](https://github.com/spacetelescope/asv/) 进行基准测试的开发支持。([GH
    8361](https://github.com/pandas-dev/pandas/issues/8361))
- en: Added vbench benchmarks for alternative ExcelWriter engines and reading Excel
    files ([GH 7171](https://github.com/pandas-dev/pandas/issues/7171))
  id: totrans-1198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为备选的 ExcelWriter 引擎和读取 Excel 文件添加了 vbench 基准测试。([GH 7171](https://github.com/pandas-dev/pandas/issues/7171))
- en: Performance improvements in `Categorical.value_counts` ([GH 10804](https://github.com/pandas-dev/pandas/issues/10804))
  id: totrans-1199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.value_counts` 的性能提升。([GH 10804](https://github.com/pandas-dev/pandas/issues/10804))'
- en: Performance improvements in `SeriesGroupBy.nunique` and `SeriesGroupBy.value_counts`
    and `SeriesGroupby.transform` ([GH 10820](https://github.com/pandas-dev/pandas/issues/10820),
    [GH 11077](https://github.com/pandas-dev/pandas/issues/11077))
  id: totrans-1200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SeriesGroupBy.nunique`、`SeriesGroupBy.value_counts` 和 `SeriesGroupby.transform`
    的性能提升。([GH 10820](https://github.com/pandas-dev/pandas/issues/10820), [GH 11077](https://github.com/pandas-dev/pandas/issues/11077))'
- en: Performance improvements in `DataFrame.drop_duplicates` with integer dtypes
    ([GH 10917](https://github.com/pandas-dev/pandas/issues/10917))
  id: totrans-1201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在整数数据类型的 `DataFrame.drop_duplicates` 中的性能改进。([GH 10917](https://github.com/pandas-dev/pandas/issues/10917))
- en: Performance improvements in `DataFrame.duplicated` with wide frames. ([GH 10161](https://github.com/pandas-dev/pandas/issues/10161),
    [GH 11180](https://github.com/pandas-dev/pandas/issues/11180))
  id: totrans-1202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.duplicated` 在宽表格中的性能提升。([GH 10161](https://github.com/pandas-dev/pandas/issues/10161),
    [GH 11180](https://github.com/pandas-dev/pandas/issues/11180))'
- en: 4x improvement in `timedelta` string parsing ([GH 6755](https://github.com/pandas-dev/pandas/issues/6755),
    [GH 10426](https://github.com/pandas-dev/pandas/issues/10426))
  id: totrans-1203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 时间差字符串解析的 4 倍改进。([GH 6755](https://github.com/pandas-dev/pandas/issues/6755),
    [GH 10426](https://github.com/pandas-dev/pandas/issues/10426))
- en: 8x improvement in `timedelta64` and `datetime64` ops ([GH 6755](https://github.com/pandas-dev/pandas/issues/6755))
  id: totrans-1204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `timedelta64` 和 `datetime64` 操作中有 8 倍的改进。([GH 6755](https://github.com/pandas-dev/pandas/issues/6755))
- en: Significantly improved performance of indexing `MultiIndex` with slicers ([GH
    10287](https://github.com/pandas-dev/pandas/issues/10287))
  id: totrans-1205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用切片器索引 `MultiIndex` 的性能显著提升。([GH 10287](https://github.com/pandas-dev/pandas/issues/10287))
- en: 8x improvement in `iloc` using list-like input ([GH 10791](https://github.com/pandas-dev/pandas/issues/10791))
  id: totrans-1206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用类似列表的输入时，`iloc` 的性能提升 8 倍。([GH 10791](https://github.com/pandas-dev/pandas/issues/10791))
- en: Improved performance of `Series.isin` for datetimelike/integer Series ([GH 10287](https://github.com/pandas-dev/pandas/issues/10287))
  id: totrans-1207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于日期时间样式/整数 Series，改进了 `Series.isin` 的性能。([GH 10287](https://github.com/pandas-dev/pandas/issues/10287))
- en: 20x improvement in `concat` of Categoricals when categories are identical ([GH
    10587](https://github.com/pandas-dev/pandas/issues/10587))
  id: totrans-1208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在分类数据相同时，`concat` 中的性能提升 20 倍。([GH 10587](https://github.com/pandas-dev/pandas/issues/10587))
- en: Improved performance of `to_datetime` when specified format string is ISO8601
    ([GH 10178](https://github.com/pandas-dev/pandas/issues/10178))
  id: totrans-1209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当指定的格式字符串是 ISO8601 时，`to_datetime` 的性能改进。([GH 10178](https://github.com/pandas-dev/pandas/issues/10178))
- en: 2x improvement of `Series.value_counts` for float dtype ([GH 10821](https://github.com/pandas-dev/pandas/issues/10821))
  id: totrans-1210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于浮点数据类型，`Series.value_counts` 的改进 2 倍。([GH 10821](https://github.com/pandas-dev/pandas/issues/10821))
- en: Enable `infer_datetime_format` in `to_datetime` when date components do not
    have 0 padding ([GH 11142](https://github.com/pandas-dev/pandas/issues/11142))
  id: totrans-1211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当日期组件没有 0 填充时，在 `to_datetime` 中启用了 `infer_datetime_format`。([GH 11142](https://github.com/pandas-dev/pandas/issues/11142))
- en: Regression from 0.16.1 in constructing `DataFrame` from nested dictionary ([GH
    11084](https://github.com/pandas-dev/pandas/issues/11084))
  id: totrans-1212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 0.16.1 开始构建嵌套字典的 `DataFrame` 中的回归。([GH 11084](https://github.com/pandas-dev/pandas/issues/11084))
- en: Performance improvements in addition/subtraction operations for `DateOffset`
    with `Series` or `DatetimeIndex` ([GH 10744](https://github.com/pandas-dev/pandas/issues/10744),
    [GH 11205](https://github.com/pandas-dev/pandas/issues/11205))
  id: totrans-1213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `Series` 或 `DatetimeIndex` 的 `DateOffset` 的加法/减法操作的性能改进。([GH 10744](https://github.com/pandas-dev/pandas/issues/10744),
    [GH 11205](https://github.com/pandas-dev/pandas/issues/11205))
- en: '## Bug fixes'
  id: totrans-1214
  prefs: []
  type: TYPE_NORMAL
  zh: '## Bug 修复'
- en: Bug in incorrect computation of `.mean()` on `timedelta64[ns]` because of overflow
    ([GH 9442](https://github.com/pandas-dev/pandas/issues/9442))
  id: totrans-1215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于溢出，`.mean()` 在 `timedelta64[ns]` 上的计算错误。([GH 9442](https://github.com/pandas-dev/pandas/issues/9442))
- en: Bug in `.isin` on older numpies ([GH 11232](https://github.com/pandas-dev/pandas/issues/11232))
  id: totrans-1216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在旧版 numpy 上的 `.isin` 中的错误。([GH 11232](https://github.com/pandas-dev/pandas/issues/11232))
- en: Bug in `DataFrame.to_html(index=False)` renders unnecessary `name` row ([GH
    10344](https://github.com/pandas-dev/pandas/issues/10344))
  id: totrans-1217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.to_html(index=False)` 中呈现不必要的 `name` 行的错误（[GH 10344](https://github.com/pandas-dev/pandas/issues/10344)）'
- en: Bug in `DataFrame.to_latex()` the `column_format` argument could not be passed
    ([GH 9402](https://github.com/pandas-dev/pandas/issues/9402))
  id: totrans-1218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无法传递 `column_format` 参数给 `DataFrame.to_latex()` 的错误（[GH 9402](https://github.com/pandas-dev/pandas/issues/9402)）
- en: Bug in `DatetimeIndex` when localizing with `NaT` ([GH 10477](https://github.com/pandas-dev/pandas/issues/10477))
  id: totrans-1219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `NaT` 进行本地化时 `DatetimeIndex` 中的错误（[GH 10477](https://github.com/pandas-dev/pandas/issues/10477)）
- en: Bug in `Series.dt` ops in preserving meta-data ([GH 10477](https://github.com/pandas-dev/pandas/issues/10477))
  id: totrans-1220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.dt` 操作中保留元数据的错误（[GH 10477](https://github.com/pandas-dev/pandas/issues/10477)）'
- en: Bug in preserving `NaT` when passed in an otherwise invalid `to_datetime` construction
    ([GH 10477](https://github.com/pandas-dev/pandas/issues/10477))
  id: totrans-1221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在传递 `NaT` 时保留 `NaT` 的错误，否则 `to_datetime` 构造无效。 ([GH 10477](https://github.com/pandas-dev/pandas/issues/10477))
- en: Bug in `DataFrame.apply` when function returns categorical series. ([GH 9573](https://github.com/pandas-dev/pandas/issues/9573))
  id: totrans-1222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当函数返回分类系列时 `DataFrame.apply` 中的错误。 ([GH 9573](https://github.com/pandas-dev/pandas/issues/9573))
- en: Bug in `to_datetime` with invalid dates and formats supplied ([GH 10154](https://github.com/pandas-dev/pandas/issues/10154))
  id: totrans-1223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_datetime` 中存在的日期和格式无效的错误（[GH 10154](https://github.com/pandas-dev/pandas/issues/10154)）'
- en: Bug in `Index.drop_duplicates` dropping name(s) ([GH 10115](https://github.com/pandas-dev/pandas/issues/10115))
  id: totrans-1224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.drop_duplicates` 中删除名称的错误（[GH 10115](https://github.com/pandas-dev/pandas/issues/10115)）'
- en: Bug in `Series.quantile` dropping name ([GH 10881](https://github.com/pandas-dev/pandas/issues/10881))
  id: totrans-1225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.quantile` 中丢失名称的错误（[GH 10881](https://github.com/pandas-dev/pandas/issues/10881)）'
- en: Bug in `pd.Series` when setting a value on an empty `Series` whose index has
    a frequency. ([GH 10193](https://github.com/pandas-dev/pandas/issues/10193))
  id: totrans-1226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在空 `Series` 上设置值时 `pd.Series` 中的错误，其索引具有频率。 ([GH 10193](https://github.com/pandas-dev/pandas/issues/10193))
- en: Bug in `pd.Series.interpolate` with invalid `order` keyword values. ([GH 10633](https://github.com/pandas-dev/pandas/issues/10633))
  id: totrans-1227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用无效的 `order` 关键字值时 `pd.Series.interpolate` 中的错误。 ([GH 10633](https://github.com/pandas-dev/pandas/issues/10633))
- en: Bug in `DataFrame.plot` raises `ValueError` when color name is specified by
    multiple characters ([GH 10387](https://github.com/pandas-dev/pandas/issues/10387))
  id: totrans-1228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当颜色名称由多个字符指定时，`DataFrame.plot` 中引发 `ValueError` 的错误（[GH 10387](https://github.com/pandas-dev/pandas/issues/10387)）
- en: Bug in `Index` construction with a mixed list of tuples ([GH 10697](https://github.com/pandas-dev/pandas/issues/10697))
  id: totrans-1229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用混合元组列表构建 `Index` 的错误（[GH 10697](https://github.com/pandas-dev/pandas/issues/10697)）
- en: Bug in `DataFrame.reset_index` when index contains `NaT`. ([GH 10388](https://github.com/pandas-dev/pandas/issues/10388))
  id: totrans-1230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引包含 `NaT` 时 `DataFrame.reset_index` 中的错误。 ([GH 10388](https://github.com/pandas-dev/pandas/issues/10388))
- en: Bug in `ExcelReader` when worksheet is empty ([GH 6403](https://github.com/pandas-dev/pandas/issues/6403))
  id: totrans-1231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当工作表为空时 `ExcelReader` 中的错误（[GH 6403](https://github.com/pandas-dev/pandas/issues/6403)）
- en: Bug in `BinGrouper.group_info` where returned values are not compatible with
    base class ([GH 10914](https://github.com/pandas-dev/pandas/issues/10914))
  id: totrans-1232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`BinGrouper.group_info` 中返回的值与基类不兼容的错误（[GH 10914](https://github.com/pandas-dev/pandas/issues/10914)）'
- en: Bug in clearing the cache on `DataFrame.pop` and a subsequent inplace op ([GH
    10912](https://github.com/pandas-dev/pandas/issues/10912))
  id: totrans-1233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrame.pop` 上清除缓存以及后续的原地操作时的错误（[GH 10912](https://github.com/pandas-dev/pandas/issues/10912)）
- en: Bug in indexing with a mixed-integer `Index` causing an `ImportError` ([GH 10610](https://github.com/pandas-dev/pandas/issues/10610))
  id: totrans-1234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用混合整数 `Index` 进行索引导致 `ImportError` 的错误（[GH 10610](https://github.com/pandas-dev/pandas/issues/10610)）
- en: Bug in `Series.count` when index has nulls ([GH 10946](https://github.com/pandas-dev/pandas/issues/10946))
  id: totrans-1235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引包含空值时 `Series.count` 中的错误（[GH 10946](https://github.com/pandas-dev/pandas/issues/10946)）
- en: Bug in pickling of a non-regular freq `DatetimeIndex` ([GH 11002](https://github.com/pandas-dev/pandas/issues/11002))
  id: totrans-1236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 非常规频率 `DatetimeIndex` 的 pickling 错误（[GH 11002](https://github.com/pandas-dev/pandas/issues/11002)）
- en: Bug causing `DataFrame.where` to not respect the `axis` parameter when the frame
    has a symmetric shape. ([GH 9736](https://github.com/pandas-dev/pandas/issues/9736))
  id: totrans-1237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当帧具有对称形状时，`DataFrame.where` 导致不尊重 `axis` 参数的错误。 ([GH 9736](https://github.com/pandas-dev/pandas/issues/9736))
- en: Bug in `Table.select_column` where name is not preserved ([GH 10392](https://github.com/pandas-dev/pandas/issues/10392))
  id: totrans-1238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Table.select_column` 中未保留名称的错误（[GH 10392](https://github.com/pandas-dev/pandas/issues/10392)）'
- en: Bug in `offsets.generate_range` where `start` and `end` have finer precision
    than `offset` ([GH 9907](https://github.com/pandas-dev/pandas/issues/9907))
  id: totrans-1239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `offsets.generate_range` 中 `start` 和 `end` 的精度比 `offset` 更高的错误（[GH 9907](https://github.com/pandas-dev/pandas/issues/9907)）
- en: Bug in `pd.rolling_*` where `Series.name` would be lost in the output ([GH 10565](https://github.com/pandas-dev/pandas/issues/10565))
  id: totrans-1240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `pd.rolling_*` 中，输出中将丢失 `Series.name` 的错误（[GH 10565](https://github.com/pandas-dev/pandas/issues/10565)）
- en: Bug in `stack` when index or columns are not unique. ([GH 10417](https://github.com/pandas-dev/pandas/issues/10417))
  id: totrans-1241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引或列不唯一时，在 `stack` 中的错误（[GH 10417](https://github.com/pandas-dev/pandas/issues/10417)）
- en: Bug in setting a `Panel` when an axis has a MultiIndex ([GH 10360](https://github.com/pandas-dev/pandas/issues/10360))
  id: totrans-1242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在轴具有 MultiIndex 时设置 `Panel` 时的错误（[GH 10360](https://github.com/pandas-dev/pandas/issues/10360)）
- en: Bug in `USFederalHolidayCalendar` where `USMemorialDay` and `USMartinLutherKingJr`
    were incorrect ([GH 10278](https://github.com/pandas-dev/pandas/issues/10278)
    and [GH 9760](https://github.com/pandas-dev/pandas/issues/9760) )
  id: totrans-1243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`USFederalHolidayCalendar` 中 `USMemorialDay` 和 `USMartinLutherKingJr` 不正确的错误（[GH
    10278](https://github.com/pandas-dev/pandas/issues/10278) 和 [GH 9760](https://github.com/pandas-dev/pandas/issues/9760)）'
- en: Bug in `.sample()` where returned object, if set, gives unnecessary `SettingWithCopyWarning`
    ([GH 10738](https://github.com/pandas-dev/pandas/issues/10738))
  id: totrans-1244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `.sample()` 中如果设置了返回对象，则会给出不必要的 `SettingWithCopyWarning` 的错误（[GH 10738](https://github.com/pandas-dev/pandas/issues/10738)）
- en: Bug in `.sample()` where weights passed as `Series` were not aligned along axis
    before being treated positionally, potentially causing problems if weight indices
    were not aligned with sampled object. ([GH 10738](https://github.com/pandas-dev/pandas/issues/10738))
  id: totrans-1245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `.sample()` 中，如果权重作为 `Series` 传递，那么在被处理前未对齐权重的索引，可能会导致与被抽样对象不对齐的问题。（[GH 10738](https://github.com/pandas-dev/pandas/issues/10738)）
- en: Regression fixed in ([GH 9311](https://github.com/pandas-dev/pandas/issues/9311),
    [GH 6620](https://github.com/pandas-dev/pandas/issues/6620), [GH 9345](https://github.com/pandas-dev/pandas/issues/9345)),
    where groupby with a datetime-like converting to float with certain aggregators
    ([GH 10979](https://github.com/pandas-dev/pandas/issues/10979))
  id: totrans-1246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 ([GH 9311](https://github.com/pandas-dev/pandas/issues/9311), [GH 6620](https://github.com/pandas-dev/pandas/issues/6620),
    [GH 9345](https://github.com/pandas-dev/pandas/issues/9345)) 中修复的回归问题，当 `groupby`
    结合某些聚合器将日期时间型转换为浮点型时的错误（[GH 10979](https://github.com/pandas-dev/pandas/issues/10979)）
- en: Bug in `DataFrame.interpolate` with `axis=1` and `inplace=True` ([GH 10395](https://github.com/pandas-dev/pandas/issues/10395))
  id: totrans-1247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.interpolate` 中 `axis=1` 和 `inplace=True` 时的错误（[GH 10395](https://github.com/pandas-dev/pandas/issues/10395)）'
- en: Bug in `io.sql.get_schema` when specifying multiple columns as primary key ([GH
    10385](https://github.com/pandas-dev/pandas/issues/10385)).
  id: totrans-1248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在指定多个列作为主键时，`io.sql.get_schema` 中的错误（[GH 10385](https://github.com/pandas-dev/pandas/issues/10385)）
- en: Bug in `groupby(sort=False)` with datetime-like `Categorical` raises `ValueError`
    ([GH 10505](https://github.com/pandas-dev/pandas/issues/10505))
  id: totrans-1249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用日期时间型 `Categorical` 的 `groupby(sort=False)` 引发 `ValueError` 的错误（[GH 10505](https://github.com/pandas-dev/pandas/issues/10505)）
- en: Bug in `groupby(axis=1)` with `filter()` throws `IndexError` ([GH 11041](https://github.com/pandas-dev/pandas/issues/11041))
  id: totrans-1250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`groupby(axis=1)` 与 `filter()` 结合使用会抛出 `IndexError` 的错误（[GH 11041](https://github.com/pandas-dev/pandas/issues/11041)）'
- en: Bug in `test_categorical` on big-endian builds ([GH 10425](https://github.com/pandas-dev/pandas/issues/10425))
  id: totrans-1251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在大端编译版本上 `test_categorical` 中的错误（[GH 10425](https://github.com/pandas-dev/pandas/issues/10425)）
- en: Bug in `Series.shift` and `DataFrame.shift` not supporting categorical data
    ([GH 9416](https://github.com/pandas-dev/pandas/issues/9416))
  id: totrans-1252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.shift` 和 `DataFrame.shift` 中不支持分类数据的错误（[GH 9416](https://github.com/pandas-dev/pandas/issues/9416)）'
- en: Bug in `Series.map` using categorical `Series` raises `AttributeError` ([GH
    10324](https://github.com/pandas-dev/pandas/issues/10324))
  id: totrans-1253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用分类 `Series` 的 `Series.map` 引发 `AttributeError` 的错误（[GH 10324](https://github.com/pandas-dev/pandas/issues/10324)）
- en: Bug in `MultiIndex.get_level_values` including `Categorical` raises `AttributeError`
    ([GH 10460](https://github.com/pandas-dev/pandas/issues/10460))
  id: totrans-1254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用包括 `Categorical` 的 `MultiIndex.get_level_values` 引发 `AttributeError` 的错误（[GH
    10460](https://github.com/pandas-dev/pandas/issues/10460)）
- en: Bug in `pd.get_dummies` with `sparse=True` not returning `SparseDataFrame` ([GH
    10531](https://github.com/pandas-dev/pandas/issues/10531))
  id: totrans-1255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `sparse=True` 时 `pd.get_dummies` 未返回 `SparseDataFrame` 的错误（[GH 10531](https://github.com/pandas-dev/pandas/issues/10531)）
- en: Bug in `Index` subtypes (such as `PeriodIndex`) not returning their own type
    for `.drop` and `.insert` methods ([GH 10620](https://github.com/pandas-dev/pandas/issues/10620))
  id: totrans-1256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index` 子类型（如 `PeriodIndex`）在 `.drop` 和 `.insert` 方法中未返回自己的类型的错误（[GH 10620](https://github.com/pandas-dev/pandas/issues/10620)）'
- en: Bug in `algos.outer_join_indexer` when `right` array is empty ([GH 10618](https://github.com/pandas-dev/pandas/issues/10618))
  id: totrans-1257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`algos.outer_join_indexer` 中的一个 bug，当 `right` 数组为空时（[GH 10618](https://github.com/pandas-dev/pandas/issues/10618)）'
- en: Bug in `filter` (regression from 0.16.0) and `transform` when grouping on multiple
    keys, one of which is datetime-like ([GH 10114](https://github.com/pandas-dev/pandas/issues/10114))
  id: totrans-1258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在对多个键进行分组时，`filter`（从 0.16.0 中退化）和 `transform` 中的一个 bug，其中一个键类似于 datetime（[GH
    10114](https://github.com/pandas-dev/pandas/issues/10114)）
- en: Bug in `to_datetime` and `to_timedelta` causing `Index` name to be lost ([GH
    10875](https://github.com/pandas-dev/pandas/issues/10875))
  id: totrans-1259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `to_datetime` 和 `to_timedelta` 中导致 `Index` 名称丢失的 bug（[GH 10875](https://github.com/pandas-dev/pandas/issues/10875)）
- en: Bug in `len(DataFrame.groupby)` causing `IndexError` when there’s a column containing
    only NaNs ([GH 11016](https://github.com/pandas-dev/pandas/issues/11016))
  id: totrans-1260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`len(DataFrame.groupby)` 中的一个 bug，当存在只包含 NaN 的列时引发 `IndexError`（[GH 11016](https://github.com/pandas-dev/pandas/issues/11016)）'
- en: Bug that caused segfault when resampling an empty Series ([GH 10228](https://github.com/pandas-dev/pandas/issues/10228))
  id: totrans-1261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在对空 Series 进行重新采样时引发段错误的 bug（[GH 10228](https://github.com/pandas-dev/pandas/issues/10228)）
- en: Bug in `DatetimeIndex` and `PeriodIndex.value_counts` resets name from its result,
    but retains in result’s `Index`. ([GH 10150](https://github.com/pandas-dev/pandas/issues/10150))
  id: totrans-1262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex` 和 `PeriodIndex.value_counts` 中的一个 bug，重置结果的名称，但在结果的 `Index`
    中保留（[GH 10150](https://github.com/pandas-dev/pandas/issues/10150)）'
- en: Bug in `pd.eval` using `numexpr` engine coerces 1 element numpy array to scalar
    ([GH 10546](https://github.com/pandas-dev/pandas/issues/10546))
  id: totrans-1263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `numexpr` 引擎的 `pd.eval` 中的一个 bug，将 1 个元素的 numpy 数组强制转换为标量（[GH 10546](https://github.com/pandas-dev/pandas/issues/10546)）
- en: Bug in `pd.concat` with `axis=0` when column is of dtype `category` ([GH 10177](https://github.com/pandas-dev/pandas/issues/10177))
  id: totrans-1264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `axis=0` 时，列的 dtype 为 `category` 的 `pd.concat` 中的一个 bug（[GH 10177](https://github.com/pandas-dev/pandas/issues/10177)）
- en: Bug in `read_msgpack` where input type is not always checked ([GH 10369](https://github.com/pandas-dev/pandas/issues/10369),
    [GH 10630](https://github.com/pandas-dev/pandas/issues/10630))
  id: totrans-1265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`read_msgpack` 中的一个 bug，未始终检查输入类型（[GH 10369](https://github.com/pandas-dev/pandas/issues/10369)，[GH
    10630](https://github.com/pandas-dev/pandas/issues/10630)）'
- en: Bug in `pd.read_csv` with kwargs `index_col=False`, `index_col=['a', 'b']` or
    `dtype` ([GH 10413](https://github.com/pandas-dev/pandas/issues/10413), [GH 10467](https://github.com/pandas-dev/pandas/issues/10467),
    [GH 10577](https://github.com/pandas-dev/pandas/issues/10577))
  id: totrans-1266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv` 中的一个 bug，使用 kwargs `index_col=False`、`index_col=[''a'', ''b'']`
    或 `dtype` 时引发错误（[GH 10413](https://github.com/pandas-dev/pandas/issues/10413)、[GH
    10467](https://github.com/pandas-dev/pandas/issues/10467)、[GH 10577](https://github.com/pandas-dev/pandas/issues/10577)）'
- en: Bug in `Series.from_csv` with `header` kwarg not setting the `Series.name` or
    the `Series.index.name` ([GH 10483](https://github.com/pandas-dev/pandas/issues/10483))
  id: totrans-1267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.from_csv` 中使用 `header` kwarg 时未设置 `Series.name` 或 `Series.index.name`
    的 bug（[GH 10483](https://github.com/pandas-dev/pandas/issues/10483)）'
- en: Bug in `groupby.var` which caused variance to be inaccurate for small float
    values ([GH 10448](https://github.com/pandas-dev/pandas/issues/10448))
  id: totrans-1268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`groupby.var` 中的一个 bug，导致小浮点值的方差不准确（[GH 10448](https://github.com/pandas-dev/pandas/issues/10448)）'
- en: Bug in `Series.plot(kind='hist')` Y Label not informative ([GH 10485](https://github.com/pandas-dev/pandas/issues/10485))
  id: totrans-1269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.plot(kind=''hist'')` 中的一个 bug，Y 轴标签不具备信息性（[GH 10485](https://github.com/pandas-dev/pandas/issues/10485)）'
- en: Bug in `read_csv` when using a converter which generates a `uint8` type ([GH
    9266](https://github.com/pandas-dev/pandas/issues/9266))
  id: totrans-1270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用生成 `uint8` 类型的转换器时的 `read_csv` 中的一个 bug（[GH 9266](https://github.com/pandas-dev/pandas/issues/9266)）
- en: Bug causes memory leak in time-series line and area plot ([GH 9003](https://github.com/pandas-dev/pandas/issues/9003))
  id: totrans-1271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在时间序列线条和区域图中引发内存泄漏的 bug（[GH 9003](https://github.com/pandas-dev/pandas/issues/9003)）
- en: Bug when setting a `Panel` sliced along the major or minor axes when the right-hand
    side is a `DataFrame` ([GH 11014](https://github.com/pandas-dev/pandas/issues/11014))
  id: totrans-1272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置 `Panel` 沿主轴或次要轴切片时出现 bug，右侧为 `DataFrame` 时（[GH 11014](https://github.com/pandas-dev/pandas/issues/11014)）
- en: Bug that returns `None` and does not raise `NotImplementedError` when operator
    functions (e.g. `.add`) of `Panel` are not implemented ([GH 7692](https://github.com/pandas-dev/pandas/issues/7692))
  id: totrans-1273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `Panel` 的操作函数（例如 `.add`）未实现时，导致返回 `None` 并且不引发 `NotImplementedError` 的 bug（[GH
    7692](https://github.com/pandas-dev/pandas/issues/7692)）
- en: Bug in line and kde plot cannot accept multiple colors when `subplots=True`
    ([GH 9894](https://github.com/pandas-dev/pandas/issues/9894))
  id: totrans-1274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `subplots=True` 时，线条和 kde 绘图不能接受多个颜色的 bug（[GH 9894](https://github.com/pandas-dev/pandas/issues/9894)）
- en: Bug in `DataFrame.plot` raises `ValueError` when color name is specified by
    multiple characters ([GH 10387](https://github.com/pandas-dev/pandas/issues/10387))
  id: totrans-1275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.plot` 中的一个 bug，当颜色名称由多个字符指定时引发 `ValueError`（[GH 10387](https://github.com/pandas-dev/pandas/issues/10387)）'
- en: Bug in left and right `align` of `Series` with `MultiIndex` may be inverted
    ([GH 10665](https://github.com/pandas-dev/pandas/issues/10665))
  id: totrans-1276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有`MultiIndex`的`Series`左右`align`中的错误可能被颠倒（[GH 10665](https://github.com/pandas-dev/pandas/issues/10665)）
- en: Bug in left and right `join` of with `MultiIndex` may be inverted ([GH 10741](https://github.com/pandas-dev/pandas/issues/10741))
  id: totrans-1277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有`MultiIndex`的左右`join`中的错误可能被颠倒（[GH 10741](https://github.com/pandas-dev/pandas/issues/10741)）
- en: Bug in `read_stata` when reading a file with a different order set in `columns`
    ([GH 10757](https://github.com/pandas-dev/pandas/issues/10757))
  id: totrans-1278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在读取具有在`columns`中设置不同顺序的文件时的`read_stata`中的错误（[GH 10757](https://github.com/pandas-dev/pandas/issues/10757)）
- en: Bug in `Categorical` may not representing properly when category contains `tz`
    or `Period` ([GH 10713](https://github.com/pandas-dev/pandas/issues/10713))
  id: totrans-1279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当类别包含`tz`或`Period`时，`Categorical`中的错误可能无法正确表示（[GH 10713](https://github.com/pandas-dev/pandas/issues/10713)）
- en: Bug in `Categorical.__iter__` may not returning correct `datetime` and `Period`
    ([GH 10713](https://github.com/pandas-dev/pandas/issues/10713))
  id: totrans-1280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.__iter__`中的错误可能不会返回正确的`datetime`和`Period`（[GH 10713](https://github.com/pandas-dev/pandas/issues/10713)）'
- en: Bug in indexing with a `PeriodIndex` on an object with a `PeriodIndex` ([GH
    4125](https://github.com/pandas-dev/pandas/issues/4125))
  id: totrans-1281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有`PeriodIndex`的对象上进行索引时出现错误，具有`PeriodIndex`（[GH 4125](https://github.com/pandas-dev/pandas/issues/4125)）
- en: 'Bug in `read_csv` with `engine=''c''`: EOF preceded by a comment, blank line,
    etc. was not handled correctly ([GH 10728](https://github.com/pandas-dev/pandas/issues/10728),
    [GH 10548](https://github.com/pandas-dev/pandas/issues/10548))'
  id: totrans-1282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`engine='c'`的`read_csv`中的错误：EOF之前的注释、空行等未正确处理（[GH 10728](https://github.com/pandas-dev/pandas/issues/10728)，[GH
    10548](https://github.com/pandas-dev/pandas/issues/10548)）
- en: Reading “famafrench” data via `DataReader` results in HTTP 404 error because
    of the website url is changed ([GH 10591](https://github.com/pandas-dev/pandas/issues/10591)).
  id: totrans-1283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过`DataReader`读取“famafrench”数据导致HTTP 404错误，因为网站URL已更改（[GH 10591](https://github.com/pandas-dev/pandas/issues/10591)）。
- en: Bug in `read_msgpack` where DataFrame to decode has duplicate column names ([GH
    9618](https://github.com/pandas-dev/pandas/issues/9618))
  id: totrans-1284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`read_msgpack`中，要解码的DataFrame具有重复列名（[GH 9618](https://github.com/pandas-dev/pandas/issues/9618))
- en: Bug in `io.common.get_filepath_or_buffer` which caused reading of valid S3 files
    to fail if the bucket also contained keys for which the user does not have read
    permission ([GH 10604](https://github.com/pandas-dev/pandas/issues/10604))
  id: totrans-1285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`io.common.get_filepath_or_buffer`中的错误，导致读取有效的S3文件失败，如果存储桶还包含用户没有读取权限的键（[GH
    10604](https://github.com/pandas-dev/pandas/issues/10604)）'
- en: Bug in vectorised setting of timestamp columns with python `datetime.date` and
    numpy `datetime64` ([GH 10408](https://github.com/pandas-dev/pandas/issues/10408),
    [GH 10412](https://github.com/pandas-dev/pandas/issues/10412))
  id: totrans-1286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用python `datetime.date`和numpy `datetime64`对时间戳列进行矢量化设置中的错误（[GH 10408](https://github.com/pandas-dev/pandas/issues/10408)，[GH
    10412](https://github.com/pandas-dev/pandas/issues/10412)）
- en: Bug in `Index.take` may add unnecessary `freq` attribute ([GH 10791](https://github.com/pandas-dev/pandas/issues/10791))
  id: totrans-1287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.take`中的错误可能会添加不必要的`freq`属性（[GH 10791](https://github.com/pandas-dev/pandas/issues/10791)）'
- en: Bug in `merge` with empty `DataFrame` may raise `IndexError` ([GH 10824](https://github.com/pandas-dev/pandas/issues/10824))
  id: totrans-1288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有空`DataFrame`的`merge`中可能会引发`IndexError`的错误（[GH 10824](https://github.com/pandas-dev/pandas/issues/10824)）
- en: Bug in `to_latex` where unexpected keyword argument for some documented arguments
    ([GH 10888](https://github.com/pandas-dev/pandas/issues/10888))
  id: totrans-1289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`to_latex`中，某些已记录参数的意外关键字参数错误（[GH 10888](https://github.com/pandas-dev/pandas/issues/10888)）
- en: Bug in indexing of large `DataFrame` where `IndexError` is uncaught ([GH 10645](https://github.com/pandas-dev/pandas/issues/10645)
    and [GH 10692](https://github.com/pandas-dev/pandas/issues/10692))
  id: totrans-1290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 大型`DataFrame`索引中的错误，未捕获`IndexError`（[GH 10645](https://github.com/pandas-dev/pandas/issues/10645)和[GH
    10692](https://github.com/pandas-dev/pandas/issues/10692)）
- en: Bug in `read_csv` when using the `nrows` or `chunksize` parameters if file contains
    only a header line ([GH 9535](https://github.com/pandas-dev/pandas/issues/9535))
  id: totrans-1291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`read_csv`中使用`nrows`或`chunksize`参数时，如果文件只包含标题行，则会出现错误（[GH 9535](https://github.com/pandas-dev/pandas/issues/9535)）
- en: Bug in serialization of `category` types in HDF5 in presence of alternate encodings.
    ([GH 10366](https://github.com/pandas-dev/pandas/issues/10366))
  id: totrans-1292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在存在替代编码时，`category`类型在HDF5中的序列化中存在错误。([GH 10366](https://github.com/pandas-dev/pandas/issues/10366))
- en: Bug in `pd.DataFrame` when constructing an empty DataFrame with a string dtype
    ([GH 9428](https://github.com/pandas-dev/pandas/issues/9428))
  id: totrans-1293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用字符串dtype构建空DataFrame时的`pd.DataFrame`中的错误（[GH 9428](https://github.com/pandas-dev/pandas/issues/9428)）
- en: Bug in `pd.DataFrame.diff` when DataFrame is not consolidated ([GH 10907](https://github.com/pandas-dev/pandas/issues/10907))
  id: totrans-1294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrame` 未合并时，`pd.DataFrame.diff` 存在错误（[GH 10907](https://github.com/pandas-dev/pandas/issues/10907)）
- en: Bug in `pd.unique` for arrays with the `datetime64` or `timedelta64` dtype that
    meant an array with object dtype was returned instead the original dtype ([GH
    9431](https://github.com/pandas-dev/pandas/issues/9431))
  id: totrans-1295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于具有 `datetime64` 或 `timedelta64` dtype 的数组的 `pd.unique` 存在错误，这意味着返回的是对象 dtype
    而不是原始 dtype 的数组（[GH 9431](https://github.com/pandas-dev/pandas/issues/9431)）
- en: Bug in `Timedelta` raising error when slicing from 0s ([GH 10583](https://github.com/pandas-dev/pandas/issues/10583))
  id: totrans-1296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在从 0s 切片时引发错误的 `Timedelta` 中存在错误（[GH 10583](https://github.com/pandas-dev/pandas/issues/10583)）
- en: Bug in `DatetimeIndex.take` and `TimedeltaIndex.take` may not raise `IndexError`
    against invalid index ([GH 10295](https://github.com/pandas-dev/pandas/issues/10295))
  id: totrans-1297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在对无效索引进行 `DatetimeIndex.take` 和 `TimedeltaIndex.take` 时可能不会引发 `IndexError` 的错误（[GH
    10295](https://github.com/pandas-dev/pandas/issues/10295)）
- en: Bug in `Series([np.nan]).astype('M8[ms]')`, which now returns `Series([pd.NaT])`
    ([GH 10747](https://github.com/pandas-dev/pandas/issues/10747))
  id: totrans-1298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series([np.nan]).astype(''M8[ms]'')` 中存在错误，现在返回 `Series([pd.NaT])`（[GH 10747](https://github.com/pandas-dev/pandas/issues/10747)）'
- en: Bug in `PeriodIndex.order` reset freq ([GH 10295](https://github.com/pandas-dev/pandas/issues/10295))
  id: totrans-1299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `PeriodIndex.order` 重置频率时存在错误（[GH 10295](https://github.com/pandas-dev/pandas/issues/10295)）
- en: Bug in `date_range` when `freq` divides `end` as nanos ([GH 10885](https://github.com/pandas-dev/pandas/issues/10885))
  id: totrans-1300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `date_range` 中，当 `freq` 除以 `end` 时，导致 nanos 的错误（[GH 10885](https://github.com/pandas-dev/pandas/issues/10885)）
- en: Bug in `iloc` allowing memory outside bounds of a Series to be accessed with
    negative integers ([GH 10779](https://github.com/pandas-dev/pandas/issues/10779))
  id: totrans-1301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许使用负整数访问 Series 外界限内存的 `iloc` 中存在错误（[GH 10779](https://github.com/pandas-dev/pandas/issues/10779)）
- en: Bug in `read_msgpack` where encoding is not respected ([GH 10581](https://github.com/pandas-dev/pandas/issues/10581))
  id: totrans-1302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `read_msgpack` 中，不尊重编码的错误（[GH 10581](https://github.com/pandas-dev/pandas/issues/10581)）
- en: Bug preventing access to the first index when using `iloc` with a list containing
    the appropriate negative integer ([GH 10547](https://github.com/pandas-dev/pandas/issues/10547),
    [GH 10779](https://github.com/pandas-dev/pandas/issues/10779))
  id: totrans-1303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用包含适当负整数的列表进行 `iloc` 访问时，阻止访问第一个索引的错误（[GH 10547](https://github.com/pandas-dev/pandas/issues/10547),
    [GH 10779](https://github.com/pandas-dev/pandas/issues/10779)）
- en: Bug in `TimedeltaIndex` formatter causing error while trying to save `DataFrame`
    with `TimedeltaIndex` using `to_csv` ([GH 10833](https://github.com/pandas-dev/pandas/issues/10833))
  id: totrans-1304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `TimedeltaIndex` 格式化程序中存在错误，尝试使用 `to_csv` 保存带有 `TimedeltaIndex` 的 `DataFrame`
    时会出错（[GH 10833](https://github.com/pandas-dev/pandas/issues/10833)）
- en: Bug in `DataFrame.where` when handling Series slicing ([GH 10218](https://github.com/pandas-dev/pandas/issues/10218),
    [GH 9558](https://github.com/pandas-dev/pandas/issues/9558))
  id: totrans-1305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在处理 Series 切片时，`DataFrame.where` 存在错误（[GH 10218](https://github.com/pandas-dev/pandas/issues/10218),
    [GH 9558](https://github.com/pandas-dev/pandas/issues/9558)）
- en: Bug where `pd.read_gbq` throws `ValueError` when Bigquery returns zero rows
    ([GH 10273](https://github.com/pandas-dev/pandas/issues/10273))
  id: totrans-1306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `pd.read_gbq` 返回零行时抛出 `ValueError` 的错误（[GH 10273](https://github.com/pandas-dev/pandas/issues/10273)）
- en: Bug in `to_json` which was causing segmentation fault when serializing 0-rank
    ndarray ([GH 9576](https://github.com/pandas-dev/pandas/issues/9576))
  id: totrans-1307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在序列化 0-rank ndarray 时导致段错误的 `to_json` 中存在错误（[GH 9576](https://github.com/pandas-dev/pandas/issues/9576)）
- en: Bug in plotting functions may raise `IndexError` when plotted on `GridSpec`
    ([GH 10819](https://github.com/pandas-dev/pandas/issues/10819))
  id: totrans-1308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在绘图函数中，在 `GridSpec` 上绘制时可能引发 `IndexError` 的错误（[GH 10819](https://github.com/pandas-dev/pandas/issues/10819)）
- en: Bug in plot result may show unnecessary minor ticklabels ([GH 10657](https://github.com/pandas-dev/pandas/issues/10657))
  id: totrans-1309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 绘图结果中可能显示不必要的次要刻度标签的错误（[GH 10657](https://github.com/pandas-dev/pandas/issues/10657)）
- en: Bug in `groupby` incorrect computation for aggregation on `DataFrame` with `NaT`
    (E.g `first`, `last`, `min`). ([GH 10590](https://github.com/pandas-dev/pandas/issues/10590),
    [GH 11010](https://github.com/pandas-dev/pandas/issues/11010))
  id: totrans-1310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有 `NaT` 的 `DataFrame` 上进行聚合时 `groupby` 计算错误（例如 `first`、`last`、`min`）（[GH 10590](https://github.com/pandas-dev/pandas/issues/10590),
    [GH 11010](https://github.com/pandas-dev/pandas/issues/11010)）
- en: Bug when constructing `DataFrame` where passing a dictionary with only scalar
    values and specifying columns did not raise an error ([GH 10856](https://github.com/pandas-dev/pandas/issues/10856))
  id: totrans-1311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在构造 `DataFrame` 时，传递只包含标量值的字典并指定列未引发错误的错误（[GH 10856](https://github.com/pandas-dev/pandas/issues/10856)）
- en: Bug in `.var()` causing roundoff errors for highly similar values ([GH 10242](https://github.com/pandas-dev/pandas/issues/10242))
  id: totrans-1312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在高度相似值的情况下，`.var()` 导致舍入误差的错误（[GH 10242](https://github.com/pandas-dev/pandas/issues/10242)）
- en: Bug in `DataFrame.plot(subplots=True)` with duplicated columns outputs incorrect
    result ([GH 10962](https://github.com/pandas-dev/pandas/issues/10962))
  id: totrans-1313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`DataFrame.plot(subplots=True)`时，重复列会输出不正确的结果 ([GH 10962](https://github.com/pandas-dev/pandas/issues/10962))
- en: Bug in `Index` arithmetic may result in incorrect class ([GH 10638](https://github.com/pandas-dev/pandas/issues/10638))
  id: totrans-1314
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index` 算术中的错误可能导致类别不正确 ([GH 10638](https://github.com/pandas-dev/pandas/issues/10638))'
- en: Bug in `date_range` results in empty if freq is negative annually, quarterly
    and monthly ([GH 11018](https://github.com/pandas-dev/pandas/issues/11018))
  id: totrans-1315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`date_range` 中的错误导致如果频率为负数，则结果为空（年度、季度和月度） ([GH 11018](https://github.com/pandas-dev/pandas/issues/11018))'
- en: Bug in `DatetimeIndex` cannot infer negative freq ([GH 11018](https://github.com/pandas-dev/pandas/issues/11018))
  id: totrans-1316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex` 中的错误无法推断负频率 ([GH 11018](https://github.com/pandas-dev/pandas/issues/11018))'
- en: Remove use of some deprecated numpy comparison operations, mainly in tests.
    ([GH 10569](https://github.com/pandas-dev/pandas/issues/10569))
  id: totrans-1317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除一些已弃用的numpy比较操作，主要是在测试中。 ([GH 10569](https://github.com/pandas-dev/pandas/issues/10569))
- en: Bug in `Index` dtype may not applied properly ([GH 11017](https://github.com/pandas-dev/pandas/issues/11017))
  id: totrans-1318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index` dtype 中的错误可能未正确应用 ([GH 11017](https://github.com/pandas-dev/pandas/issues/11017))'
- en: Bug in `io.gbq` when testing for minimum google api client version ([GH 10652](https://github.com/pandas-dev/pandas/issues/10652))
  id: totrans-1319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在测试最低google api客户端版本时，`io.gbq` 中的错误 ([GH 10652](https://github.com/pandas-dev/pandas/issues/10652))
- en: Bug in `DataFrame` construction from nested `dict` with `timedelta` keys ([GH
    11129](https://github.com/pandas-dev/pandas/issues/11129))
  id: totrans-1320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从嵌套的`dict`中使用`timedelta`键构建`DataFrame`时的错误 ([GH 11129](https://github.com/pandas-dev/pandas/issues/11129))
- en: Bug in `.fillna` against may raise `TypeError` when data contains datetime dtype
    ([GH 7095](https://github.com/pandas-dev/pandas/issues/7095), [GH 11153](https://github.com/pandas-dev/pandas/issues/11153))
  id: totrans-1321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.fillna` 中的错误可能在数据包含日期时间dtype时引发`TypeError` ([GH 7095](https://github.com/pandas-dev/pandas/issues/7095),
    [GH 11153](https://github.com/pandas-dev/pandas/issues/11153))'
- en: Bug in `.groupby` when number of keys to group by is same as length of index
    ([GH 11185](https://github.com/pandas-dev/pandas/issues/11185))
  id: totrans-1322
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.groupby` 中的错误，当分组的键数与索引长度相同时 ([GH 11185](https://github.com/pandas-dev/pandas/issues/11185))'
- en: Bug in `convert_objects` where converted values might not be returned if all
    null and `coerce` ([GH 9589](https://github.com/pandas-dev/pandas/issues/9589))
  id: totrans-1323
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`convert_objects` 中的错误，如果全部为null并且`coerce`，则可能不返回转换后的值 ([GH 9589](https://github.com/pandas-dev/pandas/issues/9589))'
- en: Bug in `convert_objects` where `copy` keyword was not respected ([GH 9589](https://github.com/pandas-dev/pandas/issues/9589))
  id: totrans-1324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`convert_objects` 中的错误，`copy` 关键字未被尊重 ([GH 9589](https://github.com/pandas-dev/pandas/issues/9589))'
- en: '## Contributors'
  id: totrans-1325
  prefs: []
  type: TYPE_NORMAL
  zh: '## 贡献者'
- en: A total of 112 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  id: totrans-1326
  prefs: []
  type: TYPE_NORMAL
  zh: 总共有112人为这个版本贡献了补丁。名字后面带有“+”符号的人第一次贡献了补丁。
- en: Alex Rothberg
  id: totrans-1327
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Rothberg
- en: Andrea Bedini +
  id: totrans-1328
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrea Bedini +
- en: Andrew Rosenfeld
  id: totrans-1329
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Rosenfeld
- en: Andy Hayden
  id: totrans-1330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andy Hayden
- en: Andy Li +
  id: totrans-1331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andy Li +
- en: Anthonios Partheniou +
  id: totrans-1332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anthonios Partheniou +
- en: Artemy Kolchinsky
  id: totrans-1333
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Artemy Kolchinsky
- en: Bernard Willers
  id: totrans-1334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bernard Willers
- en: Charlie Clark +
  id: totrans-1335
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Charlie Clark +
- en: Chris +
  id: totrans-1336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris +
- en: Chris Whelan
  id: totrans-1337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Whelan
- en: Christoph Gohlke +
  id: totrans-1338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Christoph Gohlke +
- en: Christopher Whelan
  id: totrans-1339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Christopher Whelan
- en: Clark Fitzgerald
  id: totrans-1340
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Clark Fitzgerald
- en: Clearfield Christopher +
  id: totrans-1341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Clearfield Christopher +
- en: Dan Ringwalt +
  id: totrans-1342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dan Ringwalt +
- en: Daniel Ni +
  id: totrans-1343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Ni +
- en: Data & Code Expert Experimenting with Code on Data +
  id: totrans-1344
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据和代码专家在数据上尝试代码实验 +
- en: David Cottrell
  id: totrans-1345
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Cottrell
- en: David John Gagne +
  id: totrans-1346
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David John Gagne +
- en: David Kelly +
  id: totrans-1347
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Kelly +
- en: ETF +
  id: totrans-1348
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ETF +
- en: Eduardo Schettino +
  id: totrans-1349
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eduardo Schettino +
- en: Egor +
  id: totrans-1350
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Egor +
- en: Egor Panfilov +
  id: totrans-1351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Egor Panfilov +
- en: Evan Wright
  id: totrans-1352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Evan Wright
- en: Frank Pinter +
  id: totrans-1353
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Frank Pinter +
- en: Gabriel Araujo +
  id: totrans-1354
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gabriel Araujo +
- en: Garrett-R
  id: totrans-1355
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Garrett-R
- en: Gianluca Rossi +
  id: totrans-1356
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gianluca Rossi +
- en: Guillaume Gay
  id: totrans-1357
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Guillaume Gay
- en: Guillaume Poulin
  id: totrans-1358
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Guillaume Poulin
- en: Harsh Nisar +
  id: totrans-1359
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Harsh Nisar +
- en: Ian Henriksen +
  id: totrans-1360
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ian Henriksen +
- en: Ian Hoegen +
  id: totrans-1361
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ian Hoegen +
- en: Jaidev Deshpande +
  id: totrans-1362
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jaidev Deshpande +
- en: Jan Rudolph +
  id: totrans-1363
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jan Rudolph +
- en: Jan Schulz
  id: totrans-1364
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jan Schulz
- en: Jason Swails +
  id: totrans-1365
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jason Swails +
- en: Jeff Reback
  id: totrans-1366
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeff Reback
- en: Jonas Buyl +
  id: totrans-1367
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jonas Buyl +
- en: Joris Van den Bossche
  id: totrans-1368
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Van den Bossche
- en: Joris Vankerschaver +
  id: totrans-1369
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Vankerschaver +
- en: Josh Levy-Kramer +
  id: totrans-1370
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Josh Levy-Kramer +
- en: Julien Danjou
  id: totrans-1371
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Julien Danjou
- en: Ka Wo Chen
  id: totrans-1372
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ka Wo Chen
- en: Karrie Kehoe +
  id: totrans-1373
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Karrie Kehoe +
- en: Kelsey Jordahl
  id: totrans-1374
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kelsey Jordahl
- en: Kerby Shedden
  id: totrans-1375
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kerby Shedden
- en: Kevin Sheppard
  id: totrans-1376
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kevin Sheppard
- en: Lars Buitinck
  id: totrans-1377
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lars Buitinck
- en: Leif Johnson +
  id: totrans-1378
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Leif Johnson +
- en: Luis Ortiz +
  id: totrans-1379
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Luis Ortiz +
- en: Mac +
  id: totrans-1380
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mac +
- en: Matt Gambogi +
  id: totrans-1381
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Gambogi +
- en: Matt Savoie +
  id: totrans-1382
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Savoie +
- en: Matthew Gilbert +
  id: totrans-1383
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Gilbert +
- en: Maximilian Roos +
  id: totrans-1384
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maximilian Roos +
- en: Michelangelo D’Agostino +
  id: totrans-1385
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michelangelo D’Agostino +
- en: Mortada Mehyar
  id: totrans-1386
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mortada Mehyar
- en: Nick Eubank
  id: totrans-1387
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nick Eubank
- en: Nipun Batra
  id: totrans-1388
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nipun Batra
- en: Ondřej Čertík
  id: totrans-1389
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ondřej Čertík
- en: Phillip Cloud
  id: totrans-1390
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Phillip Cloud
- en: Pratap Vardhan +
  id: totrans-1391
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pratap Vardhan +
- en: Rafal Skolasinski +
  id: totrans-1392
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rafal Skolasinski +
- en: Richard Lewis +
  id: totrans-1393
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Richard Lewis +
- en: Rinoc Johnson +
  id: totrans-1394
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rinoc Johnson +
- en: Rob Levy
  id: totrans-1395
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rob Levy
- en: Robert Gieseke
  id: totrans-1396
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robert Gieseke
- en: Safia Abdalla +
  id: totrans-1397
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Safia Abdalla +
- en: Samuel Denny +
  id: totrans-1398
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Samuel Denny +
- en: Saumitra Shahapure +
  id: totrans-1399
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Saumitra Shahapure +
- en: Sebastian Pölsterl +
  id: totrans-1400
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sebastian Pölsterl +
- en: Sebastian Rubbert +
  id: totrans-1401
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sebastian Rubbert +
- en: Sheppard, Kevin +
  id: totrans-1402
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sheppard, Kevin +
- en: Sinhrks
  id: totrans-1403
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sinhrks
- en: Siu Kwan Lam +
  id: totrans-1404
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Siu Kwan Lam +
- en: Skipper Seabold
  id: totrans-1405
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Skipper Seabold
- en: Spencer Carrucciu +
  id: totrans-1406
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Spencer Carrucciu +
- en: Stephan Hoyer
  id: totrans-1407
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stephan Hoyer
- en: Stephen Hoover +
  id: totrans-1408
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stephen Hoover +
- en: Stephen Pascoe +
  id: totrans-1409
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stephen Pascoe +
- en: Terry Santegoeds +
  id: totrans-1410
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Terry Santegoeds +
- en: Thomas Grainger
  id: totrans-1411
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Grainger
- en: Tjerk Santegoeds +
  id: totrans-1412
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tjerk Santegoeds +
- en: Tom Augspurger
  id: totrans-1413
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tom Augspurger
- en: Vincent Davis +
  id: totrans-1414
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vincent Davis +
- en: Winterflower +
  id: totrans-1415
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Winterflower +
- en: Yaroslav Halchenko
  id: totrans-1416
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yaroslav Halchenko
- en: Yuan Tang (Terry) +
  id: totrans-1417
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yuan Tang (Terry) +
- en: agijsberts
  id: totrans-1418
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: agijsberts
- en: ajcr +
  id: totrans-1419
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ajcr +
- en: behzad nouri
  id: totrans-1420
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: behzad nouri
- en: cel4
  id: totrans-1421
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: cel4
- en: chris-b1 +
  id: totrans-1422
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: chris-b1 +
- en: cyrusmaher +
  id: totrans-1423
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: cyrusmaher +
- en: davidovitch +
  id: totrans-1424
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: davidovitch +
- en: ganego +
  id: totrans-1425
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ganego +
- en: jreback
  id: totrans-1426
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jreback
- en: juricast +
  id: totrans-1427
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: juricast +
- en: larvian +
  id: totrans-1428
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: larvian +
- en: maximilianr +
  id: totrans-1429
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: maximilianr +
- en: msund +
  id: totrans-1430
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: msund +
- en: rekcahpassyla
  id: totrans-1431
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: rekcahpassyla
- en: robertzk +
  id: totrans-1432
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: robertzk +
- en: scls19fr
  id: totrans-1433
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: scls19fr
- en: seth-p
  id: totrans-1434
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: seth-p
- en: sinhrks
  id: totrans-1435
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sinhrks
- en: springcoil +
  id: totrans-1436
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: springcoil +
- en: terrytangyuan +
  id: totrans-1437
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: terrytangyuan +
- en: tzinckgraf +
  id: totrans-1438
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tzinckgraf +
