- en: scipy.stats.kendalltau
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.kendalltau.html#scipy.stats.kendalltau](https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.kendalltau.html#scipy.stats.kendalltau)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Calculate Kendall’s tau, a correlation measure for ordinal data.
  prefs: []
  type: TYPE_NORMAL
- en: 'Kendall’s tau is a measure of the correspondence between two rankings. Values
    close to 1 indicate strong agreement, and values close to -1 indicate strong disagreement.
    This implements two variants of Kendall’s tau: tau-b (the default) and tau-c (also
    known as Stuart’s tau-c). These differ only in how they are normalized to lie
    within the range -1 to 1; the hypothesis tests (their p-values) are identical.
    Kendall’s original tau-a is not implemented separately because both tau-b and
    tau-c reduce to tau-a in the absence of ties.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**x, y**array_like'
  prefs: []
  type: TYPE_NORMAL
- en: Arrays of rankings, of the same shape. If arrays are not 1-D, they will be flattened
    to 1-D.
  prefs: []
  type: TYPE_NORMAL
- en: '**initial_lexsort**bool, optional, deprecated'
  prefs: []
  type: TYPE_NORMAL
- en: This argument is unused.
  prefs: []
  type: TYPE_NORMAL
- en: 'Deprecated since version 1.10.0: [`kendalltau`](#scipy.stats.kendalltau "scipy.stats.kendalltau")
    keyword argument *initial_lexsort* is deprecated as it is unused and will be removed
    in SciPy 1.14.0.'
  prefs: []
  type: TYPE_NORMAL
- en: '**nan_policy**{‘propagate’, ‘raise’, ‘omit’}, optional'
  prefs: []
  type: TYPE_NORMAL
- en: 'Defines how to handle when input contains nan. The following options are available
    (default is ‘propagate’):'
  prefs: []
  type: TYPE_NORMAL
- en: '‘propagate’: returns nan'
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '‘raise’: throws an error'
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '‘omit’: performs the calculations ignoring nan values'
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
- en: '**method**{‘auto’, ‘asymptotic’, ‘exact’}, optional'
  prefs: []
  type: TYPE_NORMAL
- en: 'Defines which method is used to calculate the p-value [[5]](#r4cd1899fa369-5).
    The following options are available (default is ‘auto’):'
  prefs: []
  type: TYPE_NORMAL
- en: '‘auto’: selects the appropriate method based on a trade-off between speed and
    accuracy'
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '‘asymptotic’: uses a normal approximation valid for large samples'
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '‘exact’: computes the exact p-value, but can only be used if no ties are present.
    As the sample size increases, the ‘exact’ computation time may grow and the result
    may lose some precision.'
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
- en: '**variant**{‘b’, ‘c’}, optional'
  prefs: []
  type: TYPE_NORMAL
- en: Defines which variant of Kendall’s tau is returned. Default is ‘b’.
  prefs: []
  type: TYPE_NORMAL
- en: '**alternative**{‘two-sided’, ‘less’, ‘greater’}, optional'
  prefs: []
  type: TYPE_NORMAL
- en: 'Defines the alternative hypothesis. Default is ‘two-sided’. The following options
    are available:'
  prefs: []
  type: TYPE_NORMAL
- en: '‘two-sided’: the rank correlation is nonzero'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '‘less’: the rank correlation is negative (less than zero)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '‘greater’: the rank correlation is positive (greater than zero)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Returns:'
  prefs: []
  type: TYPE_NORMAL
- en: '**res**SignificanceResult'
  prefs: []
  type: TYPE_NORMAL
- en: 'An object containing attributes:'
  prefs: []
  type: TYPE_NORMAL
- en: statisticfloat
  prefs: []
  type: TYPE_NORMAL
- en: The tau statistic.
  prefs: []
  type: TYPE_NORMAL
- en: pvaluefloat
  prefs: []
  type: TYPE_NORMAL
- en: The p-value for a hypothesis test whose null hypothesis is an absence of association,
    tau = 0.
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs: []
  type: TYPE_NORMAL
- en: '[`spearmanr`](scipy.stats.spearmanr.html#scipy.stats.spearmanr "scipy.stats.spearmanr")'
  prefs: []
  type: TYPE_NORMAL
- en: Calculates a Spearman rank-order correlation coefficient.
  prefs: []
  type: TYPE_NORMAL
- en: '[`theilslopes`](scipy.stats.theilslopes.html#scipy.stats.theilslopes "scipy.stats.theilslopes")'
  prefs: []
  type: TYPE_NORMAL
- en: Computes the Theil-Sen estimator for a set of points (x, y).
  prefs: []
  type: TYPE_NORMAL
- en: '[`weightedtau`](scipy.stats.weightedtau.html#scipy.stats.weightedtau "scipy.stats.weightedtau")'
  prefs: []
  type: TYPE_NORMAL
- en: Computes a weighted version of Kendall’s tau.
  prefs: []
  type: TYPE_NORMAL
- en: Notes
  prefs: []
  type: TYPE_NORMAL
- en: 'The definition of Kendall’s tau that is used is [[2]](#r4cd1899fa369-2):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: where P is the number of concordant pairs, Q the number of discordant pairs,
    T the number of ties only in *x*, and U the number of ties only in *y*. If a tie
    occurs for the same pair in both *x* and *y*, it is not added to either T or U.
    n is the total number of samples, and m is the number of unique values in either
    *x* or *y*, whichever is smaller.
  prefs: []
  type: TYPE_NORMAL
- en: References
  prefs: []
  type: TYPE_NORMAL
- en: '[1]'
  prefs: []
  type: TYPE_NORMAL
- en: Maurice G. Kendall, “A New Measure of Rank Correlation”, Biometrika Vol. 30,
    No. 1/2, pp. 81-93, 1938.
  prefs: []
  type: TYPE_NORMAL
- en: '[[2](#id2)]'
  prefs: []
  type: TYPE_NORMAL
- en: Maurice G. Kendall, “The treatment of ties in ranking problems”, Biometrika
    Vol. 33, No. 3, pp. 239-251\. 1945.
  prefs: []
  type: TYPE_NORMAL
- en: '[3]'
  prefs: []
  type: TYPE_NORMAL
- en: Gottfried E. Noether, “Elements of Nonparametric Statistics”, John Wiley & Sons,
    1967.
  prefs: []
  type: TYPE_NORMAL
- en: '[4]'
  prefs: []
  type: TYPE_NORMAL
- en: 'Peter M. Fenwick, “A new data structure for cumulative frequency tables”, Software:
    Practice and Experience, Vol. 24, No. 3, pp. 327-336, 1994.'
  prefs: []
  type: TYPE_NORMAL
- en: '[[5](#id1)]'
  prefs: []
  type: TYPE_NORMAL
- en: Maurice G. Kendall, “Rank Correlation Methods” (4th Edition), Charles Griffin
    & Co., 1970.
  prefs: []
  type: TYPE_NORMAL
- en: '[[6](#id11)]'
  prefs: []
  type: TYPE_NORMAL
- en: Kershenobich, D., Fierro, F. J., & Rojkind, M. (1970). The relationship between
    the free pool of proline and collagen content in human liver cirrhosis. The Journal
    of Clinical Investigation, 49(12), 2246-2249.
  prefs: []
  type: TYPE_NORMAL
- en: '[[7](#id12)]'
  prefs: []
  type: TYPE_NORMAL
- en: Hollander, M., Wolfe, D. A., & Chicken, E. (2013). Nonparametric statistical
    methods. John Wiley & Sons.
  prefs: []
  type: TYPE_NORMAL
- en: '[[8](#id13)]'
  prefs: []
  type: TYPE_NORMAL
- en: 'B. Phipson and G. K. Smyth. “Permutation P-values Should Never Be Zero: Calculating
    Exact P-values When Permutations Are Randomly Drawn.” Statistical Applications
    in Genetics and Molecular Biology 9.1 (2010).'
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: Consider the following data from [[6]](#r4cd1899fa369-6), which studied the
    relationship between free proline (an amino acid) and total collagen (a protein
    often found in connective tissue) in unhealthy human livers.
  prefs: []
  type: TYPE_NORMAL
- en: 'The `x` and `y` arrays below record measurements of the two compounds. The
    observations are paired: each free proline measurement was taken from the same
    liver as the total collagen measurement at the same index.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: These data were analyzed in [[7]](#r4cd1899fa369-7) using Spearman’s correlation
    coefficient, a statistic similar to to Kendall’s tau in that it is also sensitive
    to ordinal correlation between the samples. Let’s perform an analogous study using
    Kendall’s tau.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: The value of this statistic tends to be high (close to 1) for samples with a
    strongly positive ordinal correlation, low (close to -1) for samples with a strongly
    negative ordinal correlation, and small in magnitude (close to zero) for samples
    with weak ordinal correlation.
  prefs: []
  type: TYPE_NORMAL
- en: 'The test is performed by comparing the observed value of the statistic against
    the null distribution: the distribution of statistic values derived under the
    null hypothesis that total collagen and free proline measurements are independent.'
  prefs: []
  type: TYPE_NORMAL
- en: For this test, the null distribution for large samples without ties is approximated
    as the normal distribution with variance `(2*(2*n + 5))/(9*n*(n - 1))`, where
    `n = len(x)`.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '![../../_images/scipy-stats-kendalltau-1_00_00.png](../Images/ffa63d124bf6124acb79a652d99ff0ba.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The comparison is quantified by the p-value: the proportion of values in the
    null distribution as extreme or more extreme than the observed value of the statistic.
    In a two-sided test in which the statistic is positive, elements of the null distribution
    greater than the transformed statistic and elements of the null distribution less
    than the negative of the observed statistic are both considered “more extreme”.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '![../../_images/scipy-stats-kendalltau-1_01_00.png](../Images/cf65984460c9d40cdc81d0d9c2b34b30.png)'
  prefs: []
  type: TYPE_IMG
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: Note that there is slight disagreement between the shaded area of the curve
    and the p-value returned by [`kendalltau`](#scipy.stats.kendalltau "scipy.stats.kendalltau").
    This is because our data has ties, and we have neglected a tie correction to the
    null distribution variance that [`kendalltau`](#scipy.stats.kendalltau "scipy.stats.kendalltau")
    performs. For samples without ties, the shaded areas of our plot and p-value returned
    by [`kendalltau`](#scipy.stats.kendalltau "scipy.stats.kendalltau") would match
    exactly.
  prefs: []
  type: TYPE_NORMAL
- en: 'If the p-value is “small” - that is, if there is a low probability of sampling
    data from independent distributions that produces such an extreme value of the
    statistic - this may be taken as evidence against the null hypothesis in favor
    of the alternative: the distribution of total collagen and free proline are *not*
    independent. Note that:'
  prefs: []
  type: TYPE_NORMAL
- en: The inverse is not true; that is, the test is not used to provide evidence for
    the null hypothesis.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The threshold for values that will be considered “small” is a choice that should
    be made before the data is analyzed [[8]](#r4cd1899fa369-8) with consideration
    of the risks of both false positives (incorrectly rejecting the null hypothesis)
    and false negatives (failure to reject a false null hypothesis).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Small p-values are not evidence for a *large* effect; rather, they can only
    provide evidence for a “significant” effect, meaning that they are unlikely to
    have occurred under the null hypothesis.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'For samples without ties of moderate size, [`kendalltau`](#scipy.stats.kendalltau
    "scipy.stats.kendalltau") can compute the p-value exactly. However, in the presence
    of ties, [`kendalltau`](#scipy.stats.kendalltau "scipy.stats.kendalltau") resorts
    to an asymptotic approximation. Nonetheles, we can use a permutation test to compute
    the null distribution exactly: Under the null hypothesis that total collagen and
    free proline are independent, each of the free proline measurements were equally
    likely to have been observed with any of the total collagen measurements. Therefore,
    we can form an *exact* null distribution by calculating the statistic under each
    possible pairing of elements between `x` and `y`.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: '![../../_images/scipy-stats-kendalltau-1_02_00.png](../Images/e96056f39d84daaebc647a6c8ddd279b.png)'
  prefs: []
  type: TYPE_IMG
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: Note that there is significant disagreement between the exact p-value calculated
    here and the approximation returned by [`kendalltau`](#scipy.stats.kendalltau
    "scipy.stats.kendalltau") above. For small samples with ties, consider performing
    a permutation test for more accurate results.
  prefs: []
  type: TYPE_NORMAL
