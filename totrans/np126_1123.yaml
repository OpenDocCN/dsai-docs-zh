- en: NumPy 1.21.1 Release Notes
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://numpy.org/doc/1.26/release/1.21.1-notes.html](https://numpy.org/doc/1.26/release/1.21.1-notes.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The NumPy 1.21.1 is maintenance release that fixes bugs discovered after the
    1.21.0 release and updates OpenBLAS to v0.3.17 to deal with problems on arm64.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: The Python versions supported for this release are 3.7-3.9\. The 1.21.x series
    is compatible with development Python 3.10\. Python 3.10 will be officially supported
    after it is released.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: Warning
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
- en: There are unresolved problems compiling NumPy 1.20.0 with gcc-11.1.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
- en: Optimization level *-O3* results in many incorrect warnings when running the
    tests.
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: On some hardware NumPY will hang in an infinite loop.
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Contributors
  id: totrans-8
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A total of 11 people contributed to this release. People with a “+” by their
    names contributed a patch for the first time.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: Bas van Beek
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Charles Harris
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Ganesh Kathiresan
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Gregory R. Lee
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Hugo Defois +
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Kevin Sheppard
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matti Picus
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Ralf Gommers
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sayed Adel
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sebastian Berg
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thomas J. Fan
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pull requests merged
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A total of 26 pull requests were merged for this release.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: '[#19311](https://github.com/numpy/numpy/pull/19311): REV,BUG: Replace `NotImplemented`
    with `typing.Any`'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19324](https://github.com/numpy/numpy/pull/19324): MAINT: Fixed the return-dtype
    of `ndarray.real` and `imag`'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19330](https://github.com/numpy/numpy/pull/19330): MAINT: Replace `"dtype[Any]"`
    with `dtype` in the definiton of…'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19342](https://github.com/numpy/numpy/pull/19342): DOC: Fix some docstrings
    that crash pdf generation.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19343](https://github.com/numpy/numpy/pull/19343): MAINT: bump scipy-mathjax'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19347](https://github.com/numpy/numpy/pull/19347): BUG: Fix arr.flat.index
    for large arrays and big-endian machines'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19348](https://github.com/numpy/numpy/pull/19348): ENH: add `numpy.f2py.get_include`
    function'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19349](https://github.com/numpy/numpy/pull/19349): BUG: Fix reference count
    leak in ufunc dtype handling'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19350](https://github.com/numpy/numpy/pull/19350): MAINT: Annotate missing
    attributes of `np.number` subclasses'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19351](https://github.com/numpy/numpy/pull/19351): BUG: Fix cast safety and
    comparisons for zero sized voids'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19352](https://github.com/numpy/numpy/pull/19352): BUG: Correct Cython declaration
    in random'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19353](https://github.com/numpy/numpy/pull/19353): BUG: protect against accessing
    base attribute of a NULL subarray'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19365](https://github.com/numpy/numpy/pull/19365): BUG, SIMD: Fix detecting
    AVX512 features on Darwin'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19366](https://github.com/numpy/numpy/pull/19366): MAINT: remove `print()`’s
    in distutils template handling'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19390](https://github.com/numpy/numpy/pull/19390): ENH: SIMD architectures
    to show_config'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19391](https://github.com/numpy/numpy/pull/19391): BUG: Do not raise deprecation
    warning for all nans in unique…'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19392](https://github.com/numpy/numpy/pull/19392): BUG: Fix NULL special
    case in object-to-any cast code'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19430](https://github.com/numpy/numpy/pull/19430): MAINT: Use arm64-graviton2
    for testing on travis'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19495](https://github.com/numpy/numpy/pull/19495): BUILD: update OpenBLAS
    to v0.3.17'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19496](https://github.com/numpy/numpy/pull/19496): MAINT: Avoid unicode characters
    in division SIMD code comments'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19499](https://github.com/numpy/numpy/pull/19499): BUG, SIMD: Fix infinite
    loop during count non-zero on GCC-11'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19500](https://github.com/numpy/numpy/pull/19500): BUG: fix a numpy.npiter
    leak in npyiter_multi_index_set'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19501](https://github.com/numpy/numpy/pull/19501): TST: Fix a `GenericAlias`
    test failure for python 3.9.0'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19502](https://github.com/numpy/numpy/pull/19502): MAINT: Start testing with
    Python 3.10.0b3.'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19503](https://github.com/numpy/numpy/pull/19503): MAINT: Add missing dtype
    overloads for object- and ctypes-based…'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19510](https://github.com/numpy/numpy/pull/19510): REL: Prepare for NumPy
    1.21.1 release.'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Contributors
  id: totrans-49
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A total of 11 people contributed to this release. People with a “+” by their
    names contributed a patch for the first time.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
- en: Bas van Beek
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Charles Harris
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Ganesh Kathiresan
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Gregory R. Lee
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Hugo Defois +
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Kevin Sheppard
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matti Picus
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Ralf Gommers
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sayed Adel
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sebastian Berg
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thomas J. Fan
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pull requests merged
  id: totrans-62
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A total of 26 pull requests were merged for this release.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
- en: '[#19311](https://github.com/numpy/numpy/pull/19311): REV,BUG: Replace `NotImplemented`
    with `typing.Any`'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19324](https://github.com/numpy/numpy/pull/19324): MAINT: Fixed the return-dtype
    of `ndarray.real` and `imag`'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19330](https://github.com/numpy/numpy/pull/19330): MAINT: Replace `"dtype[Any]"`
    with `dtype` in the definiton of…'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19342](https://github.com/numpy/numpy/pull/19342): DOC: Fix some docstrings
    that crash pdf generation.'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19343](https://github.com/numpy/numpy/pull/19343): MAINT: bump scipy-mathjax'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19347](https://github.com/numpy/numpy/pull/19347): BUG: Fix arr.flat.index
    for large arrays and big-endian machines'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19348](https://github.com/numpy/numpy/pull/19348): ENH: add `numpy.f2py.get_include`
    function'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19349](https://github.com/numpy/numpy/pull/19349): BUG: Fix reference count
    leak in ufunc dtype handling'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19350](https://github.com/numpy/numpy/pull/19350): MAINT: Annotate missing
    attributes of `np.number` subclasses'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19351](https://github.com/numpy/numpy/pull/19351): BUG: Fix cast safety and
    comparisons for zero sized voids'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19352](https://github.com/numpy/numpy/pull/19352): BUG: Correct Cython declaration
    in random'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19353](https://github.com/numpy/numpy/pull/19353): BUG: protect against accessing
    base attribute of a NULL subarray'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19365](https://github.com/numpy/numpy/pull/19365): BUG, SIMD: Fix detecting
    AVX512 features on Darwin'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19366](https://github.com/numpy/numpy/pull/19366): MAINT: remove `print()`’s
    in distutils template handling'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19390](https://github.com/numpy/numpy/pull/19390): ENH: SIMD architectures
    to show_config'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19391](https://github.com/numpy/numpy/pull/19391): BUG: Do not raise deprecation
    warning for all nans in unique…'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19392](https://github.com/numpy/numpy/pull/19392): BUG: Fix NULL special
    case in object-to-any cast code'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[#19392](https://github.com/numpy/numpy/pull/19392): BUG：修复了对象到任何类型转换代码中的 NULL
    特殊情况'
- en: '[#19430](https://github.com/numpy/numpy/pull/19430): MAINT: Use arm64-graviton2
    for testing on travis'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[#19430](https://github.com/numpy/numpy/pull/19430): MAINT：在 travis 上使用 arm64-graviton2
    进行测试'
- en: '[#19495](https://github.com/numpy/numpy/pull/19495): BUILD: update OpenBLAS
    to v0.3.17'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[#19495](https://github.com/numpy/numpy/pull/19495): BUILD：将 OpenBLAS 更新至 v0.3.17'
- en: '[#19496](https://github.com/numpy/numpy/pull/19496): MAINT: Avoid unicode characters
    in division SIMD code comments'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[#19496](https://github.com/numpy/numpy/pull/19496): MAINT：避免在 SIMD 代码注释中使用
    Unicode 字符'
- en: '[#19499](https://github.com/numpy/numpy/pull/19499): BUG, SIMD: Fix infinite
    loop during count non-zero on GCC-11'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[#19499](https://github.com/numpy/numpy/pull/19499): BUG, SIMD：修复了 GCC-11 上对非零计数时的无限循环问题'
- en: '[#19500](https://github.com/numpy/numpy/pull/19500): BUG: fix a numpy.npiter
    leak in npyiter_multi_index_set'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[#19500](https://github.com/numpy/numpy/pull/19500): BUG：修复了 numpy.npiter 在
    npyiter_multi_index_set 中的内存泄漏问题'
- en: '[#19501](https://github.com/numpy/numpy/pull/19501): TST: Fix a `GenericAlias`
    test failure for python 3.9.0'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[#19501](https://github.com/numpy/numpy/pull/19501): TST：修复了 Python 3.9.0 的
    `GenericAlias` 测试失败问题'
- en: '[#19502](https://github.com/numpy/numpy/pull/19502): MAINT: Start testing with
    Python 3.10.0b3.'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[#19502](https://github.com/numpy/numpy/pull/19502): MAINT：开始使用 Python 3.10.0b3
    进行测试。'
- en: '[#19503](https://github.com/numpy/numpy/pull/19503): MAINT: Add missing dtype
    overloads for object- and ctypes-based…'
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[#19503](https://github.com/numpy/numpy/pull/19503): MAINT：为基于对象和 ctypes 的遗漏
    dtype 进行补充...'
- en: '[#19510](https://github.com/numpy/numpy/pull/19510): REL: Prepare for NumPy
    1.21.1 release.'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[#19510](https://github.com/numpy/numpy/pull/19510): REL：为 NumPy 1.21.1 版本做好准备。'
