- en: scipy.stats.weightedtau
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.weightedtau.html#scipy.stats.weightedtau](https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.weightedtau.html#scipy.stats.weightedtau)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Compute a weighted version of Kendall’s \(\tau\).
  prefs: []
  type: TYPE_NORMAL
- en: The weighted \(\tau\) is a weighted version of Kendall’s \(\tau\) in which exchanges
    of high weight are more influential than exchanges of low weight. The default
    parameters compute the additive hyperbolic version of the index, \(\tau_\mathrm
    h\), which has been shown to provide the best balance between important and unimportant
    elements [[1]](#r9c7695fdc6ad-1).
  prefs: []
  type: TYPE_NORMAL
- en: 'The weighting is defined by means of a rank array, which assigns a nonnegative
    rank to each element (higher importance ranks being associated with smaller values,
    e.g., 0 is the highest possible rank), and a weigher function, which assigns a
    weight based on the rank to each element. The weight of an exchange is then the
    sum or the product of the weights of the ranks of the exchanged elements. The
    default parameters compute \(\tau_\mathrm h\): an exchange between elements with
    rank \(r\) and \(s\) (starting from zero) has weight \(1/(r+1) + 1/(s+1)\).'
  prefs: []
  type: TYPE_NORMAL
- en: Specifying a rank array is meaningful only if you have in mind an external criterion
    of importance. If, as it usually happens, you do not have in mind a specific rank,
    the weighted \(\tau\) is defined by averaging the values obtained using the decreasing
    lexicographical rank by (*x*, *y*) and by (*y*, *x*). This is the behavior with
    default parameters. Note that the convention used here for ranking (lower values
    imply higher importance) is opposite to that used by other SciPy statistical functions.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**x, y**array_like'
  prefs: []
  type: TYPE_NORMAL
- en: Arrays of scores, of the same shape. If arrays are not 1-D, they will be flattened
    to 1-D.
  prefs: []
  type: TYPE_NORMAL
- en: '**rank**array_like of ints or bool, optional'
  prefs: []
  type: TYPE_NORMAL
- en: 'A nonnegative rank assigned to each element. If it is None, the decreasing
    lexicographical rank by (*x*, *y*) will be used: elements of higher rank will
    be those with larger *x*-values, using *y*-values to break ties (in particular,
    swapping *x* and *y* will give a different result). If it is False, the element
    indices will be used directly as ranks. The default is True, in which case this
    function returns the average of the values obtained using the decreasing lexicographical
    rank by (*x*, *y*) and by (*y*, *x*).'
  prefs: []
  type: TYPE_NORMAL
- en: '**weigher**callable, optional'
  prefs: []
  type: TYPE_NORMAL
- en: The weigher function. Must map nonnegative integers (zero representing the most
    important element) to a nonnegative weight. The default, None, provides hyperbolic
    weighing, that is, rank \(r\) is mapped to weight \(1/(r+1)\).
  prefs: []
  type: TYPE_NORMAL
- en: '**additive**bool, optional'
  prefs: []
  type: TYPE_NORMAL
- en: If True, the weight of an exchange is computed by adding the weights of the
    ranks of the exchanged elements; otherwise, the weights are multiplied. The default
    is True.
  prefs: []
  type: TYPE_NORMAL
- en: 'Returns:'
  prefs: []
  type: TYPE_NORMAL
- en: 'res: SignificanceResult'
  prefs: []
  type: TYPE_NORMAL
- en: 'An object containing attributes:'
  prefs: []
  type: TYPE_NORMAL
- en: statisticfloat
  prefs: []
  type: TYPE_NORMAL
- en: The weighted \(\tau\) correlation index.
  prefs: []
  type: TYPE_NORMAL
- en: pvaluefloat
  prefs: []
  type: TYPE_NORMAL
- en: Presently `np.nan`, as the null distribution of the statistic is unknown (even
    in the additive hyperbolic case).
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs: []
  type: TYPE_NORMAL
- en: '[`kendalltau`](scipy.stats.kendalltau.html#scipy.stats.kendalltau "scipy.stats.kendalltau")'
  prefs: []
  type: TYPE_NORMAL
- en: Calculates Kendall’s tau.
  prefs: []
  type: TYPE_NORMAL
- en: '[`spearmanr`](scipy.stats.spearmanr.html#scipy.stats.spearmanr "scipy.stats.spearmanr")'
  prefs: []
  type: TYPE_NORMAL
- en: Calculates a Spearman rank-order correlation coefficient.
  prefs: []
  type: TYPE_NORMAL
- en: '[`theilslopes`](scipy.stats.theilslopes.html#scipy.stats.theilslopes "scipy.stats.theilslopes")'
  prefs: []
  type: TYPE_NORMAL
- en: Computes the Theil-Sen estimator for a set of points (x, y).
  prefs: []
  type: TYPE_NORMAL
- en: Notes
  prefs: []
  type: TYPE_NORMAL
- en: This function uses an \(O(n \log n)\), mergesort-based algorithm [[1]](#r9c7695fdc6ad-1)
    that is a weighted extension of Knight’s algorithm for Kendall’s \(\tau\) [[2]](#r9c7695fdc6ad-2).
    It can compute Shieh’s weighted \(\tau\) [[3]](#r9c7695fdc6ad-3) between rankings
    without ties (i.e., permutations) by setting *additive* and *rank* to False, as
    the definition given in [[1]](#r9c7695fdc6ad-1) is a generalization of Shieh’s.
  prefs: []
  type: TYPE_NORMAL
- en: NaNs are considered the smallest possible score.
  prefs: []
  type: TYPE_NORMAL
- en: New in version 0.19.0.
  prefs: []
  type: TYPE_NORMAL
- en: References
  prefs: []
  type: TYPE_NORMAL
- en: '[1] ([1](#id1),[2](#id2),[3](#id5))'
  prefs: []
  type: TYPE_NORMAL
- en: Sebastiano Vigna, “A weighted correlation index for rankings with ties”, Proceedings
    of the 24th international conference on World Wide Web, pp. 1166-1176, ACM, 2015.
  prefs: []
  type: TYPE_NORMAL
- en: '[[2](#id3)]'
  prefs: []
  type: TYPE_NORMAL
- en: W.R. Knight, “A Computer Method for Calculating Kendall’s Tau with Ungrouped
    Data”, Journal of the American Statistical Association, Vol. 61, No. 314, Part
    1, pp. 436-439, 1966.
  prefs: []
  type: TYPE_NORMAL
- en: '[[3](#id4)]'
  prefs: []
  type: TYPE_NORMAL
- en: Grace S. Shieh. “A weighted Kendall’s tau statistic”, Statistics & Probability
    Letters, Vol. 39, No. 1, pp. 17-24, 1998.
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'NaNs are considered the smallest possible score:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'This is exactly Kendall’s tau:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
