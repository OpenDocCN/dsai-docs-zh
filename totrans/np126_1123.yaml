- en: NumPy 1.21.1 Release Notes
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://numpy.org/doc/1.26/release/1.21.1-notes.html](https://numpy.org/doc/1.26/release/1.21.1-notes.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The NumPy 1.21.1 is maintenance release that fixes bugs discovered after the
    1.21.0 release and updates OpenBLAS to v0.3.17 to deal with problems on arm64.
  prefs: []
  type: TYPE_NORMAL
- en: The Python versions supported for this release are 3.7-3.9\. The 1.21.x series
    is compatible with development Python 3.10\. Python 3.10 will be officially supported
    after it is released.
  prefs: []
  type: TYPE_NORMAL
- en: Warning
  prefs: []
  type: TYPE_NORMAL
- en: There are unresolved problems compiling NumPy 1.20.0 with gcc-11.1.
  prefs: []
  type: TYPE_NORMAL
- en: Optimization level *-O3* results in many incorrect warnings when running the
    tests.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: On some hardware NumPY will hang in an infinite loop.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Contributors
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A total of 11 people contributed to this release. People with a “+” by their
    names contributed a patch for the first time.
  prefs: []
  type: TYPE_NORMAL
- en: Bas van Beek
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Charles Harris
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Ganesh Kathiresan
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Gregory R. Lee
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Hugo Defois +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Kevin Sheppard
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matti Picus
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Ralf Gommers
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sayed Adel
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sebastian Berg
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thomas J. Fan
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pull requests merged
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A total of 26 pull requests were merged for this release.
  prefs: []
  type: TYPE_NORMAL
- en: '[#19311](https://github.com/numpy/numpy/pull/19311): REV,BUG: Replace `NotImplemented`
    with `typing.Any`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19324](https://github.com/numpy/numpy/pull/19324): MAINT: Fixed the return-dtype
    of `ndarray.real` and `imag`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19330](https://github.com/numpy/numpy/pull/19330): MAINT: Replace `"dtype[Any]"`
    with `dtype` in the definiton of…'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19342](https://github.com/numpy/numpy/pull/19342): DOC: Fix some docstrings
    that crash pdf generation.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19343](https://github.com/numpy/numpy/pull/19343): MAINT: bump scipy-mathjax'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19347](https://github.com/numpy/numpy/pull/19347): BUG: Fix arr.flat.index
    for large arrays and big-endian machines'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19348](https://github.com/numpy/numpy/pull/19348): ENH: add `numpy.f2py.get_include`
    function'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19349](https://github.com/numpy/numpy/pull/19349): BUG: Fix reference count
    leak in ufunc dtype handling'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19350](https://github.com/numpy/numpy/pull/19350): MAINT: Annotate missing
    attributes of `np.number` subclasses'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19351](https://github.com/numpy/numpy/pull/19351): BUG: Fix cast safety and
    comparisons for zero sized voids'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19352](https://github.com/numpy/numpy/pull/19352): BUG: Correct Cython declaration
    in random'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19353](https://github.com/numpy/numpy/pull/19353): BUG: protect against accessing
    base attribute of a NULL subarray'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19365](https://github.com/numpy/numpy/pull/19365): BUG, SIMD: Fix detecting
    AVX512 features on Darwin'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19366](https://github.com/numpy/numpy/pull/19366): MAINT: remove `print()`’s
    in distutils template handling'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19390](https://github.com/numpy/numpy/pull/19390): ENH: SIMD architectures
    to show_config'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19391](https://github.com/numpy/numpy/pull/19391): BUG: Do not raise deprecation
    warning for all nans in unique…'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19392](https://github.com/numpy/numpy/pull/19392): BUG: Fix NULL special
    case in object-to-any cast code'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19430](https://github.com/numpy/numpy/pull/19430): MAINT: Use arm64-graviton2
    for testing on travis'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19495](https://github.com/numpy/numpy/pull/19495): BUILD: update OpenBLAS
    to v0.3.17'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19496](https://github.com/numpy/numpy/pull/19496): MAINT: Avoid unicode characters
    in division SIMD code comments'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19499](https://github.com/numpy/numpy/pull/19499): BUG, SIMD: Fix infinite
    loop during count non-zero on GCC-11'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19500](https://github.com/numpy/numpy/pull/19500): BUG: fix a numpy.npiter
    leak in npyiter_multi_index_set'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19501](https://github.com/numpy/numpy/pull/19501): TST: Fix a `GenericAlias`
    test failure for python 3.9.0'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19502](https://github.com/numpy/numpy/pull/19502): MAINT: Start testing with
    Python 3.10.0b3.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19503](https://github.com/numpy/numpy/pull/19503): MAINT: Add missing dtype
    overloads for object- and ctypes-based…'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19510](https://github.com/numpy/numpy/pull/19510): REL: Prepare for NumPy
    1.21.1 release.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Contributors
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A total of 11 people contributed to this release. People with a “+” by their
    names contributed a patch for the first time.
  prefs: []
  type: TYPE_NORMAL
- en: Bas van Beek
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Charles Harris
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Ganesh Kathiresan
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Gregory R. Lee
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Hugo Defois +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Kevin Sheppard
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matti Picus
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Ralf Gommers
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sayed Adel
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sebastian Berg
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thomas J. Fan
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pull requests merged
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A total of 26 pull requests were merged for this release.
  prefs: []
  type: TYPE_NORMAL
- en: '[#19311](https://github.com/numpy/numpy/pull/19311): REV,BUG: Replace `NotImplemented`
    with `typing.Any`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19324](https://github.com/numpy/numpy/pull/19324): MAINT: Fixed the return-dtype
    of `ndarray.real` and `imag`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19330](https://github.com/numpy/numpy/pull/19330): MAINT: Replace `"dtype[Any]"`
    with `dtype` in the definiton of…'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19342](https://github.com/numpy/numpy/pull/19342): DOC: Fix some docstrings
    that crash pdf generation.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19343](https://github.com/numpy/numpy/pull/19343): MAINT: bump scipy-mathjax'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19347](https://github.com/numpy/numpy/pull/19347): BUG: Fix arr.flat.index
    for large arrays and big-endian machines'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19348](https://github.com/numpy/numpy/pull/19348): ENH: add `numpy.f2py.get_include`
    function'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19349](https://github.com/numpy/numpy/pull/19349): BUG: Fix reference count
    leak in ufunc dtype handling'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19350](https://github.com/numpy/numpy/pull/19350): MAINT: Annotate missing
    attributes of `np.number` subclasses'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19351](https://github.com/numpy/numpy/pull/19351): BUG: Fix cast safety and
    comparisons for zero sized voids'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19352](https://github.com/numpy/numpy/pull/19352): BUG: Correct Cython declaration
    in random'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19353](https://github.com/numpy/numpy/pull/19353): BUG: protect against accessing
    base attribute of a NULL subarray'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19365](https://github.com/numpy/numpy/pull/19365): BUG, SIMD: Fix detecting
    AVX512 features on Darwin'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19366](https://github.com/numpy/numpy/pull/19366): MAINT: remove `print()`’s
    in distutils template handling'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19390](https://github.com/numpy/numpy/pull/19390): ENH: SIMD architectures
    to show_config'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19391](https://github.com/numpy/numpy/pull/19391): BUG: Do not raise deprecation
    warning for all nans in unique…'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19392](https://github.com/numpy/numpy/pull/19392): BUG: Fix NULL special
    case in object-to-any cast code'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19430](https://github.com/numpy/numpy/pull/19430): MAINT: Use arm64-graviton2
    for testing on travis'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19495](https://github.com/numpy/numpy/pull/19495): BUILD: update OpenBLAS
    to v0.3.17'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19496](https://github.com/numpy/numpy/pull/19496): MAINT: Avoid unicode characters
    in division SIMD code comments'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19499](https://github.com/numpy/numpy/pull/19499): BUG, SIMD: Fix infinite
    loop during count non-zero on GCC-11'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19500](https://github.com/numpy/numpy/pull/19500): BUG: fix a numpy.npiter
    leak in npyiter_multi_index_set'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19501](https://github.com/numpy/numpy/pull/19501): TST: Fix a `GenericAlias`
    test failure for python 3.9.0'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19502](https://github.com/numpy/numpy/pull/19502): MAINT: Start testing with
    Python 3.10.0b3.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19503](https://github.com/numpy/numpy/pull/19503): MAINT: Add missing dtype
    overloads for object- and ctypes-based…'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[#19510](https://github.com/numpy/numpy/pull/19510): REL: Prepare for NumPy
    1.21.1 release.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
