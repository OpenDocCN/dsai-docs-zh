- en: What’s new in 0.23.0 (May 15, 2018)
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 0.23.0 版本新特性（2018年5月15日）
- en: 原文：[https://pandas.pydata.org/docs/whatsnew/v0.23.0.html](https://pandas.pydata.org/docs/whatsnew/v0.23.0.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://pandas.pydata.org/docs/whatsnew/v0.23.0.html](https://pandas.pydata.org/docs/whatsnew/v0.23.0.html)
- en: This is a major release from 0.22.0 and includes a number of API changes, deprecations,
    new features, enhancements, and performance improvements along with a large number
    of bug fixes. We recommend that all users upgrade to this version.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 这是从 0.22.0 版本开始的一个重要发布，包括一些 API 变更、弃用功能、新功能、增强功能和性能改进，以及大量的错误修复。我们建议所有用户升级到此版本。
- en: 'Highlights include:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 主要亮点包括：
- en: '[Round-trippable JSON format with ‘table’ orient](#whatsnew-0230-enhancements-round-trippable-json).'
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[具有 ''table'' 方向的可循环 JSON 格式](#whatsnew-0230-enhancements-round-trippable-json)。'
- en: '[Instantiation from dicts respects order for Python 3.6+](#whatsnew-0230-api-breaking-dict-insertion-order).'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[从字典实例化时尊重 Python 3.6+ 的顺序](#whatsnew-0230-api-breaking-dict-insertion-order)。'
- en: '[Dependent column arguments for assign](#whatsnew-0230-enhancements-assign-dependent).'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[为 `assign` 提供依赖列参数](#whatsnew-0230-enhancements-assign-dependent)。'
- en: '[Merging / sorting on a combination of columns and index levels](#whatsnew-0230-enhancements-merge-on-columns-and-levels).'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[在列和索引级别的组合上进行合并/排序](#whatsnew-0230-enhancements-merge-on-columns-and-levels)。'
- en: '[Extending pandas with custom types](#whatsnew-023-enhancements-extension).'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[使用自定义类型扩展 pandas](#whatsnew-023-enhancements-extension)。'
- en: '[Excluding unobserved categories from groupby](#whatsnew-0230-enhancements-categorical-grouping).'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[从 groupby 中排除未观察到的类别](#whatsnew-0230-enhancements-categorical-grouping)。'
- en: '[Changes to make output shape of DataFrame.apply consistent](#whatsnew-0230-api-breaking-apply).'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[更改以使 DataFrame.apply 的输出形状一致](#whatsnew-0230-api-breaking-apply)。'
- en: Check the [API Changes](#whatsnew-0230-api-breaking) and [deprecations](#whatsnew-0230-deprecations)
    before updating.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在更新前请查看 [API 变更](#whatsnew-0230-api-breaking) 和 [弃用功能](#whatsnew-0230-deprecations)。
- en: Warning
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: Starting January 1, 2019, pandas feature releases will support Python 3 only.
    See [Dropping Python 2.7](https://pandas.pydata.org/pandas-docs/version/0.24/install.html#install-dropping-27)
    for more.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 从2019年1月1日开始，pandas 功能发布将仅支持 Python 3。有关更多信息，请参见 [放弃 Python 2.7](https://pandas.pydata.org/pandas-docs/version/0.24/install.html#install-dropping-27)。
- en: What’s new in v0.23.0
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 0.23.0 版本新特性
- en: '[New features](#new-features)'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[新特性](#new-features)'
- en: '[JSON read/write round-trippable with `orient=''table''`](#json-read-write-round-trippable-with-orient-table)'
  id: totrans-16
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[JSON 读写与 `orient=''table''` 一致](#json-read-write-round-trippable-with-orient-table)'
- en: '[Method `.assign()` accepts dependent arguments](#method-assign-accepts-dependent-arguments)'
  id: totrans-17
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[方法 `.assign()` 接受依赖参数](#method-assign-accepts-dependent-arguments)'
- en: '[Merging on a combination of columns and index levels](#merging-on-a-combination-of-columns-and-index-levels)'
  id: totrans-18
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[在列和索引级别的组合上进行合并](#merging-on-a-combination-of-columns-and-index-levels)'
- en: '[Sorting by a combination of columns and index levels](#sorting-by-a-combination-of-columns-and-index-levels)'
  id: totrans-19
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[按列和索引级别的组合排序](#sorting-by-a-combination-of-columns-and-index-levels)'
- en: '[Extending pandas with custom types (experimental)](#extending-pandas-with-custom-types-experimental)'
  id: totrans-20
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[使用自定义类型扩展 pandas（实验性）](#extending-pandas-with-custom-types-experimental)'
- en: '[New `observed` keyword for excluding unobserved categories in `GroupBy`](#new-observed-keyword-for-excluding-unobserved-categories-in-groupby)'
  id: totrans-21
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[在`GroupBy`中排除未观察到的类别的新关键字](#new-observed-keyword-for-excluding-unobserved-categories-in-groupby)'
- en: '[Rolling/Expanding.apply() accepts `raw=False` to pass a `Series` to the function](#rolling-expanding-apply-accepts-raw-false-to-pass-a-series-to-the-function)'
  id: totrans-22
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[滚动/扩展应用程序() 接受 `raw=False` 以将 `Series` 传递给函数](#rolling-expanding-apply-accepts-raw-false-to-pass-a-series-to-the-function)'
- en: '[`DataFrame.interpolate` has gained the `limit_area` kwarg](#dataframe-interpolate-has-gained-the-limit-area-kwarg)'
  id: totrans-23
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.interpolate` 现已获得 `limit_area` kwarg](#dataframe-interpolate-has-gained-the-limit-area-kwarg)'
- en: '[Function `get_dummies` now supports `dtype` argument](#function-get-dummies-now-supports-dtype-argument)'
  id: totrans-24
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`get_dummies` 函数现在支持 `dtype` 参数](#function-get-dummies-now-supports-dtype-argument)'
- en: '[Timedelta mod method](#timedelta-mod-method)'
  id: totrans-25
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[时间增量模块方法](#timedelta-mod-method)'
- en: '[Method `.rank()` handles `inf` values when `NaN` are present](#method-rank-handles-inf-values-when-nan-are-present)'
  id: totrans-26
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[当存在 `NaN` 时，方法 `.rank()` 处理 `inf` 值](#method-rank-handles-inf-values-when-nan-are-present)'
- en: '[`Series.str.cat` has gained the `join` kwarg](#series-str-cat-has-gained-the-join-kwarg)'
  id: totrans-27
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.cat` 现已获得 `join` kwarg](#series-str-cat-has-gained-the-join-kwarg)'
- en: '[`DataFrame.astype` performs column-wise conversion to `Categorical`](#dataframe-astype-performs-column-wise-conversion-to-categorical)'
  id: totrans-28
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.astype` 执行列-wise 转换到 `Categorical`](#dataframe-astype-performs-column-wise-conversion-to-categorical)'
- en: '[Other enhancements](#other-enhancements)'
  id: totrans-29
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[其他增强](#other-enhancements)'
- en: '[Backwards incompatible API changes](#backwards-incompatible-api-changes)'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[不兼容的 API 更改](#backwards-incompatible-api-changes)'
- en: '[Dependencies have increased minimum versions](#dependencies-have-increased-minimum-versions)'
  id: totrans-31
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[依赖项已增加最低版本要求](#dependencies-have-increased-minimum-versions)'
- en: '[Instantiation from dicts preserves dict insertion order for Python 3.6+](#instantiation-from-dicts-preserves-dict-insertion-order-for-python-3-6)'
  id: totrans-32
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[从字典实例化保留字典插入顺序，适用于 Python 3.6+](#instantiation-from-dicts-preserves-dict-insertion-order-for-python-3-6)'
- en: '[Deprecate Panel](#deprecate-panel)'
  id: totrans-33
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[弃用 Panel](#deprecate-panel)'
- en: '[pandas.core.common removals](#pandas-core-common-removals)'
  id: totrans-34
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[pandas.core.common 移除](#pandas-core-common-removals)'
- en: '[Changes to make output of `DataFrame.apply` consistent](#changes-to-make-output-of-dataframe-apply-consistent)'
  id: totrans-35
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[更改以使 `DataFrame.apply` 的输出一致](#changes-to-make-output-of-dataframe-apply-consistent)'
- en: '[Concatenation will no longer sort](#concatenation-will-no-longer-sort)'
  id: totrans-36
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[连接将不再排序](#concatenation-will-no-longer-sort)'
- en: '[Build changes](#build-changes)'
  id: totrans-37
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[构建更改](#build-changes)'
- en: '[Index division by zero fills correctly](#index-division-by-zero-fills-correctly)'
  id: totrans-38
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[索引除零填充正确](#index-division-by-zero-fills-correctly)'
- en: '[Extraction of matching patterns from strings](#extraction-of-matching-patterns-from-strings)'
  id: totrans-39
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[从字符串中提取匹配模式](#extraction-of-matching-patterns-from-strings)'
- en: '[Default value for the `ordered` parameter of `CategoricalDtype`](#default-value-for-the-ordered-parameter-of-categoricaldtype)'
  id: totrans-40
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`CategoricalDtype` 的 `ordered` 参数的默认值](#default-value-for-the-ordered-parameter-of-categoricaldtype)'
- en: '[Better pretty-printing of DataFrames in a terminal](#better-pretty-printing-of-dataframes-in-a-terminal)'
  id: totrans-41
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[在终端中更好地打印 DataFrame](#better-pretty-printing-of-dataframes-in-a-terminal)'
- en: '[Datetimelike API changes](#datetimelike-api-changes)'
  id: totrans-42
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[日期时间 API 更改](#datetimelike-api-changes)'
- en: '[Other API changes](#other-api-changes)'
  id: totrans-43
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[其他 API 更改](#other-api-changes)'
- en: '[Deprecations](#deprecations)'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[弃用](#deprecations)'
- en: '[Removal of prior version deprecations/changes](#removal-of-prior-version-deprecations-changes)'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[删除先前版本的弃用/更改](#removal-of-prior-version-deprecations-changes)'
- en: '[Performance improvements](#performance-improvements)'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[性能改进](#performance-improvements)'
- en: '[Documentation changes](#documentation-changes)'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[文档更改](#documentation-changes)'
- en: '[Bug fixes](#bug-fixes)'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[错误修复](#bug-fixes)'
- en: '[Categorical](#categorical)'
  id: totrans-49
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[分类](#categorical)'
- en: '[Datetimelike](#datetimelike)'
  id: totrans-50
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[日期时间](#datetimelike)'
- en: '[Timedelta](#timedelta)'
  id: totrans-51
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[时间增量](#timedelta)'
- en: '[Timezones](#timezones)'
  id: totrans-52
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[时区](#timezones)'
- en: '[Offsets](#offsets)'
  id: totrans-53
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[偏移](#offsets)'
- en: '[Numeric](#numeric)'
  id: totrans-54
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[数值](#numeric)'
- en: '[Strings](#strings)'
  id: totrans-55
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[字符串](#strings)'
- en: '[Indexing](#indexing)'
  id: totrans-56
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[索引](#indexing)'
- en: '[MultiIndex](#multiindex)'
  id: totrans-57
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[多重索引](#multiindex)'
- en: '[IO](#io)'
  id: totrans-58
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[IO](#io)'
- en: '[Plotting](#plotting)'
  id: totrans-59
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[绘图](#plotting)'
- en: '[GroupBy/resample/rolling](#groupby-resample-rolling)'
  id: totrans-60
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[GroupBy/resample/rolling](#groupby-resample-rolling)'
- en: '[Sparse](#sparse)'
  id: totrans-61
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[稀疏](#sparse)'
- en: '[Reshaping](#reshaping)'
  id: totrans-62
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[重塑](#reshaping)'
- en: '[Other](#other)'
  id: totrans-63
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[其他](#other)'
- en: '[Contributors](#contributors)'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[贡献者](#contributors)'
- en: '## New features'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '## 新功能'
- en: '### JSON read/write round-trippable with `orient=''table''`'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '### 使用 `orient=''table''` 可以进行 JSON 读写往返'
- en: A `DataFrame` can now be written to and subsequently read back via JSON while
    preserving metadata through usage of the `orient='table'` argument (see [GH 18912](https://github.com/pandas-dev/pandas/issues/18912)
    and [GH 9146](https://github.com/pandas-dev/pandas/issues/9146)). Previously,
    none of the available `orient` values guaranteed the preservation of dtypes and
    index names, amongst other metadata.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 通过使用 `orient='table'` 参数，现在可以将 `DataFrame` 写入 JSON 并随后读取，同时保留元数据（参见 [GH 18912](https://github.com/pandas-dev/pandas/issues/18912)
    和 [GH 9146](https://github.com/pandas-dev/pandas/issues/9146)）。以前，所有可用的 `orient`
    值都不能保证保留 dtypes 和索引名称等其他元数据。
- en: '[PRE0]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Please note that the string `index` is not supported with the round trip format,
    as it is used by default in `write_json` to indicate a missing index name.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，字符串 `index` 在往返格式中不受支持，因为它在 `write_json` 中默认用于指示缺少的索引名��。
- en: '[PRE1]  ### Method `.assign()` accepts dependent arguments'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE1]  ### 方法 `.assign()` 接受依赖参数'
- en: The [`DataFrame.assign()`](../reference/api/pandas.DataFrame.assign.html#pandas.DataFrame.assign
    "pandas.DataFrame.assign") now accepts dependent keyword arguments for python
    version later than 3.6 (see also [PEP 468](https://www.python.org/dev/peps/pep-0468/)).
    Later keyword arguments may now refer to earlier ones if the argument is a callable.
    See the [documentation here](../user_guide/dsintro.html#dsintro-chained-assignment)
    ([GH 14207](https://github.com/pandas-dev/pandas/issues/14207))
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.assign()`](../reference/api/pandas.DataFrame.assign.html#pandas.DataFrame.assign
    "pandas.DataFrame.assign") 现在接受依赖关键字参数，适用于 Python 版本高于 3.6（另请参阅 [PEP 468](https://www.python.org/dev/peps/pep-0468/)）。如果参数是可调用的，则后续关键字参数现在可以引用先前的关键字参数。请查看[此处的文档](../user_guide/dsintro.html#dsintro-chained-assignment)（[GH
    14207](https://github.com/pandas-dev/pandas/issues/14207)）'
- en: '[PRE2]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Warning
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: This may subtly change the behavior of your code when you’re using `.assign()`
    to update an existing column. Previously, callables referring to other variables
    being updated would get the “old” values
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 当您使用`.assign()`更新现有列时，这可能会微妙地改变代码的行为。以前，引用其他正在更新的变量的可调用函数会得到“旧”值
- en: 'Previous behavior:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE3]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'New behavior:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE4]  ### Merging on a combination of columns and index levels'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE4]  ### 按列和索引级别的组合合并'
- en: Strings passed to [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") as the `on`, `left_on`, and `right_on` parameters may
    now refer to either column names or index level names. This enables merging `DataFrame`
    instances on a combination of index levels and columns without resetting indexes.
    See the [Merge on columns and levels](../user_guide/merging.html#merging-merge-on-columns-and-levels)
    documentation section. ([GH 14355](https://github.com/pandas-dev/pandas/issues/14355))
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 字符串传递给[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")作为`on`、`left_on`和`right_on`参数，现在可以引用列名或索引级别名称。这使得可以在不重置索引的情况下，根据索引级别和列的组合合并`DataFrame`实例。请参阅[按列和级别合并](../user_guide/merging.html#merging-merge-on-columns-and-levels)文档部分。([GH
    14355](https://github.com/pandas-dev/pandas/issues/14355))
- en: '[PRE5]  ### Sorting by a combination of columns and index levels'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE5]  ### 按列和索引级别的组合排序'
- en: Strings passed to [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") as the `by` parameter may now refer to either
    column names or index level names. This enables sorting `DataFrame` instances
    by a combination of index levels and columns without resetting indexes. See the
    [Sorting by Indexes and Values](../user_guide/basics.html#basics-sort-indexes-and-values)
    documentation section. ([GH 14353](https://github.com/pandas-dev/pandas/issues/14353))
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 字符串传递给[`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values")作为`by`参数，现在可以引用列名或索引级别名称。这使得可以按照索引级别和列的组合对`DataFrame`实例进行排序，而无需重置索引。请参阅[按索引和值排序](../user_guide/basics.html#basics-sort-indexes-and-values)文档部分。([GH
    14353](https://github.com/pandas-dev/pandas/issues/14353))
- en: '[PRE6]  ### Extending pandas with custom types (experimental)'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE6]  ### 使用自定义类型扩展pandas（实验性）'
- en: pandas now supports storing array-like objects that aren’t necessarily 1-D NumPy
    arrays as columns in a DataFrame or values in a Series. This allows third-party
    libraries to implement extensions to NumPy’s types, similar to how pandas implemented
    categoricals, datetimes with timezones, periods, and intervals.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: pandas现在支持将不一定是1-D NumPy数组的类似数组对象存储为DataFrame中的列或Series中的值。这允许第三方库实现对NumPy类型的扩展，类似于pandas实现的分类、带时区的日期时间、周期和间隔。
- en: As a demonstration, we’ll use [cyberpandas](https://cyberpandas.readthedocs.io/en/latest/),
    which provides an `IPArray` type for storing ip addresses.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 作为演示，我们将使用[cyberpandas](https://cyberpandas.readthedocs.io/en/latest/)，它提供了一种用于存储IP地址的`IPArray`类型。
- en: '[PRE7]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '`IPArray` isn’t a normal 1-D NumPy array, but because it’s a pandas [`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray"), it can be stored properly inside pandas’
    containers.'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '`IPArray`不是一个普通的1-D NumPy数组，但因为它是一个pandas的[`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray")，所以它可以被正确地存储在pandas的容器中。'
- en: '[PRE8]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Notice that the dtype is `ip`. The missing value semantics of the underlying
    array are respected:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意dtype是`ip`。底层数组的缺失值语义得到了尊重：
- en: '[PRE9]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'For more, see the [extension types](../development/extending.html#extending-extension-types)
    documentation. If you build an extension array, publicize it on [the ecosystem
    page](https://pandas.pydata.org/community/ecosystem.html).  ### New `observed`
    keyword for excluding unobserved categories in `GroupBy`'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '更多信息，请参阅[扩展类型](../development/extending.html#extending-extension-types)文档。如果您构建了一个扩展数组，请在[生态系统页面](https://pandas.pydata.org/community/ecosystem.html)上公开它。  ###
    新的`observed`关键字用于排除未观察到的类别在`GroupBy`中'
- en: Grouping by a categorical includes the unobserved categories in the output.
    When grouping by multiple categorical columns, this means you get the cartesian
    product of all the categories, including combinations where there are no observations,
    which can result in a large number of groups. We have added a keyword `observed`
    to control this behavior, it defaults to `observed=False` for backward-compatibility.
    ([GH 14942](https://github.com/pandas-dev/pandas/issues/14942), [GH 8138](https://github.com/pandas-dev/pandas/issues/8138),
    [GH 15217](https://github.com/pandas-dev/pandas/issues/15217), [GH 17594](https://github.com/pandas-dev/pandas/issues/17594),
    [GH 8669](https://github.com/pandas-dev/pandas/issues/8669), [GH 20583](https://github.com/pandas-dev/pandas/issues/20583),
    [GH 20902](https://github.com/pandas-dev/pandas/issues/20902))
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 按分类分组时，输出中包含未观察到的类别。当按多个分类列分组时，这意味着你会得到所有类别的笛卡尔积，包括没有观察到的组合，这可能导致大量的分组。我们添加了一个关键字`observed`来控制这种行为，默认为`observed=False`以保持向后兼容。([GH
    14942](https://github.com/pandas-dev/pandas/issues/14942), [GH 8138](https://github.com/pandas-dev/pandas/issues/8138),
    [GH 15217](https://github.com/pandas-dev/pandas/issues/15217), [GH 17594](https://github.com/pandas-dev/pandas/issues/17594),
    [GH 8669](https://github.com/pandas-dev/pandas/issues/8669), [GH 20583](https://github.com/pandas-dev/pandas/issues/20583),
    [GH 20902](https://github.com/pandas-dev/pandas/issues/20902))
- en: '[PRE10]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'To show all values, the previous behavior:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 要显示所有值，以前的行为：
- en: '[PRE11]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'To show only observed values:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 仅显示观察到的值：
- en: '[PRE12]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'For pivoting operations, this behavior is *already* controlled by the `dropna`
    keyword:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 对于数据透视操作，这种行为已经被`dropna`关键字控制：
- en: '[PRE13]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '[PRE14]  ### Rolling/Expanding.apply() accepts `raw=False` to pass a `Series`
    to the function'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE14]  ### Rolling/Expanding.apply()接受`raw=False`以将`Series`传递给函数'
- en: '`Series.rolling().apply()`, `DataFrame.rolling().apply()`, `Series.expanding().apply()`,
    and `DataFrame.expanding().apply()` have gained a `raw=None` parameter. This is
    similar to `DataFame.apply()`. This parameter, if `True` allows one to send a
    `np.ndarray` to the applied function. If `False` a `Series` will be passed. The
    default is `None`, which preserves backward compatibility, so this will default
    to `True`, sending an `np.ndarray`. In a future version the default will be changed
    to `False`, sending a `Series`. ([GH 5071](https://github.com/pandas-dev/pandas/issues/5071),
    [GH 20584](https://github.com/pandas-dev/pandas/issues/20584))'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '`Series.rolling().apply()`, `DataFrame.rolling().apply()`, `Series.expanding().apply()`,
    和 `DataFrame.expanding().apply()` 增加了一个`raw=None`参数。这类似于`DataFame.apply()`。如果为`True`，允许将`np.ndarray`发送到应用的函数。如果为`False`，将传递一个`Series`。默认值为`None`，保持向后兼容性，因此默认为`True`，发送一个`np.ndarray`。在将来的版本中，默认值将更改为`False`，发送一个`Series`。([GH
    5071](https://github.com/pandas-dev/pandas/issues/5071), [GH 20584](https://github.com/pandas-dev/pandas/issues/20584))'
- en: '[PRE15]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Pass a `Series`:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 传递一个`Series`：
- en: '[PRE16]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Mimic the original behavior of passing a ndarray:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 模仿传递一个ndarray的原始行为：
- en: '[PRE17]  ### `DataFrame.interpolate` has gained the `limit_area` kwarg'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE17]  ### `DataFrame.interpolate`增加了`limit_area`关键字参数'
- en: '[`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate") has gained a `limit_area` parameter to allow further
    control of which `NaN` s are replaced. Use `limit_area=''inside''` to fill only
    NaNs surrounded by valid values or use `limit_area=''outside''` to fill only `NaN`
    s outside the existing valid values while preserving those inside. ([GH 16284](https://github.com/pandas-dev/pandas/issues/16284))
    See the [full documentation here](../user_guide/missing_data.html#missing-data-interp-limits).'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate") 增加了一个`limit_area`参数，以进一步控制替换哪些`NaN`。使用`limit_area=''inside''`仅填充被有效值包围的NaN，或使用`limit_area=''outside''`仅填充现有有效值之外的`NaN`，同时保留其中的值。([GH
    16284](https://github.com/pandas-dev/pandas/issues/16284)) 查看[完整文档](../user_guide/missing_data.html#missing-data-interp-limits)。'
- en: '[PRE18]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Fill one consecutive inside value in both directions
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 填充一个连续的内部值
- en: '[PRE19]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Fill all consecutive outside values backward
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 向后填充所有连续的外部值
- en: '[PRE20]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Fill all consecutive outside values in both directions
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 填充所有连续的外部值
- en: '[PRE21]  ### Function `get_dummies` now supports `dtype` argument'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE21]  ### 函数`get_dummies`现在支持`dtype`参数'
- en: The [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") now accepts a `dtype` argument, which specifies a dtype
    for the new columns. The default remains uint8\. ([GH 18330](https://github.com/pandas-dev/pandas/issues/18330))
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '[`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") 现在接受一个`dtype`参数，指定新列的dtype。默认值仍为uint8。([GH 18330](https://github.com/pandas-dev/pandas/issues/18330))'
- en: '[PRE22]  ### Timedelta mod method'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE22]  ### 时间增量模块方法'
- en: '`mod` (%) and `divmod` operations are now defined on `Timedelta` objects when
    operating with either timedelta-like or with numeric arguments. See the [documentation
    here](../user_guide/timedeltas.html#timedeltas-mod-divmod). ([GH 19365](https://github.com/pandas-dev/pandas/issues/19365))'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用类似 timedelta 或数值参数进行操作时，`mod` (%) 和 `divmod` 操作现在在 `Timedelta` 对象上定义。请参阅[这里的文档](../user_guide/timedeltas.html#timedeltas-mod-divmod)。
    ([GH 19365](https://github.com/pandas-dev/pandas/issues/19365))
- en: '[PRE23]  ### Method `.rank()` handles `inf` values when `NaN` are present'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE23]  ### 方法 `.rank()` 处理 `NaN` 存在时的 `inf` 值'
- en: In previous versions, `.rank()` would assign `inf` elements `NaN` as their ranks.
    Now ranks are calculated properly. ([GH 6945](https://github.com/pandas-dev/pandas/issues/6945))
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 在先前版本中，`.rank()` 会将 `inf` 元素分配为它们的等级 `NaN`。现在等级被正确计算了。 ([GH 6945](https://github.com/pandas-dev/pandas/issues/6945))
- en: '[PRE24]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Previous behavior:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE25]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Current behavior:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE26]'
  id: totrans-123
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: Furthermore, previously if you rank `inf` or `-inf` values together with `NaN`
    values, the calculation won’t distinguish `NaN` from infinity when using ‘top’
    or ‘bottom’ argument.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，以前如果您对 `inf` 或 `-inf` 值与 `NaN` 值进行排名，使用 ‘top’ 或 ‘bottom’ 参数时计算将无法区分 `NaN`
    和无穷大。
- en: '[PRE27]'
  id: totrans-125
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Previous behavior:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE28]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Current behavior:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE29]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'These bugs were squashed:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 这些错误已经被解决：
- en: Bug in [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") and [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") when `method='dense'` and `pct=True` in which percentile
    ranks were not being used with the number of distinct observations ([GH 15630](https://github.com/pandas-dev/pandas/issues/15630))
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `method='dense'` 和 `pct=True` 时，在 [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") 和 [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") 中存在百分位排名未与不同观察次数一起使用的错误（[GH 15630](https://github.com/pandas-dev/pandas/issues/15630)）
- en: Bug in [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") and [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") when `ascending='False'` failed to return correct ranks
    for infinity if `NaN` were present ([GH 19538](https://github.com/pandas-dev/pandas/issues/19538))
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `ascending='False'` 时，在 [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") 和 [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") 中存在一个错误，如果 `NaN` 存在，对无穷大值返回的等级不正确 ([GH 19538](https://github.com/pandas-dev/pandas/issues/19538))
- en: 'Bug in `DataFrameGroupBy.rank()` where ranks were incorrect when both infinity
    and `NaN` were present ([GH 20561](https://github.com/pandas-dev/pandas/issues/20561))  ###
    `Series.str.cat` has gained the `join` kwarg'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '在 `DataFrameGroupBy.rank()` 中存在一个错误，当同时存在无穷大和 `NaN` 时排名不正确 ([GH 20561](https://github.com/pandas-dev/pandas/issues/20561))  ###
    `Series.str.cat` 增加了 `join` kwarg'
- en: Previously, [`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat") did not – in contrast to most of `pandas` – align [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") on their index before concatenation (see [GH 18657](https://github.com/pandas-dev/pandas/issues/18657)).
    The method has now gained a keyword `join` to control the manner of alignment,
    see examples below and [here](../user_guide/text.html#text-concatenate).
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，[`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat")与大多数 `pandas` 不同，在连接之前不会对 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 根据它们的索引进行对齐（参见 [GH 18657](https://github.com/pandas-dev/pandas/issues/18657)）。该方法现在增加了一个关键字
    `join` 来控制对齐的方式，见下面的示例和[这里](../user_guide/text.html#text-concatenate)。
- en: In v.0.23 `join` will default to None (meaning no alignment), but this default
    will change to `'left'` in a future version of pandas.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 在 v.0.23 中，`join` 将默认为 None（表示没有对齐），但这个默认值将在 pandas 的将来版本中更改为 `'left'`。
- en: '[PRE30]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'Furthermore, [`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat") now works for `CategoricalIndex` as well (previously
    raised a `ValueError`; see [GH 20842](https://github.com/pandas-dev/pandas/issues/20842)).  ###
    `DataFrame.astype` performs column-wise conversion to `Categorical`'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '此外，现在 [`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat") 也适用于 `CategoricalIndex`（之前会引发 `ValueError`；请参见 [GH 20842](https://github.com/pandas-dev/pandas/issues/20842)）。  ###
    `DataFrame.astype` 对 `Categorical` 进行列转换'
- en: '[`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") can now perform column-wise conversion to `Categorical`
    by supplying the string `''category''` or a `CategoricalDtype`. Previously, attempting
    this would raise a `NotImplementedError`. See the [Object creation](../user_guide/categorical.html#categorical-objectcreation)
    section of the documentation for more details and examples. ([GH 12860](https://github.com/pandas-dev/pandas/issues/12860),
    [GH 18099](https://github.com/pandas-dev/pandas/issues/18099))'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 通过提供字符串`'category'`或`CategoricalDtype`，[`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") 现在可以执行列转换为`Categorical`。以前尝试这样做会引发`NotImplementedError`。有关更多详细信息和示例，请参阅[对象创建](../user_guide/categorical.html#categorical-objectcreation)部分的文档。([GH
    12860](https://github.com/pandas-dev/pandas/issues/12860)，[GH 18099](https://github.com/pandas-dev/pandas/issues/18099))
- en: 'Supplying the string `''category''` performs column-wise conversion, with only
    labels appearing in a given column set as categories:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 提供字符串`'category'`执行列转换，只有标签出现在给定列中，才将其设置为类别：
- en: '[PRE31]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'Supplying a `CategoricalDtype` will make the categories in each column consistent
    with the supplied dtype:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`CategoricalDtype`将使每列中的类别与提供的dtype保持一致：
- en: '[PRE32]  ### Other enhancements'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE32]  ### 其他增强'
- en: Unary `+` now permitted for `Series` and `DataFrame` as numeric operator ([GH
    16073](https://github.com/pandas-dev/pandas/issues/16073))
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对`Series`和`DataFrame`现在允许一元`+`作为数值运算符。([GH 16073](https://github.com/pandas-dev/pandas/issues/16073))
- en: Better support for [`to_excel()`](../reference/api/pandas.io.formats.style.Styler.to_excel.html#pandas.io.formats.style.Styler.to_excel
    "pandas.io.formats.style.Styler.to_excel") output with the `xlsxwriter` engine.
    ([GH 16149](https://github.com/pandas-dev/pandas/issues/16149))
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更好地支持使用`xlsxwriter`引擎的[`to_excel()`](../reference/api/pandas.io.formats.style.Styler.to_excel.html#pandas.io.formats.style.Styler.to_excel
    "pandas.io.formats.style.Styler.to_excel")输出。([GH 16149](https://github.com/pandas-dev/pandas/issues/16149))
- en: '[`pandas.tseries.frequencies.to_offset()`](../reference/api/pandas.tseries.frequencies.to_offset.html#pandas.tseries.frequencies.to_offset
    "pandas.tseries.frequencies.to_offset") now accepts leading ‘+’ signs e.g. ‘+1h’.
    ([GH 18171](https://github.com/pandas-dev/pandas/issues/18171))'
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.tseries.frequencies.to_offset()`](../reference/api/pandas.tseries.frequencies.to_offset.html#pandas.tseries.frequencies.to_offset
    "pandas.tseries.frequencies.to_offset") 现在接受前导‘+’符号，例如‘+1h’。([GH 18171](https://github.com/pandas-dev/pandas/issues/18171))'
- en: '`MultiIndex.unique()` now supports the `level=` argument, to get unique values
    from a specific index level ([GH 17896](https://github.com/pandas-dev/pandas/issues/17896))'
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.unique()` 现在支持`level=`参数，用于从特定索引级别获取唯一值。([GH 17896](https://github.com/pandas-dev/pandas/issues/17896))'
- en: '[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") now has method `hide_index()` to determine whether
    the index will be rendered in output ([GH 14194](https://github.com/pandas-dev/pandas/issues/14194))'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 现在具有`hide_index()`方法，用于确定输出中是否呈现索引。([GH 14194](https://github.com/pandas-dev/pandas/issues/14194))'
- en: '[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") now has method `hide_columns()` to determine
    whether columns will be hidden in output ([GH 14194](https://github.com/pandas-dev/pandas/issues/14194))'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 现在具有`hide_columns()`方法，用于确定输出中是否隐藏列。([GH 14194](https://github.com/pandas-dev/pandas/issues/14194))'
- en: Improved wording of `ValueError` raised in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") when `unit=` is passed with a non-convertible value ([GH
    14350](https://github.com/pandas-dev/pandas/issues/14350))
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中，当`unit=`与不可转换的值一起传递时，改进了`ValueError`的措辞。([GH 14350](https://github.com/pandas-dev/pandas/issues/14350))
- en: '[`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") now accepts a Series or a dict as a `value` for a categorical
    dtype ([GH 17033](https://github.com/pandas-dev/pandas/issues/17033))'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") 现在接受一个Series或一个字典作为分类dtype的`value`。([GH 17033](https://github.com/pandas-dev/pandas/issues/17033))'
- en: '[`pandas.read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") updated to use qtpy, falling back to PyQt5 and then PyQt4,
    adding compatibility with Python3 and multiple python-qt bindings ([GH 17722](https://github.com/pandas-dev/pandas/issues/17722))'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") 现在使用 qtpy，备用 PyQt5 和 PyQt4，增加了与 Python3 和多个 Python-qt
    绑定的兼容性（[GH 17722](https://github.com/pandas-dev/pandas/issues/17722)）'
- en: Improved wording of `ValueError` raised in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") when the `usecols` argument cannot match all columns. ([GH
    17301](https://github.com/pandas-dev/pandas/issues/17301))
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    中，当 `usecols` 参数无法匹配所有列时，改进了 `ValueError` 的措辞。([GH 17301](https://github.com/pandas-dev/pandas/issues/17301))
- en: '[`DataFrame.corrwith()`](../reference/api/pandas.DataFrame.corrwith.html#pandas.DataFrame.corrwith
    "pandas.DataFrame.corrwith") now silently drops non-numeric columns when passed
    a Series. Before, an exception was raised ([GH 18570](https://github.com/pandas-dev/pandas/issues/18570)).'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.corrwith()`](../reference/api/pandas.DataFrame.corrwith.html#pandas.DataFrame.corrwith
    "pandas.DataFrame.corrwith") 现在在传递 Series 时会在静默情况下删除非数值列。之前，会引发异常 ([GH 18570](https://github.com/pandas-dev/pandas/issues/18570))'
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") now supports time zone aware `Interval` objects ([GH 18537](https://github.com/pandas-dev/pandas/issues/18537),
    [GH 18538](https://github.com/pandas-dev/pandas/issues/18538))'
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 现在支持时区感知的 `Interval` 对象（[GH 18537](https://github.com/pandas-dev/pandas/issues/18537),
    [GH 18538](https://github.com/pandas-dev/pandas/issues/18538)）'
- en: '[`Series()`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    / [`DataFrame()`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    tab completion also returns identifiers in the first level of a [`MultiIndex()`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex"). ([GH 16326](https://github.com/pandas-dev/pandas/issues/16326))'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series()`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    / [`DataFrame()`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    表补全还会返回[`MultiIndex()`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 中第一级的标识符。（[GH 16326](https://github.com/pandas-dev/pandas/issues/16326)）'
- en: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") has gained the `nrows` parameter ([GH 16645](https://github.com/pandas-dev/pandas/issues/16645))'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 增加了 `nrows` 参数 ([GH 16645](https://github.com/pandas-dev/pandas/issues/16645))'
- en: '`DataFrame.append()` can now in more cases preserve the type of the calling
    dataframe’s columns (e.g. if both are `CategoricalIndex`) ([GH 18359](https://github.com/pandas-dev/pandas/issues/18359))'
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.append()` 现在在更多情况下可以保留调用 dataframe 列的类型（例如，如果两者都是 `CategoricalIndex`）（[GH
    18359](https://github.com/pandas-dev/pandas/issues/18359))'
- en: '[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") and [`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") now accept an `index` argument which allows the user
    to exclude the index from the JSON output ([GH 17394](https://github.com/pandas-dev/pandas/issues/17394))'
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") 和 [`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") 现在接受一个 `index` 参数，允许用户在 JSON 输出中排除索引 ([GH 17394](https://github.com/pandas-dev/pandas/issues/17394))'
- en: '`IntervalIndex.to_tuples()` has gained the `na_tuple` parameter to control
    whether NA is returned as a tuple of NA, or NA itself ([GH 18756](https://github.com/pandas-dev/pandas/issues/18756))'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.to_tuples()` 增加了 `na_tuple` 参数，用于控制是否将 NA 作为 NA 元组返回，还是作为 NA
    本身返回（[GH 18756](https://github.com/pandas-dev/pandas/issues/18756)）'
- en: '`Categorical.rename_categories`, `CategoricalIndex.rename_categories` and [`Series.cat.rename_categories`](../reference/api/pandas.Series.cat.rename_categories.html#pandas.Series.cat.rename_categories
    "pandas.Series.cat.rename_categories") can now take a callable as their argument
    ([GH 18862](https://github.com/pandas-dev/pandas/issues/18862))'
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.rename_categories`，`CategoricalIndex.rename_categories` 和 [`Series.cat.rename_categories`](../reference/api/pandas.Series.cat.rename_categories.html#pandas.Series.cat.rename_categories
    "pandas.Series.cat.rename_categories") 现在可以接受一个可调用对象作为参数 ([GH 18862](https://github.com/pandas-dev/pandas/issues/18862))'
- en: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    and [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") have gained a `length` attribute ([GH 18789](https://github.com/pandas-dev/pandas/issues/18789))'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    和 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 增加了一个`length`属性 ([GH 18789](https://github.com/pandas-dev/pandas/issues/18789))'
- en: '`Resampler` objects now have a functioning [`Resampler.pipe`](../reference/api/pandas.core.resample.Resampler.pipe.html#pandas.core.resample.Resampler.pipe
    "pandas.core.resample.Resampler.pipe") method. Previously, calls to `pipe` were
    diverted to the `mean` method ([GH 17905](https://github.com/pandas-dev/pandas/issues/17905)).'
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Resampler` 对象现在具有一个可用的[`Resampler.pipe`](../reference/api/pandas.core.resample.Resampler.pipe.html#pandas.core.resample.Resampler.pipe
    "pandas.core.resample.Resampler.pipe")方法。之前，对`pipe`的调用被重定向到`mean`方法（[GH 17905](https://github.com/pandas-dev/pandas/issues/17905)）。'
- en: '[`is_scalar()`](../reference/api/pandas.api.types.is_scalar.html#pandas.api.types.is_scalar
    "pandas.api.types.is_scalar") now returns `True` for `DateOffset` objects ([GH
    18943](https://github.com/pandas-dev/pandas/issues/18943)).'
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`is_scalar()`](../reference/api/pandas.api.types.is_scalar.html#pandas.api.types.is_scalar
    "pandas.api.types.is_scalar") 现在对`DateOffset`对象返回`True` ([GH 18943](https://github.com/pandas-dev/pandas/issues/18943)).'
- en: '[`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot") now accepts a list for the `values=` kwarg ([GH 17160](https://github.com/pandas-dev/pandas/issues/17160)).'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot") 现在接受`values=` kwarg 的列表参数（[GH 17160](https://github.com/pandas-dev/pandas/issues/17160)).'
- en: Added [`pandas.api.extensions.register_dataframe_accessor()`](../reference/api/pandas.api.extensions.register_dataframe_accessor.html#pandas.api.extensions.register_dataframe_accessor
    "pandas.api.extensions.register_dataframe_accessor"), [`pandas.api.extensions.register_series_accessor()`](../reference/api/pandas.api.extensions.register_series_accessor.html#pandas.api.extensions.register_series_accessor
    "pandas.api.extensions.register_series_accessor"), and [`pandas.api.extensions.register_index_accessor()`](../reference/api/pandas.api.extensions.register_index_accessor.html#pandas.api.extensions.register_index_accessor
    "pandas.api.extensions.register_index_accessor"), accessor for libraries downstream
    of pandas to register custom accessors like `.cat` on pandas objects. See [Registering
    Custom Accessors](../development/extending.html#extending-register-accessors)
    for more ([GH 14781](https://github.com/pandas-dev/pandas/issues/14781)).
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了 [`pandas.api.extensions.register_dataframe_accessor()`](../reference/api/pandas.api.extensions.register_dataframe_accessor.html#pandas.api.extensions.register_dataframe_accessor
    "pandas.api.extensions.register_dataframe_accessor")、[`pandas.api.extensions.register_series_accessor()`](../reference/api/pandas.api.extensions.register_series_accessor.html#pandas.api.extensions.register_series_accessor
    "pandas.api.extensions.register_series_accessor") 和 [`pandas.api.extensions.register_index_accessor()`](../reference/api/pandas.api.extensions.register_index_accessor.html#pandas.api.extensions.register_index_accessor
    "pandas.api.extensions.register_index_accessor")，用于让 pandas 下游库注册自定义访问器，如在 pandas
    对象上注册`.cat`。更多信息请参见[注册自定义访问器](../development/extending.html#extending-register-accessors)（[GH
    14781](https://github.com/pandas-dev/pandas/issues/14781)).
- en: '`IntervalIndex.astype` now supports conversions between subtypes when passed
    an `IntervalDtype` ([GH 19197](https://github.com/pandas-dev/pandas/issues/19197))'
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.astype` 现在支持在传递`IntervalDtype`时在子类型之间进行转换（[GH 19197](https://github.com/pandas-dev/pandas/issues/19197))'
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") and its associated constructor methods (`from_arrays`,
    `from_breaks`, `from_tuples`) have gained a `dtype` parameter ([GH 19262](https://github.com/pandas-dev/pandas/issues/19262))'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 及其关联的构造方法（`from_arrays`、`from_breaks`、`from_tuples`）现在增加了一个`dtype`参数（[GH
    19262](https://github.com/pandas-dev/pandas/issues/19262))'
- en: Added `SeriesGroupBy.is_monotonic_increasing()` and `SeriesGroupBy.is_monotonic_decreasing()`
    ([GH 17015](https://github.com/pandas-dev/pandas/issues/17015))
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了 `SeriesGroupBy.is_monotonic_increasing()` 和 `SeriesGroupBy.is_monotonic_decreasing()`
    ([GH 17015](https://github.com/pandas-dev/pandas/issues/17015))
- en: For subclassed `DataFrames`, [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") will now preserve the `Series` subclass (if defined)
    when passing the data to the applied function ([GH 19822](https://github.com/pandas-dev/pandas/issues/19822))
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于子类化的`DataFrames`，[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply")现在在将数据传递给应用函数时会保留`Series`子类（如果已定义）（[GH 19822](https://github.com/pandas-dev/pandas/issues/19822)）
- en: '[`DataFrame.from_dict()`](../reference/api/pandas.DataFrame.from_dict.html#pandas.DataFrame.from_dict
    "pandas.DataFrame.from_dict") now accepts a `columns` argument that can be used
    to specify the column names when `orient=''index''` is used ([GH 18529](https://github.com/pandas-dev/pandas/issues/18529))'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.from_dict()`](../reference/api/pandas.DataFrame.from_dict.html#pandas.DataFrame.from_dict
    "pandas.DataFrame.from_dict") 现在接受一个 `columns` 参数，当 `orient=''index''` 时可以用来指定列名（[GH
    18529](https://github.com/pandas-dev/pandas/issues/18529)）'
- en: Added option `display.html.use_mathjax` so [MathJax](https://www.mathjax.org/)
    can be disabled when rendering tables in `Jupyter` notebooks ([GH 19856](https://github.com/pandas-dev/pandas/issues/19856),
    [GH 19824](https://github.com/pandas-dev/pandas/issues/19824))
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了选项 `display.html.use_mathjax`，以便在 `Jupyter` 笔记本中渲染表格时可以禁用 [MathJax](https://www.mathjax.org/)（[GH
    19856](https://github.com/pandas-dev/pandas/issues/19856), [GH 19824](https://github.com/pandas-dev/pandas/issues/19824))
- en: '[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") now supports the `method` parameter, which can be
    used to specify the replacement method when `to_replace` is a scalar, list or
    tuple and `value` is `None` ([GH 19632](https://github.com/pandas-dev/pandas/issues/19632))'
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 现在支持 `method` 参数，当 `to_replace` 是标量、列表或元组且 `value`
    是 `None` 时，可以用它来指定替换方法（[GH 19632](https://github.com/pandas-dev/pandas/issues/19632)）'
- en: '[`Timestamp.month_name()`](../reference/api/pandas.Timestamp.month_name.html#pandas.Timestamp.month_name
    "pandas.Timestamp.month_name"), [`DatetimeIndex.month_name()`](../reference/api/pandas.DatetimeIndex.month_name.html#pandas.DatetimeIndex.month_name
    "pandas.DatetimeIndex.month_name"), and [`Series.dt.month_name()`](../reference/api/pandas.Series.dt.month_name.html#pandas.Series.dt.month_name
    "pandas.Series.dt.month_name") are now available ([GH 12805](https://github.com/pandas-dev/pandas/issues/12805))'
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.month_name()`](../reference/api/pandas.Timestamp.month_name.html#pandas.Timestamp.month_name
    "pandas.Timestamp.month_name")、[`DatetimeIndex.month_name()`](../reference/api/pandas.DatetimeIndex.month_name.html#pandas.DatetimeIndex.month_name
    "pandas.DatetimeIndex.month_name") 和 [`Series.dt.month_name()`](../reference/api/pandas.Series.dt.month_name.html#pandas.Series.dt.month_name
    "pandas.Series.dt.month_name") 现在可用了（[GH 12805](https://github.com/pandas-dev/pandas/issues/12805)）'
- en: '[`Timestamp.day_name()`](../reference/api/pandas.Timestamp.day_name.html#pandas.Timestamp.day_name
    "pandas.Timestamp.day_name") and [`DatetimeIndex.day_name()`](../reference/api/pandas.DatetimeIndex.day_name.html#pandas.DatetimeIndex.day_name
    "pandas.DatetimeIndex.day_name") are now available to return day names with a
    specified locale ([GH 12806](https://github.com/pandas-dev/pandas/issues/12806))'
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.day_name()`](../reference/api/pandas.Timestamp.day_name.html#pandas.Timestamp.day_name
    "pandas.Timestamp.day_name") 和 [`DatetimeIndex.day_name()`](../reference/api/pandas.DatetimeIndex.day_name.html#pandas.DatetimeIndex.day_name
    "pandas.DatetimeIndex.day_name") 现在可以返回指定语言环境下的星期几名称了（[GH 12806](https://github.com/pandas-dev/pandas/issues/12806)）'
- en: '[`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") now performs a multi-value insert if the underlying
    connection supports itk rather than inserting row by row. `SQLAlchemy` dialects
    supporting multi-value inserts include: `mysql`, `postgresql`, `sqlite` and any
    dialect with `supports_multivalues_insert`. ([GH 14315](https://github.com/pandas-dev/pandas/issues/14315),
    [GH 8953](https://github.com/pandas-dev/pandas/issues/8953))'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 现在如果底层连接支持，则会执行多值插入，而不是逐行插入。支持多值插入的 `SQLAlchemy` 方言包括：`mysql`、`postgresql`、`sqlite`
    和任何带有 `supports_multivalues_insert` 的方言。([GH 14315](https://github.com/pandas-dev/pandas/issues/14315),
    [GH 8953](https://github.com/pandas-dev/pandas/issues/8953))'
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    now accepts a `displayed_only` keyword argument to controls whether or not hidden
    elements are parsed (`True` by default) ([GH 20027](https://github.com/pandas-dev/pandas/issues/20027))'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    现在接受一个 `displayed_only` 关键字参数来控制是否解析隐藏元素（默认为 `True`）（[GH 20027](https://github.com/pandas-dev/pandas/issues/20027)）'
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    now reads all `<tbody>` elements in a `<table>`, not just the first. ([GH 20690](https://github.com/pandas-dev/pandas/issues/20690))'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    现在会读取表格中的所有 `<tbody>` 元素，而不仅仅是第一个（[GH 20690](https://github.com/pandas-dev/pandas/issues/20690)）'
- en: '[`Rolling.quantile()`](../reference/api/pandas.core.window.rolling.Rolling.quantile.html#pandas.core.window.rolling.Rolling.quantile
    "pandas.core.window.rolling.Rolling.quantile") and [`Expanding.quantile()`](../reference/api/pandas.core.window.expanding.Expanding.quantile.html#pandas.core.window.expanding.Expanding.quantile
    "pandas.core.window.expanding.Expanding.quantile") now accept the `interpolation`
    keyword, `linear` by default ([GH 20497](https://github.com/pandas-dev/pandas/issues/20497))'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Rolling.quantile()`](../reference/api/pandas.core.window.rolling.Rolling.quantile.html#pandas.core.window.rolling.Rolling.quantile
    "pandas.core.window.rolling.Rolling.quantile") 和 [`Expanding.quantile()`](../reference/api/pandas.core.window.expanding.Expanding.quantile.html#pandas.core.window.expanding.Expanding.quantile
    "pandas.core.window.expanding.Expanding.quantile") 现在接受 `interpolation` 关键字，默认为
    `linear` ([GH 20497](https://github.com/pandas-dev/pandas/issues/20497))'
- en: zip compression is supported via `compression=zip` in [`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle"), [`Series.to_pickle()`](../reference/api/pandas.Series.to_pickle.html#pandas.Series.to_pickle
    "pandas.Series.to_pickle"), [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv"), [`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv"), [`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json"), [`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json"). ([GH 17778](https://github.com/pandas-dev/pandas/issues/17778))
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 `compression=zip` 在 [`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle"), [`Series.to_pickle()`](../reference/api/pandas.Series.to_pickle.html#pandas.Series.to_pickle
    "pandas.Series.to_pickle"), [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv"), [`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv"), [`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json"), [`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") 支持 zip 压缩。([GH 17778](https://github.com/pandas-dev/pandas/issues/17778))
- en: '[`WeekOfMonth`](../reference/api/pandas.tseries.offsets.WeekOfMonth.html#pandas.tseries.offsets.WeekOfMonth
    "pandas.tseries.offsets.WeekOfMonth") constructor now supports `n=0` ([GH 20517](https://github.com/pandas-dev/pandas/issues/20517)).'
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`WeekOfMonth`](../reference/api/pandas.tseries.offsets.WeekOfMonth.html#pandas.tseries.offsets.WeekOfMonth
    "pandas.tseries.offsets.WeekOfMonth") 构造函数现在支持 `n=0` ([GH 20517](https://github.com/pandas-dev/pandas/issues/20517)).'
- en: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    and [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    now support matrix multiplication (`@`) operator ([GH 10259](https://github.com/pandas-dev/pandas/issues/10259))
    for Python>=3.5'
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    和 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    现在支持矩阵乘法 (`@`) 运算符 ([GH 10259](https://github.com/pandas-dev/pandas/issues/10259))
    适用于 Python>=3.5'
- en: Updated [`DataFrame.to_gbq()`](../reference/api/pandas.DataFrame.to_gbq.html#pandas.DataFrame.to_gbq
    "pandas.DataFrame.to_gbq") and [`pandas.read_gbq()`](../reference/api/pandas.read_gbq.html#pandas.read_gbq
    "pandas.read_gbq") signature and documentation to reflect changes from the pandas-gbq
    library version 0.4.0\. Adds intersphinx mapping to pandas-gbq library. ([GH 20564](https://github.com/pandas-dev/pandas/issues/20564))
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更新了 [`DataFrame.to_gbq()`](../reference/api/pandas.DataFrame.to_gbq.html#pandas.DataFrame.to_gbq
    "pandas.DataFrame.to_gbq") 和 [`pandas.read_gbq()`](../reference/api/pandas.read_gbq.html#pandas.read_gbq
    "pandas.read_gbq") 的签名和文档，以反映来自 pandas-gbq 库版本 0.4.0 的更改。添加了到 pandas-gbq 库的 intersphinx
    映射。([GH 20564](https://github.com/pandas-dev/pandas/issues/20564))
- en: Added new writer for exporting Stata dta files in version 117, `StataWriter117`.
    This format supports exporting strings with lengths up to 2,000,000 characters
    ([GH 16450](https://github.com/pandas-dev/pandas/issues/16450))
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新增了用于导出 Stata dta 文件的新写入器，版本为 117，`StataWriter117`。该格式支持导出长度最长为 2,000,000 个字符的字符串
    ([GH 16450](https://github.com/pandas-dev/pandas/issues/16450))
- en: '`to_hdf()` and [`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf
    "pandas.read_hdf") now accept an `errors` keyword argument to control encoding
    error handling ([GH 20835](https://github.com/pandas-dev/pandas/issues/20835))'
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_hdf()` 和 [`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf
    "pandas.read_hdf") 现在接受一个 `errors` 关键字参数来控制编码错误处理（[GH 20835](https://github.com/pandas-dev/pandas/issues/20835))'
- en: '[`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") has gained
    the `duplicates=''raise''|''drop''` option to control whether to raise on duplicated
    edges ([GH 20947](https://github.com/pandas-dev/pandas/issues/20947))'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") 增加了 `duplicates=''raise''|''drop''`
    选项，用于控制是否在重复边缘上引发异常 ([GH 20947](https://github.com/pandas-dev/pandas/issues/20947))'
- en: '[`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range"), [`timedelta_range()`](../reference/api/pandas.timedelta_range.html#pandas.timedelta_range
    "pandas.timedelta_range"), and [`interval_range()`](../reference/api/pandas.interval_range.html#pandas.interval_range
    "pandas.interval_range") now return a linearly spaced index if `start`, `stop`,
    and `periods` are specified, but `freq` is not. ([GH 20808](https://github.com/pandas-dev/pandas/issues/20808),
    [GH 20983](https://github.com/pandas-dev/pandas/issues/20983), [GH 20976](https://github.com/pandas-dev/pandas/issues/20976))  ##
    Backwards incompatible API changes'
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range")、[`timedelta_range()`](../reference/api/pandas.timedelta_range.html#pandas.timedelta_range
    "pandas.timedelta_range") 和 [`interval_range()`](../reference/api/pandas.interval_range.html#pandas.interval_range
    "pandas.interval_range") 现在如果指定了 `start`、`stop` 和 `periods`，但没有指定 `freq`，则返回一个线性间隔的索引。
    ([GH 20808](https://github.com/pandas-dev/pandas/issues/20808), [GH 20983](https://github.com/pandas-dev/pandas/issues/20983),
    [GH 20976](https://github.com/pandas-dev/pandas/issues/20976))  ## 不兼容的 API 变更'
- en: '### Dependencies have increased minimum versions'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '### 依赖关系已增加最低版本'
- en: 'We have updated our minimum supported versions of dependencies ([GH 15184](https://github.com/pandas-dev/pandas/issues/15184)).
    If installed, we now require:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经更新了我们的依赖关系的最低支持版本 ([GH 15184](https://github.com/pandas-dev/pandas/issues/15184))。如果安装了，我们现在需要：
- en: '| Package | Minimum Version | Required | Issue |'
  id: totrans-189
  prefs: []
  type: TYPE_TB
  zh: '| 包 | 最低版本 | 必需的 | 问题 |'
- en: '| --- | --- | --- | --- |'
  id: totrans-190
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| python-dateutil | 2.5.0 | X | [GH 15184](https://github.com/pandas-dev/pandas/issues/15184)
    |'
  id: totrans-191
  prefs: []
  type: TYPE_TB
  zh: '| python-dateutil | 2.5.0 | X | [GH 15184](https://github.com/pandas-dev/pandas/issues/15184)
    |'
- en: '| openpyxl | 2.4.0 |  | [GH 15184](https://github.com/pandas-dev/pandas/issues/15184)
    |'
  id: totrans-192
  prefs: []
  type: TYPE_TB
  zh: '| openpyxl | 2.4.0 |  | [GH 15184](https://github.com/pandas-dev/pandas/issues/15184)
    |'
- en: '| beautifulsoup4 | 4.2.1 |  | [GH 20082](https://github.com/pandas-dev/pandas/issues/20082)
    |'
  id: totrans-193
  prefs: []
  type: TYPE_TB
  zh: '| beautifulsoup4 | 4.2.1 |  | [GH 20082](https://github.com/pandas-dev/pandas/issues/20082)
    |'
- en: '| setuptools | 24.2.0 |  | [GH 20698](https://github.com/pandas-dev/pandas/issues/20698)
    |  ### Instantiation from dicts preserves dict insertion order for Python 3.6+'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: '| setuptools | 24.2.0 |  | [GH 20698](https://github.com/pandas-dev/pandas/issues/20698)
    |  ### 从字典实例化保留 Python 3.6+ 的字典插入顺序'
- en: Until Python 3.6, dicts in Python had no formally defined ordering. For Python
    version 3.6 and later, dicts are ordered by insertion order, see [PEP 468](https://www.python.org/dev/peps/pep-0468/).
    pandas will use the dict’s insertion order, when creating a `Series` or `DataFrame`
    from a dict and you’re using Python version 3.6 or higher. ([GH 19884](https://github.com/pandas-dev/pandas/issues/19884))
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 直到 Python 3.6，Python 中的字典没有正式定义的排序方式。对于版本 3.6 及更高版本的 Python，字典按插入顺序排序，参见 [PEP
    468](https://www.python.org/dev/peps/pep-0468/)。当从字典创建 `Series` 或 `DataFrame`
    时，pandas 将使用字典的插入顺序。如果您使用的是 Python 版本 3.6 或更高版本。 ([GH 19884](https://github.com/pandas-dev/pandas/issues/19884))
- en: 'Previous behavior (and current behavior if on Python < 3.6):'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为（如果在 Python < 3.6 上）：
- en: '[PRE33]'
  id: totrans-197
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: Note the Series above is ordered alphabetically by the index values.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意上述 Series 是按索引值字母顺序排列的。
- en: 'New behavior (for Python >= 3.6):'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为（对于 Python >= 3.6）：
- en: '[PRE34]'
  id: totrans-200
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: Notice that the Series is now ordered by insertion order. This new behavior
    is used for all relevant pandas types (`Series`, `DataFrame`, `SparseSeries` and
    `SparseDataFrame`).
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 注意现在系列按插入顺序排序。所有相关的 pandas 类型（`Series`、`DataFrame`、`SparseSeries` 和 `SparseDataFrame`）都使用了这种新行为。
- en: 'If you wish to retain the old behavior while using Python >= 3.6, you can use
    `.sort_index()`:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您希望保留旧行为同时使用 Python >= 3.6，您可以使用 `.sort_index()`：
- en: '[PRE35]  ### Deprecate Panel'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE35]  ### 弃用 Panel'
- en: '`Panel` was deprecated in the 0.20.x release, showing as a `DeprecationWarning`.
    Using `Panel` will now show a `FutureWarning`. The recommended way to represent
    3-D data are with a `MultiIndex` on a `DataFrame` via the `to_frame()` or with
    the [xarray package](http://xarray.pydata.org/en/stable/). pandas provides a `to_xarray()`
    method to automate this conversion ([GH 13563](https://github.com/pandas-dev/pandas/issues/13563),
    [GH 18324](https://github.com/pandas-dev/pandas/issues/18324)).'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: '`Panel` 在 0.20.x 版本中已弃用，显示为 `DeprecationWarning`。现在使用 `Panel` 将会显示一个 `FutureWarning`。表示
    3-D 数据的推荐方式是在 `DataFrame` 上使用 `MultiIndex`，通过 `to_frame()` 方法或使用 [xarray package](http://xarray.pydata.org/en/stable/)。pandas
    提供了 `to_xarray()` 方法来自动执行此转换 ([GH 13563](https://github.com/pandas-dev/pandas/issues/13563),
    [GH 18324](https://github.com/pandas-dev/pandas/issues/18324))。'
- en: '[PRE36]'
  id: totrans-205
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: Convert to a MultiIndex DataFrame
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 转换为 MultiIndex DataFrame
- en: '[PRE37]'
  id: totrans-207
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: Convert to an xarray DataArray
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 转换为 xarray DataArray
- en: '[PRE38]  ### pandas.core.common removals'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE38]  ### pandas.core.common 移除'
- en: 'The following error & warning messages are removed from `pandas.core.common`
    ([GH 13634](https://github.com/pandas-dev/pandas/issues/13634), [GH 19769](https://github.com/pandas-dev/pandas/issues/19769)):'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 以下错误和警告消息已从 `pandas.core.common` 中移除（[GH 13634](https://github.com/pandas-dev/pandas/issues/13634),
    [GH 19769](https://github.com/pandas-dev/pandas/issues/19769)）：
- en: '`PerformanceWarning`'
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PerformanceWarning`'
- en: '`UnsupportedFunctionCall`'
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`UnsupportedFunctionCall`'
- en: '`UnsortedIndexError`'
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`UnsortedIndexError`'
- en: '`AbstractMethodError`'
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`AbstractMethodError`'
- en: 'These are available from import from `pandas.errors` (since 0.19.0).  ### Changes
    to make output of `DataFrame.apply` consistent'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: '这些可以从 `pandas.errors` 导入（自 0.19.0 起）。  ### 更改使 `DataFrame.apply` 的输出一致'
- en: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") was inconsistent when applying an arbitrary user-defined-function
    that returned a list-like with `axis=1`. Several bugs and inconsistencies are
    resolved. If the applied function returns a Series, then pandas will return a
    DataFrame; otherwise a Series will be returned, this includes the case where a
    list-like (e.g. `tuple` or `list` is returned) ([GH 16353](https://github.com/pandas-dev/pandas/issues/16353),
    [GH 17437](https://github.com/pandas-dev/pandas/issues/17437), [GH 17970](https://github.com/pandas-dev/pandas/issues/17970),
    [GH 17348](https://github.com/pandas-dev/pandas/issues/17348), [GH 17892](https://github.com/pandas-dev/pandas/issues/17892),
    [GH 18573](https://github.com/pandas-dev/pandas/issues/18573), [GH 17602](https://github.com/pandas-dev/pandas/issues/17602),
    [GH 18775](https://github.com/pandas-dev/pandas/issues/18775), [GH 18901](https://github.com/pandas-dev/pandas/issues/18901),
    [GH 18919](https://github.com/pandas-dev/pandas/issues/18919)).'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") 在应用返回类似列表的任意用户定义函数时存在不一致性，`axis=1`。解决了几个错误和不一致性。如果应用的函数返回一个
    Series，则 pandas 将返回一个 DataFrame；否则将返回一个 Series，包括返回类似列表（例如 `tuple` 或 `list`）的情况（[GH
    16353](https://github.com/pandas-dev/pandas/issues/16353), [GH 17437](https://github.com/pandas-dev/pandas/issues/17437),
    [GH 17970](https://github.com/pandas-dev/pandas/issues/17970), [GH 17348](https://github.com/pandas-dev/pandas/issues/17348),
    [GH 17892](https://github.com/pandas-dev/pandas/issues/17892), [GH 18573](https://github.com/pandas-dev/pandas/issues/18573),
    [GH 17602](https://github.com/pandas-dev/pandas/issues/17602), [GH 18775](https://github.com/pandas-dev/pandas/issues/18775),
    [GH 18901](https://github.com/pandas-dev/pandas/issues/18901), [GH 18919](https://github.com/pandas-dev/pandas/issues/18919)).'
- en: '[PRE39]'
  id: totrans-217
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'Previous behavior: if the returned shape happened to match the length of original
    columns, this would return a `DataFrame`. If the return shape did not match, a
    `Series` with lists was returned.'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 先前行为：如果返回形状恰好与原始列的长度匹配，则返回一个 `DataFrame`。如果返回形状不匹配，则返回一个带有列表的 `Series`。
- en: '[PRE40]'
  id: totrans-219
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'New behavior: When the applied function returns a list-like, this will now
    *always* return a `Series`.'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：当应用的函数返回类似列表时，现在将*始终*返回一个 `Series`。
- en: '[PRE41]'
  id: totrans-221
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: To have expanded columns, you can use `result_type='expand'`
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 要扩展列，可以使用 `result_type='expand'`
- en: '[PRE42]'
  id: totrans-223
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: To broadcast the result across the original columns (the old behaviour for list-likes
    of the correct length), you can use `result_type='broadcast'`. The shape must
    match the original columns.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 要在原始列上广播结果（正确长度的列表类似的旧行为），可以使用 `result_type='broadcast'`。形状必须与原始列匹配。
- en: '[PRE43]'
  id: totrans-225
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'Returning a `Series` allows one to control the exact return structure and column
    names:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 返回一个 `Series` 允许控制确切的返回结构和列名：
- en: '[PRE44]  ### Concatenation will no longer sort'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE44]  ### 连接将不再排序'
- en: In a future version of pandas [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") will no longer sort the non-concatenation axis when it is not
    already aligned. The current behavior is the same as the previous (sorting), but
    now a warning is issued when `sort` is not specified and the non-concatenation
    axis is not aligned ([GH 4588](https://github.com/pandas-dev/pandas/issues/4588)).
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 在未来的 pandas 版本中，[`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") 在非连接轴未对齐时将不再对其进行排序。当前行为与以前相同（排序），但现在在未指定 `sort` 且非连接轴未对齐时会发出警告（[GH
    4588](https://github.com/pandas-dev/pandas/issues/4588)）。
- en: '[PRE45]'
  id: totrans-229
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: To keep the previous behavior (sorting) and silence the warning, pass `sort=True`
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 要保留先前的行为（排序）并消除警告，请传递 `sort=True`
- en: '[PRE46]'
  id: totrans-231
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: To accept the future behavior (no sorting), pass `sort=False`
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 要接受未来行为（不排序），请传递 `sort=False`
- en: 'Note that this change also applies to `DataFrame.append()`, which has also
    received a `sort` keyword for controlling this behavior.  ### Build changes'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: '请注意，此更改也适用于 `DataFrame.append()`，它还接收了一个 `sort` 关键字以控制此行为。  ### 构建更改'
- en: Building pandas for development now requires `cython >= 0.24` ([GH 18613](https://github.com/pandas-dev/pandas/issues/18613))
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了开发构建 pandas，现在需要 `cython >= 0.24` ([GH 18613](https://github.com/pandas-dev/pandas/issues/18613))
- en: Building from source now explicitly requires `setuptools` in `setup.py` ([GH
    18113](https://github.com/pandas-dev/pandas/issues/18113))
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在从源代码构建明确要求 `setup.py` 中包含 `setuptools` ([GH 18113](https://github.com/pandas-dev/pandas/issues/18113))
- en: 'Updated conda recipe to be in compliance with conda-build 3.0+ ([GH 18002](https://github.com/pandas-dev/pandas/issues/18002))  ###
    Index division by zero fills correctly'
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '更新 conda 配方以符合 conda-build 3.0+ ([GH 18002](https://github.com/pandas-dev/pandas/issues/18002))  ###
    索引除以零填充正确'
- en: Division operations on `Index` and subclasses will now fill division of positive
    numbers by zero with `np.inf`, division of negative numbers by zero with `-np.inf`
    and `0 / 0` with `np.nan`. This matches existing `Series` behavior. ([GH 19322](https://github.com/pandas-dev/pandas/issues/19322),
    [GH 19347](https://github.com/pandas-dev/pandas/issues/19347))
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: '`Index` 及其子类上的除法运算现在将正数除以零填充为 `np.inf`，负数除以零填充为 `-np.inf`，以及 `0 / 0` 填充为 `np.nan`。这与现有的
    `Series` 行为相匹配。 ([GH 19322](https://github.com/pandas-dev/pandas/issues/19322),
    [GH 19347](https://github.com/pandas-dev/pandas/issues/19347))'
- en: 'Previous behavior:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: '先前的行为:'
- en: '[PRE47]'
  id: totrans-239
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'Current behavior:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: '当前行为:'
- en: '[PRE48]  ### Extraction of matching patterns from strings'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE48]  ### 从字符串中提取匹配模式'
- en: By default, extracting matching patterns from strings with `str.extract()` used
    to return a `Series` if a single group was being extracted (a `DataFrame` if more
    than one group was extracted). As of pandas 0.23.0 `str.extract()` always returns
    a `DataFrame`, unless `expand` is set to `False`. Finally, `None` was an accepted
    value for the `expand` parameter (which was equivalent to `False`), but now raises
    a `ValueError`. ([GH 11386](https://github.com/pandas-dev/pandas/issues/11386))
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，使用 `str.extract()` 从字符串中提取匹配模式，如果提取了单个组，则返回 `Series`（如果提取了多个组，则返回 `DataFrame`）。
    从 pandas 0.23.0 开始，`str.extract()` 总是返回 `DataFrame`，除非 `expand` 设置为 `False`。最后，`None`
    是 `expand` 参数的接受值（等同于 `False`），但现在会引发 `ValueError`。 ([GH 11386](https://github.com/pandas-dev/pandas/issues/11386))
- en: 'Previous behavior:'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '先前的行为:'
- en: '[PRE49]'
  id: totrans-244
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'New behavior:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: '新行为:'
- en: '[PRE50]'
  id: totrans-246
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'To restore previous behavior, simply set `expand` to `False`:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: '要恢复先前的行为，只需将 `expand` 设置为 `False`:'
- en: '[PRE51]  ### Default value for the `ordered` parameter of `CategoricalDtype`'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE51]  ### `CategoricalDtype` 的 `ordered` 参数的默认值'
- en: The default value of the `ordered` parameter for `CategoricalDtype` has changed
    from `False` to `None` to allow updating of `categories` without impacting `ordered`.
    Behavior should remain consistent for downstream objects, such as [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") ([GH 18790](https://github.com/pandas-dev/pandas/issues/18790))
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: '`CategoricalDtype` 的 `ordered` 参数的默认值已从 `False` 更改为 `None`，以允许更新 `categories`
    而不影响 `ordered`。行为应保持一致，以便于下游对象，例如 [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") ([GH 18790](https://github.com/pandas-dev/pandas/issues/18790))'
- en: In previous versions, the default value for the `ordered` parameter was `False`.
    This could potentially lead to the `ordered` parameter unintentionally being changed
    from `True` to `False` when users attempt to update `categories` if `ordered`
    is not explicitly specified, as it would silently default to `False`. The new
    behavior for `ordered=None` is to retain the existing value of `ordered`.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 在先前的版本中，`ordered` 参数的默认值为 `False`。这可能会导致用户在尝试更新 `categories` 时，如果未明确指定 `ordered`，则无意中将
    `ordered` 参数从 `True` 更改为 `False`，因为它会默认为 `False` 而没有提醒。`ordered=None` 的新行为是保留
    `ordered` 的现有值。
- en: 'New behavior:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: '新行为:'
- en: '[PRE52]'
  id: totrans-252
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: Notice in the example above that the converted `Categorical` has retained `ordered=True`.
    Had the default value for `ordered` remained as `False`, the converted `Categorical`
    would have become unordered, despite `ordered=False` never being explicitly specified.
    To change the value of `ordered`, explicitly pass it to the new dtype, e.g. `CategoricalDtype(categories=list('cbad'),
    ordered=False)`.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意上面的示例中，转换后的 `Categorical` 保留了 `ordered=True`。如果 `ordered` 的默认值仍然为 `False`，则转换后的
    `Categorical` 将变为无序，尽管从未显式指定过 `ordered=False`。要更改 `ordered` 的值，请将其明确传递给新的 dtype，例如
    `CategoricalDtype(categories=list('cbad'), ordered=False)`。
- en: 'Note that the unintentional conversion of `ordered` discussed above did not
    arise in previous versions due to separate bugs that prevented `astype` from doing
    any type of category to category conversion ([GH 10696](https://github.com/pandas-dev/pandas/issues/10696),
    [GH 18593](https://github.com/pandas-dev/pandas/issues/18593)). These bugs have
    been fixed in this release, and motivated changing the default value of `ordered`.  ###
    Better pretty-printing of DataFrames in a terminal'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: '请注意，由于分别存在阻止 `astype` 进行任何类型的类别到类别转换的错误（[GH 10696](https://github.com/pandas-dev/pandas/issues/10696)、[GH
    18593](https://github.com/pandas-dev/pandas/issues/18593)），因此上述讨论的 `ordered` 的意外转换在以前的版本中未出现。这些错误已在此版本中修复，并促使更改
    `ordered` 的默认值。  ### 更好的终端中的 DataFrame 漂亮打印'
- en: 'Previously, the default value for the maximum number of columns was `pd.options.display.max_columns=20`.
    This meant that relatively wide data frames would not fit within the terminal
    width, and pandas would introduce line breaks to display these 20 columns. This
    resulted in an output that was relatively difficult to read:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，最大列数的默认值为 `pd.options.display.max_columns=20`。这意味着相对较宽的数据帧将无法适应终端宽度，并且 pandas
    将引入换行符以显示这 20 列。这导致输出相对难以阅读：
- en: '![../_images/print_df_old.png](../Images/fbbeeee49fbf8f7df732a5d18f69c4d9.png)'
  id: totrans-256
  prefs: []
  type: TYPE_IMG
  zh: '![../_images/print_df_old.png](../Images/fbbeeee49fbf8f7df732a5d18f69c4d9.png)'
- en: 'If Python runs in a terminal, the maximum number of columns is now determined
    automatically so that the printed data frame fits within the current terminal
    width (`pd.options.display.max_columns=0`) ([GH 17023](https://github.com/pandas-dev/pandas/issues/17023)).
    If Python runs as a Jupyter kernel (such as the Jupyter QtConsole or a Jupyter
    notebook, as well as in many IDEs), this value cannot be inferred automatically
    and is thus set to `20` as in previous versions. In a terminal, this results in
    a much nicer output:'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 Python 在终端中运行，则现在会自动确定列的最大数量，以使打印的数据帧适合当前终端宽度（`pd.options.display.max_columns=0`）（[GH
    17023](https://github.com/pandas-dev/pandas/issues/17023)）。如果 Python 作为 Jupyter
    内核运行（例如 Jupyter QtConsole 或 Jupyter 笔记本，以及许多 IDE），则无法自动推断此值，因此将其设置为`20`，与以前的版本相同。在终端中，这会产生更好的输出：
- en: '![../_images/print_df_new.png](../Images/d48dbcf410ad41a0f4cee1ad0cb0171a.png)'
  id: totrans-258
  prefs: []
  type: TYPE_IMG
  zh: '![../_images/print_df_new.png](../Images/d48dbcf410ad41a0f4cee1ad0cb0171a.png)'
- en: 'Note that if you don’t like the new default, you can always set this option
    yourself. To revert to the old setting, you can run this line:'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，如果您不喜欢新的默认设置，则始终可以自己设置此选项。要恢复到旧设置，可以运行以下行：
- en: '[PRE53]  ### Datetimelike API changes'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE53]  ### Datetimelike API changes'
- en: The default `Timedelta` constructor now accepts an `ISO 8601 Duration` string
    as an argument ([GH 19040](https://github.com/pandas-dev/pandas/issues/19040))
  id: totrans-261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 默认的 `Timedelta` 构造函数现在接受 `ISO 8601 Duration` 字符串作为参数（[GH 19040](https://github.com/pandas-dev/pandas/issues/19040)）
- en: Subtracting `NaT` from a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `dtype='datetime64[ns]'` returns a `Series` with `dtype='timedelta64[ns]'`
    instead of `dtype='datetime64[ns]'` ([GH 18808](https://github.com/pandas-dev/pandas/issues/18808))
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从具有 `dtype='datetime64[ns]'` 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 中减去 `NaT` 会返回一个 `dtype='timedelta64[ns]'` 的 `Series`，而不是 `dtype='datetime64[ns]'`（[GH
    18808](https://github.com/pandas-dev/pandas/issues/18808)）
- en: Addition or subtraction of `NaT` from [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") will return `TimedeltaIndex` instead of `DatetimeIndex`
    ([GH 19124](https://github.com/pandas-dev/pandas/issues/19124))
  id: totrans-263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 中加或减 `NaT` 将返回 `TimedeltaIndex`，而不是 `DatetimeIndex`（[GH
    19124](https://github.com/pandas-dev/pandas/issues/19124))
- en: '`DatetimeIndex.shift()` and `TimedeltaIndex.shift()` will now raise `NullFrequencyError`
    (which subclasses `ValueError`, which was raised in older versions) when the index
    object frequency is `None` ([GH 19147](https://github.com/pandas-dev/pandas/issues/19147))'
  id: totrans-264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引对象频率为 `None` 时，`DatetimeIndex.shift()` 和 `TimedeltaIndex.shift()` 现在会引发 `NullFrequencyError`（它是
    `ValueError` 的子类，在旧版本中引发 `ValueError`）（[GH 19147](https://github.com/pandas-dev/pandas/issues/19147)）
- en: Addition and subtraction of `NaN` from a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `dtype='timedelta64[ns]'` will raise a `TypeError` instead
    of treating the `NaN` as `NaT` ([GH 19274](https://github.com/pandas-dev/pandas/issues/19274))
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从具有 `dtype='timedelta64[ns]'` 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 中加减 `NaN` 将引发 `TypeError`，而不是将 `NaN` 视为 `NaT`（[GH 19274](https://github.com/pandas-dev/pandas/issues/19274)）
- en: '`NaT` division with [`datetime.timedelta`](https://docs.python.org/3/library/datetime.html#datetime.timedelta
    "(in Python v3.12)") will now return `NaN` instead of raising ([GH 17876](https://github.com/pandas-dev/pandas/issues/17876))'
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用[`datetime.timedelta`](https://docs.python.org/3/library/datetime.html#datetime.timedelta
    "(in Python v3.12)")进行`NaT`除法现在将返回`NaN`，而不是引发异常（[GH 17876](https://github.com/pandas-dev/pandas/issues/17876))
- en: Operations between a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with dtype `dtype='datetime64[ns]'` and a [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") will correctly raises `TypeError` ([GH 18850](https://github.com/pandas-dev/pandas/issues/18850))
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")的dtype为`dtype='datetime64[ns]'`和[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")之间的操作将正确引发`TypeError`（[GH 18850](https://github.com/pandas-dev/pandas/issues/18850))
- en: Subtraction of [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with timezone-aware `dtype='datetime64[ns]'` with mismatched
    timezones will raise `TypeError` instead of `ValueError` ([GH 18817](https://github.com/pandas-dev/pandas/issues/18817))
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于带有不匹配时区的`dtype='datetime64[ns]'`的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")进行减法运算将引发`TypeError`，而不是`ValueError`（[GH 18817](https://github.com/pandas-dev/pandas/issues/18817))
- en: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    will no longer silently ignore unused or invalid `tz` or `tzinfo` keyword arguments
    ([GH 17690](https://github.com/pandas-dev/pandas/issues/17690))'
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")不再悄悄地忽略未使用或无效的`tz`或`tzinfo`关键字参数（[GH
    17690](https://github.com/pandas-dev/pandas/issues/17690))'
- en: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    will no longer silently ignore invalid `freq` arguments ([GH 5168](https://github.com/pandas-dev/pandas/issues/5168))'
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")不再悄悄地忽略无效的`freq`参数（[GH
    5168](https://github.com/pandas-dev/pandas/issues/5168))'
- en: '`CacheableOffset` and `WeekDay` are no longer available in the `pandas.tseries.offsets`
    module ([GH 17830](https://github.com/pandas-dev/pandas/issues/17830))'
  id: totrans-271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CacheableOffset`和`WeekDay`不再在`pandas.tseries.offsets`模块中可用（[GH 17830](https://github.com/pandas-dev/pandas/issues/17830))'
- en: '`pandas.tseries.frequencies.get_freq_group()` and `pandas.tseries.frequencies.DAYS`
    are removed from the public API ([GH 18034](https://github.com/pandas-dev/pandas/issues/18034))'
  id: totrans-272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.tseries.frequencies.get_freq_group()`和`pandas.tseries.frequencies.DAYS`已从公共API中移除（[GH
    18034](https://github.com/pandas-dev/pandas/issues/18034))'
- en: '[`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate") and [`DataFrame.truncate()`](../reference/api/pandas.DataFrame.truncate.html#pandas.DataFrame.truncate
    "pandas.DataFrame.truncate") will raise a `ValueError` if the index is not sorted
    instead of an unhelpful `KeyError` ([GH 17935](https://github.com/pandas-dev/pandas/issues/17935))'
  id: totrans-273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果索引未排序，[`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate")和[`DataFrame.truncate()`](../reference/api/pandas.DataFrame.truncate.html#pandas.DataFrame.truncate
    "pandas.DataFrame.truncate")将引发`ValueError`，而不是无用的`KeyError`（[GH 17935](https://github.com/pandas-dev/pandas/issues/17935))
- en: '[`Series.first`](../reference/api/pandas.Series.first.html#pandas.Series.first
    "pandas.Series.first") and [`DataFrame.first`](../reference/api/pandas.DataFrame.first.html#pandas.DataFrame.first
    "pandas.DataFrame.first") will now raise a `TypeError` rather than `NotImplementedError`
    when index is not a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 20725](https://github.com/pandas-dev/pandas/issues/20725)).'
  id: totrans-274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引不是[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")时，[`Series.first`](../reference/api/pandas.Series.first.html#pandas.Series.first
    "pandas.Series.first")和[`DataFrame.first`](../reference/api/pandas.DataFrame.first.html#pandas.DataFrame.first
    "pandas.DataFrame.first")现在将引发`TypeError`，而不是`NotImplementedError`（[GH 20725](https://github.com/pandas-dev/pandas/issues/20725)).
- en: '[`Series.last`](../reference/api/pandas.Series.last.html#pandas.Series.last
    "pandas.Series.last") and [`DataFrame.last`](../reference/api/pandas.DataFrame.last.html#pandas.DataFrame.last
    "pandas.DataFrame.last") will now raise a `TypeError` rather than `NotImplementedError`
    when index is not a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 20725](https://github.com/pandas-dev/pandas/issues/20725)).'
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引不是[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")时，[`Series.last`](../reference/api/pandas.Series.last.html#pandas.Series.last
    "pandas.Series.last")和[`DataFrame.last`](../reference/api/pandas.DataFrame.last.html#pandas.DataFrame.last
    "pandas.DataFrame.last")现在将引发`TypeError`，而不是`NotImplementedError`（[GH 20725](https://github.com/pandas-dev/pandas/issues/20725)).
- en: Restricted `DateOffset` keyword arguments. Previously, `DateOffset` subclasses
    allowed arbitrary keyword arguments which could lead to unexpected behavior. Now,
    only valid arguments will be accepted. ([GH 17176](https://github.com/pandas-dev/pandas/issues/17176),
    [GH 18226](https://github.com/pandas-dev/pandas/issues/18226)).
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 限制了`DateOffset`关键字参数。以前，`DateOffset`子类允许任意关键字参数，这可能导致意外行为。现在，只有有效的参数将被接受（[GH
    17176](https://github.com/pandas-dev/pandas/issues/17176)，[GH 18226](https://github.com/pandas-dev/pandas/issues/18226)）。
- en: '[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    provides a more informative error message when trying to merge on timezone-aware
    and timezone-naive columns ([GH 15800](https://github.com/pandas-dev/pandas/issues/15800))'
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在尝试在时区感知和时区无关的列上进行合并时，[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge")提供了更具信息性的错误消息（[GH 15800](https://github.com/pandas-dev/pandas/issues/15800)）。
- en: For [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") with `freq=None`, addition or subtraction of integer-dtyped
    array or `Index` will raise `NullFrequencyError` instead of `TypeError` ([GH 19895](https://github.com/pandas-dev/pandas/issues/19895))
  id: totrans-278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于具有`freq=None`的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")，对整数dtype数组或`Index`的加法或减法将引发`NullFrequencyError`而不是`TypeError`（[GH
    19895](https://github.com/pandas-dev/pandas/issues/19895)）。
- en: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    constructor now accepts a `nanosecond` keyword or positional argument ([GH 18898](https://github.com/pandas-dev/pandas/issues/18898))'
  id: totrans-279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")构造函数现在接受一个`nanosecond`关键字或位置参数（[GH
    18898](https://github.com/pandas-dev/pandas/issues/18898)）。'
- en: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") will now raise an `AttributeError` when the `tz` attribute
    is set after instantiation ([GH 3746](https://github.com/pandas-dev/pandas/issues/3746))'
  id: totrans-280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在实例化后设置`tz`属性时，[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")现在将引发`AttributeError`（[GH 3746](https://github.com/pandas-dev/pandas/issues/3746)）。
- en: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with a `pytz` timezone will now return a consistent `pytz`
    timezone ([GH 18595](https://github.com/pandas-dev/pandas/issues/18595))  ###
    Other API changes'
  id: totrans-281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '具有`pytz`时区的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")现在将返回一致的`pytz`时区（[GH 18595](https://github.com/pandas-dev/pandas/issues/18595)）  ###
    其他API更改'
- en: '[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") and [`Index.astype()`](../reference/api/pandas.Index.astype.html#pandas.Index.astype
    "pandas.Index.astype") with an incompatible dtype will now raise a `TypeError`
    rather than a `ValueError` ([GH 18231](https://github.com/pandas-dev/pandas/issues/18231))'
  id: totrans-282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当具有不兼容dtype的[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype")和[`Index.astype()`](../reference/api/pandas.Index.astype.html#pandas.Index.astype
    "pandas.Index.astype")时，现在将引发`TypeError`而不是`ValueError`（[GH 18231](https://github.com/pandas-dev/pandas/issues/18231)）。
- en: '`Series` construction with an `object` dtyped tz-aware datetime and `dtype=object`
    specified, will now return an `object` dtyped `Series`, previously this would
    infer the datetime dtype ([GH 18231](https://github.com/pandas-dev/pandas/issues/18231))'
  id: totrans-283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用具有`object` dtyped tz-aware datetime和指定`dtype=object`的`Series`构造，现在将返回一个`object`
    dtyped的`Series`，以前会推断datetime dtype（[GH 18231](https://github.com/pandas-dev/pandas/issues/18231)）。
- en: A [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    of `dtype=category` constructed from an empty `dict` will now have categories
    of `dtype=object` rather than `dtype=float64`, consistently with the case in which
    an empty list is passed ([GH 18515](https://github.com/pandas-dev/pandas/issues/18515))
  id: totrans-284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从空`dict`构造的`dtype=category`的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")现在将具有`dtype=object`的类别，而不是`dtype=float64`，与传递空列表的情况一致（[GH 18515](https://github.com/pandas-dev/pandas/issues/18515)）。
- en: All-NaN levels in a `MultiIndex` are now assigned `float` rather than `object`
    dtype, promoting consistency with `Index` ([GH 17929](https://github.com/pandas-dev/pandas/issues/17929)).
  id: totrans-285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有`MultiIndex`中的全NaN级别现在被分配为`float`而不是`object` dtype，以促进与`Index`的一致性（[GH 17929](https://github.com/pandas-dev/pandas/issues/17929)）。
- en: 'Levels names of a `MultiIndex` (when not None) are now required to be unique:
    trying to create a `MultiIndex` with repeated names will raise a `ValueError`
    ([GH 18872](https://github.com/pandas-dev/pandas/issues/18872))'
  id: totrans-286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex`的级别名称（当不为None时）现在必须是唯一的：尝试创建具有重复名称的`MultiIndex`将引发`ValueError`（[GH
    18872](https://github.com/pandas-dev/pandas/issues/18872)）'
- en: Both construction and renaming of `Index`/`MultiIndex` with non-hashable `name`/`names`
    will now raise `TypeError` ([GH 20527](https://github.com/pandas-dev/pandas/issues/20527))
  id: totrans-287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，构建和重命名具有非可哈希`name`/`names`的`Index`/`MultiIndex`都将引发`TypeError`（[GH 20527](https://github.com/pandas-dev/pandas/issues/20527)）
- en: '[`Index.map()`](../reference/api/pandas.Index.map.html#pandas.Index.map "pandas.Index.map")
    can now accept `Series` and dictionary input objects ([GH 12756](https://github.com/pandas-dev/pandas/issues/12756),
    [GH 18482](https://github.com/pandas-dev/pandas/issues/18482), [GH 18509](https://github.com/pandas-dev/pandas/issues/18509)).'
  id: totrans-288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.map()`](../reference/api/pandas.Index.map.html#pandas.Index.map "pandas.Index.map")现在可以接受`Series`和字典输入对象（[GH
    12756](https://github.com/pandas-dev/pandas/issues/12756), [GH 18482](https://github.com/pandas-dev/pandas/issues/18482),
    [GH 18509](https://github.com/pandas-dev/pandas/issues/18509)）'
- en: '[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") will now default to filling with `np.nan` for `object`
    columns. ([GH 12815](https://github.com/pandas-dev/pandas/issues/12815))'
  id: totrans-289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")现在默认使用`np.nan`填充`object`列（[GH 12815](https://github.com/pandas-dev/pandas/issues/12815)）'
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") constructor will raise if the `closed` parameter conflicts
    with how the input data is inferred to be closed ([GH 18421](https://github.com/pandas-dev/pandas/issues/18421))'
  id: totrans-290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果`closed`参数与推断为关闭的输入数据的方式发生冲突，[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")构造函数将引发错误（[GH 18421](https://github.com/pandas-dev/pandas/issues/18421)）
- en: Inserting missing values into indexes will work for all types of indexes and
    automatically insert the correct type of missing value (`NaN`, `NaT`, etc.) regardless
    of the type passed in ([GH 18295](https://github.com/pandas-dev/pandas/issues/18295))
  id: totrans-291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 插入缺失值到索引中将适用于所有类型的索引，并且无论传入的类型是什么，都会自动插入正确类型的缺失值（`NaN`、`NaT`等）（[GH 18295](https://github.com/pandas-dev/pandas/issues/18295)）
- en: When created with duplicate labels, `MultiIndex` now raises a `ValueError`.
    ([GH 17464](https://github.com/pandas-dev/pandas/issues/17464))
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当创建具有重复标签的`MultiIndex`时，现在会引发`ValueError`（[GH 17464](https://github.com/pandas-dev/pandas/issues/17464)）
- en: '[`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") now raises a `TypeError` instead of a `ValueError` when
    passed a list, tuple or DataFrame as a `value` ([GH 18293](https://github.com/pandas-dev/pandas/issues/18293))'
  id: totrans-293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当作为`value`传入列表、元组或数据框时，[`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna")现在会引发`TypeError`而不是`ValueError`（[GH 18293](https://github.com/pandas-dev/pandas/issues/18293)）
- en: '[`pandas.DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") no longer casts a `float` column to `object` when merging
    on `int` and `float` columns ([GH 16572](https://github.com/pandas-dev/pandas/issues/16572))'
  id: totrans-294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`int`和`float`列进行合并时，[`pandas.DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")不再将`float`列强制转换为`object`（[GH 16572](https://github.com/pandas-dev/pandas/issues/16572)）
- en: '[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    now raises a `ValueError` when trying to merge on incompatible data types ([GH
    9780](https://github.com/pandas-dev/pandas/issues/9780))'
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")现在在尝试在不兼容的数据类型上合并时会引发`ValueError`（[GH
    9780](https://github.com/pandas-dev/pandas/issues/9780)）'
- en: The default NA value for `UInt64Index` has changed from 0 to `NaN`, which impacts
    methods that mask with NA, such as `UInt64Index.where()` ([GH 18398](https://github.com/pandas-dev/pandas/issues/18398))
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`UInt64Index`的默认NA值已从0更改为`NaN`，这会影响具有NA掩码的方法，例如`UInt64Index.where()`（[GH 18398](https://github.com/pandas-dev/pandas/issues/18398)）'
- en: Refactored `setup.py` to use `find_packages` instead of explicitly listing out
    all subpackages ([GH 18535](https://github.com/pandas-dev/pandas/issues/18535))
  id: totrans-297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重构了`setup.py`以使用`find_packages`而不是显式列出所有子包（[GH 18535](https://github.com/pandas-dev/pandas/issues/18535)）
- en: Rearranged the order of keyword arguments in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") to align with [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") ([GH 16672](https://github.com/pandas-dev/pandas/issues/16672))
  id: totrans-298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重新排列了[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")中的关键字参数顺序，以与[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")对齐（[GH 16672](https://github.com/pandas-dev/pandas/issues/16672))
- en: '[`wide_to_long()`](../reference/api/pandas.wide_to_long.html#pandas.wide_to_long
    "pandas.wide_to_long") previously kept numeric-like suffixes as `object` dtype.
    Now they are cast to numeric if possible ([GH 17627](https://github.com/pandas-dev/pandas/issues/17627))'
  id: totrans-299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`wide_to_long()`](../reference/api/pandas.wide_to_long.html#pandas.wide_to_long
    "pandas.wide_to_long")之前将类似数字的后缀保留为`object`类型。现在如果可能的话会转换为数字类型（[GH 17627](https://github.com/pandas-dev/pandas/issues/17627))'
- en: In [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel"), the `comment` argument is now exposed as a named parameter
    ([GH 18735](https://github.com/pandas-dev/pandas/issues/18735))
  id: totrans-300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")中，`comment`参数现在作为一个命名参数暴露出来（[GH 18735](https://github.com/pandas-dev/pandas/issues/18735))
- en: Rearranged the order of keyword arguments in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") to align with [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") ([GH 16672](https://github.com/pandas-dev/pandas/issues/16672))
  id: totrans-301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重新排列了[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")中的关键字参数顺序，以与[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")对齐（[GH 16672](https://github.com/pandas-dev/pandas/issues/16672))
- en: The options `html.border` and `mode.use_inf_as_null` were deprecated in prior
    versions, these will now show `FutureWarning` rather than a `DeprecationWarning`
    ([GH 19003](https://github.com/pandas-dev/pandas/issues/19003))
  id: totrans-302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选项`html.border`和`mode.use_inf_as_null`在之前的版本中已被弃用，现在会显示`FutureWarning`而不是`DeprecationWarning`（[GH
    19003](https://github.com/pandas-dev/pandas/issues/19003))
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") and `IntervalDtype` no longer support categorical, object,
    and string subtypes ([GH 19016](https://github.com/pandas-dev/pandas/issues/19016))'
  id: totrans-303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")和`IntervalDtype`不再支持分类、对象和字符串子类型（[GH 19016](https://github.com/pandas-dev/pandas/issues/19016))'
- en: '`IntervalDtype` now returns `True` when compared against `''interval''` regardless
    of subtype, and `IntervalDtype.name` now returns `''interval''` regardless of
    subtype ([GH 18980](https://github.com/pandas-dev/pandas/issues/18980))'
  id: totrans-304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当与`'interval'`进行比较时，`IntervalDtype`现在会返回`True`，无论子类型如何，而`IntervalDtype.name`现在会返回`'interval'`，无论子类型如何（[GH
    18980](https://github.com/pandas-dev/pandas/issues/18980))
- en: '`KeyError` now raises instead of `ValueError` in [`drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop"), `drop()`, [`drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop"), [`drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop") when dropping a non-existent element in an axis with duplicates
    ([GH 19186](https://github.com/pandas-dev/pandas/issues/19186))'
  id: totrans-305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有重复元素的轴上删除不存在元素时，[`drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop")、`drop()`、[`drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop")、[`drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop")中的`KeyError`现在会引发而不是`ValueError`（[GH 19186](https://github.com/pandas-dev/pandas/issues/19186))
- en: '[`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv") now accepts a `compression` argument that works in the
    same way as the `compression` argument in [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") ([GH 18958](https://github.com/pandas-dev/pandas/issues/18958))'
  id: totrans-306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv")现在接受一个`compression`参数，其工作方式与[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv")中的`compression`参数相同（[GH 18958](https://github.com/pandas-dev/pandas/issues/18958))'
- en: Set operations (union, difference…) on [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") with incompatible index types will now raise a `TypeError`
    rather than a `ValueError` ([GH 19329](https://github.com/pandas-dev/pandas/issues/19329))
  id: totrans-307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在不兼容索引类型的[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")上进行集合操作（并集、差集等）现在会引发`TypeError`而不是`ValueError`（[GH 19329](https://github.com/pandas-dev/pandas/issues/19329))
- en: '`DateOffset` objects render more simply, e.g. `<DateOffset: days=1>` instead
    of `<DateOffset: kwds={''days'': 1}>` ([GH 19403](https://github.com/pandas-dev/pandas/issues/19403))'
  id: totrans-308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DateOffset` 对象的呈现更简单，例如 `<DateOffset: days=1>` 而不是 `<DateOffset: kwds={''days'':
    1}>`（[GH 19403](https://github.com/pandas-dev/pandas/issues/19403)）。'
- en: '`Categorical.fillna` now validates its `value` and `method` keyword arguments.
    It now raises when both or none are specified, matching the behavior of [`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") ([GH 19682](https://github.com/pandas-dev/pandas/issues/19682))'
  id: totrans-309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.fillna` 现在验证其 `value` 和 `method` 关键字参数。当两者都指定或都未指定时，它现在会引发错误，与
    [`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") 的行为相匹配（[GH 19682](https://github.com/pandas-dev/pandas/issues/19682)）。'
- en: '`pd.to_datetime(''today'')` now returns a datetime, consistent with `pd.Timestamp(''today'')`;
    previously `pd.to_datetime(''today'')` returned a `.normalized()` datetime ([GH
    19935](https://github.com/pandas-dev/pandas/issues/19935))'
  id: totrans-310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.to_datetime(''today'')` 现在返回一个 datetime，与 `pd.Timestamp(''today'')` 保持一致；之前
    `pd.to_datetime(''today'')` 返回一个 `.normalized()` datetime（[GH 19935](https://github.com/pandas-dev/pandas/issues/19935)）。'
- en: '[`Series.str.replace()`](../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace
    "pandas.Series.str.replace") now takes an optional `regex` keyword which, when
    set to `False`, uses literal string replacement rather than regex replacement
    ([GH 16808](https://github.com/pandas-dev/pandas/issues/16808))'
  id: totrans-311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.replace()`](../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace
    "pandas.Series.str.replace") 现在接受一个可选的 `regex` 关键字，当设置为 `False` 时，使用字面字符串替换而不是正则表达式替换（[GH
    16808](https://github.com/pandas-dev/pandas/issues/16808)）。'
- en: '[`DatetimeIndex.strftime()`](../reference/api/pandas.DatetimeIndex.strftime.html#pandas.DatetimeIndex.strftime
    "pandas.DatetimeIndex.strftime") and [`PeriodIndex.strftime()`](../reference/api/pandas.PeriodIndex.strftime.html#pandas.PeriodIndex.strftime
    "pandas.PeriodIndex.strftime") now return an `Index` instead of a numpy array
    to be consistent with similar accessors ([GH 20127](https://github.com/pandas-dev/pandas/issues/20127))'
  id: totrans-312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex.strftime()`](../reference/api/pandas.DatetimeIndex.strftime.html#pandas.DatetimeIndex.strftime
    "pandas.DatetimeIndex.strftime") 和 [`PeriodIndex.strftime()`](../reference/api/pandas.PeriodIndex.strftime.html#pandas.PeriodIndex.strftime
    "pandas.PeriodIndex.strftime") 现在返回一个 `Index`，而不是一个 numpy 数组，以与类似的访问器保持一致（[GH
    20127](https://github.com/pandas-dev/pandas/issues/20127)）。'
- en: Constructing a Series from a list of length 1 no longer broadcasts this list
    when a longer index is specified ([GH 19714](https://github.com/pandas-dev/pandas/issues/19714),
    [GH 20391](https://github.com/pandas-dev/pandas/issues/20391)).
  id: totrans-313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当指定更长的索引时，从长度为1的列表构造 Series 不再广播此列表（[GH 19714](https://github.com/pandas-dev/pandas/issues/19714)，[GH
    20391](https://github.com/pandas-dev/pandas/issues/20391)）。
- en: '[`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") with `orient=''index''` no longer casts int columns
    to float for a DataFrame with only int and float columns ([GH 18580](https://github.com/pandas-dev/pandas/issues/18580))'
  id: totrans-314
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") 在使用 `orient=''index''` 时不再将整数列强制转换为浮点数，适用于只有整数和浮点数列的
    DataFrame（[GH 18580](https://github.com/pandas-dev/pandas/issues/18580)）。'
- en: A user-defined-function that is passed to `Series.rolling().aggregate()`, `DataFrame.rolling().aggregate()`,
    or its expanding cousins, will now *always* be passed a `Series`, rather than
    a `np.array`; `.apply()` only has the `raw` keyword, see [here](#whatsnew-0230-enhancements-window-raw).
    This is consistent with the signatures of `.aggregate()` across pandas ([GH 20584](https://github.com/pandas-dev/pandas/issues/20584))
  id: totrans-315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当将用户定义的函数传递给 `Series.rolling().aggregate()`、`DataFrame.rolling().aggregate()`
    或其扩展版本时，现在*总是*传递 `Series`，而不是 `np.array`；`.apply()` 仅具有 `raw` 关键字，请参见 [这里](#whatsnew-0230-enhancements-window-raw)。这与
    pandas 中 `.aggregate()` 的签名保持一致（[GH 20584](https://github.com/pandas-dev/pandas/issues/20584)）。
- en: 'Rolling and Expanding types raise `NotImplementedError` upon iteration ([GH
    11704](https://github.com/pandas-dev/pandas/issues/11704)).  ## Deprecations'
  id: totrans-316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '滚动和扩展类型在迭代时会引发 `NotImplementedError`（[GH 11704](https://github.com/pandas-dev/pandas/issues/11704)）。
    ## 弃用功能'
- en: '`Series.from_array` and `SparseSeries.from_array` are deprecated. Use the normal
    constructor `Series(..)` and `SparseSeries(..)` instead ([GH 18213](https://github.com/pandas-dev/pandas/issues/18213)).'
  id: totrans-317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.from_array` 和 `SparseSeries.from_array` 已经弃用。请使用普通构造函数 `Series(..)`
    和 `SparseSeries(..)` 代替（[GH 18213](https://github.com/pandas-dev/pandas/issues/18213)）。'
- en: '`DataFrame.as_matrix` is deprecated. Use `DataFrame.values` instead ([GH 18458](https://github.com/pandas-dev/pandas/issues/18458)).'
  id: totrans-318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.as_matrix` 已经弃用。请使用 `DataFrame.values` 代替（[GH 18458](https://github.com/pandas-dev/pandas/issues/18458)）。'
- en: '`Series.asobject`, `DatetimeIndex.asobject`, `PeriodIndex.asobject` and `TimeDeltaIndex.asobject`
    have been deprecated. Use `.astype(object)` instead ([GH 18572](https://github.com/pandas-dev/pandas/issues/18572))'
  id: totrans-319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.asobject`、`DatetimeIndex.asobject`、`PeriodIndex.asobject`和`TimeDeltaIndex.asobject`已被弃用。改用`.astype(object)`代替（[GH
    18572](https://github.com/pandas-dev/pandas/issues/18572)）'
- en: Grouping by a tuple of keys now emits a `FutureWarning` and is deprecated. In
    the future, a tuple passed to `'by'` will always refer to a single key that is
    the actual tuple, instead of treating the tuple as multiple keys. To retain the
    previous behavior, use a list instead of a tuple ([GH 18314](https://github.com/pandas-dev/pandas/issues/18314))
  id: totrans-320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过键元组分组现在会发出`FutureWarning`并已弃用。将来，传递给`'by'`的元组将始终指代一个实际元组的单个键，而不是将元组视为多个键。要保留先前的行为，请使用列表而不是元组（[GH
    18314](https://github.com/pandas-dev/pandas/issues/18314)）
- en: '`Series.valid` is deprecated. Use [`Series.dropna()`](../reference/api/pandas.Series.dropna.html#pandas.Series.dropna
    "pandas.Series.dropna") instead ([GH 18800](https://github.com/pandas-dev/pandas/issues/18800)).'
  id: totrans-321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.valid`已弃用。改用[`Series.dropna()`](../reference/api/pandas.Series.dropna.html#pandas.Series.dropna
    "pandas.Series.dropna")代替（[GH 18800](https://github.com/pandas-dev/pandas/issues/18800)）'
- en: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") has deprecated the `skip_footer` parameter. Use `skipfooter`
    instead ([GH 18836](https://github.com/pandas-dev/pandas/issues/18836))'
  id: totrans-322
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")已弃用`skip_footer`参数。改用`skipfooter`代替（[GH 18836](https://github.com/pandas-dev/pandas/issues/18836)）'
- en: '[`ExcelFile.parse()`](../reference/api/pandas.ExcelFile.parse.html#pandas.ExcelFile.parse
    "pandas.ExcelFile.parse") has deprecated `sheetname` in favor of `sheet_name`
    for consistency with [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") ([GH 20920](https://github.com/pandas-dev/pandas/issues/20920)).'
  id: totrans-323
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ExcelFile.parse()`](../reference/api/pandas.ExcelFile.parse.html#pandas.ExcelFile.parse
    "pandas.ExcelFile.parse")已弃用`sheetname`，改用`sheet_name`以与[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")保持一致（[GH 20920](https://github.com/pandas-dev/pandas/issues/20920)）'
- en: The `is_copy` attribute is deprecated and will be removed in a future version
    ([GH 18801](https://github.com/pandas-dev/pandas/issues/18801)).
  id: totrans-324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`is_copy`属性已弃用，并将在将来的版本中移除（[GH 18801](https://github.com/pandas-dev/pandas/issues/18801)）'
- en: '`IntervalIndex.from_intervals` is deprecated in favor of the [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") constructor ([GH 19263](https://github.com/pandas-dev/pandas/issues/19263))'
  id: totrans-325
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.from_intervals`已弃用，推荐使用[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")构造函数（[GH 19263](https://github.com/pandas-dev/pandas/issues/19263)）'
- en: '`DataFrame.from_items` is deprecated. Use [`DataFrame.from_dict()`](../reference/api/pandas.DataFrame.from_dict.html#pandas.DataFrame.from_dict
    "pandas.DataFrame.from_dict") instead, or `DataFrame.from_dict(OrderedDict())`
    if you wish to preserve the key order ([GH 17320](https://github.com/pandas-dev/pandas/issues/17320),
    [GH 17312](https://github.com/pandas-dev/pandas/issues/17312))'
  id: totrans-326
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.from_items`已弃用。改用[`DataFrame.from_dict()`](../reference/api/pandas.DataFrame.from_dict.html#pandas.DataFrame.from_dict
    "pandas.DataFrame.from_dict")代替，或者如果希望保留键顺序，则使用`DataFrame.from_dict(OrderedDict())`（[GH
    17320](https://github.com/pandas-dev/pandas/issues/17320)，[GH 17312](https://github.com/pandas-dev/pandas/issues/17312)）'
- en: Indexing a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") or a `FloatIndex` with a list containing some missing keys
    will now show a [`FutureWarning`](https://docs.python.org/3/library/exceptions.html#FutureWarning
    "(in Python v3.12)"), which is consistent with other types of indexes ([GH 17758](https://github.com/pandas-dev/pandas/issues/17758)).
  id: totrans-327
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用包含一些缺失键的列表对[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")或`FloatIndex`进行索引现在会显示一个[`FutureWarning`](https://docs.python.org/3/library/exceptions.html#FutureWarning
    "(在Python v3.12中)")，这与其他类型的索引一致（[GH 17758](https://github.com/pandas-dev/pandas/issues/17758)）
- en: The `broadcast` parameter of `.apply()` is deprecated in favor of `result_type='broadcast'`
    ([GH 18577](https://github.com/pandas-dev/pandas/issues/18577))
  id: totrans-328
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.apply()`的`broadcast`参数已弃用，推荐使用`result_type=''broadcast''`（[GH 18577](https://github.com/pandas-dev/pandas/issues/18577)）'
- en: The `reduce` parameter of `.apply()` is deprecated in favor of `result_type='reduce'`
    ([GH 18577](https://github.com/pandas-dev/pandas/issues/18577))
  id: totrans-329
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.apply()`的`reduce`参数已弃用，推荐使用`result_type=''reduce''`（[GH 18577](https://github.com/pandas-dev/pandas/issues/18577)）'
- en: The `order` parameter of [`factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize") is deprecated and will be removed in a future release ([GH
    19727](https://github.com/pandas-dev/pandas/issues/19727))
  id: totrans-330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`factorize()`](../reference/api/pandas.factorize.html#pandas.factorize "pandas.factorize")
    的 `order` 参数已被弃用，并将在将来的版本中移除（[GH 19727](https://github.com/pandas-dev/pandas/issues/19727)）'
- en: '`Timestamp.weekday_name`, `DatetimeIndex.weekday_name`, and `Series.dt.weekday_name`
    are deprecated in favor of [`Timestamp.day_name()`](../reference/api/pandas.Timestamp.day_name.html#pandas.Timestamp.day_name
    "pandas.Timestamp.day_name"), [`DatetimeIndex.day_name()`](../reference/api/pandas.DatetimeIndex.day_name.html#pandas.DatetimeIndex.day_name
    "pandas.DatetimeIndex.day_name"), and [`Series.dt.day_name()`](../reference/api/pandas.Series.dt.day_name.html#pandas.Series.dt.day_name
    "pandas.Series.dt.day_name") ([GH 12806](https://github.com/pandas-dev/pandas/issues/12806))'
  id: totrans-331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timestamp.weekday_name`、`DatetimeIndex.weekday_name` 和 `Series.dt.weekday_name`
    已被弃用，推荐使用 [`Timestamp.day_name()`](../reference/api/pandas.Timestamp.day_name.html#pandas.Timestamp.day_name
    "pandas.Timestamp.day_name")、[`DatetimeIndex.day_name()`](../reference/api/pandas.DatetimeIndex.day_name.html#pandas.DatetimeIndex.day_name
    "pandas.DatetimeIndex.day_name") 和 [`Series.dt.day_name()`](../reference/api/pandas.Series.dt.day_name.html#pandas.Series.dt.day_name
    "pandas.Series.dt.day_name") 代替（[GH 12806](https://github.com/pandas-dev/pandas/issues/12806)）'
- en: '`pandas.tseries.plotting.tsplot` is deprecated. Use [`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot") instead ([GH 18627](https://github.com/pandas-dev/pandas/issues/18627))'
  id: totrans-332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.tseries.plotting.tsplot` 已弃用。请使用 [`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot") 代替（[GH 18627](https://github.com/pandas-dev/pandas/issues/18627)）'
- en: '`Index.summary()` is deprecated and will be removed in a future version ([GH
    18217](https://github.com/pandas-dev/pandas/issues/18217))'
  id: totrans-333
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.summary()` 已弃用，并将在将来的版本中移除（[GH 18217](https://github.com/pandas-dev/pandas/issues/18217)）'
- en: '`NDFrame.get_ftype_counts()` is deprecated and will be removed in a future
    version ([GH 18243](https://github.com/pandas-dev/pandas/issues/18243))'
  id: totrans-334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`NDFrame.get_ftype_counts()` 已被弃用，并将在将来的版本中移除（[GH 18243](https://github.com/pandas-dev/pandas/issues/18243)）'
- en: The `convert_datetime64` parameter in [`DataFrame.to_records()`](../reference/api/pandas.DataFrame.to_records.html#pandas.DataFrame.to_records
    "pandas.DataFrame.to_records") has been deprecated and will be removed in a future
    version. The NumPy bug motivating this parameter has been resolved. The default
    value for this parameter has also changed from `True` to `None` ([GH 18160](https://github.com/pandas-dev/pandas/issues/18160)).
  id: totrans-335
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_records()`](../reference/api/pandas.DataFrame.to_records.html#pandas.DataFrame.to_records
    "pandas.DataFrame.to_records") 中的 `convert_datetime64` 参数已被弃用，并将在将来的版本中移除。引起此参数的
    NumPy 错误已得到解决。此参数的默认值也从 `True` 更改为 `None`（[GH 18160](https://github.com/pandas-dev/pandas/issues/18160)）。'
- en: '`Series.rolling().apply()`, `DataFrame.rolling().apply()`, `Series.expanding().apply()`,
    and `DataFrame.expanding().apply()` have deprecated passing an `np.array` by default.
    One will need to pass the new `raw` parameter to be explicit about what is passed
    ([GH 20584](https://github.com/pandas-dev/pandas/issues/20584))'
  id: totrans-336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.rolling().apply()`、`DataFrame.rolling().apply()`、`Series.expanding().apply()`
    和 `DataFrame.expanding().apply()` 默认不再支持传递 `np.array`。现在需要通过传递新的 `raw` 参数来明确传递的内容（[GH
    20584](https://github.com/pandas-dev/pandas/issues/20584)）'
- en: The `data`, `base`, `strides`, `flags` and `itemsize` properties of the `Series`
    and `Index` classes have been deprecated and will be removed in a future version
    ([GH 20419](https://github.com/pandas-dev/pandas/issues/20419)).
  id: totrans-337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series` 和 `Index` 类的 `data`、`base`、`strides`、`flags` 和 `itemsize` 属性已弃用，并将在将来的版本中移除（[GH
    20419](https://github.com/pandas-dev/pandas/issues/20419)）。'
- en: '`DatetimeIndex.offset` is deprecated. Use `DatetimeIndex.freq` instead ([GH
    20716](https://github.com/pandas-dev/pandas/issues/20716))'
  id: totrans-338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.offset` 已弃用。请使用 `DatetimeIndex.freq` 代替（[GH 20716](https://github.com/pandas-dev/pandas/issues/20716)）'
- en: Floor division between an integer ndarray and a [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") is deprecated. Divide by [`Timedelta.value`](../reference/api/pandas.Timedelta.value.html#pandas.Timedelta.value
    "pandas.Timedelta.value") instead ([GH 19761](https://github.com/pandas-dev/pandas/issues/19761))
  id: totrans-339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 整数 ndarray 和 [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") 之间的地板除法已弃用。请改为除以 [`Timedelta.value`](../reference/api/pandas.Timedelta.value.html#pandas.Timedelta.value
    "pandas.Timedelta.value")（[GH 19761](https://github.com/pandas-dev/pandas/issues/19761)）
- en: Setting `PeriodIndex.freq` (which was not guaranteed to work correctly) is deprecated.
    Use [`PeriodIndex.asfreq()`](../reference/api/pandas.PeriodIndex.asfreq.html#pandas.PeriodIndex.asfreq
    "pandas.PeriodIndex.asfreq") instead ([GH 20678](https://github.com/pandas-dev/pandas/issues/20678))
  id: totrans-340
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置 `PeriodIndex.freq`（不能保证正确工作）已被弃用。请改用 [`PeriodIndex.asfreq()`](../reference/api/pandas.PeriodIndex.asfreq.html#pandas.PeriodIndex.asfreq
    "pandas.PeriodIndex.asfreq")（[GH 20678](https://github.com/pandas-dev/pandas/issues/20678)）
- en: '`Index.get_duplicates()` is deprecated and will be removed in a future version
    ([GH 20239](https://github.com/pandas-dev/pandas/issues/20239))'
  id: totrans-341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.get_duplicates()` 已弃用，并将在将来的版本中移除（[GH 20239](https://github.com/pandas-dev/pandas/issues/20239)）'
- en: The previous default behavior of negative indices in `Categorical.take` is deprecated.
    In a future version it will change from meaning missing values to meaning positional
    indices from the right. The future behavior is consistent with [`Series.take()`](../reference/api/pandas.Series.take.html#pandas.Series.take
    "pandas.Series.take") ([GH 20664](https://github.com/pandas-dev/pandas/issues/20664)).
  id: totrans-342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.take` 中负索引的先前默认行为已弃用。在将来的版本中，它将从表示缺失值更改为表示从右侧的位置索引。未来行为与 [`Series.take()`](../reference/api/pandas.Series.take.html#pandas.Series.take
    "pandas.Series.take") 一致（[GH 20664](https://github.com/pandas-dev/pandas/issues/20664)）'
- en: 'Passing multiple axes to the `axis` parameter in [`DataFrame.dropna()`](../reference/api/pandas.DataFrame.dropna.html#pandas.DataFrame.dropna
    "pandas.DataFrame.dropna") has been deprecated and will be removed in a future
    version ([GH 20987](https://github.com/pandas-dev/pandas/issues/20987))  ## Removal
    of prior version deprecations/changes'
  id: totrans-343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.dropna()`](../reference/api/pandas.DataFrame.dropna.html#pandas.DataFrame.dropna
    "pandas.DataFrame.dropna") 中将多个轴传递给 `axis` 参数已被弃用，并将在将来的版本中移除（[GH 20987](https://github.com/pandas-dev/pandas/issues/20987)）##
    移除之前版本的弃用/更改
- en: Warnings against the obsolete usage `Categorical(codes, categories)`, which
    were emitted for instance when the first two arguments to `Categorical()` had
    different dtypes, and recommended the use of `Categorical.from_codes`, have now
    been removed ([GH 8074](https://github.com/pandas-dev/pandas/issues/8074))
  id: totrans-344
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不再建议使用 `Categorical(codes, categories)`，当 `Categorical()` 的前两个参数具有不同的数据类型时会发出警告，建议改用
    `Categorical.from_codes`（[GH 8074](https://github.com/pandas-dev/pandas/issues/8074)）
- en: The `levels` and `labels` attributes of a `MultiIndex` can no longer be set
    directly ([GH 4039](https://github.com/pandas-dev/pandas/issues/4039)).
  id: totrans-345
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex` 的 `levels` 和 `labels` 属性不再可以直接设置（[GH 4039](https://github.com/pandas-dev/pandas/issues/4039)）'
- en: '`pd.tseries.util.pivot_annual` has been removed (deprecated since v0.19). Use
    `pivot_table` instead ([GH 18370](https://github.com/pandas-dev/pandas/issues/18370))'
  id: totrans-346
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.tseries.util.pivot_annual` 已被移除（自 v0.19 起已弃用）。请改用 `pivot_table`（[GH 18370](https://github.com/pandas-dev/pandas/issues/18370)）'
- en: '`pd.tseries.util.isleapyear` has been removed (deprecated since v0.19). Use
    `.is_leap_year` property in Datetime-likes instead ([GH 18370](https://github.com/pandas-dev/pandas/issues/18370))'
  id: totrans-347
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.tseries.util.isleapyear` 已被移除（自 v0.19 起已弃用）。请改用 Datetime-likes 中的 `.is_leap_year`
    属性（[GH 18370](https://github.com/pandas-dev/pandas/issues/18370)）'
- en: '`pd.ordered_merge` has been removed (deprecated since v0.19). Use `pd.merge_ordered`
    instead ([GH 18459](https://github.com/pandas-dev/pandas/issues/18459))'
  id: totrans-348
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.ordered_merge` 已被移除（自 v0.19 起已弃用）。请改用 `pd.merge_ordered`（[GH 18459](https://github.com/pandas-dev/pandas/issues/18459)）'
- en: The `SparseList` class has been removed ([GH 14007](https://github.com/pandas-dev/pandas/issues/14007))
  id: totrans-349
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseList` 类已被移除（[GH 14007](https://github.com/pandas-dev/pandas/issues/14007)）'
- en: The `pandas.io.wb` and `pandas.io.data` stub modules have been removed ([GH
    13735](https://github.com/pandas-dev/pandas/issues/13735))
  id: totrans-350
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.io.wb` 和 `pandas.io.data` 存根模块已被移除（[GH 13735](https://github.com/pandas-dev/pandas/issues/13735)）'
- en: '`Categorical.from_array` has been removed ([GH 13854](https://github.com/pandas-dev/pandas/issues/13854))'
  id: totrans-351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.from_array` 已被移除（[GH 13854](https://github.com/pandas-dev/pandas/issues/13854)）'
- en: The `freq` and `how` parameters have been removed from the `rolling`/`expanding`/`ewm`
    methods of DataFrame and Series (deprecated since v0.18). Instead, resample before
    calling the methods. ([GH 18601](https://github.com/pandas-dev/pandas/issues/18601)
    & [GH 18668](https://github.com/pandas-dev/pandas/issues/18668))
  id: totrans-352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame` 和 `Series` 的 `rolling`/`expanding`/`ewm` 方法中的 `freq` 和 `how` 参数已被移除（自
    v0.18 起已弃用）。请在调用方法之前重新采样（[GH 18601](https://github.com/pandas-dev/pandas/issues/18601)
    & [GH 18668](https://github.com/pandas-dev/pandas/issues/18668)）'
- en: '`DatetimeIndex.to_datetime`, `Timestamp.to_datetime`, `PeriodIndex.to_datetime`,
    and `Index.to_datetime` have been removed ([GH 8254](https://github.com/pandas-dev/pandas/issues/8254),
    [GH 14096](https://github.com/pandas-dev/pandas/issues/14096), [GH 14113](https://github.com/pandas-dev/pandas/issues/14113))'
  id: totrans-353
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.to_datetime`、`Timestamp.to_datetime`、`PeriodIndex.to_datetime`
    和 `Index.to_datetime` 已被删除 ([GH 8254](https://github.com/pandas-dev/pandas/issues/8254),
    [GH 14096](https://github.com/pandas-dev/pandas/issues/14096), [GH 14113](https://github.com/pandas-dev/pandas/issues/14113))'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    has dropped the `skip_footer` parameter ([GH 13386](https://github.com/pandas-dev/pandas/issues/13386))'
  id: totrans-354
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    删除了 `skip_footer` 参数 ([GH 13386](https://github.com/pandas-dev/pandas/issues/13386))'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    has dropped the `as_recarray` parameter ([GH 13373](https://github.com/pandas-dev/pandas/issues/13373))'
  id: totrans-355
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    删除了 `as_recarray` 参数 ([GH 13373](https://github.com/pandas-dev/pandas/issues/13373))'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    has dropped the `buffer_lines` parameter ([GH 13360](https://github.com/pandas-dev/pandas/issues/13360))'
  id: totrans-356
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    删除了 `buffer_lines` 参数 ([GH 13360](https://github.com/pandas-dev/pandas/issues/13360))'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    has dropped the `compact_ints` and `use_unsigned` parameters ([GH 13323](https://github.com/pandas-dev/pandas/issues/13323))'
  id: totrans-357
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    删除了 `compact_ints` 和 `use_unsigned` 参数 ([GH 13323](https://github.com/pandas-dev/pandas/issues/13323))'
- en: The `Timestamp` class has dropped the `offset` attribute in favor of `freq`
    ([GH 13593](https://github.com/pandas-dev/pandas/issues/13593))
  id: totrans-358
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timestamp` 类已删除了 `offset` 属性，改为使用 `freq` ([GH 13593](https://github.com/pandas-dev/pandas/issues/13593))'
- en: The `Series`, `Categorical`, and `Index` classes have dropped the `reshape`
    method ([GH 13012](https://github.com/pandas-dev/pandas/issues/13012))
  id: totrans-359
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series`、`Categorical` 和 `Index` 类已删除了 `reshape` 方法 ([GH 13012](https://github.com/pandas-dev/pandas/issues/13012))'
- en: '`pandas.tseries.frequencies.get_standard_freq` has been removed in favor of
    `pandas.tseries.frequencies.to_offset(freq).rule_code` ([GH 13874](https://github.com/pandas-dev/pandas/issues/13874))'
  id: totrans-360
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.tseries.frequencies.get_standard_freq` 已被删除，改为使用 `pandas.tseries.frequencies.to_offset(freq).rule_code`
    ([GH 13874](https://github.com/pandas-dev/pandas/issues/13874))'
- en: The `freqstr` keyword has been removed from `pandas.tseries.frequencies.to_offset`
    in favor of `freq` ([GH 13874](https://github.com/pandas-dev/pandas/issues/13874))
  id: totrans-361
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.tseries.frequencies.to_offset` 中已删除了 `freqstr` 关键字，改为使用 `freq` ([GH
    13874](https://github.com/pandas-dev/pandas/issues/13874))'
- en: The `Panel4D` and `PanelND` classes have been removed ([GH 13776](https://github.com/pandas-dev/pandas/issues/13776))
  id: totrans-362
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Panel4D` 和 `PanelND` 类已被删除 ([GH 13776](https://github.com/pandas-dev/pandas/issues/13776))'
- en: The `Panel` class has dropped the `to_long` and `toLong` methods ([GH 19077](https://github.com/pandas-dev/pandas/issues/19077))
  id: totrans-363
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Panel` 类已删除了 `to_long` 和 `toLong` 方法 ([GH 19077](https://github.com/pandas-dev/pandas/issues/19077))'
- en: The options `display.line_with` and `display.height` are removed in favor of
    `display.width` and `display.max_rows` respectively ([GH 4391](https://github.com/pandas-dev/pandas/issues/4391),
    [GH 19107](https://github.com/pandas-dev/pandas/issues/19107))
  id: totrans-364
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`display.line_with` 和 `display.height` 选项已被删除，改为分别使用 `display.width` 和 `display.max_rows`
    ([GH 4391](https://github.com/pandas-dev/pandas/issues/4391), [GH 19107](https://github.com/pandas-dev/pandas/issues/19107))'
- en: The `labels` attribute of the `Categorical` class has been removed in favor
    of [`Categorical.codes`](../reference/api/pandas.Categorical.codes.html#pandas.Categorical.codes
    "pandas.Categorical.codes") ([GH 7768](https://github.com/pandas-dev/pandas/issues/7768))
  id: totrans-365
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical` 类的 `labels` 属性已被删除，改为使用 [`Categorical.codes`](../reference/api/pandas.Categorical.codes.html#pandas.Categorical.codes
    "pandas.Categorical.codes") ([GH 7768](https://github.com/pandas-dev/pandas/issues/7768))'
- en: The `flavor` parameter have been removed from `to_sql()` method ([GH 13611](https://github.com/pandas-dev/pandas/issues/13611))
  id: totrans-366
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_sql()` 方法中已删除了 `flavor` 参数 ([GH 13611](https://github.com/pandas-dev/pandas/issues/13611))'
- en: The modules `pandas.tools.hashing` and `pandas.util.hashing` have been removed
    ([GH 16223](https://github.com/pandas-dev/pandas/issues/16223))
  id: totrans-367
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模块 `pandas.tools.hashing` 和 `pandas.util.hashing` 已被删除 ([GH 16223](https://github.com/pandas-dev/pandas/issues/16223))
- en: The top-level functions `pd.rolling_*`, `pd.expanding_*` and `pd.ewm*` have
    been removed (Deprecated since v0.18). Instead, use the DataFrame/Series methods
    [`rolling`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling"), [`expanding`](../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding
    "pandas.DataFrame.expanding") and [`ewm`](../reference/api/pandas.DataFrame.ewm.html#pandas.DataFrame.ewm
    "pandas.DataFrame.ewm") ([GH 18723](https://github.com/pandas-dev/pandas/issues/18723))
  id: totrans-368
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 顶层函数`pd.rolling_*`、`pd.expanding_*`和`pd.ewm*`已被移除（自v0.18起弃用）。取而代之的是使用DataFrame/Series方法[`rolling`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling")、[`expanding`](../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding
    "pandas.DataFrame.expanding")和[`ewm`](../reference/api/pandas.DataFrame.ewm.html#pandas.DataFrame.ewm
    "pandas.DataFrame.ewm")（[GH 18723](https://github.com/pandas-dev/pandas/issues/18723))
- en: Imports from `pandas.core.common` for functions such as `is_datetime64_dtype`
    are now removed. These are located in `pandas.api.types`. ([GH 13634](https://github.com/pandas-dev/pandas/issues/13634),
    [GH 19769](https://github.com/pandas-dev/pandas/issues/19769))
  id: totrans-369
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从`pandas.core.common`导入函数（如`is_datetime64_dtype`）已被移除。这些函数现在位于`pandas.api.types`中（[GH
    13634](https://github.com/pandas-dev/pandas/issues/13634), [GH 19769](https://github.com/pandas-dev/pandas/issues/19769))
- en: The `infer_dst` keyword in [`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize"), [`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize") and [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") have been removed. `infer_dst=True` is equivalent to `ambiguous='infer'`,
    and `infer_dst=False` to `ambiguous='raise'` ([GH 7963](https://github.com/pandas-dev/pandas/issues/7963)).
  id: totrans-370
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize")、[`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize")和[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")中的`infer_dst`关键字已被移除。`infer_dst=True`等同于`ambiguous=''infer''`，`infer_dst=False`等同于`ambiguous=''raise''`（[GH
    7963](https://github.com/pandas-dev/pandas/issues/7963)).'
- en: When `.resample()` was changed from an eager to a lazy operation, like `.groupby()`
    in v0.18.0, we put in place compatibility (with a `FutureWarning`), so operations
    would continue to work. This is now fully removed, so a `Resampler` will no longer
    forward compat operations ([GH 20554](https://github.com/pandas-dev/pandas/issues/20554))
  id: totrans-371
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`.resample()`从eager操作更改为lazy操作，类似于v0.18.0中的`.groupby()`时，我们实施了兼容性（带有`FutureWarning`），以便操作继续工作。现在完全移除了这一点，因此`Resampler`将不再支持向前兼容操作（[GH
    20554](https://github.com/pandas-dev/pandas/issues/20554))
- en: 'Remove long deprecated `axis=None` parameter from `.replace()` ([GH 20271](https://github.com/pandas-dev/pandas/issues/20271))  ##
    Performance improvements'
  id: totrans-372
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '从`.replace()`方法中移除了长期弃用的`axis=None`参数（[GH 20271](https://github.com/pandas-dev/pandas/issues/20271))  ##
    性能改进'
- en: Indexers on `Series` or `DataFrame` no longer create a reference cycle ([GH
    17956](https://github.com/pandas-dev/pandas/issues/17956))
  id: totrans-373
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series`或`DataFrame`上的索引器不再创建引用循环（[GH 17956](https://github.com/pandas-dev/pandas/issues/17956))'
- en: Added a keyword argument, `cache`, to [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") that improved the performance of converting duplicate datetime
    arguments ([GH 11665](https://github.com/pandas-dev/pandas/issues/11665))
  id: totrans-374
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中添加了一个关键字参数`cache`，用于提高转换重复datetime参数的性能（[GH 11665](https://github.com/pandas-dev/pandas/issues/11665))
- en: '`DateOffset` arithmetic performance is improved ([GH 18218](https://github.com/pandas-dev/pandas/issues/18218))'
  id: totrans-375
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DateOffset`算术性能得到改善（[GH 18218](https://github.com/pandas-dev/pandas/issues/18218))'
- en: Converting a `Series` of `Timedelta` objects to days, seconds, etc… sped up
    through vectorization of underlying methods ([GH 18092](https://github.com/pandas-dev/pandas/issues/18092))
  id: totrans-376
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将`Series`中的`Timedelta`对象转换为days、seconds等的速度通过底层方法的向量化得到提升（[GH 18092](https://github.com/pandas-dev/pandas/issues/18092))
- en: Improved performance of `.map()` with a `Series/dict` input ([GH 15081](https://github.com/pandas-dev/pandas/issues/15081))
  id: totrans-377
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过`Series/dict`输入改进了`.map()`方法的性能（[GH 15081](https://github.com/pandas-dev/pandas/issues/15081))
- en: The overridden `Timedelta` properties of days, seconds and microseconds have
    been removed, leveraging their built-in Python versions instead ([GH 18242](https://github.com/pandas-dev/pandas/issues/18242))
  id: totrans-378
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 覆盖的`Timedelta`属性days、seconds和microseconds已被移除，改为使用其内置的Python版本（[GH 18242](https://github.com/pandas-dev/pandas/issues/18242))
- en: '`Series` construction will reduce the number of copies made of the input data
    in certain cases ([GH 17449](https://github.com/pandas-dev/pandas/issues/17449))'
  id: totrans-379
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在某些情况下，`Series`构造将减少对输入数据的副本数量（[GH 17449](https://github.com/pandas-dev/pandas/issues/17449)）
- en: Improved performance of [`Series.dt.date()`](../reference/api/pandas.Series.dt.date.html#pandas.Series.dt.date
    "pandas.Series.dt.date") and [`DatetimeIndex.date()`](../reference/api/pandas.DatetimeIndex.date.html#pandas.DatetimeIndex.date
    "pandas.DatetimeIndex.date") ([GH 18058](https://github.com/pandas-dev/pandas/issues/18058))
  id: totrans-380
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提高了[`Series.dt.date()`](../reference/api/pandas.Series.dt.date.html#pandas.Series.dt.date
    "pandas.Series.dt.date")和[`DatetimeIndex.date()`](../reference/api/pandas.DatetimeIndex.date.html#pandas.DatetimeIndex.date
    "pandas.DatetimeIndex.date")的性能（[GH 18058](https://github.com/pandas-dev/pandas/issues/18058)）
- en: Improved performance of [`Series.dt.time()`](../reference/api/pandas.Series.dt.time.html#pandas.Series.dt.time
    "pandas.Series.dt.time") and [`DatetimeIndex.time()`](../reference/api/pandas.DatetimeIndex.time.html#pandas.DatetimeIndex.time
    "pandas.DatetimeIndex.time") ([GH 18461](https://github.com/pandas-dev/pandas/issues/18461))
  id: totrans-381
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提高了[`Series.dt.time()`](../reference/api/pandas.Series.dt.time.html#pandas.Series.dt.time
    "pandas.Series.dt.time")和[`DatetimeIndex.time()`](../reference/api/pandas.DatetimeIndex.time.html#pandas.DatetimeIndex.time
    "pandas.DatetimeIndex.time")的性能（[GH 18461](https://github.com/pandas-dev/pandas/issues/18461)）
- en: Improved performance of `IntervalIndex.symmetric_difference()` ([GH 18475](https://github.com/pandas-dev/pandas/issues/18475))
  id: totrans-382
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提高了`IntervalIndex.symmetric_difference()`的性能（[GH 18475](https://github.com/pandas-dev/pandas/issues/18475)）
- en: Improved performance of `DatetimeIndex` and `Series` arithmetic operations with
    Business-Month and Business-Quarter frequencies ([GH 18489](https://github.com/pandas-dev/pandas/issues/18489))
  id: totrans-383
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提高了带有商业月份和商业季度频率的`DatetimeIndex`和`Series`算术运算的性能（[GH 18489](https://github.com/pandas-dev/pandas/issues/18489)）
- en: '[`Series()`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    / [`DataFrame()`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    tab completion limits to 100 values, for better performance. ([GH 18587](https://github.com/pandas-dev/pandas/issues/18587))'
  id: totrans-384
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series()`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    / [`DataFrame()`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    的tab完成限制为100个值，以提高性能。 （[GH 18587](https://github.com/pandas-dev/pandas/issues/18587)）'
- en: Improved performance of [`DataFrame.median()`](../reference/api/pandas.DataFrame.median.html#pandas.DataFrame.median
    "pandas.DataFrame.median") with `axis=1` when bottleneck is not installed ([GH
    16468](https://github.com/pandas-dev/pandas/issues/16468))
  id: totrans-385
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当未安装瓶颈时，通过`axis=1`提高了[`DataFrame.median()`](../reference/api/pandas.DataFrame.median.html#pandas.DataFrame.median
    "pandas.DataFrame.median")的性能（[GH 16468](https://github.com/pandas-dev/pandas/issues/16468)）
- en: Improved performance of [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") for large indexes, at the cost of a reduction in
    performance for small ones ([GH 18519](https://github.com/pandas-dev/pandas/issues/18519))
  id: totrans-386
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提高了大型索引的[`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc")的性能，但对于小型索引，性能会有所降低（[GH 18519](https://github.com/pandas-dev/pandas/issues/18519)）
- en: Improved performance of [`MultiIndex.remove_unused_levels()`](../reference/api/pandas.MultiIndex.remove_unused_levels.html#pandas.MultiIndex.remove_unused_levels
    "pandas.MultiIndex.remove_unused_levels") when there are no unused levels, at
    the cost of a reduction in performance when there are ([GH 19289](https://github.com/pandas-dev/pandas/issues/19289))
  id: totrans-387
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提高了[`MultiIndex.remove_unused_levels()`](../reference/api/pandas.MultiIndex.remove_unused_levels.html#pandas.MultiIndex.remove_unused_levels
    "pandas.MultiIndex.remove_unused_levels")的性能，当没有未使用的级别时，性能有所提升，但当有未使用的级别时，性能会降低（[GH
    19289](https://github.com/pandas-dev/pandas/issues/19289)）
- en: Improved performance of [`Index.get_loc()`](../reference/api/pandas.Index.get_loc.html#pandas.Index.get_loc
    "pandas.Index.get_loc") for non-unique indexes ([GH 19478](https://github.com/pandas-dev/pandas/issues/19478))
  id: totrans-388
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于非唯一索引，提高了[`Index.get_loc()`](../reference/api/pandas.Index.get_loc.html#pandas.Index.get_loc
    "pandas.Index.get_loc")的性能（[GH 19478](https://github.com/pandas-dev/pandas/issues/19478)）
- en: Improved performance of pairwise `.rolling()` and `.expanding()` with `.cov()`
    and `.corr()` operations ([GH 17917](https://github.com/pandas-dev/pandas/issues/17917))
  id: totrans-389
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`.cov()`和`.corr()`操作对`.rolling()`和`.expanding()`进行成对性能提升（[GH 17917](https://github.com/pandas-dev/pandas/issues/17917)）
- en: Improved performance of `GroupBy.rank()` ([GH 15779](https://github.com/pandas-dev/pandas/issues/15779))
  id: totrans-390
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提高了`GroupBy.rank()`的性能（[GH 15779](https://github.com/pandas-dev/pandas/issues/15779)）
- en: Improved performance of variable `.rolling()` on `.min()` and `.max()` ([GH
    19521](https://github.com/pandas-dev/pandas/issues/19521))
  id: totrans-391
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于变量`.rolling()`上的`.min()`和`.max()`提高了性能（[GH 19521](https://github.com/pandas-dev/pandas/issues/19521)）
- en: Improved performance of `GroupBy.ffill()` and `GroupBy.bfill()` ([GH 11296](https://github.com/pandas-dev/pandas/issues/11296))
  id: totrans-392
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了`GroupBy.ffill()`和`GroupBy.bfill()`的性能（[GH 11296](https://github.com/pandas-dev/pandas/issues/11296))
- en: Improved performance of `GroupBy.any()` and `GroupBy.all()` ([GH 15435](https://github.com/pandas-dev/pandas/issues/15435))
  id: totrans-393
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了`GroupBy.any()`和`GroupBy.all()`的性能（[GH 15435](https://github.com/pandas-dev/pandas/issues/15435))
- en: Improved performance of `GroupBy.pct_change()` ([GH 19165](https://github.com/pandas-dev/pandas/issues/19165))
  id: totrans-394
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了`GroupBy.pct_change()`的性能（[GH 19165](https://github.com/pandas-dev/pandas/issues/19165))
- en: Improved performance of [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") in the case of categorical dtypes ([GH 20003](https://github.com/pandas-dev/pandas/issues/20003))
  id: totrans-395
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于分类类型（categorical dtypes）的情况，改进了[`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin")的性能（[GH 20003](https://github.com/pandas-dev/pandas/issues/20003))
- en: Improved performance of `getattr(Series, attr)` when the Series has certain
    index types. This manifested in slow printing of large Series with a `DatetimeIndex`
    ([GH 19764](https://github.com/pandas-dev/pandas/issues/19764))
  id: totrans-396
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 Series 具有特定索引类型时，改进了`getattr(Series, attr)`的性能。这在具有 `DatetimeIndex` 的大型 Series
    的打印速度慢时表现出来（[GH 19764](https://github.com/pandas-dev/pandas/issues/19764))
- en: Fixed a performance regression for `GroupBy.nth()` and `GroupBy.last()` with
    some object columns ([GH 19283](https://github.com/pandas-dev/pandas/issues/19283))
  id: totrans-397
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在某些对象列中`GroupBy.nth()`和`GroupBy.last()`的性能退化（[GH 19283](https://github.com/pandas-dev/pandas/issues/19283))
- en: 'Improved performance of `Categorical.from_codes()` ([GH 18501](https://github.com/pandas-dev/pandas/issues/18501))  ##
    Documentation changes'
  id: totrans-398
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '改进了`Categorical.from_codes()`的性能（[GH 18501](https://github.com/pandas-dev/pandas/issues/18501))  ##
    文档更改'
- en: Thanks to all of the contributors who participated in the pandas Documentation
    Sprint, which took place on March 10th. We had about 500 participants from over
    30 locations across the world. You should notice that many of the [API docstrings](../reference/index.html#api)
    have greatly improved.
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: 感谢所有参与了于3月10日举行的 pandas 文档冲刺活动的贡献者。我们有来自世界30多个地点的约500名参与者。您应该注意到许多 [API 文档字符串](../reference/index.html#api)
    已经得到了极大的改进。
- en: There were too many simultaneous contributions to include a release note for
    each improvement, but this [GitHub search](https://github.com/pandas-dev/pandas/pulls?utf8=%E2%9C%93&q=is%3Apr+label%3ADocs+created%3A2018-03-10..2018-03-15+)
    should give you an idea of how many docstrings were improved.
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: 由于贡献太多，无法为每一项改进都添加发布说明，但是这个 [GitHub 搜索](https://github.com/pandas-dev/pandas/pulls?utf8=%E2%9C%93&q=is%3Apr+label%3ADocs+created%3A2018-03-10..2018-03-15+)
    应该能让您了解到有多少文档字符串得到了改进。
- en: Special thanks to [Marc Garcia](https://github.com/datapythonista) for organizing
    the sprint. For more information, read the [NumFOCUS blogpost](https://www.numfocus.org/blog/worldwide-pandas-sprint/)
    recapping the sprint.
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: 特别感谢 [Marc Garcia](https://github.com/datapythonista) 组织了这次冲刺活动。更多信息，请阅读 [NumFOCUS
    的博文](https://www.numfocus.org/blog/worldwide-pandas-sprint/) 回顾这次冲刺活动。
- en: Changed spelling of “numpy” to “NumPy”, and “python” to “Python”. ([GH 19017](https://github.com/pandas-dev/pandas/issues/19017))
  id: totrans-402
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将“numpy”拼写改为“NumPy”，将“python”拼写改为“Python”。（[GH 19017](https://github.com/pandas-dev/pandas/issues/19017))
- en: Consistency when introducing code samples, using either colon or period. Rewrote
    some sentences for greater clarity, added more dynamic references to functions,
    methods and classes. ([GH 18941](https://github.com/pandas-dev/pandas/issues/18941),
    [GH 18948](https://github.com/pandas-dev/pandas/issues/18948), [GH 18973](https://github.com/pandas-dev/pandas/issues/18973),
    [GH 19017](https://github.com/pandas-dev/pandas/issues/19017))
  id: totrans-403
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在引入代码示例时保持一致性，使用冒号或句号。重写了一些句子以提高清晰度，增加了对函数、方法和类更动态的引用。([GH 18941](https://github.com/pandas-dev/pandas/issues/18941),
    [GH 18948](https://github.com/pandas-dev/pandas/issues/18948), [GH 18973](https://github.com/pandas-dev/pandas/issues/18973),
    [GH 19017](https://github.com/pandas-dev/pandas/issues/19017))
- en: 'Added a reference to [`DataFrame.assign()`](../reference/api/pandas.DataFrame.assign.html#pandas.DataFrame.assign
    "pandas.DataFrame.assign") in the concatenate section of the merging documentation
    ([GH 18665](https://github.com/pandas-dev/pandas/issues/18665))  ## Bug fixes'
  id: totrans-404
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '在合并文档的连接部分添加了对 [`DataFrame.assign()`](../reference/api/pandas.DataFrame.assign.html#pandas.DataFrame.assign
    "pandas.DataFrame.assign") 的引用（[GH 18665](https://github.com/pandas-dev/pandas/issues/18665))  ##
    错误修复'
- en: Categorical
  id: totrans-405
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分类（Categorical）
- en: Warning
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: A class of bugs were introduced in pandas 0.21 with `CategoricalDtype` that
    affects the correctness of operations like `merge`, `concat`, and indexing when
    comparing multiple unordered `Categorical` arrays that have the same categories,
    but in a different order. We highly recommend upgrading or manually aligning your
    categories before doing these operations.
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: 在pandas 0.21中引入了一类错误，涉及`CategoricalDtype`，影响了像`merge`、`concat`和索引等操作的正确性，当比较多个无序的`Categorical`数组具有相同的类别但顺序不同时。我们强烈建议升级或在执行这些操作之前手动对齐您的类别。
- en: Bug in `Categorical.equals` returning the wrong result when comparing two unordered
    `Categorical` arrays with the same categories, but in a different order ([GH 16603](https://github.com/pandas-dev/pandas/issues/16603))
  id: totrans-408
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.equals`中的错误，当比较两个无序的`Categorical`数组具有相同的类别但顺序不同时返回错误的结果（[GH 16603](https://github.com/pandas-dev/pandas/issues/16603)）'
- en: Bug in [`pandas.api.types.union_categoricals()`](../reference/api/pandas.api.types.union_categoricals.html#pandas.api.types.union_categoricals
    "pandas.api.types.union_categoricals") returning the wrong result when for unordered
    categoricals with the categories in a different order. This affected [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") with Categorical data ([GH 19096](https://github.com/pandas-dev/pandas/issues/19096)).
  id: totrans-409
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.api.types.union_categoricals()`](../reference/api/pandas.api.types.union_categoricals.html#pandas.api.types.union_categoricals
    "pandas.api.types.union_categoricals")中的错误，对于类别顺序不同的无序分类返回错误的结果。这影响了带有Categorical数据的[`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat")（[GH 19096](https://github.com/pandas-dev/pandas/issues/19096)）'
- en: Bug in [`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    returning the wrong result when joining on an unordered `Categorical` that had
    the same categories but in a different order ([GH 19551](https://github.com/pandas-dev/pandas/issues/19551))
  id: totrans-410
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")中的错误，当在无序的`Categorical`上进行连接时返回错误的结果，这些`Categorical`具有相同的类别但顺序不同（[GH
    19551](https://github.com/pandas-dev/pandas/issues/19551)）'
- en: Bug in `CategoricalIndex.get_indexer()` returning the wrong result when `target`
    was an unordered `Categorical` that had the same categories as `self` but in a
    different order ([GH 19551](https://github.com/pandas-dev/pandas/issues/19551))
  id: totrans-411
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CategoricalIndex.get_indexer()`中的错误，当`target`是一个无序的`Categorical`，具有与`self`相同的类别但顺序不同时返回错误的结果（[GH
    19551](https://github.com/pandas-dev/pandas/issues/19551)）'
- en: Bug in [`Index.astype()`](../reference/api/pandas.Index.astype.html#pandas.Index.astype
    "pandas.Index.astype") with a categorical dtype where the resultant index is not
    converted to a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") for all types of index ([GH 18630](https://github.com/pandas-dev/pandas/issues/18630))
  id: totrans-412
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.astype()`](../reference/api/pandas.Index.astype.html#pandas.Index.astype
    "pandas.Index.astype")中的错误，使用分类dtype时，结果索引未转换为[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")适用于所有类型的索引（[GH 18630](https://github.com/pandas-dev/pandas/issues/18630))'
- en: Bug in [`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") and `Categorical.astype()` where an existing categorical
    data does not get updated ([GH 10696](https://github.com/pandas-dev/pandas/issues/10696),
    [GH 18593](https://github.com/pandas-dev/pandas/issues/18593))
  id: totrans-413
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype")和`Categorical.astype()`中的错误，现有的分类数据没有得到更新（[GH 10696](https://github.com/pandas-dev/pandas/issues/10696)，[GH
    18593](https://github.com/pandas-dev/pandas/issues/18593)）'
- en: Bug in [`Series.str.split()`](../reference/api/pandas.Series.str.split.html#pandas.Series.str.split
    "pandas.Series.str.split") with `expand=True` incorrectly raising an IndexError
    on empty strings ([GH 20002](https://github.com/pandas-dev/pandas/issues/20002)).
  id: totrans-414
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.split()`](../reference/api/pandas.Series.str.split.html#pandas.Series.str.split
    "pandas.Series.str.split")中的错误，使用`expand=True`在空字符串上错误地引发IndexError（[GH 20002](https://github.com/pandas-dev/pandas/issues/20002)）'
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    constructor with `dtype=CategoricalDtype(...)` where `categories` and `ordered`
    are not maintained ([GH 19032](https://github.com/pandas-dev/pandas/issues/19032))
  id: totrans-415
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")构造函数中的错误，使用`dtype=CategoricalDtype(...)`时，`categories`和`ordered`没有得到维护（[GH
    19032](https://github.com/pandas-dev/pandas/issues/19032)）'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    constructor with scalar and `dtype=CategoricalDtype(...)` where `categories` and
    `ordered` are not maintained ([GH 19565](https://github.com/pandas-dev/pandas/issues/19565))
  id: totrans-416
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用标量和`dtype=CategoricalDtype(...)`的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")构造函数中存在的错误，未保留`categories`和`ordered`（[GH 19565](https://github.com/pandas-dev/pandas/issues/19565)）
- en: Bug in `Categorical.__iter__` not converting to Python types ([GH 19909](https://github.com/pandas-dev/pandas/issues/19909))
  id: totrans-417
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Categorical.__iter__`中存在的错误，未将其转换为Python类型（[GH 19909](https://github.com/pandas-dev/pandas/issues/19909)）
- en: Bug in [`pandas.factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize") returning the unique codes for the `uniques`. This now returns
    a `Categorical` with the same dtype as the input ([GH 19721](https://github.com/pandas-dev/pandas/issues/19721))
  id: totrans-418
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`pandas.factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize")中存在的错误，返回`uniques`的唯一代码。现在返回与输入相同dtype的`Categorical`（[GH 19721](https://github.com/pandas-dev/pandas/issues/19721)）
- en: Bug in [`pandas.factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize") including an item for missing values in the `uniques` return
    value ([GH 19721](https://github.com/pandas-dev/pandas/issues/19721))
  id: totrans-419
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`pandas.factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize")中存在的错误，返回值中包含了缺失值的项目`uniques`（[GH 19721](https://github.com/pandas-dev/pandas/issues/19721)）
- en: Bug in [`Series.take()`](../reference/api/pandas.Series.take.html#pandas.Series.take
    "pandas.Series.take") with categorical data interpreting `-1` in `indices` as
    missing value markers, rather than the last element of the Series ([GH 20664](https://github.com/pandas-dev/pandas/issues/20664))
  id: totrans-420
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在带有分类数据的[`Series.take()`](../reference/api/pandas.Series.take.html#pandas.Series.take
    "pandas.Series.take")中存在的错误，将`indices`中的`-1`解释为缺失值标记，而不是Series的最后一个元素（[GH 20664](https://github.com/pandas-dev/pandas/issues/20664)）
- en: Datetimelike
  id: totrans-421
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Datetimelike
- en: Bug in `Series.__sub__()` subtracting a non-nanosecond `np.datetime64` object
    from a `Series` gave incorrect results ([GH 7996](https://github.com/pandas-dev/pandas/issues/7996))
  id: totrans-422
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Series.__sub__()`中存在的错误，从`Series`中减去非纳秒`np.datetime64`对象会导致不正确的结果（[GH 7996](https://github.com/pandas-dev/pandas/issues/7996)）
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") addition and subtraction of zero-dimensional integer
    arrays gave incorrect results ([GH 19012](https://github.com/pandas-dev/pandas/issues/19012))
  id: totrans-423
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")，[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中存在的错误，将零维整数数组添加或减去时，会导致不正确的结果（[GH 19012](https://github.com/pandas-dev/pandas/issues/19012)）
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where adding or subtracting an array-like of `DateOffset`
    objects either raised (`np.array`, `pd.Index`) or broadcast incorrectly (`pd.Series`)
    ([GH 18849](https://github.com/pandas-dev/pandas/issues/18849))
  id: totrans-424
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中存在的错误，添加或减去一组`DateOffset`对象时，可能会引发错误（`np.array`，`pd.Index`）或错误地广播（`pd.Series`）（[GH
    18849](https://github.com/pandas-dev/pandas/issues/18849)）
- en: Bug in `Series.__add__()` adding Series with dtype `timedelta64[ns]` to a timezone-aware
    `DatetimeIndex` incorrectly dropped timezone information ([GH 13905](https://github.com/pandas-dev/pandas/issues/13905))
  id: totrans-425
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Series.__add__()`中存在的错误，将具有`timedelta64[ns]`类型的Series添加到带有时区信息的`DatetimeIndex`时，错误地丢弃了时区信息（[GH
    13905](https://github.com/pandas-dev/pandas/issues/13905)）
- en: Adding a `Period` object to a `datetime` or `Timestamp` object will now correctly
    raise a `TypeError` ([GH 17983](https://github.com/pandas-dev/pandas/issues/17983))
  id: totrans-426
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将`Period`对象添加到`datetime`或`Timestamp`对象中现在将正确引发`TypeError`（[GH 17983](https://github.com/pandas-dev/pandas/issues/17983)）
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") where comparison with an array of `Timestamp` objects would
    result in a `RecursionError` ([GH 15183](https://github.com/pandas-dev/pandas/issues/15183))
  id: totrans-427
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")中存在的错误，与一组`Timestamp`对象进行比较会导致`RecursionError`（[GH
    15183](https://github.com/pandas-dev/pandas/issues/15183)）
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    floor-division where operating on a scalar `timedelta` raises an exception ([GH
    18846](https://github.com/pandas-dev/pandas/issues/18846))
  id: totrans-428
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    的 floor-division 操作，对标量 `timedelta` 进行操作时会引发异常。([GH 18846](https://github.com/pandas-dev/pandas/issues/18846))
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where the repr was not showing high-precision time values
    at the end of a day (e.g., 23:59:59.999999999) ([GH 19030](https://github.com/pandas-dev/pandas/issues/19030))
  id: totrans-429
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 的 repr 没有在一天结束时显示高精度的时间值（例如，23:59:59.999999999）。([GH 19030](https://github.com/pandas-dev/pandas/issues/19030))
- en: Bug in `.astype()` to non-ns timedelta units would hold the incorrect dtype
    ([GH 19176](https://github.com/pandas-dev/pandas/issues/19176), [GH 19223](https://github.com/pandas-dev/pandas/issues/19223),
    [GH 12425](https://github.com/pandas-dev/pandas/issues/12425))
  id: totrans-430
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `.astype()` 将非纳秒（ns）的时间间隔单位转换为持有不正确的 dtype。([GH 19176](https://github.com/pandas-dev/pandas/issues/19176),
    [GH 19223](https://github.com/pandas-dev/pandas/issues/19223), [GH 12425](https://github.com/pandas-dev/pandas/issues/12425))
- en: Bug in subtracting [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") from `NaT` incorrectly returning `NaT` ([GH 19158](https://github.com/pandas-dev/pandas/issues/19158))
  id: totrans-431
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in 将 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    减去 `NaT` 时，错误地返回 `NaT`。([GH 19158](https://github.com/pandas-dev/pandas/issues/19158))
- en: Bug in [`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate") which raises `TypeError` with a monotonic `PeriodIndex`
    ([GH 17717](https://github.com/pandas-dev/pandas/issues/17717))
  id: totrans-432
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate") 在使用单调的 `PeriodIndex` 时抛出 `TypeError`。([GH 17717](https://github.com/pandas-dev/pandas/issues/17717))
- en: Bug in [`pct_change()`](../reference/api/pandas.DataFrame.pct_change.html#pandas.DataFrame.pct_change
    "pandas.DataFrame.pct_change") using `periods` and `freq` returned different length
    outputs ([GH 7292](https://github.com/pandas-dev/pandas/issues/7292))
  id: totrans-433
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`pct_change()`](../reference/api/pandas.DataFrame.pct_change.html#pandas.DataFrame.pct_change
    "pandas.DataFrame.pct_change") 使用 `periods` 和 `freq` 参数返回不同长度的输出。([GH 7292](https://github.com/pandas-dev/pandas/issues/7292))
- en: Bug in comparison of [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") against `None` or `datetime.date` objects raising `TypeError`
    for `==` and `!=` comparisons instead of all-`False` and all-`True`, respectively
    ([GH 19301](https://github.com/pandas-dev/pandas/issues/19301))
  id: totrans-434
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in 对比 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 `None` 或 `datetime.date` 对象时，使用 `==` 和 `!=` 运算符抛出 `TypeError`
    而不是全部为 `False` 和全部为 `True`。([GH 19301](https://github.com/pandas-dev/pandas/issues/19301))
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") and [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where a string representing a barely out-of-bounds timestamp
    would be incorrectly rounded down instead of raising `OutOfBoundsDatetime` ([GH
    19382](https://github.com/pandas-dev/pandas/issues/19382))
  id: totrans-435
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 和 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")，当一个字符串表示一个几乎超出范围的时间戳时，会错误地向下舍入，而不是抛出 `OutOfBoundsDatetime`。([GH
    19382](https://github.com/pandas-dev/pandas/issues/19382))
- en: Bug in [`Timestamp.floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor") [`DatetimeIndex.floor()`](../reference/api/pandas.DatetimeIndex.floor.html#pandas.DatetimeIndex.floor
    "pandas.DatetimeIndex.floor") where time stamps far in the future and past were
    not rounded correctly ([GH 19206](https://github.com/pandas-dev/pandas/issues/19206))
  id: totrans-436
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Timestamp.floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor") 和 [`DatetimeIndex.floor()`](../reference/api/pandas.DatetimeIndex.floor.html#pandas.DatetimeIndex.floor
    "pandas.DatetimeIndex.floor") 在远未来和过去的时间戳没有正确舍入。([GH 19206](https://github.com/pandas-dev/pandas/issues/19206))
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where passing an out-of-bounds datetime with `errors='coerce'`
    and `utc=True` would raise `OutOfBoundsDatetime` instead of parsing to `NaT` ([GH
    19612](https://github.com/pandas-dev/pandas/issues/19612))
  id: totrans-437
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 在使用 `errors='coerce'` 和 `utc=True` 参数时，当传递一个超出范围的日期时间时，会抛出
    `OutOfBoundsDatetime` 而不是解析为 `NaT`。([GH 19612](https://github.com/pandas-dev/pandas/issues/19612))
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") addition and subtraction where name of the returned object
    was not always set consistently. ([GH 19744](https://github.com/pandas-dev/pandas/issues/19744))
  id: totrans-438
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")的加法和减法中，返回对象的名称不一致。([GH 19744](https://github.com/pandas-dev/pandas/issues/19744))
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") addition and subtraction where operations with numpy
    arrays raised `TypeError` ([GH 19847](https://github.com/pandas-dev/pandas/issues/19847))
  id: totrans-439
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")的加法和减法中，与numpy数组进行操作会引发`TypeError`([GH 19847](https://github.com/pandas-dev/pandas/issues/19847))
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where setting the `freq` attribute was not fully supported
    ([GH 20678](https://github.com/pandas-dev/pandas/issues/20678))
  id: totrans-440
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中存在一个bug，其中设置`freq`属性的支持不完全（[GH 20678](https://github.com/pandas-dev/pandas/issues/20678)）
- en: Timedelta
  id: totrans-441
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Timedelta
- en: Bug in `Timedelta.__mul__()` where multiplying by `NaT` returned `NaT` instead
    of raising a `TypeError` ([GH 19819](https://github.com/pandas-dev/pandas/issues/19819))
  id: totrans-442
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Timedelta.__mul__()`中存在一个bug，与`NaT`相乘返回`NaT`而不是引发`TypeError`（[GH 19819](https://github.com/pandas-dev/pandas/issues/19819)）
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    with `dtype='timedelta64[ns]'` where addition or subtraction of `TimedeltaIndex`
    had results cast to `dtype='int64'` ([GH 17250](https://github.com/pandas-dev/pandas/issues/17250))
  id: totrans-443
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")中存在一个bug，其`dtype='timedelta64[ns]'`，在`TimedeltaIndex`的加法或减法操作会将结果强制转换为`dtype='int64'`（[GH
    17250](https://github.com/pandas-dev/pandas/issues/17250)）
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    with `dtype='timedelta64[ns]'` where addition or subtraction of `TimedeltaIndex`
    could return a `Series` with an incorrect name ([GH 19043](https://github.com/pandas-dev/pandas/issues/19043))
  id: totrans-444
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")中存在一个bug，其`dtype='timedelta64[ns]'`，在`TimedeltaIndex`的加法或减法操作可能会返回一个带有不正确名称的`Series`（[GH
    19043](https://github.com/pandas-dev/pandas/issues/19043)）
- en: Bug in `Timedelta.__floordiv__()` and `Timedelta.__rfloordiv__()` dividing by
    many incompatible numpy objects was incorrectly allowed ([GH 18846](https://github.com/pandas-dev/pandas/issues/18846))
  id: totrans-445
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Timedelta.__floordiv__()`和`Timedelta.__rfloordiv__()`中存在一个bug，允许除以许多不兼容的numpy对象([GH
    18846](https://github.com/pandas-dev/pandas/issues/18846))
- en: Bug where dividing a scalar timedelta-like object with [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") performed the reciprocal operation ([GH 19125](https://github.com/pandas-dev/pandas/issues/19125))
  id: totrans-446
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在除以标量时间间隔类对象与[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")的bug中，执行了倒数操作([GH 19125](https://github.com/pandas-dev/pandas/issues/19125))
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where division by a `Series` would return a `TimedeltaIndex`
    instead of a `Series` ([GH 19042](https://github.com/pandas-dev/pandas/issues/19042))
  id: totrans-447
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中存在一个bug，通过`Series`除法返回一个`TimedeltaIndex`而不是一个`Series`([GH
    19042](https://github.com/pandas-dev/pandas/issues/19042))
- en: Bug in `Timedelta.__add__()`, `Timedelta.__sub__()` where adding or subtracting
    a `np.timedelta64` object would return another `np.timedelta64` instead of a `Timedelta`
    ([GH 19738](https://github.com/pandas-dev/pandas/issues/19738))
  id: totrans-448
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Timedelta.__add__()`、`Timedelta.__sub__()`中存在一个bug，当添加或减去`np.timedelta64`对象时，会返回另一个`np.timedelta64`而不是`Timedelta`（[GH
    19738](https://github.com/pandas-dev/pandas/issues/19738)）
- en: Bug in `Timedelta.__floordiv__()`, `Timedelta.__rfloordiv__()` where operating
    with a `Tick` object would raise a `TypeError` instead of returning a numeric
    value ([GH 19738](https://github.com/pandas-dev/pandas/issues/19738))
  id: totrans-449
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Timedelta.__floordiv__()`、`Timedelta.__rfloordiv__()`中，使用`Tick`对象进行操作会引发`TypeError`而不是返回数值（[GH
    19738](https://github.com/pandas-dev/pandas/issues/19738)）
- en: Bug in [`Period.asfreq()`](../reference/api/pandas.Period.asfreq.html#pandas.Period.asfreq
    "pandas.Period.asfreq") where periods near `datetime(1, 1, 1)` could be converted
    incorrectly ([GH 19643](https://github.com/pandas-dev/pandas/issues/19643), [GH
    19834](https://github.com/pandas-dev/pandas/issues/19834))
  id: totrans-450
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Period.asfreq()`](../reference/api/pandas.Period.asfreq.html#pandas.Period.asfreq
    "pandas.Period.asfreq")中，接近`datetime(1, 1, 1)`的周期可能会被错误地转换（[GH 19643](https://github.com/pandas-dev/pandas/issues/19643),
    [GH 19834](https://github.com/pandas-dev/pandas/issues/19834)）
- en: Bug in [`Timedelta.total_seconds()`](../reference/api/pandas.Timedelta.total_seconds.html#pandas.Timedelta.total_seconds
    "pandas.Timedelta.total_seconds") causing precision errors, for example `Timedelta('30S').total_seconds()==30.000000000000004`
    ([GH 19458](https://github.com/pandas-dev/pandas/issues/19458))
  id: totrans-451
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timedelta.total_seconds()`](../reference/api/pandas.Timedelta.total_seconds.html#pandas.Timedelta.total_seconds
    "pandas.Timedelta.total_seconds")中的错误导致精度错误，例如`Timedelta(''30S'').total_seconds()==30.000000000000004`（[GH
    19458](https://github.com/pandas-dev/pandas/issues/19458)）'
- en: Bug in `Timedelta.__rmod__()` where operating with a `numpy.timedelta64` returned
    a `timedelta64` object instead of a `Timedelta` ([GH 19820](https://github.com/pandas-dev/pandas/issues/19820))
  id: totrans-452
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Timedelta.__rmod__()`中，与`numpy.timedelta64`进行操作会返回`timedelta64`对象而不是`Timedelta`（[GH
    19820](https://github.com/pandas-dev/pandas/issues/19820)）
- en: Multiplication of [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") by `TimedeltaIndex` will now raise `TypeError` instead
    of raising `ValueError` in cases of length mismatch ([GH 19333](https://github.com/pandas-dev/pandas/issues/19333))
  id: totrans-453
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对`TimedeltaIndex`进行乘法操作现在会在长度不匹配的情况下引发`TypeError`而不是`ValueError`（[GH 19333](https://github.com/pandas-dev/pandas/issues/19333)）
- en: Bug in indexing a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") with a `np.timedelta64` object which was raising a `TypeError`
    ([GH 20393](https://github.com/pandas-dev/pandas/issues/20393))
  id: totrans-454
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`np.timedelta64`对象对`TimedeltaIndex`进行索引时会引发`TypeError`的错误（[GH 20393](https://github.com/pandas-dev/pandas/issues/20393)）
- en: Timezones
  id: totrans-455
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时区
- en: Bug in creating a `Series` from an array that contains both tz-naive and tz-aware
    values will result in a `Series` whose dtype is tz-aware instead of object ([GH
    16406](https://github.com/pandas-dev/pandas/issues/16406))
  id: totrans-456
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从包含tz-naive和tz-aware值的数组创建`Series`时存在的错误会导致`Series`的dtype为tz-aware而不是object（[GH
    16406](https://github.com/pandas-dev/pandas/issues/16406)）
- en: Bug in comparison of timezone-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") against `NaT` incorrectly raising `TypeError` ([GH 19276](https://github.com/pandas-dev/pandas/issues/19276))
  id: totrans-457
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 时区感知的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")与`NaT`比较时错误地引发`TypeError`（[GH 19276](https://github.com/pandas-dev/pandas/issues/19276)）
- en: Bug in `DatetimeIndex.astype()` when converting between timezone aware dtypes,
    and converting from timezone aware to naive ([GH 18951](https://github.com/pandas-dev/pandas/issues/18951))
  id: totrans-458
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DatetimeIndex.astype()`中，在时区感知dtype之间转换以及从时区感知到naive的转换时存在错误（[GH 18951](https://github.com/pandas-dev/pandas/issues/18951)）
- en: Bug in comparing [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), which failed to raise `TypeError` when attempting to
    compare timezone-aware and timezone-naive datetimelike objects ([GH 18162](https://github.com/pandas-dev/pandas/issues/18162))
  id: totrans-459
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比较[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")时，尝试比较时区感知和时区naive日期时间对象时未能引发`TypeError`的错误（[GH 18162](https://github.com/pandas-dev/pandas/issues/18162))
- en: Bug in localization of a naive, datetime string in a `Series` constructor with
    a `datetime64[ns, tz]` dtype ([GH 174151](https://github.com/pandas-dev/pandas/issues/174151))
  id: totrans-460
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Series`构造函数中对naive、datetime字符串进行本地化时，如果dtype为`datetime64[ns, tz]`会存在错误（[GH
    174151](https://github.com/pandas-dev/pandas/issues/174151)）
- en: '[`Timestamp.replace()`](../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace
    "pandas.Timestamp.replace") will now handle Daylight Savings transitions gracefully
    ([GH 18319](https://github.com/pandas-dev/pandas/issues/18319))'
  id: totrans-461
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.replace()`](../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace
    "pandas.Timestamp.replace")现在会优雅地处理夏令时转换（[GH 18319](https://github.com/pandas-dev/pandas/issues/18319)）'
- en: Bug in tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where addition/subtraction with a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") or array with `dtype='timedelta64[ns]'` was incorrect
    ([GH 17558](https://github.com/pandas-dev/pandas/issues/17558))
  id: totrans-462
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where addition/subtraction with a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") or array with `dtype='timedelta64[ns]'` was incorrect
    ([GH 17558](https://github.com/pandas-dev/pandas/issues/17558))
- en: Bug in `DatetimeIndex.insert()` where inserting `NaT` into a timezone-aware
    index incorrectly raised ([GH 16357](https://github.com/pandas-dev/pandas/issues/16357))
  id: totrans-463
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `DatetimeIndex.insert()` where inserting `NaT` into a timezone-aware
    index incorrectly raised ([GH 16357](https://github.com/pandas-dev/pandas/issues/16357))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor, where tz-aware Datetimeindex and a given column
    name will result in an empty `DataFrame` ([GH 19157](https://github.com/pandas-dev/pandas/issues/19157))
  id: totrans-464
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor, where tz-aware Datetimeindex and a given column
    name will result in an empty `DataFrame` ([GH 19157](https://github.com/pandas-dev/pandas/issues/19157))
- en: Bug in [`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize") where localizing a timestamp near the minimum
    or maximum valid values could overflow and return a timestamp with an incorrect
    nanosecond value ([GH 12677](https://github.com/pandas-dev/pandas/issues/12677))
  id: totrans-465
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize") where localizing a timestamp near the minimum
    or maximum valid values could overflow and return a timestamp with an incorrect
    nanosecond value ([GH 12677](https://github.com/pandas-dev/pandas/issues/12677))
- en: Bug when iterating over [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") that was localized with fixed timezone offset that rounded
    nanosecond precision to microseconds ([GH 19603](https://github.com/pandas-dev/pandas/issues/19603))
  id: totrans-466
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug when iterating over [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") that was localized with fixed timezone offset that rounded
    nanosecond precision to microseconds ([GH 19603](https://github.com/pandas-dev/pandas/issues/19603))
- en: Bug in [`DataFrame.diff()`](../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff
    "pandas.DataFrame.diff") that raised an `IndexError` with tz-aware values ([GH
    18578](https://github.com/pandas-dev/pandas/issues/18578))
  id: totrans-467
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.diff()`](../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff
    "pandas.DataFrame.diff") that raised an `IndexError` with tz-aware values ([GH
    18578](https://github.com/pandas-dev/pandas/issues/18578))
- en: Bug in [`melt()`](../reference/api/pandas.melt.html#pandas.melt "pandas.melt")
    that converted tz-aware dtypes to tz-naive ([GH 15785](https://github.com/pandas-dev/pandas/issues/15785))
  id: totrans-468
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`melt()`](../reference/api/pandas.melt.html#pandas.melt "pandas.melt")
    that converted tz-aware dtypes to tz-naive ([GH 15785](https://github.com/pandas-dev/pandas/issues/15785))
- en: Bug in `Dataframe.count()` that raised an `ValueError`, if `Dataframe.dropna()`
    was called for a single column with timezone-aware values. ([GH 13407](https://github.com/pandas-dev/pandas/issues/13407))
  id: totrans-469
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `Dataframe.count()` that raised an `ValueError`, if `Dataframe.dropna()`
    was called for a single column with timezone-aware values. ([GH 13407](https://github.com/pandas-dev/pandas/issues/13407))
- en: Offsets
  id: totrans-470
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Offsets
- en: Bug in `WeekOfMonth` and `Week` where addition and subtraction did not roll
    correctly ([GH 18510](https://github.com/pandas-dev/pandas/issues/18510), [GH
    18672](https://github.com/pandas-dev/pandas/issues/18672), [GH 18864](https://github.com/pandas-dev/pandas/issues/18864))
  id: totrans-471
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `WeekOfMonth` and `Week` where addition and subtraction did not roll
    correctly ([GH 18510](https://github.com/pandas-dev/pandas/issues/18510), [GH
    18672](https://github.com/pandas-dev/pandas/issues/18672), [GH 18864](https://github.com/pandas-dev/pandas/issues/18864))
- en: Bug in `WeekOfMonth` and `LastWeekOfMonth` where default keyword arguments for
    constructor raised `ValueError` ([GH 19142](https://github.com/pandas-dev/pandas/issues/19142))
  id: totrans-472
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `WeekOfMonth` and `LastWeekOfMonth` where default keyword arguments for
    constructor raised `ValueError` ([GH 19142](https://github.com/pandas-dev/pandas/issues/19142))
- en: Bug in `FY5253Quarter`, `LastWeekOfMonth` where rollback and rollforward behavior
    was inconsistent with addition and subtraction behavior ([GH 18854](https://github.com/pandas-dev/pandas/issues/18854))
  id: totrans-473
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `FY5253Quarter`, `LastWeekOfMonth` where rollback and rollforward behavior
    was inconsistent with addition and subtraction behavior ([GH 18854](https://github.com/pandas-dev/pandas/issues/18854))
- en: Bug in `FY5253` where `datetime` addition and subtraction incremented incorrectly
    for dates on the year-end but not normalized to midnight ([GH 18854](https://github.com/pandas-dev/pandas/issues/18854))
  id: totrans-474
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `FY5253` where `datetime` addition and subtraction incremented incorrectly
    for dates on the year-end but not normalized to midnight ([GH 18854](https://github.com/pandas-dev/pandas/issues/18854))
- en: Bug in `FY5253` where date offsets could incorrectly raise an `AssertionError`
    in arithmetic operations ([GH 14774](https://github.com/pandas-dev/pandas/issues/14774))
  id: totrans-475
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `FY5253` 中，日期偏移可能错误地在算术操作中引发 `AssertionError` 的 Bug（[GH 14774](https://github.com/pandas-dev/pandas/issues/14774)）
- en: Numeric
  id: totrans-476
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数值
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    constructor with an int or float list where specifying `dtype=str`, `dtype='str'`
    or `dtype='U'` failed to convert the data elements to strings ([GH 16605](https://github.com/pandas-dev/pandas/issues/16605))
  id: totrans-477
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在用整数或浮点数列表构造 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    时，指定 `dtype=str`、`dtype='str'` 或 `dtype='U'` 未能将数据元素转换为字符串的 Bug（[GH 16605](https://github.com/pandas-dev/pandas/issues/16605)）
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    multiplication and division methods where operating with a `Series` would return
    an `Index` object instead of a `Series` object ([GH 19042](https://github.com/pandas-dev/pandas/issues/19042))
  id: totrans-478
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    的乘法和除法方法中，与 `Series` 进行操作会返回 `Index` 对象而不是 `Series` 对象的 Bug（[GH 19042](https://github.com/pandas-dev/pandas/issues/19042)）
- en: Bug in the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor in which data containing very large positive or
    very large negative numbers was causing `OverflowError` ([GH 18584](https://github.com/pandas-dev/pandas/issues/18584))
  id: totrans-479
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在构造 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    时，包含非常大的正数或负数的数据引起 `OverflowError` 的 Bug（[GH 18584](https://github.com/pandas-dev/pandas/issues/18584)）
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    constructor with `dtype='uint64'` where int-like floats were not coerced to `UInt64Index`
    ([GH 18400](https://github.com/pandas-dev/pandas/issues/18400))
  id: totrans-480
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `dtype='uint64'` 的情况下构造 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 时，类似整数的浮点数未强制转换为 `UInt64Index` 的 Bug（[GH 18400](https://github.com/pandas-dev/pandas/issues/18400)）
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") flex arithmetic (e.g. `df.add(other, fill_value=foo)`) with
    a `fill_value` other than `None` failed to raise `NotImplementedError` in corner
    cases where either the frame or `other` has length zero ([GH 19522](https://github.com/pandas-dev/pandas/issues/19522))
  id: totrans-481
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在灵活算术中，使用 `fill_value` 作为除 `None` 以外的其他值（例如 `df.add(other, fill_value=foo)`）在一些极端情况下未能引发
    `NotImplementedError` 的 Bug，其中一个数据帧或 `other` 的长度为零（[GH 19522](https://github.com/pandas-dev/pandas/issues/19522)）
- en: Multiplication and division of numeric-dtyped [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") objects with timedelta-like scalars returns `TimedeltaIndex` instead
    of raising `TypeError` ([GH 19333](https://github.com/pandas-dev/pandas/issues/19333))
  id: totrans-482
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数值类型的 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    与类似时间间隔的标量相乘和相除返回 `TimedeltaIndex` 而不是引发 `TypeError` 的 Bug（[GH 19333](https://github.com/pandas-dev/pandas/issues/19333)）
- en: Bug where `NaN` was returned instead of 0 by [`Series.pct_change()`](../reference/api/pandas.Series.pct_change.html#pandas.Series.pct_change
    "pandas.Series.pct_change") and [`DataFrame.pct_change()`](../reference/api/pandas.DataFrame.pct_change.html#pandas.DataFrame.pct_change
    "pandas.DataFrame.pct_change") when `fill_method` is not `None` ([GH 19873](https://github.com/pandas-dev/pandas/issues/19873))
  id: totrans-483
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `fill_method` 不是 `None` 时，[`Series.pct_change()`](../reference/api/pandas.Series.pct_change.html#pandas.Series.pct_change
    "pandas.Series.pct_change") 和 [`DataFrame.pct_change()`](../reference/api/pandas.DataFrame.pct_change.html#pandas.DataFrame.pct_change
    "pandas.DataFrame.pct_change") 返回 `NaN` 而不是 0 的 Bug（[GH 19873](https://github.com/pandas-dev/pandas/issues/19873)）
- en: Strings
  id: totrans-484
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 字符串
- en: Bug in [`Series.str.get()`](../reference/api/pandas.Series.str.get.html#pandas.Series.str.get
    "pandas.Series.str.get") with a dictionary in the values and the index not in
    the keys, raising `KeyError` ([GH 20671](https://github.com/pandas-dev/pandas/issues/20671))
  id: totrans-485
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用字典作为值且索引不在键中的情况下，在 [`Series.str.get()`](../reference/api/pandas.Series.str.get.html#pandas.Series.str.get
    "pandas.Series.str.get") 中引发 `KeyError` 的 Bug（[GH 20671](https://github.com/pandas-dev/pandas/issues/20671)）
- en: Indexing
  id: totrans-486
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 索引
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    construction from list of mixed type tuples ([GH 18505](https://github.com/pandas-dev/pandas/issues/18505))
  id: totrans-487
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当从混合类型元组列表构建 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    时存在 Bug（[GH 18505](https://github.com/pandas-dev/pandas/issues/18505)）
- en: Bug in [`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop") when passing a list of both tuples and non-tuples ([GH 18304](https://github.com/pandas-dev/pandas/issues/18304))
  id: totrans-488
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递包含元组和非元组的列表时，[`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop") 存在 Bug（[GH 18304](https://github.com/pandas-dev/pandas/issues/18304)）
- en: Bug in [`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop"), `Panel.drop()`, [`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop"), [`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop") where no `KeyError` is raised when dropping a non-existent
    element from an axis that contains duplicates ([GH 19186](https://github.com/pandas-dev/pandas/issues/19186))
  id: totrans-489
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop")，`Panel.drop()`，[`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop")，[`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop")中存在一个错误，当从包含重复项的轴中删除不存在的元素时，不会引发`KeyError` ([GH 19186](https://github.com/pandas-dev/pandas/issues/19186))
- en: Bug in indexing a datetimelike `Index` that raised `ValueError` instead of `IndexError`
    ([GH 18386](https://github.com/pandas-dev/pandas/issues/18386)).
  id: totrans-490
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在索引datetimelike `Index`时存在一个错误，会引发`ValueError`而不是`IndexError` ([GH 18386](https://github.com/pandas-dev/pandas/issues/18386))
- en: '[`Index.to_series()`](../reference/api/pandas.Index.to_series.html#pandas.Index.to_series
    "pandas.Index.to_series") now accepts `index` and `name` kwargs ([GH 18699](https://github.com/pandas-dev/pandas/issues/18699))'
  id: totrans-491
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.to_series()`](../reference/api/pandas.Index.to_series.html#pandas.Index.to_series
    "pandas.Index.to_series")现在接受`index`和`name`参数 ([GH 18699](https://github.com/pandas-dev/pandas/issues/18699))'
- en: '[`DatetimeIndex.to_series()`](../reference/api/pandas.DatetimeIndex.to_series.html#pandas.DatetimeIndex.to_series
    "pandas.DatetimeIndex.to_series") now accepts `index` and `name` kwargs ([GH 18699](https://github.com/pandas-dev/pandas/issues/18699))'
  id: totrans-492
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex.to_series()`](../reference/api/pandas.DatetimeIndex.to_series.html#pandas.DatetimeIndex.to_series
    "pandas.DatetimeIndex.to_series")现在接受`index`和`name`参数 ([GH 18699](https://github.com/pandas-dev/pandas/issues/18699))'
- en: Bug in indexing non-scalar value from `Series` having non-unique `Index` will
    return value flattened ([GH 17610](https://github.com/pandas-dev/pandas/issues/17610))
  id: totrans-493
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在从具有非唯一`Index`的`Series`中索引非标量值时存在一个错误，将返回扁平化的值 ([GH 17610](https://github.com/pandas-dev/pandas/issues/17610))
- en: Bug in indexing with iterator containing only missing keys, which raised no
    error ([GH 20748](https://github.com/pandas-dev/pandas/issues/20748))
  id: totrans-494
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在包含只有缺失键的迭代器中进行索引时存在一个错误，不会引发错误 ([GH 20748](https://github.com/pandas-dev/pandas/issues/20748))
- en: Fixed inconsistency in `.ix` between list and scalar keys when the index has
    integer dtype and does not include the desired keys ([GH 20753](https://github.com/pandas-dev/pandas/issues/20753))
  id: totrans-495
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`.ix`之间的不一致性已经修复，在索引具有整数dtype并且不包含所需键时，列表和标量键之间（[GH 20753](https://github.com/pandas-dev/pandas/issues/20753))
- en: Bug in `__setitem__` when indexing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a 2-d boolean ndarray ([GH 18582](https://github.com/pandas-dev/pandas/issues/18582))
  id: totrans-496
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`__setitem__`中存在一个错误，当使用2维布尔ndarray对[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")进行索引时 ([GH 18582](https://github.com/pandas-dev/pandas/issues/18582))
- en: Bug in `str.extractall` when there were no matches empty [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") was returned instead of appropriate [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 19034](https://github.com/pandas-dev/pandas/issues/19034))
  id: totrans-497
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`str.extractall`中存在一个错误，当没有匹配时，会返回空的[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")，而不是适当的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 19034](https://github.com/pandas-dev/pandas/issues/19034))
- en: Bug in [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") where empty and purely NA data was constructed inconsistently
    depending on the construction method ([GH 18421](https://github.com/pandas-dev/pandas/issues/18421))
  id: totrans-498
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")中存在一个错误，构造空和纯NA数据的方式存在不一致性，取决于构造方法 ([GH 18421](https://github.com/pandas-dev/pandas/issues/18421))
- en: Bug in `IntervalIndex.symmetric_difference()` where the symmetric difference
    with a non-`IntervalIndex` did not raise ([GH 18475](https://github.com/pandas-dev/pandas/issues/18475))
  id: totrans-499
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`IntervalIndex.symmetric_difference()`中存在一个错误，其中与非`IntervalIndex`的对称差异未引发异常
    ([GH 18475](https://github.com/pandas-dev/pandas/issues/18475))
- en: Bug in [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") where set operations that returned an empty `IntervalIndex`
    had the wrong dtype ([GH 19101](https://github.com/pandas-dev/pandas/issues/19101))
  id: totrans-500
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")中存在一个错误，返回空的`IntervalIndex`的集合操作具有错误的dtype ([GH 19101](https://github.com/pandas-dev/pandas/issues/19101))
- en: Bug in [`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") where no `KeyError` is raised when passing
    in columns that don’t exist on the `DataFrame` ([GH 19726](https://github.com/pandas-dev/pandas/issues/19726))
  id: totrans-501
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates")中存在错误，当传递不存在于`DataFrame`上的列时未引发`KeyError`（[GH
    19726](https://github.com/pandas-dev/pandas/issues/19726))。
- en: Bug in `Index` subclasses constructors that ignore unexpected keyword arguments
    ([GH 19348](https://github.com/pandas-dev/pandas/issues/19348))
  id: totrans-502
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Index`子类构造函数中存在错误，忽略了意外的关键字参数（[GH 19348](https://github.com/pandas-dev/pandas/issues/19348))。
- en: Bug in [`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference") when taking difference of an `Index` with itself ([GH
    20040](https://github.com/pandas-dev/pandas/issues/20040))
  id: totrans-503
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在对自身`Index`取差集时存在错误[`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference")（[GH 20040](https://github.com/pandas-dev/pandas/issues/20040))。
- en: Bug in [`DataFrame.first_valid_index()`](../reference/api/pandas.DataFrame.first_valid_index.html#pandas.DataFrame.first_valid_index
    "pandas.DataFrame.first_valid_index") and [`DataFrame.last_valid_index()`](../reference/api/pandas.DataFrame.last_valid_index.html#pandas.DataFrame.last_valid_index
    "pandas.DataFrame.last_valid_index") in presence of entire rows of NaNs in the
    middle of values ([GH 20499](https://github.com/pandas-dev/pandas/issues/20499)).
  id: totrans-504
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在整行NaN值存在的情况下，[`DataFrame.first_valid_index()`](../reference/api/pandas.DataFrame.first_valid_index.html#pandas.DataFrame.first_valid_index
    "pandas.DataFrame.first_valid_index")和[`DataFrame.last_valid_index()`](../reference/api/pandas.DataFrame.last_valid_index.html#pandas.DataFrame.last_valid_index
    "pandas.DataFrame.last_valid_index")中存在的错误（[GH 20499](https://github.com/pandas-dev/pandas/issues/20499))。
- en: Bug in [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") where some indexing operations were not supported for
    overlapping or non-monotonic `uint64` data ([GH 20636](https://github.com/pandas-dev/pandas/issues/20636))
  id: totrans-505
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")中存在错误，某些索引操作不支持重叠或非单调的`uint64`数据（[GH 20636](https://github.com/pandas-dev/pandas/issues/20636))。
- en: Bug in `Series.is_unique` where extraneous output in stderr is shown if Series
    contains objects with `__ne__` defined ([GH 20661](https://github.com/pandas-dev/pandas/issues/20661))
  id: totrans-506
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Series.is_unique`中存在错误，如果Series包含有`__ne__`定义的对象，则显示不必要的标准错误输出（[GH 20661](https://github.com/pandas-dev/pandas/issues/20661))。
- en: Bug in `.loc` assignment with a single-element list-like incorrectly assigns
    as a list ([GH 19474](https://github.com/pandas-dev/pandas/issues/19474))
  id: totrans-507
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用单元素类似列表的`.loc`赋值时错误地分配为列表（[GH 19474](https://github.com/pandas-dev/pandas/issues/19474))。
- en: Bug in partial string indexing on a `Series/DataFrame` with a monotonic decreasing
    `DatetimeIndex` ([GH 19362](https://github.com/pandas-dev/pandas/issues/19362))
  id: totrans-508
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有单调递减的`DatetimeIndex`的`Series/DataFrame`上进行部分字符串索引时存在错误（[GH 19362](https://github.com/pandas-dev/pandas/issues/19362))。
- en: Bug in performing in-place operations on a `DataFrame` with a duplicate `Index`
    ([GH 17105](https://github.com/pandas-dev/pandas/issues/17105))
  id: totrans-509
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有重复`Index`的`DataFrame`上执行就地操作时存在错误（[GH 17105](https://github.com/pandas-dev/pandas/issues/17105))。
- en: Bug in [`IntervalIndex.get_loc()`](../reference/api/pandas.IntervalIndex.get_loc.html#pandas.IntervalIndex.get_loc
    "pandas.IntervalIndex.get_loc") and [`IntervalIndex.get_indexer()`](../reference/api/pandas.IntervalIndex.get_indexer.html#pandas.IntervalIndex.get_indexer
    "pandas.IntervalIndex.get_indexer") when used with an [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") containing a single interval ([GH 17284](https://github.com/pandas-dev/pandas/issues/17284),
    [GH 20921](https://github.com/pandas-dev/pandas/issues/20921))
  id: totrans-510
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在与包含单个间隔的[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")一起使用时存在错误，[`IntervalIndex.get_loc()`](../reference/api/pandas.IntervalIndex.get_loc.html#pandas.IntervalIndex.get_loc
    "pandas.IntervalIndex.get_loc")和[`IntervalIndex.get_indexer()`](../reference/api/pandas.IntervalIndex.get_indexer.html#pandas.IntervalIndex.get_indexer
    "pandas.IntervalIndex.get_indexer")（[GH 17284](https://github.com/pandas-dev/pandas/issues/17284)，[GH
    20921](https://github.com/pandas-dev/pandas/issues/20921))。
- en: Bug in `.loc` with a `uint64` indexer ([GH 20722](https://github.com/pandas-dev/pandas/issues/20722))
  id: totrans-511
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`uint64`索引器时存在`.loc`中的错误（[GH 20722](https://github.com/pandas-dev/pandas/issues/20722))。
- en: MultiIndex
  id: totrans-512
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 多重索引
- en: Bug in `MultiIndex.__contains__()` where non-tuple keys would return `True`
    even if they had been dropped ([GH 19027](https://github.com/pandas-dev/pandas/issues/19027))
  id: totrans-513
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`MultiIndex.__contains__()`中存在错误，非元组键即使已被删除也会返回`True`（[GH 19027](https://github.com/pandas-dev/pandas/issues/19027)）。
- en: Bug in `MultiIndex.set_labels()` which would cause casting (and potentially
    clipping) of the new labels if the `level` argument is not 0 or a list like [0,
    1, … ] ([GH 19057](https://github.com/pandas-dev/pandas/issues/19057))
  id: totrans-514
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `MultiIndex.set_labels()` 会导致新标签的强制转换（可能会截断），如果`level`参数不是0或类似[0, 1,
    … ]的列表（[GH 19057](https://github.com/pandas-dev/pandas/issues/19057))
- en: Bug in [`MultiIndex.get_level_values()`](../reference/api/pandas.MultiIndex.get_level_values.html#pandas.MultiIndex.get_level_values
    "pandas.MultiIndex.get_level_values") which would return an invalid index on level
    of ints with missing values ([GH 17924](https://github.com/pandas-dev/pandas/issues/17924))
  id: totrans-515
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`MultiIndex.get_level_values()`](../reference/api/pandas.MultiIndex.get_level_values.html#pandas.MultiIndex.get_level_values
    "pandas.MultiIndex.get_level_values") 会在具有缺失值的整数级别上返回无效索引（[GH 17924](https://github.com/pandas-dev/pandas/issues/17924))
- en: Bug in `MultiIndex.unique()` when called on empty [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 20568](https://github.com/pandas-dev/pandas/issues/20568))
  id: totrans-516
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `MultiIndex.unique()` 在空的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")上调用时会出错（[GH 20568](https://github.com/pandas-dev/pandas/issues/20568))
- en: Bug in `MultiIndex.unique()` which would not preserve level names ([GH 20570](https://github.com/pandas-dev/pandas/issues/20570))
  id: totrans-517
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `MultiIndex.unique()` 会导致级别名称丢失（[GH 20570](https://github.com/pandas-dev/pandas/issues/20570))
- en: Bug in [`MultiIndex.remove_unused_levels()`](../reference/api/pandas.MultiIndex.remove_unused_levels.html#pandas.MultiIndex.remove_unused_levels
    "pandas.MultiIndex.remove_unused_levels") which would fill nan values ([GH 18417](https://github.com/pandas-dev/pandas/issues/18417))
  id: totrans-518
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`MultiIndex.remove_unused_levels()`](../reference/api/pandas.MultiIndex.remove_unused_levels.html#pandas.MultiIndex.remove_unused_levels
    "pandas.MultiIndex.remove_unused_levels") 会填充nan值（[GH 18417](https://github.com/pandas-dev/pandas/issues/18417))
- en: Bug in [`MultiIndex.from_tuples()`](../reference/api/pandas.MultiIndex.from_tuples.html#pandas.MultiIndex.from_tuples
    "pandas.MultiIndex.from_tuples") which would fail to take zipped tuples in python3
    ([GH 18434](https://github.com/pandas-dev/pandas/issues/18434))
  id: totrans-519
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`MultiIndex.from_tuples()`](../reference/api/pandas.MultiIndex.from_tuples.html#pandas.MultiIndex.from_tuples
    "pandas.MultiIndex.from_tuples") 无法在python3中处理压缩的元组（[GH 18434](https://github.com/pandas-dev/pandas/issues/18434))
- en: Bug in [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") which would fail to automatically cast values between
    float and int ([GH 18818](https://github.com/pandas-dev/pandas/issues/18818),
    [GH 15994](https://github.com/pandas-dev/pandas/issues/15994))
  id: totrans-520
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") 无法自动在浮点数和整数之间转换值（[GH 18818](https://github.com/pandas-dev/pandas/issues/18818),
    [GH 15994](https://github.com/pandas-dev/pandas/issues/15994))
- en: Bug in [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") which would cast boolean to integer labels ([GH 19086](https://github.com/pandas-dev/pandas/issues/19086))
  id: totrans-521
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") 会将布尔值转换为整数标签（[GH 19086](https://github.com/pandas-dev/pandas/issues/19086))
- en: Bug in [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") which would fail to locate keys containing `NaN`
    ([GH 18485](https://github.com/pandas-dev/pandas/issues/18485))
  id: totrans-522
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") 无法定位包含`NaN`的键（[GH 18485](https://github.com/pandas-dev/pandas/issues/18485))
- en: Bug in [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") in large [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex"), would fail when levels had different dtypes ([GH 18520](https://github.com/pandas-dev/pandas/issues/18520))
  id: totrans-523
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") 在大型[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")中，当级别具有不同的数据类型时会失败（[GH 18520](https://github.com/pandas-dev/pandas/issues/18520))
- en: Bug in indexing where nested indexers having only numpy arrays are handled incorrectly
    ([GH 19686](https://github.com/pandas-dev/pandas/issues/19686))
  id: totrans-524
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in 索引中，只有numpy数组的嵌套索引处理不正确（[GH 19686](https://github.com/pandas-dev/pandas/issues/19686))
- en: IO
  id: totrans-525
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: IO
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    now rewinds seekable IO objects after parse failure, before attempting to parse
    with a new parser. If a parser errors and the object is non-seekable, an informative
    error is raised suggesting the use of a different parser ([GH 17975](https://github.com/pandas-dev/pandas/issues/17975))'
  id: totrans-526
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    现在在解析失败后，会在尝试使用新解析器之前，将可寻址IO对象倒回。如果解析器出错且对象不可寻址，则会引发一个信息性错误，建议使用不同的解析器（[GH 17975](https://github.com/pandas-dev/pandas/issues/17975)）'
- en: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") now has an option to add an id to the leading `<table>`
    tag ([GH 8496](https://github.com/pandas-dev/pandas/issues/8496))'
  id: totrans-527
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 现在有一个选项，可以在前导的`<table>`标签上添加一个id（[GH 8496](https://github.com/pandas-dev/pandas/issues/8496)）'
- en: Bug in `read_msgpack()` with a non existent file is passed in Python 2 ([GH
    15296](https://github.com/pandas-dev/pandas/issues/15296))
  id: totrans-528
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Python 2中传递不存在的文件给`read_msgpack()`会导致一个错误（[GH 15296](https://github.com/pandas-dev/pandas/issues/15296)）
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") where a `MultiIndex` with duplicate columns was not being mangled
    appropriately ([GH 18062](https://github.com/pandas-dev/pandas/issues/18062))
  id: totrans-529
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中的一个问题是，具有重复列的`MultiIndex`未被适当处理（[GH 18062](https://github.com/pandas-dev/pandas/issues/18062)）
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") where missing values were not being handled properly when `keep_default_na=False`
    with dictionary `na_values` ([GH 19227](https://github.com/pandas-dev/pandas/issues/19227))
  id: totrans-530
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中的一个问题是，在`keep_default_na=False`且使用字典`na_values`时，缺失值未被正确处理（[GH
    19227](https://github.com/pandas-dev/pandas/issues/19227)）
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") causing heap corruption on 32-bit, big-endian architectures
    ([GH 20785](https://github.com/pandas-dev/pandas/issues/20785))
  id: totrans-531
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 在32位、大端架构上导致堆破坏（[GH 20785](https://github.com/pandas-dev/pandas/issues/20785)）
- en: Bug in [`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas
    "pandas.read_sas") where a file with 0 variables gave an `AttributeError` incorrectly.
    Now it gives an `EmptyDataError` ([GH 18184](https://github.com/pandas-dev/pandas/issues/18184))
  id: totrans-532
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas
    "pandas.read_sas") 中的一个问题是，一个具有0个变量的文件错误地引发了`AttributeError`。现在会引发`EmptyDataError`（[GH
    18184](https://github.com/pandas-dev/pandas/issues/18184)）
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where pairs of braces meant to serve as invisible
    placeholders were escaped ([GH 18667](https://github.com/pandas-dev/pandas/issues/18667))
  id: totrans-533
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") 中的一个问题是，用作不可见占位符的大括号对被转义了（[GH 18667](https://github.com/pandas-dev/pandas/issues/18667)）
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where a `NaN` in a `MultiIndex` would cause an `IndexError`
    or incorrect output ([GH 14249](https://github.com/pandas-dev/pandas/issues/14249))
  id: totrans-534
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") 中的一个问题是，在`MultiIndex`中的`NaN`会导致`IndexError`或不正确的输出（[GH
    14249](https://github.com/pandas-dev/pandas/issues/14249)）
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where a non-string index-level name would result
    in an `AttributeError` ([GH 19981](https://github.com/pandas-dev/pandas/issues/19981))
  id: totrans-535
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") 中的一个问题是，非字符串索引级别名称会导致`AttributeError`（[GH 19981](https://github.com/pandas-dev/pandas/issues/19981)）
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where the combination of an index name and the `index_names=False`
    option would result in incorrect output ([GH 18326](https://github.com/pandas-dev/pandas/issues/18326))
  id: totrans-536
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") 中的一个问题是，索引名称和`index_names=False`选项的组合会导致不正确的输出（[GH
    18326](https://github.com/pandas-dev/pandas/issues/18326)）
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where a `MultiIndex` with an empty string as its
    name would result in incorrect output ([GH 18669](https://github.com/pandas-dev/pandas/issues/18669))
  id: totrans-537
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") 中存在的 bug，`MultiIndex` 的名称为空字符串会导致输出错误（[GH 18669](https://github.com/pandas-dev/pandas/issues/18669))
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where missing space characters caused wrong escaping
    and produced non-valid latex in some cases ([GH 20859](https://github.com/pandas-dev/pandas/issues/20859))
  id: totrans-538
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") 中存在的 bug，缺少空格字符会导致错误的转义，并在某些情况下生成非有效的 latex（[GH 20859](https://github.com/pandas-dev/pandas/issues/20859))
- en: Bug in [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") where large numeric values were causing an `OverflowError`
    ([GH 18842](https://github.com/pandas-dev/pandas/issues/18842))
  id: totrans-539
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json "pandas.read_json")
    中存在的 bug，大数值导致 `OverflowError`（[GH 18842](https://github.com/pandas-dev/pandas/issues/18842))
- en: Bug in [`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") where an exception was raised if the write destination
    is S3 ([GH 19134](https://github.com/pandas-dev/pandas/issues/19134))
  id: totrans-540
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") 中存在的 bug，如果写入目标是 S3，则会引发异常（[GH 19134](https://github.com/pandas-dev/pandas/issues/19134))
- en: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    now supported in [`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel") for all Excel file types ([GH 19242](https://github.com/pandas-dev/pandas/issues/19242))'
  id: totrans-541
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    现在支持在所有 Excel 文件类型的 [`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel") 中（[GH 19242](https://github.com/pandas-dev/pandas/issues/19242))'
- en: '[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta "pandas.Timedelta")
    now supported in [`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel") for all Excel file types ([GH 19242](https://github.com/pandas-dev/pandas/issues/19242),
    [GH 9155](https://github.com/pandas-dev/pandas/issues/9155), [GH 19900](https://github.com/pandas-dev/pandas/issues/19900))'
  id: totrans-542
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta "pandas.Timedelta")
    现在支持在所有 Excel 文件类型的 [`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel") 中（[GH 19242](https://github.com/pandas-dev/pandas/issues/19242),
    [GH 9155](https://github.com/pandas-dev/pandas/issues/9155), [GH 19900](https://github.com/pandas-dev/pandas/issues/19900))'
- en: Bug in [`pandas.io.stata.StataReader.value_labels()`](../reference/api/pandas.io.stata.StataReader.value_labels.html#pandas.io.stata.StataReader.value_labels
    "pandas.io.stata.StataReader.value_labels") raising an `AttributeError` when called
    on very old files. Now returns an empty dict ([GH 19417](https://github.com/pandas-dev/pandas/issues/19417))
  id: totrans-543
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在调用非常旧文件时，[`pandas.io.stata.StataReader.value_labels()`](../reference/api/pandas.io.stata.StataReader.value_labels.html#pandas.io.stata.StataReader.value_labels
    "pandas.io.stata.StataReader.value_labels") 出现 `AttributeError` 的 bug。现在返回一个空字典（[GH
    19417](https://github.com/pandas-dev/pandas/issues/19417))
- en: Bug in [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") when unpickling objects with [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") or `Float64Index` created with pandas prior to version
    0.20 ([GH 19939](https://github.com/pandas-dev/pandas/issues/19939))
  id: totrans-544
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") 中存在的 bug，当反序列化对象时，[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 或使用 pandas 版本 0.20 之前创建的 `Float64Index` 时出现问题（[GH 19939](https://github.com/pandas-dev/pandas/issues/19939))
- en: Bug in `pandas.io.json.json_normalize()` where sub-records are not properly
    normalized if any sub-records values are NoneType ([GH 20030](https://github.com/pandas-dev/pandas/issues/20030))
  id: totrans-545
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `pandas.io.json.json_normalize()` 中存在的 bug，如果任何子记录的值为 NoneType，则子记录未正确规范化（[GH
    20030](https://github.com/pandas-dev/pandas/issues/20030))
- en: Bug in `usecols` parameter in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") where error is not raised correctly when passing a string.
    ([GH 20529](https://github.com/pandas-dev/pandas/issues/20529))
  id: totrans-546
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    中的 `usecols` 参数存在的 bug，当传递字符串时未正确引发错误。([GH 20529](https://github.com/pandas-dev/pandas/issues/20529))
- en: Bug in [`HDFStore.keys()`](../reference/api/pandas.HDFStore.keys.html#pandas.HDFStore.keys
    "pandas.HDFStore.keys") when reading a file with a soft link causes exception
    ([GH 20523](https://github.com/pandas-dev/pandas/issues/20523))
  id: totrans-547
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用软链接读取文件时，[`HDFStore.keys()`](../reference/api/pandas.HDFStore.keys.html#pandas.HDFStore.keys
    "pandas.HDFStore.keys")中的错误导致异常（[GH 20523](https://github.com/pandas-dev/pandas/issues/20523)���。
- en: Bug in `HDFStore.select_column()` where a key which is not a valid store raised
    an `AttributeError` instead of a `KeyError` ([GH 17912](https://github.com/pandas-dev/pandas/issues/17912))
  id: totrans-548
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`HDFStore.select_column()`中出现的错误，当键不是有效存储时引发`AttributeError`而不是`KeyError`（[GH
    17912](https://github.com/pandas-dev/pandas/issues/17912））。
- en: Plotting
  id: totrans-549
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 绘图
- en: Better error message when attempting to plot but matplotlib is not installed
    ([GH 19810](https://github.com/pandas-dev/pandas/issues/19810)).
  id: totrans-550
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当尝试绘图但未安装matplotlib时，会提供更好的错误消息（[GH 19810](https://github.com/pandas-dev/pandas/issues/19810)）。
- en: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") now raises a `ValueError` when the `x` or `y` argument
    is improperly formed ([GH 18671](https://github.com/pandas-dev/pandas/issues/18671))'
  id: totrans-551
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`x`或`y`参数格式不正确时，[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot")现在会引发`ValueError`（[GH 18671](https://github.com/pandas-dev/pandas/issues/18671)）。
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") when `x` and `y` arguments given as positions caused
    incorrect referenced columns for line, bar and area plots ([GH 20056](https://github.com/pandas-dev/pandas/issues/20056))
  id: totrans-552
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot")中，当`x`和`y`参数作为位置给出时，导致线条、柱状图和区域图引用列不正确的错误（[GH 20056](https://github.com/pandas-dev/pandas/issues/20056)）。
- en: Bug in formatting tick labels with `datetime.time()` and fractional seconds
    ([GH 18478](https://github.com/pandas-dev/pandas/issues/18478)).
  id: totrans-553
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`datetime.time()`和小数秒格式化刻度标签时出现的错误（[GH 18478](https://github.com/pandas-dev/pandas/issues/18478)）。
- en: '[`Series.plot.kde()`](../reference/api/pandas.Series.plot.kde.html#pandas.Series.plot.kde
    "pandas.Series.plot.kde") has exposed the args `ind` and `bw_method` in the docstring
    ([GH 18461](https://github.com/pandas-dev/pandas/issues/18461)). The argument
    `ind` may now also be an integer (number of sample points).'
  id: totrans-554
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在文档字符串中暴露了[`Series.plot.kde()`](../reference/api/pandas.Series.plot.kde.html#pandas.Series.plot.kde
    "pandas.Series.plot.kde")的参数`ind`和`bw_method`（[GH 18461](https://github.com/pandas-dev/pandas/issues/18461)）。参数`ind`现在也可以是整数（样本点数）。
- en: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") now supports multiple columns to the `y` argument ([GH
    19699](https://github.com/pandas-dev/pandas/issues/19699))'
  id: totrans-555
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot")现在支持将多列作为`y`参数（[GH 19699](https://github.com/pandas-dev/pandas/issues/19699)）。'
- en: GroupBy/resample/rolling
  id: totrans-556
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: GroupBy/resample/rolling
- en: Bug when grouping by a single column and aggregating with a class like `list`
    or `tuple` ([GH 18079](https://github.com/pandas-dev/pandas/issues/18079))
  id: totrans-557
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在按单个列分组并使用`list`或`tuple`等类进行聚合时出现的错误（[GH 18079](https://github.com/pandas-dev/pandas/issues/18079)）。
- en: Fixed regression in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") which would not emit an error when called with a tuple
    key not in the index ([GH 18798](https://github.com/pandas-dev/pandas/issues/18798))
  id: totrans-558
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby")中修复了回归，当使用不在索引中的元组键调用时不会发出错误（[GH 18798](https://github.com/pandas-dev/pandas/issues/18798)）。
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") which silently ignored unsupported (or mistyped)
    options for `label`, `closed` and `convention` ([GH 19303](https://github.com/pandas-dev/pandas/issues/19303))
  id: totrans-559
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample")中，对于`label`、`closed`和`convention`选项不支持（或拼写错误）时会静默忽略的错误（[GH
    19303](https://github.com/pandas-dev/pandas/issues/19303)）。
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") where tuples were interpreted as lists of keys rather
    than as keys ([GH 17979](https://github.com/pandas-dev/pandas/issues/17979), [GH
    18249](https://github.com/pandas-dev/pandas/issues/18249))
  id: totrans-560
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby")中，元组被解释为键的列表而不是键（[GH 17979](https://github.com/pandas-dev/pandas/issues/17979)，[GH
    18249](https://github.com/pandas-dev/pandas/issues/18249)）。
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") where aggregation by `first`/`last`/`min`/`max` was
    causing timestamps to lose precision ([GH 19526](https://github.com/pandas-dev/pandas/issues/19526))
  id: totrans-561
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby")中的一个错误，通过`first`/`last`/`min`/`max`进行聚合导致时间戳失去精度（[GH
    19526](https://github.com/pandas-dev/pandas/issues/19526)）'
- en: Bug in [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") where particular aggregation functions were being
    incorrectly cast to match the dtype(s) of the grouped data ([GH 19200](https://github.com/pandas-dev/pandas/issues/19200))
  id: totrans-562
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform")中的一个错误，特定的聚合函数被错误地转换以匹配分组数据的dtype（[GH 19200](https://github.com/pandas-dev/pandas/issues/19200)）'
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") passing the `on=` kwarg, and subsequently using `.apply()`
    ([GH 17813](https://github.com/pandas-dev/pandas/issues/17813))
  id: totrans-563
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby")中的一个错误，传递`on=` kwarg，然后使用`.apply()`（[GH 17813](https://github.com/pandas-dev/pandas/issues/17813)）'
- en: Bug in `DataFrame.resample().aggregate` not raising a `KeyError` when aggregating
    a non-existent column ([GH 16766](https://github.com/pandas-dev/pandas/issues/16766),
    [GH 19566](https://github.com/pandas-dev/pandas/issues/19566))
  id: totrans-564
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.resample().aggregate`中的一个错误，在聚合不存在的列时未引发`KeyError`（[GH 16766](https://github.com/pandas-dev/pandas/issues/16766)，[GH
    19566](https://github.com/pandas-dev/pandas/issues/19566)）'
- en: Bug in `DataFrameGroupBy.cumsum()` and `DataFrameGroupBy.cumprod()` when `skipna`
    was passed ([GH 19806](https://github.com/pandas-dev/pandas/issues/19806))
  id: totrans-565
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy.cumsum()`和`DataFrameGroupBy.cumprod()`中的一个错误，当传递`skipna`时（[GH
    19806](https://github.com/pandas-dev/pandas/issues/19806)）'
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") that dropped timezone information ([GH 13238](https://github.com/pandas-dev/pandas/issues/13238))
  id: totrans-566
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample")中的一个错误，丢失时区信息（[GH 13238](https://github.com/pandas-dev/pandas/issues/13238)）'
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") where transformations using `np.all` and `np.any`
    were raising a `ValueError` ([GH 20653](https://github.com/pandas-dev/pandas/issues/20653))
  id: totrans-567
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby")中的一个错误，使用`np.all`和`np.any`进行转换引发`ValueError`（[GH 20653](https://github.com/pandas-dev/pandas/issues/20653)）'
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") where `ffill`, `bfill`, `pad`, `backfill`, `fillna`,
    `interpolate`, and `asfreq` were ignoring `loffset`. ([GH 20744](https://github.com/pandas-dev/pandas/issues/20744))
  id: totrans-568
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample")中的一个错误，`ffill`、`bfill`、`pad`、`backfill`、`fillna`、`interpolate`和`asfreq`忽略了`loffset`（[GH
    20744](https://github.com/pandas-dev/pandas/issues/20744)）'
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") when applying a function that has mixed data types
    and the user supplied function can fail on the grouping column ([GH 20949](https://github.com/pandas-dev/pandas/issues/20949))
  id: totrans-569
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby")中的一个错误，应用具有混合数据类型并且用户提供的函数可能在分组列上失败的函数时（[GH 20949](https://github.com/pandas-dev/pandas/issues/20949)）'
- en: Bug in `DataFrameGroupBy.rolling().apply()` where operations performed against
    the associated `DataFrameGroupBy` object could impact the inclusion of the grouped
    item(s) in the result ([GH 14013](https://github.com/pandas-dev/pandas/issues/14013))
  id: totrans-570
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy.rolling().apply()`中的一个错误，对关联的`DataFrameGroupBy`对象执行的操作可能影响结果中分组项的包含（[GH
    14013](https://github.com/pandas-dev/pandas/issues/14013)）'
- en: Sparse
  id: totrans-571
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 稀疏
- en: Bug in which creating a `SparseDataFrame` from a dense `Series` or an unsupported
    type raised an uncontrolled exception ([GH 19374](https://github.com/pandas-dev/pandas/issues/19374))
  id: totrans-572
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从稠密`Series`或不支持的类型创建`SparseDataFrame`引发未受控制的异常的错误（[GH 19374](https://github.com/pandas-dev/pandas/issues/19374)）
- en: Bug in `SparseDataFrame.to_csv` causing exception ([GH 19384](https://github.com/pandas-dev/pandas/issues/19384))
  id: totrans-573
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseDataFrame.to_csv`中引发异常的一个错误（[GH 19384](https://github.com/pandas-dev/pandas/issues/19384)）'
- en: Bug in `SparseSeries.memory_usage` which caused segfault by accessing non sparse
    elements ([GH 19368](https://github.com/pandas-dev/pandas/issues/19368))
  id: totrans-574
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.memory_usage` 中存在 bug，通过访问非稀疏元素导致 segfault（[GH 19368](https://github.com/pandas-dev/pandas/issues/19368)）'
- en: 'Bug in constructing a `SparseArray`: if `data` is a scalar and `index` is defined
    it will coerce to `float64` regardless of scalar’s dtype. ([GH 19163](https://github.com/pandas-dev/pandas/issues/19163))'
  id: totrans-575
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建 `SparseArray` 中存在 bug：如果 `data` 是标量并且定义了 `index`，则会强制转换为 `float64`，而不管标量的
    dtype 如何。（[GH 19163](https://github.com/pandas-dev/pandas/issues/19163)）
- en: Reshaping
  id: totrans-576
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 重塑
- en: Bug in [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") where referencing a `CategoricalIndex` by name, where
    the `by` kwarg would `KeyError` ([GH 20777](https://github.com/pandas-dev/pandas/issues/20777))
  id: totrans-577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") 中存在 bug，其中通过名称引用 `CategoricalIndex`，`by` 参数会引发 `KeyError`（[GH
    20777](https://github.com/pandas-dev/pandas/issues/20777)）'
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") which fails trying to sort mixed type levels under Python
    3 ([GH 18310](https://github.com/pandas-dev/pandas/issues/18310))
  id: totrans-578
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") 中存在 bug，在 Python 3 下尝试对混合类型级别进行排序会失败（[GH 18310](https://github.com/pandas-dev/pandas/issues/18310)）'
- en: Bug in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") which casts int to float if `columns` is a `MultiIndex`
    with unused levels ([GH 17845](https://github.com/pandas-dev/pandas/issues/17845))
  id: totrans-579
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") 存在 bug，如果 `columns` 是带有未使用级别的 `MultiIndex`，则将 int
    转换为 float（[GH 17845](https://github.com/pandas-dev/pandas/issues/17845)）'
- en: Bug in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") which raises an error if `index` is a `MultiIndex`
    with unused labels on the unstacked level ([GH 18562](https://github.com/pandas-dev/pandas/issues/18562))
  id: totrans-580
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") 中存在 bug，如果 `index` 是带有未使用标签的 `MultiIndex`，则会引发错误（[GH
    18562](https://github.com/pandas-dev/pandas/issues/18562)）'
- en: Fixed construction of a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") from a `dict` containing `NaN` as key ([GH 18480](https://github.com/pandas-dev/pandas/issues/18480))
  id: totrans-581
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了从包含 `NaN` 作为键的 `dict` 构建 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 的 bug（[GH 18480](https://github.com/pandas-dev/pandas/issues/18480)）
- en: Fixed construction of a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") from a `dict` containing `NaN` as key ([GH 18455](https://github.com/pandas-dev/pandas/issues/18455))
  id: totrans-582
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了从包含 `NaN` 作为键的 `dict` 构建 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 的 bug（[GH 18455](https://github.com/pandas-dev/pandas/issues/18455)）
- en: Disabled construction of a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") where len(index) > len(data) = 1, which previously would broadcast
    the data item, and now raises a `ValueError` ([GH 18819](https://github.com/pandas-dev/pandas/issues/18819))
  id: totrans-583
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 禁用了构建长度（`len(index)`）大于长度（`len(data)`）等于 1 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")，以前会广播数据项，现在引发 `ValueError`（[GH 18819](https://github.com/pandas-dev/pandas/issues/18819)）
- en: Suppressed error in the construction of a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") from a `dict` containing scalar values when the corresponding
    keys are not included in the passed index ([GH 18600](https://github.com/pandas-dev/pandas/issues/18600))
  id: totrans-584
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在从包含标量值的 `dict` 构建 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 时，抑制了错误，当相应的键未包含在传递的索引中时（[GH 18600](https://github.com/pandas-dev/pandas/issues/18600)）
- en: Fixed (changed from `object` to `float64`) dtype of [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") initialized with axes, no data, and `dtype=int` ([GH 19646](https://github.com/pandas-dev/pandas/issues/19646))
  id: totrans-585
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了（从 `object` 更改为 `float64`）用轴、无数据和 `dtype=int` 初始化的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 的 dtype（[GH 19646](https://github.com/pandas-dev/pandas/issues/19646)）
- en: Bug in [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") where `Series` containing `NaT` modifies the `Series` inplace
    ([GH 18521](https://github.com/pandas-dev/pandas/issues/18521))
  id: totrans-586
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") 中存在 bug：包含 `NaT` 的 `Series` 会修改该 `Series`（[GH 18521](https://github.com/pandas-dev/pandas/issues/18521)）'
- en: Bug in [`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") which
    fails when using readonly arrays ([GH 18773](https://github.com/pandas-dev/pandas/issues/18773))
  id: totrans-587
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut")中的错误，当使用只读数组时失败
    ([GH 18773](https://github.com/pandas-dev/pandas/issues/18773))
- en: Bug in [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") which fails when the `aggfunc` arg is of type
    string. The behavior is now consistent with other methods like `agg` and `apply`
    ([GH 18713](https://github.com/pandas-dev/pandas/issues/18713))
  id: totrans-588
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table")中的错误，当 `aggfunc` 参数为字符串类型时失败。现在的行为与 `agg` 和 `apply`
    等方法一致 ([GH 18713](https://github.com/pandas-dev/pandas/issues/18713))
- en: Bug in [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") in which merging using `Index` objects as vectors raised
    an Exception ([GH 19038](https://github.com/pandas-dev/pandas/issues/19038))
  id: totrans-589
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")中的错误，在使用 `Index` 对象作为向量合并时引发异常 ([GH 19038](https://github.com/pandas-dev/pandas/issues/19038))
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack"), [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack"), [`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack") which were not returning subclasses ([GH 15563](https://github.com/pandas-dev/pandas/issues/15563))
  id: totrans-590
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack")、[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")、[`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack")中的错误，这些方法没有返回子类 ([GH 15563](https://github.com/pandas-dev/pandas/issues/15563))
- en: Bug in timezone comparisons, manifesting as a conversion of the index to UTC
    in `.concat()` ([GH 18523](https://github.com/pandas-dev/pandas/issues/18523))
  id: totrans-591
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了时区比较中的错误，表现为在`.concat()`中将索引转换为 UTC ([GH 18523](https://github.com/pandas-dev/pandas/issues/18523))
- en: Bug in [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    when concatenating sparse and dense series it returns only a `SparseDataFrame`.
    Should be a `DataFrame`. ([GH 18914](https://github.com/pandas-dev/pandas/issues/18914),
    [GH 18686](https://github.com/pandas-dev/pandas/issues/18686), and [GH 16874](https://github.com/pandas-dev/pandas/issues/16874))
  id: totrans-592
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")中的错误，当连接稀疏和密集序列时，仅返回`SparseDataFrame`。应该返回`DataFrame`。
    ([GH 18914](https://github.com/pandas-dev/pandas/issues/18914), [GH 18686](https://github.com/pandas-dev/pandas/issues/18686)和[GH
    16874](https://github.com/pandas-dev/pandas/issues/16874))
- en: Improved error message for [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") when there is no common merge key ([GH 19427](https://github.com/pandas-dev/pandas/issues/19427))
  id: totrans-593
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")的错误消息，当没有共同的合并键时 ([GH 19427](https://github.com/pandas-dev/pandas/issues/19427))
- en: Bug in [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") which does an `outer` instead of a `left` join when being
    called with multiple DataFrames and some have non-unique indices ([GH 19624](https://github.com/pandas-dev/pandas/issues/19624))
  id: totrans-594
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join")中的错误，当调用多个 DataFrame 并且其中一些具有非唯一索引时，执行 `outer` 而不是 `left`
    连接 ([GH 19624](https://github.com/pandas-dev/pandas/issues/19624))
- en: '[`Series.rename()`](../reference/api/pandas.Series.rename.html#pandas.Series.rename
    "pandas.Series.rename") now accepts `axis` as a kwarg ([GH 18589](https://github.com/pandas-dev/pandas/issues/18589))'
  id: totrans-595
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.rename()`](../reference/api/pandas.Series.rename.html#pandas.Series.rename
    "pandas.Series.rename")现在接受`axis`作为关键字参数 ([GH 18589](https://github.com/pandas-dev/pandas/issues/18589))'
- en: Bug in [`rename()`](../reference/api/pandas.DataFrame.rename.html#pandas.DataFrame.rename
    "pandas.DataFrame.rename") where an Index of same-length tuples was converted
    to a MultiIndex ([GH 19497](https://github.com/pandas-dev/pandas/issues/19497))
  id: totrans-596
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`rename()`](../reference/api/pandas.DataFrame.rename.html#pandas.DataFrame.rename
    "pandas.DataFrame.rename")中的错误，其中长度相同的元组索引被转换为多重索引 ([GH 19497](https://github.com/pandas-dev/pandas/issues/19497))
- en: Comparisons between [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") and [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") would return a `Series` with an incorrect name, ignoring the `Index`’s
    name attribute ([GH 19582](https://github.com/pandas-dev/pandas/issues/19582))
  id: totrans-597
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")和[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")之间的比较会返回一个带有不正确名称的`Series`，忽略`Index`的名称属性（[GH 19582](https://github.com/pandas-dev/pandas/issues/19582)）'
- en: Bug in [`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut "pandas.qcut")
    where datetime and timedelta data with `NaT` present raised a `ValueError` ([GH
    19768](https://github.com/pandas-dev/pandas/issues/19768))
  id: totrans-598
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut "pandas.qcut")中的错误，当存在`NaT`的日期时间和时间增量数据时会引发`ValueError`（[GH
    19768](https://github.com/pandas-dev/pandas/issues/19768)）'
- en: Bug in [`DataFrame.iterrows()`](../reference/api/pandas.DataFrame.iterrows.html#pandas.DataFrame.iterrows
    "pandas.DataFrame.iterrows"), which would infers strings not compliant to [ISO8601](https://en.wikipedia.org/wiki/ISO_8601)
    to datetimes ([GH 19671](https://github.com/pandas-dev/pandas/issues/19671))
  id: totrans-599
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.iterrows()`](../reference/api/pandas.DataFrame.iterrows.html#pandas.DataFrame.iterrows
    "pandas.DataFrame.iterrows")中的错误，会将不符合[ISO8601](https://en.wikipedia.org/wiki/ISO_8601)标准的字符串推断为日期时间（[GH
    19671](https://github.com/pandas-dev/pandas/issues/19671)）'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    constructor with `Categorical` where a `ValueError` is not raised when an index
    of different length is given ([GH 19342](https://github.com/pandas-dev/pandas/issues/19342))
  id: totrans-600
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 带有`Categorical`的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")构造函数中的错误，在给定不同长度的索引时未引发`ValueError`（[GH 19342](https://github.com/pandas-dev/pandas/issues/19342)）
- en: Bug in [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") where column metadata is lost when converting to categorical
    or a dictionary of dtypes ([GH 19920](https://github.com/pandas-dev/pandas/issues/19920))
  id: totrans-601
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype")中的错误，在转换为分类或数据类型字典时会丢失列元数据（[GH 19920](https://github.com/pandas-dev/pandas/issues/19920)）'
- en: Bug in [`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") and
    [`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut "pandas.qcut") where
    timezone information was dropped ([GH 19872](https://github.com/pandas-dev/pandas/issues/19872))
  id: totrans-602
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut")和[`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut
    "pandas.qcut")中的错误，会丢失时区信息（[GH 19872](https://github.com/pandas-dev/pandas/issues/19872)）'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    constructor with a `dtype=str`, previously raised in some cases ([GH 19853](https://github.com/pandas-dev/pandas/issues/19853))
  id: totrans-603
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 带有`dtype=str`的[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")构造函数中的错误，在某些情况下先前引发错误（[GH
    19853](https://github.com/pandas-dev/pandas/issues/19853)）
- en: Bug in [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies"), and `select_dtypes()`, where duplicate column names caused
    incorrect behavior ([GH 20848](https://github.com/pandas-dev/pandas/issues/20848))
  id: totrans-604
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies")和`select_dtypes()`中的错误，重复的列名导致不正确的行为（[GH 20848](https://github.com/pandas-dev/pandas/issues/20848))'
- en: Bug in [`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna"),
    which cannot handle ambiguous typed lists ([GH 20675](https://github.com/pandas-dev/pandas/issues/20675))
  id: totrans-605
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna")中的错误，无法处理模糊类型的列表（[GH
    20675](https://github.com/pandas-dev/pandas/issues/20675)）'
- en: Bug in [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    which raises an error when concatenating TZ-aware dataframes and all-NaT dataframes
    ([GH 12396](https://github.com/pandas-dev/pandas/issues/12396))
  id: totrans-606
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")中的错误，在连接带有时区信息的数据框和全为NaT的数据框时会引发错误（[GH
    12396](https://github.com/pandas-dev/pandas/issues/12396)）'
- en: Bug in [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    which raises an error when concatenating empty TZ-aware series ([GH 18447](https://github.com/pandas-dev/pandas/issues/18447))
  id: totrans-607
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")中的错误，在连接空的带时区信息的系列时会引发错误（[GH
    18447](https://github.com/pandas-dev/pandas/issues/18447)）'
- en: Other
  id: totrans-608
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 其他
- en: Improved error message when attempting to use a Python keyword as an identifier
    in a `numexpr` backed query ([GH 18221](https://github.com/pandas-dev/pandas/issues/18221))
  id: totrans-609
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了在`numexpr`支持的查询中尝试使用Python关键字作为标识符时的错误消息（[GH 18221](https://github.com/pandas-dev/pandas/issues/18221)）
- en: Bug in accessing a [`pandas.get_option()`](../reference/api/pandas.get_option.html#pandas.get_option
    "pandas.get_option"), which raised `KeyError` rather than `OptionError` when looking
    up a non-existent option key in some cases ([GH 19789](https://github.com/pandas-dev/pandas/issues/19789))
  id: totrans-610
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问 [`pandas.get_option()`](../reference/api/pandas.get_option.html#pandas.get_option
    "pandas.get_option") 出现错误，有时会引发 `KeyError` 而不是 `OptionError`（[GH 19789](https://github.com/pandas-dev/pandas/issues/19789)）
- en: 'Bug in [`testing.assert_series_equal()`](../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal
    "pandas.testing.assert_series_equal") and [`testing.assert_frame_equal()`](../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal
    "pandas.testing.assert_frame_equal") for Series or DataFrames with differing unicode
    data ([GH 20503](https://github.com/pandas-dev/pandas/issues/20503))  ## Contributors'
  id: totrans-611
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '在处理具有不同 Unicode 数据的 Series 或 DataFrame 时，[`testing.assert_series_equal()`](../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal
    "pandas.testing.assert_series_equal") 和 [`testing.assert_frame_equal()`](../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal
    "pandas.testing.assert_frame_equal") 存在问题（[GH 20503](https://github.com/pandas-dev/pandas/issues/20503)）
    ## 贡献者'
- en: A total of 328 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  id: totrans-612
  prefs: []
  type: TYPE_NORMAL
  zh: 总共有 328 人为这个版本提交了补丁。名字后面有“+”符号的人第一次贡献了补丁。
- en: Aaron Critchley
  id: totrans-613
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Aaron Critchley
- en: AbdealiJK +
  id: totrans-614
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AbdealiJK +
- en: Adam Hooper +
  id: totrans-615
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Adam Hooper +
- en: Albert Villanova del Moral
  id: totrans-616
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Albert Villanova del Moral
- en: Alejandro Giacometti +
  id: totrans-617
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alejandro Giacometti +
- en: Alejandro Hohmann +
  id: totrans-618
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alejandro Hohmann +
- en: Alex Rychyk
  id: totrans-619
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Rychyk
- en: Alexander Buchkovsky
  id: totrans-620
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alexander Buchkovsky
- en: Alexander Lenail +
  id: totrans-621
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alexander Lenail +
- en: Alexander Michael Schade
  id: totrans-622
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alexander Michael Schade
- en: Aly Sivji +
  id: totrans-623
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Aly Sivji +
- en: Andreas Költringer +
  id: totrans-624
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andreas Költringer +
- en: Andrew
  id: totrans-625
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew
- en: Andrew Bui +
  id: totrans-626
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Bui +
- en: András Novoszáth +
  id: totrans-627
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: András Novoszáth +
- en: Andy Craze +
  id: totrans-628
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andy Craze +
- en: Andy R. Terrel
  id: totrans-629
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andy R. Terrel
- en: Anh Le +
  id: totrans-630
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anh Le +
- en: Anil Kumar Pallekonda +
  id: totrans-631
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anil Kumar Pallekonda +
- en: Antoine Pitrou +
  id: totrans-632
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Antoine Pitrou +
- en: Antonio Linde +
  id: totrans-633
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Antonio Linde +
- en: Antonio Molina +
  id: totrans-634
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Antonio Molina +
- en: Antonio Quinonez +
  id: totrans-635
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Antonio Quinonez +
- en: Armin Varshokar +
  id: totrans-636
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Armin Varshokar +
- en: Artem Bogachev +
  id: totrans-637
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Artem Bogachev +
- en: Avi Sen +
  id: totrans-638
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Avi Sen +
- en: Azeez Oluwafemi +
  id: totrans-639
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Azeez Oluwafemi +
- en: Ben Auffarth +
  id: totrans-640
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ben Auffarth +
- en: Bernhard Thiel +
  id: totrans-641
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bernhard Thiel +
- en: Bhavesh Poddar +
  id: totrans-642
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bhavesh Poddar +
- en: BielStela +
  id: totrans-643
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: BielStela +
- en: Blair +
  id: totrans-644
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Blair +
- en: Bob Haffner
  id: totrans-645
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bob Haffner
- en: Brett Naul +
  id: totrans-646
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brett Naul +
- en: Brock Mendel
  id: totrans-647
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brock Mendel
- en: Bryce Guinta +
  id: totrans-648
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bryce Guinta +
- en: Carlos Eduardo Moreira dos Santos +
  id: totrans-649
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Carlos Eduardo Moreira dos Santos +
- en: Carlos García Márquez +
  id: totrans-650
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Carlos García Márquez +
- en: Carol Willing
  id: totrans-651
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Carol Willing
- en: Cheuk Ting Ho +
  id: totrans-652
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Cheuk Ting Ho +
- en: Chitrank Dixit +
  id: totrans-653
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chitrank Dixit +
- en: Chris
  id: totrans-654
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris
- en: Chris Burr +
  id: totrans-655
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Burr +
- en: Chris Catalfo +
  id: totrans-656
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Catalfo +
- en: Chris Mazzullo
  id: totrans-657
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Mazzullo
- en: Christian Chwala +
  id: totrans-658
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Christian Chwala +
- en: Cihan Ceyhan +
  id: totrans-659
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Cihan Ceyhan +
- en: Clemens Brunner
  id: totrans-660
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Clemens Brunner
- en: Colin +
  id: totrans-661
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Colin +
- en: Cornelius Riemenschneider
  id: totrans-662
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Cornelius Riemenschneider
- en: Crystal Gong +
  id: totrans-663
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Crystal Gong +
- en: DaanVanHauwermeiren
  id: totrans-664
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DaanVanHauwermeiren
- en: Dan Dixey +
  id: totrans-665
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dan Dixey +
- en: Daniel Frank +
  id: totrans-666
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Frank +
- en: Daniel Garrido +
  id: totrans-667
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Garrido +
- en: Daniel Sakuma +
  id: totrans-668
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Sakuma +
- en: DataOmbudsman +
  id: totrans-669
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DataOmbudsman +
- en: Dave Hirschfeld
  id: totrans-670
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dave Hirschfeld
- en: Dave Lewis +
  id: totrans-671
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dave Lewis +
- en: David Adrián Cañones Castellano +
  id: totrans-672
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Adrián Cañones Castellano +
- en: David Arcos +
  id: totrans-673
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Arcos +
- en: David C Hall +
  id: totrans-674
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David C Hall +
- en: David Fischer
  id: totrans-675
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Fischer
- en: David Hoese +
  id: totrans-676
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Hoese +
- en: David Lutz +
  id: totrans-677
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Lutz +
- en: David Polo +
  id: totrans-678
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Polo +
- en: David Stansby
  id: totrans-679
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Stansby
- en: Dennis Kamau +
  id: totrans-680
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dennis Kamau +
- en: Dillon Niederhut
  id: totrans-681
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dillon Niederhut
- en: Dimitri +
  id: totrans-682
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dimitri +
- en: Dr. Irv
  id: totrans-683
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dr. Irv
- en: Dror Atariah
  id: totrans-684
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dror Atariah
- en: Eric Chea +
  id: totrans-685
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric Chea +
- en: Eric Kisslinger
  id: totrans-686
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric Kisslinger
- en: Eric O. LEBIGOT (EOL) +
  id: totrans-687
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric O. LEBIGOT（EOL）+
- en: FAN-GOD +
  id: totrans-688
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: FAN-GOD +
- en: Fabian Retkowski +
  id: totrans-689
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fabian Retkowski +
- en: Fer Sar +
  id: totrans-690
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fer Sar +
- en: Gabriel de Maeztu +
  id: totrans-691
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gabriel de Maeztu +
- en: Gianpaolo Macario +
  id: totrans-692
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gianpaolo Macario +
- en: Giftlin Rajaiah
  id: totrans-693
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Giftlin Rajaiah
- en: Gilberto Olimpio +
  id: totrans-694
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gilberto Olimpio +
- en: Gina +
  id: totrans-695
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gina +
- en: Gjelt +
  id: totrans-696
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gjelt +
- en: Graham Inggs +
  id: totrans-697
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Graham Inggs +
- en: Grant Roch
  id: totrans-698
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Grant Roch
- en: Grant Smith +
  id: totrans-699
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Grant Smith +
- en: Grzegorz Konefał +
  id: totrans-700
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Grzegorz Konefał +
- en: Guilherme Beltramini
  id: totrans-701
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Guilherme Beltramini
- en: HagaiHargil +
  id: totrans-702
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: HagaiHargil +
- en: Hamish Pitkeathly +
  id: totrans-703
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hamish Pitkeathly +
- en: Hammad Mashkoor +
  id: totrans-704
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hammad Mashkoor +
- en: Hannah Ferchland +
  id: totrans-705
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hannah Ferchland +
- en: Hans
  id: totrans-706
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hans
- en: Haochen Wu +
  id: totrans-707
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Haochen Wu +
- en: Hissashi Rocha +
  id: totrans-708
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hissashi Rocha +
- en: Iain Barr +
  id: totrans-709
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Iain Barr +
- en: Ibrahim Sharaf ElDen +
  id: totrans-710
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ibrahim Sharaf ElDen +
- en: Ignasi Fosch +
  id: totrans-711
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ignasi Fosch +
- en: Igor Conrado Alves de Lima +
  id: totrans-712
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Igor Conrado Alves de Lima +
- en: Igor Shelvinskyi +
  id: totrans-713
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Igor Shelvinskyi +
- en: Imanflow +
  id: totrans-714
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Imanflow +
- en: Ingolf Becker
  id: totrans-715
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ingolf Becker
- en: Israel Saeta Pérez
  id: totrans-716
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Israel Saeta Pérez
- en: Iva Koevska +
  id: totrans-717
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Iva Koevska +
- en: Jakub Nowacki +
  id: totrans-718
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jakub Nowacki +
- en: Jan F-F +
  id: totrans-719
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jan F-F +
- en: Jan Koch +
  id: totrans-720
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jan Koch +
- en: Jan Werkmann
  id: totrans-721
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jan Werkmann
- en: Janelle Zoutkamp +
  id: totrans-722
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Janelle Zoutkamp +
- en: Jason Bandlow +
  id: totrans-723
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jason Bandlow +
- en: Jaume Bonet +
  id: totrans-724
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jaume Bonet +
- en: Jay Alammar +
  id: totrans-725
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jay Alammar +
- en: Jeff Reback
  id: totrans-726
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeff Reback
- en: JennaVergeynst
  id: totrans-727
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: JennaVergeynst
- en: Jimmy Woo +
  id: totrans-728
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jimmy Woo +
- en: Jing Qiang Goh +
  id: totrans-729
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jing Qiang Goh +
- en: Joachim Wagner +
  id: totrans-730
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joachim Wagner +
- en: Joan Martin Miralles +
  id: totrans-731
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joan Martin Miralles +
- en: Joel Nothman
  id: totrans-732
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joel Nothman
- en: Joeun Park +
  id: totrans-733
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joeun Park +
- en: John Cant +
  id: totrans-734
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: John Cant +
- en: Johnny Metz +
  id: totrans-735
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Johnny Metz +
- en: Jon Mease
  id: totrans-736
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jon Mease
- en: Jonas Schulze +
  id: totrans-737
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jonas Schulze +
- en: Jongwony +
  id: totrans-738
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jongwony +
- en: Jordi Contestí +
  id: totrans-739
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jordi Contestí +
- en: Joris Van den Bossche
  id: totrans-740
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Van den Bossche
- en: José F. R. Fonseca +
  id: totrans-741
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: José F. R. Fonseca +
- en: Jovixe +
  id: totrans-742
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jovixe +
- en: Julio Martinez +
  id: totrans-743
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Julio Martinez +
- en: Jörg Döpfert
  id: totrans-744
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jörg Döpfert
- en: KOBAYASHI Ittoku +
  id: totrans-745
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: KOBAYASHI Ittoku +
- en: Kate Surta +
  id: totrans-746
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kate Surta +
- en: Kenneth +
  id: totrans-747
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kenneth +
- en: Kevin Kuhl
  id: totrans-748
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kevin Kuhl
- en: Kevin Sheppard
  id: totrans-749
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kevin Sheppard
- en: Krzysztof Chomski
  id: totrans-750
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Krzysztof Chomski
- en: Ksenia +
  id: totrans-751
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ksenia +
- en: Ksenia Bobrova +
  id: totrans-752
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ksenia Bobrova +
- en: Kunal Gosar +
  id: totrans-753
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kunal Gosar +
- en: Kurtis Kerstein +
  id: totrans-754
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kurtis Kerstein +
- en: Kyle Barron +
  id: totrans-755
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kyle Barron +
- en: Laksh Arora +
  id: totrans-756
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Laksh Arora +
- en: Laurens Geffert +
  id: totrans-757
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Laurens Geffert +
- en: Leif Walsh
  id: totrans-758
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Leif Walsh
- en: Liam Marshall +
  id: totrans-759
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Liam Marshall +
- en: Liam3851 +
  id: totrans-760
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Liam3851 +
- en: Licht Takeuchi
  id: totrans-761
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Licht Takeuchi
- en: Liudmila +
  id: totrans-762
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Liudmila +
- en: Ludovico Russo +
  id: totrans-763
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ludovico Russo +
- en: Mabel Villalba +
  id: totrans-764
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mabel Villalba +
- en: Manan Pal Singh +
  id: totrans-765
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Manan Pal Singh +
- en: Manraj Singh
  id: totrans-766
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Manraj Singh
- en: Marc +
  id: totrans-767
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marc +
- en: Marc Garcia
  id: totrans-768
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marc Garcia
- en: Marco Hemken +
  id: totrans-769
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marco Hemken +
- en: Maria del Mar Bibiloni +
  id: totrans-770
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maria del Mar Bibiloni +
- en: Mario Corchero +
  id: totrans-771
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mario Corchero +
- en: Mark Woodbridge +
  id: totrans-772
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mark Woodbridge +
- en: Martin Journois +
  id: totrans-773
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Martin Journois +
- en: Mason Gallo +
  id: totrans-774
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mason Gallo +
- en: Matias Heikkilä +
  id: totrans-775
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matias Heikkilä +
- en: Matt Braymer-Hayes
  id: totrans-776
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Braymer-Hayes
- en: Matt Kirk +
  id: totrans-777
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Kirk +
- en: Matt Maybeno +
  id: totrans-778
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Maybeno +
- en: Matthew Kirk +
  id: totrans-779
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Kirk +
- en: Matthew Rocklin +
  id: totrans-780
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Rocklin +
- en: Matthew Roeschke
  id: totrans-781
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Roeschke
- en: Matthias Bussonnier +
  id: totrans-782
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthias Bussonnier +
- en: Max Mikhaylov +
  id: totrans-783
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Max Mikhaylov +
- en: Maxim Veksler +
  id: totrans-784
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maxim Veksler +
- en: Maximilian Roos
  id: totrans-785
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maximilian Roos
- en: Maximiliano Greco +
  id: totrans-786
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maximiliano Greco +
- en: Michael Penkov
  id: totrans-787
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Penkov
- en: Michael Röttger +
  id: totrans-788
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Röttger +
- en: Michael Selik +
  id: totrans-789
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Selik +
- en: Michael Waskom
  id: totrans-790
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Waskom
- en: Mie~~~
  id: totrans-791
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mie~~~
- en: Mike Kutzma +
  id: totrans-792
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mike Kutzma +
- en: Ming Li +
  id: totrans-793
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ming Li +
- en: Mitar +
  id: totrans-794
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mitar +
- en: Mitch Negus +
  id: totrans-795
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mitch Negus +
- en: Montana Low +
  id: totrans-796
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Montana Low +
- en: Moritz Münst +
  id: totrans-797
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Moritz Münst +
- en: Mortada Mehyar
  id: totrans-798
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mortada Mehyar
- en: Myles Braithwaite +
  id: totrans-799
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Myles Braithwaite +
- en: Nate Yoder
  id: totrans-800
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nate Yoder
- en: Nicholas Ursa +
  id: totrans-801
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nicholas Ursa +
- en: Nick Chmura
  id: totrans-802
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nick Chmura
- en: Nikos Karagiannakis +
  id: totrans-803
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nikos Karagiannakis +
- en: Nipun Sadvilkar +
  id: totrans-804
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nipun Sadvilkar +
- en: Nis Martensen +
  id: totrans-805
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nis Martensen +
- en: Noah +
  id: totrans-806
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Noah +
- en: Noémi Éltető +
  id: totrans-807
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Noémi Éltető +
- en: Olivier Bilodeau +
  id: totrans-808
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Olivier Bilodeau +
- en: Ondrej Kokes +
  id: totrans-809
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ondrej Kokes +
- en: Onno Eberhard +
  id: totrans-810
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Onno Eberhard +
- en: Paul Ganssle +
  id: totrans-811
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul Ganssle +
- en: Paul Mannino +
  id: totrans-812
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul Mannino +
- en: Paul Reidy
  id: totrans-813
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul Reidy
- en: Paulo Roberto de Oliveira Castro +
  id: totrans-814
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paulo Roberto de Oliveira Castro +
- en: Pepe Flores +
  id: totrans-815
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pepe Flores +
- en: Peter Hoffmann
  id: totrans-816
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Peter Hoffmann
- en: Phil Ngo +
  id: totrans-817
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Phil Ngo +
- en: Pietro Battiston
  id: totrans-818
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pietro Battiston
- en: Pranav Suri +
  id: totrans-819
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pranav Suri +
- en: Priyanka Ojha +
  id: totrans-820
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Priyanka Ojha +
- en: Pulkit Maloo +
  id: totrans-821
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pulkit Maloo +
- en: README Bot +
  id: totrans-822
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: README Bot +
- en: Ray Bell +
  id: totrans-823
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ray Bell +
- en: Riccardo Magliocchetti +
  id: totrans-824
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Riccardo Magliocchetti +
- en: Ridhwan Luthra +
  id: totrans-825
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ridhwan Luthra +
- en: Robert Meyer
  id: totrans-826
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robert Meyer
- en: Robin
  id: totrans-827
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robin
- en: Robin Kiplang’at +
  id: totrans-828
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robin Kiplang’at +
- en: Rohan Pandit +
  id: totrans-829
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rohan Pandit +
- en: Rok Mihevc +
  id: totrans-830
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rok Mihevc +
- en: Rouz Azari
  id: totrans-831
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rouz Azari
- en: Ryszard T. Kaleta +
  id: totrans-832
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ryszard T. Kaleta +
- en: Sam Cohan
  id: totrans-833
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sam Cohan
- en: Sam Foo
  id: totrans-834
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sam Foo
- en: Samir Musali +
  id: totrans-835
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Samir Musali +
- en: Samuel Sinayoko +
  id: totrans-836
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Samuel Sinayoko +
- en: Sangwoong Yoon
  id: totrans-837
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sangwoong Yoon
- en: SarahJessica +
  id: totrans-838
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SarahJessica +
- en: Sharad Vijalapuram +
  id: totrans-839
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sharad Vijalapuram +
- en: Shubham Chaudhary +
  id: totrans-840
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shubham Chaudhary +
- en: SiYoungOh +
  id: totrans-841
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SiYoungOh +
- en: Sietse Brouwer
  id: totrans-842
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sietse Brouwer
- en: Simone Basso +
  id: totrans-843
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Simone Basso +
- en: Stefania Delprete +
  id: totrans-844
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stefania Delprete +
- en: Stefano Cianciulli +
  id: totrans-845
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stefano Cianciulli +
- en: Stephen Childs +
  id: totrans-846
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stephen Childs +
- en: StephenVoland +
  id: totrans-847
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: StephenVoland +
- en: Stijn Van Hoey +
  id: totrans-848
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stijn Van Hoey +
- en: Sven
  id: totrans-849
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sven
- en: Talitha Pumar +
  id: totrans-850
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Talitha Pumar +
- en: Tarbo Fukazawa +
  id: totrans-851
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tarbo Fukazawa +
- en: Ted Petrou +
  id: totrans-852
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ted Petrou +
- en: Thomas A Caswell
  id: totrans-853
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas A Caswell
- en: Tim Hoffmann +
  id: totrans-854
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tim Hoffmann +
- en: Tim Swast
  id: totrans-855
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tim Swast
- en: Tom Augspurger
  id: totrans-856
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tom Augspurger
- en: Tommy +
  id: totrans-857
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tommy +
- en: Tulio Casagrande +
  id: totrans-858
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tulio Casagrande +
- en: Tushar Gupta +
  id: totrans-859
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tushar Gupta +
- en: Tushar Mittal +
  id: totrans-860
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tushar Mittal +
- en: Upkar Lidder +
  id: totrans-861
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Upkar Lidder +
- en: Victor Villas +
  id: totrans-862
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Victor Villas +
- en: Vince W +
  id: totrans-863
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vince W +
- en: Vinícius Figueiredo +
  id: totrans-864
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vinícius Figueiredo +
- en: Vipin Kumar +
  id: totrans-865
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vipin Kumar +
- en: WBare
  id: totrans-866
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WBare
- en: Wenhuan +
  id: totrans-867
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wenhuan +
- en: Wes Turner
  id: totrans-868
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wes Turner
- en: William Ayd
  id: totrans-869
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: William Ayd
- en: Wilson Lin +
  id: totrans-870
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wilson Lin +
- en: Xbar
  id: totrans-871
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Xbar
- en: Yaroslav Halchenko
  id: totrans-872
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yaroslav Halchenko
- en: Yee Mey
  id: totrans-873
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yee Mey
- en: Yeongseon Choe +
  id: totrans-874
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yeongseon Choe +
- en: Yian +
  id: totrans-875
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yian +
- en: Yimeng Zhang
  id: totrans-876
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yimeng Zhang
- en: ZhuBaohe +
  id: totrans-877
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 朱宝和 +
- en: Zihao Zhao +
  id: totrans-878
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zihao Zhao +
- en: adatasetaday +
  id: totrans-879
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: adatasetaday +
- en: akielbowicz +
  id: totrans-880
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: akielbowicz +
- en: akosel +
  id: totrans-881
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: akosel +
- en: alinde1 +
  id: totrans-882
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: alinde1 +
- en: amuta +
  id: totrans-883
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: amuta +
- en: bolkedebruin
  id: totrans-884
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: bolkedebruin
- en: cbertinato
  id: totrans-885
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: cbertinato
- en: cgohlke
  id: totrans-886
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: cgohlke
- en: charlie0389 +
  id: totrans-887
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: charlie0389 +
- en: chris-b1
  id: totrans-888
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: chris-b1
- en: csfarkas +
  id: totrans-889
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: csfarkas +
- en: dajcs +
  id: totrans-890
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: dajcs +
- en: deflatSOCO +
  id: totrans-891
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: deflatSOCO +
- en: derestle-htwg
  id: totrans-892
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: derestle-htwg
- en: discort
  id: totrans-893
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: discort
- en: dmanikowski-reef +
  id: totrans-894
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: dmanikowski-reef +
- en: donK23 +
  id: totrans-895
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: donK23 +
- en: elrubio +
  id: totrans-896
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: elrubio +
- en: fivemok +
  id: totrans-897
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: fivemok +
- en: fjdiod
  id: totrans-898
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: fjdiod
- en: fjetter +
  id: totrans-899
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: fjetter +
- en: froessler +
  id: totrans-900
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: froessler +
- en: gabrielclow
  id: totrans-901
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gabrielclow
- en: gfyoung
  id: totrans-902
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gfyoung
- en: ghasemnaddaf
  id: totrans-903
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ghasemnaddaf
- en: h-vetinari +
  id: totrans-904
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: h-vetinari +
- en: himanshu awasthi +
  id: totrans-905
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: himanshu awasthi +
- en: ignamv +
  id: totrans-906
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ignamv +
- en: jayfoad +
  id: totrans-907
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jayfoad +
- en: jazzmuesli +
  id: totrans-908
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jazzmuesli +
- en: jbrockmendel
  id: totrans-909
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jbrockmendel
- en: jen w +
  id: totrans-910
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jen w +
- en: jjames34 +
  id: totrans-911
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jjames34 +
- en: joaoavf +
  id: totrans-912
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: joaoavf +
- en: joders +
  id: totrans-913
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: joders +
- en: jschendel
  id: totrans-914
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jschendel
- en: juan huguet +
  id: totrans-915
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: juan huguet +
- en: l736x +
  id: totrans-916
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: l736x +
- en: luzpaz +
  id: totrans-917
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: luzpaz +
- en: mdeboc +
  id: totrans-918
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mdeboc +
- en: miguelmorin +
  id: totrans-919
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: miguelmorin +
- en: miker985
  id: totrans-920
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: miker985
- en: miquelcamprodon +
  id: totrans-921
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: miquelcamprodon +
- en: orereta +
  id: totrans-922
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: orereta +
- en: ottiP +
  id: totrans-923
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ottiP +
- en: peterpanmj +
  id: totrans-924
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: peterpanmj +
- en: rafarui +
  id: totrans-925
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: rafarui +
- en: raph-m +
  id: totrans-926
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: raph-m +
- en: readyready15728 +
  id: totrans-927
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: readyready15728 +
- en: rmihael +
  id: totrans-928
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: rmihael +
- en: samghelms +
  id: totrans-929
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: samghelms +
- en: scriptomation +
  id: totrans-930
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: scriptomation +
- en: sfoo +
  id: totrans-931
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sfoo +
- en: stefansimik +
  id: totrans-932
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: stefansimik +
- en: stonebig
  id: totrans-933
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: stonebig
- en: tmnhat2001 +
  id: totrans-934
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tmnhat2001 +
- en: tomneep +
  id: totrans-935
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tomneep +
- en: topper-123
  id: totrans-936
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: topper-123
- en: tv3141 +
  id: totrans-937
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tv3141 +
- en: verakai +
  id: totrans-938
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: verakai +
- en: xpvpc +
  id: totrans-939
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: xpvpc +
- en: 'zhanghui +  ## New features'
  id: totrans-940
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'zhanghui +  ## 新功能'
- en: '### JSON read/write round-trippable with `orient=''table''`'
  id: totrans-941
  prefs: []
  type: TYPE_NORMAL
  zh: '### JSON 读/写循环使用`orient=''table''`'
- en: A `DataFrame` can now be written to and subsequently read back via JSON while
    preserving metadata through usage of the `orient='table'` argument (see [GH 18912](https://github.com/pandas-dev/pandas/issues/18912)
    and [GH 9146](https://github.com/pandas-dev/pandas/issues/9146)). Previously,
    none of the available `orient` values guaranteed the preservation of dtypes and
    index names, amongst other metadata.
  id: totrans-942
  prefs: []
  type: TYPE_NORMAL
  zh: 可以通过使用 `orient='table'` 参数将 `DataFrame` 写入 JSON，并在随后读取时保留元数据（参见 [GH 18912](https://github.com/pandas-dev/pandas/issues/18912)
    和 [GH 9146](https://github.com/pandas-dev/pandas/issues/9146)）。以前，所有可用的 `orient`
    值都不能保证保留 dtype 和索引名称等其他元数据。
- en: '[PRE54]'
  id: totrans-943
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: Please note that the string `index` is not supported with the round trip format,
    as it is used by default in `write_json` to indicate a missing index name.
  id: totrans-944
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，字符串 `index` 不支持往返格式，因为它在 `write_json` 中默认用于指示缺失的索引名称。
- en: '[PRE55]  ### Method `.assign()` accepts dependent arguments'
  id: totrans-945
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE55]  ### 方法 `.assign()` 接受依赖参数'
- en: The [`DataFrame.assign()`](../reference/api/pandas.DataFrame.assign.html#pandas.DataFrame.assign
    "pandas.DataFrame.assign") now accepts dependent keyword arguments for python
    version later than 3.6 (see also [PEP 468](https://www.python.org/dev/peps/pep-0468/)).
    Later keyword arguments may now refer to earlier ones if the argument is a callable.
    See the [documentation here](../user_guide/dsintro.html#dsintro-chained-assignment)
    ([GH 14207](https://github.com/pandas-dev/pandas/issues/14207))
  id: totrans-946
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.assign()`](../reference/api/pandas.DataFrame.assign.html#pandas.DataFrame.assign
    "pandas.DataFrame.assign") 现在在 Python 版本大于 3.6 时接受依赖关键字参数（详见 [PEP 468](https://www.python.org/dev/peps/pep-0468/)）。如果参数是可调用的，则后续关键字参数现在可以引用前面的参数。参见[此处的文档](../user_guide/dsintro.html#dsintro-chained-assignment)
    ([GH 14207](https://github.com/pandas-dev/pandas/issues/14207))'
- en: '[PRE56]'
  id: totrans-947
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: Warning
  id: totrans-948
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: This may subtly change the behavior of your code when you’re using `.assign()`
    to update an existing column. Previously, callables referring to other variables
    being updated would get the “old” values
  id: totrans-949
  prefs: []
  type: TYPE_NORMAL
  zh: 当您使用 `.assign()` 更新现有列时，这可能会微妙地改变代码的行为。以前，引用正在更新的其他变量的可调用对象会得到“旧”的值。
- en: 'Previous behavior:'
  id: totrans-950
  prefs: []
  type: TYPE_NORMAL
  zh: 以前的行为：
- en: '[PRE57]'
  id: totrans-951
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'New behavior:'
  id: totrans-952
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE58]  ### Merging on a combination of columns and index levels'
  id: totrans-953
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE58]  ### 按列和索引级别的组合合并'
- en: Strings passed to [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") as the `on`, `left_on`, and `right_on` parameters may
    now refer to either column names or index level names. This enables merging `DataFrame`
    instances on a combination of index levels and columns without resetting indexes.
    See the [Merge on columns and levels](../user_guide/merging.html#merging-merge-on-columns-and-levels)
    documentation section. ([GH 14355](https://github.com/pandas-dev/pandas/issues/14355))
  id: totrans-954
  prefs: []
  type: TYPE_NORMAL
  zh: 字符串传递给 [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") 的 `on`、`left_on` 和 `right_on` 参数现在可以引用列名或索引级别名。这使得可以在不重置索引的情况下，根据索引级别和列的组合来合并
    `DataFrame` 实例。请参阅[根据列和级别合并](../user_guide/merging.html#merging-merge-on-columns-and-levels)文档部分。
    ([GH 14355](https://github.com/pandas-dev/pandas/issues/14355))
- en: '[PRE59]  ### Sorting by a combination of columns and index levels'
  id: totrans-955
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE59]  ### 按列和索引级别的组合排序'
- en: Strings passed to [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") as the `by` parameter may now refer to either
    column names or index level names. This enables sorting `DataFrame` instances
    by a combination of index levels and columns without resetting indexes. See the
    [Sorting by Indexes and Values](../user_guide/basics.html#basics-sort-indexes-and-values)
    documentation section. ([GH 14353](https://github.com/pandas-dev/pandas/issues/14353))
  id: totrans-956
  prefs: []
  type: TYPE_NORMAL
  zh: 字符串传递给 [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") 的 `by` 参数现在可以引用列名或索引级别名。这使得可以在不重置索引的情况下，按索引级别和列的组合排序
    `DataFrame` 实例。请参阅[按索引和值排序](../user_guide/basics.html#basics-sort-indexes-and-values)文档部分。
    ([GH 14353](https://github.com/pandas-dev/pandas/issues/14353))
- en: '[PRE60]  ### Extending pandas with custom types (experimental)'
  id: totrans-957
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE60]  ### 使用自定义类型扩展 pandas（实验性）'
- en: pandas now supports storing array-like objects that aren’t necessarily 1-D NumPy
    arrays as columns in a DataFrame or values in a Series. This allows third-party
    libraries to implement extensions to NumPy’s types, similar to how pandas implemented
    categoricals, datetimes with timezones, periods, and intervals.
  id: totrans-958
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 现在支持将不一定是 1-D NumPy 数组的类数组对象存储为 DataFrame 的列或 Series 的值。这允许第三方库实现对 NumPy
    类型的扩展，类似于 pandas 实现的分类、带时区的日期时间、周期和间隔。
- en: As a demonstration, we’ll use [cyberpandas](https://cyberpandas.readthedocs.io/en/latest/),
    which provides an `IPArray` type for storing ip addresses.
  id: totrans-959
  prefs: []
  type: TYPE_NORMAL
  zh: 作为演示，我们将使用[cyberpandas](https://cyberpandas.readthedocs.io/en/latest/)，它提供了一个`IPArray`类型用于存储ip地址。
- en: '[PRE61]'
  id: totrans-960
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: '`IPArray` isn’t a normal 1-D NumPy array, but because it’s a pandas [`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray"), it can be stored properly inside pandas’
    containers.'
  id: totrans-961
  prefs: []
  type: TYPE_NORMAL
  zh: '`IPArray`不是一个普通的1-D NumPy数组，但因为它是一个pandas [`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray)，它可以正确地存储在pandas的容器中。'
- en: '[PRE62]'
  id: totrans-962
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: 'Notice that the dtype is `ip`. The missing value semantics of the underlying
    array are respected:'
  id: totrans-963
  prefs: []
  type: TYPE_NORMAL
  zh: 注意dtype为`ip`。 底层数组的缺失值语义得到了尊重：
- en: '[PRE63]'
  id: totrans-964
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: 'For more, see the [extension types](../development/extending.html#extending-extension-types)
    documentation. If you build an extension array, publicize it on [the ecosystem
    page](https://pandas.pydata.org/community/ecosystem.html).  ### New `observed`
    keyword for excluding unobserved categories in `GroupBy`'
  id: totrans-965
  prefs: []
  type: TYPE_NORMAL
  zh: '更多信息，请参阅[扩展类型](../development/extending.html#extending-extension-types)文档。如果您构建了一个扩展数组，请在[生态系统页面](https://pandas.pydata.org/community/ecosystem.html)上公开它。  ###
    新的`observed`关键字用于在`GroupBy`中排除未观察到的类别'
- en: Grouping by a categorical includes the unobserved categories in the output.
    When grouping by multiple categorical columns, this means you get the cartesian
    product of all the categories, including combinations where there are no observations,
    which can result in a large number of groups. We have added a keyword `observed`
    to control this behavior, it defaults to `observed=False` for backward-compatibility.
    ([GH 14942](https://github.com/pandas-dev/pandas/issues/14942), [GH 8138](https://github.com/pandas-dev/pandas/issues/8138),
    [GH 15217](https://github.com/pandas-dev/pandas/issues/15217), [GH 17594](https://github.com/pandas-dev/pandas/issues/17594),
    [GH 8669](https://github.com/pandas-dev/pandas/issues/8669), [GH 20583](https://github.com/pandas-dev/pandas/issues/20583),
    [GH 20902](https://github.com/pandas-dev/pandas/issues/20902))
  id: totrans-966
  prefs: []
  type: TYPE_NORMAL
  zh: 通过分类进行分组会将未观察到的类别包含在输出中。 当按多个分类列进行分组时，这意味着您会得到所有类别的笛卡尔积，包括没有观察到的组合，这可能会导致大量的分组。
    我们已添加了一个关键字`observed`来控制这种行为，默认值为`observed=False`以实现向后兼容性。 ([GH 14942](https://github.com/pandas-dev/pandas/issues/14942),
    [GH 8138](https://github.com/pandas-dev/pandas/issues/8138), [GH 15217](https://github.com/pandas-dev/pandas/issues/15217),
    [GH 17594](https://github.com/pandas-dev/pandas/issues/17594), [GH 8669](https://github.com/pandas-dev/pandas/issues/8669),
    [GH 20583](https://github.com/pandas-dev/pandas/issues/20583), [GH 20902](https://github.com/pandas-dev/pandas/issues/20902))
- en: '[PRE64]'
  id: totrans-967
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: 'To show all values, the previous behavior:'
  id: totrans-968
  prefs: []
  type: TYPE_NORMAL
  zh: 要显示所有值，先前的行为：
- en: '[PRE65]'
  id: totrans-969
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'To show only observed values:'
  id: totrans-970
  prefs: []
  type: TYPE_NORMAL
  zh: 仅显示观察到的值：
- en: '[PRE66]'
  id: totrans-971
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: 'For pivoting operations, this behavior is *already* controlled by the `dropna`
    keyword:'
  id: totrans-972
  prefs: []
  type: TYPE_NORMAL
  zh: 对于数据透视操作，此行为已经由`dropna`关键字控制：
- en: '[PRE67]'
  id: totrans-973
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: '[PRE68]  ### Rolling/Expanding.apply() accepts `raw=False` to pass a `Series`
    to the function'
  id: totrans-974
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE68]  ### 滚动/扩展.apply()接受`raw=False`以传递`Series`给函数'
- en: '`Series.rolling().apply()`, `DataFrame.rolling().apply()`, `Series.expanding().apply()`,
    and `DataFrame.expanding().apply()` have gained a `raw=None` parameter. This is
    similar to `DataFame.apply()`. This parameter, if `True` allows one to send a
    `np.ndarray` to the applied function. If `False` a `Series` will be passed. The
    default is `None`, which preserves backward compatibility, so this will default
    to `True`, sending an `np.ndarray`. In a future version the default will be changed
    to `False`, sending a `Series`. ([GH 5071](https://github.com/pandas-dev/pandas/issues/5071),
    [GH 20584](https://github.com/pandas-dev/pandas/issues/20584))'
  id: totrans-975
  prefs: []
  type: TYPE_NORMAL
  zh: '`Series.rolling().apply()`, `DataFrame.rolling().apply()`, `Series.expanding().apply()`,
    和 `DataFrame.expanding().apply()`已经增加了一个`raw=None`参数。 这类似于`DataFame.apply()`。
    如果`True`，允许将`np.ndarray`发送到应用函数。 如果`False`，将传递一个`Series`。 默认值为`None`，这保留了向后兼容性，因此这将默认为`True`，发送一个`np.ndarray`。
    在将来的版本中，默认值将更改为`False`，发送一个`Series`。 ([GH 5071](https://github.com/pandas-dev/pandas/issues/5071),
    [GH 20584](https://github.com/pandas-dev/pandas/issues/20584))'
- en: '[PRE69]'
  id: totrans-976
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: 'Pass a `Series`:'
  id: totrans-977
  prefs: []
  type: TYPE_NORMAL
  zh: 传递一个`Series`：
- en: '[PRE70]'
  id: totrans-978
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: 'Mimic the original behavior of passing a ndarray:'
  id: totrans-979
  prefs: []
  type: TYPE_NORMAL
  zh: 模仿传递一个ndarray的原始行为：
- en: '[PRE71]  ### `DataFrame.interpolate` has gained the `limit_area` kwarg'
  id: totrans-980
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE71]  ### `DataFrame.interpolate`已获得了`limit_area` kwarg'
- en: '[`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate") has gained a `limit_area` parameter to allow further
    control of which `NaN` s are replaced. Use `limit_area=''inside''` to fill only
    NaNs surrounded by valid values or use `limit_area=''outside''` to fill only `NaN`
    s outside the existing valid values while preserving those inside. ([GH 16284](https://github.com/pandas-dev/pandas/issues/16284))
    See the [full documentation here](../user_guide/missing_data.html#missing-data-interp-limits).'
  id: totrans-981
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate")现在增加了一个`limit_area`参数，以进一步控制替换哪些`NaN`。使用`limit_area=''inside''`只填充被有效值包围的NaN，或者使用`limit_area=''outside''`只填充现有有效值之外的`NaN`，同时保留其中的值。([GH
    16284](https://github.com/pandas-dev/pandas/issues/16284)) 查看[完整文档](../user_guide/missing_data.html#missing-data-interp-limits)。'
- en: '[PRE72]'
  id: totrans-982
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: Fill one consecutive inside value in both directions
  id: totrans-983
  prefs: []
  type: TYPE_NORMAL
  zh: 向两个方向填充一个连续���内部值
- en: '[PRE73]'
  id: totrans-984
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: Fill all consecutive outside values backward
  id: totrans-985
  prefs: []
  type: TYPE_NORMAL
  zh: 向后填充所有连续的外部值
- en: '[PRE74]'
  id: totrans-986
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: Fill all consecutive outside values in both directions
  id: totrans-987
  prefs: []
  type: TYPE_NORMAL
  zh: 向两个方向填充所有连续的外部值
- en: '[PRE75]  ### Function `get_dummies` now supports `dtype` argument'
  id: totrans-988
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE75]  ### 函数`get_dummies`现在支持`dtype`参数'
- en: The [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") now accepts a `dtype` argument, which specifies a dtype
    for the new columns. The default remains uint8\. ([GH 18330](https://github.com/pandas-dev/pandas/issues/18330))
  id: totrans-989
  prefs: []
  type: TYPE_NORMAL
  zh: '[`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies")现在接受一个`dtype`参数，指定新列的数据类型。默认值仍为uint8。([GH 18330](https://github.com/pandas-dev/pandas/issues/18330))'
- en: '[PRE76]  ### Timedelta mod method'
  id: totrans-990
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE76]  ### 时间间隔mod方法'
- en: '`mod` (%) and `divmod` operations are now defined on `Timedelta` objects when
    operating with either timedelta-like or with numeric arguments. See the [documentation
    here](../user_guide/timedeltas.html#timedeltas-mod-divmod). ([GH 19365](https://github.com/pandas-dev/pandas/issues/19365))'
  id: totrans-991
  prefs: []
  type: TYPE_NORMAL
  zh: '`mod`（%）和`divmod`操作现在在`Timedelta`对象上定义，当与类似时间间隔或数值参数一起操作时。查看[此处的文档](../user_guide/timedeltas.html#timedeltas-mod-divmod)。([GH
    19365](https://github.com/pandas-dev/pandas/issues/19365))'
- en: '[PRE77]  ### Method `.rank()` handles `inf` values when `NaN` are present'
  id: totrans-992
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE77]  ### 方法`.rank()`处理`inf`值时，当存在`NaN`时'
- en: In previous versions, `.rank()` would assign `inf` elements `NaN` as their ranks.
    Now ranks are calculated properly. ([GH 6945](https://github.com/pandas-dev/pandas/issues/6945))
  id: totrans-993
  prefs: []
  type: TYPE_NORMAL
  zh: 在以前的版本中，`.rank()`会将`inf`元素分配为`NaN`作为它们的排名。现在排名被正确计算了。([GH 6945](https://github.com/pandas-dev/pandas/issues/6945))
- en: '[PRE78]'
  id: totrans-994
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: 'Previous behavior:'
  id: totrans-995
  prefs: []
  type: TYPE_NORMAL
  zh: 先前行为：
- en: '[PRE79]'
  id: totrans-996
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: 'Current behavior:'
  id: totrans-997
  prefs: []
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE80]'
  id: totrans-998
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: Furthermore, previously if you rank `inf` or `-inf` values together with `NaN`
    values, the calculation won’t distinguish `NaN` from infinity when using ‘top’
    or ‘bottom’ argument.
  id: totrans-999
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，以前如果您将`inf`或`-inf`值与`NaN`值一起排名，当使用‘top’或‘bottom’参数时，计算不会区分`NaN`和无穷大。
- en: '[PRE81]'
  id: totrans-1000
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: 'Previous behavior:'
  id: totrans-1001
  prefs: []
  type: TYPE_NORMAL
  zh: 先前行为：
- en: '[PRE82]'
  id: totrans-1002
  prefs: []
  type: TYPE_PRE
  zh: '[PRE82]'
- en: 'Current behavior:'
  id: totrans-1003
  prefs: []
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE83]'
  id: totrans-1004
  prefs: []
  type: TYPE_PRE
  zh: '[PRE83]'
- en: 'These bugs were squashed:'
  id: totrans-1005
  prefs: []
  type: TYPE_NORMAL
  zh: 这些错误已被修复：
- en: Bug in [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") and [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") when `method='dense'` and `pct=True` in which percentile
    ranks were not being used with the number of distinct observations ([GH 15630](https://github.com/pandas-dev/pandas/issues/15630))
  id: totrans-1006
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank")和[`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank")中，当`method='dense'`和`pct=True`时，百分位排名未能与不同观察值的数量一起使用（[GH
    15630](https://github.com/pandas-dev/pandas/issues/15630))
- en: Bug in [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") and [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") when `ascending='False'` failed to return correct ranks
    for infinity if `NaN` were present ([GH 19538](https://github.com/pandas-dev/pandas/issues/19538))
  id: totrans-1007
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank")和[`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank")中，当`ascending='False'`时，如果存在`NaN`，无穷大的排名未能返回正确的排名（[GH
    19538](https://github.com/pandas-dev/pandas/issues/19538)）
- en: 'Bug in `DataFrameGroupBy.rank()` where ranks were incorrect when both infinity
    and `NaN` were present ([GH 20561](https://github.com/pandas-dev/pandas/issues/20561))  ###
    `Series.str.cat` has gained the `join` kwarg'
  id: totrans-1008
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrameGroupBy.rank()`中存在的错误，当同时存在无穷大和`NaN`时，排名不正确（[GH 20561](https://github.com/pandas-dev/pandas/issues/20561)）
- en: Previously, [`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat") did not – in contrast to most of `pandas` – align [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") on their index before concatenation (see [GH 18657](https://github.com/pandas-dev/pandas/issues/18657)).
    The method has now gained a keyword `join` to control the manner of alignment,
    see examples below and [here](../user_guide/text.html#text-concatenate).
  id: totrans-1009
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，[`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat")与大多数`pandas`不同，在连接之前不会对它们的索引进行对齐（参见[GH 18657](https://github.com/pandas-dev/pandas/issues/18657)）。该方法现在增加了一个关键字`join`来控制对齐的方式，参见下面的示例和[这里](../user_guide/text.html#text-concatenate)。
- en: In v.0.23 `join` will default to None (meaning no alignment), but this default
    will change to `'left'` in a future version of pandas.
  id: totrans-1010
  prefs: []
  type: TYPE_NORMAL
  zh: 在v.0.23中，`join`将默认为None（表示没有对齐），但这个默认值将在未来的pandas版本中更改为`'left'`。
- en: '[PRE84]'
  id: totrans-1011
  prefs: []
  type: TYPE_PRE
  zh: '[PRE84]'
- en: 'Furthermore, [`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat") now works for `CategoricalIndex` as well (previously
    raised a `ValueError`; see [GH 20842](https://github.com/pandas-dev/pandas/issues/20842)).  ###
    `DataFrame.astype` performs column-wise conversion to `Categorical`'
  id: totrans-1012
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，[`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat")现在也适用于`CategoricalIndex`（以前会引发`ValueError`；参见[GH 20842](https://github.com/pandas-dev/pandas/issues/20842))。###
    `DataFrame.astype`执行列转换为`Categorical`
- en: '[`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") can now perform column-wise conversion to `Categorical`
    by supplying the string `''category''` or a `CategoricalDtype`. Previously, attempting
    this would raise a `NotImplementedError`. See the [Object creation](../user_guide/categorical.html#categorical-objectcreation)
    section of the documentation for more details and examples. ([GH 12860](https://github.com/pandas-dev/pandas/issues/12860),
    [GH 18099](https://github.com/pandas-dev/pandas/issues/18099))'
  id: totrans-1013
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype")现在可以通过提供字符串`''category''`或`CategoricalDtype`执行列转换为`Categorical`。以前尝试这样做会引发`NotImplementedError`。有关更多详细信息和示例，请参阅文档中的[对象创建](../user_guide/categorical.html#categorical-objectcreation)部分。([GH
    12860](https://github.com/pandas-dev/pandas/issues/12860), [GH 18099](https://github.com/pandas-dev/pandas/issues/18099))'
- en: 'Supplying the string `''category''` performs column-wise conversion, with only
    labels appearing in a given column set as categories:'
  id: totrans-1014
  prefs: []
  type: TYPE_NORMAL
  zh: 供应字符串`'category'`执行列转换，只有在给定列中出现的标签才被设置为类别：
- en: '[PRE85]'
  id: totrans-1015
  prefs: []
  type: TYPE_PRE
  zh: '[PRE85]'
- en: 'Supplying a `CategoricalDtype` will make the categories in each column consistent
    with the supplied dtype:'
  id: totrans-1016
  prefs: []
  type: TYPE_NORMAL
  zh: 提供`CategoricalDtype`将使每列中的类别与提供的dtype一致：
- en: '[PRE86]  ### Other enhancements'
  id: totrans-1017
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE86]  ### 其他增强功能'
- en: Unary `+` now permitted for `Series` and `DataFrame` as numeric operator ([GH
    16073](https://github.com/pandas-dev/pandas/issues/16073))
  id: totrans-1018
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在允许对`Series`和`DataFrame`进行一元`+`作为数值运算符。([GH 16073](https://github.com/pandas-dev/pandas/issues/16073))
- en: Better support for [`to_excel()`](../reference/api/pandas.io.formats.style.Styler.to_excel.html#pandas.io.formats.style.Styler.to_excel
    "pandas.io.formats.style.Styler.to_excel") output with the `xlsxwriter` engine.
    ([GH 16149](https://github.com/pandas-dev/pandas/issues/16149))
  id: totrans-1019
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`xlsxwriter`引擎更好地支持[`to_excel()`](../reference/api/pandas.io.formats.style.Styler.to_excel.html#pandas.io.formats.style.Styler.to_excel
    "pandas.io.formats.style.Styler.to_excel")输出。([GH 16149](https://github.com/pandas-dev/pandas/issues/16149))
- en: '[`pandas.tseries.frequencies.to_offset()`](../reference/api/pandas.tseries.frequencies.to_offset.html#pandas.tseries.frequencies.to_offset
    "pandas.tseries.frequencies.to_offset") now accepts leading ‘+’ signs e.g. ‘+1h’.
    ([GH 18171](https://github.com/pandas-dev/pandas/issues/18171))'
  id: totrans-1020
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.tseries.frequencies.to_offset()`](../reference/api/pandas.tseries.frequencies.to_offset.html#pandas.tseries.frequencies.to_offset
    "pandas.tseries.frequencies.to_offset")现在接受前导的‘+’符号，例如‘+1h’。([GH 18171](https://github.com/pandas-dev/pandas/issues/18171))'
- en: '`MultiIndex.unique()` now supports the `level=` argument, to get unique values
    from a specific index level ([GH 17896](https://github.com/pandas-dev/pandas/issues/17896))'
  id: totrans-1021
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.unique()`现在支持`level=`参数，以从特定索引级别获取唯一值。([GH 17896](https://github.com/pandas-dev/pandas/issues/17896))'
- en: '[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") now has method `hide_index()` to determine whether
    the index will be rendered in output ([GH 14194](https://github.com/pandas-dev/pandas/issues/14194))'
  id: totrans-1022
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 现在具有`hide_index()`方法来确定索引是否在输出中呈现（[GH 14194](https://github.com/pandas-dev/pandas/issues/14194)）。'
- en: '[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") now has method `hide_columns()` to determine
    whether columns will be hidden in output ([GH 14194](https://github.com/pandas-dev/pandas/issues/14194))'
  id: totrans-1023
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 现在具有`hide_columns()`方法来确定在输出中是否隐藏列（[GH 14194](https://github.com/pandas-dev/pandas/issues/14194)）。'
- en: Improved wording of `ValueError` raised in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") when `unit=` is passed with a non-convertible value ([GH
    14350](https://github.com/pandas-dev/pandas/issues/14350))
  id: totrans-1024
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 中改进了当`unit=`参数传递了不可转换的值时引发的`ValueError`的措辞（[GH 14350](https://github.com/pandas-dev/pandas/issues/14350)）。
- en: '[`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") now accepts a Series or a dict as a `value` for a categorical
    dtype ([GH 17033](https://github.com/pandas-dev/pandas/issues/17033))'
  id: totrans-1025
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") 现在接受 Series 或字典作为分类数据类型的`value`（[GH 17033](https://github.com/pandas-dev/pandas/issues/17033)）。'
- en: '[`pandas.read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") updated to use qtpy, falling back to PyQt5 and then PyQt4,
    adding compatibility with Python3 and multiple python-qt bindings ([GH 17722](https://github.com/pandas-dev/pandas/issues/17722))'
  id: totrans-1026
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") 更新为使用 qtpy，回退到 PyQt5 然后 PyQt4，并添加了与 Python3 和多个 python-qt
    绑定的兼容性（[GH 17722](https://github.com/pandas-dev/pandas/issues/17722)）。'
- en: Improved wording of `ValueError` raised in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") when the `usecols` argument cannot match all columns. ([GH
    17301](https://github.com/pandas-dev/pandas/issues/17301))
  id: totrans-1027
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    中改进了当`usecols`参数无法匹配所有列时引发的`ValueError`的措辞（[GH 17301](https://github.com/pandas-dev/pandas/issues/17301)）。
- en: '[`DataFrame.corrwith()`](../reference/api/pandas.DataFrame.corrwith.html#pandas.DataFrame.corrwith
    "pandas.DataFrame.corrwith") now silently drops non-numeric columns when passed
    a Series. Before, an exception was raised ([GH 18570](https://github.com/pandas-dev/pandas/issues/18570)).'
  id: totrans-1028
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.corrwith()`](../reference/api/pandas.DataFrame.corrwith.html#pandas.DataFrame.corrwith
    "pandas.DataFrame.corrwith") 现在在传递了一个 Series 时会静默地删除非数值列。之前会引发异常（[GH 18570](https://github.com/pandas-dev/pandas/issues/18570)）。'
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") now supports time zone aware `Interval` objects ([GH 18537](https://github.com/pandas-dev/pandas/issues/18537),
    [GH 18538](https://github.com/pandas-dev/pandas/issues/18538))'
  id: totrans-1029
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 现在支持时区感知的`Interval`对象（[GH 18537](https://github.com/pandas-dev/pandas/issues/18537),
    [GH 18538](https://github.com/pandas-dev/pandas/issues/18538)）。'
- en: '[`Series()`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    / [`DataFrame()`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    tab completion also returns identifiers in the first level of a [`MultiIndex()`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex"). ([GH 16326](https://github.com/pandas-dev/pandas/issues/16326))'
  id: totrans-1030
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series()`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    / [`DataFrame()`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    的 tab 补全也会返回 [`MultiIndex()`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 中第一级的标识符（[GH 16326](https://github.com/pandas-dev/pandas/issues/16326)）。'
- en: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") has gained the `nrows` parameter ([GH 16645](https://github.com/pandas-dev/pandas/issues/16645))'
  id: totrans-1031
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 现在增加了`nrows`参数（[GH 16645](https://github.com/pandas-dev/pandas/issues/16645)）。'
- en: '`DataFrame.append()` can now in more cases preserve the type of the calling
    dataframe’s columns (e.g. if both are `CategoricalIndex`) ([GH 18359](https://github.com/pandas-dev/pandas/issues/18359))'
  id: totrans-1032
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.append()` 现在可以在更多情况下保留调用数据框列的类型（例如，如果两者都是 `CategoricalIndex`）（[GH
    18359](https://github.com/pandas-dev/pandas/issues/18359)）。'
- en: '[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") and [`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") now accept an `index` argument which allows the user
    to exclude the index from the JSON output ([GH 17394](https://github.com/pandas-dev/pandas/issues/17394))'
  id: totrans-1033
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") 和 [`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") 现在接受一个 `index` 参数，允许用户将索引从 JSON 输出中排除（[GH 17394](https://github.com/pandas-dev/pandas/issues/17394)）。'
- en: '`IntervalIndex.to_tuples()` has gained the `na_tuple` parameter to control
    whether NA is returned as a tuple of NA, or NA itself ([GH 18756](https://github.com/pandas-dev/pandas/issues/18756))'
  id: totrans-1034
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.to_tuples()` 增加了 `na_tuple` 参数，用于控制是否将 NA 返回为 NA 元组，或者是 NA 本身（[GH
    18756](https://github.com/pandas-dev/pandas/issues/18756)）。'
- en: '`Categorical.rename_categories`, `CategoricalIndex.rename_categories` and [`Series.cat.rename_categories`](../reference/api/pandas.Series.cat.rename_categories.html#pandas.Series.cat.rename_categories
    "pandas.Series.cat.rename_categories") can now take a callable as their argument
    ([GH 18862](https://github.com/pandas-dev/pandas/issues/18862))'
  id: totrans-1035
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.rename_categories`、`CategoricalIndex.rename_categories` 和 [`Series.cat.rename_categories`](../reference/api/pandas.Series.cat.rename_categories.html#pandas.Series.cat.rename_categories
    "pandas.Series.cat.rename_categories") 现在可以接受一个可调用对象作为它们的参数（[GH 18862](https://github.com/pandas-dev/pandas/issues/18862)）。'
- en: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    and [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") have gained a `length` attribute ([GH 18789](https://github.com/pandas-dev/pandas/issues/18789))'
  id: totrans-1036
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    和 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 增加了一个 `length` 属性（[GH 18789](https://github.com/pandas-dev/pandas/issues/18789)）。'
- en: '`Resampler` objects now have a functioning [`Resampler.pipe`](../reference/api/pandas.core.resample.Resampler.pipe.html#pandas.core.resample.Resampler.pipe
    "pandas.core.resample.Resampler.pipe") method. Previously, calls to `pipe` were
    diverted to the `mean` method ([GH 17905](https://github.com/pandas-dev/pandas/issues/17905)).'
  id: totrans-1037
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Resampler` 对象现在拥有一个可运行的 [`Resampler.pipe`](../reference/api/pandas.core.resample.Resampler.pipe.html#pandas.core.resample.Resampler.pipe
    "pandas.core.resample.Resampler.pipe") 方法。之前，对 `pipe` 的调用会被转到 `mean` 方法（[GH 17905](https://github.com/pandas-dev/pandas/issues/17905)）。'
- en: '[`is_scalar()`](../reference/api/pandas.api.types.is_scalar.html#pandas.api.types.is_scalar
    "pandas.api.types.is_scalar") now returns `True` for `DateOffset` objects ([GH
    18943](https://github.com/pandas-dev/pandas/issues/18943)).'
  id: totrans-1038
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`is_scalar()`](../reference/api/pandas.api.types.is_scalar.html#pandas.api.types.is_scalar
    "pandas.api.types.is_scalar") 现在对 `DateOffset` 对象返回 `True`（[GH 18943](https://github.com/pandas-dev/pandas/issues/18943)）。'
- en: '[`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot") now accepts a list for the `values=` kwarg ([GH 17160](https://github.com/pandas-dev/pandas/issues/17160)).'
  id: totrans-1039
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot") 现在接受一个列表作为 `values=` 参数（[GH 17160](https://github.com/pandas-dev/pandas/issues/17160)）。'
- en: Added [`pandas.api.extensions.register_dataframe_accessor()`](../reference/api/pandas.api.extensions.register_dataframe_accessor.html#pandas.api.extensions.register_dataframe_accessor
    "pandas.api.extensions.register_dataframe_accessor"), [`pandas.api.extensions.register_series_accessor()`](../reference/api/pandas.api.extensions.register_series_accessor.html#pandas.api.extensions.register_series_accessor
    "pandas.api.extensions.register_series_accessor"), and [`pandas.api.extensions.register_index_accessor()`](../reference/api/pandas.api.extensions.register_index_accessor.html#pandas.api.extensions.register_index_accessor
    "pandas.api.extensions.register_index_accessor"), accessor for libraries downstream
    of pandas to register custom accessors like `.cat` on pandas objects. See [Registering
    Custom Accessors](../development/extending.html#extending-register-accessors)
    for more ([GH 14781](https://github.com/pandas-dev/pandas/issues/14781)).
  id: totrans-1040
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增加了 [`pandas.api.extensions.register_dataframe_accessor()`](../reference/api/pandas.api.extensions.register_dataframe_accessor.html#pandas.api.extensions.register_dataframe_accessor
    "pandas.api.extensions.register_dataframe_accessor")、[`pandas.api.extensions.register_series_accessor()`](../reference/api/pandas.api.extensions.register_series_accessor.html#pandas.api.extensions.register_series_accessor
    "pandas.api.extensions.register_series_accessor") 和 [`pandas.api.extensions.register_index_accessor()`](../reference/api/pandas.api.extensions.register_index_accessor.html#pandas.api.extensions.register_index_accessor
    "pandas.api.extensions.register_index_accessor")，为 pandas 下游库注册自定义访问器，如在 pandas
    对象上注册 `.cat`。详情请参阅[注册自定义访问器](../development/extending.html#extending-register-accessors)（[GH
    14781](https://github.com/pandas-dev/pandas/issues/14781)）
- en: '`IntervalIndex.astype` now supports conversions between subtypes when passed
    an `IntervalDtype` ([GH 19197](https://github.com/pandas-dev/pandas/issues/19197))'
  id: totrans-1041
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.astype` 现在支持在传递 `IntervalDtype` 时在子类型之间进行转换（[GH 19197](https://github.com/pandas-dev/pandas/issues/19197)）'
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") and its associated constructor methods (`from_arrays`,
    `from_breaks`, `from_tuples`) have gained a `dtype` parameter ([GH 19262](https://github.com/pandas-dev/pandas/issues/19262))'
  id: totrans-1042
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 及其关联的构造方法（`from_arrays`、`from_breaks`、`from_tuples`）现在具有
    `dtype` 参数（[GH 19262](https://github.com/pandas-dev/pandas/issues/19262)）'
- en: Added `SeriesGroupBy.is_monotonic_increasing()` and `SeriesGroupBy.is_monotonic_decreasing()`
    ([GH 17015](https://github.com/pandas-dev/pandas/issues/17015))
  id: totrans-1043
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增加了 `SeriesGroupBy.is_monotonic_increasing()` 和 `SeriesGroupBy.is_monotonic_decreasing()`（[GH
    17015](https://github.com/pandas-dev/pandas/issues/17015)）
- en: For subclassed `DataFrames`, [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") will now preserve the `Series` subclass (if defined)
    when passing the data to the applied function ([GH 19822](https://github.com/pandas-dev/pandas/issues/19822))
  id: totrans-1044
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于子类化的 `DataFrames`，当传递数据给应用函数时，[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") 现在会保留 `Series` 子类（如果定义了）（[GH 19822](https://github.com/pandas-dev/pandas/issues/19822)）
- en: '[`DataFrame.from_dict()`](../reference/api/pandas.DataFrame.from_dict.html#pandas.DataFrame.from_dict
    "pandas.DataFrame.from_dict") now accepts a `columns` argument that can be used
    to specify the column names when `orient=''index''` is used ([GH 18529](https://github.com/pandas-dev/pandas/issues/18529))'
  id: totrans-1045
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.from_dict()`](../reference/api/pandas.DataFrame.from_dict.html#pandas.DataFrame.from_dict
    "pandas.DataFrame.from_dict") 现在接受一个 `columns` 参数，当 `orient=''index''` 时可以用它来指定列名（[GH
    18529](https://github.com/pandas-dev/pandas/issues/18529)）'
- en: Added option `display.html.use_mathjax` so [MathJax](https://www.mathjax.org/)
    can be disabled when rendering tables in `Jupyter` notebooks ([GH 19856](https://github.com/pandas-dev/pandas/issues/19856),
    [GH 19824](https://github.com/pandas-dev/pandas/issues/19824))
  id: totrans-1046
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增加了选项 `display.html.use_mathjax`，因此可以在 `Jupyter` 笔记本中渲染表格时禁用 [MathJax](https://www.mathjax.org/)（[GH
    19856](https://github.com/pandas-dev/pandas/issues/19856)，[GH 19824](https://github.com/pandas-dev/pandas/issues/19824)）
- en: '[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") now supports the `method` parameter, which can be
    used to specify the replacement method when `to_replace` is a scalar, list or
    tuple and `value` is `None` ([GH 19632](https://github.com/pandas-dev/pandas/issues/19632))'
  id: totrans-1047
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 现在支持 `method` 参数，当 `to_replace` 是标量、列表或元组且 `value`
    为 `None` 时，可以用它来指定替换方法（[GH 19632](https://github.com/pandas-dev/pandas/issues/19632)）'
- en: '[`Timestamp.month_name()`](../reference/api/pandas.Timestamp.month_name.html#pandas.Timestamp.month_name
    "pandas.Timestamp.month_name"), [`DatetimeIndex.month_name()`](../reference/api/pandas.DatetimeIndex.month_name.html#pandas.DatetimeIndex.month_name
    "pandas.DatetimeIndex.month_name"), and [`Series.dt.month_name()`](../reference/api/pandas.Series.dt.month_name.html#pandas.Series.dt.month_name
    "pandas.Series.dt.month_name") are now available ([GH 12805](https://github.com/pandas-dev/pandas/issues/12805))'
  id: totrans-1048
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.month_name()`](../reference/api/pandas.Timestamp.month_name.html#pandas.Timestamp.month_name
    "pandas.Timestamp.month_name")、[`DatetimeIndex.month_name()`](../reference/api/pandas.DatetimeIndex.month_name.html#pandas.DatetimeIndex.month_name
    "pandas.DatetimeIndex.month_name") 和 [`Series.dt.month_name()`](../reference/api/pandas.Series.dt.month_name.html#pandas.Series.dt.month_name
    "pandas.Series.dt.month_name") 现在可用（[GH 12805](https://github.com/pandas-dev/pandas/issues/12805)）'
- en: '[`Timestamp.day_name()`](../reference/api/pandas.Timestamp.day_name.html#pandas.Timestamp.day_name
    "pandas.Timestamp.day_name") and [`DatetimeIndex.day_name()`](../reference/api/pandas.DatetimeIndex.day_name.html#pandas.DatetimeIndex.day_name
    "pandas.DatetimeIndex.day_name") are now available to return day names with a
    specified locale ([GH 12806](https://github.com/pandas-dev/pandas/issues/12806))'
  id: totrans-1049
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.day_name()`](../reference/api/pandas.Timestamp.day_name.html#pandas.Timestamp.day_name
    "pandas.Timestamp.day_name") 和 [`DatetimeIndex.day_name()`](../reference/api/pandas.DatetimeIndex.day_name.html#pandas.DatetimeIndex.day_name
    "pandas.DatetimeIndex.day_name") 现在可用于返回指定语言环境下的星期几（[GH 12806](https://github.com/pandas-dev/pandas/issues/12806)）'
- en: '[`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") now performs a multi-value insert if the underlying
    connection supports itk rather than inserting row by row. `SQLAlchemy` dialects
    supporting multi-value inserts include: `mysql`, `postgresql`, `sqlite` and any
    dialect with `supports_multivalues_insert`. ([GH 14315](https://github.com/pandas-dev/pandas/issues/14315),
    [GH 8953](https://github.com/pandas-dev/pandas/issues/8953))'
  id: totrans-1050
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 现在在底层连接支持时执行多值插入，而不是逐行插入。支持多值插入的 `SQLAlchemy` 方言包括：`mysql`、`postgresql`、`sqlite`
    和任何具有 `supports_multivalues_insert` 的方言。（[GH 14315](https://github.com/pandas-dev/pandas/issues/14315)、[GH
    8953](https://github.com/pandas-dev/pandas/issues/8953)）'
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    now accepts a `displayed_only` keyword argument to controls whether or not hidden
    elements are parsed (`True` by default) ([GH 20027](https://github.com/pandas-dev/pandas/issues/20027))'
  id: totrans-1051
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    现在接受一个 `displayed_only` 关键字参数来控制是否解析隐藏元素（默认为 `True`）（[GH 20027](https://github.com/pandas-dev/pandas/issues/20027)）'
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    now reads all `<tbody>` elements in a `<table>`, not just the first. ([GH 20690](https://github.com/pandas-dev/pandas/issues/20690))'
  id: totrans-1052
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    现在读取 `<table>` 中的所有 `<tbody>` 元素，而不仅仅是第一个。（[GH 20690](https://github.com/pandas-dev/pandas/issues/20690)）'
- en: '[`Rolling.quantile()`](../reference/api/pandas.core.window.rolling.Rolling.quantile.html#pandas.core.window.rolling.Rolling.quantile
    "pandas.core.window.rolling.Rolling.quantile") and [`Expanding.quantile()`](../reference/api/pandas.core.window.expanding.Expanding.quantile.html#pandas.core.window.expanding.Expanding.quantile
    "pandas.core.window.expanding.Expanding.quantile") now accept the `interpolation`
    keyword, `linear` by default ([GH 20497](https://github.com/pandas-dev/pandas/issues/20497))'
  id: totrans-1053
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Rolling.quantile()`](../reference/api/pandas.core.window.rolling.Rolling.quantile.html#pandas.core.window.rolling.Rolling.quantile
    "pandas.core.window.rolling.Rolling.quantile") 和 [`Expanding.quantile()`](../reference/api/pandas.core.window.expanding.Expanding.quantile.html#pandas.core.window.expanding.Expanding.quantile
    "pandas.core.window.expanding.Expanding.quantile") 现在接受 `interpolation` 关键字，默认为
    `linear`（[GH 20497](https://github.com/pandas-dev/pandas/issues/20497)）'
- en: zip compression is supported via `compression=zip` in [`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle"), [`Series.to_pickle()`](../reference/api/pandas.Series.to_pickle.html#pandas.Series.to_pickle
    "pandas.Series.to_pickle"), [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv"), [`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv"), [`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json"), [`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json"). ([GH 17778](https://github.com/pandas-dev/pandas/issues/17778))
  id: totrans-1054
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过在[`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle")、[`Series.to_pickle()`](../reference/api/pandas.Series.to_pickle.html#pandas.Series.to_pickle
    "pandas.Series.to_pickle")、[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv")、[`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv")、[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json")、[`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") 中使用 `compression=zip`，支持 zip 压缩。([GH 17778](https://github.com/pandas-dev/pandas/issues/17778))
- en: '[`WeekOfMonth`](../reference/api/pandas.tseries.offsets.WeekOfMonth.html#pandas.tseries.offsets.WeekOfMonth
    "pandas.tseries.offsets.WeekOfMonth") constructor now supports `n=0` ([GH 20517](https://github.com/pandas-dev/pandas/issues/20517)).'
  id: totrans-1055
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`WeekOfMonth`](../reference/api/pandas.tseries.offsets.WeekOfMonth.html#pandas.tseries.offsets.WeekOfMonth
    "pandas.tseries.offsets.WeekOfMonth") 构造函数现在支持 `n=0`。([GH 20517](https://github.com/pandas-dev/pandas/issues/20517))'
- en: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    and [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    now support matrix multiplication (`@`) operator ([GH 10259](https://github.com/pandas-dev/pandas/issues/10259))
    for Python>=3.5'
  id: totrans-1056
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    和[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    现在支持矩阵乘法 (`@`) 运算符，适用于 Python>=3.5。([GH 10259](https://github.com/pandas-dev/pandas/issues/10259))'
- en: Updated [`DataFrame.to_gbq()`](../reference/api/pandas.DataFrame.to_gbq.html#pandas.DataFrame.to_gbq
    "pandas.DataFrame.to_gbq") and [`pandas.read_gbq()`](../reference/api/pandas.read_gbq.html#pandas.read_gbq
    "pandas.read_gbq") signature and documentation to reflect changes from the pandas-gbq
    library version 0.4.0\. Adds intersphinx mapping to pandas-gbq library. ([GH 20564](https://github.com/pandas-dev/pandas/issues/20564))
  id: totrans-1057
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更新了[`DataFrame.to_gbq()`](../reference/api/pandas.DataFrame.to_gbq.html#pandas.DataFrame.to_gbq
    "pandas.DataFrame.to_gbq")和[`pandas.read_gbq()`](../reference/api/pandas.read_gbq.html#pandas.read_gbq
    "pandas.read_gbq")的签名和文档，以反映来自 pandas-gbq 库版本 0.4.0 的更改。添加了到 pandas-gbq 库的 intersphinx
    映射。([GH 20564](https://github.com/pandas-dev/pandas/issues/20564))
- en: Added new writer for exporting Stata dta files in version 117, `StataWriter117`.
    This format supports exporting strings with lengths up to 2,000,000 characters
    ([GH 16450](https://github.com/pandas-dev/pandas/issues/16450))
  id: totrans-1058
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在版本 117 中添加了用于导出 Stata dta 文件的新写入器，`StataWriter117`。该格式支持导出长度最长达 2,000,000 个字符的字符串。([GH
    16450](https://github.com/pandas-dev/pandas/issues/16450))
- en: '`to_hdf()` and [`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf
    "pandas.read_hdf") now accept an `errors` keyword argument to control encoding
    error handling ([GH 20835](https://github.com/pandas-dev/pandas/issues/20835))'
  id: totrans-1059
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_hdf()` 和[`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf
    "pandas.read_hdf") 现在接受一个 `errors` 关键字参数，用于控制编码错误处理。([GH 20835](https://github.com/pandas-dev/pandas/issues/20835))'
- en: '[`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") has gained
    the `duplicates=''raise''|''drop''` option to control whether to raise on duplicated
    edges ([GH 20947](https://github.com/pandas-dev/pandas/issues/20947))'
  id: totrans-1060
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") 现在增加了 `duplicates=''raise''|''drop''`
    选项，用于控制是否在重复边缘上引发异常。([GH 20947](https://github.com/pandas-dev/pandas/issues/20947))'
- en: '[`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range"), [`timedelta_range()`](../reference/api/pandas.timedelta_range.html#pandas.timedelta_range
    "pandas.timedelta_range"), and [`interval_range()`](../reference/api/pandas.interval_range.html#pandas.interval_range
    "pandas.interval_range") now return a linearly spaced index if `start`, `stop`,
    and `periods` are specified, but `freq` is not. ([GH 20808](https://github.com/pandas-dev/pandas/issues/20808),
    [GH 20983](https://github.com/pandas-dev/pandas/issues/20983), [GH 20976](https://github.com/pandas-dev/pandas/issues/20976))  ###
    JSON read/write round-trippable with `orient=''table''`'
  id: totrans-1061
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range")、[`timedelta_range()`](../reference/api/pandas.timedelta_range.html#pandas.timedelta_range
    "pandas.timedelta_range") 和 [`interval_range()`](../reference/api/pandas.interval_range.html#pandas.interval_range
    "pandas.interval_range") 现在在指定 `start`、`stop` 和 `periods` 的情况下返回线性间隔索引，但没有指定 `freq`。([GH
    20808](https://github.com/pandas-dev/pandas/issues/20808)、[GH 20983](https://github.com/pandas-dev/pandas/issues/20983)、[GH
    20976](https://github.com/pandas-dev/pandas/issues/20976))  ### JSON 读写循环与 `orient=''table''`
    兼容'
- en: A `DataFrame` can now be written to and subsequently read back via JSON while
    preserving metadata through usage of the `orient='table'` argument (see [GH 18912](https://github.com/pandas-dev/pandas/issues/18912)
    and [GH 9146](https://github.com/pandas-dev/pandas/issues/9146)). Previously,
    none of the available `orient` values guaranteed the preservation of dtypes and
    index names, amongst other metadata.
  id: totrans-1062
  prefs: []
  type: TYPE_NORMAL
  zh: 通过使用 `orient='table'` 参数，现在可以通过JSON将 `DataFrame` 写入并随后读回，同时通过保留元数据来使用（参见[GH
    18912](https://github.com/pandas-dev/pandas/issues/18912)和[GH 9146](https://github.com/pandas-dev/pandas/issues/9146)）。之前，所有可用的
    `orient` 值都不能保证保留dtype和索引名称等元数据。
- en: '[PRE87]'
  id: totrans-1063
  prefs: []
  type: TYPE_PRE
  zh: '[PRE87]'
- en: Please note that the string `index` is not supported with the round trip format,
    as it is used by default in `write_json` to indicate a missing index name.
  id: totrans-1064
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，字符串 `index` 在往返格式中不受支持，因为在 `write_json` 中默认使用它来指示缺少索引名称。
- en: '[PRE88]'
  id: totrans-1065
  prefs: []
  type: TYPE_PRE
  zh: '[PRE88]'
- en: '### Method `.assign()` accepts dependent arguments'
  id: totrans-1066
  prefs: []
  type: TYPE_NORMAL
  zh: '### 方法 `.assign()` 接受依赖参数'
- en: The [`DataFrame.assign()`](../reference/api/pandas.DataFrame.assign.html#pandas.DataFrame.assign
    "pandas.DataFrame.assign") now accepts dependent keyword arguments for python
    version later than 3.6 (see also [PEP 468](https://www.python.org/dev/peps/pep-0468/)).
    Later keyword arguments may now refer to earlier ones if the argument is a callable.
    See the [documentation here](../user_guide/dsintro.html#dsintro-chained-assignment)
    ([GH 14207](https://github.com/pandas-dev/pandas/issues/14207))
  id: totrans-1067
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.assign()`](../reference/api/pandas.DataFrame.assign.html#pandas.DataFrame.assign
    "pandas.DataFrame.assign") 现在接受了依赖关键字参数，适用于Python版本大于3.6（另见 [PEP 468](https://www.python.org/dev/peps/pep-0468/)）。如果参数是可调用的，则后续关键字参数现在可以引用之前的关键字参数。参见[此处的文档](../user_guide/dsintro.html#dsintro-chained-assignment)（[GH
    14207](https://github.com/pandas-dev/pandas/issues/14207)）'
- en: '[PRE89]'
  id: totrans-1068
  prefs: []
  type: TYPE_PRE
  zh: '[PRE89]'
- en: Warning
  id: totrans-1069
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: This may subtly change the behavior of your code when you’re using `.assign()`
    to update an existing column. Previously, callables referring to other variables
    being updated would get the “old” values
  id: totrans-1070
  prefs: []
  type: TYPE_NORMAL
  zh: 当您使用 `.assign()` 更新现有列时，这可能会微妙地改变代码的行为。之前，引用正在更新的其他变量的可调用函数会得到“旧”值。
- en: 'Previous behavior:'
  id: totrans-1071
  prefs: []
  type: TYPE_NORMAL
  zh: 以前的行为：
- en: '[PRE90]'
  id: totrans-1072
  prefs: []
  type: TYPE_PRE
  zh: '[PRE90]'
- en: 'New behavior:'
  id: totrans-1073
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE91]'
  id: totrans-1074
  prefs: []
  type: TYPE_PRE
  zh: '[PRE91]'
- en: '### Merging on a combination of columns and index levels'
  id: totrans-1075
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在列和索引级别的组合上合并'
- en: Strings passed to [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") as the `on`, `left_on`, and `right_on` parameters may
    now refer to either column names or index level names. This enables merging `DataFrame`
    instances on a combination of index levels and columns without resetting indexes.
    See the [Merge on columns and levels](../user_guide/merging.html#merging-merge-on-columns-and-levels)
    documentation section. ([GH 14355](https://github.com/pandas-dev/pandas/issues/14355))
  id: totrans-1076
  prefs: []
  type: TYPE_NORMAL
  zh: 传递给 [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") 的字符串，作为 `on`、`left_on` 和 `right_on` 参数，现在可以引用列名或索引级别名。这使得可以在索引级别和列的组合上合并
    `DataFrame` 实例，而无需重置索引。参见[列和级别上的合并](../user_guide/merging.html#merging-merge-on-columns-and-levels)文档部分。([GH
    14355](https://github.com/pandas-dev/pandas/issues/14355))
- en: '[PRE92]'
  id: totrans-1077
  prefs: []
  type: TYPE_PRE
  zh: '[PRE92]'
- en: '### Sorting by a combination of columns and index levels'
  id: totrans-1078
  prefs: []
  type: TYPE_NORMAL
  zh: '### 按列和索引级别的组合排序'
- en: Strings passed to [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") as the `by` parameter may now refer to either
    column names or index level names. This enables sorting `DataFrame` instances
    by a combination of index levels and columns without resetting indexes. See the
    [Sorting by Indexes and Values](../user_guide/basics.html#basics-sort-indexes-and-values)
    documentation section. ([GH 14353](https://github.com/pandas-dev/pandas/issues/14353))
  id: totrans-1079
  prefs: []
  type: TYPE_NORMAL
  zh: 作为 `by` 参数传递给 [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") 的字符串现在可以是列名或索引级别名。这使得可以按索引级别和列的组合对 `DataFrame`
    实例进行排序而不用重置索引。请参阅[按索引和值排序](../user_guide/basics.html#basics-sort-indexes-and-values)文档部分。（[GH
    14353](https://github.com/pandas-dev/pandas/issues/14353)）
- en: '[PRE93]'
  id: totrans-1080
  prefs: []
  type: TYPE_PRE
  zh: '[PRE93]'
- en: '### Extending pandas with custom types (experimental)'
  id: totrans-1081
  prefs: []
  type: TYPE_NORMAL
  zh: '### 用自定义类型扩展 pandas（实验性）'
- en: pandas now supports storing array-like objects that aren’t necessarily 1-D NumPy
    arrays as columns in a DataFrame or values in a Series. This allows third-party
    libraries to implement extensions to NumPy’s types, similar to how pandas implemented
    categoricals, datetimes with timezones, periods, and intervals.
  id: totrans-1082
  prefs: []
  type: TYPE_NORMAL
  zh: 现在 pandas 支持将不一定是 1-D NumPy 数组的类似数组对象存储为 DataFrame 的列或 Series 的值。这使得第三方库可以实现对
    NumPy 类型的扩展，类似于 pandas 实现分类、带时区的日期时间、周期和区间。
- en: As a demonstration, we’ll use [cyberpandas](https://cyberpandas.readthedocs.io/en/latest/),
    which provides an `IPArray` type for storing ip addresses.
  id: totrans-1083
  prefs: []
  type: TYPE_NORMAL
  zh: 作为演示，我们将使用 [cyberpandas](https://cyberpandas.readthedocs.io/en/latest/)，它提供了一种用于存储
    IP 地址的 `IPArray` 类型。
- en: '[PRE94]'
  id: totrans-1084
  prefs: []
  type: TYPE_PRE
  zh: '[PRE94]'
- en: '`IPArray` isn’t a normal 1-D NumPy array, but because it’s a pandas [`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray"), it can be stored properly inside pandas’
    containers.'
  id: totrans-1085
  prefs: []
  type: TYPE_NORMAL
  zh: '`IPArray`并不是一个普通的 1-D NumPy 数组，但由于它是一个 pandas [`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray")，它可以被适当地存储在 pandas 的容器中。'
- en: '[PRE95]'
  id: totrans-1086
  prefs: []
  type: TYPE_PRE
  zh: '[PRE95]'
- en: 'Notice that the dtype is `ip`. The missing value semantics of the underlying
    array are respected:'
  id: totrans-1087
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意 dtype 是 `ip`。底层数组的缺失值语义得到了尊重：
- en: '[PRE96]'
  id: totrans-1088
  prefs: []
  type: TYPE_PRE
  zh: '[PRE96]'
- en: For more, see the [extension types](../development/extending.html#extending-extension-types)
    documentation. If you build an extension array, publicize it on [the ecosystem
    page](https://pandas.pydata.org/community/ecosystem.html).
  id: totrans-1089
  prefs: []
  type: TYPE_NORMAL
  zh: 更多信息，请参阅[扩展类型](../development/extending.html#extending-extension-types)文档。如果您构建了扩展数组，请在[生态系统页面](https://pandas.pydata.org/community/ecosystem.html)上公布。
- en: '### New `observed` keyword for excluding unobserved categories in `GroupBy`'
  id: totrans-1090
  prefs: []
  type: TYPE_NORMAL
  zh: '### `GroupBy` 中排除未观察到的类别的新 `observed` 关键字'
- en: Grouping by a categorical includes the unobserved categories in the output.
    When grouping by multiple categorical columns, this means you get the cartesian
    product of all the categories, including combinations where there are no observations,
    which can result in a large number of groups. We have added a keyword `observed`
    to control this behavior, it defaults to `observed=False` for backward-compatibility.
    ([GH 14942](https://github.com/pandas-dev/pandas/issues/14942), [GH 8138](https://github.com/pandas-dev/pandas/issues/8138),
    [GH 15217](https://github.com/pandas-dev/pandas/issues/15217), [GH 17594](https://github.com/pandas-dev/pandas/issues/17594),
    [GH 8669](https://github.com/pandas-dev/pandas/issues/8669), [GH 20583](https://github.com/pandas-dev/pandas/issues/20583),
    [GH 20902](https://github.com/pandas-dev/pandas/issues/20902))
  id: totrans-1091
  prefs: []
  type: TYPE_NORMAL
  zh: 按分类分组时，输出中包括未观察到的类别。当按多个分类列分组时，这意味着您会得到所有类别的笛卡尔积，包括没有观察到的组合，这可能导致大量的组。我们添加了一个关键字
    `observed` 来控制此行为，默认值为 `observed=False`，以确保向后兼容。（[GH 14942](https://github.com/pandas-dev/pandas/issues/14942),
    [GH 8138](https://github.com/pandas-dev/pandas/issues/8138), [GH 15217](https://github.com/pandas-dev/pandas/issues/15217),
    [GH 17594](https://github.com/pandas-dev/pandas/issues/17594), [GH 8669](https://github.com/pandas-dev/pandas/issues/8669),
    [GH 20583](https://github.com/pandas-dev/pandas/issues/20583), [GH 20902](https://github.com/pandas-dev/pandas/issues/20902)）
- en: '[PRE97]'
  id: totrans-1092
  prefs: []
  type: TYPE_PRE
  zh: '[PRE97]'
- en: 'To show all values, the previous behavior:'
  id: totrans-1093
  prefs: []
  type: TYPE_NORMAL
  zh: 要显示所有值，前面的行为：
- en: '[PRE98]'
  id: totrans-1094
  prefs: []
  type: TYPE_PRE
  zh: '[PRE98]'
- en: 'To show only observed values:'
  id: totrans-1095
  prefs: []
  type: TYPE_NORMAL
  zh: 仅显示观察到的值：
- en: '[PRE99]'
  id: totrans-1096
  prefs: []
  type: TYPE_PRE
  zh: '[PRE99]'
- en: 'For pivoting operations, this behavior is *already* controlled by the `dropna`
    keyword:'
  id: totrans-1097
  prefs: []
  type: TYPE_NORMAL
  zh: 对于数据透视操作，此行为已经由 `dropna` 关键字控制：
- en: '[PRE100]'
  id: totrans-1098
  prefs: []
  type: TYPE_PRE
  zh: '[PRE100]'
- en: '[PRE101]'
  id: totrans-1099
  prefs: []
  type: TYPE_PRE
  zh: '[PRE101]'
- en: '### Rolling/Expanding.apply() accepts `raw=False` to pass a `Series` to the
    function'
  id: totrans-1100
  prefs: []
  type: TYPE_NORMAL
  zh: '### Rolling/Expanding.apply() 接受 `raw=False` 以将 `Series` 传递给函数'
- en: '`Series.rolling().apply()`, `DataFrame.rolling().apply()`, `Series.expanding().apply()`,
    and `DataFrame.expanding().apply()` have gained a `raw=None` parameter. This is
    similar to `DataFame.apply()`. This parameter, if `True` allows one to send a
    `np.ndarray` to the applied function. If `False` a `Series` will be passed. The
    default is `None`, which preserves backward compatibility, so this will default
    to `True`, sending an `np.ndarray`. In a future version the default will be changed
    to `False`, sending a `Series`. ([GH 5071](https://github.com/pandas-dev/pandas/issues/5071),
    [GH 20584](https://github.com/pandas-dev/pandas/issues/20584))'
  id: totrans-1101
  prefs: []
  type: TYPE_NORMAL
  zh: '`Series.rolling().apply()`、`DataFrame.rolling().apply()`、`Series.expanding().apply()`
    和 `DataFrame.expanding().apply()` 现在增加了一个 `raw=None` 参数。这类似于 `DataFame.apply()`。如果为
    `True`，则允许将 `np.ndarray` 发送到应用的函数。如果为 `False`，则将传递一个 `Series`。默认值为 `None`，它保留了向后兼容性，因此这将默认为
    `True`，发送一个 `np.ndarray`。在将来的版本中，默认值将被更改为 `False`，发送一个 `Series`。 ([GH 5071](https://github.com/pandas-dev/pandas/issues/5071),
    [GH 20584](https://github.com/pandas-dev/pandas/issues/20584))'
- en: '[PRE102]'
  id: totrans-1102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE102]'
- en: 'Pass a `Series`:'
  id: totrans-1103
  prefs: []
  type: TYPE_NORMAL
  zh: 传递一个 `Series`：
- en: '[PRE103]'
  id: totrans-1104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE103]'
- en: 'Mimic the original behavior of passing a ndarray:'
  id: totrans-1105
  prefs: []
  type: TYPE_NORMAL
  zh: 模仿传递 ndarray 的原始行为：
- en: '[PRE104]'
  id: totrans-1106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE104]'
- en: '### `DataFrame.interpolate` has gained the `limit_area` kwarg'
  id: totrans-1107
  prefs: []
  type: TYPE_NORMAL
  zh: '### `DataFrame.interpolate` 已经增加了 `limit_area` 参数'
- en: '[`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate") has gained a `limit_area` parameter to allow further
    control of which `NaN` s are replaced. Use `limit_area=''inside''` to fill only
    NaNs surrounded by valid values or use `limit_area=''outside''` to fill only `NaN`
    s outside the existing valid values while preserving those inside. ([GH 16284](https://github.com/pandas-dev/pandas/issues/16284))
    See the [full documentation here](../user_guide/missing_data.html#missing-data-interp-limits).'
  id: totrans-1108
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate") 现在增加了一个 `limit_area` 参数，以进一步控制哪些 `NaN` 将被替换。使用
    `limit_area=''inside''` 仅填充被有效值环绕的 NaN，或使用 `limit_area=''outside''` 仅填充现有有效值外的
    NaN，同时保留内部的有效值。 ([GH 16284](https://github.com/pandas-dev/pandas/issues/16284))
    请参阅[完整文档](../user_guide/missing_data.html#missing-data-interp-limits)。'
- en: '[PRE105]'
  id: totrans-1109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE105]'
- en: Fill one consecutive inside value in both directions
  id: totrans-1110
  prefs: []
  type: TYPE_NORMAL
  zh: 在两个方向上填充一个连续的内部值
- en: '[PRE106]'
  id: totrans-1111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE106]'
- en: Fill all consecutive outside values backward
  id: totrans-1112
  prefs: []
  type: TYPE_NORMAL
  zh: 向后填充所有连续的外部值
- en: '[PRE107]'
  id: totrans-1113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE107]'
- en: Fill all consecutive outside values in both directions
  id: totrans-1114
  prefs: []
  type: TYPE_NORMAL
  zh: 在两个方向上填充所有连续的外部值
- en: '[PRE108]'
  id: totrans-1115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE108]'
- en: '### Function `get_dummies` now supports `dtype` argument'
  id: totrans-1116
  prefs: []
  type: TYPE_NORMAL
  zh: '### 函数 `get_dummies` 现在支持 `dtype` 参数'
- en: The [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") now accepts a `dtype` argument, which specifies a dtype
    for the new columns. The default remains uint8\. ([GH 18330](https://github.com/pandas-dev/pandas/issues/18330))
  id: totrans-1117
  prefs: []
  type: TYPE_NORMAL
  zh: '[`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") 现在接受一个 `dtype` 参数，该参数指定新列的数据类型。默认值保持为 uint8。 ([GH 18330](https://github.com/pandas-dev/pandas/issues/18330))'
- en: '[PRE109]'
  id: totrans-1118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE109]'
- en: '### Timedelta mod method'
  id: totrans-1119
  prefs: []
  type: TYPE_NORMAL
  zh: '### Timedelta mod 方法'
- en: '`mod` (%) and `divmod` operations are now defined on `Timedelta` objects when
    operating with either timedelta-like or with numeric arguments. See the [documentation
    here](../user_guide/timedeltas.html#timedeltas-mod-divmod). ([GH 19365](https://github.com/pandas-dev/pandas/issues/19365))'
  id: totrans-1120
  prefs: []
  type: TYPE_NORMAL
  zh: 当对 timedelta-like 或数值参数进行操作时，`mod`（%）和 `divmod` 操作现在在 `Timedelta` 对象上定义了。请参阅[此处的文档](../user_guide/timedeltas.html#timedeltas-mod-divmod)。
    ([GH 19365](https://github.com/pandas-dev/pandas/issues/19365))
- en: '[PRE110]'
  id: totrans-1121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE110]'
- en: '### Method `.rank()` handles `inf` values when `NaN` are present'
  id: totrans-1122
  prefs: []
  type: TYPE_NORMAL
  zh: '### 方法 `.rank()` 处理当 `NaN` 存在时的 `inf` 值'
- en: In previous versions, `.rank()` would assign `inf` elements `NaN` as their ranks.
    Now ranks are calculated properly. ([GH 6945](https://github.com/pandas-dev/pandas/issues/6945))
  id: totrans-1123
  prefs: []
  type: TYPE_NORMAL
  zh: 在之前的版本中，`.rank()` 会将 `inf` 元素分配为它们的排名为 `NaN`。现在排名被正确计算了。 ([GH 6945](https://github.com/pandas-dev/pandas/issues/6945))
- en: '[PRE111]'
  id: totrans-1124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE111]'
- en: 'Previous behavior:'
  id: totrans-1125
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE112]'
  id: totrans-1126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE112]'
- en: 'Current behavior:'
  id: totrans-1127
  prefs: []
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE113]'
  id: totrans-1128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE113]'
- en: Furthermore, previously if you rank `inf` or `-inf` values together with `NaN`
    values, the calculation won’t distinguish `NaN` from infinity when using ‘top’
    or ‘bottom’ argument.
  id: totrans-1129
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，以前如果你将 `inf` 或 `-inf` 值与 `NaN` 值一起排列，当使用 'top' 或 'bottom' 参数时，计算不会区分 `NaN`
    和无穷大。
- en: '[PRE114]'
  id: totrans-1130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE114]'
- en: 'Previous behavior:'
  id: totrans-1131
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE115]'
  id: totrans-1132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE115]'
- en: 'Current behavior:'
  id: totrans-1133
  prefs: []
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE116]'
  id: totrans-1134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE116]'
- en: 'These bugs were squashed:'
  id: totrans-1135
  prefs: []
  type: TYPE_NORMAL
  zh: 这些 bug 已经被修复：
- en: Bug in [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") and [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") when `method='dense'` and `pct=True` in which percentile
    ranks were not being used with the number of distinct observations ([GH 15630](https://github.com/pandas-dev/pandas/issues/15630))
  id: totrans-1136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`method='dense'`且`pct=True`时，在[`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") 和 [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") 中存在一个 bug，百分位排名未与不同观察值的数量一起使用。([GH 15630](https://github.com/pandas-dev/pandas/issues/15630))
- en: Bug in [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") and [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") when `ascending='False'` failed to return correct ranks
    for infinity if `NaN` were present ([GH 19538](https://github.com/pandas-dev/pandas/issues/19538))
  id: totrans-1137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`ascending='False'`时，[`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") 和 [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") 中的一个 bug 导致如果存在`NaN`，则无法正确返回无穷大的排名。([GH 19538](https://github.com/pandas-dev/pandas/issues/19538))
- en: Bug in `DataFrameGroupBy.rank()` where ranks were incorrect when both infinity
    and `NaN` were present ([GH 20561](https://github.com/pandas-dev/pandas/issues/20561))
  id: totrans-1138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrameGroupBy.rank()`中存在一个 bug，当同时存在无穷大和`NaN`时，排名不正确。([GH 20561](https://github.com/pandas-dev/pandas/issues/20561))
- en: '### `Series.str.cat` has gained the `join` kwarg'
  id: totrans-1139
  prefs: []
  type: TYPE_NORMAL
  zh: '### `Series.str.cat` 增加了`join`关键字参数'
- en: Previously, [`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat") did not – in contrast to most of `pandas` – align [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") on their index before concatenation (see [GH 18657](https://github.com/pandas-dev/pandas/issues/18657)).
    The method has now gained a keyword `join` to control the manner of alignment,
    see examples below and [here](../user_guide/text.html#text-concatenate).
  id: totrans-1140
  prefs: []
  type: TYPE_NORMAL
  zh: 之前，[`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat") 与大多数`pandas`不同，在连接之前未对它们的索引进行对齐（参见[GH 18657](https://github.com/pandas-dev/pandas/issues/18657)）。该方法现在增加了一个关键字`join`来控制对齐的方式，请参见下面的示例和[这里](../user_guide/text.html#text-concatenate)。
- en: In v.0.23 `join` will default to None (meaning no alignment), but this default
    will change to `'left'` in a future version of pandas.
  id: totrans-1141
  prefs: []
  type: TYPE_NORMAL
  zh: 在 v.0.23 中，`join` 将默认为 None（表示无对齐），但这个默认值将在 pandas 的将来版本中更改为`'left'`。
- en: '[PRE117]'
  id: totrans-1142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE117]'
- en: Furthermore, [`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat") now works for `CategoricalIndex` as well (previously
    raised a `ValueError`; see [GH 20842](https://github.com/pandas-dev/pandas/issues/20842)).
  id: totrans-1143
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，[`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat") 现在也适用于`CategoricalIndex`（之前会引发`ValueError`；请参见[GH 20842](https://github.com/pandas-dev/pandas/issues/20842)）。
- en: '### `DataFrame.astype` performs column-wise conversion to `Categorical`'
  id: totrans-1144
  prefs: []
  type: TYPE_NORMAL
  zh: '### `DataFrame.astype` 执行列级转换为`Categorical`'
- en: '[`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") can now perform column-wise conversion to `Categorical`
    by supplying the string `''category''` or a `CategoricalDtype`. Previously, attempting
    this would raise a `NotImplementedError`. See the [Object creation](../user_guide/categorical.html#categorical-objectcreation)
    section of the documentation for more details and examples. ([GH 12860](https://github.com/pandas-dev/pandas/issues/12860),
    [GH 18099](https://github.com/pandas-dev/pandas/issues/18099))'
  id: totrans-1145
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") 现在可以通过提供字符串`''category''`或`CategoricalDtype`来执行列级转换为`Categorical`。之前尝试这样做会引发`NotImplementedError`。更多详细信息和示例请参见文档中的[对象创建](../user_guide/categorical.html#categorical-objectcreation)部分。([GH
    12860](https://github.com/pandas-dev/pandas/issues/12860), [GH 18099](https://github.com/pandas-dev/pandas/issues/18099))'
- en: 'Supplying the string `''category''` performs column-wise conversion, with only
    labels appearing in a given column set as categories:'
  id: totrans-1146
  prefs: []
  type: TYPE_NORMAL
  zh: 提供字符串`'category'`执行列级转换，只有在给定列中出现的标签才被设置为类别：
- en: '[PRE118]'
  id: totrans-1147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE118]'
- en: 'Supplying a `CategoricalDtype` will make the categories in each column consistent
    with the supplied dtype:'
  id: totrans-1148
  prefs: []
  type: TYPE_NORMAL
  zh: 提供`CategoricalDtype`将使每列中的类别与提供的 dtype 一致：
- en: '[PRE119]'
  id: totrans-1149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE119]'
- en: '### Other enhancements'
  id: totrans-1150
  prefs: []
  type: TYPE_NORMAL
  zh: '### 其他增强功能'
- en: Unary `+` now permitted for `Series` and `DataFrame` as numeric operator ([GH
    16073](https://github.com/pandas-dev/pandas/issues/16073))
  id: totrans-1151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在允许对`Series`和`DataFrame`使用一元`+`作为数值运算符。([GH 16073](https://github.com/pandas-dev/pandas/issues/16073))
- en: Better support for [`to_excel()`](../reference/api/pandas.io.formats.style.Styler.to_excel.html#pandas.io.formats.style.Styler.to_excel
    "pandas.io.formats.style.Styler.to_excel") output with the `xlsxwriter` engine.
    ([GH 16149](https://github.com/pandas-dev/pandas/issues/16149))
  id: totrans-1152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 `xlsxwriter` 引擎改进了 [`to_excel()`](../reference/api/pandas.io.formats.style.Styler.to_excel.html#pandas.io.formats.style.Styler.to_excel
    "pandas.io.formats.style.Styler.to_excel") 的输出支持。（[GH 16149](https://github.com/pandas-dev/pandas/issues/16149)）
- en: '[`pandas.tseries.frequencies.to_offset()`](../reference/api/pandas.tseries.frequencies.to_offset.html#pandas.tseries.frequencies.to_offset
    "pandas.tseries.frequencies.to_offset") now accepts leading ‘+’ signs e.g. ‘+1h’.
    ([GH 18171](https://github.com/pandas-dev/pandas/issues/18171))'
  id: totrans-1153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.tseries.frequencies.to_offset()`](../reference/api/pandas.tseries.frequencies.to_offset.html#pandas.tseries.frequencies.to_offset
    "pandas.tseries.frequencies.to_offset") 现在接受前导‘+’符号，例如‘+1h’。（[GH 18171](https://github.com/pandas-dev/pandas/issues/18171)）'
- en: '`MultiIndex.unique()` now supports the `level=` argument, to get unique values
    from a specific index level ([GH 17896](https://github.com/pandas-dev/pandas/issues/17896))'
  id: totrans-1154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.unique()` 现在支持 `level=` 参数，以从特定索引级别获取唯一值（[GH 17896](https://github.com/pandas-dev/pandas/issues/17896)）'
- en: '[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") now has method `hide_index()` to determine whether
    the index will be rendered in output ([GH 14194](https://github.com/pandas-dev/pandas/issues/14194))'
  id: totrans-1155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 现在有了 `hide_index()` 方法，确定输出中是否呈现索引（[GH 14194](https://github.com/pandas-dev/pandas/issues/14194)）'
- en: '[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") now has method `hide_columns()` to determine
    whether columns will be hidden in output ([GH 14194](https://github.com/pandas-dev/pandas/issues/14194))'
  id: totrans-1156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 现在有了 `hide_columns()` 方法，确定输出中是否隐藏列（[GH 14194](https://github.com/pandas-dev/pandas/issues/14194)）'
- en: Improved wording of `ValueError` raised in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") when `unit=` is passed with a non-convertible value ([GH
    14350](https://github.com/pandas-dev/pandas/issues/14350))
  id: totrans-1157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递不可转换值的 `unit=` 参数给 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 时，改进了 `ValueError` 的提示语（[GH 14350](https://github.com/pandas-dev/pandas/issues/14350)）
- en: '[`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") now accepts a Series or a dict as a `value` for a categorical
    dtype ([GH 17033](https://github.com/pandas-dev/pandas/issues/17033))'
  id: totrans-1158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") 现在接受 Series 或 dict 作为分类 dtype 的 `value`（[GH 17033](https://github.com/pandas-dev/pandas/issues/17033)）'
- en: '[`pandas.read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") updated to use qtpy, falling back to PyQt5 and then PyQt4,
    adding compatibility with Python3 and multiple python-qt bindings ([GH 17722](https://github.com/pandas-dev/pandas/issues/17722))'
  id: totrans-1159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更新了 [`pandas.read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") 使用 qtpy，回退到 PyQt5 然后 PyQt4，添加了与 Python3 和多个 python-qt
    绑定的兼容性（[GH 17722](https://github.com/pandas-dev/pandas/issues/17722)）
- en: Improved wording of `ValueError` raised in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") when the `usecols` argument cannot match all columns. ([GH
    17301](https://github.com/pandas-dev/pandas/issues/17301))
  id: totrans-1160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    中 `usecols` 参数无法匹配所有列时，改进了 `ValueError` 的提示语。（[GH 17301](https://github.com/pandas-dev/pandas/issues/17301)）'
- en: '[`DataFrame.corrwith()`](../reference/api/pandas.DataFrame.corrwith.html#pandas.DataFrame.corrwith
    "pandas.DataFrame.corrwith") now silently drops non-numeric columns when passed
    a Series. Before, an exception was raised ([GH 18570](https://github.com/pandas-dev/pandas/issues/18570)).'
  id: totrans-1161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递 Series 给 [`DataFrame.corrwith()`](../reference/api/pandas.DataFrame.corrwith.html#pandas.DataFrame.corrwith
    "pandas.DataFrame.corrwith") 时，现在会默默地删除非数值列。之前会抛出异常。（[GH 18570](https://github.com/pandas-dev/pandas/issues/18570)）
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") now supports time zone aware `Interval` objects ([GH 18537](https://github.com/pandas-dev/pandas/issues/18537),
    [GH 18538](https://github.com/pandas-dev/pandas/issues/18538))'
  id: totrans-1162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 现在支持时区感知的 `Interval` 对象（[GH 18537](https://github.com/pandas-dev/pandas/issues/18537),
    [GH 18538](https://github.com/pandas-dev/pandas/issues/18538)）'
- en: '[`Series()`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    / [`DataFrame()`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    tab completion also returns identifiers in the first level of a [`MultiIndex()`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex"). ([GH 16326](https://github.com/pandas-dev/pandas/issues/16326))'
  id: totrans-1163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series()`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    / [`DataFrame()`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    的 tab 补全也会返回 [`MultiIndex()`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 的第一级标识符。 ([GH 16326](https://github.com/pandas-dev/pandas/issues/16326))'
- en: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") has gained the `nrows` parameter ([GH 16645](https://github.com/pandas-dev/pandas/issues/16645))'
  id: totrans-1164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 增加了 `nrows` 参数 ([GH 16645](https://github.com/pandas-dev/pandas/issues/16645))'
- en: '`DataFrame.append()` can now in more cases preserve the type of the calling
    dataframe’s columns (e.g. if both are `CategoricalIndex`) ([GH 18359](https://github.com/pandas-dev/pandas/issues/18359))'
  id: totrans-1165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.append()` 现在在更多情况下可以保留调用数据框列的类型（例如，如果两者都��� `CategoricalIndex`）
    ([GH 18359](https://github.com/pandas-dev/pandas/issues/18359))'
- en: '[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") and [`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") now accept an `index` argument which allows the user
    to exclude the index from the JSON output ([GH 17394](https://github.com/pandas-dev/pandas/issues/17394))'
  id: totrans-1166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") 和 [`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") 现在接受一个 `index` 参数，允许用户在 JSON 输出中排除索引（[GH 17394](https://github.com/pandas-dev/pandas/issues/17394))'
- en: '`IntervalIndex.to_tuples()` has gained the `na_tuple` parameter to control
    whether NA is returned as a tuple of NA, or NA itself ([GH 18756](https://github.com/pandas-dev/pandas/issues/18756))'
  id: totrans-1167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.to_tuples()` 增加了 `na_tuple` 参数，用于控制是否将 NA 返回为 NA 的元组，还是 NA 本身
    ([GH 18756](https://github.com/pandas-dev/pandas/issues/18756))'
- en: '`Categorical.rename_categories`, `CategoricalIndex.rename_categories` and [`Series.cat.rename_categories`](../reference/api/pandas.Series.cat.rename_categories.html#pandas.Series.cat.rename_categories
    "pandas.Series.cat.rename_categories") can now take a callable as their argument
    ([GH 18862](https://github.com/pandas-dev/pandas/issues/18862))'
  id: totrans-1168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.rename_categories`, `CategoricalIndex.rename_categories` 和 [`Series.cat.rename_categories`](../reference/api/pandas.Series.cat.rename_categories.html#pandas.Series.cat.rename_categories
    "pandas.Series.cat.rename_categories") 现在可以接受一个可调用对象作为参数 ([GH 18862](https://github.com/pandas-dev/pandas/issues/18862))'
- en: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    and [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") have gained a `length` attribute ([GH 18789](https://github.com/pandas-dev/pandas/issues/18789))'
  id: totrans-1169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    和 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 增加了 `length` 属性 ([GH 18789](https://github.com/pandas-dev/pandas/issues/18789))'
- en: '`Resampler` objects now have a functioning [`Resampler.pipe`](../reference/api/pandas.core.resample.Resampler.pipe.html#pandas.core.resample.Resampler.pipe
    "pandas.core.resample.Resampler.pipe") method. Previously, calls to `pipe` were
    diverted to the `mean` method ([GH 17905](https://github.com/pandas-dev/pandas/issues/17905)).'
  id: totrans-1170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Resampler` 对象现在具有一个可用的 [`Resampler.pipe`](../reference/api/pandas.core.resample.Resampler.pipe.html#pandas.core.resample.Resampler.pipe
    "pandas.core.resample.Resampler.pipe") 方法。之前，对 `pipe` 的调用被重定向到 `mean` 方法 ([GH
    17905](https://github.com/pandas-dev/pandas/issues/17905)).'
- en: '[`is_scalar()`](../reference/api/pandas.api.types.is_scalar.html#pandas.api.types.is_scalar
    "pandas.api.types.is_scalar") now returns `True` for `DateOffset` objects ([GH
    18943](https://github.com/pandas-dev/pandas/issues/18943)).'
  id: totrans-1171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`is_scalar()`](../reference/api/pandas.api.types.is_scalar.html#pandas.api.types.is_scalar
    "pandas.api.types.is_scalar") 现在对 `DateOffset` 对象返回 `True` ([GH 18943](https://github.com/pandas-dev/pandas/issues/18943)).'
- en: '[`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot") now accepts a list for the `values=` kwarg ([GH 17160](https://github.com/pandas-dev/pandas/issues/17160)).'
  id: totrans-1172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.pivot()`](../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot
    "pandas.DataFrame.pivot") 现在接受一个列表作为 `values=` 参数 ([GH 17160](https://github.com/pandas-dev/pandas/issues/17160)).'
- en: Added [`pandas.api.extensions.register_dataframe_accessor()`](../reference/api/pandas.api.extensions.register_dataframe_accessor.html#pandas.api.extensions.register_dataframe_accessor
    "pandas.api.extensions.register_dataframe_accessor"), [`pandas.api.extensions.register_series_accessor()`](../reference/api/pandas.api.extensions.register_series_accessor.html#pandas.api.extensions.register_series_accessor
    "pandas.api.extensions.register_series_accessor"), and [`pandas.api.extensions.register_index_accessor()`](../reference/api/pandas.api.extensions.register_index_accessor.html#pandas.api.extensions.register_index_accessor
    "pandas.api.extensions.register_index_accessor"), accessor for libraries downstream
    of pandas to register custom accessors like `.cat` on pandas objects. See [Registering
    Custom Accessors](../development/extending.html#extending-register-accessors)
    for more ([GH 14781](https://github.com/pandas-dev/pandas/issues/14781)).
  id: totrans-1173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增加了 [`pandas.api.extensions.register_dataframe_accessor()`](../reference/api/pandas.api.extensions.register_dataframe_accessor.html#pandas.api.extensions.register_dataframe_accessor
    "pandas.api.extensions.register_dataframe_accessor")、[`pandas.api.extensions.register_series_accessor()`](../reference/api/pandas.api.extensions.register_series_accessor.html#pandas.api.extensions.register_series_accessor
    "pandas.api.extensions.register_series_accessor") 和 [`pandas.api.extensions.register_index_accessor()`](../reference/api/pandas.api.extensions.register_index_accessor.html#pandas.api.extensions.register_index_accessor
    "pandas.api.extensions.register_index_accessor")，为 pandas 下游库注册自定义访问器，例如在 pandas
    对象上注册 `.cat`。查看 [注册自定义访问器](../development/extending.html#extending-register-accessors)
    以获取更多信息 ([GH 14781](https://github.com/pandas-dev/pandas/issues/14781))。
- en: '`IntervalIndex.astype` now supports conversions between subtypes when passed
    an `IntervalDtype` ([GH 19197](https://github.com/pandas-dev/pandas/issues/19197))'
  id: totrans-1174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.astype` 现在支持传递 `IntervalDtype` 时的子类型转换 ([GH 19197](https://github.com/pandas-dev/pandas/issues/19197))。'
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") and its associated constructor methods (`from_arrays`,
    `from_breaks`, `from_tuples`) have gained a `dtype` parameter ([GH 19262](https://github.com/pandas-dev/pandas/issues/19262))'
  id: totrans-1175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 及其相关构造方法 (`from_arrays`, `from_breaks`, `from_tuples`)
    增加了 `dtype` 参数 ([GH 19262](https://github.com/pandas-dev/pandas/issues/19262))。'
- en: Added `SeriesGroupBy.is_monotonic_increasing()` and `SeriesGroupBy.is_monotonic_decreasing()`
    ([GH 17015](https://github.com/pandas-dev/pandas/issues/17015))
  id: totrans-1176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增加了 `SeriesGroupBy.is_monotonic_increasing()` 和 `SeriesGroupBy.is_monotonic_decreasing()`
    ([GH 17015](https://github.com/pandas-dev/pandas/issues/17015))。
- en: For subclassed `DataFrames`, [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") will now preserve the `Series` subclass (if defined)
    when passing the data to the applied function ([GH 19822](https://github.com/pandas-dev/pandas/issues/19822))
  id: totrans-1177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于子类化的 `DataFrame`，当传递数据给应用函数时，[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") 现在会保留 `Series` 子类（如果已定义） ([GH 19822](https://github.com/pandas-dev/pandas/issues/19822))。
- en: '[`DataFrame.from_dict()`](../reference/api/pandas.DataFrame.from_dict.html#pandas.DataFrame.from_dict
    "pandas.DataFrame.from_dict") now accepts a `columns` argument that can be used
    to specify the column names when `orient=''index''` is used ([GH 18529](https://github.com/pandas-dev/pandas/issues/18529))'
  id: totrans-1178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.from_dict()`](../reference/api/pandas.DataFrame.from_dict.html#pandas.DataFrame.from_dict
    "pandas.DataFrame.from_dict") 现在接受一个 `columns` 参数，当 `orient=''index''` 时可用于指定列名
    ([GH 18529](https://github.com/pandas-dev/pandas/issues/18529))。'
- en: Added option `display.html.use_mathjax` so [MathJax](https://www.mathjax.org/)
    can be disabled when rendering tables in `Jupyter` notebooks ([GH 19856](https://github.com/pandas-dev/pandas/issues/19856),
    [GH 19824](https://github.com/pandas-dev/pandas/issues/19824))
  id: totrans-1179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增加了选项 `display.html.use_mathjax`，因此在 `Jupyter` 笔记本中渲染表格时可以禁用 [MathJax](https://www.mathjax.org/)
    ([GH 19856](https://github.com/pandas-dev/pandas/issues/19856), [GH 19824](https://github.com/pandas-dev/pandas/issues/19824))。
- en: '[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") now supports the `method` parameter, which can be
    used to specify the replacement method when `to_replace` is a scalar, list or
    tuple and `value` is `None` ([GH 19632](https://github.com/pandas-dev/pandas/issues/19632))'
  id: totrans-1180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 现在支持 `method` 参数，当 `to_replace` 是标量、列表或元组且 `value`
    为 `None` 时，可以用于指定替换方法 ([GH 19632](https://github.com/pandas-dev/pandas/issues/19632))。'
- en: '[`Timestamp.month_name()`](../reference/api/pandas.Timestamp.month_name.html#pandas.Timestamp.month_name
    "pandas.Timestamp.month_name"), [`DatetimeIndex.month_name()`](../reference/api/pandas.DatetimeIndex.month_name.html#pandas.DatetimeIndex.month_name
    "pandas.DatetimeIndex.month_name"), and [`Series.dt.month_name()`](../reference/api/pandas.Series.dt.month_name.html#pandas.Series.dt.month_name
    "pandas.Series.dt.month_name") are now available ([GH 12805](https://github.com/pandas-dev/pandas/issues/12805))'
  id: totrans-1181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.month_name()`](../reference/api/pandas.Timestamp.month_name.html#pandas.Timestamp.month_name
    "pandas.Timestamp.month_name")、[`DatetimeIndex.month_name()`](../reference/api/pandas.DatetimeIndex.month_name.html#pandas.DatetimeIndex.month_name
    "pandas.DatetimeIndex.month_name") 和 [`Series.dt.month_name()`](../reference/api/pandas.Series.dt.month_name.html#pandas.Series.dt.month_name
    "pandas.Series.dt.month_name") 现在可用。 ([GH 12805](https://github.com/pandas-dev/pandas/issues/12805))'
- en: '[`Timestamp.day_name()`](../reference/api/pandas.Timestamp.day_name.html#pandas.Timestamp.day_name
    "pandas.Timestamp.day_name") and [`DatetimeIndex.day_name()`](../reference/api/pandas.DatetimeIndex.day_name.html#pandas.DatetimeIndex.day_name
    "pandas.DatetimeIndex.day_name") are now available to return day names with a
    specified locale ([GH 12806](https://github.com/pandas-dev/pandas/issues/12806))'
  id: totrans-1182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.day_name()`](../reference/api/pandas.Timestamp.day_name.html#pandas.Timestamp.day_name
    "pandas.Timestamp.day_name") 和 [`DatetimeIndex.day_name()`](../reference/api/pandas.DatetimeIndex.day_name.html#pandas.DatetimeIndex.day_name
    "pandas.DatetimeIndex.day_name") 现在可用于返回指定语言环境下的星期几名称 ([GH 12806](https://github.com/pandas-dev/pandas/issues/12806))'
- en: '[`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") now performs a multi-value insert if the underlying
    connection supports itk rather than inserting row by row. `SQLAlchemy` dialects
    supporting multi-value inserts include: `mysql`, `postgresql`, `sqlite` and any
    dialect with `supports_multivalues_insert`. ([GH 14315](https://github.com/pandas-dev/pandas/issues/14315),
    [GH 8953](https://github.com/pandas-dev/pandas/issues/8953))'
  id: totrans-1183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 现在执行多值插入（如果底层连接支持），而不是逐行插入。支持多值插入的 `SQLAlchemy` 方言包括：`mysql`、`postgresql`、`sqlite`
    以及任何具有 `supports_multivalues_insert` 的方言。 ([GH 14315](https://github.com/pandas-dev/pandas/issues/14315),
    [GH 8953](https://github.com/pandas-dev/pandas/issues/8953))'
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    now accepts a `displayed_only` keyword argument to controls whether or not hidden
    elements are parsed (`True` by default) ([GH 20027](https://github.com/pandas-dev/pandas/issues/20027))'
  id: totrans-1184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    现在接受一个 `displayed_only` 关键字参数来控制是否解析隐藏的元素（默认为 `True`） ([GH 20027](https://github.com/pandas-dev/pandas/issues/20027))'
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    now reads all `<tbody>` elements in a `<table>`, not just the first. ([GH 20690](https://github.com/pandas-dev/pandas/issues/20690))'
  id: totrans-1185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    现在读取所有 `<table>` 中的 `<tbody>` 元素，而不仅仅是第一个。 ([GH 20690](https://github.com/pandas-dev/pandas/issues/20690))'
- en: '[`Rolling.quantile()`](../reference/api/pandas.core.window.rolling.Rolling.quantile.html#pandas.core.window.rolling.Rolling.quantile
    "pandas.core.window.rolling.Rolling.quantile") and [`Expanding.quantile()`](../reference/api/pandas.core.window.expanding.Expanding.quantile.html#pandas.core.window.expanding.Expanding.quantile
    "pandas.core.window.expanding.Expanding.quantile") now accept the `interpolation`
    keyword, `linear` by default ([GH 20497](https://github.com/pandas-dev/pandas/issues/20497))'
  id: totrans-1186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Rolling.quantile()`](../reference/api/pandas.core.window.rolling.Rolling.quantile.html#pandas.core.window.rolling.Rolling.quantile
    "pandas.core.window.rolling.Rolling.quantile") 和 [`Expanding.quantile()`](../reference/api/pandas.core.window.expanding.Expanding.quantile.html#pandas.core.window.expanding.Expanding.quantile
    "pandas.core.window.expanding.Expanding.quantile") 现在接受 `interpolation` 关键字， 默认为
    `linear` ([GH 20497](https://github.com/pandas-dev/pandas/issues/20497))'
- en: zip compression is supported via `compression=zip` in [`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle"), [`Series.to_pickle()`](../reference/api/pandas.Series.to_pickle.html#pandas.Series.to_pickle
    "pandas.Series.to_pickle"), [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv"), [`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv"), [`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json"), [`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json"). ([GH 17778](https://github.com/pandas-dev/pandas/issues/17778))
  id: totrans-1187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 `compression=zip` 在 [`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle")、[`Series.to_pickle()`](../reference/api/pandas.Series.to_pickle.html#pandas.Series.to_pickle
    "pandas.Series.to_pickle")、[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv")、[`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv")、[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json")、[`Series.to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") 中支持 zip 压缩。([GH 17778](https://github.com/pandas-dev/pandas/issues/17778))
- en: '[`WeekOfMonth`](../reference/api/pandas.tseries.offsets.WeekOfMonth.html#pandas.tseries.offsets.WeekOfMonth
    "pandas.tseries.offsets.WeekOfMonth") constructor now supports `n=0` ([GH 20517](https://github.com/pandas-dev/pandas/issues/20517)).'
  id: totrans-1188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`WeekOfMonth`](../reference/api/pandas.tseries.offsets.WeekOfMonth.html#pandas.tseries.offsets.WeekOfMonth
    "pandas.tseries.offsets.WeekOfMonth") 构造函数现在支持 `n=0` ([GH 20517](https://github.com/pandas-dev/pandas/issues/20517))'
- en: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    and [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    now support matrix multiplication (`@`) operator ([GH 10259](https://github.com/pandas-dev/pandas/issues/10259))
    for Python>=3.5'
  id: totrans-1189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    和 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    现在支持矩阵乘法 (`@`) 运算符，适用于 Python>=3.5 ([GH 10259](https://github.com/pandas-dev/pandas/issues/10259))'
- en: Updated [`DataFrame.to_gbq()`](../reference/api/pandas.DataFrame.to_gbq.html#pandas.DataFrame.to_gbq
    "pandas.DataFrame.to_gbq") and [`pandas.read_gbq()`](../reference/api/pandas.read_gbq.html#pandas.read_gbq
    "pandas.read_gbq") signature and documentation to reflect changes from the pandas-gbq
    library version 0.4.0\. Adds intersphinx mapping to pandas-gbq library. ([GH 20564](https://github.com/pandas-dev/pandas/issues/20564))
  id: totrans-1190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更新了 [`DataFrame.to_gbq()`](../reference/api/pandas.DataFrame.to_gbq.html#pandas.DataFrame.to_gbq
    "pandas.DataFrame.to_gbq") 和 [`pandas.read_gbq()`](../reference/api/pandas.read_gbq.html#pandas.read_gbq
    "pandas.read_gbq") 的签名和文档，以反映来自 pandas-gbq 库版本 0.4.0 的更改。添加了到 pandas-gbq 库的 intersphinx
    映射。([GH 20564](https://github.com/pandas-dev/pandas/issues/20564))
- en: Added new writer for exporting Stata dta files in version 117, `StataWriter117`.
    This format supports exporting strings with lengths up to 2,000,000 characters
    ([GH 16450](https://github.com/pandas-dev/pandas/issues/16450))
  id: totrans-1191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在版本 117 中添加了新的写入器 `StataWriter117`，用于导出 Stata dta 文件。该格式支持导出长度最长为 2,000,000
    个字符的字符串 ([GH 16450](https://github.com/pandas-dev/pandas/issues/16450))
- en: '`to_hdf()` and [`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf
    "pandas.read_hdf") now accept an `errors` keyword argument to control encoding
    error handling ([GH 20835](https://github.com/pandas-dev/pandas/issues/20835))'
  id: totrans-1192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_hdf()` 和 [`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf
    "pandas.read_hdf") 现在接受一个 `errors` 关键字参数，用于控制编码错误处理 ([GH 20835](https://github.com/pandas-dev/pandas/issues/20835))'
- en: '[`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") has gained
    the `duplicates=''raise''|''drop''` option to control whether to raise on duplicated
    edges ([GH 20947](https://github.com/pandas-dev/pandas/issues/20947))'
  id: totrans-1193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") 现在增加了 `duplicates=''raise''|''drop''`
    选项，用于控制是否在重复边缘处引发错误 ([GH 20947](https://github.com/pandas-dev/pandas/issues/20947))'
- en: '[`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range"), [`timedelta_range()`](../reference/api/pandas.timedelta_range.html#pandas.timedelta_range
    "pandas.timedelta_range"), and [`interval_range()`](../reference/api/pandas.interval_range.html#pandas.interval_range
    "pandas.interval_range") now return a linearly spaced index if `start`, `stop`,
    and `periods` are specified, but `freq` is not. ([GH 20808](https://github.com/pandas-dev/pandas/issues/20808),
    [GH 20983](https://github.com/pandas-dev/pandas/issues/20983), [GH 20976](https://github.com/pandas-dev/pandas/issues/20976))'
  id: totrans-1194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range"), [`timedelta_range()`](../reference/api/pandas.timedelta_range.html#pandas.timedelta_range
    "pandas.timedelta_range"), 和 [`interval_range()`](../reference/api/pandas.interval_range.html#pandas.interval_range
    "pandas.interval_range") 现在如果指定了 `start`、`stop` 和 `periods`，但未指定 `freq`，则返回一个线性间隔的索引。
    ([GH 20808](https://github.com/pandas-dev/pandas/issues/20808), [GH 20983](https://github.com/pandas-dev/pandas/issues/20983),
    [GH 20976](https://github.com/pandas-dev/pandas/issues/20976))'
- en: '## Backwards incompatible API changes'
  id: totrans-1195
  prefs: []
  type: TYPE_NORMAL
  zh: '## 不兼容的 API 更改'
- en: '### Dependencies have increased minimum versions'
  id: totrans-1196
  prefs: []
  type: TYPE_NORMAL
  zh: '### 依赖关系已增加最低版本'
- en: 'We have updated our minimum supported versions of dependencies ([GH 15184](https://github.com/pandas-dev/pandas/issues/15184)).
    If installed, we now require:'
  id: totrans-1197
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已更新我们的依赖项的最低支持版本（[GH 15184](https://github.com/pandas-dev/pandas/issues/15184)）。如果已安装，我们现在需要：
- en: '| Package | Minimum Version | Required | Issue |'
  id: totrans-1198
  prefs: []
  type: TYPE_TB
  zh: '| Package | Minimum Version | Required | Issue |'
- en: '| --- | --- | --- | --- |'
  id: totrans-1199
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| python-dateutil | 2.5.0 | X | [GH 15184](https://github.com/pandas-dev/pandas/issues/15184)
    |'
  id: totrans-1200
  prefs: []
  type: TYPE_TB
  zh: '| python-dateutil | 2.5.0 | X | [GH 15184](https://github.com/pandas-dev/pandas/issues/15184)
    |'
- en: '| openpyxl | 2.4.0 |  | [GH 15184](https://github.com/pandas-dev/pandas/issues/15184)
    |'
  id: totrans-1201
  prefs: []
  type: TYPE_TB
  zh: '| openpyxl | 2.4.0 |  | [GH 15184](https://github.com/pandas-dev/pandas/issues/15184)
    |'
- en: '| beautifulsoup4 | 4.2.1 |  | [GH 20082](https://github.com/pandas-dev/pandas/issues/20082)
    |'
  id: totrans-1202
  prefs: []
  type: TYPE_TB
  zh: '| beautifulsoup4 | 4.2.1 |  | [GH 20082](https://github.com/pandas-dev/pandas/issues/20082)
    |'
- en: '| setuptools | 24.2.0 |  | [GH 20698](https://github.com/pandas-dev/pandas/issues/20698)
    |  ### Instantiation from dicts preserves dict insertion order for Python 3.6+'
  id: totrans-1203
  prefs: []
  type: TYPE_NORMAL
  zh: '| setuptools | 24.2.0 |  | [GH 20698](https://github.com/pandas-dev/pandas/issues/20698)
    |  ### 从字典实例化保留了 Python 3.6+ 的字典插入顺序'
- en: Until Python 3.6, dicts in Python had no formally defined ordering. For Python
    version 3.6 and later, dicts are ordered by insertion order, see [PEP 468](https://www.python.org/dev/peps/pep-0468/).
    pandas will use the dict’s insertion order, when creating a `Series` or `DataFrame`
    from a dict and you’re using Python version 3.6 or higher. ([GH 19884](https://github.com/pandas-dev/pandas/issues/19884))
  id: totrans-1204
  prefs: []
  type: TYPE_NORMAL
  zh: 直到 Python 3.6，Python 中的字典没有正式定义的顺序。对于 Python 版本 3.6 及更高版本，字典按插入顺序排序，请参阅 [PEP
    468](https://www.python.org/dev/peps/pep-0468/)。当使用 Python 版本 3.6 或更高版本从字典创建 `Series`
    或 `DataFrame` 时，pandas 将使用字典的插入顺序。 ([GH 19884](https://github.com/pandas-dev/pandas/issues/19884))
- en: 'Previous behavior (and current behavior if on Python < 3.6):'
  id: totrans-1205
  prefs: []
  type: TYPE_NORMAL
  zh: 以前的行为（如果在 Python < 3.6 上则为当前行为）：
- en: '[PRE120]'
  id: totrans-1206
  prefs: []
  type: TYPE_PRE
  zh: '[PRE120]'
- en: Note the Series above is ordered alphabetically by the index values.
  id: totrans-1207
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意上述 Series 是按索引值按字母顺序排序的。
- en: 'New behavior (for Python >= 3.6):'
  id: totrans-1208
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为（对于 Python >= 3.6）：
- en: '[PRE121]'
  id: totrans-1209
  prefs: []
  type: TYPE_PRE
  zh: '[PRE121]'
- en: Notice that the Series is now ordered by insertion order. This new behavior
    is used for all relevant pandas types (`Series`, `DataFrame`, `SparseSeries` and
    `SparseDataFrame`).
  id: totrans-1210
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，Series 现在按插入顺序排序。此新行为适用于所有相关的 pandas 类型（`Series`、`DataFrame`、`SparseSeries`
    和 `SparseDataFrame`）。
- en: 'If you wish to retain the old behavior while using Python >= 3.6, you can use
    `.sort_index()`:'
  id: totrans-1211
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您希望在使用 Python >= 3.6 时保留旧行为，可以使用 `.sort_index()`：
- en: '[PRE122]  ### Deprecate Panel'
  id: totrans-1212
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE122]  ### 弃用 Panel'
- en: '`Panel` was deprecated in the 0.20.x release, showing as a `DeprecationWarning`.
    Using `Panel` will now show a `FutureWarning`. The recommended way to represent
    3-D data are with a `MultiIndex` on a `DataFrame` via the `to_frame()` or with
    the [xarray package](http://xarray.pydata.org/en/stable/). pandas provides a `to_xarray()`
    method to automate this conversion ([GH 13563](https://github.com/pandas-dev/pandas/issues/13563),
    [GH 18324](https://github.com/pandas-dev/pandas/issues/18324)).'
  id: totrans-1213
  prefs: []
  type: TYPE_NORMAL
  zh: '`Panel` 在 0.20.x 版本中已被弃用，显示为 `DeprecationWarning`。现在使用 `Panel` 将显示 `FutureWarning`。表示
    3-D 数据的推荐方式是通过 `DataFrame` 上的 `MultiIndex` 或使用 [xarray 包](http://xarray.pydata.org/en/stable/)。pandas
    提供了一个 `to_xarray()` 方法来自动执行此转换 ([GH 13563](https://github.com/pandas-dev/pandas/issues/13563),
    [GH 18324](https://github.com/pandas-dev/pandas/issues/18324))。'
- en: '[PRE123]'
  id: totrans-1214
  prefs: []
  type: TYPE_PRE
  zh: '[PRE123]'
- en: Convert to a MultiIndex DataFrame
  id: totrans-1215
  prefs: []
  type: TYPE_NORMAL
  zh: 转换为 MultiIndex DataFrame
- en: '[PRE124]'
  id: totrans-1216
  prefs: []
  type: TYPE_PRE
  zh: '[PRE124]'
- en: Convert to an xarray DataArray
  id: totrans-1217
  prefs: []
  type: TYPE_NORMAL
  zh: 转换为 xarray DataArray
- en: '[PRE125]  ### pandas.core.common removals'
  id: totrans-1218
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE125]  ### 移除 pandas.core.common'
- en: 'The following error & warning messages are removed from `pandas.core.common`
    ([GH 13634](https://github.com/pandas-dev/pandas/issues/13634), [GH 19769](https://github.com/pandas-dev/pandas/issues/19769)):'
  id: totrans-1219
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的错误和警告消息从 `pandas.core.common` 中删除（[GH 13634](https://github.com/pandas-dev/pandas/issues/13634)，[GH
    19769](https://github.com/pandas-dev/pandas/issues/19769))：
- en: '`PerformanceWarning`'
  id: totrans-1220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PerformanceWarning`'
- en: '`UnsupportedFunctionCall`'
  id: totrans-1221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`UnsupportedFunctionCall`'
- en: '`UnsortedIndexError`'
  id: totrans-1222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`UnsortedIndexError`'
- en: '`AbstractMethodError`'
  id: totrans-1223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`AbstractMethodError`'
- en: 'These are available from import from `pandas.errors` (since 0.19.0).  ### Changes
    to make output of `DataFrame.apply` consistent'
  id: totrans-1224
  prefs: []
  type: TYPE_NORMAL
  zh: 这些可以从 `pandas.errors` 导入（自 0.19.0 起）。### 使 `DataFrame.apply` 的输出保持一致
- en: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") was inconsistent when applying an arbitrary user-defined-function
    that returned a list-like with `axis=1`. Several bugs and inconsistencies are
    resolved. If the applied function returns a Series, then pandas will return a
    DataFrame; otherwise a Series will be returned, this includes the case where a
    list-like (e.g. `tuple` or `list` is returned) ([GH 16353](https://github.com/pandas-dev/pandas/issues/16353),
    [GH 17437](https://github.com/pandas-dev/pandas/issues/17437), [GH 17970](https://github.com/pandas-dev/pandas/issues/17970),
    [GH 17348](https://github.com/pandas-dev/pandas/issues/17348), [GH 17892](https://github.com/pandas-dev/pandas/issues/17892),
    [GH 18573](https://github.com/pandas-dev/pandas/issues/18573), [GH 17602](https://github.com/pandas-dev/pandas/issues/17602),
    [GH 18775](https://github.com/pandas-dev/pandas/issues/18775), [GH 18901](https://github.com/pandas-dev/pandas/issues/18901),
    [GH 18919](https://github.com/pandas-dev/pandas/issues/18919)).'
  id: totrans-1225
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") 在应用返回类似列表的任意用户定义函数时，`axis=1` 不一致的问题已得到解决。解决了几个错误和不一致性。如果应用的函数返回一个
    Series，则 pandas 将返回一个 DataFrame；否则将返回一个 Series，这包括返回类似列表（例如 `tuple` 或 `list`）的情况（[GH
    16353](https://github.com/pandas-dev/pandas/issues/16353)，[GH 17437](https://github.com/pandas-dev/pandas/issues/17437)，[GH
    17970](https://github.com/pandas-dev/pandas/issues/17970)，[GH 17348](https://github.com/pandas-dev/pandas/issues/17348)，[GH
    17892](https://github.com/pandas-dev/pandas/issues/17892)，[GH 18573](https://github.com/pandas-dev/pandas/issues/18573)，[GH
    17602](https://github.com/pandas-dev/pandas/issues/17602)，[GH 18775](https://github.com/pandas-dev/pandas/issues/18775)，[GH
    18901](https://github.com/pandas-dev/pandas/issues/18901)，[GH 18919](https://github.com/pandas-dev/pandas/issues/18919))。'
- en: '[PRE126]'
  id: totrans-1226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE126]'
- en: 'Previous behavior: if the returned shape happened to match the length of original
    columns, this would return a `DataFrame`. If the return shape did not match, a
    `Series` with lists was returned.'
  id: totrans-1227
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：如果返回的形状恰好匹配原始列的长度，则会返回一个 `DataFrame`。如果返回形状不匹配，则返回带有列表的 `Series`。
- en: '[PRE127]'
  id: totrans-1228
  prefs: []
  type: TYPE_PRE
  zh: '[PRE127]'
- en: 'New behavior: When the applied function returns a list-like, this will now
    *always* return a `Series`.'
  id: totrans-1229
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：当应用的函数返回类似列表时，这将始终返回一个 `Series`。
- en: '[PRE128]'
  id: totrans-1230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE128]'
- en: To have expanded columns, you can use `result_type='expand'`
  id: totrans-1231
  prefs: []
  type: TYPE_NORMAL
  zh: 要扩展列，您可以使用 `result_type='expand'`
- en: '[PRE129]'
  id: totrans-1232
  prefs: []
  type: TYPE_PRE
  zh: '[PRE129]'
- en: To broadcast the result across the original columns (the old behaviour for list-likes
    of the correct length), you can use `result_type='broadcast'`. The shape must
    match the original columns.
  id: totrans-1233
  prefs: []
  type: TYPE_NORMAL
  zh: 要在原始列上广播结果（正确长度的列表式的旧行为），您可以使用 `result_type='broadcast'`。形状必须与原始列匹配。
- en: '[PRE130]'
  id: totrans-1234
  prefs: []
  type: TYPE_PRE
  zh: '[PRE130]'
- en: 'Returning a `Series` allows one to control the exact return structure and column
    names:'
  id: totrans-1235
  prefs: []
  type: TYPE_NORMAL
  zh: 返回 `Series` 允许控制确切的返回结构和列名：
- en: '[PRE131]  ### Concatenation will no longer sort'
  id: totrans-1236
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE131] ### 连接不再排序'
- en: In a future version of pandas [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") will no longer sort the non-concatenation axis when it is not
    already aligned. The current behavior is the same as the previous (sorting), but
    now a warning is issued when `sort` is not specified and the non-concatenation
    axis is not aligned ([GH 4588](https://github.com/pandas-dev/pandas/issues/4588)).
  id: totrans-1237
  prefs: []
  type: TYPE_NORMAL
  zh: 在 pandas 的将来版本中，[`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") 当非连接轴未对齐时不再对非连接轴进行排序。当前行为与先前的行为相同（排序），但当未指定 `sort` 且非连接轴未对齐时会发出警告（[GH
    4588](https://github.com/pandas-dev/pandas/issues/4588)）。
- en: '[PRE132]'
  id: totrans-1238
  prefs: []
  type: TYPE_PRE
  zh: '[PRE132]'
- en: To keep the previous behavior (sorting) and silence the warning, pass `sort=True`
  id: totrans-1239
  prefs: []
  type: TYPE_NORMAL
  zh: 要保留先前的行为（排序）并消除警告，请传递 `sort=True`
- en: '[PRE133]'
  id: totrans-1240
  prefs: []
  type: TYPE_PRE
  zh: '[PRE133]'
- en: To accept the future behavior (no sorting), pass `sort=False`
  id: totrans-1241
  prefs: []
  type: TYPE_NORMAL
  zh: 要接受未来的行为（不排序），请传递 `sort=False`
- en: 'Note that this change also applies to `DataFrame.append()`, which has also
    received a `sort` keyword for controlling this behavior.  ### Build changes'
  id: totrans-1242
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，此更改也适用于 `DataFrame.append()`，该方法还为控制此行为添加了一个 `sort` 关键字。### 构建更改
- en: Building pandas for development now requires `cython >= 0.24` ([GH 18613](https://github.com/pandas-dev/pandas/issues/18613))
  id: totrans-1243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了进行开发，构建 pandas 现在需要 `cython >= 0.24` ([GH 18613](https://github.com/pandas-dev/pandas/issues/18613))
- en: Building from source now explicitly requires `setuptools` in `setup.py` ([GH
    18113](https://github.com/pandas-dev/pandas/issues/18113))
  id: totrans-1244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `setup.py` 中构建源码现在明确要求使用 `setuptools` ([GH 18113](https://github.com/pandas-dev/pandas/issues/18113))
- en: 'Updated conda recipe to be in compliance with conda-build 3.0+ ([GH 18002](https://github.com/pandas-dev/pandas/issues/18002))  ###
    Index division by zero fills correctly'
  id: totrans-1245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '更新 conda 配方以符合 conda-build 3.0+ ([GH 18002](https://github.com/pandas-dev/pandas/issues/18002))  ###
    索引除以零正确填充'
- en: Division operations on `Index` and subclasses will now fill division of positive
    numbers by zero with `np.inf`, division of negative numbers by zero with `-np.inf`
    and `0 / 0` with `np.nan`. This matches existing `Series` behavior. ([GH 19322](https://github.com/pandas-dev/pandas/issues/19322),
    [GH 19347](https://github.com/pandas-dev/pandas/issues/19347))
  id: totrans-1246
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 `Index` 和子类的除法操作，现在将正数除以零的结果填充为 `np.inf`，负数除以零的结果填充为 `-np.inf`，`0 / 0` 填充为
    `np.nan`。这与现有的 `Series` 行为相匹配。 ([GH 19322](https://github.com/pandas-dev/pandas/issues/19322),
    [GH 19347](https://github.com/pandas-dev/pandas/issues/19347))
- en: 'Previous behavior:'
  id: totrans-1247
  prefs: []
  type: TYPE_NORMAL
  zh: 之前的行为：
- en: '[PRE134]'
  id: totrans-1248
  prefs: []
  type: TYPE_PRE
  zh: '[PRE134]'
- en: 'Current behavior:'
  id: totrans-1249
  prefs: []
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE135]  ### Extraction of matching patterns from strings'
  id: totrans-1250
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE135]  ### 从字符串中提取匹配模式'
- en: By default, extracting matching patterns from strings with `str.extract()` used
    to return a `Series` if a single group was being extracted (a `DataFrame` if more
    than one group was extracted). As of pandas 0.23.0 `str.extract()` always returns
    a `DataFrame`, unless `expand` is set to `False`. Finally, `None` was an accepted
    value for the `expand` parameter (which was equivalent to `False`), but now raises
    a `ValueError`. ([GH 11386](https://github.com/pandas-dev/pandas/issues/11386))
  id: totrans-1251
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，使用 `str.extract()` 从字符串中提取匹配模式，如果提取了单个组，则返回一个 `Series`（如果提取了多个组，则返回一个
    `DataFrame`）。从 pandas 0.23.0 开始，`str.extract()` 总是返回一个 `DataFrame`，除非 `expand`
    设置为 `False`。最后，`None` 是 `expand` 参数的接受值（等效于 `False`），但现在会引发 `ValueError`。 ([GH
    11386](https://github.com/pandas-dev/pandas/issues/11386))
- en: 'Previous behavior:'
  id: totrans-1252
  prefs: []
  type: TYPE_NORMAL
  zh: 之前的行为：
- en: '[PRE136]'
  id: totrans-1253
  prefs: []
  type: TYPE_PRE
  zh: '[PRE136]'
- en: 'New behavior:'
  id: totrans-1254
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE137]'
  id: totrans-1255
  prefs: []
  type: TYPE_PRE
  zh: '[PRE137]'
- en: 'To restore previous behavior, simply set `expand` to `False`:'
  id: totrans-1256
  prefs: []
  type: TYPE_NORMAL
  zh: 要恢复以前的行为，只需将 `expand` 设置为 `False`：
- en: '[PRE138]  ### Default value for the `ordered` parameter of `CategoricalDtype`'
  id: totrans-1257
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE138]  ### `CategoricalDtype` 的 `ordered` 参数的默认值'
- en: The default value of the `ordered` parameter for `CategoricalDtype` has changed
    from `False` to `None` to allow updating of `categories` without impacting `ordered`.
    Behavior should remain consistent for downstream objects, such as [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") ([GH 18790](https://github.com/pandas-dev/pandas/issues/18790))
  id: totrans-1258
  prefs: []
  type: TYPE_NORMAL
  zh: '`CategoricalDtype` 的 `ordered` 参数的默认值已从 `False` 更改为 `None`，以允许更新 `categories`
    而不影响 `ordered`。行为对于下游对象（例如 [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")）应保持一致。 ([GH 18790](https://github.com/pandas-dev/pandas/issues/18790))'
- en: In previous versions, the default value for the `ordered` parameter was `False`.
    This could potentially lead to the `ordered` parameter unintentionally being changed
    from `True` to `False` when users attempt to update `categories` if `ordered`
    is not explicitly specified, as it would silently default to `False`. The new
    behavior for `ordered=None` is to retain the existing value of `ordered`.
  id: totrans-1259
  prefs: []
  type: TYPE_NORMAL
  zh: 在以前的版本中，`ordered` 参数的默认值为 `False`。这可能会导致在尝试更新 `categories` 时无意中将 `ordered` 参数从
    `True` 更改为 `False`，因为它会静默地默认为 `False`。`ordered=None` 的新行为是保留 `ordered` 的现有值。
- en: 'New behavior:'
  id: totrans-1260
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE139]'
  id: totrans-1261
  prefs: []
  type: TYPE_PRE
  zh: '[PRE139]'
- en: Notice in the example above that the converted `Categorical` has retained `ordered=True`.
    Had the default value for `ordered` remained as `False`, the converted `Categorical`
    would have become unordered, despite `ordered=False` never being explicitly specified.
    To change the value of `ordered`, explicitly pass it to the new dtype, e.g. `CategoricalDtype(categories=list('cbad'),
    ordered=False)`.
  id: totrans-1262
  prefs: []
  type: TYPE_NORMAL
  zh: 注意上面的示例中转换后的 `Categorical` 保留了 `ordered=True`。如果 `ordered` 的默认值保持为 `False`，则转换后的
    `Categorical` 将变为无序，尽管从未明确指定过 `ordered=False`。要更改 `ordered` 的值，必须将其明确传递给新的 dtype，例如
    `CategoricalDtype(categories=list('cbad'), ordered=False)`。
- en: 'Note that the unintentional conversion of `ordered` discussed above did not
    arise in previous versions due to separate bugs that prevented `astype` from doing
    any type of category to category conversion ([GH 10696](https://github.com/pandas-dev/pandas/issues/10696),
    [GH 18593](https://github.com/pandas-dev/pandas/issues/18593)). These bugs have
    been fixed in this release, and motivated changing the default value of `ordered`.  ###
    Better pretty-printing of DataFrames in a terminal'
  id: totrans-1263
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，由于以前版本中存在阻止`astype`进行任何类型的类别到类别转换的两个单独的错误，因此不会出现上述意外的`ordered`转换（[GH 10696](https://github.com/pandas-dev/pandas/issues/10696)，[GH
    18593](https://github.com/pandas-dev/pandas/issues/18593)）。这些错误已在此版本中修复，并促使更改`ordered`的默认值。###
    在终端中更好地打印数据框
- en: 'Previously, the default value for the maximum number of columns was `pd.options.display.max_columns=20`.
    This meant that relatively wide data frames would not fit within the terminal
    width, and pandas would introduce line breaks to display these 20 columns. This
    resulted in an output that was relatively difficult to read:'
  id: totrans-1264
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，最大列数的默认值为`pd.options.display.max_columns=20`。这意味着相对宽的数据框不适合终端宽度，并且 pandas
    将引入换行符以显示这 20 列。这导致输出相对难以阅读：
- en: '![../_images/print_df_old.png](../Images/fbbeeee49fbf8f7df732a5d18f69c4d9.png)'
  id: totrans-1265
  prefs: []
  type: TYPE_IMG
  zh: '![../_images/print_df_old.png](../Images/fbbeeee49fbf8f7df732a5d18f69c4d9.png)'
- en: 'If Python runs in a terminal, the maximum number of columns is now determined
    automatically so that the printed data frame fits within the current terminal
    width (`pd.options.display.max_columns=0`) ([GH 17023](https://github.com/pandas-dev/pandas/issues/17023)).
    If Python runs as a Jupyter kernel (such as the Jupyter QtConsole or a Jupyter
    notebook, as well as in many IDEs), this value cannot be inferred automatically
    and is thus set to `20` as in previous versions. In a terminal, this results in
    a much nicer output:'
  id: totrans-1266
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 Python 在终端中运行，最大列数现在将自动确定，以使打印的数据框适合当前终端宽度（`pd.options.display.max_columns=0`）（[GH
    17023](https://github.com/pandas-dev/pandas/issues/17023)）。如果 Python 作为 Jupyter
    内核运行（如 Jupyter QtConsole 或 Jupyter 笔记本，以及许多 IDE），则无法自动推断此值，因此将其设置为`20`，与之前的版本相同。在终端中，这会产生更好的输出：
- en: '![../_images/print_df_new.png](../Images/d48dbcf410ad41a0f4cee1ad0cb0171a.png)'
  id: totrans-1267
  prefs: []
  type: TYPE_IMG
  zh: '![../_images/print_df_new.png](../Images/d48dbcf410ad41a0f4cee1ad0cb0171a.png)'
- en: 'Note that if you don’t like the new default, you can always set this option
    yourself. To revert to the old setting, you can run this line:'
  id: totrans-1268
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，如果您不喜欢新的默认值，您可以随时自行设置此选项。要恢复到旧设置，您可以运行以下行：
- en: '[PRE140]  ### Datetimelike API changes'
  id: totrans-1269
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE140]  ### 日期时间 API 更改'
- en: The default `Timedelta` constructor now accepts an `ISO 8601 Duration` string
    as an argument ([GH 19040](https://github.com/pandas-dev/pandas/issues/19040))
  id: totrans-1270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 默认的 `Timedelta` 构造函数现在接受 `ISO 8601 Duration` 字符串作为参数（[GH 19040](https://github.com/pandas-dev/pandas/issues/19040)）
- en: Subtracting `NaT` from a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `dtype='datetime64[ns]'` returns a `Series` with `dtype='timedelta64[ns]'`
    instead of `dtype='datetime64[ns]'` ([GH 18808](https://github.com/pandas-dev/pandas/issues/18808))
  id: totrans-1271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`dtype='datetime64[ns]'`从 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 中减去`NaT`将返回`dtype='timedelta64[ns]'`的 `Series`，而不是`dtype='datetime64[ns]'`（[GH
    18808](https://github.com/pandas-dev/pandas/issues/18808)）
- en: Addition or subtraction of `NaT` from [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") will return `TimedeltaIndex` instead of `DatetimeIndex`
    ([GH 19124](https://github.com/pandas-dev/pandas/issues/19124))
  id: totrans-1272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 中加减`NaT`将返回`TimedeltaIndex`，而不是`DatetimeIndex`（[GH 19124](https://github.com/pandas-dev/pandas/issues/19124)）
- en: '`DatetimeIndex.shift()` and `TimedeltaIndex.shift()` will now raise `NullFrequencyError`
    (which subclasses `ValueError`, which was raised in older versions) when the index
    object frequency is `None` ([GH 19147](https://github.com/pandas-dev/pandas/issues/19147))'
  id: totrans-1273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引对象频率为`None`时，`DatetimeIndex.shift()` 和 `TimedeltaIndex.shift()` 现在将引发`NullFrequencyError`（它是`ValueError`的子类，以前版本中引发）（[GH
    19147](https://github.com/pandas-dev/pandas/issues/19147)）
- en: Addition and subtraction of `NaN` from a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `dtype='timedelta64[ns]'` will raise a `TypeError` instead
    of treating the `NaN` as `NaT` ([GH 19274](https://github.com/pandas-dev/pandas/issues/19274))
  id: totrans-1274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`dtype='timedelta64[ns]'`从 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 中进行`NaN`的加减会引发`TypeError`，而不是将`NaN`视为`NaT`（[GH 19274](https://github.com/pandas-dev/pandas/issues/19274)）
- en: '`NaT` division with [`datetime.timedelta`](https://docs.python.org/3/library/datetime.html#datetime.timedelta
    "(in Python v3.12)") will now return `NaN` instead of raising ([GH 17876](https://github.com/pandas-dev/pandas/issues/17876))'
  id: totrans-1275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用[`datetime.timedelta`](https://docs.python.org/3/library/datetime.html#datetime.timedelta
    "(在Python v3.12中)")进行`NaT`除法现在将返回`NaN`而不是引发异常（[GH 17876](https://github.com/pandas-dev/pandas/issues/17876))
- en: Operations between a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with dtype `dtype='datetime64[ns]'` and a [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") will correctly raises `TypeError` ([GH 18850](https://github.com/pandas-dev/pandas/issues/18850))
  id: totrans-1276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有`dtype='datetime64[ns]'`的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")和[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")之间的操作将正确引发`TypeError`（[GH 18850](https://github.com/pandas-dev/pandas/issues/18850))
- en: Subtraction of [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with timezone-aware `dtype='datetime64[ns]'` with mismatched
    timezones will raise `TypeError` instead of `ValueError` ([GH 18817](https://github.com/pandas-dev/pandas/issues/18817))
  id: totrans-1277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有时区感知`dtype='datetime64[ns]'`的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")与不匹配时区的减法将引发`TypeError`而不是`ValueError`（[GH 18817](https://github.com/pandas-dev/pandas/issues/18817))
- en: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    will no longer silently ignore unused or invalid `tz` or `tzinfo` keyword arguments
    ([GH 17690](https://github.com/pandas-dev/pandas/issues/17690))'
  id: totrans-1278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")的未使用或无效的`tz`或`tzinfo`关键字参数时，将不再悄悄忽略（[GH
    17690](https://github.com/pandas-dev/pandas/issues/17690))
- en: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    will no longer silently ignore invalid `freq` arguments ([GH 5168](https://github.com/pandas-dev/pandas/issues/5168))'
  id: totrans-1279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")将不再悄悄忽略无效的`freq`参数（[GH
    5168](https://github.com/pandas-dev/pandas/issues/5168))'
- en: '`CacheableOffset` and `WeekDay` are no longer available in the `pandas.tseries.offsets`
    module ([GH 17830](https://github.com/pandas-dev/pandas/issues/17830))'
  id: totrans-1280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CacheableOffset`和`WeekDay`不再在`pandas.tseries.offsets`模块中可用（[GH 17830](https://github.com/pandas-dev/pandas/issues/17830))'
- en: '`pandas.tseries.frequencies.get_freq_group()` and `pandas.tseries.frequencies.DAYS`
    are removed from the public API ([GH 18034](https://github.com/pandas-dev/pandas/issues/18034))'
  id: totrans-1281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.tseries.frequencies.get_freq_group()`和`pandas.tseries.frequencies.DAYS`已从公共API中移除（[GH
    18034](https://github.com/pandas-dev/pandas/issues/18034))'
- en: '[`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate") and [`DataFrame.truncate()`](../reference/api/pandas.DataFrame.truncate.html#pandas.DataFrame.truncate
    "pandas.DataFrame.truncate") will raise a `ValueError` if the index is not sorted
    instead of an unhelpful `KeyError` ([GH 17935](https://github.com/pandas-dev/pandas/issues/17935))'
  id: totrans-1282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果索引未排序，[`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate")和[`DataFrame.truncate()`](../reference/api/pandas.DataFrame.truncate.html#pandas.DataFrame.truncate
    "pandas.DataFrame.truncate")将引发`ValueError`而不是无用的`KeyError`（[GH 17935](https://github.com/pandas-dev/pandas/issues/17935))
- en: '[`Series.first`](../reference/api/pandas.Series.first.html#pandas.Series.first
    "pandas.Series.first") and [`DataFrame.first`](../reference/api/pandas.DataFrame.first.html#pandas.DataFrame.first
    "pandas.DataFrame.first") will now raise a `TypeError` rather than `NotImplementedError`
    when index is not a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 20725](https://github.com/pandas-dev/pandas/issues/20725)).'
  id: totrans-1283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引不是[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")时，[`Series.first`](../reference/api/pandas.Series.first.html#pandas.Series.first
    "pandas.Series.first")和[`DataFrame.first`](../reference/api/pandas.DataFrame.first.html#pandas.DataFrame.first
    "pandas.DataFrame.first")现在会引发`TypeError`而不是`NotImplementedError`（[GH 20725](https://github.com/pandas-dev/pandas/issues/20725)).
- en: '[`Series.last`](../reference/api/pandas.Series.last.html#pandas.Series.last
    "pandas.Series.last") and [`DataFrame.last`](../reference/api/pandas.DataFrame.last.html#pandas.DataFrame.last
    "pandas.DataFrame.last") will now raise a `TypeError` rather than `NotImplementedError`
    when index is not a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 20725](https://github.com/pandas-dev/pandas/issues/20725)).'
  id: totrans-1284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引不是[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")时，[`Series.last`](../reference/api/pandas.Series.last.html#pandas.Series.last
    "pandas.Series.last")和[`DataFrame.last`](../reference/api/pandas.DataFrame.last.html#pandas.DataFrame.last
    "pandas.DataFrame.last")现在会引发`TypeError`而不是`NotImplementedError`（[GH 20725](https://github.com/pandas-dev/pandas/issues/20725)).
- en: Restricted `DateOffset` keyword arguments. Previously, `DateOffset` subclasses
    allowed arbitrary keyword arguments which could lead to unexpected behavior. Now,
    only valid arguments will be accepted. ([GH 17176](https://github.com/pandas-dev/pandas/issues/17176),
    [GH 18226](https://github.com/pandas-dev/pandas/issues/18226)).
  id: totrans-1285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 限制了 `DateOffset` 关键字参数。以前，`DateOffset` 子类允许任意关键字参数，这可能导致意外行为。现在，只有有效的参数将被接受。（[GH
    17176](https://github.com/pandas-dev/pandas/issues/17176)，[GH 18226](https://github.com/pandas-dev/pandas/issues/18226)）
- en: '[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    provides a more informative error message when trying to merge on timezone-aware
    and timezone-naive columns ([GH 15800](https://github.com/pandas-dev/pandas/issues/15800))'
  id: totrans-1286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    在尝试在时区感知和时区无关列上合并时提供了更具信息性的错误消息（[GH 15800](https://github.com/pandas-dev/pandas/issues/15800)）'
- en: For [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") with `freq=None`, addition or subtraction of integer-dtyped
    array or `Index` will raise `NullFrequencyError` instead of `TypeError` ([GH 19895](https://github.com/pandas-dev/pandas/issues/19895))
  id: totrans-1287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于带有 `freq=None` 的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")，对整数 dtyped 数组或 `Index` 进行加法或减法将引发 `NullFrequencyError`
    而不是 `TypeError`（[GH 19895](https://github.com/pandas-dev/pandas/issues/19895)）
- en: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    constructor now accepts a `nanosecond` keyword or positional argument ([GH 18898](https://github.com/pandas-dev/pandas/issues/18898))'
  id: totrans-1288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    构造函数现在接受 `nanosecond` 关键字或位置参数（[GH 18898](https://github.com/pandas-dev/pandas/issues/18898)）'
- en: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") will now raise an `AttributeError` when the `tz` attribute
    is set after instantiation ([GH 3746](https://github.com/pandas-dev/pandas/issues/3746))'
  id: totrans-1289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 现在在实例化后设置 `tz` 属性时会引发 `AttributeError`（[GH 3746](https://github.com/pandas-dev/pandas/issues/3746)）'
- en: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with a `pytz` timezone will now return a consistent `pytz`
    timezone ([GH 18595](https://github.com/pandas-dev/pandas/issues/18595))  ###
    Other API changes'
  id: totrans-1290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 带有 `pytz` 时区的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 现在将返回一致的 `pytz` 时区（[GH 18595](https://github.com/pandas-dev/pandas/issues/18595)）###
    其他 API 变更
- en: '[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") and [`Index.astype()`](../reference/api/pandas.Index.astype.html#pandas.Index.astype
    "pandas.Index.astype") with an incompatible dtype will now raise a `TypeError`
    rather than a `ValueError` ([GH 18231](https://github.com/pandas-dev/pandas/issues/18231))'
  id: totrans-1291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") 和 [`Index.astype()`](../reference/api/pandas.Index.astype.html#pandas.Index.astype
    "pandas.Index.astype") 与不兼容的 dtype 进行转换现在将引发 `TypeError` 而不是 `ValueError`（[GH
    18231](https://github.com/pandas-dev/pandas/issues/18231)）'
- en: '`Series` construction with an `object` dtyped tz-aware datetime and `dtype=object`
    specified, will now return an `object` dtyped `Series`, previously this would
    infer the datetime dtype ([GH 18231](https://github.com/pandas-dev/pandas/issues/18231))'
  id: totrans-1292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `object` dtyped 时区感知的 datetime 和指定 `dtype=object` 进行 `Series` 构造，现在将返回一个
    `object` dtyped `Series`，以前会推断 datetime dtype（[GH 18231](https://github.com/pandas-dev/pandas/issues/18231)）
- en: A [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    of `dtype=category` constructed from an empty `dict` will now have categories
    of `dtype=object` rather than `dtype=float64`, consistently with the case in which
    an empty list is passed ([GH 18515](https://github.com/pandas-dev/pandas/issues/18515))
  id: totrans-1293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从空 `dict` 构造的 `dtype=category` 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 现在将具有 `dtype=object` 的类别，而不是 `dtype=float64`，与传递空列表的情况一致（[GH
    18515](https://github.com/pandas-dev/pandas/issues/18515)）
- en: All-NaN levels in a `MultiIndex` are now assigned `float` rather than `object`
    dtype, promoting consistency with `Index` ([GH 17929](https://github.com/pandas-dev/pandas/issues/17929)).
  id: totrans-1294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex` 中的所有 NaN 级别现在分配 `float` 而不是 `object` dtype，与 `Index` 一致（[GH 17929](https://github.com/pandas-dev/pandas/issues/17929））'
- en: 'Levels names of a `MultiIndex` (when not None) are now required to be unique:
    trying to create a `MultiIndex` with repeated names will raise a `ValueError`
    ([GH 18872](https://github.com/pandas-dev/pandas/issues/18872))'
  id: totrans-1295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex` 的级别名称（当不为 None 时）现在需要是唯一的：尝试创建具有重复名称的 `MultiIndex` 将引发 `ValueError`（[GH
    18872](https://github.com/pandas-dev/pandas/issues/18872)）'
- en: Both construction and renaming of `Index`/`MultiIndex` with non-hashable `name`/`names`
    will now raise `TypeError` ([GH 20527](https://github.com/pandas-dev/pandas/issues/20527))
  id: totrans-1296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用不可散列的 `name`/`names` 构造和重命名 `Index`/`MultiIndex` 现在将引发 `TypeError`（[GH 20527](https://github.com/pandas-dev/pandas/issues/20527)）
- en: '[`Index.map()`](../reference/api/pandas.Index.map.html#pandas.Index.map "pandas.Index.map")
    can now accept `Series` and dictionary input objects ([GH 12756](https://github.com/pandas-dev/pandas/issues/12756),
    [GH 18482](https://github.com/pandas-dev/pandas/issues/18482), [GH 18509](https://github.com/pandas-dev/pandas/issues/18509)).'
  id: totrans-1297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.map()`](../reference/api/pandas.Index.map.html#pandas.Index.map "pandas.Index.map")
    现在可以接受 `Series` 和字典输入对象（[GH 12756](https://github.com/pandas-dev/pandas/issues/12756),
    [GH 18482](https://github.com/pandas-dev/pandas/issues/18482), [GH 18509](https://github.com/pandas-dev/pandas/issues/18509)）'
- en: '[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") will now default to filling with `np.nan` for `object`
    columns. ([GH 12815](https://github.com/pandas-dev/pandas/issues/12815))'
  id: totrans-1298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") 现在默认使用 `np.nan` 填充 `object` 列。（[GH 12815](https://github.com/pandas-dev/pandas/issues/12815)）'
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") constructor will raise if the `closed` parameter conflicts
    with how the input data is inferred to be closed ([GH 18421](https://github.com/pandas-dev/pandas/issues/18421))'
  id: totrans-1299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 构造函数将在 `closed` 参数与推断为闭合的输入数据的方式冲突时引发异常（[GH 18421](https://github.com/pandas-dev/pandas/issues/18421)）'
- en: Inserting missing values into indexes will work for all types of indexes and
    automatically insert the correct type of missing value (`NaN`, `NaT`, etc.) regardless
    of the type passed in ([GH 18295](https://github.com/pandas-dev/pandas/issues/18295))
  id: totrans-1300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对索引插入缺失值将适用于所有类型的索引，并自动插入正确类型的缺失值（`NaN`、`NaT` 等），无论传入的类型如何（[GH 18295](https://github.com/pandas-dev/pandas/issues/18295)）
- en: When created with duplicate labels, `MultiIndex` now raises a `ValueError`.
    ([GH 17464](https://github.com/pandas-dev/pandas/issues/17464))
  id: totrans-1301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用重复标签创建时，`MultiIndex` 现在会引发 `ValueError`。（[GH 17464](https://github.com/pandas-dev/pandas/issues/17464)）
- en: '[`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") now raises a `TypeError` instead of a `ValueError` when
    passed a list, tuple or DataFrame as a `value` ([GH 18293](https://github.com/pandas-dev/pandas/issues/18293))'
  id: totrans-1302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") 现在在传递列表、元组或 DataFrame 作为 `value` 时会引发 `TypeError` 而不是
    `ValueError`（[GH 18293](https://github.com/pandas-dev/pandas/issues/18293)）'
- en: '[`pandas.DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") no longer casts a `float` column to `object` when merging
    on `int` and `float` columns ([GH 16572](https://github.com/pandas-dev/pandas/issues/16572))'
  id: totrans-1303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") 在以前在 `int` 和 `float` 列上合并时不再将 `float` 列转换为 `object`（[GH
    16572](https://github.com/pandas-dev/pandas/issues/16572)）'
- en: '[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    now raises a `ValueError` when trying to merge on incompatible data types ([GH
    9780](https://github.com/pandas-dev/pandas/issues/9780))'
  id: totrans-1304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    现在在尝试在不兼容的数据类型上合并时会引发 `ValueError`（[GH 9780](https://github.com/pandas-dev/pandas/issues/9780)）'
- en: The default NA value for `UInt64Index` has changed from 0 to `NaN`, which impacts
    methods that mask with NA, such as `UInt64Index.where()` ([GH 18398](https://github.com/pandas-dev/pandas/issues/18398))
  id: totrans-1305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`UInt64Index` 的默认 NA 值已从 0 更改为 `NaN`，这会影响到使用 NA 进行掩码的方法，例如 `UInt64Index.where()`（[GH
    18398](https://github.com/pandas-dev/pandas/issues/18398)）'
- en: Refactored `setup.py` to use `find_packages` instead of explicitly listing out
    all subpackages ([GH 18535](https://github.com/pandas-dev/pandas/issues/18535))
  id: totrans-1306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 `setup.py` 重构为使用 `find_packages` 而不是明确列出所有子包（[GH 18535](https://github.com/pandas-dev/pandas/issues/18535)）
- en: Rearranged the order of keyword arguments in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") to align with [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") ([GH 16672](https://github.com/pandas-dev/pandas/issues/16672))
  id: totrans-1307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")中重新排列了关键字参数的顺序，以与[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")一致（[GH 16672](https://github.com/pandas-dev/pandas/issues/16672)）
- en: '[`wide_to_long()`](../reference/api/pandas.wide_to_long.html#pandas.wide_to_long
    "pandas.wide_to_long") previously kept numeric-like suffixes as `object` dtype.
    Now they are cast to numeric if possible ([GH 17627](https://github.com/pandas-dev/pandas/issues/17627))'
  id: totrans-1308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`wide_to_long()`](../reference/api/pandas.wide_to_long.html#pandas.wide_to_long
    "pandas.wide_to_long")以前将类似数字的后缀保留为`object` dtype。现在，如果可能，它们将被转换为数字（[GH 17627](https://github.com/pandas-dev/pandas/issues/17627)）'
- en: In [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel"), the `comment` argument is now exposed as a named parameter
    ([GH 18735](https://github.com/pandas-dev/pandas/issues/18735))
  id: totrans-1309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")中，`comment`参数现在作为一个命名参数暴露出来了（[GH 18735](https://github.com/pandas-dev/pandas/issues/18735)）
- en: Rearranged the order of keyword arguments in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") to align with [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") ([GH 16672](https://github.com/pandas-dev/pandas/issues/16672))
  id: totrans-1310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")中重新排列了关键字参数的顺序，以与[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")一致（[GH 16672](https://github.com/pandas-dev/pandas/issues/16672)）
- en: The options `html.border` and `mode.use_inf_as_null` were deprecated in prior
    versions, these will now show `FutureWarning` rather than a `DeprecationWarning`
    ([GH 19003](https://github.com/pandas-dev/pandas/issues/19003))
  id: totrans-1311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选项`html.border`和`mode.use_inf_as_null`在之前的版本中已经弃用，现在会显示`FutureWarning`而不是`DeprecationWarning`（[GH
    19003](https://github.com/pandas-dev/pandas/issues/19003)）
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") and `IntervalDtype` no longer support categorical, object,
    and string subtypes ([GH 19016](https://github.com/pandas-dev/pandas/issues/19016))'
  id: totrans-1312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")和`IntervalDtype`不再支持类别，对象和字符串子类型（[GH 19016](https://github.com/pandas-dev/pandas/issues/19016)）'
- en: '`IntervalDtype` now returns `True` when compared against `''interval''` regardless
    of subtype, and `IntervalDtype.name` now returns `''interval''` regardless of
    subtype ([GH 18980](https://github.com/pandas-dev/pandas/issues/18980))'
  id: totrans-1313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalDtype`现在在与`''interval''`进行比较时，无论子类型如何都会返回`True`，并且`IntervalDtype.name`现在无论子类型如何都会返回`''interval''`（[GH
    18980](https://github.com/pandas-dev/pandas/issues/18980)）'
- en: '`KeyError` now raises instead of `ValueError` in [`drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop"), `drop()`, [`drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop"), [`drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop") when dropping a non-existent element in an axis with duplicates
    ([GH 19186](https://github.com/pandas-dev/pandas/issues/19186))'
  id: totrans-1314
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在从具有重复项的轴中删除不存在元素时，[`drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop")、`drop()`、[`drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop")、[`drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop")现在会引发`KeyError`而不是`ValueError`（[GH 19186](https://github.com/pandas-dev/pandas/issues/19186)）
- en: '[`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv") now accepts a `compression` argument that works in the
    same way as the `compression` argument in [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") ([GH 18958](https://github.com/pandas-dev/pandas/issues/18958))'
  id: totrans-1315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv")现在接受一个`compression`参数，其工作方式与[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv")中的`compression`参数相同（[GH 18958](https://github.com/pandas-dev/pandas/issues/18958)）'
- en: Set operations (union, difference…) on [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") with incompatible index types will now raise a `TypeError`
    rather than a `ValueError` ([GH 19329](https://github.com/pandas-dev/pandas/issues/19329))
  id: totrans-1316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于具有不兼容索引类型的[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")上的集合操作（并集，差集等），现在会引发`TypeError`而不是`ValueError`（[GH 19329](https://github.com/pandas-dev/pandas/issues/19329)）
- en: '`DateOffset` objects render more simply, e.g. `<DateOffset: days=1>` instead
    of `<DateOffset: kwds={''days'': 1}>` ([GH 19403](https://github.com/pandas-dev/pandas/issues/19403))'
  id: totrans-1317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DateOffset`对象更简洁地呈现，例如 `<DateOffset: days=1>` 而不是 `<DateOffset: kwds={''days'':
    1}>`（[GH 19403](https://github.com/pandas-dev/pandas/issues/19403)）'
- en: '`Categorical.fillna` now validates its `value` and `method` keyword arguments.
    It now raises when both or none are specified, matching the behavior of [`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") ([GH 19682](https://github.com/pandas-dev/pandas/issues/19682))'
  id: totrans-1318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.fillna`现在验证其`value`和`method`关键字参数。现在在两者都指定或两者都未指定时引发错误，与[`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna")的行为匹配（[GH 19682](https://github.com/pandas-dev/pandas/issues/19682)）'
- en: '`pd.to_datetime(''today'')` now returns a datetime, consistent with `pd.Timestamp(''today'')`;
    previously `pd.to_datetime(''today'')` returned a `.normalized()` datetime ([GH
    19935](https://github.com/pandas-dev/pandas/issues/19935))'
  id: totrans-1319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.to_datetime(''today'')` 现在返回一个 datetime，与 `pd.Timestamp(''today'')` 一致；之前
    `pd.to_datetime(''today'')` 返回一个`.normalized()` datetime（[GH 19935](https://github.com/pandas-dev/pandas/issues/19935)）'
- en: '[`Series.str.replace()`](../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace
    "pandas.Series.str.replace") now takes an optional `regex` keyword which, when
    set to `False`, uses literal string replacement rather than regex replacement
    ([GH 16808](https://github.com/pandas-dev/pandas/issues/16808))'
  id: totrans-1320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.replace()`](../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace
    "pandas.Series.str.replace")现在带有一个可选的`regex`关键字参数，当设置为`False`时，使用字面字符串替换而不是正则表达式替换（[GH
    16808](https://github.com/pandas-dev/pandas/issues/16808)）'
- en: '[`DatetimeIndex.strftime()`](../reference/api/pandas.DatetimeIndex.strftime.html#pandas.DatetimeIndex.strftime
    "pandas.DatetimeIndex.strftime") and [`PeriodIndex.strftime()`](../reference/api/pandas.PeriodIndex.strftime.html#pandas.PeriodIndex.strftime
    "pandas.PeriodIndex.strftime") now return an `Index` instead of a numpy array
    to be consistent with similar accessors ([GH 20127](https://github.com/pandas-dev/pandas/issues/20127))'
  id: totrans-1321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex.strftime()`](../reference/api/pandas.DatetimeIndex.strftime.html#pandas.DatetimeIndex.strftime
    "pandas.DatetimeIndex.strftime")和[`PeriodIndex.strftime()`](../reference/api/pandas.PeriodIndex.strftime.html#pandas.PeriodIndex.strftime
    "pandas.PeriodIndex.strftime")现在返回一个`Index`而不是一个 numpy 数组，以与类似的访问器保持一致（[GH 20127](https://github.com/pandas-dev/pandas/issues/20127)）'
- en: Constructing a Series from a list of length 1 no longer broadcasts this list
    when a longer index is specified ([GH 19714](https://github.com/pandas-dev/pandas/issues/19714),
    [GH 20391](https://github.com/pandas-dev/pandas/issues/20391)).
  id: totrans-1322
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从长度为1的列表构造一个 Series 不再在指定更长索引时广播此列表（[GH 19714](https://github.com/pandas-dev/pandas/issues/19714),
    [GH 20391](https://github.com/pandas-dev/pandas/issues/20391)）。
- en: '[`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") with `orient=''index''` no longer casts int columns
    to float for a DataFrame with only int and float columns ([GH 18580](https://github.com/pandas-dev/pandas/issues/18580))'
  id: totrans-1323
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict")在`orient=''index''`时，不再将整数列转换为浮点数，适用于只有整数和浮点数列的 DataFrame（[GH
    18580](https://github.com/pandas-dev/pandas/issues/18580)）'
- en: A user-defined-function that is passed to `Series.rolling().aggregate()`, `DataFrame.rolling().aggregate()`,
    or its expanding cousins, will now *always* be passed a `Series`, rather than
    a `np.array`; `.apply()` only has the `raw` keyword, see [here](#whatsnew-0230-enhancements-window-raw).
    This is consistent with the signatures of `.aggregate()` across pandas ([GH 20584](https://github.com/pandas-dev/pandas/issues/20584))
  id: totrans-1324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 传递给`Series.rolling().aggregate()`、`DataFrame.rolling().aggregate()`或其扩展方法的用户定义函数现在*始终*传递一个`Series`，而不是一个`np.array`；`.apply()`只有`raw`关键字，参见[此处](#whatsnew-0230-enhancements-window-raw)。这与整个
    pandas 中`.aggregate()`的签名保持一致（[GH 20584](https://github.com/pandas-dev/pandas/issues/20584)）
- en: 'Rolling and Expanding types raise `NotImplementedError` upon iteration ([GH
    11704](https://github.com/pandas-dev/pandas/issues/11704)).  ### Dependencies
    have increased minimum versions'
  id: totrans-1325
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 滚动和扩展类型在迭代时引发`NotImplementedError`（[GH 11704](https://github.com/pandas-dev/pandas/issues/11704)）。###
    依赖项已增加最低版本
- en: 'We have updated our minimum supported versions of dependencies ([GH 15184](https://github.com/pandas-dev/pandas/issues/15184)).
    If installed, we now require:'
  id: totrans-1326
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已更新我们的依赖项的最低支持版本（[GH 15184](https://github.com/pandas-dev/pandas/issues/15184)）。如果已安装，则现在我们需要：
- en: '| Package | Minimum Version | Required | Issue |'
  id: totrans-1327
  prefs: []
  type: TYPE_TB
  zh: '| Package | Minimum Version | Required | Issue |'
- en: '| --- | --- | --- | --- |'
  id: totrans-1328
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| python-dateutil | 2.5.0 | X | [GH 15184](https://github.com/pandas-dev/pandas/issues/15184)
    |'
  id: totrans-1329
  prefs: []
  type: TYPE_TB
  zh: '| python-dateutil | 2.5.0 | X | [GH 15184](https://github.com/pandas-dev/pandas/issues/15184)
    |'
- en: '| openpyxl | 2.4.0 |  | [GH 15184](https://github.com/pandas-dev/pandas/issues/15184)
    |'
  id: totrans-1330
  prefs: []
  type: TYPE_TB
  zh: '| openpyxl | 2.4.0 |  | [GH 15184](https://github.com/pandas-dev/pandas/issues/15184)
    |'
- en: '| beautifulsoup4 | 4.2.1 |  | [GH 20082](https://github.com/pandas-dev/pandas/issues/20082)
    |'
  id: totrans-1331
  prefs: []
  type: TYPE_TB
  zh: '| beautifulsoup4 | 4.2.1 |  | [GH 20082](https://github.com/pandas-dev/pandas/issues/20082)
    |'
- en: '| setuptools | 24.2.0 |  | [GH 20698](https://github.com/pandas-dev/pandas/issues/20698)
    |'
  id: totrans-1332
  prefs: []
  type: TYPE_TB
  zh: '| setuptools | 24.2.0 |  | [GH 20698](https://github.com/pandas-dev/pandas/issues/20698)
    |'
- en: '### Instantiation from dicts preserves dict insertion order for Python 3.6+'
  id: totrans-1333
  prefs: []
  type: TYPE_NORMAL
  zh: '### 从字典实例化保留 Python 3.6+ 的字典插入顺序'
- en: Until Python 3.6, dicts in Python had no formally defined ordering. For Python
    version 3.6 and later, dicts are ordered by insertion order, see [PEP 468](https://www.python.org/dev/peps/pep-0468/).
    pandas will use the dict’s insertion order, when creating a `Series` or `DataFrame`
    from a dict and you’re using Python version 3.6 or higher. ([GH 19884](https://github.com/pandas-dev/pandas/issues/19884))
  id: totrans-1334
  prefs: []
  type: TYPE_NORMAL
  zh: 直到 Python 3.6 版本，Python 中的字典没有正式定义的顺序。对于 Python 3.6 及更高版本，字典按照插入顺序排序，请参阅 [PEP
    468](https://www.python.org/dev/peps/pep-0468/)。当使用 Python 版本为 3.6 或更高版本创建 `Series`
    或 `DataFrame` 时，pandas 将使用字典的插入顺序。 ([GH 19884](https://github.com/pandas-dev/pandas/issues/19884))
- en: 'Previous behavior (and current behavior if on Python < 3.6):'
  id: totrans-1335
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为（如果在 Python < 3.6 上）：
- en: '[PRE141]'
  id: totrans-1336
  prefs: []
  type: TYPE_PRE
  zh: '[PRE141]'
- en: Note the Series above is ordered alphabetically by the index values.
  id: totrans-1337
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意上述 Series 是按索引值按字母顺序排序的。
- en: 'New behavior (for Python >= 3.6):'
  id: totrans-1338
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为（对于 Python >= 3.6）：
- en: '[PRE142]'
  id: totrans-1339
  prefs: []
  type: TYPE_PRE
  zh: '[PRE142]'
- en: Notice that the Series is now ordered by insertion order. This new behavior
    is used for all relevant pandas types (`Series`, `DataFrame`, `SparseSeries` and
    `SparseDataFrame`).
  id: totrans-1340
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，Series 现在按插入顺序排序。此新行为适用于所有相关的 pandas 类型（`Series`、`DataFrame`、`SparseSeries`
    和 `SparseDataFrame`）。
- en: 'If you wish to retain the old behavior while using Python >= 3.6, you can use
    `.sort_index()`:'
  id: totrans-1341
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您希望在使用 Python >= 3.6 时保留旧行为，您可以使用 `.sort_index()`：
- en: '[PRE143]'
  id: totrans-1342
  prefs: []
  type: TYPE_PRE
  zh: '[PRE143]'
- en: '### Deprecate Panel'
  id: totrans-1343
  prefs: []
  type: TYPE_NORMAL
  zh: '### 废弃 Panel'
- en: '`Panel` was deprecated in the 0.20.x release, showing as a `DeprecationWarning`.
    Using `Panel` will now show a `FutureWarning`. The recommended way to represent
    3-D data are with a `MultiIndex` on a `DataFrame` via the `to_frame()` or with
    the [xarray package](http://xarray.pydata.org/en/stable/). pandas provides a `to_xarray()`
    method to automate this conversion ([GH 13563](https://github.com/pandas-dev/pandas/issues/13563),
    [GH 18324](https://github.com/pandas-dev/pandas/issues/18324)).'
  id: totrans-1344
  prefs: []
  type: TYPE_NORMAL
  zh: 在 0.20.x 版本中，`Panel` 被弃用，显示为 `DeprecationWarning`。现在使用 `Panel` 将显示 `FutureWarning`。表示
    3-D 数据的推荐方式是使用 `DataFrame` 上的 `MultiIndex` 通过 `to_frame()` 或使用 [xarray package](http://xarray.pydata.org/en/stable/)。pandas
    提供了一个 `to_xarray()` 方法来自动执行此转换 ([GH 13563](https://github.com/pandas-dev/pandas/issues/13563),
    [GH 18324](https://github.com/pandas-dev/pandas/issues/18324))。
- en: '[PRE144]'
  id: totrans-1345
  prefs: []
  type: TYPE_PRE
  zh: '[PRE144]'
- en: Convert to a MultiIndex DataFrame
  id: totrans-1346
  prefs: []
  type: TYPE_NORMAL
  zh: 转换为 MultiIndex DataFrame
- en: '[PRE145]'
  id: totrans-1347
  prefs: []
  type: TYPE_PRE
  zh: '[PRE145]'
- en: Convert to an xarray DataArray
  id: totrans-1348
  prefs: []
  type: TYPE_NORMAL
  zh: 转换为 xarray DataArray
- en: '[PRE146]'
  id: totrans-1349
  prefs: []
  type: TYPE_PRE
  zh: '[PRE146]'
- en: '### pandas.core.common removals'
  id: totrans-1350
  prefs: []
  type: TYPE_NORMAL
  zh: '### 移除 pandas.core.common'
- en: 'The following error & warning messages are removed from `pandas.core.common`
    ([GH 13634](https://github.com/pandas-dev/pandas/issues/13634), [GH 19769](https://github.com/pandas-dev/pandas/issues/19769)):'
  id: totrans-1351
  prefs: []
  type: TYPE_NORMAL
  zh: 从 `pandas.core.common` 中删除以下错误和警告消息 ([GH 13634](https://github.com/pandas-dev/pandas/issues/13634),
    [GH 19769](https://github.com/pandas-dev/pandas/issues/19769))：
- en: '`PerformanceWarning`'
  id: totrans-1352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PerformanceWarning`'
- en: '`UnsupportedFunctionCall`'
  id: totrans-1353
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`UnsupportedFunctionCall`'
- en: '`UnsortedIndexError`'
  id: totrans-1354
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`UnsortedIndexError`'
- en: '`AbstractMethodError`'
  id: totrans-1355
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`AbstractMethodError`'
- en: These are available from import from `pandas.errors` (since 0.19.0).
  id: totrans-1356
  prefs: []
  type: TYPE_NORMAL
  zh: 这些可从 `pandas.errors` 导入（自 0.19.0 起）。
- en: '### Changes to make output of `DataFrame.apply` consistent'
  id: totrans-1357
  prefs: []
  type: TYPE_NORMAL
  zh: '### 更改以使 `DataFrame.apply` 的输出一致'
- en: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") was inconsistent when applying an arbitrary user-defined-function
    that returned a list-like with `axis=1`. Several bugs and inconsistencies are
    resolved. If the applied function returns a Series, then pandas will return a
    DataFrame; otherwise a Series will be returned, this includes the case where a
    list-like (e.g. `tuple` or `list` is returned) ([GH 16353](https://github.com/pandas-dev/pandas/issues/16353),
    [GH 17437](https://github.com/pandas-dev/pandas/issues/17437), [GH 17970](https://github.com/pandas-dev/pandas/issues/17970),
    [GH 17348](https://github.com/pandas-dev/pandas/issues/17348), [GH 17892](https://github.com/pandas-dev/pandas/issues/17892),
    [GH 18573](https://github.com/pandas-dev/pandas/issues/18573), [GH 17602](https://github.com/pandas-dev/pandas/issues/17602),
    [GH 18775](https://github.com/pandas-dev/pandas/issues/18775), [GH 18901](https://github.com/pandas-dev/pandas/issues/18901),
    [GH 18919](https://github.com/pandas-dev/pandas/issues/18919)).'
  id: totrans-1358
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply")在应用返回类似列表的任意用户定义函数时存在不一致性，带有`axis=1`。解决了几个错误和不一致性。如果应用的函数返回一个
    Series，则 pandas 将返回一个 DataFrame；否则将返回一个 Series，这包括返回列表类似（例如 `tuple` 或 `list`）的情况（[GH
    16353](https://github.com/pandas-dev/pandas/issues/16353)，[GH 17437](https://github.com/pandas-dev/pandas/issues/17437)，[GH
    17970](https://github.com/pandas-dev/pandas/issues/17970)，[GH 17348](https://github.com/pandas-dev/pandas/issues/17348)，[GH
    17892](https://github.com/pandas-dev/pandas/issues/17892)，[GH 18573](https://github.com/pandas-dev/pandas/issues/18573)，[GH
    17602](https://github.com/pandas-dev/pandas/issues/17602)，[GH 18775](https://github.com/pandas-dev/pandas/issues/18775)，[GH
    18901](https://github.com/pandas-dev/pandas/issues/18901)，[GH 18919](https://github.com/pandas-dev/pandas/issues/18919))。'
- en: '[PRE147]'
  id: totrans-1359
  prefs: []
  type: TYPE_PRE
  zh: '[PRE147]'
- en: 'Previous behavior: if the returned shape happened to match the length of original
    columns, this would return a `DataFrame`. If the return shape did not match, a
    `Series` with lists was returned.'
  id: totrans-1360
  prefs: []
  type: TYPE_NORMAL
  zh: 以前的行为：如果返回的形状恰好与原始列的长度相匹配，这将返回一个`DataFrame`。如果返回的形状不匹配，则返回带有列表的`Series`。
- en: '[PRE148]'
  id: totrans-1361
  prefs: []
  type: TYPE_PRE
  zh: '[PRE148]'
- en: 'New behavior: When the applied function returns a list-like, this will now
    *always* return a `Series`.'
  id: totrans-1362
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：当应用函数返回类似列表时，这现在*总是*返回一个`Series`。
- en: '[PRE149]'
  id: totrans-1363
  prefs: []
  type: TYPE_PRE
  zh: '[PRE149]'
- en: To have expanded columns, you can use `result_type='expand'`
  id: totrans-1364
  prefs: []
  type: TYPE_NORMAL
  zh: 要有扩展列，可以使用`result_type='expand'`。
- en: '[PRE150]'
  id: totrans-1365
  prefs: []
  type: TYPE_PRE
  zh: '[PRE150]'
- en: To broadcast the result across the original columns (the old behaviour for list-likes
    of the correct length), you can use `result_type='broadcast'`. The shape must
    match the original columns.
  id: totrans-1366
  prefs: []
  type: TYPE_NORMAL
  zh: 要在原始列上广播结果（正确长度的列表的旧行为），可以使用`result_type='broadcast'`。形状必须与原始列匹配。
- en: '[PRE151]'
  id: totrans-1367
  prefs: []
  type: TYPE_PRE
  zh: '[PRE151]'
- en: 'Returning a `Series` allows one to control the exact return structure and column
    names:'
  id: totrans-1368
  prefs: []
  type: TYPE_NORMAL
  zh: 返回`Series`允许控制确切的返回结构和列名：
- en: '[PRE152]'
  id: totrans-1369
  prefs: []
  type: TYPE_PRE
  zh: '[PRE152]'
- en: '### Concatenation will no longer sort'
  id: totrans-1370
  prefs: []
  type: TYPE_NORMAL
  zh: '### 连接将不再排序'
- en: In a future version of pandas [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") will no longer sort the non-concatenation axis when it is not
    already aligned. The current behavior is the same as the previous (sorting), but
    now a warning is issued when `sort` is not specified and the non-concatenation
    axis is not aligned ([GH 4588](https://github.com/pandas-dev/pandas/issues/4588)).
  id: totrans-1371
  prefs: []
  type: TYPE_NORMAL
  zh: 在未来版本的 pandas [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat")中，当非连接轴未对齐时，将不再对非连接轴进行排序。当前行为与以前的行为相同（排序），但是当未指定`sort`且非连接轴未对齐时会发出警告（[GH
    4588](https://github.com/pandas-dev/pandas/issues/4588)）。
- en: '[PRE153]'
  id: totrans-1372
  prefs: []
  type: TYPE_PRE
  zh: '[PRE153]'
- en: To keep the previous behavior (sorting) and silence the warning, pass `sort=True`
  id: totrans-1373
  prefs: []
  type: TYPE_NORMAL
  zh: 要保留以前的行为（排序）并消除警告，请传递`sort=True`。
- en: '[PRE154]'
  id: totrans-1374
  prefs: []
  type: TYPE_PRE
  zh: '[PRE154]'
- en: To accept the future behavior (no sorting), pass `sort=False`
  id: totrans-1375
  prefs: []
  type: TYPE_NORMAL
  zh: 要接受未来的行为（不排序），请传递`sort=False`。
- en: Note that this change also applies to `DataFrame.append()`, which has also received
    a `sort` keyword for controlling this behavior.
  id: totrans-1376
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，此更改也适用于`DataFrame.append()`，该方法也接收了一个`sort`关键字来控制此行为。
- en: '### Build changes'
  id: totrans-1377
  prefs: []
  type: TYPE_NORMAL
  zh: '### 构建更改'
- en: Building pandas for development now requires `cython >= 0.24` ([GH 18613](https://github.com/pandas-dev/pandas/issues/18613))
  id: totrans-1378
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在构建 pandas 以进行开发需要`cython >= 0.24`（[GH 18613](https://github.com/pandas-dev/pandas/issues/18613)）。
- en: Building from source now explicitly requires `setuptools` in `setup.py` ([GH
    18113](https://github.com/pandas-dev/pandas/issues/18113))
  id: totrans-1379
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在从源代码构建明确需要`setup.py`中的`setuptools`（[GH 18113](https://github.com/pandas-dev/pandas/issues/18113)）。
- en: Updated conda recipe to be in compliance with conda-build 3.0+ ([GH 18002](https://github.com/pandas-dev/pandas/issues/18002))
  id: totrans-1380
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更新 conda 配方以符合 conda-build 3.0+（[GH 18002](https://github.com/pandas-dev/pandas/issues/18002)）。
- en: '### Index division by zero fills correctly'
  id: totrans-1381
  prefs: []
  type: TYPE_NORMAL
  zh: '### 索引除零填充正确'
- en: Division operations on `Index` and subclasses will now fill division of positive
    numbers by zero with `np.inf`, division of negative numbers by zero with `-np.inf`
    and `0 / 0` with `np.nan`. This matches existing `Series` behavior. ([GH 19322](https://github.com/pandas-dev/pandas/issues/19322),
    [GH 19347](https://github.com/pandas-dev/pandas/issues/19347))
  id: totrans-1382
  prefs: []
  type: TYPE_NORMAL
  zh: '`Index` 和其子类的除法操作现在将正数除以零填充为`np.inf`，负数除以零填充为`-np.inf`，`0 / 0`填充为`np.nan`。这与现有的`Series`行为相匹配。([GH
    19322](https://github.com/pandas-dev/pandas/issues/19322), [GH 19347](https://github.com/pandas-dev/pandas/issues/19347))'
- en: 'Previous behavior:'
  id: totrans-1383
  prefs: []
  type: TYPE_NORMAL
  zh: 先前行为：
- en: '[PRE155]'
  id: totrans-1384
  prefs: []
  type: TYPE_PRE
  zh: '[PRE155]'
- en: 'Current behavior:'
  id: totrans-1385
  prefs: []
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE156]'
  id: totrans-1386
  prefs: []
  type: TYPE_PRE
  zh: '[PRE156]'
- en: '### Extraction of matching patterns from strings'
  id: totrans-1387
  prefs: []
  type: TYPE_NORMAL
  zh: '### 从字符串中提取匹配模式'
- en: By default, extracting matching patterns from strings with `str.extract()` used
    to return a `Series` if a single group was being extracted (a `DataFrame` if more
    than one group was extracted). As of pandas 0.23.0 `str.extract()` always returns
    a `DataFrame`, unless `expand` is set to `False`. Finally, `None` was an accepted
    value for the `expand` parameter (which was equivalent to `False`), but now raises
    a `ValueError`. ([GH 11386](https://github.com/pandas-dev/pandas/issues/11386))
  id: totrans-1388
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，使用`str.extract()`从字符串中提取匹配模式如果提取了单个组，则返回一个`Series`（如果提取了多个组，则返回一个`DataFrame`）。从
    pandas 0.23.0 开始，`str.extract()`始终返回一个`DataFrame`，除非将`expand`设置为`False`。最后，`None`是`expand`参数的一个接受的值（等同于`False`），但现在会引发`ValueError`。([GH
    11386](https://github.com/pandas-dev/pandas/issues/11386))
- en: 'Previous behavior:'
  id: totrans-1389
  prefs: []
  type: TYPE_NORMAL
  zh: 先前行为：
- en: '[PRE157]'
  id: totrans-1390
  prefs: []
  type: TYPE_PRE
  zh: '[PRE157]'
- en: 'New behavior:'
  id: totrans-1391
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE158]'
  id: totrans-1392
  prefs: []
  type: TYPE_PRE
  zh: '[PRE158]'
- en: 'To restore previous behavior, simply set `expand` to `False`:'
  id: totrans-1393
  prefs: []
  type: TYPE_NORMAL
  zh: 要恢复以前的行为，只需将`expand`设置为`False`：
- en: '[PRE159]'
  id: totrans-1394
  prefs: []
  type: TYPE_PRE
  zh: '[PRE159]'
- en: '### Default value for the `ordered` parameter of `CategoricalDtype`'
  id: totrans-1395
  prefs: []
  type: TYPE_NORMAL
  zh: '### `CategoricalDtype`的`ordered`参数的默认值'
- en: The default value of the `ordered` parameter for `CategoricalDtype` has changed
    from `False` to `None` to allow updating of `categories` without impacting `ordered`.
    Behavior should remain consistent for downstream objects, such as [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") ([GH 18790](https://github.com/pandas-dev/pandas/issues/18790))
  id: totrans-1396
  prefs: []
  type: TYPE_NORMAL
  zh: '`CategoricalDtype`的`ordered`参数的默认值已从`False`更改为`None`，以允许更新`categories`而不影响`ordered`。行为应保持一致，例如[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") ([GH 18790](https://github.com/pandas-dev/pandas/issues/18790))'
- en: In previous versions, the default value for the `ordered` parameter was `False`.
    This could potentially lead to the `ordered` parameter unintentionally being changed
    from `True` to `False` when users attempt to update `categories` if `ordered`
    is not explicitly specified, as it would silently default to `False`. The new
    behavior for `ordered=None` is to retain the existing value of `ordered`.
  id: totrans-1397
  prefs: []
  type: TYPE_NORMAL
  zh: 在以前的版本中，`ordered`参数的默认值为`False`。当用户尝试更新`categories`时，如果未明确指定`ordered`，可能会导致`ordered`参数意外地从`True`更改为`False`，因为它会默认为`False`。对于`ordered=None`的新行为是保留`ordered`的现有值。
- en: 'New behavior:'
  id: totrans-1398
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE160]'
  id: totrans-1399
  prefs: []
  type: TYPE_PRE
  zh: '[PRE160]'
- en: Notice in the example above that the converted `Categorical` has retained `ordered=True`.
    Had the default value for `ordered` remained as `False`, the converted `Categorical`
    would have become unordered, despite `ordered=False` never being explicitly specified.
    To change the value of `ordered`, explicitly pass it to the new dtype, e.g. `CategoricalDtype(categories=list('cbad'),
    ordered=False)`.
  id: totrans-1400
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意上面的示例中，转换后的`Categorical`保留了`ordered=True`。如果`ordered`的默认值仍然为`False`，则转换后的`Categorical`将变为无序，尽管从未明确指定`ordered=False`。要更改`ordered`的值，请将其明确传递给新的dtype，例如`CategoricalDtype(categories=list('cbad'),
    ordered=False)`。
- en: Note that the unintentional conversion of `ordered` discussed above did not
    arise in previous versions due to separate bugs that prevented `astype` from doing
    any type of category to category conversion ([GH 10696](https://github.com/pandas-dev/pandas/issues/10696),
    [GH 18593](https://github.com/pandas-dev/pandas/issues/18593)). These bugs have
    been fixed in this release, and motivated changing the default value of `ordered`.
  id: totrans-1401
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，上述讨论中`ordered`的意外转换在以前的版本中并未出现，因为由于阻止`astype`执行任何类型的类别到类别转换的不同错误，`ordered`没有发生变化([GH
    10696](https://github.com/pandas-dev/pandas/issues/10696), [GH 18593](https://github.com/pandas-dev/pandas/issues/18593))。这些错误已在此版本中修复，并促使更改`ordered`的默认值。
- en: '### Better pretty-printing of DataFrames in a terminal'
  id: totrans-1402
  prefs: []
  type: TYPE_NORMAL
  zh: '### 终端中 DataFrames 更好的漂亮打印'
- en: 'Previously, the default value for the maximum number of columns was `pd.options.display.max_columns=20`.
    This meant that relatively wide data frames would not fit within the terminal
    width, and pandas would introduce line breaks to display these 20 columns. This
    resulted in an output that was relatively difficult to read:'
  id: totrans-1403
  prefs: []
  type: TYPE_NORMAL
  zh: 之前，最大列数的默认值是`pd.options.display.max_columns=20`。这意味着相对较宽的数据框无法适应终端宽度，并且 pandas
    会引入换行符来显示这 20 列。这导致输出相对难以阅读：
- en: '![../_images/print_df_old.png](../Images/fbbeeee49fbf8f7df732a5d18f69c4d9.png)'
  id: totrans-1404
  prefs: []
  type: TYPE_IMG
  zh: '![../_images/print_df_old.png](../Images/fbbeeee49fbf8f7df732a5d18f69c4d9.png)'
- en: 'If Python runs in a terminal, the maximum number of columns is now determined
    automatically so that the printed data frame fits within the current terminal
    width (`pd.options.display.max_columns=0`) ([GH 17023](https://github.com/pandas-dev/pandas/issues/17023)).
    If Python runs as a Jupyter kernel (such as the Jupyter QtConsole or a Jupyter
    notebook, as well as in many IDEs), this value cannot be inferred automatically
    and is thus set to `20` as in previous versions. In a terminal, this results in
    a much nicer output:'
  id: totrans-1405
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 Python 运行在终端中，则最大列数现在会自动确定，以使打印的数据框适合当前终端宽度（`pd.options.display.max_columns=0`）（[GH
    17023](https://github.com/pandas-dev/pandas/issues/17023)）。如果 Python 作为 Jupyter
    内核运行（例如 Jupyter QtConsole 或 Jupyter 笔记本，以及许多 IDE），则无法自动推断此值，因此设置为与之前版本相同的 `20`。在终端中，这会产生更好的输出：
- en: '![../_images/print_df_new.png](../Images/d48dbcf410ad41a0f4cee1ad0cb0171a.png)'
  id: totrans-1406
  prefs: []
  type: TYPE_IMG
  zh: '![../_images/print_df_new.png](../Images/d48dbcf410ad41a0f4cee1ad0cb0171a.png)'
- en: 'Note that if you don’t like the new default, you can always set this option
    yourself. To revert to the old setting, you can run this line:'
  id: totrans-1407
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，如果您不喜欢新的默认设置，您始终可以自行设置此选项。要恢复到旧设置，您可以运行此行：
- en: '[PRE161]'
  id: totrans-1408
  prefs: []
  type: TYPE_PRE
  zh: '[PRE161]'
- en: '### Datetimelike API changes'
  id: totrans-1409
  prefs: []
  type: TYPE_NORMAL
  zh: '### 日期时间 API 更改'
- en: The default `Timedelta` constructor now accepts an `ISO 8601 Duration` string
    as an argument ([GH 19040](https://github.com/pandas-dev/pandas/issues/19040))
  id: totrans-1410
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 默认的 `Timedelta` 构造函数现在接受 `ISO 8601 Duration` 字符串作为参数（[GH 19040](https://github.com/pandas-dev/pandas/issues/19040)）
- en: Subtracting `NaT` from a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `dtype='datetime64[ns]'` returns a `Series` with `dtype='timedelta64[ns]'`
    instead of `dtype='datetime64[ns]'` ([GH 18808](https://github.com/pandas-dev/pandas/issues/18808))
  id: totrans-1411
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从具有`dtype='datetime64[ns]'`的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 中减去`NaT`会返回具有`dtype='timedelta64[ns]'`的 `Series`，而不是`dtype='datetime64[ns]'`（[GH
    18808](https://github.com/pandas-dev/pandas/issues/18808)）
- en: Addition or subtraction of `NaT` from [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") will return `TimedeltaIndex` instead of `DatetimeIndex`
    ([GH 19124](https://github.com/pandas-dev/pandas/issues/19124))
  id: totrans-1412
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 中加或减 `NaT` 现在将返回 `TimedeltaIndex` 而不是 `DatetimeIndex`（[GH
    19124](https://github.com/pandas-dev/pandas/issues/19124)）
- en: '`DatetimeIndex.shift()` and `TimedeltaIndex.shift()` will now raise `NullFrequencyError`
    (which subclasses `ValueError`, which was raised in older versions) when the index
    object frequency is `None` ([GH 19147](https://github.com/pandas-dev/pandas/issues/19147))'
  id: totrans-1413
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引对象频率为 `None` 时，`DatetimeIndex.shift()` 和 `TimedeltaIndex.shift()` 现在会引发 `NullFrequencyError`（其是
    `ValueError` 的子类，在旧版本中引发 `ValueError`）（[GH 19147](https://github.com/pandas-dev/pandas/issues/19147)）
- en: Addition and subtraction of `NaN` from a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `dtype='timedelta64[ns]'` will raise a `TypeError` instead
    of treating the `NaN` as `NaT` ([GH 19274](https://github.com/pandas-dev/pandas/issues/19274))
  id: totrans-1414
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用具有`dtype='timedelta64[ns]'`的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 对`NaN`进行加减法现在会引发`TypeError`，而不是将`NaN`视为`NaT`（[GH 19274](https://github.com/pandas-dev/pandas/issues/19274)）
- en: '`NaT` division with [`datetime.timedelta`](https://docs.python.org/3/library/datetime.html#datetime.timedelta
    "(in Python v3.12)") will now return `NaN` instead of raising ([GH 17876](https://github.com/pandas-dev/pandas/issues/17876))'
  id: totrans-1415
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 [`datetime.timedelta`](https://docs.python.org/3/library/datetime.html#datetime.timedelta
    "(in Python v3.12)") 对 `NaT` 进行除法现在将返回 `NaN`，而不是引发错误（[GH 17876](https://github.com/pandas-dev/pandas/issues/17876)）
- en: Operations between a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with dtype `dtype='datetime64[ns]'` and a [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") will correctly raises `TypeError` ([GH 18850](https://github.com/pandas-dev/pandas/issues/18850))
  id: totrans-1416
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有`dtype='datetime64[ns]'`的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 与 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 之间的操作现在将正确引发 `TypeError`（[GH 18850](https://github.com/pandas-dev/pandas/issues/18850)）
- en: Subtraction of [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with timezone-aware `dtype='datetime64[ns]'` with mismatched
    timezones will raise `TypeError` instead of `ValueError` ([GH 18817](https://github.com/pandas-dev/pandas/issues/18817))
  id: totrans-1417
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有不匹配时区的时区感知 `dtype='datetime64[ns]'` 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 的减法将引发 `TypeError` 而不是 `ValueError` ([GH 18817](https://github.com/pandas-dev/pandas/issues/18817))
- en: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    will no longer silently ignore unused or invalid `tz` or `tzinfo` keyword arguments
    ([GH 17690](https://github.com/pandas-dev/pandas/issues/17690))'
  id: totrans-1418
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    将不再默默忽略未使用或无效的 `tz` 或 `tzinfo` 关键字参数 ([GH 17690](https://github.com/pandas-dev/pandas/issues/17690))'
- en: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    will no longer silently ignore invalid `freq` arguments ([GH 5168](https://github.com/pandas-dev/pandas/issues/5168))'
  id: totrans-1419
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    将不再默默忽略无效的 `freq` 参数 ([GH 5168](https://github.com/pandas-dev/pandas/issues/5168))'
- en: '`CacheableOffset` and `WeekDay` are no longer available in the `pandas.tseries.offsets`
    module ([GH 17830](https://github.com/pandas-dev/pandas/issues/17830))'
  id: totrans-1420
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CacheableOffset` 和 `WeekDay` 不再在 `pandas.tseries.offsets` 模块中可用 ([GH 17830](https://github.com/pandas-dev/pandas/issues/17830))'
- en: '`pandas.tseries.frequencies.get_freq_group()` and `pandas.tseries.frequencies.DAYS`
    are removed from the public API ([GH 18034](https://github.com/pandas-dev/pandas/issues/18034))'
  id: totrans-1421
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.tseries.frequencies.get_freq_group()` 和 `pandas.tseries.frequencies.DAYS`
    从公共API中移除 ([GH 18034](https://github.com/pandas-dev/pandas/issues/18034))'
- en: '[`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate") and [`DataFrame.truncate()`](../reference/api/pandas.DataFrame.truncate.html#pandas.DataFrame.truncate
    "pandas.DataFrame.truncate") will raise a `ValueError` if the index is not sorted
    instead of an unhelpful `KeyError` ([GH 17935](https://github.com/pandas-dev/pandas/issues/17935))'
  id: totrans-1422
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate") 和 [`DataFrame.truncate()`](../reference/api/pandas.DataFrame.truncate.html#pandas.DataFrame.truncate
    "pandas.DataFrame.truncate") 如果索引未排序将引发 `ValueError` 而不是无用的 `KeyError` ([GH 17935](https://github.com/pandas-dev/pandas/issues/17935))'
- en: '[`Series.first`](../reference/api/pandas.Series.first.html#pandas.Series.first
    "pandas.Series.first") and [`DataFrame.first`](../reference/api/pandas.DataFrame.first.html#pandas.DataFrame.first
    "pandas.DataFrame.first") will now raise a `TypeError` rather than `NotImplementedError`
    when index is not a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 20725](https://github.com/pandas-dev/pandas/issues/20725)).'
  id: totrans-1423
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.first`](../reference/api/pandas.Series.first.html#pandas.Series.first
    "pandas.Series.first") 和 [`DataFrame.first`](../reference/api/pandas.DataFrame.first.html#pandas.DataFrame.first
    "pandas.DataFrame.first") 现在在索引不是 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 时将引发 `TypeError` 而不是 `NotImplementedError` ([GH 20725](https://github.com/pandas-dev/pandas/issues/20725)).'
- en: '[`Series.last`](../reference/api/pandas.Series.last.html#pandas.Series.last
    "pandas.Series.last") and [`DataFrame.last`](../reference/api/pandas.DataFrame.last.html#pandas.DataFrame.last
    "pandas.DataFrame.last") will now raise a `TypeError` rather than `NotImplementedError`
    when index is not a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 20725](https://github.com/pandas-dev/pandas/issues/20725)).'
  id: totrans-1424
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.last`](../reference/api/pandas.Series.last.html#pandas.Series.last
    "pandas.Series.last") 和 [`DataFrame.last`](../reference/api/pandas.DataFrame.last.html#pandas.DataFrame.last
    "pandas.DataFrame.last") 现在在索引不是 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 时将引发 `TypeError` 而不是 `NotImplementedError` ([GH 20725](https://github.com/pandas-dev/pandas/issues/20725)).'
- en: Restricted `DateOffset` keyword arguments. Previously, `DateOffset` subclasses
    allowed arbitrary keyword arguments which could lead to unexpected behavior. Now,
    only valid arguments will be accepted. ([GH 17176](https://github.com/pandas-dev/pandas/issues/17176),
    [GH 18226](https://github.com/pandas-dev/pandas/issues/18226)).
  id: totrans-1425
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 限制了`DateOffset`关键字参数。以前，`DateOffset`子类允许任意关键字参数，这可能导致意外行为。现在，只有有效的参数将被接受。([GH
    17176](https://github.com/pandas-dev/pandas/issues/17176), [GH 18226](https://github.com/pandas-dev/pandas/issues/18226)).
- en: '[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    provides a more informative error message when trying to merge on timezone-aware
    and timezone-naive columns ([GH 15800](https://github.com/pandas-dev/pandas/issues/15800))'
  id: totrans-1426
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    在尝试在时区感知和时区无关列上合并时提供更具信息性的错误消息 ([GH 15800](https://github.com/pandas-dev/pandas/issues/15800))'
- en: For [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") with `freq=None`, addition or subtraction of integer-dtyped
    array or `Index` will raise `NullFrequencyError` instead of `TypeError` ([GH 19895](https://github.com/pandas-dev/pandas/issues/19895))
  id: totrans-1427
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于具有`freq=None`的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")，对整数数据类型数组或`Index`进行加减操作将引发`NullFrequencyError`错误，而不是`TypeError`错误（[GH
    19895](https://github.com/pandas-dev/pandas/issues/19895)）
- en: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    constructor now accepts a `nanosecond` keyword or positional argument ([GH 18898](https://github.com/pandas-dev/pandas/issues/18898))'
  id: totrans-1428
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")构造函数现在接受`nanosecond`关键字或位置参数（[GH
    18898](https://github.com/pandas-dev/pandas/issues/18898)）'
- en: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") will now raise an `AttributeError` when the `tz` attribute
    is set after instantiation ([GH 3746](https://github.com/pandas-dev/pandas/issues/3746))'
  id: totrans-1429
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当实例化后设置`tz`属性时，[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")现在将引发`AttributeError`错误（[GH 3746](https://github.com/pandas-dev/pandas/issues/3746)）
- en: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with a `pytz` timezone will now return a consistent `pytz`
    timezone ([GH 18595](https://github.com/pandas-dev/pandas/issues/18595))'
  id: totrans-1430
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有`pytz`时区的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")现在将返回一致的`pytz`时区（[GH 18595](https://github.com/pandas-dev/pandas/issues/18595)）
- en: '### Other API changes'
  id: totrans-1431
  prefs: []
  type: TYPE_NORMAL
  zh: '### 其他API更改'
- en: '[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") and [`Index.astype()`](../reference/api/pandas.Index.astype.html#pandas.Index.astype
    "pandas.Index.astype") with an incompatible dtype will now raise a `TypeError`
    rather than a `ValueError` ([GH 18231](https://github.com/pandas-dev/pandas/issues/18231))'
  id: totrans-1432
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用不兼容数据类型的[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype")和[`Index.astype()`](../reference/api/pandas.Index.astype.html#pandas.Index.astype
    "pandas.Index.astype")现在将引发`TypeError`错误，而不是`ValueError`错误（[GH 18231](https://github.com/pandas-dev/pandas/issues/18231)）
- en: '`Series` construction with an `object` dtyped tz-aware datetime and `dtype=object`
    specified, will now return an `object` dtyped `Series`, previously this would
    infer the datetime dtype ([GH 18231](https://github.com/pandas-dev/pandas/issues/18231))'
  id: totrans-1433
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`object`数据类型的时区感知日期时间构建`Series`，并指定`dtype=object`，现在将返回一个`object`数据类型的`Series`，之前会推断日期时间数据类型（[GH
    18231](https://github.com/pandas-dev/pandas/issues/18231)）
- en: A [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    of `dtype=category` constructed from an empty `dict` will now have categories
    of `dtype=object` rather than `dtype=float64`, consistently with the case in which
    an empty list is passed ([GH 18515](https://github.com/pandas-dev/pandas/issues/18515))
  id: totrans-1434
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从空`dict`构建的`dtype=category`的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")现在将具有`dtype=object`的类别，而不是`dtype=float64`，与传递空列表的情况一致（[GH 18515](https://github.com/pandas-dev/pandas/issues/18515)）
- en: All-NaN levels in a `MultiIndex` are now assigned `float` rather than `object`
    dtype, promoting consistency with `Index` ([GH 17929](https://github.com/pandas-dev/pandas/issues/17929)).
  id: totrans-1435
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex`中的所有NaN级别现在分配为`float`数据类型，而不是`object`数据类型，以与`Index`保持一致（[GH 17929](https://github.com/pandas-dev/pandas/issues/17929））'
- en: 'Levels names of a `MultiIndex` (when not None) are now required to be unique:
    trying to create a `MultiIndex` with repeated names will raise a `ValueError`
    ([GH 18872](https://github.com/pandas-dev/pandas/issues/18872))'
  id: totrans-1436
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex`的级别名称（非None时）现在必须是唯一的：尝试创建具有重复名称的`MultiIndex`将引发`ValueError`错误（[GH
    18872](https://github.com/pandas-dev/pandas/issues/18872)）'
- en: Both construction and renaming of `Index`/`MultiIndex` with non-hashable `name`/`names`
    will now raise `TypeError` ([GH 20527](https://github.com/pandas-dev/pandas/issues/20527))
  id: totrans-1437
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用不可哈希的`name`/`names`构建和重命名`Index`/`MultiIndex`现在将引发`TypeError`错误（[GH 20527](https://github.com/pandas-dev/pandas/issues/20527)）
- en: '[`Index.map()`](../reference/api/pandas.Index.map.html#pandas.Index.map "pandas.Index.map")
    can now accept `Series` and dictionary input objects ([GH 12756](https://github.com/pandas-dev/pandas/issues/12756),
    [GH 18482](https://github.com/pandas-dev/pandas/issues/18482), [GH 18509](https://github.com/pandas-dev/pandas/issues/18509)).'
  id: totrans-1438
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.map()`](../reference/api/pandas.Index.map.html#pandas.Index.map "pandas.Index.map")现在可以接受`Series`和字典输入对象。([GH
    12756](https://github.com/pandas-dev/pandas/issues/12756), [GH 18482](https://github.com/pandas-dev/pandas/issues/18482),
    [GH 18509](https://github.com/pandas-dev/pandas/issues/18509))'
- en: '[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") will now default to filling with `np.nan` for `object`
    columns. ([GH 12815](https://github.com/pandas-dev/pandas/issues/12815))'
  id: totrans-1439
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")现在默认使用`np.nan`填充`object`列。([GH 12815](https://github.com/pandas-dev/pandas/issues/12815))'
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") constructor will raise if the `closed` parameter conflicts
    with how the input data is inferred to be closed ([GH 18421](https://github.com/pandas-dev/pandas/issues/18421))'
  id: totrans-1440
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果`closed`参数与推断的输入数据的闭合方式冲突，[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")构造函数将引发异常。([GH 18421](https://github.com/pandas-dev/pandas/issues/18421))
- en: Inserting missing values into indexes will work for all types of indexes and
    automatically insert the correct type of missing value (`NaN`, `NaT`, etc.) regardless
    of the type passed in ([GH 18295](https://github.com/pandas-dev/pandas/issues/18295))
  id: totrans-1441
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将缺失值插入索引将适用于所有类型的索引，并自动插入正确类型的缺失值（`NaN`、`NaT`等），而不管传入的类型如何。([GH 18295](https://github.com/pandas-dev/pandas/issues/18295))
- en: When created with duplicate labels, `MultiIndex` now raises a `ValueError`.
    ([GH 17464](https://github.com/pandas-dev/pandas/issues/17464))
  id: totrans-1442
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当创建带有重复标签的`MultiIndex`时，现在会引发`ValueError`。([GH 17464](https://github.com/pandas-dev/pandas/issues/17464))
- en: '[`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") now raises a `TypeError` instead of a `ValueError` when
    passed a list, tuple or DataFrame as a `value` ([GH 18293](https://github.com/pandas-dev/pandas/issues/18293))'
  id: totrans-1443
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当将列表、元组或DataFrame作为`value`参数传递给[`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna")时，现在会引发`TypeError`而不是`ValueError`。([GH 18293](https://github.com/pandas-dev/pandas/issues/18293))
- en: '[`pandas.DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") no longer casts a `float` column to `object` when merging
    on `int` and `float` columns ([GH 16572](https://github.com/pandas-dev/pandas/issues/16572))'
  id: totrans-1444
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在合并`int`和`float`列时，[`pandas.DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")不再将`float`列转换为`object`。([GH 16572](https://github.com/pandas-dev/pandas/issues/16572))
- en: '[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    now raises a `ValueError` when trying to merge on incompatible data types ([GH
    9780](https://github.com/pandas-dev/pandas/issues/9780))'
  id: totrans-1445
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当尝试在不兼容的数据类型上合并时，[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge")现在会引发`ValueError`。([GH 9780](https://github.com/pandas-dev/pandas/issues/9780))
- en: The default NA value for `UInt64Index` has changed from 0 to `NaN`, which impacts
    methods that mask with NA, such as `UInt64Index.where()` ([GH 18398](https://github.com/pandas-dev/pandas/issues/18398))
  id: totrans-1446
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 默认的`UInt64Index`的NA值已从0更改为`NaN`，这会影响到诸如`UInt64Index.where()`的掩码方法。([GH 18398](https://github.com/pandas-dev/pandas/issues/18398))
- en: Refactored `setup.py` to use `find_packages` instead of explicitly listing out
    all subpackages ([GH 18535](https://github.com/pandas-dev/pandas/issues/18535))
  id: totrans-1447
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重构了`setup.py`，使用`find_packages`而不是显式列出所有子包。([GH 18535](https://github.com/pandas-dev/pandas/issues/18535))
- en: Rearranged the order of keyword arguments in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") to align with [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") ([GH 16672](https://github.com/pandas-dev/pandas/issues/16672))
  id: totrans-1448
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")中关键字参数的顺序已重新排列，以与[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")对齐。([GH 16672](https://github.com/pandas-dev/pandas/issues/16672))'
- en: '[`wide_to_long()`](../reference/api/pandas.wide_to_long.html#pandas.wide_to_long
    "pandas.wide_to_long") previously kept numeric-like suffixes as `object` dtype.
    Now they are cast to numeric if possible ([GH 17627](https://github.com/pandas-dev/pandas/issues/17627))'
  id: totrans-1449
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`wide_to_long()`](../reference/api/pandas.wide_to_long.html#pandas.wide_to_long
    "pandas.wide_to_long")以前会将类似数值的后缀保留为`object` dtype。现在，如果可能，它们会转换为数值型。([GH 17627](https://github.com/pandas-dev/pandas/issues/17627))'
- en: In [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel"), the `comment` argument is now exposed as a named parameter
    ([GH 18735](https://github.com/pandas-dev/pandas/issues/18735))
  id: totrans-1450
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 中，`comment`参数现在作为命名参数暴露出来（[GH 18735](https://github.com/pandas-dev/pandas/issues/18735)）
- en: Rearranged the order of keyword arguments in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") to align with [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") ([GH 16672](https://github.com/pandas-dev/pandas/issues/16672))
  id: totrans-1451
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 中重新排列了关键字参数的顺序，以与 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 保持一致（[GH 16672](https://github.com/pandas-dev/pandas/issues/16672)）
- en: The options `html.border` and `mode.use_inf_as_null` were deprecated in prior
    versions, these will now show `FutureWarning` rather than a `DeprecationWarning`
    ([GH 19003](https://github.com/pandas-dev/pandas/issues/19003))
  id: totrans-1452
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选项 `html.border` 和 `mode.use_inf_as_null` 在之前的版本中已被弃用，现在会显示`FutureWarning`而不是`DeprecationWarning`（[GH
    19003](https://github.com/pandas-dev/pandas/issues/19003)）
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") and `IntervalDtype` no longer support categorical, object,
    and string subtypes ([GH 19016](https://github.com/pandas-dev/pandas/issues/19016))'
  id: totrans-1453
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 和 `IntervalDtype` 现在不再支持类别、对象和字符串子类型（[GH 19016](https://github.com/pandas-dev/pandas/issues/19016)）'
- en: '`IntervalDtype` now returns `True` when compared against `''interval''` regardless
    of subtype, and `IntervalDtype.name` now returns `''interval''` regardless of
    subtype ([GH 18980](https://github.com/pandas-dev/pandas/issues/18980))'
  id: totrans-1454
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalDtype` 现在在与`''interval''`进行比较时，无论子类型如何都返回`True`，并且`IntervalDtype.name`现在无论子类型如何都返回`''interval''`（[GH
    18980](https://github.com/pandas-dev/pandas/issues/18980)）'
- en: '`KeyError` now raises instead of `ValueError` in [`drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop"), `drop()`, [`drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop"), [`drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop") when dropping a non-existent element in an axis with duplicates
    ([GH 19186](https://github.com/pandas-dev/pandas/issues/19186))'
  id: totrans-1455
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop")、`drop()`、[`drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop")、[`drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop") 中删除轴上不存在的元素时，现在`KeyError`会引发而不是`ValueError`（[GH 19186](https://github.com/pandas-dev/pandas/issues/19186)）
- en: '[`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv") now accepts a `compression` argument that works in the
    same way as the `compression` argument in [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") ([GH 18958](https://github.com/pandas-dev/pandas/issues/18958))'
  id: totrans-1456
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv") 现在接受一个 `compression` 参数，其工作方式与 [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") 中的 `compression` 参数相同（[GH 18958](https://github.com/pandas-dev/pandas/issues/18958)）'
- en: Set operations (union, difference…) on [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") with incompatible index types will now raise a `TypeError`
    rather than a `ValueError` ([GH 19329](https://github.com/pandas-dev/pandas/issues/19329))
  id: totrans-1457
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于具有不兼容索引类型的[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")进行集合操作（并集、差集…）现在会引发`TypeError`而不是`ValueError`（[GH 19329](https://github.com/pandas-dev/pandas/issues/19329)）
- en: '`DateOffset` objects render more simply, e.g. `<DateOffset: days=1>` instead
    of `<DateOffset: kwds={''days'': 1}>` ([GH 19403](https://github.com/pandas-dev/pandas/issues/19403))'
  id: totrans-1458
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DateOffset` 对象现在呈现更简单，例如 `<DateOffset: days=1>` 而不是 `<DateOffset: kwds={''days'':
    1}>`（[GH 19403](https://github.com/pandas-dev/pandas/issues/19403)）'
- en: '`Categorical.fillna` now validates its `value` and `method` keyword arguments.
    It now raises when both or none are specified, matching the behavior of [`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") ([GH 19682](https://github.com/pandas-dev/pandas/issues/19682))'
  id: totrans-1459
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.fillna` 现在验证其 `value` 和 `method` 关键字参数。 当两者都指定或都未指定时，它现在会引发异常，与
    [`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") 的行为相匹配（[GH 19682](https://github.com/pandas-dev/pandas/issues/19682)）'
- en: '`pd.to_datetime(''today'')` now returns a datetime, consistent with `pd.Timestamp(''today'')`;
    previously `pd.to_datetime(''today'')` returned a `.normalized()` datetime ([GH
    19935](https://github.com/pandas-dev/pandas/issues/19935))'
  id: totrans-1460
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.to_datetime(''today'')` 现在返回一个 datetime，与 `pd.Timestamp(''today'')` 一致；之前
    `pd.to_datetime(''today'')` 返回一个 `.normalized()` datetime ([GH 19935](https://github.com/pandas-dev/pandas/issues/19935))。'
- en: '[`Series.str.replace()`](../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace
    "pandas.Series.str.replace") now takes an optional `regex` keyword which, when
    set to `False`, uses literal string replacement rather than regex replacement
    ([GH 16808](https://github.com/pandas-dev/pandas/issues/16808))'
  id: totrans-1461
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.replace()`](../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace
    "pandas.Series.str.replace") 现在有一个可选的 `regex` 关键字，当设置为 `False` 时，将使用字面字符串替换而不是正则表达式替换
    ([GH 16808](https://github.com/pandas-dev/pandas/issues/16808))。'
- en: '[`DatetimeIndex.strftime()`](../reference/api/pandas.DatetimeIndex.strftime.html#pandas.DatetimeIndex.strftime
    "pandas.DatetimeIndex.strftime") and [`PeriodIndex.strftime()`](../reference/api/pandas.PeriodIndex.strftime.html#pandas.PeriodIndex.strftime
    "pandas.PeriodIndex.strftime") now return an `Index` instead of a numpy array
    to be consistent with similar accessors ([GH 20127](https://github.com/pandas-dev/pandas/issues/20127))'
  id: totrans-1462
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex.strftime()`](../reference/api/pandas.DatetimeIndex.strftime.html#pandas.DatetimeIndex.strftime
    "pandas.DatetimeIndex.strftime") 和 [`PeriodIndex.strftime()`](../reference/api/pandas.PeriodIndex.strftime.html#pandas.PeriodIndex.strftime
    "pandas.PeriodIndex.strftime") 现在返回一个 `Index`，以保持与类似访问器的一致性 ([GH 20127](https://github.com/pandas-dev/pandas/issues/20127))。'
- en: Constructing a Series from a list of length 1 no longer broadcasts this list
    when a longer index is specified ([GH 19714](https://github.com/pandas-dev/pandas/issues/19714),
    [GH 20391](https://github.com/pandas-dev/pandas/issues/20391)).
  id: totrans-1463
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当指定了较长的索引时，从长度为 1 的列表构造 Series 不再广播此列表 ([GH 19714](https://github.com/pandas-dev/pandas/issues/19714),
    [GH 20391](https://github.com/pandas-dev/pandas/issues/20391))。
- en: '[`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") with `orient=''index''` no longer casts int columns
    to float for a DataFrame with only int and float columns ([GH 18580](https://github.com/pandas-dev/pandas/issues/18580))'
  id: totrans-1464
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") 使用 `orient=''index''` 时，不再将 int 列转换为 float（对于仅包含 int
    和 float 列的 DataFrame） ([GH 18580](https://github.com/pandas-dev/pandas/issues/18580))。'
- en: A user-defined-function that is passed to `Series.rolling().aggregate()`, `DataFrame.rolling().aggregate()`,
    or its expanding cousins, will now *always* be passed a `Series`, rather than
    a `np.array`; `.apply()` only has the `raw` keyword, see [here](#whatsnew-0230-enhancements-window-raw).
    This is consistent with the signatures of `.aggregate()` across pandas ([GH 20584](https://github.com/pandas-dev/pandas/issues/20584))
  id: totrans-1465
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 传递给 `Series.rolling().aggregate()`、`DataFrame.rolling().aggregate()` 或其扩展版本的用户定义函数现在*始终*会传递一个
    `Series` 而不是一个 `np.array`；`.apply()` 仅具有 `raw` 关键字，请参阅 [这里](#whatsnew-0230-enhancements-window-raw)。这与
    pandas 中 `.aggregate()` 的签名一致 ([GH 20584](https://github.com/pandas-dev/pandas/issues/20584))。
- en: Rolling and Expanding types raise `NotImplementedError` upon iteration ([GH
    11704](https://github.com/pandas-dev/pandas/issues/11704)).
  id: totrans-1466
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 迭代 Rolling 和 Expanding 类型时会引发 `NotImplementedError` ([GH 11704](https://github.com/pandas-dev/pandas/issues/11704))。
- en: '## Deprecations'
  id: totrans-1467
  prefs: []
  type: TYPE_NORMAL
  zh: '## 弃用'
- en: '`Series.from_array` and `SparseSeries.from_array` are deprecated. Use the normal
    constructor `Series(..)` and `SparseSeries(..)` instead ([GH 18213](https://github.com/pandas-dev/pandas/issues/18213)).'
  id: totrans-1468
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.from_array` 和 `SparseSeries.from_array` 已弃用。请改用正常的构造函数 `Series(..)`
    和 `SparseSeries(..)` ([GH 18213](https://github.com/pandas-dev/pandas/issues/18213))。'
- en: '`DataFrame.as_matrix` is deprecated. Use `DataFrame.values` instead ([GH 18458](https://github.com/pandas-dev/pandas/issues/18458)).'
  id: totrans-1469
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.as_matrix` 已弃用。请改用 `DataFrame.values` ([GH 18458](https://github.com/pandas-dev/pandas/issues/18458))。'
- en: '`Series.asobject`, `DatetimeIndex.asobject`, `PeriodIndex.asobject` and `TimeDeltaIndex.asobject`
    have been deprecated. Use `.astype(object)` instead ([GH 18572](https://github.com/pandas-dev/pandas/issues/18572))'
  id: totrans-1470
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.asobject`、`DatetimeIndex.asobject`、`PeriodIndex.asobject` 和 `TimeDeltaIndex.asobject`
    已被弃用。请改用 `.astype(object)` ([GH 18572](https://github.com/pandas-dev/pandas/issues/18572))。'
- en: Grouping by a tuple of keys now emits a `FutureWarning` and is deprecated. In
    the future, a tuple passed to `'by'` will always refer to a single key that is
    the actual tuple, instead of treating the tuple as multiple keys. To retain the
    previous behavior, use a list instead of a tuple ([GH 18314](https://github.com/pandas-dev/pandas/issues/18314))
  id: totrans-1471
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在对键元组进行分组会发出 `FutureWarning` 并已弃用。未来，传递给 `'by'` 的元组将始终表示实际元组的单个键，而不是将元组视为多个键。为保留以前的行为，请改用列表而不是元组
    ([GH 18314](https://github.com/pandas-dev/pandas/issues/18314))。
- en: '`Series.valid` is deprecated. Use [`Series.dropna()`](../reference/api/pandas.Series.dropna.html#pandas.Series.dropna
    "pandas.Series.dropna") instead ([GH 18800](https://github.com/pandas-dev/pandas/issues/18800)).'
  id: totrans-1472
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.valid` 已弃用。请使用 [`Series.dropna()`](../reference/api/pandas.Series.dropna.html#pandas.Series.dropna
    "pandas.Series.dropna") 替代 ([GH 18800](https://github.com/pandas-dev/pandas/issues/18800))。'
- en: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") has deprecated the `skip_footer` parameter. Use `skipfooter`
    instead ([GH 18836](https://github.com/pandas-dev/pandas/issues/18836))'
  id: totrans-1473
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 已弃用 `skip_footer` 参数。请改用 `skipfooter` ([GH 18836](https://github.com/pandas-dev/pandas/issues/18836))。'
- en: '[`ExcelFile.parse()`](../reference/api/pandas.ExcelFile.parse.html#pandas.ExcelFile.parse
    "pandas.ExcelFile.parse") has deprecated `sheetname` in favor of `sheet_name`
    for consistency with [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") ([GH 20920](https://github.com/pandas-dev/pandas/issues/20920)).'
  id: totrans-1474
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ExcelFile.parse()`](../reference/api/pandas.ExcelFile.parse.html#pandas.ExcelFile.parse
    "pandas.ExcelFile.parse") 已弃用 `sheetname`，改为 `sheet_name` 以保持与 [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 的一致性 ([GH 20920](https://github.com/pandas-dev/pandas/issues/20920))。'
- en: The `is_copy` attribute is deprecated and will be removed in a future version
    ([GH 18801](https://github.com/pandas-dev/pandas/issues/18801)).
  id: totrans-1475
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`is_copy` 属性已弃用，将在将来的版本中移除 ([GH 18801](https://github.com/pandas-dev/pandas/issues/18801))。'
- en: '`IntervalIndex.from_intervals` is deprecated in favor of the [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") constructor ([GH 19263](https://github.com/pandas-dev/pandas/issues/19263))'
  id: totrans-1476
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.from_intervals` 已弃用，建议使用 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 构造函数 ([GH 19263](https://github.com/pandas-dev/pandas/issues/19263))。'
- en: '`DataFrame.from_items` is deprecated. Use [`DataFrame.from_dict()`](../reference/api/pandas.DataFrame.from_dict.html#pandas.DataFrame.from_dict
    "pandas.DataFrame.from_dict") instead, or `DataFrame.from_dict(OrderedDict())`
    if you wish to preserve the key order ([GH 17320](https://github.com/pandas-dev/pandas/issues/17320),
    [GH 17312](https://github.com/pandas-dev/pandas/issues/17312))'
  id: totrans-1477
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.from_items` 已弃用。请使用 [`DataFrame.from_dict()`](../reference/api/pandas.DataFrame.from_dict.html#pandas.DataFrame.from_dict
    "pandas.DataFrame.from_dict")，或者如果希望保留键的顺序，请使用 `DataFrame.from_dict(OrderedDict())`
    ([GH 17320](https://github.com/pandas-dev/pandas/issues/17320), [GH 17312](https://github.com/pandas-dev/pandas/issues/17312))。'
- en: Indexing a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") or a `FloatIndex` with a list containing some missing keys
    will now show a [`FutureWarning`](https://docs.python.org/3/library/exceptions.html#FutureWarning
    "(in Python v3.12)"), which is consistent with other types of indexes ([GH 17758](https://github.com/pandas-dev/pandas/issues/17758)).
  id: totrans-1478
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用包含部分缺失键的列表对 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 或 `FloatIndex` 进行索引现在将显示 [`FutureWarning`](https://docs.python.org/3/library/exceptions.html#FutureWarning
    "(in Python v3.12)")，这与其他类型的索引一致 ([GH 17758](https://github.com/pandas-dev/pandas/issues/17758))。
- en: The `broadcast` parameter of `.apply()` is deprecated in favor of `result_type='broadcast'`
    ([GH 18577](https://github.com/pandas-dev/pandas/issues/18577))
  id: totrans-1479
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.apply()` 的 `broadcast` 参数已弃用，建议使用 `result_type=''broadcast''` ([GH 18577](https://github.com/pandas-dev/pandas/issues/18577))。'
- en: The `reduce` parameter of `.apply()` is deprecated in favor of `result_type='reduce'`
    ([GH 18577](https://github.com/pandas-dev/pandas/issues/18577))
  id: totrans-1480
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.apply()` 的 `reduce` 参数已弃用，建议使用 `result_type=''reduce''` ([GH 18577](https://github.com/pandas-dev/pandas/issues/18577))。'
- en: The `order` parameter of [`factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize") is deprecated and will be removed in a future release ([GH
    19727](https://github.com/pandas-dev/pandas/issues/19727))
  id: totrans-1481
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`factorize()`](../reference/api/pandas.factorize.html#pandas.factorize "pandas.factorize")
    的 `order` 参数已弃用，并将在将来的版本中移除 ([GH 19727](https://github.com/pandas-dev/pandas/issues/19727))。'
- en: '`Timestamp.weekday_name`, `DatetimeIndex.weekday_name`, and `Series.dt.weekday_name`
    are deprecated in favor of [`Timestamp.day_name()`](../reference/api/pandas.Timestamp.day_name.html#pandas.Timestamp.day_name
    "pandas.Timestamp.day_name"), [`DatetimeIndex.day_name()`](../reference/api/pandas.DatetimeIndex.day_name.html#pandas.DatetimeIndex.day_name
    "pandas.DatetimeIndex.day_name"), and [`Series.dt.day_name()`](../reference/api/pandas.Series.dt.day_name.html#pandas.Series.dt.day_name
    "pandas.Series.dt.day_name") ([GH 12806](https://github.com/pandas-dev/pandas/issues/12806))'
  id: totrans-1482
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timestamp.weekday_name`、`DatetimeIndex.weekday_name`和`Series.dt.weekday_name`已被弃用，建议使用[`Timestamp.day_name()`](../reference/api/pandas.Timestamp.day_name.html#pandas.Timestamp.day_name
    "pandas.Timestamp.day_name")、[`DatetimeIndex.day_name()`](../reference/api/pandas.DatetimeIndex.day_name.html#pandas.DatetimeIndex.day_name
    "pandas.DatetimeIndex.day_name")和[`Series.dt.day_name()`](../reference/api/pandas.Series.dt.day_name.html#pandas.Series.dt.day_name
    "pandas.Series.dt.day_name")代替（[GH 12806](https://github.com/pandas-dev/pandas/issues/12806)）'
- en: '`pandas.tseries.plotting.tsplot` is deprecated. Use [`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot") instead ([GH 18627](https://github.com/pandas-dev/pandas/issues/18627))'
  id: totrans-1483
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.tseries.plotting.tsplot`已弃用。请使用[`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot")代替（[GH 18627](https://github.com/pandas-dev/pandas/issues/18627)）'
- en: '`Index.summary()` is deprecated and will be removed in a future version ([GH
    18217](https://github.com/pandas-dev/pandas/issues/18217))'
  id: totrans-1484
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.summary()`已弃用，并将在将来的版本中移除（[GH 18217](https://github.com/pandas-dev/pandas/issues/18217)）'
- en: '`NDFrame.get_ftype_counts()` is deprecated and will be removed in a future
    version ([GH 18243](https://github.com/pandas-dev/pandas/issues/18243))'
  id: totrans-1485
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`NDFrame.get_ftype_counts()`已弃用，并将在将来的版本中移除（[GH 18243](https://github.com/pandas-dev/pandas/issues/18243)）'
- en: The `convert_datetime64` parameter in [`DataFrame.to_records()`](../reference/api/pandas.DataFrame.to_records.html#pandas.DataFrame.to_records
    "pandas.DataFrame.to_records") has been deprecated and will be removed in a future
    version. The NumPy bug motivating this parameter has been resolved. The default
    value for this parameter has also changed from `True` to `None` ([GH 18160](https://github.com/pandas-dev/pandas/issues/18160)).
  id: totrans-1486
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_records()`](../reference/api/pandas.DataFrame.to_records.html#pandas.DataFrame.to_records
    "pandas.DataFrame.to_records")中的`convert_datetime64`参数已弃用，并将在将来的版本中移除。导致此参数的NumPy错误已解决。此参数的默认值也已从`True`更改为`None`（[GH
    18160](https://github.com/pandas-dev/pandas/issues/18160)）'
- en: '`Series.rolling().apply()`, `DataFrame.rolling().apply()`, `Series.expanding().apply()`,
    and `DataFrame.expanding().apply()` have deprecated passing an `np.array` by default.
    One will need to pass the new `raw` parameter to be explicit about what is passed
    ([GH 20584](https://github.com/pandas-dev/pandas/issues/20584))'
  id: totrans-1487
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.rolling().apply()`、`DataFrame.rolling().apply()`、`Series.expanding().apply()`和`DataFrame.expanding().apply()`已弃用默认传递`np.array`。需要显式传递新的`raw`参数来明确传递内容（[GH
    20584](https://github.com/pandas-dev/pandas/issues/20584)）'
- en: The `data`, `base`, `strides`, `flags` and `itemsize` properties of the `Series`
    and `Index` classes have been deprecated and will be removed in a future version
    ([GH 20419](https://github.com/pandas-dev/pandas/issues/20419)).
  id: totrans-1488
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series`和`Index`类的`data`、`base`、`strides`、`flags`和`itemsize`属性已弃用，并将在将来的版本中移除（[GH
    20419](https://github.com/pandas-dev/pandas/issues/20419)）'
- en: '`DatetimeIndex.offset` is deprecated. Use `DatetimeIndex.freq` instead ([GH
    20716](https://github.com/pandas-dev/pandas/issues/20716))'
  id: totrans-1489
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.offset`已弃用。请使用`DatetimeIndex.freq`代替（[GH 20716](https://github.com/pandas-dev/pandas/issues/20716)）'
- en: Floor division between an integer ndarray and a [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") is deprecated. Divide by [`Timedelta.value`](../reference/api/pandas.Timedelta.value.html#pandas.Timedelta.value
    "pandas.Timedelta.value") instead ([GH 19761](https://github.com/pandas-dev/pandas/issues/19761))
  id: totrans-1490
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 整数ndarray与[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")之间的floor division已弃用。请使用[`Timedelta.value`](../reference/api/pandas.Timedelta.value.html#pandas.Timedelta.value
    "pandas.Timedelta.value")进行除法运算（[GH 19761](https://github.com/pandas-dev/pandas/issues/19761)）
- en: Setting `PeriodIndex.freq` (which was not guaranteed to work correctly) is deprecated.
    Use [`PeriodIndex.asfreq()`](../reference/api/pandas.PeriodIndex.asfreq.html#pandas.PeriodIndex.asfreq
    "pandas.PeriodIndex.asfreq") instead ([GH 20678](https://github.com/pandas-dev/pandas/issues/20678))
  id: totrans-1491
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置`PeriodIndex.freq`（此前无法保证正常工作）已被弃用。请使用[`PeriodIndex.asfreq()`](../reference/api/pandas.PeriodIndex.asfreq.html#pandas.PeriodIndex.asfreq
    "pandas.PeriodIndex.asfreq")代替（[GH 20678](https://github.com/pandas-dev/pandas/issues/20678)）
- en: '`Index.get_duplicates()` is deprecated and will be removed in a future version
    ([GH 20239](https://github.com/pandas-dev/pandas/issues/20239))'
  id: totrans-1492
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.get_duplicates()`已被弃用，并将在将来的版本中移除（[GH 20239](https://github.com/pandas-dev/pandas/issues/20239)）'
- en: The previous default behavior of negative indices in `Categorical.take` is deprecated.
    In a future version it will change from meaning missing values to meaning positional
    indices from the right. The future behavior is consistent with [`Series.take()`](../reference/api/pandas.Series.take.html#pandas.Series.take
    "pandas.Series.take") ([GH 20664](https://github.com/pandas-dev/pandas/issues/20664)).
  id: totrans-1493
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Categorical.take` 中，负索引的先前默认行为已被弃用。在将来的版本中，它将从表示缺失值变为表示从右边的位置索引。将来的行为与 [`Series.take()`](../reference/api/pandas.Series.take.html#pandas.Series.take
    "pandas.Series.take") 一致 ([GH 20664](https://github.com/pandas-dev/pandas/issues/20664)).
- en: Passing multiple axes to the `axis` parameter in [`DataFrame.dropna()`](../reference/api/pandas.DataFrame.dropna.html#pandas.DataFrame.dropna
    "pandas.DataFrame.dropna") has been deprecated and will be removed in a future
    version ([GH 20987](https://github.com/pandas-dev/pandas/issues/20987))
  id: totrans-1494
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将多个轴传递给 [`DataFrame.dropna()`](../reference/api/pandas.DataFrame.dropna.html#pandas.DataFrame.dropna
    "pandas.DataFrame.dropna") 中的 `axis` 参数已被弃用，并将在将来的版本中移除 ([GH 20987](https://github.com/pandas-dev/pandas/issues/20987))
- en: '## Removal of prior version deprecations/changes'
  id: totrans-1495
  prefs: []
  type: TYPE_NORMAL
  zh: '## 移除之前版本的弃用/更改'
- en: Warnings against the obsolete usage `Categorical(codes, categories)`, which
    were emitted for instance when the first two arguments to `Categorical()` had
    different dtypes, and recommended the use of `Categorical.from_codes`, have now
    been removed ([GH 8074](https://github.com/pandas-dev/pandas/issues/8074))
  id: totrans-1496
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不再警告使用过时的 `Categorical(codes, categories)` 用法，例如当 `Categorical()` 的前两个参数具有不同的数据类型时发出的警告，并建议使用
    `Categorical.from_codes`，现已被移除 ([GH 8074](https://github.com/pandas-dev/pandas/issues/8074))
- en: The `levels` and `labels` attributes of a `MultiIndex` can no longer be set
    directly ([GH 4039](https://github.com/pandas-dev/pandas/issues/4039)).
  id: totrans-1497
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex` 的 `levels` 和 `labels` 属性现在不能直接设置了 ([GH 4039](https://github.com/pandas-dev/pandas/issues/4039)).'
- en: '`pd.tseries.util.pivot_annual` has been removed (deprecated since v0.19). Use
    `pivot_table` instead ([GH 18370](https://github.com/pandas-dev/pandas/issues/18370))'
  id: totrans-1498
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.tseries.util.pivot_annual` 已被移除（自v0.19起已弃用）。请使用 `pivot_table` 代替 ([GH 18370](https://github.com/pandas-dev/pandas/issues/18370))'
- en: '`pd.tseries.util.isleapyear` has been removed (deprecated since v0.19). Use
    `.is_leap_year` property in Datetime-likes instead ([GH 18370](https://github.com/pandas-dev/pandas/issues/18370))'
  id: totrans-1499
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.tseries.util.isleapyear` 已被移除（自v0.19起已弃用）。请在类似日期时间的对象中使用 `.is_leap_year`
    属性 ([GH 18370](https://github.com/pandas-dev/pandas/issues/18370))'
- en: '`pd.ordered_merge` has been removed (deprecated since v0.19). Use `pd.merge_ordered`
    instead ([GH 18459](https://github.com/pandas-dev/pandas/issues/18459))'
  id: totrans-1500
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.ordered_merge` 已被移除（自v0.19起已弃用）。请使用 `pd.merge_ordered` 代替 ([GH 18459](https://github.com/pandas-dev/pandas/issues/18459))'
- en: The `SparseList` class has been removed ([GH 14007](https://github.com/pandas-dev/pandas/issues/14007))
  id: totrans-1501
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseList` 类已被移除 ([GH 14007](https://github.com/pandas-dev/pandas/issues/14007))'
- en: The `pandas.io.wb` and `pandas.io.data` stub modules have been removed ([GH
    13735](https://github.com/pandas-dev/pandas/issues/13735))
  id: totrans-1502
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.io.wb` 和 `pandas.io.data` 模块已被移除 ([GH 13735](https://github.com/pandas-dev/pandas/issues/13735))'
- en: '`Categorical.from_array` has been removed ([GH 13854](https://github.com/pandas-dev/pandas/issues/13854))'
  id: totrans-1503
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.from_array` 已被移除 ([GH 13854](https://github.com/pandas-dev/pandas/issues/13854))'
- en: The `freq` and `how` parameters have been removed from the `rolling`/`expanding`/`ewm`
    methods of DataFrame and Series (deprecated since v0.18). Instead, resample before
    calling the methods. ([GH 18601](https://github.com/pandas-dev/pandas/issues/18601)
    & [GH 18668](https://github.com/pandas-dev/pandas/issues/18668))
  id: totrans-1504
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DataFrame 和 Series 的 `rolling`/`expanding`/`ewm` 方法中已移除 `freq` 和 `how` 参数（自v0.18起已弃用）。请在调用方法之前重新采样。
    ([GH 18601](https://github.com/pandas-dev/pandas/issues/18601) & [GH 18668](https://github.com/pandas-dev/pandas/issues/18668))
- en: '`DatetimeIndex.to_datetime`, `Timestamp.to_datetime`, `PeriodIndex.to_datetime`,
    and `Index.to_datetime` have been removed ([GH 8254](https://github.com/pandas-dev/pandas/issues/8254),
    [GH 14096](https://github.com/pandas-dev/pandas/issues/14096), [GH 14113](https://github.com/pandas-dev/pandas/issues/14113))'
  id: totrans-1505
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.to_datetime`, `Timestamp.to_datetime`, `PeriodIndex.to_datetime`,
    和 `Index.to_datetime` 已被移除 ([GH 8254](https://github.com/pandas-dev/pandas/issues/8254),
    [GH 14096](https://github.com/pandas-dev/pandas/issues/14096), [GH 14113](https://github.com/pandas-dev/pandas/issues/14113))'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    has dropped the `skip_footer` parameter ([GH 13386](https://github.com/pandas-dev/pandas/issues/13386))'
  id: totrans-1506
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    已经移除了 `skip_footer` 参数 ([GH 13386](https://github.com/pandas-dev/pandas/issues/13386))'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    has dropped the `as_recarray` parameter ([GH 13373](https://github.com/pandas-dev/pandas/issues/13373))'
  id: totrans-1507
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    已删除 `as_recarray` 参数（[GH 13373](https://github.com/pandas-dev/pandas/issues/13373))'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    has dropped the `buffer_lines` parameter ([GH 13360](https://github.com/pandas-dev/pandas/issues/13360))'
  id: totrans-1508
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    已删除 `buffer_lines` 参数（[GH 13360](https://github.com/pandas-dev/pandas/issues/13360))'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    has dropped the `compact_ints` and `use_unsigned` parameters ([GH 13323](https://github.com/pandas-dev/pandas/issues/13323))'
  id: totrans-1509
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    已删除 `compact_ints` 和 `use_unsigned` 参数（[GH 13323](https://github.com/pandas-dev/pandas/issues/13323))'
- en: The `Timestamp` class has dropped the `offset` attribute in favor of `freq`
    ([GH 13593](https://github.com/pandas-dev/pandas/issues/13593))
  id: totrans-1510
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timestamp` 类已删除 `offset` 属性，改为使用 `freq`（[GH 13593](https://github.com/pandas-dev/pandas/issues/13593))'
- en: The `Series`, `Categorical`, and `Index` classes have dropped the `reshape`
    method ([GH 13012](https://github.com/pandas-dev/pandas/issues/13012))
  id: totrans-1511
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series`, `Categorical`, 和 `Index` 类已删除 `reshape` 方法（[GH 13012](https://github.com/pandas-dev/pandas/issues/13012))'
- en: '`pandas.tseries.frequencies.get_standard_freq` has been removed in favor of
    `pandas.tseries.frequencies.to_offset(freq).rule_code` ([GH 13874](https://github.com/pandas-dev/pandas/issues/13874))'
  id: totrans-1512
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.tseries.frequencies.get_standard_freq` 已移除，改为使用 `pandas.tseries.frequencies.to_offset(freq).rule_code`（[GH
    13874](https://github.com/pandas-dev/pandas/issues/13874))'
- en: The `freqstr` keyword has been removed from `pandas.tseries.frequencies.to_offset`
    in favor of `freq` ([GH 13874](https://github.com/pandas-dev/pandas/issues/13874))
  id: totrans-1513
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.tseries.frequencies.to_offset` 中已移除 `freqstr` 关键字，改为使用 `freq`（[GH 13874](https://github.com/pandas-dev/pandas/issues/13874))'
- en: The `Panel4D` and `PanelND` classes have been removed ([GH 13776](https://github.com/pandas-dev/pandas/issues/13776))
  id: totrans-1514
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Panel4D` 和 `PanelND` 类已移除（[GH 13776](https://github.com/pandas-dev/pandas/issues/13776))'
- en: The `Panel` class has dropped the `to_long` and `toLong` methods ([GH 19077](https://github.com/pandas-dev/pandas/issues/19077))
  id: totrans-1515
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Panel` 类已删除 `to_long` 和 `toLong` 方法（[GH 19077](https://github.com/pandas-dev/pandas/issues/19077))'
- en: The options `display.line_with` and `display.height` are removed in favor of
    `display.width` and `display.max_rows` respectively ([GH 4391](https://github.com/pandas-dev/pandas/issues/4391),
    [GH 19107](https://github.com/pandas-dev/pandas/issues/19107))
  id: totrans-1516
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选项 `display.line_with` 和 `display.height` 已移除，改为使用 `display.width` 和 `display.max_rows`
    分别（[GH 4391](https://github.com/pandas-dev/pandas/issues/4391), [GH 19107](https://github.com/pandas-dev/pandas/issues/19107))
- en: The `labels` attribute of the `Categorical` class has been removed in favor
    of [`Categorical.codes`](../reference/api/pandas.Categorical.codes.html#pandas.Categorical.codes
    "pandas.Categorical.codes") ([GH 7768](https://github.com/pandas-dev/pandas/issues/7768))
  id: totrans-1517
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical` 类的 `labels` 属性已删除，改为使用 [`Categorical.codes`](../reference/api/pandas.Categorical.codes.html#pandas.Categorical.codes
    "pandas.Categorical.codes")（[GH 7768](https://github.com/pandas-dev/pandas/issues/7768))'
- en: The `flavor` parameter have been removed from `to_sql()` method ([GH 13611](https://github.com/pandas-dev/pandas/issues/13611))
  id: totrans-1518
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`to_sql()` 方法中已移除 `flavor` 参数（[GH 13611](https://github.com/pandas-dev/pandas/issues/13611))'
- en: The modules `pandas.tools.hashing` and `pandas.util.hashing` have been removed
    ([GH 16223](https://github.com/pandas-dev/pandas/issues/16223))
  id: totrans-1519
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模块 `pandas.tools.hashing` 和 `pandas.util.hashing` 已移除（[GH 16223](https://github.com/pandas-dev/pandas/issues/16223))
- en: The top-level functions `pd.rolling_*`, `pd.expanding_*` and `pd.ewm*` have
    been removed (Deprecated since v0.18). Instead, use the DataFrame/Series methods
    [`rolling`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling"), [`expanding`](../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding
    "pandas.DataFrame.expanding") and [`ewm`](../reference/api/pandas.DataFrame.ewm.html#pandas.DataFrame.ewm
    "pandas.DataFrame.ewm") ([GH 18723](https://github.com/pandas-dev/pandas/issues/18723))
  id: totrans-1520
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 顶层函数 `pd.rolling_*`, `pd.expanding_*` 和 `pd.ewm*` 已移除（自 v0.18 版本起弃用）。请使用 DataFrame/Series
    方法 [`rolling`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling"), [`expanding`](../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding
    "pandas.DataFrame.expanding") 和 [`ewm`](../reference/api/pandas.DataFrame.ewm.html#pandas.DataFrame.ewm
    "pandas.DataFrame.ewm") 代替（[GH 18723](https://github.com/pandas-dev/pandas/issues/18723))
- en: Imports from `pandas.core.common` for functions such as `is_datetime64_dtype`
    are now removed. These are located in `pandas.api.types`. ([GH 13634](https://github.com/pandas-dev/pandas/issues/13634),
    [GH 19769](https://github.com/pandas-dev/pandas/issues/19769))
  id: totrans-1521
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从`pandas.core.common`导入的函数（如`is_datetime64_dtype`）现已移除。这些函数现在位于`pandas.api.types`中（[GH
    13634](https://github.com/pandas-dev/pandas/issues/13634)，[GH 19769](https://github.com/pandas-dev/pandas/issues/19769)）。
- en: The `infer_dst` keyword in [`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize"), [`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize") and [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") have been removed. `infer_dst=True` is equivalent to `ambiguous='infer'`,
    and `infer_dst=False` to `ambiguous='raise'` ([GH 7963](https://github.com/pandas-dev/pandas/issues/7963)).
  id: totrans-1522
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize")、[`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize")和[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")中的`infer_dst`关键字已被移除。`infer_dst=True`等同于`ambiguous=''infer''`，而`infer_dst=False`等同于`ambiguous=''raise''`（[GH
    7963](https://github.com/pandas-dev/pandas/issues/7963)）。'
- en: When `.resample()` was changed from an eager to a lazy operation, like `.groupby()`
    in v0.18.0, we put in place compatibility (with a `FutureWarning`), so operations
    would continue to work. This is now fully removed, so a `Resampler` will no longer
    forward compat operations ([GH 20554](https://github.com/pandas-dev/pandas/issues/20554))
  id: totrans-1523
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`.resample()`从eager操作更改为lazy操作时，类似于v0.18.0中的`.groupby()`，我们已经实施了兼容性（带有`FutureWarning`），以便操作继续工作。现在已完全移除，因此`Resampler`将不再进行向前兼容操作（[GH
    20554](https://github.com/pandas-dev/pandas/issues/20554)）。
- en: Remove long deprecated `axis=None` parameter from `.replace()` ([GH 20271](https://github.com/pandas-dev/pandas/issues/20271))
  id: totrans-1524
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从`.replace()`中移除了长期弃用的`axis=None`参数（[GH 20271](https://github.com/pandas-dev/pandas/issues/20271)）。
- en: '## Performance improvements'
  id: totrans-1525
  prefs: []
  type: TYPE_NORMAL
  zh: '## 性能改进'
- en: Indexers on `Series` or `DataFrame` no longer create a reference cycle ([GH
    17956](https://github.com/pandas-dev/pandas/issues/17956))
  id: totrans-1526
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series`或`DataFrame`上的索引器不再创建引用循环（[GH 17956](https://github.com/pandas-dev/pandas/issues/17956)）。'
- en: Added a keyword argument, `cache`, to [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") that improved the performance of converting duplicate datetime
    arguments ([GH 11665](https://github.com/pandas-dev/pandas/issues/11665))
  id: totrans-1527
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中添加了一个关键字参数`cache`，提高了转换重复日期时间参数的性能（[GH 11665](https://github.com/pandas-dev/pandas/issues/11665)）。
- en: '`DateOffset` arithmetic performance is improved ([GH 18218](https://github.com/pandas-dev/pandas/issues/18218))'
  id: totrans-1528
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了`DateOffset`算术性能（[GH 18218](https://github.com/pandas-dev/pandas/issues/18218)）。
- en: Converting a `Series` of `Timedelta` objects to days, seconds, etc… sped up
    through vectorization of underlying methods ([GH 18092](https://github.com/pandas-dev/pandas/issues/18092))
  id: totrans-1529
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过对底层方法进行向量化，将`Timedelta`对象的`Series`转换为days、seconds等的速度加快了（[GH 18092](https://github.com/pandas-dev/pandas/issues/18092)）。
- en: Improved performance of `.map()` with a `Series/dict` input ([GH 15081](https://github.com/pandas-dev/pandas/issues/15081))
  id: totrans-1530
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过`Series/dict`输入改进了`.map()`的性能（[GH 15081](https://github.com/pandas-dev/pandas/issues/15081)）。
- en: The overridden `Timedelta` properties of days, seconds and microseconds have
    been removed, leveraging their built-in Python versions instead ([GH 18242](https://github.com/pandas-dev/pandas/issues/18242))
  id: totrans-1531
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 已移除`Timedelta`的days、seconds和microseconds属性的重写，改为使用其内置的Python版本（[GH 18242](https://github.com/pandas-dev/pandas/issues/18242)）。
- en: '`Series` construction will reduce the number of copies made of the input data
    in certain cases ([GH 17449](https://github.com/pandas-dev/pandas/issues/17449))'
  id: totrans-1532
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在某些情况下，`Series`构造将减少对输入数据的复制次数（[GH 17449](https://github.com/pandas-dev/pandas/issues/17449)）。
- en: Improved performance of [`Series.dt.date()`](../reference/api/pandas.Series.dt.date.html#pandas.Series.dt.date
    "pandas.Series.dt.date") and [`DatetimeIndex.date()`](../reference/api/pandas.DatetimeIndex.date.html#pandas.DatetimeIndex.date
    "pandas.DatetimeIndex.date") ([GH 18058](https://github.com/pandas-dev/pandas/issues/18058))
  id: totrans-1533
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了[`Series.dt.date()`](../reference/api/pandas.Series.dt.date.html#pandas.Series.dt.date
    "pandas.Series.dt.date")和[`DatetimeIndex.date()`](../reference/api/pandas.DatetimeIndex.date.html#pandas.DatetimeIndex.date
    "pandas.DatetimeIndex.date")的性能（[GH 18058](https://github.com/pandas-dev/pandas/issues/18058)）。
- en: Improved performance of [`Series.dt.time()`](../reference/api/pandas.Series.dt.time.html#pandas.Series.dt.time
    "pandas.Series.dt.time") and [`DatetimeIndex.time()`](../reference/api/pandas.DatetimeIndex.time.html#pandas.DatetimeIndex.time
    "pandas.DatetimeIndex.time") ([GH 18461](https://github.com/pandas-dev/pandas/issues/18461))
  id: totrans-1534
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了[`Series.dt.time()`](../reference/api/pandas.Series.dt.time.html#pandas.Series.dt.time
    "pandas.Series.dt.time")和[`DatetimeIndex.time()`](../reference/api/pandas.DatetimeIndex.time.html#pandas.DatetimeIndex.time
    "pandas.DatetimeIndex.time")的性能（[GH 18461](https://github.com/pandas-dev/pandas/issues/18461)）
- en: Improved performance of `IntervalIndex.symmetric_difference()` ([GH 18475](https://github.com/pandas-dev/pandas/issues/18475))
  id: totrans-1535
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提高了`IntervalIndex.symmetric_difference()`的性能（[GH 18475](https://github.com/pandas-dev/pandas/issues/18475)）
- en: Improved performance of `DatetimeIndex` and `Series` arithmetic operations with
    Business-Month and Business-Quarter frequencies ([GH 18489](https://github.com/pandas-dev/pandas/issues/18489))
  id: totrans-1536
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过工作日月和工作日季度频率，改善了`DatetimeIndex`和`Series`的算术操作性能（[GH 18489](https://github.com/pandas-dev/pandas/issues/18489)）
- en: '[`Series()`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    / [`DataFrame()`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    tab completion limits to 100 values, for better performance. ([GH 18587](https://github.com/pandas-dev/pandas/issues/18587))'
  id: totrans-1537
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series()`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    / [`DataFrame()`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")的tab自动补全限制为100个值，以提高性能。
    ([GH 18587](https://github.com/pandas-dev/pandas/issues/18587))'
- en: Improved performance of [`DataFrame.median()`](../reference/api/pandas.DataFrame.median.html#pandas.DataFrame.median
    "pandas.DataFrame.median") with `axis=1` when bottleneck is not installed ([GH
    16468](https://github.com/pandas-dev/pandas/issues/16468))
  id: totrans-1538
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当未安装瓶颈时，改善了带有`axis=1`的[`DataFrame.median()`](../reference/api/pandas.DataFrame.median.html#pandas.DataFrame.median
    "pandas.DataFrame.median")的性能（[GH 16468](https://github.com/pandas-dev/pandas/issues/16468)）
- en: Improved performance of [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") for large indexes, at the cost of a reduction in
    performance for small ones ([GH 18519](https://github.com/pandas-dev/pandas/issues/18519))
  id: totrans-1539
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对大型索引改进了[`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc")的性能，但对小型索引的性能有所下降（[GH 18519](https://github.com/pandas-dev/pandas/issues/18519)）
- en: Improved performance of [`MultiIndex.remove_unused_levels()`](../reference/api/pandas.MultiIndex.remove_unused_levels.html#pandas.MultiIndex.remove_unused_levels
    "pandas.MultiIndex.remove_unused_levels") when there are no unused levels, at
    the cost of a reduction in performance when there are ([GH 19289](https://github.com/pandas-dev/pandas/issues/19289))
  id: totrans-1540
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当没有未使用的级别时，通过牺牲性能来提高[`MultiIndex.remove_unused_levels()`](../reference/api/pandas.MultiIndex.remove_unused_levels.html#pandas.MultiIndex.remove_unused_levels
    "pandas.MultiIndex.remove_unused_levels")的性能，但当有未使用的级别时性能会下降 ([GH 19289](https://github.com/pandas-dev/pandas/issues/19289))
- en: Improved performance of [`Index.get_loc()`](../reference/api/pandas.Index.get_loc.html#pandas.Index.get_loc
    "pandas.Index.get_loc") for non-unique indexes ([GH 19478](https://github.com/pandas-dev/pandas/issues/19478))
  id: totrans-1541
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提高了非唯一索引的[`Index.get_loc()`](../reference/api/pandas.Index.get_loc.html#pandas.Index.get_loc
    "pandas.Index.get_loc")的性能（[GH 19478](https://github.com/pandas-dev/pandas/issues/19478)）
- en: Improved performance of pairwise `.rolling()` and `.expanding()` with `.cov()`
    and `.corr()` operations ([GH 17917](https://github.com/pandas-dev/pandas/issues/17917))
  id: totrans-1542
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`.cov()`和`.corr()`操作改进了`.rolling()`和`.expanding()`的成对性能（[GH 17917](https://github.com/pandas-dev/pandas/issues/17917)）
- en: Improved performance of `GroupBy.rank()` ([GH 15779](https://github.com/pandas-dev/pandas/issues/15779))
  id: totrans-1543
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了`GroupBy.rank()`的性能（[GH 15779](https://github.com/pandas-dev/pandas/issues/15779)）
- en: Improved performance of variable `.rolling()` on `.min()` and `.max()` ([GH
    19521](https://github.com/pandas-dev/pandas/issues/19521))
  id: totrans-1544
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`.min()`和`.max()`上改进了变量`.rolling()`的性能（[GH 19521](https://github.com/pandas-dev/pandas/issues/19521)）
- en: Improved performance of `GroupBy.ffill()` and `GroupBy.bfill()` ([GH 11296](https://github.com/pandas-dev/pandas/issues/11296))
  id: totrans-1545
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提高了`GroupBy.ffill()`和`GroupBy.bfill()`的性能（[GH 11296](https://github.com/pandas-dev/pandas/issues/11296)）
- en: Improved performance of `GroupBy.any()` and `GroupBy.all()` ([GH 15435](https://github.com/pandas-dev/pandas/issues/15435))
  id: totrans-1546
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提高了`GroupBy.any()`和`GroupBy.all()`的性能（[GH 15435](https://github.com/pandas-dev/pandas/issues/15435)）
- en: Improved performance of `GroupBy.pct_change()` ([GH 19165](https://github.com/pandas-dev/pandas/issues/19165))
  id: totrans-1547
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提高了`GroupBy.pct_change()`的性能（[GH 19165](https://github.com/pandas-dev/pandas/issues/19165)）
- en: Improved performance of [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") in the case of categorical dtypes ([GH 20003](https://github.com/pandas-dev/pandas/issues/20003))
  id: totrans-1548
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在分类dtypes的情况下改进了[`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin")的性能（[GH 20003](https://github.com/pandas-dev/pandas/issues/20003)）
- en: Improved performance of `getattr(Series, attr)` when the Series has certain
    index types. This manifested in slow printing of large Series with a `DatetimeIndex`
    ([GH 19764](https://github.com/pandas-dev/pandas/issues/19764))
  id: totrans-1549
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当Series具有某些索引类型时，改进了`getattr(Series, attr)`的性能。这在具有`DatetimeIndex`的大型Series的打印速度较慢时表现出来（[GH
    19764](https://github.com/pandas-dev/pandas/issues/19764)）
- en: Fixed a performance regression for `GroupBy.nth()` and `GroupBy.last()` with
    some object columns ([GH 19283](https://github.com/pandas-dev/pandas/issues/19283))
  id: totrans-1550
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`GroupBy.nth()`和`GroupBy.last()`与某些对象列的性能退化（[GH 19283](https://github.com/pandas-dev/pandas/issues/19283)）
- en: Improved performance of `Categorical.from_codes()` ([GH 18501](https://github.com/pandas-dev/pandas/issues/18501))
  id: totrans-1551
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了`Categorical.from_codes()`的性能（[GH 18501](https://github.com/pandas-dev/pandas/issues/18501)）
- en: '## Documentation changes'
  id: totrans-1552
  prefs: []
  type: TYPE_NORMAL
  zh: '## 文档更改'
- en: Thanks to all of the contributors who participated in the pandas Documentation
    Sprint, which took place on March 10th. We had about 500 participants from over
    30 locations across the world. You should notice that many of the [API docstrings](../reference/index.html#api)
    have greatly improved.
  id: totrans-1553
  prefs: []
  type: TYPE_NORMAL
  zh: 感谢所有参与于3月10日举行的pandas文档编写短期狂欢的贡献者。我们有来自世界各地30多个地点的大约500名参与者。你应该注意到许多[API文档字符串](../reference/index.html#api)已经得到了极大的改进。
- en: There were too many simultaneous contributions to include a release note for
    each improvement, but this [GitHub search](https://github.com/pandas-dev/pandas/pulls?utf8=%E2%9C%93&q=is%3Apr+label%3ADocs+created%3A2018-03-10..2018-03-15+)
    should give you an idea of how many docstrings were improved.
  id: totrans-1554
  prefs: []
  type: TYPE_NORMAL
  zh: 由于同时贡献的贡献太多，无法为每个改进包含一个发布说明，但是这个[GitHub搜索](https://github.com/pandas-dev/pandas/pulls?utf8=%E2%9C%93&q=is%3Apr+label%3ADocs+created%3A2018-03-10..2018-03-15+)应该能给你一个改进了多少文档字符串的概念。
- en: Special thanks to [Marc Garcia](https://github.com/datapythonista) for organizing
    the sprint. For more information, read the [NumFOCUS blogpost](https://www.numfocus.org/blog/worldwide-pandas-sprint/)
    recapping the sprint.
  id: totrans-1555
  prefs: []
  type: TYPE_NORMAL
  zh: 特别感谢[Marc Garcia](https://github.com/datapythonista)组织了这次狂欢。更多信息，请阅读[NumFOCUS博文](https://www.numfocus.org/blog/worldwide-pandas-sprint/)回顾这次狂欢。
- en: Changed spelling of “numpy” to “NumPy”, and “python” to “Python”. ([GH 19017](https://github.com/pandas-dev/pandas/issues/19017))
  id: totrans-1556
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将“numpy”拼写更改为“NumPy”，将“python”更改为“Python”（[GH 19017](https://github.com/pandas-dev/pandas/issues/19017)）
- en: Consistency when introducing code samples, using either colon or period. Rewrote
    some sentences for greater clarity, added more dynamic references to functions,
    methods and classes. ([GH 18941](https://github.com/pandas-dev/pandas/issues/18941),
    [GH 18948](https://github.com/pandas-dev/pandas/issues/18948), [GH 18973](https://github.com/pandas-dev/pandas/issues/18973),
    [GH 19017](https://github.com/pandas-dev/pandas/issues/19017))
  id: totrans-1557
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在引入代码示例时保持一致性，使用冒号或句号。重新编写了一些句子以提高清晰度，增加了对函数、方法和类的更多动态引用。 ([GH 18941](https://github.com/pandas-dev/pandas/issues/18941),
    [GH 18948](https://github.com/pandas-dev/pandas/issues/18948), [GH 18973](https://github.com/pandas-dev/pandas/issues/18973),
    [GH 19017](https://github.com/pandas-dev/pandas/issues/19017))
- en: Added a reference to [`DataFrame.assign()`](../reference/api/pandas.DataFrame.assign.html#pandas.DataFrame.assign
    "pandas.DataFrame.assign") in the concatenate section of the merging documentation
    ([GH 18665](https://github.com/pandas-dev/pandas/issues/18665))
  id: totrans-1558
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在合并文档的连接部分中添加了对[`DataFrame.assign()`](../reference/api/pandas.DataFrame.assign.html#pandas.DataFrame.assign
    "pandas.DataFrame.assign")的引用（[GH 18665](https://github.com/pandas-dev/pandas/issues/18665)）
- en: '## Bug fixes'
  id: totrans-1559
  prefs: []
  type: TYPE_NORMAL
  zh: '## Bug修复'
- en: Categorical
  id: totrans-1560
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分类
- en: Warning
  id: totrans-1561
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: A class of bugs were introduced in pandas 0.21 with `CategoricalDtype` that
    affects the correctness of operations like `merge`, `concat`, and indexing when
    comparing multiple unordered `Categorical` arrays that have the same categories,
    but in a different order. We highly recommend upgrading or manually aligning your
    categories before doing these operations.
  id: totrans-1562
  prefs: []
  type: TYPE_NORMAL
  zh: 在pandas 0.21中引入了一类与`CategoricalDtype`相关的错误，这影响了像`merge`，`concat`和索引等操作的正确性，当比较具有相同类别但顺序不同的多个无序`Categorical`数组时。我们强烈建议在执行这些操作之前升级或手动调整你的类别。
- en: Bug in `Categorical.equals` returning the wrong result when comparing two unordered
    `Categorical` arrays with the same categories, but in a different order ([GH 16603](https://github.com/pandas-dev/pandas/issues/16603))
  id: totrans-1563
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Categorical.equals`中存在错误，当比较两个无序的`Categorical`数组具有相同的类别但顺序不同时返回错误结果（[GH 16603](https://github.com/pandas-dev/pandas/issues/16603)）。
- en: Bug in [`pandas.api.types.union_categoricals()`](../reference/api/pandas.api.types.union_categoricals.html#pandas.api.types.union_categoricals
    "pandas.api.types.union_categoricals") returning the wrong result when for unordered
    categoricals with the categories in a different order. This affected [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") with Categorical data ([GH 19096](https://github.com/pandas-dev/pandas/issues/19096)).
  id: totrans-1564
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`pandas.api.types.union_categoricals()`](../reference/api/pandas.api.types.union_categoricals.html#pandas.api.types.union_categoricals
    "pandas.api.types.union_categoricals")中存在错误，当无序分类的类别以不同的顺序排列时返回错误结果。这影响了带有分类数据的[`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat")（[GH 19096](https://github.com/pandas-dev/pandas/issues/19096)）。
- en: Bug in [`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    returning the wrong result when joining on an unordered `Categorical` that had
    the same categories but in a different order ([GH 19551](https://github.com/pandas-dev/pandas/issues/19551))
  id: totrans-1565
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")中存在错误，当连接到一个无序的`Categorical`时返回错误的结果，该分类具有相同的类别但顺序不同（[GH
    19551](https://github.com/pandas-dev/pandas/issues/19551)）。
- en: Bug in `CategoricalIndex.get_indexer()` returning the wrong result when `target`
    was an unordered `Categorical` that had the same categories as `self` but in a
    different order ([GH 19551](https://github.com/pandas-dev/pandas/issues/19551))
  id: totrans-1566
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`CategoricalIndex.get_indexer()`中存在错误，当`target`是一个无序的`Categorical`，其类别与`self`相同但顺序不同时返回错误结果（[GH
    19551](https://github.com/pandas-dev/pandas/issues/19551)）。
- en: Bug in [`Index.astype()`](../reference/api/pandas.Index.astype.html#pandas.Index.astype
    "pandas.Index.astype") with a categorical dtype where the resultant index is not
    converted to a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") for all types of index ([GH 18630](https://github.com/pandas-dev/pandas/issues/18630))
  id: totrans-1567
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Index.astype()`](../reference/api/pandas.Index.astype.html#pandas.Index.astype
    "pandas.Index.astype")中存在错误，当结果索引未转换为[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")时，其分类dtype为所有类型的索引（[GH 18630](https://github.com/pandas-dev/pandas/issues/18630)）。
- en: Bug in [`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") and `Categorical.astype()` where an existing categorical
    data does not get updated ([GH 10696](https://github.com/pandas-dev/pandas/issues/10696),
    [GH 18593](https://github.com/pandas-dev/pandas/issues/18593))
  id: totrans-1568
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype")和`Categorical.astype()`中存在错误，当存在的分类数据不被更新时（[GH 10696](https://github.com/pandas-dev/pandas/issues/10696)，[GH
    18593](https://github.com/pandas-dev/pandas/issues/18593)）。
- en: Bug in [`Series.str.split()`](../reference/api/pandas.Series.str.split.html#pandas.Series.str.split
    "pandas.Series.str.split") with `expand=True` incorrectly raising an IndexError
    on empty strings ([GH 20002](https://github.com/pandas-dev/pandas/issues/20002)).
  id: totrans-1569
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Series.str.split()`](../reference/api/pandas.Series.str.split.html#pandas.Series.str.split
    "pandas.Series.str.split")中存在错误，当`expand=True`时，在空字符串上错误地引发IndexError（[GH 20002](https://github.com/pandas-dev/pandas/issues/20002)）。
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    constructor with `dtype=CategoricalDtype(...)` where `categories` and `ordered`
    are not maintained ([GH 19032](https://github.com/pandas-dev/pandas/issues/19032))
  id: totrans-1570
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")构造函数中存在错误，当`dtype=CategoricalDtype(...)`时，`categories`和`ordered`不会被维护（[GH
    19032](https://github.com/pandas-dev/pandas/issues/19032)）。
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    constructor with scalar and `dtype=CategoricalDtype(...)` where `categories` and
    `ordered` are not maintained ([GH 19565](https://github.com/pandas-dev/pandas/issues/19565))
  id: totrans-1571
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")构造函数中存在错误，当标量和`dtype=CategoricalDtype(...)`时，`categories`和`ordered`不会被维护（[GH
    19565](https://github.com/pandas-dev/pandas/issues/19565)）。
- en: Bug in `Categorical.__iter__` not converting to Python types ([GH 19909](https://github.com/pandas-dev/pandas/issues/19909))
  id: totrans-1572
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Categorical.__iter__`中存在错误，不会将其转换为Python类型（[GH 19909](https://github.com/pandas-dev/pandas/issues/19909)）。
- en: Bug in [`pandas.factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize") returning the unique codes for the `uniques`. This now returns
    a `Categorical` with the same dtype as the input ([GH 19721](https://github.com/pandas-dev/pandas/issues/19721))
  id: totrans-1573
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内联代码`pandas.factorize()`中的错误，返回`uniques`的唯一代码。现在返回与输入相同dtype的`Categorical`（[GH
    19721](https://github.com/pandas-dev/pandas/issues/19721)）
- en: Bug in [`pandas.factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize") including an item for missing values in the `uniques` return
    value ([GH 19721](https://github.com/pandas-dev/pandas/issues/19721))
  id: totrans-1574
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.factorize()`中的错误，包括在`uniques`返回值中的缺失值项（[GH 19721](https://github.com/pandas-dev/pandas/issues/19721)）'
- en: Bug in [`Series.take()`](../reference/api/pandas.Series.take.html#pandas.Series.take
    "pandas.Series.take") with categorical data interpreting `-1` in `indices` as
    missing value markers, rather than the last element of the Series ([GH 20664](https://github.com/pandas-dev/pandas/issues/20664))
  id: totrans-1575
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.take()`](../reference/api/pandas.Series.take.html#pandas.Series.take
    "pandas.Series.take")中的错误，处理分类数据时，将`indices`中的`-1`解释为缺失值标记，而不是Series的最后一个元素（[GH
    20664](https://github.com/pandas-dev/pandas/issues/20664)）'
- en: Datetimelike
  id: totrans-1576
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Datetimelike
- en: Bug in `Series.__sub__()` subtracting a non-nanosecond `np.datetime64` object
    from a `Series` gave incorrect results ([GH 7996](https://github.com/pandas-dev/pandas/issues/7996))
  id: totrans-1577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.__sub__()`中的错误，从`Series`中减去非纳秒`np.datetime64`对象会产生不正确的结果（[GH 7996](https://github.com/pandas-dev/pandas/issues/7996)）'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") addition and subtraction of zero-dimensional integer
    arrays gave incorrect results ([GH 19012](https://github.com/pandas-dev/pandas/issues/19012))
  id: totrans-1578
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")，[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中零维整数数组的加法和减法会产生不正确的结果（[GH 19012](https://github.com/pandas-dev/pandas/issues/19012)）'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where adding or subtracting an array-like of `DateOffset`
    objects either raised (`np.array`, `pd.Index`) or broadcast incorrectly (`pd.Series`)
    ([GH 18849](https://github.com/pandas-dev/pandas/issues/18849))
  id: totrans-1579
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中的错误，在添加或减去`DateOffset`对象的数组时，要么引发（`np.array`，`pd.Index`），要么错误地广播（`pd.Series`）（[GH
    18849](https://github.com/pandas-dev/pandas/issues/18849)）'
- en: Bug in `Series.__add__()` adding Series with dtype `timedelta64[ns]` to a timezone-aware
    `DatetimeIndex` incorrectly dropped timezone information ([GH 13905](https://github.com/pandas-dev/pandas/issues/13905))
  id: totrans-1580
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.__add__()`中的错误，将dtype为`timedelta64[ns]`的Series添加到时区感知的`DatetimeIndex`中，不正确地丢弃了时区信息（[GH
    13905](https://github.com/pandas-dev/pandas/issues/13905)）'
- en: Adding a `Period` object to a `datetime` or `Timestamp` object will now correctly
    raise a `TypeError` ([GH 17983](https://github.com/pandas-dev/pandas/issues/17983))
  id: totrans-1581
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将`Period`对象添加到`datetime`或`Timestamp`对象中现在会正确引发`TypeError`（[GH 17983](https://github.com/pandas-dev/pandas/issues/17983)）
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") where comparison with an array of `Timestamp` objects would
    result in a `RecursionError` ([GH 15183](https://github.com/pandas-dev/pandas/issues/15183))
  id: totrans-1582
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")中的错误，与一组`Timestamp`对象比较会导致`RecursionError`（[GH
    15183](https://github.com/pandas-dev/pandas/issues/15183)）'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    floor-division where operating on a scalar `timedelta` raises an exception ([GH
    18846](https://github.com/pandas-dev/pandas/issues/18846))
  id: totrans-1583
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")地板除中的错误，对标量`timedelta`进行操作会引发异常（[GH
    18846](https://github.com/pandas-dev/pandas/issues/18846)）'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where the repr was not showing high-precision time values
    at the end of a day (e.g., 23:59:59.999999999) ([GH 19030](https://github.com/pandas-dev/pandas/issues/19030))
  id: totrans-1584
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")中的错误，repr未显示一天结束时的高精度时间值（例如，23:59:59.999999999）（[GH 19030](https://github.com/pandas-dev/pandas/issues/19030)）'
- en: Bug in `.astype()` to non-ns timedelta units would hold the incorrect dtype
    ([GH 19176](https://github.com/pandas-dev/pandas/issues/19176), [GH 19223](https://github.com/pandas-dev/pandas/issues/19223),
    [GH 12425](https://github.com/pandas-dev/pandas/issues/12425))
  id: totrans-1585
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对非 ns 时间增量单位的 `.astype()` 中存在的 Bug，将保持不正确的 dtype。([GH 19176](https://github.com/pandas-dev/pandas/issues/19176),
    [GH 19223](https://github.com/pandas-dev/pandas/issues/19223), [GH 12425](https://github.com/pandas-dev/pandas/issues/12425))
- en: Bug in subtracting [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") from `NaT` incorrectly returning `NaT` ([GH 19158](https://github.com/pandas-dev/pandas/issues/19158))
  id: totrans-1586
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 `NaT` 中减去 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    的 Bug，错误地返回 `NaT`。([GH 19158](https://github.com/pandas-dev/pandas/issues/19158))
- en: Bug in [`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate") which raises `TypeError` with a monotonic `PeriodIndex`
    ([GH 17717](https://github.com/pandas-dev/pandas/issues/17717))
  id: totrans-1587
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate") 中存在的 Bug，对于单调的 `PeriodIndex` 引发 `TypeError`。([GH 17717](https://github.com/pandas-dev/pandas/issues/17717))'
- en: Bug in [`pct_change()`](../reference/api/pandas.DataFrame.pct_change.html#pandas.DataFrame.pct_change
    "pandas.DataFrame.pct_change") using `periods` and `freq` returned different length
    outputs ([GH 7292](https://github.com/pandas-dev/pandas/issues/7292))
  id: totrans-1588
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `periods` 和 `freq` 的 [`pct_change()`](../reference/api/pandas.DataFrame.pct_change.html#pandas.DataFrame.pct_change
    "pandas.DataFrame.pct_change") 中存在的 Bug，返回不同长度的输出。([GH 7292](https://github.com/pandas-dev/pandas/issues/7292))
- en: Bug in comparison of [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") against `None` or `datetime.date` objects raising `TypeError`
    for `==` and `!=` comparisons instead of all-`False` and all-`True`, respectively
    ([GH 19301](https://github.com/pandas-dev/pandas/issues/19301))
  id: totrans-1589
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比较 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 与 `None` 或 `datetime.date` 对象的 Bug，使用 `==` 和 `!=` 进行比较时抛出
    `TypeError`，而不是全部为 `False` 和全部为 `True`。([GH 19301](https://github.com/pandas-dev/pandas/issues/19301))
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") and [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where a string representing a barely out-of-bounds timestamp
    would be incorrectly rounded down instead of raising `OutOfBoundsDatetime` ([GH
    19382](https://github.com/pandas-dev/pandas/issues/19382))
  id: totrans-1590
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    和 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 中存在的 Bug，代表略微超出范围的时间戳的字符串会被错误地向下舍入，而不是引发 `OutOfBoundsDatetime`。([GH
    19382](https://github.com/pandas-dev/pandas/issues/19382))'
- en: Bug in [`Timestamp.floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor") [`DatetimeIndex.floor()`](../reference/api/pandas.DatetimeIndex.floor.html#pandas.DatetimeIndex.floor
    "pandas.DatetimeIndex.floor") where time stamps far in the future and past were
    not rounded correctly ([GH 19206](https://github.com/pandas-dev/pandas/issues/19206))
  id: totrans-1591
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor") [`DatetimeIndex.floor()`](../reference/api/pandas.DatetimeIndex.floor.html#pandas.DatetimeIndex.floor
    "pandas.DatetimeIndex.floor") 中存在的 Bug，远在未来和过去的时间戳未正确四舍五入。([GH 19206](https://github.com/pandas-dev/pandas/issues/19206))'
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where passing an out-of-bounds datetime with `errors='coerce'`
    and `utc=True` would raise `OutOfBoundsDatetime` instead of parsing to `NaT` ([GH
    19612](https://github.com/pandas-dev/pandas/issues/19612))
  id: totrans-1592
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 中存在的 Bug，使用 `errors=''coerce''` 和 `utc=True` 传递超出范围的日期时间会引发
    `OutOfBoundsDatetime`，而不是解析为 `NaT`。([GH 19612](https://github.com/pandas-dev/pandas/issues/19612))'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") addition and subtraction where name of the returned object
    was not always set consistently. ([GH 19744](https://github.com/pandas-dev/pandas/issues/19744))
  id: totrans-1593
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 加减中存在的 Bug，返回对象的名称未始终一致设置。([GH 19744](https://github.com/pandas-dev/pandas/issues/19744))'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") addition and subtraction where operations with numpy
    arrays raised `TypeError` ([GH 19847](https://github.com/pandas-dev/pandas/issues/19847))
  id: totrans-1594
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 的加法和减法中存在错误，使用 numpy 数组进行操作会引发 `TypeError`（[GH 19847](https://github.com/pandas-dev/pandas/issues/19847)）'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where setting the `freq` attribute was not fully supported
    ([GH 20678](https://github.com/pandas-dev/pandas/issues/20678))
  id: totrans-1595
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 中的错误，在设置 `freq` 属性时不完全支持（[GH 20678](https://github.com/pandas-dev/pandas/issues/20678)）'
- en: Timedelta
  id: totrans-1596
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Timedelta
- en: Bug in `Timedelta.__mul__()` where multiplying by `NaT` returned `NaT` instead
    of raising a `TypeError` ([GH 19819](https://github.com/pandas-dev/pandas/issues/19819))
  id: totrans-1597
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timedelta.__mul__()` 中的错误，将 `NaT` 乘以时返回 `NaT` 而不是引发 `TypeError`（[GH 19819](https://github.com/pandas-dev/pandas/issues/19819)）'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    with `dtype='timedelta64[ns]'` where addition or subtraction of `TimedeltaIndex`
    had results cast to `dtype='int64'` ([GH 17250](https://github.com/pandas-dev/pandas/issues/17250))
  id: totrans-1598
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    中存在错误，使用 `dtype=''timedelta64[ns]''` 时，对 `TimedeltaIndex` 的加法或减法结果会被转换为 `dtype=''int64''`（[GH
    17250](https://github.com/pandas-dev/pandas/issues/17250)）'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    with `dtype='timedelta64[ns]'` where addition or subtraction of `TimedeltaIndex`
    could return a `Series` with an incorrect name ([GH 19043](https://github.com/pandas-dev/pandas/issues/19043))
  id: totrans-1599
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    中存在错误，使用 `dtype=''timedelta64[ns]''` 时，对 `TimedeltaIndex` 的加法或减法可能会返回具有不正确名称的
    `Series`（[GH 19043](https://github.com/pandas-dev/pandas/issues/19043)）'
- en: Bug in `Timedelta.__floordiv__()` and `Timedelta.__rfloordiv__()` dividing by
    many incompatible numpy objects was incorrectly allowed ([GH 18846](https://github.com/pandas-dev/pandas/issues/18846))
  id: totrans-1600
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timedelta.__floordiv__()` 和 `Timedelta.__rfloordiv__()` 中的错误，将许多不兼容的 numpy
    对象进行除法时会错误地允许（[GH 18846](https://github.com/pandas-dev/pandas/issues/18846)）'
- en: Bug where dividing a scalar timedelta-like object with [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") performed the reciprocal operation ([GH 19125](https://github.com/pandas-dev/pandas/issues/19125))
  id: totrans-1601
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 存在错误，在将标量时间增量对象除以 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 时执行倒数操作（[GH 19125](https://github.com/pandas-dev/pandas/issues/19125)）
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where division by a `Series` would return a `TimedeltaIndex`
    instead of a `Series` ([GH 19042](https://github.com/pandas-dev/pandas/issues/19042))
  id: totrans-1602
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 中存在错误，在除以 `Series` 时会返回 `TimedeltaIndex` 而不是 `Series`（[GH
    19042](https://github.com/pandas-dev/pandas/issues/19042)）'
- en: Bug in `Timedelta.__add__()`, `Timedelta.__sub__()` where adding or subtracting
    a `np.timedelta64` object would return another `np.timedelta64` instead of a `Timedelta`
    ([GH 19738](https://github.com/pandas-dev/pandas/issues/19738))
  id: totrans-1603
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timedelta.__add__()` 和 `Timedelta.__sub__()` 中的错误，在添加或减去 `np.timedelta64`
    对象时返回另一个 `np.timedelta64` 而不是 `Timedelta`（[GH 19738](https://github.com/pandas-dev/pandas/issues/19738)）'
- en: Bug in `Timedelta.__floordiv__()`, `Timedelta.__rfloordiv__()` where operating
    with a `Tick` object would raise a `TypeError` instead of returning a numeric
    value ([GH 19738](https://github.com/pandas-dev/pandas/issues/19738))
  id: totrans-1604
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timedelta.__floordiv__()`、`Timedelta.__rfloordiv__()` 中的错误，在与 `Tick` 对象操作时会引发
    `TypeError` 而不是返回数值（[GH 19738](https://github.com/pandas-dev/pandas/issues/19738)）'
- en: Bug in [`Period.asfreq()`](../reference/api/pandas.Period.asfreq.html#pandas.Period.asfreq
    "pandas.Period.asfreq") where periods near `datetime(1, 1, 1)` could be converted
    incorrectly ([GH 19643](https://github.com/pandas-dev/pandas/issues/19643), [GH
    19834](https://github.com/pandas-dev/pandas/issues/19834))
  id: totrans-1605
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Period.asfreq()`](../reference/api/pandas.Period.asfreq.html#pandas.Period.asfreq
    "pandas.Period.asfreq") 中的错误，接近 `datetime(1, 1, 1)` 的周期可能会被错误地转换（[GH 19643](https://github.com/pandas-dev/pandas/issues/19643),
    [GH 19834](https://github.com/pandas-dev/pandas/issues/19834)）'
- en: Bug in [`Timedelta.total_seconds()`](../reference/api/pandas.Timedelta.total_seconds.html#pandas.Timedelta.total_seconds
    "pandas.Timedelta.total_seconds") causing precision errors, for example `Timedelta('30S').total_seconds()==30.000000000000004`
    ([GH 19458](https://github.com/pandas-dev/pandas/issues/19458))
  id: totrans-1606
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timedelta.total_seconds()`](../reference/api/pandas.Timedelta.total_seconds.html#pandas.Timedelta.total_seconds
    "pandas.Timedelta.total_seconds")中的错误导致精度错误，例如`Timedelta(''30S'').total_seconds()==30.000000000000004`
    ([GH 19458](https://github.com/pandas-dev/pandas/issues/19458))'
- en: Bug in `Timedelta.__rmod__()` where operating with a `numpy.timedelta64` returned
    a `timedelta64` object instead of a `Timedelta` ([GH 19820](https://github.com/pandas-dev/pandas/issues/19820))
  id: totrans-1607
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timedelta.__rmod__()`中的错误，使用`numpy.timedelta64`进行操作返回了一个`timedelta64`对象而不是`Timedelta`对象
    ([GH 19820](https://github.com/pandas-dev/pandas/issues/19820))'
- en: Multiplication of [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") by `TimedeltaIndex` will now raise `TypeError` instead
    of raising `ValueError` in cases of length mismatch ([GH 19333](https://github.com/pandas-dev/pandas/issues/19333))
  id: totrans-1608
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")乘以`TimedeltaIndex`现在会引发`TypeError`，而不是在长度不匹配的情况下引发`ValueError`
    ([GH 19333](https://github.com/pandas-dev/pandas/issues/19333))'
- en: Bug in indexing a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") with a `np.timedelta64` object which was raising a `TypeError`
    ([GH 20393](https://github.com/pandas-dev/pandas/issues/20393))
  id: totrans-1609
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`np.timedelta64`对象索引[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")时引发`TypeError`的错误 ([GH 20393](https://github.com/pandas-dev/pandas/issues/20393))
- en: Timezones
  id: totrans-1610
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时区
- en: Bug in creating a `Series` from an array that contains both tz-naive and tz-aware
    values will result in a `Series` whose dtype is tz-aware instead of object ([GH
    16406](https://github.com/pandas-dev/pandas/issues/16406))
  id: totrans-1611
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从包含时区无关和时区感知值的数组创建`Series`会导致`Series`的dtype为时区感知而不是对象的错误 ([GH 16406](https://github.com/pandas-dev/pandas/issues/16406))
- en: Bug in comparison of timezone-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") against `NaT` incorrectly raising `TypeError` ([GH 19276](https://github.com/pandas-dev/pandas/issues/19276))
  id: totrans-1612
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 时区感知的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")与`NaT`比较的错误，错误地引发了`TypeError` ([GH 19276](https://github.com/pandas-dev/pandas/issues/19276))
- en: Bug in `DatetimeIndex.astype()` when converting between timezone aware dtypes,
    and converting from timezone aware to naive ([GH 18951](https://github.com/pandas-dev/pandas/issues/18951))
  id: totrans-1613
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在转换时区感知dtype之间以及从时区感知到时区无关时的`DatetimeIndex.astype()`中的错误 ([GH 18951](https://github.com/pandas-dev/pandas/issues/18951))
- en: Bug in comparing [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), which failed to raise `TypeError` when attempting to
    compare timezone-aware and timezone-naive datetimelike objects ([GH 18162](https://github.com/pandas-dev/pandas/issues/18162))
  id: totrans-1614
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比较[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")时，尝试比较时区感知和时区无关日期时间对象时未能引发`TypeError`的错误 ([GH 18162](https://github.com/pandas-dev/pandas/issues/18162))
- en: Bug in localization of a naive, datetime string in a `Series` constructor with
    a `datetime64[ns, tz]` dtype ([GH 174151](https://github.com/pandas-dev/pandas/issues/174151))
  id: totrans-1615
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Series`构造函数中将一个时区无关的日期时间字符串本地化为`datetime64[ns, tz]` dtype时出现的错误 ([GH 174151](https://github.com/pandas-dev/pandas/issues/174151))
- en: '[`Timestamp.replace()`](../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace
    "pandas.Timestamp.replace") will now handle Daylight Savings transitions gracefully
    ([GH 18319](https://github.com/pandas-dev/pandas/issues/18319))'
  id: totrans-1616
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.replace()`](../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace
    "pandas.Timestamp.replace")现在会优雅地处理夏令时转换 ([GH 18319](https://github.com/pandas-dev/pandas/issues/18319))'
- en: Bug in tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where addition/subtraction with a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") or array with `dtype='timedelta64[ns]'` was incorrect
    ([GH 17558](https://github.com/pandas-dev/pandas/issues/17558))
  id: totrans-1617
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 时区感知的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")在与[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")或`dtype='timedelta64[ns]'`数组进行加减时出现错误 ([GH 17558](https://github.com/pandas-dev/pandas/issues/17558))
- en: Bug in `DatetimeIndex.insert()` where inserting `NaT` into a timezone-aware
    index incorrectly raised ([GH 16357](https://github.com/pandas-dev/pandas/issues/16357))
  id: totrans-1618
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将`NaT`插入到时区感知索引中时，`DatetimeIndex.insert()`中的错误错误地引发了错误 ([GH 16357](https://github.com/pandas-dev/pandas/issues/16357))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor, where tz-aware Datetimeindex and a given column
    name will result in an empty `DataFrame` ([GH 19157](https://github.com/pandas-dev/pandas/issues/19157))
  id: totrans-1619
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    构造函数中的错误，其中时区感知的 Datetimeindex 和给定的列名将导致空的 `DataFrame`（[GH 19157](https://github.com/pandas-dev/pandas/issues/19157))
- en: Bug in [`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize") where localizing a timestamp near the minimum
    or maximum valid values could overflow and return a timestamp with an incorrect
    nanosecond value ([GH 12677](https://github.com/pandas-dev/pandas/issues/12677))
  id: totrans-1620
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize") 中的错误，该错误在将时间戳本地化为接近最小或最大有效值时可能会溢出并返回具有不正确纳秒值的时间戳（[GH
    12677](https://github.com/pandas-dev/pandas/issues/12677))
- en: Bug when iterating over [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") that was localized with fixed timezone offset that rounded
    nanosecond precision to microseconds ([GH 19603](https://github.com/pandas-dev/pandas/issues/19603))
  id: totrans-1621
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了对 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 进行迭代时的错误，该错误在具有固定时区偏移并将纳秒精度四舍五入为微秒的情况下出现（[GH 19603](https://github.com/pandas-dev/pandas/issues/19603))
- en: Bug in [`DataFrame.diff()`](../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff
    "pandas.DataFrame.diff") that raised an `IndexError` with tz-aware values ([GH
    18578](https://github.com/pandas-dev/pandas/issues/18578))
  id: totrans-1622
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`DataFrame.diff()`](../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff
    "pandas.DataFrame.diff") 中的错误，该错误在具有时区感知值时引发了 `IndexError`（[GH 18578](https://github.com/pandas-dev/pandas/issues/18578))
- en: Bug in [`melt()`](../reference/api/pandas.melt.html#pandas.melt "pandas.melt")
    that converted tz-aware dtypes to tz-naive ([GH 15785](https://github.com/pandas-dev/pandas/issues/15785))
  id: totrans-1623
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`melt()`](../reference/api/pandas.melt.html#pandas.melt "pandas.melt")
    中的错误，该错误将具有时区感知的数据类型转换为时区无关的类型（[GH 15785](https://github.com/pandas-dev/pandas/issues/15785))
- en: Bug in `Dataframe.count()` that raised an `ValueError`, if `Dataframe.dropna()`
    was called for a single column with timezone-aware values. ([GH 13407](https://github.com/pandas-dev/pandas/issues/13407))
  id: totrans-1624
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 `Dataframe.count()` 中的错误，如果对具有时区感知值的单个列调用了 `Dataframe.dropna()`，则会引发 `ValueError`。（[GH
    13407](https://github.com/pandas-dev/pandas/issues/13407))
- en: Offsets
  id: totrans-1625
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 偏移
- en: Bug in `WeekOfMonth` and `Week` where addition and subtraction did not roll
    correctly ([GH 18510](https://github.com/pandas-dev/pandas/issues/18510), [GH
    18672](https://github.com/pandas-dev/pandas/issues/18672), [GH 18864](https://github.com/pandas-dev/pandas/issues/18864))
  id: totrans-1626
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 `WeekOfMonth` 和 `Week` 中的错误，其中加法和减法未正确滚动（[GH 18510](https://github.com/pandas-dev/pandas/issues/18510),
    [GH 18672](https://github.com/pandas-dev/pandas/issues/18672), [GH 18864](https://github.com/pandas-dev/pandas/issues/18864))
- en: Bug in `WeekOfMonth` and `LastWeekOfMonth` where default keyword arguments for
    constructor raised `ValueError` ([GH 19142](https://github.com/pandas-dev/pandas/issues/19142))
  id: totrans-1627
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 `WeekOfMonth` 和 `LastWeekOfMonth` 中的错误，构造函数的默认关键字参数引发了 `ValueError`（[GH
    19142](https://github.com/pandas-dev/pandas/issues/19142))
- en: Bug in `FY5253Quarter`, `LastWeekOfMonth` where rollback and rollforward behavior
    was inconsistent with addition and subtraction behavior ([GH 18854](https://github.com/pandas-dev/pandas/issues/18854))
  id: totrans-1628
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 `FY5253Quarter`、`LastWeekOfMonth` 中的错误，其中回滚和前滚行为与加法和减法行为不一致（[GH 18854](https://github.com/pandas-dev/pandas/issues/18854))
- en: Bug in `FY5253` where `datetime` addition and subtraction incremented incorrectly
    for dates on the year-end but not normalized to midnight ([GH 18854](https://github.com/pandas-dev/pandas/issues/18854))
  id: totrans-1629
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 `FY5253` 中的错误，其中 `datetime` 的加法和减法在年末日期上错误地增加，但未规范化为午夜（[GH 18854](https://github.com/pandas-dev/pandas/issues/18854))
- en: Bug in `FY5253` where date offsets could incorrectly raise an `AssertionError`
    in arithmetic operations ([GH 14774](https://github.com/pandas-dev/pandas/issues/14774))
  id: totrans-1630
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 `FY5253` 中的错误，其中日期偏移在算术操作中可能错误地引发 `AssertionError`（[GH 14774](https://github.com/pandas-dev/pandas/issues/14774))
- en: Numeric
  id: totrans-1631
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数值
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    constructor with an int or float list where specifying `dtype=str`, `dtype='str'`
    or `dtype='U'` failed to convert the data elements to strings ([GH 16605](https://github.com/pandas-dev/pandas/issues/16605))
  id: totrans-1632
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了具有整数或浮点数列表的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 构造函数中的错误，其中指定 `dtype=str`、`dtype='str'` 或 `dtype='U'` 未能将数据元素转换为字符串（[GH
    16605](https://github.com/pandas-dev/pandas/issues/16605))
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    multiplication and division methods where operating with a `Series` would return
    an `Index` object instead of a `Series` object ([GH 19042](https://github.com/pandas-dev/pandas/issues/19042))
  id: totrans-1633
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `Series` 进行运算时，[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 的乘法和除法方法存在错误，返回的是 `Index` 对象而不是 `Series` 对象（[GH 19042](https://github.com/pandas-dev/pandas/issues/19042)）
- en: Bug in the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor in which data containing very large positive or
    very large negative numbers was causing `OverflowError` ([GH 18584](https://github.com/pandas-dev/pandas/issues/18584))
  id: totrans-1634
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    构造函数中的错误，当数据包含非常大的正数或非常大的负数时，会引发 `OverflowError`（[GH 18584](https://github.com/pandas-dev/pandas/issues/18584)）'
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    constructor with `dtype='uint64'` where int-like floats were not coerced to `UInt64Index`
    ([GH 18400](https://github.com/pandas-dev/pandas/issues/18400))
  id: totrans-1635
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `dtype='uint64'` 的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 构造函数中，整数型浮点数未被强制转换为 `UInt64Index` 存在错误（[GH 18400](https://github.com/pandas-dev/pandas/issues/18400)）
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") flex arithmetic (e.g. `df.add(other, fill_value=foo)`) with
    a `fill_value` other than `None` failed to raise `NotImplementedError` in corner
    cases where either the frame or `other` has length zero ([GH 19522](https://github.com/pandas-dev/pandas/issues/19522))
  id: totrans-1636
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    的灵活算术（例如 `df.add(other, fill_value=foo)`）中，当 `fill_value` 不是 `None` 时，在某些边界情况下未能引发
    `NotImplementedError`，其中之一是当框架或 `other` 的长度为零时（[GH 19522](https://github.com/pandas-dev/pandas/issues/19522)）'
- en: Multiplication and division of numeric-dtyped [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") objects with timedelta-like scalars returns `TimedeltaIndex` instead
    of raising `TypeError` ([GH 19333](https://github.com/pandas-dev/pandas/issues/19333))
  id: totrans-1637
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用时间增量标量对数值类型的 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    对象进行乘法和除法运算时返回 `TimedeltaIndex` 而不是引发 `TypeError`（[GH 19333](https://github.com/pandas-dev/pandas/issues/19333)）
- en: Bug where `NaN` was returned instead of 0 by [`Series.pct_change()`](../reference/api/pandas.Series.pct_change.html#pandas.Series.pct_change
    "pandas.Series.pct_change") and [`DataFrame.pct_change()`](../reference/api/pandas.DataFrame.pct_change.html#pandas.DataFrame.pct_change
    "pandas.DataFrame.pct_change") when `fill_method` is not `None` ([GH 19873](https://github.com/pandas-dev/pandas/issues/19873))
  id: totrans-1638
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `fill_method` 不是 `None` 时，[`Series.pct_change()`](../reference/api/pandas.Series.pct_change.html#pandas.Series.pct_change
    "pandas.Series.pct_change") 和 [`DataFrame.pct_change()`](../reference/api/pandas.DataFrame.pct_change.html#pandas.DataFrame.pct_change
    "pandas.DataFrame.pct_change") 返回 `NaN` 而不是 0 的错误（[GH 19873](https://github.com/pandas-dev/pandas/issues/19873)）
- en: Strings
  id: totrans-1639
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 字符串
- en: Bug in [`Series.str.get()`](../reference/api/pandas.Series.str.get.html#pandas.Series.str.get
    "pandas.Series.str.get") with a dictionary in the values and the index not in
    the keys, raising `KeyError` ([GH 20671](https://github.com/pandas-dev/pandas/issues/20671))
  id: totrans-1640
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Series.str.get()`](../reference/api/pandas.Series.str.get.html#pandas.Series.str.get
    "pandas.Series.str.get") 中，当字典中的值不在键中时，引发 `KeyError`（[GH 20671](https://github.com/pandas-dev/pandas/issues/20671)）
- en: Indexing
  id: totrans-1641
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 索引
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    construction from list of mixed type tuples ([GH 18505](https://github.com/pandas-dev/pandas/issues/18505))
  id: totrans-1642
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从混合类型元组列表构造 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    存在错误（[GH 18505](https://github.com/pandas-dev/pandas/issues/18505)）
- en: Bug in [`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop") when passing a list of both tuples and non-tuples ([GH 18304](https://github.com/pandas-dev/pandas/issues/18304))
  id: totrans-1643
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在传递既有元组又有非元组列表时，[`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop") 存在错误（[GH 18304](https://github.com/pandas-dev/pandas/issues/18304)）
- en: Bug in [`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop"), `Panel.drop()`, [`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop"), [`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop") where no `KeyError` is raised when dropping a non-existent
    element from an axis that contains duplicates ([GH 19186](https://github.com/pandas-dev/pandas/issues/19186))
  id: totrans-1644
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop")，`Panel.drop()`，[`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop")，[`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop")中存在问题，当从包含重复元素的轴中删除不存在的元素时，不会引发`KeyError`（[GH 19186](https://github.com/pandas-dev/pandas/issues/19186)）
- en: Bug in indexing a datetimelike `Index` that raised `ValueError` instead of `IndexError`
    ([GH 18386](https://github.com/pandas-dev/pandas/issues/18386)).
  id: totrans-1645
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在索引日期时间样式的`Index`中出现的错误，引发了`ValueError`而不是`IndexError`（[GH 18386](https://github.com/pandas-dev/pandas/issues/18386)）。
- en: '[`Index.to_series()`](../reference/api/pandas.Index.to_series.html#pandas.Index.to_series
    "pandas.Index.to_series") now accepts `index` and `name` kwargs ([GH 18699](https://github.com/pandas-dev/pandas/issues/18699))'
  id: totrans-1646
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.to_series()`](../reference/api/pandas.Index.to_series.html#pandas.Index.to_series
    "pandas.Index.to_series") 现在接受 `index` 和 `name` 参数 ([GH 18699](https://github.com/pandas-dev/pandas/issues/18699))'
- en: '[`DatetimeIndex.to_series()`](../reference/api/pandas.DatetimeIndex.to_series.html#pandas.DatetimeIndex.to_series
    "pandas.DatetimeIndex.to_series") now accepts `index` and `name` kwargs ([GH 18699](https://github.com/pandas-dev/pandas/issues/18699))'
  id: totrans-1647
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex.to_series()`](../reference/api/pandas.DatetimeIndex.to_series.html#pandas.DatetimeIndex.to_series
    "pandas.DatetimeIndex.to_series") 现在接受 `index` 和 `name` 参数 ([GH 18699](https://github.com/pandas-dev/pandas/issues/18699))'
- en: Bug in indexing non-scalar value from `Series` having non-unique `Index` will
    return value flattened ([GH 17610](https://github.com/pandas-dev/pandas/issues/17610))
  id: totrans-1648
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从具有非唯一 `Index` 的 `Series` 中索引非标量值时出现问题，将返回展平的值 ([GH 17610](https://github.com/pandas-dev/pandas/issues/17610))
- en: Bug in indexing with iterator containing only missing keys, which raised no
    error ([GH 20748](https://github.com/pandas-dev/pandas/issues/20748))
  id: totrans-1649
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在包含仅丢失键的迭代器的索引中存在问题，未引发错误（[GH 20748](https://github.com/pandas-dev/pandas/issues/20748)）
- en: Fixed inconsistency in `.ix` between list and scalar keys when the index has
    integer dtype and does not include the desired keys ([GH 20753](https://github.com/pandas-dev/pandas/issues/20753))
  id: totrans-1650
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `.ix` 中存在不一致性，当索引具有整数 dtype 并且不包含所需键时，列表和标量键之间存在不一致性 ([GH 20753](https://github.com/pandas-dev/pandas/issues/20753))
- en: Bug in `__setitem__` when indexing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a 2-d boolean ndarray ([GH 18582](https://github.com/pandas-dev/pandas/issues/18582))
  id: totrans-1651
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 2-D 布尔 ndarray 对 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 进行索引时出现问题 ([GH 18582](https://github.com/pandas-dev/pandas/issues/18582))
- en: Bug in `str.extractall` when there were no matches empty [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") was returned instead of appropriate [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 19034](https://github.com/pandas-dev/pandas/issues/19034))
  id: totrans-1652
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `str.extractall` 中存在问题，当没有匹配时返回空的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 而不是适当的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 19034](https://github.com/pandas-dev/pandas/issues/19034))
- en: Bug in [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") where empty and purely NA data was constructed inconsistently
    depending on the construction method ([GH 18421](https://github.com/pandas-dev/pandas/issues/18421))
  id: totrans-1653
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 中，根据构造方法的不同一致性地构造空和纯 NA 数据 ([GH 18421](https://github.com/pandas-dev/pandas/issues/18421))
- en: Bug in `IntervalIndex.symmetric_difference()` where the symmetric difference
    with a non-`IntervalIndex` did not raise ([GH 18475](https://github.com/pandas-dev/pandas/issues/18475))
  id: totrans-1654
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`IntervalIndex.symmetric_difference()`中出现的错误，与非`IntervalIndex`的对称差异未引发（[GH
    18475](https://github.com/pandas-dev/pandas/issues/18475)）
- en: Bug in [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") where set operations that returned an empty `IntervalIndex`
    had the wrong dtype ([GH 19101](https://github.com/pandas-dev/pandas/issues/19101))
  id: totrans-1655
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 中，返回空`IntervalIndex`的集合操作具有错误的dtype ([GH 19101](https://github.com/pandas-dev/pandas/issues/19101))
- en: Bug in [`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") where no `KeyError` is raised when passing
    in columns that don’t exist on the `DataFrame` ([GH 19726](https://github.com/pandas-dev/pandas/issues/19726))
  id: totrans-1656
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") 在[`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates")中的一个错误，在传入不存在于`DataFrame`上的列时未引发`KeyError`
    ([GH 19726](https://github.com/pandas-dev/pandas/issues/19726))
- en: Bug in `Index` subclasses constructors that ignore unexpected keyword arguments
    ([GH 19348](https://github.com/pandas-dev/pandas/issues/19348))
  id: totrans-1657
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `Index` subclasses constructors that ignore unexpected keyword arguments
    在忽略意外关键字参数的`Index`子类构造函数中的一个错误 ([GH 19348](https://github.com/pandas-dev/pandas/issues/19348))
- en: Bug in [`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference") when taking difference of an `Index` with itself ([GH
    20040](https://github.com/pandas-dev/pandas/issues/20040))
  id: totrans-1658
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference") 在[`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference")中的一个错误，当取一个`Index`与自身的差异时 ([GH 20040](https://github.com/pandas-dev/pandas/issues/20040))
- en: Bug in [`DataFrame.first_valid_index()`](../reference/api/pandas.DataFrame.first_valid_index.html#pandas.DataFrame.first_valid_index
    "pandas.DataFrame.first_valid_index") and [`DataFrame.last_valid_index()`](../reference/api/pandas.DataFrame.last_valid_index.html#pandas.DataFrame.last_valid_index
    "pandas.DataFrame.last_valid_index") in presence of entire rows of NaNs in the
    middle of values ([GH 20499](https://github.com/pandas-dev/pandas/issues/20499)).
  id: totrans-1659
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.first_valid_index()`](../reference/api/pandas.DataFrame.first_valid_index.html#pandas.DataFrame.first_valid_index
    "pandas.DataFrame.first_valid_index") 和 [`DataFrame.last_valid_index()`](../reference/api/pandas.DataFrame.last_valid_index.html#pandas.DataFrame.last_valid_index
    "pandas.DataFrame.last_valid_index") 在中间值中存在整行NaN时的错误 ([GH 20499](https://github.com/pandas-dev/pandas/issues/20499)).
- en: Bug in [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") where some indexing operations were not supported for
    overlapping or non-monotonic `uint64` data ([GH 20636](https://github.com/pandas-dev/pandas/issues/20636))
  id: totrans-1660
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 在一些索引操作中不支持重叠或非单调`uint64`数据时的错误 ([GH 20636](https://github.com/pandas-dev/pandas/issues/20636))
- en: Bug in `Series.is_unique` where extraneous output in stderr is shown if Series
    contains objects with `__ne__` defined ([GH 20661](https://github.com/pandas-dev/pandas/issues/20661))
  id: totrans-1661
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `Series.is_unique` 在`Series.is_unique`中的一个错误，如果Series包含具有定义了`__ne__`的对象，则显示多余的stderr输出
    ([GH 20661](https://github.com/pandas-dev/pandas/issues/20661))
- en: Bug in `.loc` assignment with a single-element list-like incorrectly assigns
    as a list ([GH 19474](https://github.com/pandas-dev/pandas/issues/19474))
  id: totrans-1662
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在单元素类似列表的`.loc`赋值中不正确地分配为列表的错误 ([GH 19474](https://github.com/pandas-dev/pandas/issues/19474))
- en: Bug in partial string indexing on a `Series/DataFrame` with a monotonic decreasing
    `DatetimeIndex` ([GH 19362](https://github.com/pandas-dev/pandas/issues/19362))
  id: totrans-1663
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in partial string indexing on a `Series/DataFrame` with a monotonic decreasing
    `DatetimeIndex` 在具有单调递减的`DatetimeIndex`的`Series/DataFrame`上的部分字符串索引中的错误 ([GH 19362](https://github.com/pandas-dev/pandas/issues/19362))
- en: Bug in performing in-place operations on a `DataFrame` with a duplicate `Index`
    ([GH 17105](https://github.com/pandas-dev/pandas/issues/17105))
  id: totrans-1664
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有重复`Index`的`DataFrame`上执行就地操作的错误 ([GH 17105](https://github.com/pandas-dev/pandas/issues/17105))
- en: Bug in [`IntervalIndex.get_loc()`](../reference/api/pandas.IntervalIndex.get_loc.html#pandas.IntervalIndex.get_loc
    "pandas.IntervalIndex.get_loc") and [`IntervalIndex.get_indexer()`](../reference/api/pandas.IntervalIndex.get_indexer.html#pandas.IntervalIndex.get_indexer
    "pandas.IntervalIndex.get_indexer") when used with an [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") containing a single interval ([GH 17284](https://github.com/pandas-dev/pandas/issues/17284),
    [GH 20921](https://github.com/pandas-dev/pandas/issues/20921))
  id: totrans-1665
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`IntervalIndex.get_loc()`](../reference/api/pandas.IntervalIndex.get_loc.html#pandas.IntervalIndex.get_loc
    "pandas.IntervalIndex.get_loc") 和 [`IntervalIndex.get_indexer()`](../reference/api/pandas.IntervalIndex.get_indexer.html#pandas.IntervalIndex.get_indexer
    "pandas.IntervalIndex.get_indexer") 在与包含单个区间的[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")一起使用时的错误 ([GH 17284](https://github.com/pandas-dev/pandas/issues/17284),
    [GH 20921](https://github.com/pandas-dev/pandas/issues/20921))
- en: Bug in `.loc` with a `uint64` indexer ([GH 20722](https://github.com/pandas-dev/pandas/issues/20722))
  id: totrans-1666
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有`uint64`索引器的`.loc`中的错误 ([GH 20722](https://github.com/pandas-dev/pandas/issues/20722))
- en: MultiIndex
  id: totrans-1667
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: MultiIndex
- en: Bug in `MultiIndex.__contains__()` where non-tuple keys would return `True`
    even if they had been dropped ([GH 19027](https://github.com/pandas-dev/pandas/issues/19027))
  id: totrans-1668
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `MultiIndex.__contains__()` 在`MultiIndex.__contains__()`中的一个错误，非元组键返回`True`，即使它们已经被删除
    ([GH 19027](https://github.com/pandas-dev/pandas/issues/19027))
- en: Bug in `MultiIndex.set_labels()` which would cause casting (and potentially
    clipping) of the new labels if the `level` argument is not 0 or a list like [0,
    1, … ] ([GH 19057](https://github.com/pandas-dev/pandas/issues/19057))
  id: totrans-1669
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.set_labels()`中的错误，如果`level`参数不是0或类似于[0, 1, … ]的列表，则会导致新标签的转换（和可能的剪裁）（[GH
    19057](https://github.com/pandas-dev/pandas/issues/19057)）'
- en: Bug in [`MultiIndex.get_level_values()`](../reference/api/pandas.MultiIndex.get_level_values.html#pandas.MultiIndex.get_level_values
    "pandas.MultiIndex.get_level_values") which would return an invalid index on level
    of ints with missing values ([GH 17924](https://github.com/pandas-dev/pandas/issues/17924))
  id: totrans-1670
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.get_level_values()`](../reference/api/pandas.MultiIndex.get_level_values.html#pandas.MultiIndex.get_level_values
    "pandas.MultiIndex.get_level_values")中的错误，在具有缺失值的整数级别上返回无效索引（[GH 17924](https://github.com/pandas-dev/pandas/issues/17924)）'
- en: Bug in `MultiIndex.unique()` when called on empty [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 20568](https://github.com/pandas-dev/pandas/issues/20568))
  id: totrans-1671
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 调用空的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")上的`MultiIndex.unique()`时的错误（[GH 20568](https://github.com/pandas-dev/pandas/issues/20568)）
- en: Bug in `MultiIndex.unique()` which would not preserve level names ([GH 20570](https://github.com/pandas-dev/pandas/issues/20570))
  id: totrans-1672
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.unique()`中的错误，不会保留级别名称（[GH 20570](https://github.com/pandas-dev/pandas/issues/20570)）'
- en: Bug in [`MultiIndex.remove_unused_levels()`](../reference/api/pandas.MultiIndex.remove_unused_levels.html#pandas.MultiIndex.remove_unused_levels
    "pandas.MultiIndex.remove_unused_levels") which would fill nan values ([GH 18417](https://github.com/pandas-dev/pandas/issues/18417))
  id: totrans-1673
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.remove_unused_levels()`](../reference/api/pandas.MultiIndex.remove_unused_levels.html#pandas.MultiIndex.remove_unused_levels
    "pandas.MultiIndex.remove_unused_levels")中的错误，会填充nan值（[GH 18417](https://github.com/pandas-dev/pandas/issues/18417)）'
- en: Bug in [`MultiIndex.from_tuples()`](../reference/api/pandas.MultiIndex.from_tuples.html#pandas.MultiIndex.from_tuples
    "pandas.MultiIndex.from_tuples") which would fail to take zipped tuples in python3
    ([GH 18434](https://github.com/pandas-dev/pandas/issues/18434))
  id: totrans-1674
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.from_tuples()`](../reference/api/pandas.MultiIndex.from_tuples.html#pandas.MultiIndex.from_tuples
    "pandas.MultiIndex.from_tuples")中的错误，将在python3中无法接受压缩的元组（[GH 18434](https://github.com/pandas-dev/pandas/issues/18434)）'
- en: Bug in [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") which would fail to automatically cast values between
    float and int ([GH 18818](https://github.com/pandas-dev/pandas/issues/18818),
    [GH 15994](https://github.com/pandas-dev/pandas/issues/15994))
  id: totrans-1675
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc")中的错误，无法自动转换浮点值和整数值之间的值（[GH 18818](https://github.com/pandas-dev/pandas/issues/18818),
    [GH 15994](https://github.com/pandas-dev/pandas/issues/15994)）'
- en: Bug in [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") which would cast boolean to integer labels ([GH 19086](https://github.com/pandas-dev/pandas/issues/19086))
  id: totrans-1676
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc")中的错误，会将布尔值转换为整数标签（[GH 19086](https://github.com/pandas-dev/pandas/issues/19086)）'
- en: Bug in [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") which would fail to locate keys containing `NaN`
    ([GH 18485](https://github.com/pandas-dev/pandas/issues/18485))
  id: totrans-1677
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc")中的错误，无法定位包含`NaN`的键（[GH 18485](https://github.com/pandas-dev/pandas/issues/18485)）'
- en: Bug in [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") in large [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex"), would fail when levels had different dtypes ([GH 18520](https://github.com/pandas-dev/pandas/issues/18520))
  id: totrans-1678
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在大型[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")中，[`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc")中的错误，当级别具有不同的dtype时将失败（[GH 18520](https://github.com/pandas-dev/pandas/issues/18520)）
- en: Bug in indexing where nested indexers having only numpy arrays are handled incorrectly
    ([GH 19686](https://github.com/pandas-dev/pandas/issues/19686))
  id: totrans-1679
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 处理嵌套索引器时的索引错误，只有numpy数组时处理不正确（[GH 19686](https://github.com/pandas-dev/pandas/issues/19686)）
- en: IO
  id: totrans-1680
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: IO
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    now rewinds seekable IO objects after parse failure, before attempting to parse
    with a new parser. If a parser errors and the object is non-seekable, an informative
    error is raised suggesting the use of a different parser ([GH 17975](https://github.com/pandas-dev/pandas/issues/17975))'
  id: totrans-1681
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")现在在解析失败后会将可寻址IO对象倒带，然后尝试用新的解析器解析。如果解析器出错且对象不可寻址，则会引发一个提供使用不同解析器的信息性错误（[GH
    17975](https://github.com/pandas-dev/pandas/issues/17975)）'
- en: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") now has an option to add an id to the leading `<table>`
    tag ([GH 8496](https://github.com/pandas-dev/pandas/issues/8496))'
  id: totrans-1682
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html")现在有一个选项可以在前导`<table>`标签上添加一个id（[GH 8496](https://github.com/pandas-dev/pandas/issues/8496)）'
- en: Bug in `read_msgpack()` with a non existent file is passed in Python 2 ([GH
    15296](https://github.com/pandas-dev/pandas/issues/15296))
  id: totrans-1683
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Python 2中传递一个不存在的文件给`read_msgpack()`会导致bug（[GH 15296](https://github.com/pandas-dev/pandas/issues/15296)）
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") where a `MultiIndex` with duplicate columns was not being mangled
    appropriately ([GH 18062](https://github.com/pandas-dev/pandas/issues/18062))
  id: totrans-1684
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")中存在一个bug，具有重复列的`MultiIndex`未被适当处理（[GH
    18062](https://github.com/pandas-dev/pandas/issues/18062)）
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") where missing values were not being handled properly when `keep_default_na=False`
    with dictionary `na_values` ([GH 19227](https://github.com/pandas-dev/pandas/issues/19227))
  id: totrans-1685
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")中存在一个bug，当`keep_default_na=False`且字典`na_values`时，缺失值未被正确处理（[GH
    19227](https://github.com/pandas-dev/pandas/issues/19227)）
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") causing heap corruption on 32-bit, big-endian architectures
    ([GH 20785](https://github.com/pandas-dev/pandas/issues/20785))
  id: totrans-1686
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")中存在一个bug，在32位大端架构上导致堆破坏（[GH
    20785](https://github.com/pandas-dev/pandas/issues/20785)）
- en: Bug in [`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas
    "pandas.read_sas") where a file with 0 variables gave an `AttributeError` incorrectly.
    Now it gives an `EmptyDataError` ([GH 18184](https://github.com/pandas-dev/pandas/issues/18184))
  id: totrans-1687
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")中存在一个bug，具有0个变量的文件错���地引发了`AttributeError`。现在会引发`EmptyDataError`（[GH
    18184](https://github.com/pandas-dev/pandas/issues/18184)）
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where pairs of braces meant to serve as invisible
    placeholders were escaped ([GH 18667](https://github.com/pandas-dev/pandas/issues/18667))
  id: totrans-1688
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex")中存在一个bug，用作不可见占位符的大括号对被转义了（[GH 18667](https://github.com/pandas-dev/pandas/issues/18667)）
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where a `NaN` in a `MultiIndex` would cause an `IndexError`
    or incorrect output ([GH 14249](https://github.com/pandas-dev/pandas/issues/14249))
  id: totrans-1689
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex")中存在一个bug，`MultiIndex`中的`NaN`会导致`IndexError`或输出不正确（[GH
    14249](https://github.com/pandas-dev/pandas/issues/14249)）
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where a non-string index-level name would result
    in an `AttributeError` ([GH 19981](https://github.com/pandas-dev/pandas/issues/19981))
  id: totrans-1690
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex")中存在一个bug，非字符串索引级别名称会导致`AttributeError`（[GH 19981](https://github.com/pandas-dev/pandas/issues/19981)）
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where the combination of an index name and the `index_names=False`
    option would result in incorrect output ([GH 18326](https://github.com/pandas-dev/pandas/issues/18326))
  id: totrans-1691
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex")中存在一个bug，当索引名称和`index_names=False`选项的组合会导致输出不正确（[GH
    18326](https://github.com/pandas-dev/pandas/issues/18326)）
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where a `MultiIndex` with an empty string as its
    name would result in incorrect output ([GH 18669](https://github.com/pandas-dev/pandas/issues/18669))
  id: totrans-1692
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") 中的一个问题是，当`MultiIndex`的名称为空字符串时，会导致输出不正确（[GH 18669](https://github.com/pandas-dev/pandas/issues/18669)）
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where missing space characters caused wrong escaping
    and produced non-valid latex in some cases ([GH 20859](https://github.com/pandas-dev/pandas/issues/20859))
  id: totrans-1693
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") 中的一个问题是，缺少空格字符会导致错误的转义，并在某些情况下生成非有效的latex（[GH 20859](https://github.com/pandas-dev/pandas/issues/20859)）
- en: Bug in [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") where large numeric values were causing an `OverflowError`
    ([GH 18842](https://github.com/pandas-dev/pandas/issues/18842))
  id: totrans-1694
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") 中的一个问题是，大数值会导致`OverflowError`（[GH 18842](https://github.com/pandas-dev/pandas/issues/18842)）
- en: Bug in [`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") where an exception was raised if the write destination
    is S3 ([GH 19134](https://github.com/pandas-dev/pandas/issues/19134))
  id: totrans-1695
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") 中的一个问题是，如果写入目标是S3，则会引发异常（[GH 19134](https://github.com/pandas-dev/pandas/issues/19134)）
- en: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    now supported in [`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel") for all Excel file types ([GH 19242](https://github.com/pandas-dev/pandas/issues/19242))'
  id: totrans-1696
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    现在在所有Excel文件类型中都受到 [`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel") 的支持（[GH 19242](https://github.com/pandas-dev/pandas/issues/19242))'
- en: '[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta "pandas.Timedelta")
    now supported in [`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel") for all Excel file types ([GH 19242](https://github.com/pandas-dev/pandas/issues/19242),
    [GH 9155](https://github.com/pandas-dev/pandas/issues/9155), [GH 19900](https://github.com/pandas-dev/pandas/issues/19900))'
  id: totrans-1697
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta "pandas.Timedelta")
    现在在所有Excel文件类型中都受到 [`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel") 的支持（[GH 19242](https://github.com/pandas-dev/pandas/issues/19242),
    [GH 9155](https://github.com/pandas-dev/pandas/issues/9155), [GH 19900](https://github.com/pandas-dev/pandas/issues/19900)）'
- en: Bug in [`pandas.io.stata.StataReader.value_labels()`](../reference/api/pandas.io.stata.StataReader.value_labels.html#pandas.io.stata.StataReader.value_labels
    "pandas.io.stata.StataReader.value_labels") raising an `AttributeError` when called
    on very old files. Now returns an empty dict ([GH 19417](https://github.com/pandas-dev/pandas/issues/19417))
  id: totrans-1698
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`pandas.io.stata.StataReader.value_labels()`](../reference/api/pandas.io.stata.StataReader.value_labels.html#pandas.io.stata.StataReader.value_labels
    "pandas.io.stata.StataReader.value_labels") 在调用非��旧文件时引发`AttributeError`。现在返回一个空字典（[GH
    19417](https://github.com/pandas-dev/pandas/issues/19417)）
- en: Bug in [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") when unpickling objects with [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") or `Float64Index` created with pandas prior to version
    0.20 ([GH 19939](https://github.com/pandas-dev/pandas/issues/19939))
  id: totrans-1699
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") 中的一个问题是，在使用早于0.20版本的pandas创建的[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")或`Float64Index`时，会出现问题（[GH 19939](https://github.com/pandas-dev/pandas/issues/19939)）
- en: Bug in `pandas.io.json.json_normalize()` where sub-records are not properly
    normalized if any sub-records values are NoneType ([GH 20030](https://github.com/pandas-dev/pandas/issues/20030))
  id: totrans-1700
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `pandas.io.json.json_normalize()` 中的一个问题是，如果任何子记录的值是NoneType，则子记录未正确规范化（[GH
    20030](https://github.com/pandas-dev/pandas/issues/20030)）
- en: Bug in `usecols` parameter in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") where error is not raised correctly when passing a string.
    ([GH 20529](https://github.com/pandas-dev/pandas/issues/20529))
  id: totrans-1701
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    中的`usecols`参数，当传递字符串时，错误没有被正确引发。([GH 20529](https://github.com/pandas-dev/pandas/issues/20529))
- en: Bug in [`HDFStore.keys()`](../reference/api/pandas.HDFStore.keys.html#pandas.HDFStore.keys
    "pandas.HDFStore.keys") when reading a file with a soft link causes exception
    ([GH 20523](https://github.com/pandas-dev/pandas/issues/20523))
  id: totrans-1702
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`HDFStore.keys()`](../reference/api/pandas.HDFStore.keys.html#pandas.HDFStore.keys
    "pandas.HDFStore.keys") 当读取带软链接的文件时，[`HDFStore.keys()`](../reference/api/pandas.HDFStore.keys.html#pandas.HDFStore.keys
    "pandas.HDFStore.keys") 存在异常 ([GH 20523](https://github.com/pandas-dev/pandas/issues/20523))
- en: Bug in `HDFStore.select_column()` where a key which is not a valid store raised
    an `AttributeError` instead of a `KeyError` ([GH 17912](https://github.com/pandas-dev/pandas/issues/17912))
  id: totrans-1703
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `HDFStore.select_column()` 当键不是有效存储时，抛出 `AttributeError` 而不是 `KeyError`
    ([GH 17912](https://github.com/pandas-dev/pandas/issues/17912))
- en: Plotting
  id: totrans-1704
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 绘图
- en: Better error message when attempting to plot but matplotlib is not installed
    ([GH 19810](https://github.com/pandas-dev/pandas/issues/19810)).
  id: totrans-1705
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尝试绘图但未安装 matplotlib 时出现更好的错误消息 ([GH 19810](https://github.com/pandas-dev/pandas/issues/19810)).
- en: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") now raises a `ValueError` when the `x` or `y` argument
    is improperly formed ([GH 18671](https://github.com/pandas-dev/pandas/issues/18671))'
  id: totrans-1706
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 现在在 `x` 或 `y` 参数格式不正确时会引发 `ValueError` ([GH 18671](https://github.com/pandas-dev/pandas/issues/18671))'
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") when `x` and `y` arguments given as positions caused
    incorrect referenced columns for line, bar and area plots ([GH 20056](https://github.com/pandas-dev/pandas/issues/20056))
  id: totrans-1707
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 当 `x` 和 `y` 参数以位置给出时，对线条、条形图和区域图引发了引用错误的列 ([GH 20056](https://github.com/pandas-dev/pandas/issues/20056))
- en: Bug in formatting tick labels with `datetime.time()` and fractional seconds
    ([GH 18478](https://github.com/pandas-dev/pandas/issues/18478)).
  id: totrans-1708
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `datetime.time()` 和小数秒格式化刻度标签时的错误修复 ([GH 18478](https://github.com/pandas-dev/pandas/issues/18478)).
- en: '[`Series.plot.kde()`](../reference/api/pandas.Series.plot.kde.html#pandas.Series.plot.kde
    "pandas.Series.plot.kde") has exposed the args `ind` and `bw_method` in the docstring
    ([GH 18461](https://github.com/pandas-dev/pandas/issues/18461)). The argument
    `ind` may now also be an integer (number of sample points).'
  id: totrans-1709
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.plot.kde()`](../reference/api/pandas.Series.plot.kde.html#pandas.Series.plot.kde
    "pandas.Series.plot.kde") 已在文档字符串中公开了参数 `ind` 和 `bw_method` ([GH 18461](https://github.com/pandas-dev/pandas/issues/18461))。参数
    `ind` 现在也可以是整数（采样点数）。'
- en: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") now supports multiple columns to the `y` argument ([GH
    19699](https://github.com/pandas-dev/pandas/issues/19699))'
  id: totrans-1710
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 现在支持将多列传递给 `y` 参数 ([GH 19699](https://github.com/pandas-dev/pandas/issues/19699))'
- en: GroupBy/resample/rolling
  id: totrans-1711
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分组/重采样/滚动
- en: Bug when grouping by a single column and aggregating with a class like `list`
    or `tuple` ([GH 18079](https://github.com/pandas-dev/pandas/issues/18079))
  id: totrans-1712
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当以类似于 `list` 或 `tuple` 的类进行分组聚合时出现的错误 ([GH 18079](https://github.com/pandas-dev/pandas/issues/18079))
- en: Fixed regression in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") which would not emit an error when called with a tuple
    key not in the index ([GH 18798](https://github.com/pandas-dev/pandas/issues/18798))
  id: totrans-1713
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 中的回归，当以索引中不存在的元组键调用时不会产生错误 ([GH 18798](https://github.com/pandas-dev/pandas/issues/18798))
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") which silently ignored unsupported (or mistyped)
    options for `label`, `closed` and `convention` ([GH 19303](https://github.com/pandas-dev/pandas/issues/19303))
  id: totrans-1714
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 在 `label`、`closed` 和 `convention` 的选项不受支持（或输入错误）时会静默忽略
    ([GH 19303](https://github.com/pandas-dev/pandas/issues/19303))
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") where tuples were interpreted as lists of keys rather
    than as keys ([GH 17979](https://github.com/pandas-dev/pandas/issues/17979), [GH
    18249](https://github.com/pandas-dev/pandas/issues/18249))
  id: totrans-1715
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 中元组被解释为键列表而不是键 ([GH 17979](https://github.com/pandas-dev/pandas/issues/17979),
    [GH 18249](https://github.com/pandas-dev/pandas/issues/18249))
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") where aggregation by `first`/`last`/`min`/`max` was
    causing timestamps to lose precision ([GH 19526](https://github.com/pandas-dev/pandas/issues/19526))
  id: totrans-1716
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 中，通过 `first`/`last`/`min`/`max` 进行聚合导致时间戳失去精度的 bug
    ([GH 19526](https://github.com/pandas-dev/pandas/issues/19526))
- en: Bug in [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") where particular aggregation functions were being
    incorrectly cast to match the dtype(s) of the grouped data ([GH 19200](https://github.com/pandas-dev/pandas/issues/19200))
  id: totrans-1717
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") 中，特定聚合函数被错误地转换以匹配分组数据的 dtype(s) 的 bug ([GH 19200](https://github.com/pandas-dev/pandas/issues/19200))
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") passing the `on=` kwarg, and subsequently using `.apply()`
    ([GH 17813](https://github.com/pandas-dev/pandas/issues/17813))
  id: totrans-1718
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 中传递 `on=` kwarg，并随后使用 `.apply()` 的 bug ([GH 17813](https://github.com/pandas-dev/pandas/issues/17813))
- en: Bug in `DataFrame.resample().aggregate` not raising a `KeyError` when aggregating
    a non-existent column ([GH 16766](https://github.com/pandas-dev/pandas/issues/16766),
    [GH 19566](https://github.com/pandas-dev/pandas/issues/19566))
  id: totrans-1719
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.resample().aggregate` 中的 bug，在聚合不存在的列时未引发 `KeyError`（[GH 16766](https://github.com/pandas-dev/pandas/issues/16766)，[GH
    19566](https://github.com/pandas-dev/pandas/issues/19566)）'
- en: Bug in `DataFrameGroupBy.cumsum()` and `DataFrameGroupBy.cumprod()` when `skipna`
    was passed ([GH 19806](https://github.com/pandas-dev/pandas/issues/19806))
  id: totrans-1720
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrameGroupBy.cumsum()` 和 `DataFrameGroupBy.cumprod()` 中传递 `skipna` 时的
    bug ([GH 19806](https://github.com/pandas-dev/pandas/issues/19806))
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") that dropped timezone information ([GH 13238](https://github.com/pandas-dev/pandas/issues/13238))
  id: totrans-1721
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 中丢弃时区信息的 bug ([GH 13238](https://github.com/pandas-dev/pandas/issues/13238))
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") where transformations using `np.all` and `np.any`
    were raising a `ValueError` ([GH 20653](https://github.com/pandas-dev/pandas/issues/20653))
  id: totrans-1722
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 中使用 `np.all` 和 `np.any` 进行转换引发 `ValueError` 的 bug
    ([GH 20653](https://github.com/pandas-dev/pandas/issues/20653))
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") where `ffill`, `bfill`, `pad`, `backfill`, `fillna`,
    `interpolate`, and `asfreq` were ignoring `loffset`. ([GH 20744](https://github.com/pandas-dev/pandas/issues/20744))
  id: totrans-1723
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 中，`ffill`、`bfill`、`pad`、`backfill`、`fillna`、`interpolate`
    和 `asfreq` 忽略了 `loffset` 的 bug ([GH 20744](https://github.com/pandas-dev/pandas/issues/20744))
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") when applying a function that has mixed data types
    and the user supplied function can fail on the grouping column ([GH 20949](https://github.com/pandas-dev/pandas/issues/20949))
  id: totrans-1724
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 中应用具有混合数据类型且用户提供的函数可能在分组列上失败时的 bug ([GH 20949](https://github.com/pandas-dev/pandas/issues/20949))
- en: Bug in `DataFrameGroupBy.rolling().apply()` where operations performed against
    the associated `DataFrameGroupBy` object could impact the inclusion of the grouped
    item(s) in the result ([GH 14013](https://github.com/pandas-dev/pandas/issues/14013))
  id: totrans-1725
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy.rolling().apply()` 中的 bug，操作影响与结果中的分组项相关联的 `DataFrameGroupBy`
    对象的包含性 ([GH 14013](https://github.com/pandas-dev/pandas/issues/14013))'
- en: Sparse
  id: totrans-1726
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 稀疏
- en: Bug in which creating a `SparseDataFrame` from a dense `Series` or an unsupported
    type raised an uncontrolled exception ([GH 19374](https://github.com/pandas-dev/pandas/issues/19374))
  id: totrans-1727
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建 `SparseDataFrame` 从密集 `Series` 或不支持的类型引发未受控制的异常的 bug ([GH 19374](https://github.com/pandas-dev/pandas/issues/19374))
- en: Bug in `SparseDataFrame.to_csv` causing exception ([GH 19384](https://github.com/pandas-dev/pandas/issues/19384))
  id: totrans-1728
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseDataFrame.to_csv` 中的 bug 导致异常（[GH 19384](https://github.com/pandas-dev/pandas/issues/19384)）'
- en: Bug in `SparseSeries.memory_usage` which caused segfault by accessing non sparse
    elements ([GH 19368](https://github.com/pandas-dev/pandas/issues/19368))
  id: totrans-1729
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.memory_usage`中的错误，通过访问非稀疏元素导致段错误（[GH 19368](https://github.com/pandas-dev/pandas/issues/19368))'
- en: 'Bug in constructing a `SparseArray`: if `data` is a scalar and `index` is defined
    it will coerce to `float64` regardless of scalar’s dtype. ([GH 19163](https://github.com/pandas-dev/pandas/issues/19163))'
  id: totrans-1730
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在构造`SparseArray`时的错误：如果`data`是一个标量并且`index`已定义，它将强制转换为`float64`，而不管标量的dtype是什么。（[GH
    19163](https://github.com/pandas-dev/pandas/issues/19163))
- en: Reshaping
  id: totrans-1731
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 重塑
- en: Bug in [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") where referencing a `CategoricalIndex` by name, where
    the `by` kwarg would `KeyError` ([GH 20777](https://github.com/pandas-dev/pandas/issues/20777))
  id: totrans-1732
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")中的错误，通过名称引用`CategoricalIndex`，其中`by` kwarg将引发`KeyError`（[GH
    20777](https://github.com/pandas-dev/pandas/issues/20777))
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") which fails trying to sort mixed type levels under Python
    3 ([GH 18310](https://github.com/pandas-dev/pandas/issues/18310))
  id: totrans-1733
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack")中的错误，在Python 3下尝试对混合类型级别进行排序时失败（[GH 18310](https://github.com/pandas-dev/pandas/issues/18310))'
- en: Bug in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") which casts int to float if `columns` is a `MultiIndex`
    with unused levels ([GH 17845](https://github.com/pandas-dev/pandas/issues/17845))
  id: totrans-1734
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")中的错误，如果`columns`是具有未使用级别的`MultiIndex`，则将整数转换为浮点数（[GH
    17845](https://github.com/pandas-dev/pandas/issues/17845))'
- en: Bug in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") which raises an error if `index` is a `MultiIndex`
    with unused labels on the unstacked level ([GH 18562](https://github.com/pandas-dev/pandas/issues/18562))
  id: totrans-1735
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")中的错误，如果`index`是具有未使用标签的`MultiIndex`，则引发错误（[GH 18562](https://github.com/pandas-dev/pandas/issues/18562))'
- en: Fixed construction of a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") from a `dict` containing `NaN` as key ([GH 18480](https://github.com/pandas-dev/pandas/issues/18480))
  id: totrans-1736
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从包含`NaN`作为键的`dict`构造[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")的错误已修正（[GH 18480](https://github.com/pandas-dev/pandas/issues/18480))
- en: Fixed construction of a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") from a `dict` containing `NaN` as key ([GH 18455](https://github.com/pandas-dev/pandas/issues/18455))
  id: totrans-1737
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修正了从包含`NaN`作为键的`dict`构造[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")的错误（[GH 18455](https://github.com/pandas-dev/pandas/issues/18455))
- en: Disabled construction of a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") where len(index) > len(data) = 1, which previously would broadcast
    the data item, and now raises a `ValueError` ([GH 18819](https://github.com/pandas-dev/pandas/issues/18819))
  id: totrans-1738
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 禁用了构造具有len(index) > len(data) = 1的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")，先前会广播数据项，现在引发`ValueError`（[GH 18819](https://github.com/pandas-dev/pandas/issues/18819))
- en: Suppressed error in the construction of a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") from a `dict` containing scalar values when the corresponding
    keys are not included in the passed index ([GH 18600](https://github.com/pandas-dev/pandas/issues/18600))
  id: totrans-1739
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在从包含标量值的`dict`构造[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")时抑制了错误，当相应的键未包含在传递的索引中时（[GH 18600](https://github.com/pandas-dev/pandas/issues/18600))
- en: Fixed (changed from `object` to `float64`) dtype of [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") initialized with axes, no data, and `dtype=int` ([GH 19646](https://github.com/pandas-dev/pandas/issues/19646))
  id: totrans-1740
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修正了使用轴、无数据和`dtype=int`初始化的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")的数据类型（从`object`更改为`float64`）（[GH 19646](https://github.com/pandas-dev/pandas/issues/19646))
- en: Bug in [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") where `Series` containing `NaT` modifies the `Series` inplace
    ([GH 18521](https://github.com/pandas-dev/pandas/issues/18521))
  id: totrans-1741
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank")中的错误，其中包含`NaT`的`Series`会修改原地的`Series`（[GH 18521](https://github.com/pandas-dev/pandas/issues/18521))
- en: Bug in [`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") which
    fails when using readonly arrays ([GH 18773](https://github.com/pandas-dev/pandas/issues/18773))
  id: totrans-1742
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut")中存在一个错误，当使用只读数组时会失败（[GH
    18773](https://github.com/pandas-dev/pandas/issues/18773)）
- en: Bug in [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") which fails when the `aggfunc` arg is of type
    string. The behavior is now consistent with other methods like `agg` and `apply`
    ([GH 18713](https://github.com/pandas-dev/pandas/issues/18713))
  id: totrans-1743
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table")中存在一个错误，当`aggfunc`参数为字符串类型时会失败。现在的行为与`agg`和`apply`等其他方法一致（[GH
    18713](https://github.com/pandas-dev/pandas/issues/18713)）
- en: Bug in [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") in which merging using `Index` objects as vectors raised
    an Exception ([GH 19038](https://github.com/pandas-dev/pandas/issues/19038))
  id: totrans-1744
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")中存在一个错误，使用`Index`对象作为向量进行合并会引发异常（[GH 19038](https://github.com/pandas-dev/pandas/issues/19038)）
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack"), [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack"), [`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack") which were not returning subclasses ([GH 15563](https://github.com/pandas-dev/pandas/issues/15563))
  id: totrans-1745
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack")、[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")、[`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack")中存在一个错误，它们没有返回子类（[GH 15563](https://github.com/pandas-dev/pandas/issues/15563)）
- en: Bug in timezone comparisons, manifesting as a conversion of the index to UTC
    in `.concat()` ([GH 18523](https://github.com/pandas-dev/pandas/issues/18523))
  id: totrans-1746
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 时区比较中存在的错误，表现为在`.concat()`中将索引转换为UTC（[GH 18523](https://github.com/pandas-dev/pandas/issues/18523)）
- en: Bug in [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    when concatenating sparse and dense series it returns only a `SparseDataFrame`.
    Should be a `DataFrame`. ([GH 18914](https://github.com/pandas-dev/pandas/issues/18914),
    [GH 18686](https://github.com/pandas-dev/pandas/issues/18686), and [GH 16874](https://github.com/pandas-dev/pandas/issues/16874))
  id: totrans-1747
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")中存在一个错误，当连接稀疏和密集系列时，它仅返回`SparseDataFrame`。应该是一个`DataFrame`（[GH
    18914](https://github.com/pandas-dev/pandas/issues/18914)、[GH 18686](https://github.com/pandas-dev/pandas/issues/18686)和[GH
    16874](https://github.com/pandas-dev/pandas/issues/16874)）
- en: Improved error message for [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") when there is no common merge key ([GH 19427](https://github.com/pandas-dev/pandas/issues/19427))
  id: totrans-1748
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当没有共同的合并键时，为[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")改进了错误消息（[GH 19427](https://github.com/pandas-dev/pandas/issues/19427)）
- en: Bug in [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") which does an `outer` instead of a `left` join when being
    called with multiple DataFrames and some have non-unique indices ([GH 19624](https://github.com/pandas-dev/pandas/issues/19624))
  id: totrans-1749
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join")中存在一个错误，当与多个DataFrame一起调用且某些具有非唯一索引时，它执行`outer`而不是`left`连接（[GH
    19624](https://github.com/pandas-dev/pandas/issues/19624)）
- en: '[`Series.rename()`](../reference/api/pandas.Series.rename.html#pandas.Series.rename
    "pandas.Series.rename") now accepts `axis` as a kwarg ([GH 18589](https://github.com/pandas-dev/pandas/issues/18589))'
  id: totrans-1750
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.rename()`](../reference/api/pandas.Series.rename.html#pandas.Series.rename
    "pandas.Series.rename")现在接受`axis`作为关键字参数（[GH 18589](https://github.com/pandas-dev/pandas/issues/18589)）'
- en: Bug in [`rename()`](../reference/api/pandas.DataFrame.rename.html#pandas.DataFrame.rename
    "pandas.DataFrame.rename") where an Index of same-length tuples was converted
    to a MultiIndex ([GH 19497](https://github.com/pandas-dev/pandas/issues/19497))
  id: totrans-1751
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`rename()`](../reference/api/pandas.DataFrame.rename.html#pandas.DataFrame.rename
    "pandas.DataFrame.rename")中存在一个错误，其中具有相同长度元组的索引被转换为多重索引（[GH 19497](https://github.com/pandas-dev/pandas/issues/19497)）
- en: Comparisons between [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") and [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") would return a `Series` with an incorrect name, ignoring the `Index`’s
    name attribute ([GH 19582](https://github.com/pandas-dev/pandas/issues/19582))
  id: totrans-1752
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    和 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") 之间的比较将返回一个具有不正确名称的
    `Series`，忽略了 `Index` 的名称属性（[GH 19582](https://github.com/pandas-dev/pandas/issues/19582)）'
- en: Bug in [`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut "pandas.qcut")
    where datetime and timedelta data with `NaT` present raised a `ValueError` ([GH
    19768](https://github.com/pandas-dev/pandas/issues/19768))
  id: totrans-1753
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut "pandas.qcut")，当存在
    `NaT` 的日期时间和时间增量数据时引发 `ValueError`（[GH 19768](https://github.com/pandas-dev/pandas/issues/19768)）
- en: Bug in [`DataFrame.iterrows()`](../reference/api/pandas.DataFrame.iterrows.html#pandas.DataFrame.iterrows
    "pandas.DataFrame.iterrows"), which would infers strings not compliant to [ISO8601](https://en.wikipedia.org/wiki/ISO_8601)
    to datetimes ([GH 19671](https://github.com/pandas-dev/pandas/issues/19671))
  id: totrans-1754
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.iterrows()`](../reference/api/pandas.DataFrame.iterrows.html#pandas.DataFrame.iterrows
    "pandas.DataFrame.iterrows")，将不符合 [ISO8601](https://en.wikipedia.org/wiki/ISO_8601)
    的字符串解释为日期时间（[GH 19671](https://github.com/pandas-dev/pandas/issues/19671)）
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    constructor with `Categorical` where a `ValueError` is not raised when an index
    of different length is given ([GH 19342](https://github.com/pandas-dev/pandas/issues/19342))
  id: totrans-1755
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    构造函数与 `Categorical` 的问题，在给定不同长度的索引时未引发 `ValueError`（[GH 19342](https://github.com/pandas-dev/pandas/issues/19342)）
- en: Bug in [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") where column metadata is lost when converting to categorical
    or a dictionary of dtypes ([GH 19920](https://github.com/pandas-dev/pandas/issues/19920))
  id: totrans-1756
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype")，在转换为分类或 dtype 字典时丢失列元数据（[GH 19920](https://github.com/pandas-dev/pandas/issues/19920)）
- en: Bug in [`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") and
    [`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut "pandas.qcut") where
    timezone information was dropped ([GH 19872](https://github.com/pandas-dev/pandas/issues/19872))
  id: totrans-1757
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") 和
    [`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut "pandas.qcut")，时区信息被丢弃的问题（[GH
    19872](https://github.com/pandas-dev/pandas/issues/19872)）
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    constructor with a `dtype=str`, previously raised in some cases ([GH 19853](https://github.com/pandas-dev/pandas/issues/19853))
  id: totrans-1758
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    构造函数与 `dtype=str`，以前在某些情况下引发错误（[GH 19853](https://github.com/pandas-dev/pandas/issues/19853)）
- en: Bug in [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies"), and `select_dtypes()`, where duplicate column names caused
    incorrect behavior ([GH 20848](https://github.com/pandas-dev/pandas/issues/20848))
  id: totrans-1759
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") 和 `select_dtypes()`，重复的列名导致了不正确的行为（[GH 20848](https://github.com/pandas-dev/pandas/issues/20848)）
- en: Bug in [`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna"),
    which cannot handle ambiguous typed lists ([GH 20675](https://github.com/pandas-dev/pandas/issues/20675))
  id: totrans-1760
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna")，无法处理模糊类型列表的问题（[GH
    20675](https://github.com/pandas-dev/pandas/issues/20675)）
- en: Bug in [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    which raises an error when concatenating TZ-aware dataframes and all-NaT dataframes
    ([GH 12396](https://github.com/pandas-dev/pandas/issues/12396))
  id: totrans-1761
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")，当连接
    TZ-aware 数据框和全 NaT 数据框时会引发错误（[GH 12396](https://github.com/pandas-dev/pandas/issues/12396)）
- en: Bug in [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    which raises an error when concatenating empty TZ-aware series ([GH 18447](https://github.com/pandas-dev/pandas/issues/18447))
  id: totrans-1762
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")，当连接空的
    TZ-aware 系列时会引发错误（[GH 18447](https://github.com/pandas-dev/pandas/issues/18447)）
- en: Other
  id: totrans-1763
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 其他
- en: Improved error message when attempting to use a Python keyword as an identifier
    in a `numexpr` backed query ([GH 18221](https://github.com/pandas-dev/pandas/issues/18221))
  id: totrans-1764
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尝试在 `numexpr` 支持的查询中使用 Python 关键字作为标识符时，改进了错误消息（[GH 18221](https://github.com/pandas-dev/pandas/issues/18221)）
- en: Bug in accessing a [`pandas.get_option()`](../reference/api/pandas.get_option.html#pandas.get_option
    "pandas.get_option"), which raised `KeyError` rather than `OptionError` when looking
    up a non-existent option key in some cases ([GH 19789](https://github.com/pandas-dev/pandas/issues/19789))
  id: totrans-1765
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在某些情况下，访问 [`pandas.get_option()`](../reference/api/pandas.get_option.html#pandas.get_option
    "pandas.get_option") 时会引发 `KeyError`，而不是引发 `OptionError`，因为查找不存在的选项键时引发了错误（[GH
    19789](https://github.com/pandas-dev/pandas/issues/19789)）
- en: Bug in [`testing.assert_series_equal()`](../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal
    "pandas.testing.assert_series_equal") and [`testing.assert_frame_equal()`](../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal
    "pandas.testing.assert_frame_equal") for Series or DataFrames with differing unicode
    data ([GH 20503](https://github.com/pandas-dev/pandas/issues/20503))
  id: totrans-1766
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`testing.assert_series_equal()`](../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal
    "pandas.testing.assert_series_equal") 和 [`testing.assert_frame_equal()`](../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal
    "pandas.testing.assert_frame_equal") 在具有不同 unicode 数据的 Series 或 DataFrames 上存在错误（[GH
    20503](https://github.com/pandas-dev/pandas/issues/20503)）'
- en: Categorical
  id: totrans-1767
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Categorical
- en: Warning
  id: totrans-1768
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: A class of bugs were introduced in pandas 0.21 with `CategoricalDtype` that
    affects the correctness of operations like `merge`, `concat`, and indexing when
    comparing multiple unordered `Categorical` arrays that have the same categories,
    but in a different order. We highly recommend upgrading or manually aligning your
    categories before doing these operations.
  id: totrans-1769
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 0.21 引入了一类错误，涉及 `CategoricalDtype`，影响到像 `merge`、`concat` 以及索引等操作的正确性，当比较多个无序的
    `Categorical` 数组时，这些数组具有相同的类别，但顺序不同。我们强烈建议在执行这些操作之前升级或手动对齐您的类别。
- en: Bug in `Categorical.equals` returning the wrong result when comparing two unordered
    `Categorical` arrays with the same categories, but in a different order ([GH 16603](https://github.com/pandas-dev/pandas/issues/16603))
  id: totrans-1770
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在比较两个无序的 `Categorical` 数组时，类别相同但顺序不同时，`Categorical.equals` 返回错误的结果（[GH 16603](https://github.com/pandas-dev/pandas/issues/16603)）
- en: Bug in [`pandas.api.types.union_categoricals()`](../reference/api/pandas.api.types.union_categoricals.html#pandas.api.types.union_categoricals
    "pandas.api.types.union_categoricals") returning the wrong result when for unordered
    categoricals with the categories in a different order. This affected [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") with Categorical data ([GH 19096](https://github.com/pandas-dev/pandas/issues/19096)).
  id: totrans-1771
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当类别的顺序不同的无序类别进行联合时，[`pandas.api.types.union_categoricals()`](../reference/api/pandas.api.types.union_categoricals.html#pandas.api.types.union_categoricals
    "pandas.api.types.union_categoricals") 返回错误的结果。这影响了带有 Categorical 数据的 [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat")（[GH 19096](https://github.com/pandas-dev/pandas/issues/19096)）
- en: Bug in [`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    returning the wrong result when joining on an unordered `Categorical` that had
    the same categories but in a different order ([GH 19551](https://github.com/pandas-dev/pandas/issues/19551))
  id: totrans-1772
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在无序的 `Categorical` 上进行连接时，[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge") 返回错误的结果，即使它们具有相同的类别但顺序不同（[GH 19551](https://github.com/pandas-dev/pandas/issues/19551)）
- en: Bug in `CategoricalIndex.get_indexer()` returning the wrong result when `target`
    was an unordered `Categorical` that had the same categories as `self` but in a
    different order ([GH 19551](https://github.com/pandas-dev/pandas/issues/19551))
  id: totrans-1773
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `CategoricalIndex.get_indexer()` 中存在错误，当 `target` 是一个无序的 `Categorical`，它的类别与
    `self` 相同但顺序不同时，会返回错误的结果（[GH 19551](https://github.com/pandas-dev/pandas/issues/19551)）
- en: Bug in [`Index.astype()`](../reference/api/pandas.Index.astype.html#pandas.Index.astype
    "pandas.Index.astype") with a categorical dtype where the resultant index is not
    converted to a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") for all types of index ([GH 18630](https://github.com/pandas-dev/pandas/issues/18630))
  id: totrans-1774
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当结果索引不是转换为 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 的情况下，带有分类 dtype 的 [`Index.astype()`](../reference/api/pandas.Index.astype.html#pandas.Index.astype
    "pandas.Index.astype") 存在错误（[GH 18630](https://github.com/pandas-dev/pandas/issues/18630)）
- en: Bug in [`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") and `Categorical.astype()` where an existing categorical
    data does not get updated ([GH 10696](https://github.com/pandas-dev/pandas/issues/10696),
    [GH 18593](https://github.com/pandas-dev/pandas/issues/18593))
  id: totrans-1775
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") 和 `Categorical.astype()` 中存在的 bug，现有的分类数据未得到更新（[GH 10696](https://github.com/pandas-dev/pandas/issues/10696)，[GH
    18593](https://github.com/pandas-dev/pandas/issues/18593)）'
- en: Bug in [`Series.str.split()`](../reference/api/pandas.Series.str.split.html#pandas.Series.str.split
    "pandas.Series.str.split") with `expand=True` incorrectly raising an IndexError
    on empty strings ([GH 20002](https://github.com/pandas-dev/pandas/issues/20002)).
  id: totrans-1776
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.split()`](../reference/api/pandas.Series.str.split.html#pandas.Series.str.split
    "pandas.Series.str.split") 中存在的 bug，当 `expand=True` 时，空字符串错误地在空字符串上引发 IndexError（[GH
    20002](https://github.com/pandas-dev/pandas/issues/20002)）'
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    constructor with `dtype=CategoricalDtype(...)` where `categories` and `ordered`
    are not maintained ([GH 19032](https://github.com/pandas-dev/pandas/issues/19032))
  id: totrans-1777
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构造函数 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    中存在的 bug，当 `dtype=CategoricalDtype(...)` 时，`categories` 和 `ordered` 未被维护（[GH 19032](https://github.com/pandas-dev/pandas/issues/19032)）
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    constructor with scalar and `dtype=CategoricalDtype(...)` where `categories` and
    `ordered` are not maintained ([GH 19565](https://github.com/pandas-dev/pandas/issues/19565))
  id: totrans-1778
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构造函数 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    中存在的 bug，当标量和 `dtype=CategoricalDtype(...)` 时，`categories` 和 `ordered` 未被维护（[GH
    19565](https://github.com/pandas-dev/pandas/issues/19565)）
- en: Bug in `Categorical.__iter__` not converting to Python types ([GH 19909](https://github.com/pandas-dev/pandas/issues/19909))
  id: totrans-1779
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.__iter__` 中存在的 bug，未将其转换为 Python 类型（[GH 19909](https://github.com/pandas-dev/pandas/issues/19909)）'
- en: Bug in [`pandas.factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize") returning the unique codes for the `uniques`. This now returns
    a `Categorical` with the same dtype as the input ([GH 19721](https://github.com/pandas-dev/pandas/issues/19721))
  id: totrans-1780
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize") 中存在的 bug 返回 `uniques` 的唯一编码。现在返回一个与输入相同 dtype 的 `Categorical`（[GH
    19721](https://github.com/pandas-dev/pandas/issues/19721)）'
- en: Bug in [`pandas.factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize") including an item for missing values in the `uniques` return
    value ([GH 19721](https://github.com/pandas-dev/pandas/issues/19721))
  id: totrans-1781
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize") 中存在的 bug 在 `uniques` 返回值中包含了缺失值的项目（[GH 19721](https://github.com/pandas-dev/pandas/issues/19721)）'
- en: Bug in [`Series.take()`](../reference/api/pandas.Series.take.html#pandas.Series.take
    "pandas.Series.take") with categorical data interpreting `-1` in `indices` as
    missing value markers, rather than the last element of the Series ([GH 20664](https://github.com/pandas-dev/pandas/issues/20664))
  id: totrans-1782
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.take()`](../reference/api/pandas.Series.take.html#pandas.Series.take
    "pandas.Series.take") 中存在的 bug 处理分类数据时将 `indices` 中的 `-1` 解释为缺失值标记，而不是 Series
    的最后一个元素（[GH 20664](https://github.com/pandas-dev/pandas/issues/20664)）'
- en: Datetimelike
  id: totrans-1783
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Datetimelike
- en: Bug in `Series.__sub__()` subtracting a non-nanosecond `np.datetime64` object
    from a `Series` gave incorrect results ([GH 7996](https://github.com/pandas-dev/pandas/issues/7996))
  id: totrans-1784
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.__sub__()` 中存在的 bug，从 `Series` 减去非纳秒 `np.datetime64` 对象会产生不正确的结果（[GH
    7996](https://github.com/pandas-dev/pandas/issues/7996)）'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") addition and subtraction of zero-dimensional integer
    arrays gave incorrect results ([GH 19012](https://github.com/pandas-dev/pandas/issues/19012))
  id: totrans-1785
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")、[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 中存在的 bug，零维整数数组的加法和减法产生不正确的结果（[GH 19012](https://github.com/pandas-dev/pandas/issues/19012)）'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where adding or subtracting an array-like of `DateOffset`
    objects either raised (`np.array`, `pd.Index`) or broadcast incorrectly (`pd.Series`)
    ([GH 18849](https://github.com/pandas-dev/pandas/issues/18849))
  id: totrans-1786
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中的 Bug，添加或减去一组`DateOffset`对象会引发异常（`np.array`，`pd.Index`）或不正确地广播（`pd.Series`）（[GH
    18849](https://github.com/pandas-dev/pandas/issues/18849))'
- en: Bug in `Series.__add__()` adding Series with dtype `timedelta64[ns]` to a timezone-aware
    `DatetimeIndex` incorrectly dropped timezone information ([GH 13905](https://github.com/pandas-dev/pandas/issues/13905))
  id: totrans-1787
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.__add__()`中的 Bug，将 dtype 为`timedelta64[ns]`的 Series 添加到带时区的`DatetimeIndex`时不正确地丢弃了时区信息（[GH
    13905](https://github.com/pandas-dev/pandas/issues/13905))'
- en: Adding a `Period` object to a `datetime` or `Timestamp` object will now correctly
    raise a `TypeError` ([GH 17983](https://github.com/pandas-dev/pandas/issues/17983))
  id: totrans-1788
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将`Period`对象添加到`datetime`或`Timestamp`对象现在将正确引发`TypeError`（[GH 17983](https://github.com/pandas-dev/pandas/issues/17983))
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") where comparison with an array of `Timestamp` objects would
    result in a `RecursionError` ([GH 15183](https://github.com/pandas-dev/pandas/issues/15183))
  id: totrans-1789
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")中的
    Bug，与一组`Timestamp`对象进行比较会导致`RecursionError`（[GH 15183](https://github.com/pandas-dev/pandas/issues/15183))'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    floor-division where operating on a scalar `timedelta` raises an exception ([GH
    18846](https://github.com/pandas-dev/pandas/issues/18846))
  id: totrans-1790
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    floor-division 中的 Bug，对标量`timedelta`进行操作会引发异常（[GH 18846](https://github.com/pandas-dev/pandas/issues/18846))'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where the repr was not showing high-precision time values
    at the end of a day (e.g., 23:59:59.999999999) ([GH 19030](https://github.com/pandas-dev/pandas/issues/19030))
  id: totrans-1791
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")中的 Bug，repr未显示高精度时间值，例如一天的最后（例如，23:59:59.999999999）（[GH
    19030](https://github.com/pandas-dev/pandas/issues/19030))'
- en: Bug in `.astype()` to non-ns timedelta units would hold the incorrect dtype
    ([GH 19176](https://github.com/pandas-dev/pandas/issues/19176), [GH 19223](https://github.com/pandas-dev/pandas/issues/19223),
    [GH 12425](https://github.com/pandas-dev/pandas/issues/12425))
  id: totrans-1792
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.astype()`到非纳秒级时间间隔单元会保持不正确的 dtype 的 Bug（[GH 19176](https://github.com/pandas-dev/pandas/issues/19176),
    [GH 19223](https://github.com/pandas-dev/pandas/issues/19223), [GH 12425](https://github.com/pandas-dev/pandas/issues/12425))'
- en: Bug in subtracting [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") from `NaT` incorrectly returning `NaT` ([GH 19158](https://github.com/pandas-dev/pandas/issues/19158))
  id: totrans-1793
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从`NaT`减去[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")时的错误
    Bug，错误地返回`NaT`（[GH 19158](https://github.com/pandas-dev/pandas/issues/19158))
- en: Bug in [`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate") which raises `TypeError` with a monotonic `PeriodIndex`
    ([GH 17717](https://github.com/pandas-dev/pandas/issues/17717))
  id: totrans-1794
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate")中的 Bug，使用单调的`PeriodIndex`引发`TypeError`（[GH 17717](https://github.com/pandas-dev/pandas/issues/17717))'
- en: Bug in [`pct_change()`](../reference/api/pandas.DataFrame.pct_change.html#pandas.DataFrame.pct_change
    "pandas.DataFrame.pct_change") using `periods` and `freq` returned different length
    outputs ([GH 7292](https://github.com/pandas-dev/pandas/issues/7292))
  id: totrans-1795
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`periods`和`freq`的[`pct_change()`](../reference/api/pandas.DataFrame.pct_change.html#pandas.DataFrame.pct_change
    "pandas.DataFrame.pct_change")比较返回不同长度的输出的 Bug（[GH 7292](https://github.com/pandas-dev/pandas/issues/7292))
- en: Bug in comparison of [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") against `None` or `datetime.date` objects raising `TypeError`
    for `==` and `!=` comparisons instead of all-`False` and all-`True`, respectively
    ([GH 19301](https://github.com/pandas-dev/pandas/issues/19301))
  id: totrans-1796
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")与`None`或`datetime.date`对象的比较中的 Bug，在`==`和`!=`比较中引发`TypeError`而不是分别全部为`False`和全部为`True`（[GH
    19301](https://github.com/pandas-dev/pandas/issues/19301))'
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") and [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where a string representing a barely out-of-bounds timestamp
    would be incorrectly rounded down instead of raising `OutOfBoundsDatetime` ([GH
    19382](https://github.com/pandas-dev/pandas/issues/19382))
  id: totrans-1797
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    和 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 中，表示略微超出范围的时间戳字符串会被错误地向下舍入而不是引发 `OutOfBoundsDatetime` 的问题
    ([GH 19382](https://github.com/pandas-dev/pandas/issues/19382))'
- en: Bug in [`Timestamp.floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor") [`DatetimeIndex.floor()`](../reference/api/pandas.DatetimeIndex.floor.html#pandas.DatetimeIndex.floor
    "pandas.DatetimeIndex.floor") where time stamps far in the future and past were
    not rounded correctly ([GH 19206](https://github.com/pandas-dev/pandas/issues/19206))
  id: totrans-1798
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor") 和 [`DatetimeIndex.floor()`](../reference/api/pandas.DatetimeIndex.floor.html#pandas.DatetimeIndex.floor
    "pandas.DatetimeIndex.floor") 中远未来和远过去的时间戳未正确四舍五入的问题 ([GH 19206](https://github.com/pandas-dev/pandas/issues/19206))'
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where passing an out-of-bounds datetime with `errors='coerce'`
    and `utc=True` would raise `OutOfBoundsDatetime` instead of parsing to `NaT` ([GH
    19612](https://github.com/pandas-dev/pandas/issues/19612))
  id: totrans-1799
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 中使用 `errors=''coerce''` 和 `utc=True` 时，超出范围的日期时间会引发 `OutOfBoundsDatetime`
    而不是解析为 `NaT` 的问题 ([GH 19612](https://github.com/pandas-dev/pandas/issues/19612))'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") addition and subtraction where name of the returned object
    was not always set consistently. ([GH 19744](https://github.com/pandas-dev/pandas/issues/19744))
  id: totrans-1800
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 的加法和减法中，返回对象的名称不一致的问题 ([GH 19744](https://github.com/pandas-dev/pandas/issues/19744))'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") addition and subtraction where operations with numpy
    arrays raised `TypeError` ([GH 19847](https://github.com/pandas-dev/pandas/issues/19847))
  id: totrans-1801
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 的加法和减法中，与 numpy 数组进行操作引发 `TypeError` 的问题 ([GH 19847](https://github.com/pandas-dev/pandas/issues/19847))'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where setting the `freq` attribute was not fully supported
    ([GH 20678](https://github.com/pandas-dev/pandas/issues/20678))
  id: totrans-1802
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 中 `freq` 属性设置不完全支持的问题 ([GH 20678](https://github.com/pandas-dev/pandas/issues/20678))
- en: Timedelta
  id: totrans-1803
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时间差
- en: Bug in `Timedelta.__mul__()` where multiplying by `NaT` returned `NaT` instead
    of raising a `TypeError` ([GH 19819](https://github.com/pandas-dev/pandas/issues/19819))
  id: totrans-1804
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timedelta.__mul__()` 中，与 `NaT` 相乘返回 `NaT` 而不是引发 `TypeError` 的问题 ([GH 19819](https://github.com/pandas-dev/pandas/issues/19819))'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    with `dtype='timedelta64[ns]'` where addition or subtraction of `TimedeltaIndex`
    had results cast to `dtype='int64'` ([GH 17250](https://github.com/pandas-dev/pandas/issues/17250))
  id: totrans-1805
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    使用 `dtype=''timedelta64[ns]''` 时，`TimedeltaIndex` 的加法或减法结果被转换为 `dtype=''int64''`
    的问题 ([GH 17250](https://github.com/pandas-dev/pandas/issues/17250))'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    with `dtype='timedelta64[ns]'` where addition or subtraction of `TimedeltaIndex`
    could return a `Series` with an incorrect name ([GH 19043](https://github.com/pandas-dev/pandas/issues/19043))
  id: totrans-1806
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    使用 `dtype=''timedelta64[ns]''` 时，`TimedeltaIndex` 的加法或减法可能返回具有不正确名称的 `Series`
    的问题 ([GH 19043](https://github.com/pandas-dev/pandas/issues/19043))'
- en: Bug in `Timedelta.__floordiv__()` and `Timedelta.__rfloordiv__()` dividing by
    many incompatible numpy objects was incorrectly allowed ([GH 18846](https://github.com/pandas-dev/pandas/issues/18846))
  id: totrans-1807
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timedelta.__floordiv__()` 和 `Timedelta.__rfloordiv__()` 中的一个 bug，允许通过许多不兼容的
    numpy 对象进行除法运算 ([GH 18846](https://github.com/pandas-dev/pandas/issues/18846))'
- en: Bug where dividing a scalar timedelta-like object with [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") performed the reciprocal operation ([GH 19125](https://github.com/pandas-dev/pandas/issues/19125))
  id: totrans-1808
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个 bug，将标量 timedelta-like 对象与 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 进行除法运算会执行倒数运算 ([GH 19125](https://github.com/pandas-dev/pandas/issues/19125))
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where division by a `Series` would return a `TimedeltaIndex`
    instead of a `Series` ([GH 19042](https://github.com/pandas-dev/pandas/issues/19042))
  id: totrans-1809
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 中的一个 bug，在除以 `Series` 时会返回一个 `TimedeltaIndex`，而不是一个 `Series`
    ([GH 19042](https://github.com/pandas-dev/pandas/issues/19042))'
- en: Bug in `Timedelta.__add__()`, `Timedelta.__sub__()` where adding or subtracting
    a `np.timedelta64` object would return another `np.timedelta64` instead of a `Timedelta`
    ([GH 19738](https://github.com/pandas-dev/pandas/issues/19738))
  id: totrans-1810
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timedelta.__add__()` 和 `Timedelta.__sub__()` 中的一个 bug，在加减 `np.timedelta64`
    对象时会返回另一个 `np.timedelta64`，而不是一个 `Timedelta` ([GH 19738](https://github.com/pandas-dev/pandas/issues/19738))'
- en: Bug in `Timedelta.__floordiv__()`, `Timedelta.__rfloordiv__()` where operating
    with a `Tick` object would raise a `TypeError` instead of returning a numeric
    value ([GH 19738](https://github.com/pandas-dev/pandas/issues/19738))
  id: totrans-1811
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timedelta.__floordiv__()` 和 `Timedelta.__rfloordiv__()` 中的一个 bug，在与 `Tick`
    对象进行运算时，会引发 `TypeError`，而不是返回一个数值 ([GH 19738](https://github.com/pandas-dev/pandas/issues/19738))'
- en: Bug in [`Period.asfreq()`](../reference/api/pandas.Period.asfreq.html#pandas.Period.asfreq
    "pandas.Period.asfreq") where periods near `datetime(1, 1, 1)` could be converted
    incorrectly ([GH 19643](https://github.com/pandas-dev/pandas/issues/19643), [GH
    19834](https://github.com/pandas-dev/pandas/issues/19834))
  id: totrans-1812
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Period.asfreq()`](../reference/api/pandas.Period.asfreq.html#pandas.Period.asfreq
    "pandas.Period.asfreq") 中的一个 bug，在接近 `datetime(1, 1, 1)` 的周期可能会被错误地转换 ([GH 19643](https://github.com/pandas-dev/pandas/issues/19643),
    [GH 19834](https://github.com/pandas-dev/pandas/issues/19834))'
- en: Bug in [`Timedelta.total_seconds()`](../reference/api/pandas.Timedelta.total_seconds.html#pandas.Timedelta.total_seconds
    "pandas.Timedelta.total_seconds") causing precision errors, for example `Timedelta('30S').total_seconds()==30.000000000000004`
    ([GH 19458](https://github.com/pandas-dev/pandas/issues/19458))
  id: totrans-1813
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timedelta.total_seconds()`](../reference/api/pandas.Timedelta.total_seconds.html#pandas.Timedelta.total_seconds
    "pandas.Timedelta.total_seconds") 中的一个 bug，导致精度错误，例如 `Timedelta(''30S'').total_seconds()==30.000000000000004`
    ([GH 19458](https://github.com/pandas-dev/pandas/issues/19458))'
- en: Bug in `Timedelta.__rmod__()` where operating with a `numpy.timedelta64` returned
    a `timedelta64` object instead of a `Timedelta` ([GH 19820](https://github.com/pandas-dev/pandas/issues/19820))
  id: totrans-1814
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timedelta.__rmod__()` 中的一个 bug，当与 `numpy.timedelta64` 运算时返回了一个 `timedelta64`
    对象，而不是一个 `Timedelta` 对象 ([GH 19820](https://github.com/pandas-dev/pandas/issues/19820))'
- en: Multiplication of [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") by `TimedeltaIndex` will now raise `TypeError` instead
    of raising `ValueError` in cases of length mismatch ([GH 19333](https://github.com/pandas-dev/pandas/issues/19333))
  id: totrans-1815
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 乘以 `TimedeltaIndex` 现在会引发 `TypeError`，而不是在长度不匹配的情况下引发
    `ValueError` ([GH 19333](https://github.com/pandas-dev/pandas/issues/19333))'
- en: Bug in indexing a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") with a `np.timedelta64` object which was raising a `TypeError`
    ([GH 20393](https://github.com/pandas-dev/pandas/issues/20393))
  id: totrans-1816
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用 `np.timedelta64` 对象索引一个 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 的一个 bug，会引发 `TypeError` ([GH 20393](https://github.com/pandas-dev/pandas/issues/20393))
- en: Timezones
  id: totrans-1817
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时区
- en: Bug in creating a `Series` from an array that contains both tz-naive and tz-aware
    values will result in a `Series` whose dtype is tz-aware instead of object ([GH
    16406](https://github.com/pandas-dev/pandas/issues/16406))
  id: totrans-1818
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建一个包含 tz-naive 和 tz-aware 值的数组的 `Series` 中的一个 bug，会导致 `Series` 的 dtype 是 tz-aware，而不是
    object ([GH 16406](https://github.com/pandas-dev/pandas/issues/16406))
- en: Bug in comparison of timezone-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") against `NaT` incorrectly raising `TypeError` ([GH 19276](https://github.com/pandas-dev/pandas/issues/19276))
  id: totrans-1819
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 时区感知的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")与`NaT`比较中的错误引发了`TypeError`（[GH 19276](https://github.com/pandas-dev/pandas/issues/19276)）
- en: Bug in `DatetimeIndex.astype()` when converting between timezone aware dtypes,
    and converting from timezone aware to naive ([GH 18951](https://github.com/pandas-dev/pandas/issues/18951))
  id: totrans-1820
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将时区感知的数据类型转换为时区感知的数据类型，并从时区感知的转换为无时区时的`DatetimeIndex.astype()`中存在错误（[GH 18951](https://github.com/pandas-dev/pandas/issues/18951)）
- en: Bug in comparing [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), which failed to raise `TypeError` when attempting to
    compare timezone-aware and timezone-naive datetimelike objects ([GH 18162](https://github.com/pandas-dev/pandas/issues/18162))
  id: totrans-1821
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在比较[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")时，当尝试比较时区感知和时区无关的日期时间对象时，未能引发`TypeError`（[GH 18162](https://github.com/pandas-dev/pandas/issues/18162)）
- en: Bug in localization of a naive, datetime string in a `Series` constructor with
    a `datetime64[ns, tz]` dtype ([GH 174151](https://github.com/pandas-dev/pandas/issues/174151))
  id: totrans-1822
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Series`构造函数中，对于具有`datetime64[ns, tz]`数据类型的无时区，日期时间字符串的本地化存在错误（[GH 174151](https://github.com/pandas-dev/pandas/issues/174151)）
- en: '[`Timestamp.replace()`](../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace
    "pandas.Timestamp.replace") will now handle Daylight Savings transitions gracefully
    ([GH 18319](https://github.com/pandas-dev/pandas/issues/18319))'
  id: totrans-1823
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.replace()`](../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace
    "pandas.Timestamp.replace")现在将优雅地处理夏令时转换（[GH 18319](https://github.com/pandas-dev/pandas/issues/18319)）'
- en: Bug in tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where addition/subtraction with a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") or array with `dtype='timedelta64[ns]'` was incorrect
    ([GH 17558](https://github.com/pandas-dev/pandas/issues/17558))
  id: totrans-1824
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有时区感知的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")中的错误，与具有`dtype='timedelta64[ns]'`的[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")或数组进行加法/减法时是错误的（[GH 17558](https://github.com/pandas-dev/pandas/issues/17558)）
- en: Bug in `DatetimeIndex.insert()` where inserting `NaT` into a timezone-aware
    index incorrectly raised ([GH 16357](https://github.com/pandas-dev/pandas/issues/16357))
  id: totrans-1825
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DatetimeIndex.insert()`中插入`NaT`到时区感知索引时出现错误的bug（[GH 16357](https://github.com/pandas-dev/pandas/issues/16357)）
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor, where tz-aware Datetimeindex and a given column
    name will result in an empty `DataFrame` ([GH 19157](https://github.com/pandas-dev/pandas/issues/19157))
  id: totrans-1826
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")构造函数中，时区感知的`Datetimeindex`和给定的列名将导致空的`DataFrame`（[GH
    19157](https://github.com/pandas-dev/pandas/issues/19157)）
- en: Bug in [`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize") where localizing a timestamp near the minimum
    or maximum valid values could overflow and return a timestamp with an incorrect
    nanosecond value ([GH 12677](https://github.com/pandas-dev/pandas/issues/12677))
  id: totrans-1827
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timestamp.tz_localize()`中的错误，在将时间戳定位到接近最小或最大有效值时可能会溢出，并返回具有不正确纳秒值的时间戳（[GH
    12677](https://github.com/pandas-dev/pandas/issues/12677)）'
- en: Bug when iterating over [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") that was localized with fixed timezone offset that rounded
    nanosecond precision to microseconds ([GH 19603](https://github.com/pandas-dev/pandas/issues/19603))
  id: totrans-1828
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在迭代经过固定时区偏移定位的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")时，会将纳秒精度舍入为微秒的错误（[GH 19603](https://github.com/pandas-dev/pandas/issues/19603)）
- en: Bug in [`DataFrame.diff()`](../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff
    "pandas.DataFrame.diff") that raised an `IndexError` with tz-aware values ([GH
    18578](https://github.com/pandas-dev/pandas/issues/18578))
  id: totrans-1829
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有时区感知值的情况下，[`DataFrame.diff()`](../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff
    "pandas.DataFrame.diff")引发了`IndexError`（[GH 18578](https://github.com/pandas-dev/pandas/issues/18578)）
- en: Bug in [`melt()`](../reference/api/pandas.melt.html#pandas.melt "pandas.melt")
    that converted tz-aware dtypes to tz-naive ([GH 15785](https://github.com/pandas-dev/pandas/issues/15785))
  id: totrans-1830
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`melt()`](../reference/api/pandas.melt.html#pandas.melt "pandas.melt") 中的错误，将时区感知的数据类型转换为时区不可知的数据类型（[GH
    15785](https://github.com/pandas-dev/pandas/issues/15785)）'
- en: Bug in `Dataframe.count()` that raised an `ValueError`, if `Dataframe.dropna()`
    was called for a single column with timezone-aware values. ([GH 13407](https://github.com/pandas-dev/pandas/issues/13407))
  id: totrans-1831
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Dataframe.count()` 中的错误，如果为具有时区感知值的单个列调用 `Dataframe.dropna()`，则引发 `ValueError`（[GH
    13407](https://github.com/pandas-dev/pandas/issues/13407)）'
- en: Offsets
  id: totrans-1832
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 偏移量
- en: Bug in `WeekOfMonth` and `Week` where addition and subtraction did not roll
    correctly ([GH 18510](https://github.com/pandas-dev/pandas/issues/18510), [GH
    18672](https://github.com/pandas-dev/pandas/issues/18672), [GH 18864](https://github.com/pandas-dev/pandas/issues/18864))
  id: totrans-1833
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`WeekOfMonth` 和 `Week` 中的错误，加法和减法未正确进行滚动（[GH 18510](https://github.com/pandas-dev/pandas/issues/18510)，[GH
    18672](https://github.com/pandas-dev/pandas/issues/18672)，[GH 18864](https://github.com/pandas-dev/pandas/issues/18864)）'
- en: Bug in `WeekOfMonth` and `LastWeekOfMonth` where default keyword arguments for
    constructor raised `ValueError` ([GH 19142](https://github.com/pandas-dev/pandas/issues/19142))
  id: totrans-1834
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`WeekOfMonth` 和 `LastWeekOfMonth` 中的错误，构造函数的默认关键字参数引发了 `ValueError`（[GH 19142](https://github.com/pandas-dev/pandas/issues/19142)）'
- en: Bug in `FY5253Quarter`, `LastWeekOfMonth` where rollback and rollforward behavior
    was inconsistent with addition and subtraction behavior ([GH 18854](https://github.com/pandas-dev/pandas/issues/18854))
  id: totrans-1835
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`FY5253Quarter` 和 `LastWeekOfMonth` 中的错误，回滚和前进行为与加法和减法行为不一致（[GH 18854](https://github.com/pandas-dev/pandas/issues/18854)）'
- en: Bug in `FY5253` where `datetime` addition and subtraction incremented incorrectly
    for dates on the year-end but not normalized to midnight ([GH 18854](https://github.com/pandas-dev/pandas/issues/18854))
  id: totrans-1836
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`FY5253` 中的一个错误，`datetime` 的加法和减法在年末的日期上递增不正确，但未归一化到午夜（[GH 18854](https://github.com/pandas-dev/pandas/issues/18854)）'
- en: Bug in `FY5253` where date offsets could incorrectly raise an `AssertionError`
    in arithmetic operations ([GH 14774](https://github.com/pandas-dev/pandas/issues/14774))
  id: totrans-1837
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`FY5253` 中的一个错误，日期偏移可能会在算术运算中错误地引发 `AssertionError`（[GH 14774](https://github.com/pandas-dev/pandas/issues/14774)）'
- en: Numeric
  id: totrans-1838
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数值
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    constructor with an int or float list where specifying `dtype=str`, `dtype='str'`
    or `dtype='U'` failed to convert the data elements to strings ([GH 16605](https://github.com/pandas-dev/pandas/issues/16605))
  id: totrans-1839
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用整数或浮点数列表的 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    构造函数存在错误，指定 `dtype=str`、`dtype='str'` 或 `dtype='U'` 未能将数据元素转换为字符串（[GH 16605](https://github.com/pandas-dev/pandas/issues/16605)）
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    multiplication and division methods where operating with a `Series` would return
    an `Index` object instead of a `Series` object ([GH 19042](https://github.com/pandas-dev/pandas/issues/19042))
  id: totrans-1840
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") 的乘法和除法方法中的错误，与
    `Series` 进行操作会返回一个 `Index` 对象，而不是一个 `Series` 对象（[GH 19042](https://github.com/pandas-dev/pandas/issues/19042)）'
- en: Bug in the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor in which data containing very large positive or
    very large negative numbers was causing `OverflowError` ([GH 18584](https://github.com/pandas-dev/pandas/issues/18584))
  id: totrans-1841
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    构造函数中的错误，包含非常大的正数或非常大的负数的数据引起 `OverflowError`（[GH 18584](https://github.com/pandas-dev/pandas/issues/18584)）'
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    constructor with `dtype='uint64'` where int-like floats were not coerced to `UInt64Index`
    ([GH 18400](https://github.com/pandas-dev/pandas/issues/18400))
  id: totrans-1842
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `dtype='uint64'` 的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 构造函数存在错误，其中类似整数的浮点数未被强制转换为 `UInt64Index`（[GH 18400](https://github.com/pandas-dev/pandas/issues/18400)）
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") flex arithmetic (e.g. `df.add(other, fill_value=foo)`) with
    a `fill_value` other than `None` failed to raise `NotImplementedError` in corner
    cases where either the frame or `other` has length zero ([GH 19522](https://github.com/pandas-dev/pandas/issues/19522))
  id: totrans-1843
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    灵活算术中的错误（例如 `df.add(other, fill_value=foo)`），当帧或 `other` 中的一个长度为零时，在某些情况下未能引发
    `NotImplementedError`（[GH 19522](https://github.com/pandas-dev/pandas/issues/19522)）'
- en: Multiplication and division of numeric-dtyped [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") objects with timedelta-like scalars returns `TimedeltaIndex` instead
    of raising `TypeError` ([GH 19333](https://github.com/pandas-dev/pandas/issues/19333))
  id: totrans-1844
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数值类型的[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")对象与类似时间跨度的标量的乘法和除法返回`TimedeltaIndex`，而不是引发`TypeError`（[GH
    19333](https://github.com/pandas-dev/pandas/issues/19333)）
- en: Bug where `NaN` was returned instead of 0 by [`Series.pct_change()`](../reference/api/pandas.Series.pct_change.html#pandas.Series.pct_change
    "pandas.Series.pct_change") and [`DataFrame.pct_change()`](../reference/api/pandas.DataFrame.pct_change.html#pandas.DataFrame.pct_change
    "pandas.DataFrame.pct_change") when `fill_method` is not `None` ([GH 19873](https://github.com/pandas-dev/pandas/issues/19873))
  id: totrans-1845
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`fill_method`不是`None`时，[`Series.pct_change()`](../reference/api/pandas.Series.pct_change.html#pandas.Series.pct_change
    "pandas.Series.pct_change")和[`DataFrame.pct_change()`](../reference/api/pandas.DataFrame.pct_change.html#pandas.DataFrame.pct_change
    "pandas.DataFrame.pct_change")返回`NaN`而不是0的错误修复（[GH 19873](https://github.com/pandas-dev/pandas/issues/19873)）
- en: Strings
  id: totrans-1846
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 字符串
- en: Bug in [`Series.str.get()`](../reference/api/pandas.Series.str.get.html#pandas.Series.str.get
    "pandas.Series.str.get") with a dictionary in the values and the index not in
    the keys, raising `KeyError` ([GH 20671](https://github.com/pandas-dev/pandas/issues/20671))
  id: totrans-1847
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用字典作为值且索引不在键中的情况下，[`Series.str.get()`](../reference/api/pandas.Series.str.get.html#pandas.Series.str.get
    "pandas.Series.str.get")存在错误，引发`KeyError`（[GH 20671](https://github.com/pandas-dev/pandas/issues/20671)）
- en: Indexing
  id: totrans-1848
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 索引
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    construction from list of mixed type tuples ([GH 18505](https://github.com/pandas-dev/pandas/issues/18505))
  id: totrans-1849
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在从混合类型元组列表构建[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")时存在错误（[GH
    18505](https://github.com/pandas-dev/pandas/issues/18505)）
- en: Bug in [`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop") when passing a list of both tuples and non-tuples ([GH 18304](https://github.com/pandas-dev/pandas/issues/18304))
  id: totrans-1850
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在传递既包含元组又包含非元组的列表时存在[`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop")中的错误（[GH 18304](https://github.com/pandas-dev/pandas/issues/18304)）
- en: Bug in [`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop"), `Panel.drop()`, [`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop"), [`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop") where no `KeyError` is raised when dropping a non-existent
    element from an axis that contains duplicates ([GH 19186](https://github.com/pandas-dev/pandas/issues/19186))
  id: totrans-1851
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop")、`Panel.drop()`、[`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop")、[`Index.drop()`](../reference/api/pandas.Index.drop.html#pandas.Index.drop
    "pandas.Index.drop")中删除轴上不存在的元素时未引发`KeyError`的错误修复，该轴包含重复项（[GH 19186](https://github.com/pandas-dev/pandas/issues/19186)）
- en: Bug in indexing a datetimelike `Index` that raised `ValueError` instead of `IndexError`
    ([GH 18386](https://github.com/pandas-dev/pandas/issues/18386)).
  id: totrans-1852
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 索引日期时间类`Index`时引发`ValueError`而不是`IndexError`的错误（[GH 18386](https://github.com/pandas-dev/pandas/issues/18386)）
- en: '[`Index.to_series()`](../reference/api/pandas.Index.to_series.html#pandas.Index.to_series
    "pandas.Index.to_series") now accepts `index` and `name` kwargs ([GH 18699](https://github.com/pandas-dev/pandas/issues/18699))'
  id: totrans-1853
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.to_series()`](../reference/api/pandas.Index.to_series.html#pandas.Index.to_series
    "pandas.Index.to_series")现在接受`index`和`name`关键字参数（[GH 18699](https://github.com/pandas-dev/pandas/issues/18699)）'
- en: '[`DatetimeIndex.to_series()`](../reference/api/pandas.DatetimeIndex.to_series.html#pandas.DatetimeIndex.to_series
    "pandas.DatetimeIndex.to_series") now accepts `index` and `name` kwargs ([GH 18699](https://github.com/pandas-dev/pandas/issues/18699))'
  id: totrans-1854
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex.to_series()`](../reference/api/pandas.DatetimeIndex.to_series.html#pandas.DatetimeIndex.to_series
    "pandas.DatetimeIndex.to_series")现在接受`index`和`name`关键字参数（[GH 18699](https://github.com/pandas-dev/pandas/issues/18699)）'
- en: Bug in indexing non-scalar value from `Series` having non-unique `Index` will
    return value flattened ([GH 17610](https://github.com/pandas-dev/pandas/issues/17610))
  id: totrans-1855
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从具有非唯一`Index`的`Series`中索引非标量值时返回平坦化值的错误（[GH 17610](https://github.com/pandas-dev/pandas/issues/17610)）
- en: Bug in indexing with iterator containing only missing keys, which raised no
    error ([GH 20748](https://github.com/pandas-dev/pandas/issues/20748))
  id: totrans-1856
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包含仅包含缺失键的迭代器的索引存在错误，但未引发错误（[GH 20748](https://github.com/pandas-dev/pandas/issues/20748)）
- en: Fixed inconsistency in `.ix` between list and scalar keys when the index has
    integer dtype and does not include the desired keys ([GH 20753](https://github.com/pandas-dev/pandas/issues/20753))
  id: totrans-1857
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`.ix`在索引具有整数类型且不包含所需键时列表和标量键之间的不一致性（[GH 20753](https://github.com/pandas-dev/pandas/issues/20753)）
- en: Bug in `__setitem__` when indexing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a 2-d boolean ndarray ([GH 18582](https://github.com/pandas-dev/pandas/issues/18582))
  id: totrans-1858
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在索引 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    时，`__setitem__` 中的错误，使用 2-d 布尔 ndarray ([GH 18582](https://github.com/pandas-dev/pandas/issues/18582))
- en: Bug in `str.extractall` when there were no matches empty [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") was returned instead of appropriate [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 19034](https://github.com/pandas-dev/pandas/issues/19034))
  id: totrans-1859
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`str.extractall` 中的错误，当没有匹配时，返回了空的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 而不是适当的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 19034](https://github.com/pandas-dev/pandas/issues/19034))'
- en: Bug in [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") where empty and purely NA data was constructed inconsistently
    depending on the construction method ([GH 18421](https://github.com/pandas-dev/pandas/issues/18421))
  id: totrans-1860
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 中的错误，根据构建方法不一致地构建了空的和纯 NA 数据 ([GH 18421](https://github.com/pandas-dev/pandas/issues/18421))'
- en: Bug in `IntervalIndex.symmetric_difference()` where the symmetric difference
    with a non-`IntervalIndex` did not raise ([GH 18475](https://github.com/pandas-dev/pandas/issues/18475))
  id: totrans-1861
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.symmetric_difference()` 中的错误，与非 `IntervalIndex` 的对称差异未引发 ([GH
    18475](https://github.com/pandas-dev/pandas/issues/18475))'
- en: Bug in [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") where set operations that returned an empty `IntervalIndex`
    had the wrong dtype ([GH 19101](https://github.com/pandas-dev/pandas/issues/19101))
  id: totrans-1862
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 中存在的错误，即返回空的 `IntervalIndex` 的集合操作具有错误的 dtype ([GH 19101](https://github.com/pandas-dev/pandas/issues/19101))'
- en: Bug in [`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") where no `KeyError` is raised when passing
    in columns that don’t exist on the `DataFrame` ([GH 19726](https://github.com/pandas-dev/pandas/issues/19726))
  id: totrans-1863
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") 中的错误，在传入不存在于 `DataFrame` 上的列时，不会引发 `KeyError`
    ([GH 19726](https://github.com/pandas-dev/pandas/issues/19726))'
- en: Bug in `Index` subclasses constructors that ignore unexpected keyword arguments
    ([GH 19348](https://github.com/pandas-dev/pandas/issues/19348))
  id: totrans-1864
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在忽略意外关键字参数时，`Index` 子类构造函数中的错误 ([GH 19348](https://github.com/pandas-dev/pandas/issues/19348))
- en: Bug in [`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference") when taking difference of an `Index` with itself ([GH
    20040](https://github.com/pandas-dev/pandas/issues/20040))
  id: totrans-1865
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference") 中的错误，在将 `Index` 与自身取差集时 ([GH 20040](https://github.com/pandas-dev/pandas/issues/20040))'
- en: Bug in [`DataFrame.first_valid_index()`](../reference/api/pandas.DataFrame.first_valid_index.html#pandas.DataFrame.first_valid_index
    "pandas.DataFrame.first_valid_index") and [`DataFrame.last_valid_index()`](../reference/api/pandas.DataFrame.last_valid_index.html#pandas.DataFrame.last_valid_index
    "pandas.DataFrame.last_valid_index") in presence of entire rows of NaNs in the
    middle of values ([GH 20499](https://github.com/pandas-dev/pandas/issues/20499)).
  id: totrans-1866
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在中间值中存在整行 NaN 时，[`DataFrame.first_valid_index()`](../reference/api/pandas.DataFrame.first_valid_index.html#pandas.DataFrame.first_valid_index
    "pandas.DataFrame.first_valid_index") 和 [`DataFrame.last_valid_index()`](../reference/api/pandas.DataFrame.last_valid_index.html#pandas.DataFrame.last_valid_index
    "pandas.DataFrame.last_valid_index") 中的错误 ([GH 20499](https://github.com/pandas-dev/pandas/issues/20499))
- en: Bug in [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") where some indexing operations were not supported for
    overlapping or non-monotonic `uint64` data ([GH 20636](https://github.com/pandas-dev/pandas/issues/20636))
  id: totrans-1867
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 中的错误，在重叠或非单调 `uint64` 数据上不支持一些索引操作 ([GH 20636](https://github.com/pandas-dev/pandas/issues/20636))'
- en: Bug in `Series.is_unique` where extraneous output in stderr is shown if Series
    contains objects with `__ne__` defined ([GH 20661](https://github.com/pandas-dev/pandas/issues/20661))
  id: totrans-1868
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.is_unique` 中的错误，在 Series 包含定义了 `__ne__` 的对象时，显示了多余的 stderr 输出 ([GH
    20661](https://github.com/pandas-dev/pandas/issues/20661))'
- en: Bug in `.loc` assignment with a single-element list-like incorrectly assigns
    as a list ([GH 19474](https://github.com/pandas-dev/pandas/issues/19474))
  id: totrans-1869
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.loc` 分配中存在的单元素类似列表的错误分配为列表的错误（[GH 19474](https://github.com/pandas-dev/pandas/issues/19474)）'
- en: Bug in partial string indexing on a `Series/DataFrame` with a monotonic decreasing
    `DatetimeIndex` ([GH 19362](https://github.com/pandas-dev/pandas/issues/19362))
  id: totrans-1870
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有单调递减`DatetimeIndex`的`Series/DataFrame`上进行部分字符串索引的错误（[GH 19362](https://github.com/pandas-dev/pandas/issues/19362)）
- en: Bug in performing in-place operations on a `DataFrame` with a duplicate `Index`
    ([GH 17105](https://github.com/pandas-dev/pandas/issues/17105))
  id: totrans-1871
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有重复`Index`的`DataFrame`上执行原地操作时的错误（[GH 17105](https://github.com/pandas-dev/pandas/issues/17105)）
- en: Bug in [`IntervalIndex.get_loc()`](../reference/api/pandas.IntervalIndex.get_loc.html#pandas.IntervalIndex.get_loc
    "pandas.IntervalIndex.get_loc") and [`IntervalIndex.get_indexer()`](../reference/api/pandas.IntervalIndex.get_indexer.html#pandas.IntervalIndex.get_indexer
    "pandas.IntervalIndex.get_indexer") when used with an [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") containing a single interval ([GH 17284](https://github.com/pandas-dev/pandas/issues/17284),
    [GH 20921](https://github.com/pandas-dev/pandas/issues/20921))
  id: totrans-1872
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在包含单个区间的[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")上使用时，`IntervalIndex.get_loc()` 和 `IntervalIndex.get_indexer()`
    中的错误（[GH 17284](https://github.com/pandas-dev/pandas/issues/17284), [GH 20921](https://github.com/pandas-dev/pandas/issues/20921)）
- en: Bug in `.loc` with a `uint64` indexer ([GH 20722](https://github.com/pandas-dev/pandas/issues/20722))
  id: totrans-1873
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`uint64`索引器时`.loc`中的错误（[GH 20722](https://github.com/pandas-dev/pandas/issues/20722)）
- en: MultiIndex
  id: totrans-1874
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 多级索引
- en: Bug in `MultiIndex.__contains__()` where non-tuple keys would return `True`
    even if they had been dropped ([GH 19027](https://github.com/pandas-dev/pandas/issues/19027))
  id: totrans-1875
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.__contains__()` 中的错误，非元组键会返回`True`，即使它们已被删除（[GH 19027](https://github.com/pandas-dev/pandas/issues/19027)）'
- en: Bug in `MultiIndex.set_labels()` which would cause casting (and potentially
    clipping) of the new labels if the `level` argument is not 0 or a list like [0,
    1, … ] ([GH 19057](https://github.com/pandas-dev/pandas/issues/19057))
  id: totrans-1876
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.set_labels()` 中的错误，如果`level`参数不是0或类似于[0, 1, … ]的列表，则会导致新标签的转换（可能会截断）（[GH
    19057](https://github.com/pandas-dev/pandas/issues/19057)）'
- en: Bug in [`MultiIndex.get_level_values()`](../reference/api/pandas.MultiIndex.get_level_values.html#pandas.MultiIndex.get_level_values
    "pandas.MultiIndex.get_level_values") which would return an invalid index on level
    of ints with missing values ([GH 17924](https://github.com/pandas-dev/pandas/issues/17924))
  id: totrans-1877
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.get_level_values()`](../reference/api/pandas.MultiIndex.get_level_values.html#pandas.MultiIndex.get_level_values
    "pandas.MultiIndex.get_level_values") 中的错误，会在具有缺失值的整数级别上返回无效索引（[GH 17924](https://github.com/pandas-dev/pandas/issues/17924)）'
- en: Bug in `MultiIndex.unique()` when called on empty [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 20568](https://github.com/pandas-dev/pandas/issues/20568))
  id: totrans-1878
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在空的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")上调用时，`MultiIndex.unique()` 中的错误（[GH 20568](https://github.com/pandas-dev/pandas/issues/20568)）
- en: Bug in `MultiIndex.unique()` which would not preserve level names ([GH 20570](https://github.com/pandas-dev/pandas/issues/20570))
  id: totrans-1879
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.unique()` 中的错误，不会保留级别名称（[GH 20570](https://github.com/pandas-dev/pandas/issues/20570)）'
- en: Bug in [`MultiIndex.remove_unused_levels()`](../reference/api/pandas.MultiIndex.remove_unused_levels.html#pandas.MultiIndex.remove_unused_levels
    "pandas.MultiIndex.remove_unused_levels") which would fill nan values ([GH 18417](https://github.com/pandas-dev/pandas/issues/18417))
  id: totrans-1880
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.remove_unused_levels()`](../reference/api/pandas.MultiIndex.remove_unused_levels.html#pandas.MultiIndex.remove_unused_levels
    "pandas.MultiIndex.remove_unused_levels") 中的错误，会填充nan值（[GH 18417](https://github.com/pandas-dev/pandas/issues/18417)）'
- en: Bug in [`MultiIndex.from_tuples()`](../reference/api/pandas.MultiIndex.from_tuples.html#pandas.MultiIndex.from_tuples
    "pandas.MultiIndex.from_tuples") which would fail to take zipped tuples in python3
    ([GH 18434](https://github.com/pandas-dev/pandas/issues/18434))
  id: totrans-1881
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.from_tuples()`](../reference/api/pandas.MultiIndex.from_tuples.html#pandas.MultiIndex.from_tuples
    "pandas.MultiIndex.from_tuples") 中的错误，会在python3中无法处理压缩的元组（[GH 18434](https://github.com/pandas-dev/pandas/issues/18434)）'
- en: Bug in [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") which would fail to automatically cast values between
    float and int ([GH 18818](https://github.com/pandas-dev/pandas/issues/18818),
    [GH 15994](https://github.com/pandas-dev/pandas/issues/15994))
  id: totrans-1882
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") 中的一个错误，无法自动将值在浮点和整数之间转换（[GH 18818](https://github.com/pandas-dev/pandas/issues/18818),
    [GH 15994](https://github.com/pandas-dev/pandas/issues/15994)）'
- en: Bug in [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") which would cast boolean to integer labels ([GH 19086](https://github.com/pandas-dev/pandas/issues/19086))
  id: totrans-1883
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") 中的一个错误，会将布尔值转换为整数标签（[GH 19086](https://github.com/pandas-dev/pandas/issues/19086)）'
- en: Bug in [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") which would fail to locate keys containing `NaN`
    ([GH 18485](https://github.com/pandas-dev/pandas/issues/18485))
  id: totrans-1884
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") 中的一个错误，无法定位包含 `NaN` 的键（[GH 18485](https://github.com/pandas-dev/pandas/issues/18485)）'
- en: Bug in [`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") in large [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex"), would fail when levels had different dtypes ([GH 18520](https://github.com/pandas-dev/pandas/issues/18520))
  id: totrans-1885
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在大型 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 中，[`MultiIndex.get_loc()`](../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc
    "pandas.MultiIndex.get_loc") 中的一个错误，当级别具有不同的数据类型时会失败（[GH 18520](https://github.com/pandas-dev/pandas/issues/18520)）
- en: Bug in indexing where nested indexers having only numpy arrays are handled incorrectly
    ([GH 19686](https://github.com/pandas-dev/pandas/issues/19686))
  id: totrans-1886
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 索引中的一个错误，处理仅包含 numpy 数组的嵌套索引时会出现错误（[GH 19686](https://github.com/pandas-dev/pandas/issues/19686)）
- en: IO
  id: totrans-1887
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: IO
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    now rewinds seekable IO objects after parse failure, before attempting to parse
    with a new parser. If a parser errors and the object is non-seekable, an informative
    error is raised suggesting the use of a different parser ([GH 17975](https://github.com/pandas-dev/pandas/issues/17975))'
  id: totrans-1888
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    现在在解析失败后，会在尝试使用新解析器之前将可寻址 IO 对象倒回。如果解析器出错并且对象不可寻址，则会提出建议使用不同的解析器的详细错误（[GH 17975](https://github.com/pandas-dev/pandas/issues/17975)）'
- en: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") now has an option to add an id to the leading `<table>`
    tag ([GH 8496](https://github.com/pandas-dev/pandas/issues/8496))'
  id: totrans-1889
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 现在有一个选项，可以在前导 `<table>` 标签上添加一个 id（[GH 8496](https://github.com/pandas-dev/pandas/issues/8496)）'
- en: Bug in `read_msgpack()` with a non existent file is passed in Python 2 ([GH
    15296](https://github.com/pandas-dev/pandas/issues/15296))
  id: totrans-1890
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Python 2 中传递了一个不存在的文件时，在 `read_msgpack()` 中出现错误（[GH 15296](https://github.com/pandas-dev/pandas/issues/15296)）
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") where a `MultiIndex` with duplicate columns was not being mangled
    appropriately ([GH 18062](https://github.com/pandas-dev/pandas/issues/18062))
  id: totrans-1891
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    中的一个错误，`MultiIndex` 中存在重复列时未被适当地处理（[GH 18062](https://github.com/pandas-dev/pandas/issues/18062)）'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") where missing values were not being handled properly when `keep_default_na=False`
    with dictionary `na_values` ([GH 19227](https://github.com/pandas-dev/pandas/issues/19227))
  id: totrans-1892
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `keep_default_na=False` 且带有字典 `na_values` 时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中的一个错误，缺失值未被正确处理（[GH 19227](https://github.com/pandas-dev/pandas/issues/19227)）
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") causing heap corruption on 32-bit, big-endian architectures
    ([GH 20785](https://github.com/pandas-dev/pandas/issues/20785))
  id: totrans-1893
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    中的一个错误，在 32 位、大端架构上导致堆损坏（[GH 20785](https://github.com/pandas-dev/pandas/issues/20785)）'
- en: Bug in [`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas
    "pandas.read_sas") where a file with 0 variables gave an `AttributeError` incorrectly.
    Now it gives an `EmptyDataError` ([GH 18184](https://github.com/pandas-dev/pandas/issues/18184))
  id: totrans-1894
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")中的一个错误，其中具有0变量的文件错误地导致`AttributeError`。现在会给出`EmptyDataError`（[GH
    18184](https://github.com/pandas-dev/pandas/issues/18184)）'
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where pairs of braces meant to serve as invisible
    placeholders were escaped ([GH 18667](https://github.com/pandas-dev/pandas/issues/18667))
  id: totrans-1895
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex")中的一个错误，其中作为不可见占位符的一对大括号会被转义（[GH 18667](https://github.com/pandas-dev/pandas/issues/18667)）'
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where a `NaN` in a `MultiIndex` would cause an `IndexError`
    or incorrect output ([GH 14249](https://github.com/pandas-dev/pandas/issues/14249))
  id: totrans-1896
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex")中的一个错误，其中`MultiIndex`中的`NaN`会导致`IndexError`或不正确的输出（[GH
    14249](https://github.com/pandas-dev/pandas/issues/14249)）'
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where a non-string index-level name would result
    in an `AttributeError` ([GH 19981](https://github.com/pandas-dev/pandas/issues/19981))
  id: totrans-1897
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex")中的一个错误，其中非字符串索引级别名称会导致`AttributeError`（[GH 19981](https://github.com/pandas-dev/pandas/issues/19981)）'
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where the combination of an index name and the `index_names=False`
    option would result in incorrect output ([GH 18326](https://github.com/pandas-dev/pandas/issues/18326))
  id: totrans-1898
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex")中的一个错误，其中索引名称和`index_names=False`选项的组合会导致不正确的输出（[GH
    18326](https://github.com/pandas-dev/pandas/issues/18326)）'
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where a `MultiIndex` with an empty string as its
    name would result in incorrect output ([GH 18669](https://github.com/pandas-dev/pandas/issues/18669))
  id: totrans-1899
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex")中的一个错误，其中具有空字符串作为名称的`MultiIndex`会导致不正确的输出（[GH 18669](https://github.com/pandas-dev/pandas/issues/18669)）'
- en: Bug in [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") where missing space characters caused wrong escaping
    and produced non-valid latex in some cases ([GH 20859](https://github.com/pandas-dev/pandas/issues/20859))
  id: totrans-1900
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex")中的一个错误，其中缺少空格字符会导致错误的转义，并在某些情况下生成无效的latex（[GH 20859](https://github.com/pandas-dev/pandas/issues/20859)）'
- en: Bug in [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") where large numeric values were causing an `OverflowError`
    ([GH 18842](https://github.com/pandas-dev/pandas/issues/18842))
  id: totrans-1901
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json "pandas.read_json")中的一个错误，其中大数值会导致`OverflowError`（[GH
    18842](https://github.com/pandas-dev/pandas/issues/18842)）'
- en: Bug in [`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") where an exception was raised if the write destination
    is S3 ([GH 19134](https://github.com/pandas-dev/pandas/issues/19134))
  id: totrans-1902
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet")中的一个错误，其中如果写入目标是S3，则会引发异常（[GH 19134](https://github.com/pandas-dev/pandas/issues/19134)）'
- en: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    now supported in [`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel") for all Excel file types ([GH 19242](https://github.com/pandas-dev/pandas/issues/19242))'
  id: totrans-1903
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel")中现在支持所有Excel文件类型的[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval
    "pandas.Interval")（[GH 19242](https://github.com/pandas-dev/pandas/issues/19242)）'
- en: '[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta "pandas.Timedelta")
    now supported in [`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel") for all Excel file types ([GH 19242](https://github.com/pandas-dev/pandas/issues/19242),
    [GH 9155](https://github.com/pandas-dev/pandas/issues/9155), [GH 19900](https://github.com/pandas-dev/pandas/issues/19900))'
  id: totrans-1904
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta "pandas.Timedelta")
    现在支持在所有 Excel 文件类型中使用 [`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel")（[GH 19242](https://github.com/pandas-dev/pandas/issues/19242),
    [GH 9155](https://github.com/pandas-dev/pandas/issues/9155), [GH 19900](https://github.com/pandas-dev/pandas/issues/19900))'
- en: Bug in [`pandas.io.stata.StataReader.value_labels()`](../reference/api/pandas.io.stata.StataReader.value_labels.html#pandas.io.stata.StataReader.value_labels
    "pandas.io.stata.StataReader.value_labels") raising an `AttributeError` when called
    on very old files. Now returns an empty dict ([GH 19417](https://github.com/pandas-dev/pandas/issues/19417))
  id: totrans-1905
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在调用非常旧文件时，[`pandas.io.stata.StataReader.value_labels()`](../reference/api/pandas.io.stata.StataReader.value_labels.html#pandas.io.stata.StataReader.value_labels
    "pandas.io.stata.StataReader.value_labels") 报错 `AttributeError` 的 bug 已修复，现在返回一个空字典
    ([GH 19417](https://github.com/pandas-dev/pandas/issues/19417))
- en: Bug in [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") when unpickling objects with [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") or `Float64Index` created with pandas prior to version
    0.20 ([GH 19939](https://github.com/pandas-dev/pandas/issues/19939))
  id: totrans-1906
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 pandas 版本 0.20 之前创建的具有 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 或 `Float64Index` 的对象时，在 [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") 中的 bug 已修复 ([GH 19939](https://github.com/pandas-dev/pandas/issues/19939))
- en: Bug in `pandas.io.json.json_normalize()` where sub-records are not properly
    normalized if any sub-records values are NoneType ([GH 20030](https://github.com/pandas-dev/pandas/issues/20030))
  id: totrans-1907
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `pandas.io.json.json_normalize()` 中的 bug 已修复，如果任何子记录的值为 NoneType，则子记录未正确规范化
    ([GH 20030](https://github.com/pandas-dev/pandas/issues/20030))
- en: Bug in `usecols` parameter in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") where error is not raised correctly when passing a string.
    ([GH 20529](https://github.com/pandas-dev/pandas/issues/20529))
  id: totrans-1908
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    中的 `usecols` 参数中，当传递字符串时未正确引发错误 ([GH 20529](https://github.com/pandas-dev/pandas/issues/20529))
- en: Bug in [`HDFStore.keys()`](../reference/api/pandas.HDFStore.keys.html#pandas.HDFStore.keys
    "pandas.HDFStore.keys") when reading a file with a soft link causes exception
    ([GH 20523](https://github.com/pandas-dev/pandas/issues/20523))
  id: totrans-1909
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在读取带软链接文件时，[`HDFStore.keys()`](../reference/api/pandas.HDFStore.keys.html#pandas.HDFStore.keys
    "pandas.HDFStore.keys") 中的 bug 导致异常 ([GH 20523](https://github.com/pandas-dev/pandas/issues/20523))
- en: Bug in `HDFStore.select_column()` where a key which is not a valid store raised
    an `AttributeError` instead of a `KeyError` ([GH 17912](https://github.com/pandas-dev/pandas/issues/17912))
  id: totrans-1910
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `HDFStore.select_column()` 中的 bug 已修复，当键无效时引发 `AttributeError` 而不是 `KeyError`
    ([GH 17912](https://github.com/pandas-dev/pandas/issues/17912))
- en: Plotting
  id: totrans-1911
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 绘图
- en: Better error message when attempting to plot but matplotlib is not installed
    ([GH 19810](https://github.com/pandas-dev/pandas/issues/19810)).
  id: totrans-1912
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当尝试绘图但未安装 matplotlib 时，现在会有更好的错误消息提示 ([GH 19810](https://github.com/pandas-dev/pandas/issues/19810)).
- en: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") now raises a `ValueError` when the `x` or `y` argument
    is improperly formed ([GH 18671](https://github.com/pandas-dev/pandas/issues/18671))'
  id: totrans-1913
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `x` 或 `y` 参数格式不正确时，[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 现在会引发 `ValueError` ([GH 18671](https://github.com/pandas-dev/pandas/issues/18671))
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") when `x` and `y` arguments given as positions caused
    incorrect referenced columns for line, bar and area plots ([GH 20056](https://github.com/pandas-dev/pandas/issues/20056))
  id: totrans-1914
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当 `x` 和 `y` 参数作为位置给出时，在线条、柱状图和面积图中引用的列不正确的 bug ([GH 20056](https://github.com/pandas-dev/pandas/issues/20056))
- en: Bug in formatting tick labels with `datetime.time()` and fractional seconds
    ([GH 18478](https://github.com/pandas-dev/pandas/issues/18478)).
  id: totrans-1915
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用 `datetime.time()` 和小数秒格式化刻度标签时的 bug ([GH 18478](https://github.com/pandas-dev/pandas/issues/18478)).
- en: '[`Series.plot.kde()`](../reference/api/pandas.Series.plot.kde.html#pandas.Series.plot.kde
    "pandas.Series.plot.kde") has exposed the args `ind` and `bw_method` in the docstring
    ([GH 18461](https://github.com/pandas-dev/pandas/issues/18461)). The argument
    `ind` may now also be an integer (number of sample points).'
  id: totrans-1916
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.plot.kde()` 中的文档现已公开参数 `ind` 和 `bw_method`（[GH 18461](https://github.com/pandas-dev/pandas/issues/18461)）。现在参数
    `ind` 也可以是整数（样本点的数量）。'
- en: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") now supports multiple columns to the `y` argument ([GH
    19699](https://github.com/pandas-dev/pandas/issues/19699))'
  id: totrans-1917
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.plot()` 现在支持将多列传递给 `y` 参数（[GH 19699](https://github.com/pandas-dev/pandas/issues/19699)）'
- en: GroupBy/resample/rolling
  id: totrans-1918
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: GroupBy/resample/rolling
- en: Bug when grouping by a single column and aggregating with a class like `list`
    or `tuple` ([GH 18079](https://github.com/pandas-dev/pandas/issues/18079))
  id: totrans-1919
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当按单个列进行分组并使用 `list` 或 `tuple` 等类进行聚合时存在的 bug（[GH 18079](https://github.com/pandas-dev/pandas/issues/18079)）
- en: Fixed regression in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") which would not emit an error when called with a tuple
    key not in the index ([GH 18798](https://github.com/pandas-dev/pandas/issues/18798))
  id: totrans-1920
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrame.groupby()` 存在的回归错误已修复，在以元组键调用时不会产生错误，即使该键不在索引中（[GH 18798](https://github.com/pandas-dev/pandas/issues/18798)）
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") which silently ignored unsupported (or mistyped)
    options for `label`, `closed` and `convention` ([GH 19303](https://github.com/pandas-dev/pandas/issues/19303))
  id: totrans-1921
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.resample()`存在的 bug，会默默地忽略对 `label`、`closed` 和 `convention` 不支持（或者输错了的）选项（[GH
    19303](https://github.com/pandas-dev/pandas/issues/19303)）'
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") where tuples were interpreted as lists of keys rather
    than as keys ([GH 17979](https://github.com/pandas-dev/pandas/issues/17979), [GH
    18249](https://github.com/pandas-dev/pandas/issues/18249))
  id: totrans-1922
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.groupby()` 存在的 bug，在解释元组时将其视为键列表而不是键本身（[GH 17979](https://github.com/pandas-dev/pandas/issues/17979)，[GH
    18249](https://github.com/pandas-dev/pandas/issues/18249)）'
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") where aggregation by `first`/`last`/`min`/`max` was
    causing timestamps to lose precision ([GH 19526](https://github.com/pandas-dev/pandas/issues/19526))
  id: totrans-1923
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.groupby()` 中存在的 bug，在通过 `first`/`last`/`min`/`max` 进行聚合时导致时间戳失去精度（[GH
    19526](https://github.com/pandas-dev/pandas/issues/19526)）'
- en: Bug in [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") where particular aggregation functions were being
    incorrectly cast to match the dtype(s) of the grouped data ([GH 19200](https://github.com/pandas-dev/pandas/issues/19200))
  id: totrans-1924
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.transform()` 中存在的 bug，特定聚合函数被错误地转换以匹配分组数据的 dtype（[GH 19200](https://github.com/pandas-dev/pandas/issues/19200)）'
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") passing the `on=` kwarg, and subsequently using `.apply()`
    ([GH 17813](https://github.com/pandas-dev/pandas/issues/17813))
  id: totrans-1925
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.groupby()` 中存在的 bug，在传递 `on=` 关键字参数并随后使用 `.apply()` 时（[GH 17813](https://github.com/pandas-dev/pandas/issues/17813)）'
- en: Bug in `DataFrame.resample().aggregate` not raising a `KeyError` when aggregating
    a non-existent column ([GH 16766](https://github.com/pandas-dev/pandas/issues/16766),
    [GH 19566](https://github.com/pandas-dev/pandas/issues/19566))
  id: totrans-1926
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.resample().aggregate` 存在的 bug，在聚合不存在的列时没有触发 `KeyError`（[GH 16766](https://github.com/pandas-dev/pandas/issues/16766)，[GH
    19566](https://github.com/pandas-dev/pandas/issues/19566)）'
- en: Bug in `DataFrameGroupBy.cumsum()` and `DataFrameGroupBy.cumprod()` when `skipna`
    was passed ([GH 19806](https://github.com/pandas-dev/pandas/issues/19806))
  id: totrans-1927
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy.cumsum()` 和 `DataFrameGroupBy.cumprod()` 存在的 bug，当传递了 `skipna`
    参数时出现问题（[GH 19806](https://github.com/pandas-dev/pandas/issues/19806)）'
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") that dropped timezone information ([GH 13238](https://github.com/pandas-dev/pandas/issues/13238))
  id: totrans-1928
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample")中删除时区信息的错误（[GH 13238](https://github.com/pandas-dev/pandas/issues/13238)）
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") where transformations using `np.all` and `np.any`
    were raising a `ValueError` ([GH 20653](https://github.com/pandas-dev/pandas/issues/20653))
  id: totrans-1929
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby")中使用`np.all`和`np.any`进行转换时引发`ValueError`的错误（[GH 20653](https://github.com/pandas-dev/pandas/issues/20653)）
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") where `ffill`, `bfill`, `pad`, `backfill`, `fillna`,
    `interpolate`, and `asfreq` were ignoring `loffset`. ([GH 20744](https://github.com/pandas-dev/pandas/issues/20744))
  id: totrans-1930
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample")中，`ffill`、`bfill`、`pad`、`backfill`、`fillna`、`interpolate`和`asfreq`忽略了`loffset`。（[GH
    20744](https://github.com/pandas-dev/pandas/issues/20744)）
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") when applying a function that has mixed data types
    and the user supplied function can fail on the grouping column ([GH 20949](https://github.com/pandas-dev/pandas/issues/20949))
  id: totrans-1931
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby")中的错误，应用具有混合数据类型且用户提供的函数可能在分组列上失败（[GH 20949](https://github.com/pandas-dev/pandas/issues/20949)）
- en: Bug in `DataFrameGroupBy.rolling().apply()` where operations performed against
    the associated `DataFrameGroupBy` object could impact the inclusion of the grouped
    item(s) in the result ([GH 14013](https://github.com/pandas-dev/pandas/issues/14013))
  id: totrans-1932
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrameGroupBy.rolling().apply()`中的错误，其中对关联的`DataFrameGroupBy`对象执行的操作可能会影响结果中组合项的包含情况（[GH
    14013](https://github.com/pandas-dev/pandas/issues/14013)）
- en: Sparse
  id: totrans-1933
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 稀疏
- en: Bug in which creating a `SparseDataFrame` from a dense `Series` or an unsupported
    type raised an uncontrolled exception ([GH 19374](https://github.com/pandas-dev/pandas/issues/19374))
  id: totrans-1934
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从密集`Series`或不支持的类型创建`SparseDataFrame`时引发未受控制的异常的错误（[GH 19374](https://github.com/pandas-dev/pandas/issues/19374)）
- en: Bug in `SparseDataFrame.to_csv` causing exception ([GH 19384](https://github.com/pandas-dev/pandas/issues/19384))
  id: totrans-1935
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`SparseDataFrame.to_csv`中引发异常的错误（[GH 19384](https://github.com/pandas-dev/pandas/issues/19384)）
- en: Bug in `SparseSeries.memory_usage` which caused segfault by accessing non sparse
    elements ([GH 19368](https://github.com/pandas-dev/pandas/issues/19368))
  id: totrans-1936
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`SparseSeries.memory_usage`中的错误，通过访问非稀疏元素导致段错误（[GH 19368](https://github.com/pandas-dev/pandas/issues/19368)）
- en: 'Bug in constructing a `SparseArray`: if `data` is a scalar and `index` is defined
    it will coerce to `float64` regardless of scalar’s dtype. ([GH 19163](https://github.com/pandas-dev/pandas/issues/19163))'
  id: totrans-1937
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建`SparseArray`时的错误：如果`data`是标量且`index`已定义，则无论标量的dtype如何，它都会强制转换为`float64`。（[GH
    19163](https://github.com/pandas-dev/pandas/issues/19163)）
- en: Reshaping
  id: totrans-1938
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 重塑
- en: Bug in [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") where referencing a `CategoricalIndex` by name, where
    the `by` kwarg would `KeyError` ([GH 20777](https://github.com/pandas-dev/pandas/issues/20777))
  id: totrans-1939
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")中的错误，在其中通过名称引用`CategoricalIndex`，`by` kwarg会引发`KeyError`（[GH
    20777](https://github.com/pandas-dev/pandas/issues/20777)）
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") which fails trying to sort mixed type levels under Python
    3 ([GH 18310](https://github.com/pandas-dev/pandas/issues/18310))
  id: totrans-1940
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack")中的错误，尝试在Python 3下对混合类型级别进行排序时失败（[GH 18310](https://github.com/pandas-dev/pandas/issues/18310)）
- en: Bug in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") which casts int to float if `columns` is a `MultiIndex`
    with unused levels ([GH 17845](https://github.com/pandas-dev/pandas/issues/17845))
  id: totrans-1941
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")中的错误，如果`columns`是具有未使用级别的`MultiIndex`，则将int转换为float（[GH
    17845](https://github.com/pandas-dev/pandas/issues/17845)）
- en: Bug in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") which raises an error if `index` is a `MultiIndex`
    with unused labels on the unstacked level ([GH 18562](https://github.com/pandas-dev/pandas/issues/18562))
  id: totrans-1942
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")中的错误，如果`index`是未使用标签的`MultiIndex`，则会引发错误（[GH 18562](https://github.com/pandas-dev/pandas/issues/18562)）
- en: Fixed construction of a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") from a `dict` containing `NaN` as key ([GH 18480](https://github.com/pandas-dev/pandas/issues/18480))
  id: totrans-1943
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了从包含`NaN`作为键的`dict`构建[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")的错误（[GH 18480](https://github.com/pandas-dev/pandas/issues/18480)）
- en: Fixed construction of a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") from a `dict` containing `NaN` as key ([GH 18455](https://github.com/pandas-dev/pandas/issues/18455))
  id: totrans-1944
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了从包含`NaN`作为键的`dict`构建[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")的错误（[GH 18455](https://github.com/pandas-dev/pandas/issues/18455)）
- en: Disabled construction of a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") where len(index) > len(data) = 1, which previously would broadcast
    the data item, and now raises a `ValueError` ([GH 18819](https://github.com/pandas-dev/pandas/issues/18819))
  id: totrans-1945
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 禁止构建长度（index）>长度（data）= 1的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")，以前会广播数据项，现在会引发`ValueError`（[GH 18819](https://github.com/pandas-dev/pandas/issues/18819)）
- en: Suppressed error in the construction of a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") from a `dict` containing scalar values when the corresponding
    keys are not included in the passed index ([GH 18600](https://github.com/pandas-dev/pandas/issues/18600))
  id: totrans-1946
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了从包含标量值的`dict`构建[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")时的错误，当传递的索引中不包含相应的键时（[GH 18600](https://github.com/pandas-dev/pandas/issues/18600)）
- en: Fixed (changed from `object` to `float64`) dtype of [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") initialized with axes, no data, and `dtype=int` ([GH 19646](https://github.com/pandas-dev/pandas/issues/19646))
  id: totrans-1947
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用轴、无数据和`dtype=int`初始化的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")的dtype（从`object`更改为`float64`）（[GH 19646](https://github.com/pandas-dev/pandas/issues/19646)）
- en: Bug in [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") where `Series` containing `NaT` modifies the `Series` inplace
    ([GH 18521](https://github.com/pandas-dev/pandas/issues/18521))
  id: totrans-1948
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank")中的错误，其中包含`NaT`的`Series`会就地修改`Series`（[GH 18521](https://github.com/pandas-dev/pandas/issues/18521)）
- en: Bug in [`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") which
    fails when using readonly arrays ([GH 18773](https://github.com/pandas-dev/pandas/issues/18773))
  id: totrans-1949
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut")中的错误，当使用只读数组时会失败（[GH
    18773](https://github.com/pandas-dev/pandas/issues/18773)）
- en: Bug in [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") which fails when the `aggfunc` arg is of type
    string. The behavior is now consistent with other methods like `agg` and `apply`
    ([GH 18713](https://github.com/pandas-dev/pandas/issues/18713))
  id: totrans-1950
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table")中的错误，当`aggfunc`参数为字符串类型时会失败。现在的行为与`agg`和`apply`等其他方法一致（[GH
    18713](https://github.com/pandas-dev/pandas/issues/18713)）
- en: Bug in [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") in which merging using `Index` objects as vectors raised
    an Exception ([GH 19038](https://github.com/pandas-dev/pandas/issues/19038))
  id: totrans-1951
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")中的错误，使用`Index`对象作为向量进行合并会引发异常（[GH 19038](https://github.com/pandas-dev/pandas/issues/19038)）
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack"), [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack"), [`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack") which were not returning subclasses ([GH 15563](https://github.com/pandas-dev/pandas/issues/15563))
  id: totrans-1952
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack")，[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")，[`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack") 中的错误，未返回子类 ([GH 15563](https://github.com/pandas-dev/pandas/issues/15563))'
- en: Bug in timezone comparisons, manifesting as a conversion of the index to UTC
    in `.concat()` ([GH 18523](https://github.com/pandas-dev/pandas/issues/18523))
  id: totrans-1953
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 时区比较中的错误，表现为在`.concat()`中将索引转换为UTC时间 ([GH 18523](https://github.com/pandas-dev/pandas/issues/18523))
- en: Bug in [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    when concatenating sparse and dense series it returns only a `SparseDataFrame`.
    Should be a `DataFrame`. ([GH 18914](https://github.com/pandas-dev/pandas/issues/18914),
    [GH 18686](https://github.com/pandas-dev/pandas/issues/18686), and [GH 16874](https://github.com/pandas-dev/pandas/issues/16874))
  id: totrans-1954
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    中的错误，在连接稀疏和稠密系列时，只返回一个 `SparseDataFrame`，应该返回一个 `DataFrame` ([GH 18914](https://github.com/pandas-dev/pandas/issues/18914),
    [GH 18686](https://github.com/pandas-dev/pandas/issues/18686) 和 [GH 16874](https://github.com/pandas-dev/pandas/issues/16874))'
- en: Improved error message for [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") when there is no common merge key ([GH 19427](https://github.com/pandas-dev/pandas/issues/19427))
  id: totrans-1955
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") 的改进错误消息，当没有共同的合并键时，会有更好的错误消息（[GH 19427](https://github.com/pandas-dev/pandas/issues/19427)）'
- en: Bug in [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") which does an `outer` instead of a `left` join when being
    called with multiple DataFrames and some have non-unique indices ([GH 19624](https://github.com/pandas-dev/pandas/issues/19624))
  id: totrans-1956
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") 中的错误，在调用多个DataFrame并且其中一些具有非唯一索引时，执行 `outer` 而不是 `left`
    连接 ([GH 19624](https://github.com/pandas-dev/pandas/issues/19624))'
- en: '[`Series.rename()`](../reference/api/pandas.Series.rename.html#pandas.Series.rename
    "pandas.Series.rename") now accepts `axis` as a kwarg ([GH 18589](https://github.com/pandas-dev/pandas/issues/18589))'
  id: totrans-1957
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.rename()`](../reference/api/pandas.Series.rename.html#pandas.Series.rename
    "pandas.Series.rename") 现在接受 `axis` 作为关键字参数 ([GH 18589](https://github.com/pandas-dev/pandas/issues/18589))'
- en: Bug in [`rename()`](../reference/api/pandas.DataFrame.rename.html#pandas.DataFrame.rename
    "pandas.DataFrame.rename") where an Index of same-length tuples was converted
    to a MultiIndex ([GH 19497](https://github.com/pandas-dev/pandas/issues/19497))
  id: totrans-1958
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`rename()`](../reference/api/pandas.DataFrame.rename.html#pandas.DataFrame.rename
    "pandas.DataFrame.rename") 中的错误，当索引为相同长度的元组时，被转换为 MultiIndex ([GH 19497](https://github.com/pandas-dev/pandas/issues/19497))'
- en: Comparisons between [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") and [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") would return a `Series` with an incorrect name, ignoring the `Index`’s
    name attribute ([GH 19582](https://github.com/pandas-dev/pandas/issues/19582))
  id: totrans-1959
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    和 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") 之间的比较将返回一个带有错误名称的
    `Series`，忽略了 `Index` 的名称属性 ([GH 19582](https://github.com/pandas-dev/pandas/issues/19582))'
- en: Bug in [`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut "pandas.qcut")
    where datetime and timedelta data with `NaT` present raised a `ValueError` ([GH
    19768](https://github.com/pandas-dev/pandas/issues/19768))
  id: totrans-1960
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut "pandas.qcut") 中的错误，当存在
    `NaT` 的日期时间和时间间隔数据时，引发 `ValueError` ([GH 19768](https://github.com/pandas-dev/pandas/issues/19768))'
- en: Bug in [`DataFrame.iterrows()`](../reference/api/pandas.DataFrame.iterrows.html#pandas.DataFrame.iterrows
    "pandas.DataFrame.iterrows"), which would infers strings not compliant to [ISO8601](https://en.wikipedia.org/wiki/ISO_8601)
    to datetimes ([GH 19671](https://github.com/pandas-dev/pandas/issues/19671))
  id: totrans-1961
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.iterrows()`](../reference/api/pandas.DataFrame.iterrows.html#pandas.DataFrame.iterrows
    "pandas.DataFrame.iterrows") 中的错误，将非符合 [ISO8601](https://en.wikipedia.org/wiki/ISO_8601)
    的字符串推断为日期时间 ([GH 19671](https://github.com/pandas-dev/pandas/issues/19671))'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    constructor with `Categorical` where a `ValueError` is not raised when an index
    of different length is given ([GH 19342](https://github.com/pandas-dev/pandas/issues/19342))
  id: totrans-1962
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `Categorical` 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 构造函数中的一个错误，当给出不同长度的索引时未引发 `ValueError`（[GH 19342](https://github.com/pandas-dev/pandas/issues/19342)）
- en: Bug in [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") where column metadata is lost when converting to categorical
    or a dictionary of dtypes ([GH 19920](https://github.com/pandas-dev/pandas/issues/19920))
  id: totrans-1963
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype")中的一个错误，在转换为分类或 dtype 字典时丢失列元数据（[GH 19920](https://github.com/pandas-dev/pandas/issues/19920)）'
- en: Bug in [`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") and
    [`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut "pandas.qcut") where
    timezone information was dropped ([GH 19872](https://github.com/pandas-dev/pandas/issues/19872))
  id: totrans-1964
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") 和 [`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut
    "pandas.qcut") 中的一个错误，丢弃了时区信息（[GH 19872](https://github.com/pandas-dev/pandas/issues/19872)）'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    constructor with a `dtype=str`, previously raised in some cases ([GH 19853](https://github.com/pandas-dev/pandas/issues/19853))
  id: totrans-1965
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `dtype=str` 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 构造函数中的一个错误，在某些情况下之前引发错误（[GH 19853](https://github.com/pandas-dev/pandas/issues/19853)）
- en: Bug in [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies"), and `select_dtypes()`, where duplicate column names caused
    incorrect behavior ([GH 20848](https://github.com/pandas-dev/pandas/issues/20848))
  id: totrans-1966
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") 和 `select_dtypes()` 中的一个错误，重复的列名导致了不正确的行为（[GH 20848](https://github.com/pandas-dev/pandas/issues/20848)）'
- en: Bug in [`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna"),
    which cannot handle ambiguous typed lists ([GH 20675](https://github.com/pandas-dev/pandas/issues/20675))
  id: totrans-1967
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna")中的一个错误，无法处理模糊类型的列表（[GH
    20675](https://github.com/pandas-dev/pandas/issues/20675)）'
- en: Bug in [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    which raises an error when concatenating TZ-aware dataframes and all-NaT dataframes
    ([GH 12396](https://github.com/pandas-dev/pandas/issues/12396))
  id: totrans-1968
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")中的一个错误，在连接
    TZ-aware 数据框和全部为 NaT 的数据框时引发错误（[GH 12396](https://github.com/pandas-dev/pandas/issues/12396)）'
- en: Bug in [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    which raises an error when concatenating empty TZ-aware series ([GH 18447](https://github.com/pandas-dev/pandas/issues/18447))
  id: totrans-1969
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")中的一个错误，在连接空的
    TZ-aware Series 时引发错误（[GH 18447](https://github.com/pandas-dev/pandas/issues/18447)）'
- en: Other
  id: totrans-1970
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 其他
- en: Improved error message when attempting to use a Python keyword as an identifier
    in a `numexpr` backed query ([GH 18221](https://github.com/pandas-dev/pandas/issues/18221))
  id: totrans-1971
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尝试在 `numexpr` 支持的查询中使用 Python 关键字作为标识符时改进了错误消息（[GH 18221](https://github.com/pandas-dev/pandas/issues/18221)）
- en: Bug in accessing a [`pandas.get_option()`](../reference/api/pandas.get_option.html#pandas.get_option
    "pandas.get_option"), which raised `KeyError` rather than `OptionError` when looking
    up a non-existent option key in some cases ([GH 19789](https://github.com/pandas-dev/pandas/issues/19789))
  id: totrans-1972
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问 [`pandas.get_option()`](../reference/api/pandas.get_option.html#pandas.get_option
    "pandas.get_option")时的一个错误，在某些情况下，查找不存在的选项键时引发 `KeyError` 而不是 `OptionError`（[GH
    19789](https://github.com/pandas-dev/pandas/issues/19789)）
- en: Bug in [`testing.assert_series_equal()`](../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal
    "pandas.testing.assert_series_equal") and [`testing.assert_frame_equal()`](../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal
    "pandas.testing.assert_frame_equal") for Series or DataFrames with differing unicode
    data ([GH 20503](https://github.com/pandas-dev/pandas/issues/20503))
  id: totrans-1973
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`testing.assert_series_equal()`](../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal
    "pandas.testing.assert_series_equal") 和 [`testing.assert_frame_equal()`](../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal
    "pandas.testing.assert_frame_equal")中的一个错误，涉及具有不同 Unicode 数据的 Series 或 DataFrames（[GH
    20503](https://github.com/pandas-dev/pandas/issues/20503)）'
- en: '## Contributors'
  id: totrans-1974
  prefs: []
  type: TYPE_NORMAL
  zh: '## 贡献者'
- en: A total of 328 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  id: totrans-1975
  prefs: []
  type: TYPE_NORMAL
  zh: 共有 328 人为此版本提交了补丁。名字后面带有“+”的人是第一次为此贡献补丁的。
- en: Aaron Critchley
  id: totrans-1976
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Aaron Critchley
- en: AbdealiJK +
  id: totrans-1977
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AbdealiJK +
- en: Adam Hooper +
  id: totrans-1978
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Adam Hooper +
- en: Albert Villanova del Moral
  id: totrans-1979
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Albert Villanova del Moral
- en: Alejandro Giacometti +
  id: totrans-1980
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alejandro Giacometti +
- en: Alejandro Hohmann +
  id: totrans-1981
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alejandro Hohmann +
- en: Alex Rychyk
  id: totrans-1982
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Rychyk
- en: Alexander Buchkovsky
  id: totrans-1983
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alexander Buchkovsky
- en: Alexander Lenail +
  id: totrans-1984
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alexander Lenail +
- en: Alexander Michael Schade
  id: totrans-1985
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alexander Michael Schade
- en: Aly Sivji +
  id: totrans-1986
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Aly Sivji +
- en: Andreas Költringer +
  id: totrans-1987
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andreas Költringer +
- en: Andrew
  id: totrans-1988
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew
- en: Andrew Bui +
  id: totrans-1989
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Bui +
- en: András Novoszáth +
  id: totrans-1990
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: András Novoszáth +
- en: Andy Craze +
  id: totrans-1991
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andy Craze +
- en: Andy R. Terrel
  id: totrans-1992
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andy R. Terrel
- en: Anh Le +
  id: totrans-1993
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anh Le +
- en: Anil Kumar Pallekonda +
  id: totrans-1994
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anil Kumar Pallekonda +
- en: Antoine Pitrou +
  id: totrans-1995
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Antoine Pitrou +
- en: Antonio Linde +
  id: totrans-1996
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Antonio Linde +
- en: Antonio Molina +
  id: totrans-1997
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Antonio Molina +
- en: Antonio Quinonez +
  id: totrans-1998
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Antonio Quinonez +
- en: Armin Varshokar +
  id: totrans-1999
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Armin Varshokar +
- en: Artem Bogachev +
  id: totrans-2000
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Artem Bogachev +
- en: Avi Sen +
  id: totrans-2001
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Avi Sen +
- en: Azeez Oluwafemi +
  id: totrans-2002
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Azeez Oluwafemi +
- en: Ben Auffarth +
  id: totrans-2003
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ben Auffarth +
- en: Bernhard Thiel +
  id: totrans-2004
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bernhard Thiel +
- en: Bhavesh Poddar +
  id: totrans-2005
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bhavesh Poddar +
- en: BielStela +
  id: totrans-2006
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: BielStela +
- en: Blair +
  id: totrans-2007
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Blair +
- en: Bob Haffner
  id: totrans-2008
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bob Haffner
- en: Brett Naul +
  id: totrans-2009
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brett Naul +
- en: Brock Mendel
  id: totrans-2010
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brock Mendel
- en: Bryce Guinta +
  id: totrans-2011
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bryce Guinta +
- en: Carlos Eduardo Moreira dos Santos +
  id: totrans-2012
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Carlos Eduardo Moreira dos Santos +
- en: Carlos García Márquez +
  id: totrans-2013
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Carlos García Márquez +
- en: Carol Willing
  id: totrans-2014
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Carol Willing
- en: Cheuk Ting Ho +
  id: totrans-2015
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Cheuk Ting Ho +
- en: Chitrank Dixit +
  id: totrans-2016
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chitrank Dixit +
- en: Chris
  id: totrans-2017
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris
- en: Chris Burr +
  id: totrans-2018
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Burr +
- en: Chris Catalfo +
  id: totrans-2019
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Catalfo +
- en: Chris Mazzullo
  id: totrans-2020
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Mazzullo
- en: Christian Chwala +
  id: totrans-2021
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Christian Chwala +
- en: Cihan Ceyhan +
  id: totrans-2022
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Cihan Ceyhan +
- en: Clemens Brunner
  id: totrans-2023
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Clemens Brunner
- en: Colin +
  id: totrans-2024
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Colin +
- en: Cornelius Riemenschneider
  id: totrans-2025
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Cornelius Riemenschneider
- en: Crystal Gong +
  id: totrans-2026
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Crystal Gong +
- en: DaanVanHauwermeiren
  id: totrans-2027
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DaanVanHauwermeiren
- en: Dan Dixey +
  id: totrans-2028
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dan Dixey +
- en: Daniel Frank +
  id: totrans-2029
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Frank +
- en: Daniel Garrido +
  id: totrans-2030
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Garrido +
- en: Daniel Sakuma +
  id: totrans-2031
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Sakuma +
- en: DataOmbudsman +
  id: totrans-2032
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DataOmbudsman +
- en: Dave Hirschfeld
  id: totrans-2033
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dave Hirschfeld
- en: Dave Lewis +
  id: totrans-2034
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dave Lewis +
- en: David Adrián Cañones Castellano +
  id: totrans-2035
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Adrián Cañones Castellano +
- en: David Arcos +
  id: totrans-2036
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Arcos +
- en: David C Hall +
  id: totrans-2037
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David C Hall +
- en: David Fischer
  id: totrans-2038
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Fischer
- en: David Hoese +
  id: totrans-2039
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Hoese +
- en: David Lutz +
  id: totrans-2040
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Lutz +
- en: David Polo +
  id: totrans-2041
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Polo +
- en: David Stansby
  id: totrans-2042
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Stansby
- en: Dennis Kamau +
  id: totrans-2043
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dennis Kamau +
- en: Dillon Niederhut
  id: totrans-2044
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dillon Niederhut
- en: Dimitri +
  id: totrans-2045
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dimitri +
- en: Dr. Irv
  id: totrans-2046
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dr. Irv
- en: Dror Atariah
  id: totrans-2047
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dror Atariah
- en: Eric Chea +
  id: totrans-2048
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric Chea +
- en: Eric Kisslinger
  id: totrans-2049
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric Kisslinger
- en: Eric O. LEBIGOT (EOL) +
  id: totrans-2050
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric O. LEBIGOT (EOL) +
- en: FAN-GOD +
  id: totrans-2051
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: FAN-GOD +
- en: Fabian Retkowski +
  id: totrans-2052
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fabian Retkowski +
- en: Fer Sar +
  id: totrans-2053
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fer Sar +
- en: Gabriel de Maeztu +
  id: totrans-2054
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gabriel de Maeztu +
- en: Gianpaolo Macario +
  id: totrans-2055
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gianpaolo Macario +
- en: Giftlin Rajaiah
  id: totrans-2056
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Giftlin Rajaiah
- en: Gilberto Olimpio +
  id: totrans-2057
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gilberto Olimpio +
- en: Gina +
  id: totrans-2058
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gina +
- en: Gjelt +
  id: totrans-2059
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gjelt +
- en: Graham Inggs +
  id: totrans-2060
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Graham Inggs +
- en: Grant Roch
  id: totrans-2061
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Grant Roch
- en: Grant Smith +
  id: totrans-2062
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Grant Smith +
- en: Grzegorz Konefał +
  id: totrans-2063
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Grzegorz Konefał +
- en: Guilherme Beltramini
  id: totrans-2064
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Guilherme Beltramini
- en: HagaiHargil +
  id: totrans-2065
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: HagaiHargil +
- en: Hamish Pitkeathly +
  id: totrans-2066
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hamish Pitkeathly +
- en: Hammad Mashkoor +
  id: totrans-2067
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hammad Mashkoor +
- en: Hannah Ferchland +
  id: totrans-2068
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hannah Ferchland +
- en: Hans
  id: totrans-2069
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hans
- en: Haochen Wu +
  id: totrans-2070
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Haochen Wu +
- en: Hissashi Rocha +
  id: totrans-2071
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hissashi Rocha +
- en: Iain Barr +
  id: totrans-2072
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Iain Barr +
- en: Ibrahim Sharaf ElDen +
  id: totrans-2073
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ibrahim Sharaf ElDen +
- en: Ignasi Fosch +
  id: totrans-2074
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ignasi Fosch +
- en: Igor Conrado Alves de Lima +
  id: totrans-2075
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Igor Conrado Alves de Lima +
- en: Igor Shelvinskyi +
  id: totrans-2076
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Igor Shelvinskyi +
- en: Imanflow +
  id: totrans-2077
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Imanflow +
- en: Ingolf Becker
  id: totrans-2078
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ingolf Becker
- en: Israel Saeta Pérez
  id: totrans-2079
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Israel Saeta Pérez
- en: Iva Koevska +
  id: totrans-2080
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Iva Koevska +
- en: Jakub Nowacki +
  id: totrans-2081
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jakub Nowacki +
- en: Jan F-F +
  id: totrans-2082
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jan F-F +
- en: Jan Koch +
  id: totrans-2083
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jan Koch +
- en: Jan Werkmann
  id: totrans-2084
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jan Werkmann
- en: Janelle Zoutkamp +
  id: totrans-2085
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Janelle Zoutkamp +
- en: Jason Bandlow +
  id: totrans-2086
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jason Bandlow +
- en: Jaume Bonet +
  id: totrans-2087
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jaume Bonet +
- en: Jay Alammar +
  id: totrans-2088
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jay Alammar +
- en: Jeff Reback
  id: totrans-2089
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeff Reback
- en: JennaVergeynst
  id: totrans-2090
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: JennaVergeynst
- en: Jimmy Woo +
  id: totrans-2091
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jimmy Woo +
- en: Jing Qiang Goh +
  id: totrans-2092
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jing Qiang Goh +
- en: Joachim Wagner +
  id: totrans-2093
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joachim Wagner +
- en: Joan Martin Miralles +
  id: totrans-2094
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joan Martin Miralles +
- en: Joel Nothman
  id: totrans-2095
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joel Nothman
- en: Joeun Park +
  id: totrans-2096
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joeun Park +
- en: John Cant +
  id: totrans-2097
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: John Cant +
- en: Johnny Metz +
  id: totrans-2098
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Johnny Metz +
- en: Jon Mease
  id: totrans-2099
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jon Mease
- en: Jonas Schulze +
  id: totrans-2100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jonas Schulze +
- en: Jongwony +
  id: totrans-2101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jongwony +
- en: Jordi Contestí +
  id: totrans-2102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jordi Contestí +
- en: Joris Van den Bossche
  id: totrans-2103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Van den Bossche
- en: José F. R. Fonseca +
  id: totrans-2104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: José F. R. Fonseca +
- en: Jovixe +
  id: totrans-2105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jovixe +
- en: Julio Martinez +
  id: totrans-2106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Julio Martinez +
- en: Jörg Döpfert
  id: totrans-2107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jörg Döpfert
- en: KOBAYASHI Ittoku +
  id: totrans-2108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: KOBAYASHI Ittoku +
- en: Kate Surta +
  id: totrans-2109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kate Surta +
- en: Kenneth +
  id: totrans-2110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kenneth +
- en: Kevin Kuhl
  id: totrans-2111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kevin Kuhl
- en: Kevin Sheppard
  id: totrans-2112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kevin Sheppard
- en: Krzysztof Chomski
  id: totrans-2113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Krzysztof Chomski
- en: Ksenia +
  id: totrans-2114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ksenia +
- en: Ksenia Bobrova +
  id: totrans-2115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ksenia Bobrova +
- en: Kunal Gosar +
  id: totrans-2116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kunal Gosar +
- en: Kurtis Kerstein +
  id: totrans-2117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kurtis Kerstein +
- en: Kyle Barron +
  id: totrans-2118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kyle Barron +
- en: Laksh Arora +
  id: totrans-2119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Laksh Arora +
- en: Laurens Geffert +
  id: totrans-2120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Laurens Geffert +
- en: Leif Walsh
  id: totrans-2121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Leif Walsh
- en: Liam Marshall +
  id: totrans-2122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Liam Marshall +
- en: Liam3851 +
  id: totrans-2123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Liam3851 +
- en: Licht Takeuchi
  id: totrans-2124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Licht Takeuchi
- en: Liudmila +
  id: totrans-2125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Liudmila +
- en: Ludovico Russo +
  id: totrans-2126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ludovico Russo +
- en: Mabel Villalba +
  id: totrans-2127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mabel Villalba +
- en: Manan Pal Singh +
  id: totrans-2128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Manan Pal Singh +
- en: Manraj Singh
  id: totrans-2129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Manraj Singh
- en: Marc +
  id: totrans-2130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marc +
- en: Marc Garcia
  id: totrans-2131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marc Garcia
- en: Marco Hemken +
  id: totrans-2132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marco Hemken +
- en: Maria del Mar Bibiloni +
  id: totrans-2133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maria del Mar Bibiloni +
- en: Mario Corchero +
  id: totrans-2134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mario Corchero +
- en: Mark Woodbridge +
  id: totrans-2135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mark Woodbridge +
- en: Martin Journois +
  id: totrans-2136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Martin Journois +
- en: Mason Gallo +
  id: totrans-2137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mason Gallo +
- en: Matias Heikkilä +
  id: totrans-2138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matias Heikkilä +
- en: Matt Braymer-Hayes
  id: totrans-2139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Braymer-Hayes
- en: Matt Kirk +
  id: totrans-2140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Kirk +
- en: Matt Maybeno +
  id: totrans-2141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Maybeno +
- en: Matthew Kirk +
  id: totrans-2142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Kirk +
- en: Matthew Rocklin +
  id: totrans-2143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Rocklin +
- en: Matthew Roeschke
  id: totrans-2144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Roeschke
- en: Matthias Bussonnier +
  id: totrans-2145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthias Bussonnier +
- en: Max Mikhaylov +
  id: totrans-2146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Max Mikhaylov +
- en: Maxim Veksler +
  id: totrans-2147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maxim Veksler +
- en: Maximilian Roos
  id: totrans-2148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maximilian Roos
- en: Maximiliano Greco +
  id: totrans-2149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maximiliano Greco +
- en: Michael Penkov
  id: totrans-2150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Penkov
- en: Michael Röttger +
  id: totrans-2151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Röttger +
- en: Michael Selik +
  id: totrans-2152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Selik +
- en: Michael Waskom
  id: totrans-2153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Waskom
- en: Mie~~~
  id: totrans-2154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mie~~~
- en: Mike Kutzma +
  id: totrans-2155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mike Kutzma +
- en: Ming Li +
  id: totrans-2156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ming Li +
- en: Mitar +
  id: totrans-2157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mitar +
- en: Mitch Negus +
  id: totrans-2158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mitch Negus +
- en: Montana Low +
  id: totrans-2159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Montana Low +
- en: Moritz Münst +
  id: totrans-2160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Moritz Münst +
- en: Mortada Mehyar
  id: totrans-2161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mortada Mehyar
- en: Myles Braithwaite +
  id: totrans-2162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Myles Braithwaite +
- en: Nate Yoder
  id: totrans-2163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nate Yoder
- en: Nicholas Ursa +
  id: totrans-2164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nicholas Ursa +
- en: Nick Chmura
  id: totrans-2165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nick Chmura
- en: Nikos Karagiannakis +
  id: totrans-2166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nikos Karagiannakis +
- en: Nipun Sadvilkar +
  id: totrans-2167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nipun Sadvilkar +
- en: Nis Martensen +
  id: totrans-2168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nis Martensen +
- en: Noah +
  id: totrans-2169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Noah +
- en: Noémi Éltető +
  id: totrans-2170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Noémi Éltető +
- en: Olivier Bilodeau +
  id: totrans-2171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Olivier Bilodeau +
- en: Ondrej Kokes +
  id: totrans-2172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ondrej Kokes +
- en: Onno Eberhard +
  id: totrans-2173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Onno Eberhard +
- en: Paul Ganssle +
  id: totrans-2174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul Ganssle +
- en: Paul Mannino +
  id: totrans-2175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul Mannino +
- en: Paul Reidy
  id: totrans-2176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul Reidy
- en: Paulo Roberto de Oliveira Castro +
  id: totrans-2177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paulo Roberto de Oliveira Castro +
- en: Pepe Flores +
  id: totrans-2178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pepe Flores +
- en: Peter Hoffmann
  id: totrans-2179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Peter Hoffmann
- en: Phil Ngo +
  id: totrans-2180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Phil Ngo +
- en: Pietro Battiston
  id: totrans-2181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pietro Battiston
- en: Pranav Suri +
  id: totrans-2182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pranav Suri +
- en: Priyanka Ojha +
  id: totrans-2183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Priyanka Ojha +
- en: Pulkit Maloo +
  id: totrans-2184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pulkit Maloo +
- en: README Bot +
  id: totrans-2185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: README Bot +
- en: Ray Bell +
  id: totrans-2186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ray Bell +
- en: Riccardo Magliocchetti +
  id: totrans-2187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Riccardo Magliocchetti +
- en: Ridhwan Luthra +
  id: totrans-2188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ridhwan Luthra +
- en: Robert Meyer
  id: totrans-2189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robert Meyer
- en: Robin
  id: totrans-2190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robin
- en: Robin Kiplang’at +
  id: totrans-2191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robin Kiplang’at +
- en: Rohan Pandit +
  id: totrans-2192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rohan Pandit +
- en: Rok Mihevc +
  id: totrans-2193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rok Mihevc +
- en: Rouz Azari
  id: totrans-2194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rouz Azari
- en: Ryszard T. Kaleta +
  id: totrans-2195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ryszard T. Kaleta +
- en: Sam Cohan
  id: totrans-2196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sam Cohan
- en: Sam Foo
  id: totrans-2197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sam Foo
- en: Samir Musali +
  id: totrans-2198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Samir Musali +
- en: Samuel Sinayoko +
  id: totrans-2199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Samuel Sinayoko +
- en: Sangwoong Yoon
  id: totrans-2200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sangwoong Yoon
- en: SarahJessica +
  id: totrans-2201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SarahJessica +
- en: Sharad Vijalapuram +
  id: totrans-2202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sharad Vijalapuram +
- en: Shubham Chaudhary +
  id: totrans-2203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shubham Chaudhary +
- en: SiYoungOh +
  id: totrans-2204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SiYoungOh +
- en: Sietse Brouwer
  id: totrans-2205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sietse Brouwer
- en: Simone Basso +
  id: totrans-2206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Simone Basso +
- en: Stefania Delprete +
  id: totrans-2207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stefania Delprete +
- en: Stefano Cianciulli +
  id: totrans-2208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stefano Cianciulli +
- en: Stephen Childs +
  id: totrans-2209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stephen Childs +
- en: StephenVoland +
  id: totrans-2210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: StephenVoland +
- en: Stijn Van Hoey +
  id: totrans-2211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stijn Van Hoey +
- en: Sven
  id: totrans-2212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sven
- en: Talitha Pumar +
  id: totrans-2213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Talitha Pumar +
- en: Tarbo Fukazawa +
  id: totrans-2214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tarbo Fukazawa +
- en: Ted Petrou +
  id: totrans-2215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ted Petrou +
- en: Thomas A Caswell
  id: totrans-2216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas A Caswell
- en: Tim Hoffmann +
  id: totrans-2217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tim Hoffmann +
- en: Tim Swast
  id: totrans-2218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tim Swast
- en: Tom Augspurger
  id: totrans-2219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tom Augspurger
- en: Tommy +
  id: totrans-2220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tommy +
- en: Tulio Casagrande +
  id: totrans-2221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tulio Casagrande +
- en: Tushar Gupta +
  id: totrans-2222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tushar Gupta +
- en: Tushar Mittal +
  id: totrans-2223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tushar Mittal +
- en: Upkar Lidder +
  id: totrans-2224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Upkar Lidder +
- en: Victor Villas +
  id: totrans-2225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Victor Villas +
- en: Vince W +
  id: totrans-2226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vince W +
- en: Vinícius Figueiredo +
  id: totrans-2227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vinícius Figueiredo +
- en: Vipin Kumar +
  id: totrans-2228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vipin Kumar +
- en: WBare
  id: totrans-2229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WBare
- en: Wenhuan +
  id: totrans-2230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wenhuan +
- en: Wes Turner
  id: totrans-2231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wes Turner
- en: William Ayd
  id: totrans-2232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: William Ayd
- en: Wilson Lin +
  id: totrans-2233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wilson Lin +
- en: Xbar
  id: totrans-2234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Xbar
- en: Yaroslav Halchenko
  id: totrans-2235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yaroslav Halchenko
- en: Yee Mey
  id: totrans-2236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yee Mey
- en: Yeongseon Choe +
  id: totrans-2237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yeongseon Choe +
- en: Yian +
  id: totrans-2238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yian +
- en: Yimeng Zhang
  id: totrans-2239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yimeng Zhang
- en: ZhuBaohe +
  id: totrans-2240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ZhuBaohe +
- en: Zihao Zhao +
  id: totrans-2241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zihao Zhao +
- en: adatasetaday +
  id: totrans-2242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: adatasetaday +
- en: akielbowicz +
  id: totrans-2243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: akielbowicz +
- en: akosel +
  id: totrans-2244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: akosel +
- en: alinde1 +
  id: totrans-2245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: alinde1 +
- en: amuta +
  id: totrans-2246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: amuta +
- en: bolkedebruin
  id: totrans-2247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: bolkedebruin
- en: cbertinato
  id: totrans-2248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: cbertinato
- en: cgohlke
  id: totrans-2249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: cgohlke
- en: charlie0389 +
  id: totrans-2250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: charlie0389 +
- en: chris-b1
  id: totrans-2251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: chris-b1
- en: csfarkas +
  id: totrans-2252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: csfarkas +
- en: dajcs +
  id: totrans-2253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: dajcs +
- en: deflatSOCO +
  id: totrans-2254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: deflatSOCO +
- en: derestle-htwg
  id: totrans-2255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: derestle-htwg
- en: discort
  id: totrans-2256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: discort
- en: dmanikowski-reef +
  id: totrans-2257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: dmanikowski-reef +
- en: donK23 +
  id: totrans-2258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: donK23 +
- en: elrubio +
  id: totrans-2259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: elrubio +
- en: fivemok +
  id: totrans-2260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: fivemok +
- en: fjdiod
  id: totrans-2261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: fjdiod
- en: fjetter +
  id: totrans-2262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: fjetter +
- en: froessler +
  id: totrans-2263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: froessler +
- en: gabrielclow
  id: totrans-2264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gabrielclow
- en: gfyoung
  id: totrans-2265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gfyoung
- en: ghasemnaddaf
  id: totrans-2266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ghasemnaddaf
- en: h-vetinari +
  id: totrans-2267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: h-vetinari +
- en: himanshu awasthi +
  id: totrans-2268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: himanshu awasthi +
- en: ignamv +
  id: totrans-2269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ignamv +
- en: jayfoad +
  id: totrans-2270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jayfoad +
- en: jazzmuesli +
  id: totrans-2271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jazzmuesli +
- en: jbrockmendel
  id: totrans-2272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jbrockmendel
- en: jen w +
  id: totrans-2273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jen w +
- en: jjames34 +
  id: totrans-2274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jjames34 +
- en: joaoavf +
  id: totrans-2275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: joaoavf +
- en: joders +
  id: totrans-2276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: joders +
- en: jschendel
  id: totrans-2277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jschendel
- en: juan huguet +
  id: totrans-2278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: juan huguet +
- en: l736x +
  id: totrans-2279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: l736x +
- en: luzpaz +
  id: totrans-2280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: luzpaz +
- en: mdeboc +
  id: totrans-2281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mdeboc +
- en: miguelmorin +
  id: totrans-2282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: miguelmorin +
- en: miker985
  id: totrans-2283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: miker985
- en: miquelcamprodon +
  id: totrans-2284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: miquelcamprodon +
- en: orereta +
  id: totrans-2285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: orereta +
- en: ottiP +
  id: totrans-2286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ottiP +
- en: peterpanmj +
  id: totrans-2287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: peterpanmj +
- en: rafarui +
  id: totrans-2288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: rafarui +
- en: raph-m +
  id: totrans-2289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: raph-m +
- en: readyready15728 +
  id: totrans-2290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: readyready15728 +
- en: rmihael +
  id: totrans-2291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: rmihael +
- en: samghelms +
  id: totrans-2292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: samghelms +
- en: scriptomation +
  id: totrans-2293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: scriptomation +
- en: sfoo +
  id: totrans-2294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sfoo +
- en: stefansimik +
  id: totrans-2295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: stefansimik +
- en: stonebig
  id: totrans-2296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: stonebig
- en: tmnhat2001 +
  id: totrans-2297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tmnhat2001 +
- en: tomneep +
  id: totrans-2298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tomneep +
- en: topper-123
  id: totrans-2299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: topper-123
- en: tv3141 +
  id: totrans-2300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tv3141 +
- en: verakai +
  id: totrans-2301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: verakai +
- en: xpvpc +
  id: totrans-2302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: xpvpc +
- en: zhanghui +
  id: totrans-2303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: zhanghui +
