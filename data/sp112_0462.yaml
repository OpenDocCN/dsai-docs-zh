- en: scipy.optimize.root
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: scipy.optimize.root
- en: Original text：[https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.optimize.root.html#scipy.optimize.root](https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.optimize.root.html#scipy.optimize.root)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文链接：[https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.optimize.root.html#scipy.optimize.root](https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.optimize.root.html#scipy.optimize.root)
- en: '[PRE0]'
  id: totrans-2
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Find a root of a vector function.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 找到向量函数的根。
- en: 'Parameters:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**fun**callable'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '**fun**可调用对象'
- en: A vector function to find a root of.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 用于找到根的向量函数。
- en: '**x0**ndarray'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '**x0**ndarray'
- en: Initial guess.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 初始猜测。
- en: '**args**tuple, optional'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '**args**元组，可选'
- en: Extra arguments passed to the objective function and its Jacobian.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 传递给目标函数及其雅可比矩阵的额外参数。
- en: '**method**str, optional'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '**method**str，可选'
- en: Type of solver. Should be one of
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 求解器类型。应为以下之一
- en: ‘hybr’ [(see here)](../optimize.root-hybr.html#optimize-root-hybr)
  id: totrans-13
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: ‘hybr’ [(详见此处)](../optimize.root-hybr.html#optimize-root-hybr)
- en: ''
  id: totrans-14
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-15
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ‘lm’ [(see here)](../optimize.root-lm.html#optimize-root-lm)
  id: totrans-16
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: ‘lm’ [(详见此处)](../optimize.root-lm.html#optimize-root-lm)
- en: ''
  id: totrans-17
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-18
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ‘broyden1’ [(see here)](../optimize.root-broyden1.html#optimize-root-broyden1)
  id: totrans-19
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: ‘broyden1’ [(详见此处)](../optimize.root-broyden1.html#optimize-root-broyden1)
- en: ''
  id: totrans-20
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-21
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ‘broyden2’ [(see here)](../optimize.root-broyden2.html#optimize-root-broyden2)
  id: totrans-22
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: ‘broyden2’ [(详见此处)](../optimize.root-broyden2.html#optimize-root-broyden2)
- en: ''
  id: totrans-23
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-24
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ‘anderson’ [(see here)](../optimize.root-anderson.html#optimize-root-anderson)
  id: totrans-25
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: ‘anderson’ [(详见此处)](../optimize.root-anderson.html#optimize-root-anderson)
- en: ''
  id: totrans-26
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-27
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ‘linearmixing’ [(see here)](../optimize.root-linearmixing.html#optimize-root-linearmixing)
  id: totrans-28
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: ‘linearmixing’ [(详见此处)](../optimize.root-linearmixing.html#optimize-root-linearmixing)
- en: ''
  id: totrans-29
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-30
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ‘diagbroyden’ [(see here)](../optimize.root-diagbroyden.html#optimize-root-diagbroyden)
  id: totrans-31
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: ‘diagbroyden’ [(详见此处)](../optimize.root-diagbroyden.html#optimize-root-diagbroyden)
- en: ''
  id: totrans-32
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-33
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ‘excitingmixing’ [(see here)](../optimize.root-excitingmixing.html#optimize-root-excitingmixing)
  id: totrans-34
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: ‘excitingmixing’ [(详见此处)](../optimize.root-excitingmixing.html#optimize-root-excitingmixing)
- en: ''
  id: totrans-35
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-36
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ‘krylov’ [(see here)](../optimize.root-krylov.html#optimize-root-krylov)
  id: totrans-37
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: ‘krylov’ [(详见此处)](../optimize.root-krylov.html#optimize-root-krylov)
- en: ''
  id: totrans-38
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-39
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ‘df-sane’ [(see here)](../optimize.root-dfsane.html#optimize-root-dfsane)
  id: totrans-40
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: ‘df-sane’ [(详见此处)](../optimize.root-dfsane.html#optimize-root-dfsane)
- en: '**jac**bool or callable, optional'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**jac**bool 或者可调用对象，可选'
- en: If *jac* is a Boolean and is True, *fun* is assumed to return the value of Jacobian
    along with the objective function. If False, the Jacobian will be estimated numerically.
    *jac* can also be a callable returning the Jacobian of *fun*. In this case, it
    must accept the same arguments as *fun*.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 如果*jac*是布尔值且为True，则*fun*假定返回雅可比矩阵的值以及目标函数的值。如果为False，则数值上估计雅可比矩阵。*jac*也可以是返回*fun*的雅可比矩阵的可调用对象。在这种情况下，它必须接受与*fun*相同的参数。
- en: '**tol**float, optional'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '**tol**float，可选'
- en: Tolerance for termination. For detailed control, use solver-specific options.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 终止容差。要进行详细控制，请使用特定于求解器的选项。
- en: '**callback**function, optional'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '**callback**函数，可选'
- en: Optional callback function. It is called on every iteration as `callback(x,
    f)` where *x* is the current solution and *f* the corresponding residual. For
    all methods but ‘hybr’ and ‘lm’.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 可选回调函数。在每次迭代中调用为`callback(x, f)`，其中*x*是当前解，*f*是相应的残差。适用于所有方法，但不包括‘hybr’和‘lm’。
- en: '**options**dict, optional'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '**options**字典，可选'
- en: A dictionary of solver options. E.g., *xtol* or *maxiter*, see [`show_options()`](scipy.optimize.show_options.html#scipy.optimize.show_options
    "scipy.optimize.show_options") for details.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 求解器选项的字典。例如，*xtol*或*maxiter*，详见[`show_options()`](scipy.optimize.show_options.html#scipy.optimize.show_options
    "scipy.optimize.show_options")获取详细信息。
- en: 'Returns:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 返回值：
- en: '**sol**OptimizeResult'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '**sol**OptimizeResult'
- en: 'The solution represented as a `OptimizeResult` object. Important attributes
    are: `x` the solution array, `success` a Boolean flag indicating if the algorithm
    exited successfully and `message` which describes the cause of the termination.
    See [`OptimizeResult`](scipy.optimize.OptimizeResult.html#scipy.optimize.OptimizeResult
    "scipy.optimize.OptimizeResult") for a description of other attributes.'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 表示为`OptimizeResult`对象的解。重要属性包括：`x` 解数组，`success` 表示算法是否成功退出的布尔标志和 `message`
    描述终止原因。详见[`OptimizeResult`](scipy.optimize.OptimizeResult.html#scipy.optimize.OptimizeResult
    "scipy.optimize.OptimizeResult")以获取其他属性的描述。
- en: See also
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 另见
- en: '[`show_options`](scipy.optimize.show_options.html#scipy.optimize.show_options
    "scipy.optimize.show_options")'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '[`show_options`](scipy.optimize.show_options.html#scipy.optimize.show_options
    "scipy.optimize.show_options")'
- en: Additional options accepted by the solvers
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 接受求解器的附加选项
- en: Notes
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: This section describes the available solvers that can be selected by the ‘method’
    parameter. The default method is *hybr*.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 本节描述了可以通过‘method’参数选择的可用求解器。默认方法为*hybr*。
- en: Method *hybr* uses a modification of the Powell hybrid method as implemented
    in MINPACK [[1]](#r9d4d7396324b-1).
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 方法*hybr*使用的是MINPACK中实现的Powell混合方法的修改[[1]](#r9d4d7396324b-1)。
- en: Method *lm* solves the system of nonlinear equations in a least squares sense
    using a modification of the Levenberg-Marquardt algorithm as implemented in MINPACK
    [[1]](#r9d4d7396324b-1).
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 方法*lm*使用修改的Levenberg-Marquardt算法解决非线性方程组的最小二乘意义上的问题，其实现在MINPACK中。[[1]](#r9d4d7396324b-1)
- en: Method *df-sane* is a derivative-free spectral method. [[3]](#r9d4d7396324b-3)
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 方法*df-sane*是一种无导数光谱方法。[[3]](#r9d4d7396324b-3)
- en: Methods *broyden1*, *broyden2*, *anderson*, *linearmixing*, *diagbroyden*, *excitingmixing*,
    *krylov* are inexact Newton methods, with backtracking or full line searches [[2]](#r9d4d7396324b-2).
    Each method corresponds to a particular Jacobian approximations.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 方法*broyden1*、*broyden2*、*anderson*、*linearmixing*、*diagbroyden*、*excitingmixing*、*krylov*都是不精确的牛顿方法，带有回溯或全线搜索[[2]](#r9d4d7396324b-2)。每种方法对应特定的雅可比近似。
- en: Method *broyden1* uses Broyden’s first Jacobian approximation, it is known as
    Broyden’s good method.
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法*broyden1*使用布罗伊登第一雅可比近似，被称为布罗伊登的良好方法。
- en: Method *broyden2* uses Broyden’s second Jacobian approximation, it is known
    as Broyden’s bad method.
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法*broyden2*使用布罗伊登第二雅可比近似，被称为布罗伊登的不良方法。
- en: Method *anderson* uses (extended) Anderson mixing.
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法*anderson*使用（扩展的）安德森混合。
- en: Method *Krylov* uses Krylov approximation for inverse Jacobian. It is suitable
    for large-scale problem.
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法*Krylov*使用克里洛夫逆雅可比近似。适用于大规模问题。
- en: Method *diagbroyden* uses diagonal Broyden Jacobian approximation.
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法*diagbroyden*使用对角布罗伊登雅可比近似。
- en: Method *linearmixing* uses a scalar Jacobian approximation.
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法*linearmixing*使用标量雅可比近似。
- en: Method *excitingmixing* uses a tuned diagonal Jacobian approximation.
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法*excitingmixing*使用调整的对角雅可比近似。
- en: Warning
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: The algorithms implemented for methods *diagbroyden*, *linearmixing* and *excitingmixing*
    may be useful for specific problems, but whether they will work may depend strongly
    on the problem.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 为方法*diagbroyden*、*linearmixing*和*excitingmixing*实现的算法可能对特定问题有用，但其是否有效可能极大地依赖于问题本身。
- en: New in version 0.11.0.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 0.11.0版中的新功能。
- en: References
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 参考文献
- en: '[1] ([1](#id1),[2](#id2))'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '[1] ([1](#id1),[2](#id2))'
- en: More, Jorge J., Burton S. Garbow, and Kenneth E. Hillstrom. 1980\. User Guide
    for MINPACK-1.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: More, Jorge J., Burton S. Garbow, and Kenneth E. Hillstrom. 1980\. MINPACK-1用户指南。
- en: '[[2](#id4)]'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '[[2](#id4)]'
- en: C. T. Kelley. 1995\. Iterative Methods for Linear and Nonlinear Equations. Society
    for Industrial and Applied Mathematics. <[https://archive.siam.org/books/kelley/fr16/](https://archive.siam.org/books/kelley/fr16/)>
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: C. T. Kelley. 1995\. 线性和非线性方程的迭代方法。工业和应用数学学会。<[https://archive.siam.org/books/kelley/fr16/](https://archive.siam.org/books/kelley/fr16/)>
- en: '[[3](#id3)]'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '[[3](#id3)]'
- en: La Cruz, J.M. Martinez, M. Raydan. Math. Comp. 75, 1429 (2006).
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: La Cruz, J.M. Martinez, M. Raydan. Math. Comp. 75, 1429 (2006).
- en: Examples
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 示例
- en: The following functions define a system of nonlinear equations and its jacobian.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 下列函数定义了非线性方程组及其雅可比矩阵。
- en: '[PRE1]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[PRE2]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: A solution can be obtained as follows.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 可以通过以下方式获得解决方案。
- en: '[PRE3]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '**Large problem**'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '**大问题**'
- en: 'Suppose that we needed to solve the following integrodifferential equation
    on the square \([0,1]\times[0,1]\):'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们需要在正方形\([0,1]\times[0,1]\)上解决以下积分微分方程：
- en: \[\nabla^2 P = 10 \left(\int_0^1\int_0^1\cosh(P)\,dx\,dy\right)^2\]
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: \[\nabla^2 P = 10 \left(\int_0^1\int_0^1\cosh(P)\,dx\,dy\right)^2\]
- en: with \(P(x,1) = 1\) and \(P=0\) elsewhere on the boundary of the square.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 满足\(P(x,1) = 1\)且在正方形边界上\(P=0\)的其他地方。
- en: 'The solution can be found using the `method=''krylov''` solver:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 可以通过`solver='krylov'`找到解决方案：
- en: '[PRE4]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[PRE5]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[PRE6]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[PRE7]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '[PRE8]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '![../../_images/scipy-optimize-root-1.png](../Images/2198d97bf9416a5d154f363d837e6153.png)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![../../_images/scipy-optimize-root-1.png](../Images/2198d97bf9416a5d154f363d837e6153.png)'
