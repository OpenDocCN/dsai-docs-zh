- en: scipy.stats.ks_2samp
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.ks_2samp.html#scipy.stats.ks_2samp](https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.ks_2samp.html#scipy.stats.ks_2samp)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Performs the two-sample Kolmogorov-Smirnov test for goodness of fit.
  prefs: []
  type: TYPE_NORMAL
- en: This test compares the underlying continuous distributions F(x) and G(x) of
    two independent samples. See Notes for a description of the available null and
    alternative hypotheses.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**data1, data2**array_like, 1-Dimensional'
  prefs: []
  type: TYPE_NORMAL
- en: Two arrays of sample observations assumed to be drawn from a continuous distribution,
    sample sizes can be different.
  prefs: []
  type: TYPE_NORMAL
- en: '**alternative**{‘two-sided’, ‘less’, ‘greater’}, optional'
  prefs: []
  type: TYPE_NORMAL
- en: Defines the null and alternative hypotheses. Default is ‘two-sided’. Please
    see explanations in the Notes below.
  prefs: []
  type: TYPE_NORMAL
- en: '**method**{‘auto’, ‘exact’, ‘asymp’}, optional'
  prefs: []
  type: TYPE_NORMAL
- en: 'Defines the method used for calculating the p-value. The following options
    are available (default is ‘auto’):'
  prefs: []
  type: TYPE_NORMAL
- en: '‘auto’ : use ‘exact’ for small size arrays, ‘asymp’ for large'
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '‘exact’ : use exact distribution of test statistic'
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '‘asymp’ : use asymptotic distribution of test statistic'
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
- en: '**axis**int or None, default: 0'
  prefs: []
  type: TYPE_NORMAL
- en: If an int, the axis of the input along which to compute the statistic. The statistic
    of each axis-slice (e.g. row) of the input will appear in a corresponding element
    of the output. If `None`, the input will be raveled before computing the statistic.
  prefs: []
  type: TYPE_NORMAL
- en: '**nan_policy**{‘propagate’, ‘omit’, ‘raise’}'
  prefs: []
  type: TYPE_NORMAL
- en: Defines how to handle input NaNs.
  prefs: []
  type: TYPE_NORMAL
- en: '`propagate`: if a NaN is present in the axis slice (e.g. row) along which the
    statistic is computed, the corresponding entry of the output will be NaN.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`omit`: NaNs will be omitted when performing the calculation. If insufficient
    data remains in the axis slice along which the statistic is computed, the corresponding
    entry of the output will be NaN.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`raise`: if a NaN is present, a `ValueError` will be raised.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**keepdims**bool, default: False'
  prefs: []
  type: TYPE_NORMAL
- en: If this is set to True, the axes which are reduced are left in the result as
    dimensions with size one. With this option, the result will broadcast correctly
    against the input array.
  prefs: []
  type: TYPE_NORMAL
- en: 'Returns:'
  prefs: []
  type: TYPE_NORMAL
- en: 'res: KstestResult'
  prefs: []
  type: TYPE_NORMAL
- en: 'An object containing attributes:'
  prefs: []
  type: TYPE_NORMAL
- en: statisticfloat
  prefs: []
  type: TYPE_NORMAL
- en: KS test statistic.
  prefs: []
  type: TYPE_NORMAL
- en: pvaluefloat
  prefs: []
  type: TYPE_NORMAL
- en: One-tailed or two-tailed p-value.
  prefs: []
  type: TYPE_NORMAL
- en: statistic_locationfloat
  prefs: []
  type: TYPE_NORMAL
- en: Value from *data1* or *data2* corresponding with the KS statistic; i.e., the
    distance between the empirical distribution functions is measured at this observation.
  prefs: []
  type: TYPE_NORMAL
- en: statistic_signint
  prefs: []
  type: TYPE_NORMAL
- en: +1 if the empirical distribution function of *data1* exceeds the empirical distribution
    function of *data2* at *statistic_location*, otherwise -1.
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs: []
  type: TYPE_NORMAL
- en: '[`kstest`](scipy.stats.kstest.html#scipy.stats.kstest "scipy.stats.kstest"),
    [`ks_1samp`](scipy.stats.ks_1samp.html#scipy.stats.ks_1samp "scipy.stats.ks_1samp"),
    [`epps_singleton_2samp`](scipy.stats.epps_singleton_2samp.html#scipy.stats.epps_singleton_2samp
    "scipy.stats.epps_singleton_2samp"), [`anderson_ksamp`](scipy.stats.anderson_ksamp.html#scipy.stats.anderson_ksamp
    "scipy.stats.anderson_ksamp")'
  prefs: []
  type: TYPE_NORMAL
- en: Notes
  prefs: []
  type: TYPE_NORMAL
- en: There are three options for the null and corresponding alternative hypothesis
    that can be selected using the *alternative* parameter.
  prefs: []
  type: TYPE_NORMAL
- en: '*less*: The null hypothesis is that F(x) >= G(x) for all x; the alternative
    is that F(x) < G(x) for at least one x. The statistic is the magnitude of the
    minimum (most negative) difference between the empirical distribution functions
    of the samples.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*greater*: The null hypothesis is that F(x) <= G(x) for all x; the alternative
    is that F(x) > G(x) for at least one x. The statistic is the maximum (most positive)
    difference between the empirical distribution functions of the samples.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*two-sided*: The null hypothesis is that the two distributions are identical,
    F(x)=G(x) for all x; the alternative is that they are not identical. The statistic
    is the maximum absolute difference between the empirical distribution functions
    of the samples.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Note that the alternative hypotheses describe the *CDFs* of the underlying distributions,
    not the observed values of the data. For example, suppose x1 ~ F and x2 ~ G. If
    F(x) > G(x) for all x, the values in x1 tend to be less than those in x2.
  prefs: []
  type: TYPE_NORMAL
- en: If the KS statistic is large, then the p-value will be small, and this may be
    taken as evidence against the null hypothesis in favor of the alternative.
  prefs: []
  type: TYPE_NORMAL
- en: If `method='exact'`, [`ks_2samp`](#scipy.stats.ks_2samp "scipy.stats.ks_2samp")
    attempts to compute an exact p-value, that is, the probability under the null
    hypothesis of obtaining a test statistic value as extreme as the value computed
    from the data. If `method='asymp'`, the asymptotic Kolmogorov-Smirnov distribution
    is used to compute an approximate p-value. If `method='auto'`, an exact p-value
    computation is attempted if both sample sizes are less than 10000; otherwise,
    the asymptotic method is used. In any case, if an exact p-value calculation is
    attempted and fails, a warning will be emitted, and the asymptotic p-value will
    be returned.
  prefs: []
  type: TYPE_NORMAL
- en: The ‘two-sided’ ‘exact’ computation computes the complementary probability and
    then subtracts from 1\. As such, the minimum probability it can return is about
    1e-16\. While the algorithm itself is exact, numerical errors may accumulate for
    large sample sizes. It is most suited to situations in which one of the sample
    sizes is only a few thousand.
  prefs: []
  type: TYPE_NORMAL
- en: We generally follow Hodges’ treatment of Drion/Gnedenko/Korolyuk [[1]](#r2a7d47e1a68b-1).
  prefs: []
  type: TYPE_NORMAL
- en: Beginning in SciPy 1.9, `np.matrix` inputs (not recommended for new code) are
    converted to `np.ndarray` before the calculation is performed. In this case, the
    output will be a scalar or `np.ndarray` of appropriate shape rather than a 2D
    `np.matrix`. Similarly, while masked elements of masked arrays are ignored, the
    output will be a scalar or `np.ndarray` rather than a masked array with `mask=False`.
  prefs: []
  type: TYPE_NORMAL
- en: References
  prefs: []
  type: TYPE_NORMAL
- en: '[[1](#id1)]'
  prefs: []
  type: TYPE_NORMAL
- en: Hodges, J.L. Jr., “The Significance Probability of the Smirnov Two-Sample Test,”
    Arkiv fiur Matematik, 3, No. 43 (1958), 469-486.
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: Suppose we wish to test the null hypothesis that two samples were drawn from
    the same distribution. We choose a confidence level of 95%; that is, we will reject
    the null hypothesis in favor of the alternative if the p-value is less than 0.05.
  prefs: []
  type: TYPE_NORMAL
- en: If the first sample were drawn from a uniform distribution and the second were
    drawn from the standard normal, we would expect the null hypothesis to be rejected.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Indeed, the p-value is lower than our threshold of 0.05, so we reject the null
    hypothesis in favor of the default “two-sided” alternative: the data were *not*
    drawn from the same distribution.'
  prefs: []
  type: TYPE_NORMAL
- en: When both samples are drawn from the same distribution, we expect the data to
    be consistent with the null hypothesis most of the time.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: As expected, the p-value of 0.54 is not below our threshold of 0.05, so we cannot
    reject the null hypothesis.
  prefs: []
  type: TYPE_NORMAL
- en: 'Suppose, however, that the first sample were drawn from a normal distribution
    shifted toward greater values. In this case, the cumulative density function (CDF)
    of the underlying distribution tends to be *less* than the CDF underlying the
    second sample. Therefore, we would expect the null hypothesis to be rejected with
    `alternative=''less''`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: and indeed, with p-value smaller than our threshold, we reject the null hypothesis
    in favor of the alternative.
  prefs: []
  type: TYPE_NORMAL
