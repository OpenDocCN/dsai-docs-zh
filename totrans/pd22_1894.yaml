- en: What’s new in 2.1.4 (December 8, 2023)
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://pandas.pydata.org/docs/whatsnew/v2.1.4.html](https://pandas.pydata.org/docs/whatsnew/v2.1.4.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: These are the changes in pandas 2.1.4\. See [Release notes](index.html#release)
    for a full changelog including other versions of pandas.
  prefs: []
  type: TYPE_NORMAL
- en: '## Fixed regressions'
  prefs: []
  type: TYPE_NORMAL
- en: 'Fixed regression when trying to read a pickled pandas [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") from pandas 1.3 ([GH 55137](https://github.com/pandas-dev/pandas/issues/55137))  ##
    Bug fixes'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    constructor raising DeprecationWarning when `index` is a list of [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") ([GH 55228](https://github.com/pandas-dev/pandas/issues/55228))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    when trying to cast date-like string inputs to [`ArrowDtype`](../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype
    "pandas.ArrowDtype") of `pyarrow.timestamp` ([GH 56266](https://github.com/pandas-dev/pandas/issues/56266))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") construction with `ts_input="now"` or `ts_input="today"` giving
    a different unit from [`Timestamp.now()`](../reference/api/pandas.Timestamp.now.html#pandas.Timestamp.now
    "pandas.Timestamp.now") or [`Timestamp.today()`](../reference/api/pandas.Timestamp.today.html#pandas.Timestamp.today
    "pandas.Timestamp.today") ([GH 55879](https://github.com/pandas-dev/pandas/issues/55879))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in `Index.__getitem__()` returning wrong result for Arrow dtypes and negative
    stepsize ([GH 55832](https://github.com/pandas-dev/pandas/issues/55832))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") not respecting object dtype when `infer_string` option is set
    ([GH 56047](https://github.com/pandas-dev/pandas/issues/56047))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric") converting to extension dtype for `string[pyarrow_numpy]`
    dtype ([GH 56179](https://github.com/pandas-dev/pandas/issues/56179))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`DataFrameGroupBy.min()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.min.html#pandas.core.groupby.DataFrameGroupBy.min
    "pandas.core.groupby.DataFrameGroupBy.min") and [`DataFrameGroupBy.max()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.max.html#pandas.core.groupby.DataFrameGroupBy.max
    "pandas.core.groupby.DataFrameGroupBy.max") not preserving extension dtype for
    empty object ([GH 55619](https://github.com/pandas-dev/pandas/issues/55619))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in `DataFrame.__setitem__()` casting [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") with object-dtype to PyArrow backed strings when `infer_string`
    option is set ([GH 55638](https://github.com/pandas-dev/pandas/issues/55638))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf") raising when columns have `StringDtype` ([GH 55088](https://github.com/pandas-dev/pandas/issues/55088))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`Index.insert()`](../reference/api/pandas.Index.insert.html#pandas.Index.insert
    "pandas.Index.insert") casting object-dtype to PyArrow backed strings when `infer_string`
    option is set ([GH 55638](https://github.com/pandas-dev/pandas/issues/55638))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in `Series.__ne__()` resulting in False for comparison between `NA`
    and string value for `dtype="string[pyarrow_numpy]"` ([GH 56122](https://github.com/pandas-dev/pandas/issues/56122))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode") not keeping object dtype when `infer_string` is set ([GH
    56183](https://github.com/pandas-dev/pandas/issues/56183))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`Series.reset_index()`](../reference/api/pandas.Series.reset_index.html#pandas.Series.reset_index
    "pandas.Series.reset_index") not preserving object dtype when `infer_string` is
    set ([GH 56160](https://github.com/pandas-dev/pandas/issues/56160))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`Series.str.split()`](../reference/api/pandas.Series.str.split.html#pandas.Series.str.split
    "pandas.Series.str.split") and [`Series.str.rsplit()`](../reference/api/pandas.Series.str.rsplit.html#pandas.Series.str.rsplit
    "pandas.Series.str.rsplit") when `pat=None` for [`ArrowDtype`](../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype
    "pandas.ArrowDtype") with `pyarrow.string` ([GH 56271](https://github.com/pandas-dev/pandas/issues/56271))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Fixed bug in [`Series.str.translate()`](../reference/api/pandas.Series.str.translate.html#pandas.Series.str.translate
    "pandas.Series.str.translate") losing object dtype when string option is set ([GH
    56152](https://github.com/pandas-dev/pandas/issues/56152))  ## Contributors'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A total of 12 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  prefs: []
  type: TYPE_NORMAL
- en: Daniel Isaac
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Joris Van den Bossche
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Luke Manley
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Lumberbot (aka Jack)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Marco Edward Gorelli
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matthew Roeschke
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pandas Development Team
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Patrick Hoefler
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thomas Li
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: William Ayd
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Yao Xiao
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'pre-commit-ci[bot]  ## Fixed regressions'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression when trying to read a pickled pandas [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") from pandas 1.3 ([GH 55137](https://github.com/pandas-dev/pandas/issues/55137))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Bug fixes'
  prefs: []
  type: TYPE_NORMAL
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    constructor raising DeprecationWarning when `index` is a list of [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") ([GH 55228](https://github.com/pandas-dev/pandas/issues/55228))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    when trying to cast date-like string inputs to [`ArrowDtype`](../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype
    "pandas.ArrowDtype") of `pyarrow.timestamp` ([GH 56266](https://github.com/pandas-dev/pandas/issues/56266))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") construction with `ts_input="now"` or `ts_input="today"` giving
    a different unit from [`Timestamp.now()`](../reference/api/pandas.Timestamp.now.html#pandas.Timestamp.now
    "pandas.Timestamp.now") or [`Timestamp.today()`](../reference/api/pandas.Timestamp.today.html#pandas.Timestamp.today
    "pandas.Timestamp.today") ([GH 55879](https://github.com/pandas-dev/pandas/issues/55879))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in `Index.__getitem__()` returning wrong result for Arrow dtypes and negative
    stepsize ([GH 55832](https://github.com/pandas-dev/pandas/issues/55832))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") not respecting object dtype when `infer_string` option is set
    ([GH 56047](https://github.com/pandas-dev/pandas/issues/56047))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric") converting to extension dtype for `string[pyarrow_numpy]`
    dtype ([GH 56179](https://github.com/pandas-dev/pandas/issues/56179))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`DataFrameGroupBy.min()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.min.html#pandas.core.groupby.DataFrameGroupBy.min
    "pandas.core.groupby.DataFrameGroupBy.min") and [`DataFrameGroupBy.max()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.max.html#pandas.core.groupby.DataFrameGroupBy.max
    "pandas.core.groupby.DataFrameGroupBy.max") not preserving extension dtype for
    empty object ([GH 55619](https://github.com/pandas-dev/pandas/issues/55619))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in `DataFrame.__setitem__()` casting [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") with object-dtype to PyArrow backed strings when `infer_string`
    option is set ([GH 55638](https://github.com/pandas-dev/pandas/issues/55638))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf") raising when columns have `StringDtype` ([GH 55088](https://github.com/pandas-dev/pandas/issues/55088))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`Index.insert()`](../reference/api/pandas.Index.insert.html#pandas.Index.insert
    "pandas.Index.insert") casting object-dtype to PyArrow backed strings when `infer_string`
    option is set ([GH 55638](https://github.com/pandas-dev/pandas/issues/55638))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in `Series.__ne__()` resulting in False for comparison between `NA`
    and string value for `dtype="string[pyarrow_numpy]"` ([GH 56122](https://github.com/pandas-dev/pandas/issues/56122))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode") not keeping object dtype when `infer_string` is set ([GH
    56183](https://github.com/pandas-dev/pandas/issues/56183))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`Series.reset_index()`](../reference/api/pandas.Series.reset_index.html#pandas.Series.reset_index
    "pandas.Series.reset_index") not preserving object dtype when `infer_string` is
    set ([GH 56160](https://github.com/pandas-dev/pandas/issues/56160))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`Series.str.split()`](../reference/api/pandas.Series.str.split.html#pandas.Series.str.split
    "pandas.Series.str.split") and [`Series.str.rsplit()`](../reference/api/pandas.Series.str.rsplit.html#pandas.Series.str.rsplit
    "pandas.Series.str.rsplit") when `pat=None` for [`ArrowDtype`](../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype
    "pandas.ArrowDtype") with `pyarrow.string` ([GH 56271](https://github.com/pandas-dev/pandas/issues/56271))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`Series.str.translate()`](../reference/api/pandas.Series.str.translate.html#pandas.Series.str.translate
    "pandas.Series.str.translate") losing object dtype when string option is set ([GH
    56152](https://github.com/pandas-dev/pandas/issues/56152))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Contributors'
  prefs: []
  type: TYPE_NORMAL
- en: A total of 12 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  prefs: []
  type: TYPE_NORMAL
- en: Daniel Isaac
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Joris Van den Bossche
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Luke Manley
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Lumberbot (aka Jack)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Marco Edward Gorelli
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matthew Roeschke
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pandas Development Team
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Patrick Hoefler
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thomas Li
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: William Ayd
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Yao Xiao
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: pre-commit-ci[bot]
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
