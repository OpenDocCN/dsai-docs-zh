- en: What’s new in 0.24.0 (January 25, 2019)
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 0.24.0中的新功能（2019年1月25日）
- en: 原文：[https://pandas.pydata.org/docs/whatsnew/v0.24.0.html](https://pandas.pydata.org/docs/whatsnew/v0.24.0.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://pandas.pydata.org/docs/whatsnew/v0.24.0.html](https://pandas.pydata.org/docs/whatsnew/v0.24.0.html)
- en: Warning
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: The 0.24.x series of releases will be the last to support Python 2\. Future
    feature releases will support Python 3 only. See [Dropping Python 2.7](https://pandas.pydata.org/pandas-docs/version/0.24/install.html#install-dropping-27)
    for more details.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 0.24.x系列发布将是最后一个支持Python 2的版本。 未来的功能发布将仅支持Python 3。 有关更多详情，请参阅[Dropping Python
    2.7](https://pandas.pydata.org/pandas-docs/version/0.24/install.html#install-dropping-27)。
- en: This is a major release from 0.23.4 and includes a number of API changes, new
    features, enhancements, and performance improvements along with a large number
    of bug fixes.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 这是从0.23.4的重大发布，并包括许多API更改、新功能、增强功能和性能改进以及大量的错误修复。
- en: 'Highlights include:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 亮点包括：
- en: '[Optional Integer NA Support](#whatsnew-0240-enhancements-intna)'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[可选整数NA支持](#whatsnew-0240-enhancements-intna)'
- en: '[New APIs for accessing the array backing a Series or Index](#whatsnew-0240-values-api)'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[访问 Series 或 Index 支撑数组的新 API](#whatsnew-0240-values-api)'
- en: '[A new top-level method for creating arrays](#whatsnew-0240-enhancements-array)'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[创建数组的新顶级方法](#whatsnew-0240-enhancements-array)'
- en: '[Store Interval and Period data in a Series or DataFrame](#whatsnew-0240-enhancements-interval)'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[在Series或DataFrame中存储间隔和周期数据](#whatsnew-0240-enhancements-interval)'
- en: '[Support for joining on two MultiIndexes](#whatsnew-0240-enhancements-join-with-two-multiindexes)'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[支持在两个MultiIndexes上进行连接](#whatsnew-0240-enhancements-join-with-two-multiindexes)'
- en: Check the [API Changes](#whatsnew-0240-api-breaking) and [deprecations](#whatsnew-0240-deprecations)
    before updating.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在更新之前，请检查[API更改](#whatsnew-0240-api-breaking)和[弃用](#whatsnew-0240-deprecations)。
- en: These are the changes in pandas 0.24.0\. See [Release notes](index.html#release)
    for a full changelog including other versions of pandas.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是pandas 0.24.0中的更改。 请参阅[发布说明](index.html#release)以获取包括pandas其他版本的完整更改日志。
- en: Enhancements
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 增强
- en: '### Optional integer NA support'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '### 可选整数NA支持'
- en: pandas has gained the ability to hold integer dtypes with missing values. This
    long requested feature is enabled through the use of [extension types](../development/extending.html#extending-extension-types).
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: pandas已经获得了具有缺失值的整数dtype的能力。 通过使用[扩展类型](../development/extending.html#extending-extension-types)来启用此长期请求的功能。
- en: Note
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: IntegerArray is currently experimental. Its API or implementation may change
    without warning.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: IntegerArray目前处于试验阶段。 其API或实现可能会在没有警告的情况下更改。
- en: We can construct a `Series` with the specified dtype. The dtype string `Int64`
    is a pandas `ExtensionDtype`. Specifying a list or array using the traditional
    missing value marker of `np.nan` will infer to integer dtype. The display of the
    `Series` will also use the `NaN` to indicate missing values in string outputs.
    ([GH 20700](https://github.com/pandas-dev/pandas/issues/20700), [GH 20747](https://github.com/pandas-dev/pandas/issues/20747),
    [GH 22441](https://github.com/pandas-dev/pandas/issues/22441), [GH 21789](https://github.com/pandas-dev/pandas/issues/21789),
    [GH 22346](https://github.com/pandas-dev/pandas/issues/22346))
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用指定的dtype构造一个`Series`。 dtype字符串`Int64`是pandas的`ExtensionDtype`。 使用传统的缺失值标记`np.nan`来指定列表或数组将推断为整数dtype。
    在字符串输出中，`Series`的显示也将使用`NaN`来指示缺失值。 ([GH 20700](https://github.com/pandas-dev/pandas/issues/20700),
    [GH 20747](https://github.com/pandas-dev/pandas/issues/20747), [GH 22441](https://github.com/pandas-dev/pandas/issues/22441),
    [GH 21789](https://github.com/pandas-dev/pandas/issues/21789), [GH 22346](https://github.com/pandas-dev/pandas/issues/22346))
- en: '[PRE0]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Operations on these dtypes will propagate `NaN` as other pandas operations.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 对这些dtype的操作将像其他pandas操作一样传播`NaN`。
- en: '[PRE1]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: These dtypes can operate as part of a `DataFrame`.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 这些dtype可以作为`DataFrame`的一部分操作。
- en: '[PRE2]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: These dtypes can be merged, reshaped, and casted.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 这些dtype可以合并、重塑和转换。
- en: '[PRE3]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Reduction and groupby operations such as `sum` work.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '`sum`等减少和分组操作有效。'
- en: '[PRE4]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Warning
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: The Integer NA support currently uses the capitalized dtype version, e.g. `Int8`
    as compared to the traditional `int8`. This may be changed at a future date.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 整数NA支持当前使用大写的dtype版本，例如`Int8`，而不是传统的`int8`。 这可能在将来更改。
- en: 'See [Nullable integer data type](../user_guide/integer_na.html#integer-na)
    for more.  ### Accessing the values in a Series or Index'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 有关更多信息，请参阅[可空整数数据类型](../user_guide/integer_na.html#integer-na)。### 访问Series或Index中的值
- en: '[`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") and `Index.array` have been added for extracting the array
    backing a `Series` or `Index`. ([GH 19954](https://github.com/pandas-dev/pandas/issues/19954),
    [GH 23623](https://github.com/pandas-dev/pandas/issues/23623))'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '[`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") 和 `Index.array` 已添加用于提取支持 `Series` 或 `Index` 的数组。 ([GH
    19954](https://github.com/pandas-dev/pandas/issues/19954), [GH 23623](https://github.com/pandas-dev/pandas/issues/23623))'
- en: '[PRE5]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Historically, this would have been done with `series.values`, but with `.values`
    it was unclear whether the returned value would be the actual array, some transformation
    of it, or one of pandas custom arrays (like `Categorical`). For example, with
    [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex "pandas.PeriodIndex"),
    `.values` generates a new ndarray of period objects each time.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 从历史上看，这可能是用 `series.values` 来完成的，但是用 `.values` 来完成时，无法确定返回的值是实际数组，还是它的某种变换，或者是pandas自定义数组之一（例如
    `Categorical`）。例如，对于 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")，`.values` 每次生成一组新的周期对象的ndarray。
- en: '[PRE6]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: If you need an actual NumPy array, use [`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy") or `Index.to_numpy()`.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你需要一个实际的NumPy数组，请使用 [`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy") 或 `Index.to_numpy()`。
- en: '[PRE7]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: For Series and Indexes backed by normal NumPy arrays, [`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") will return a new `arrays.PandasArray`, which is a thin
    (no-copy) wrapper around a [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)"). `PandasArray` isn’t especially useful on its own, but it
    does provide the same interface as any extension array defined in pandas or by
    a third-party library.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 对于由普通NumPy数组支持的Series和Indexes，[`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") 将返回一个新的 `arrays.PandasArray`，它是一个细（不复制）的包装器，围绕着一个[`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)")。 `PandasArray` 本身并不特别有用，但它提供了与pandas中定义的任何扩展数组或由第三方库定义的扩展数组相同的接口。
- en: '[PRE8]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: We haven’t removed or deprecated [`Series.values`](../reference/api/pandas.Series.values.html#pandas.Series.values
    "pandas.Series.values") or [`DataFrame.values`](../reference/api/pandas.DataFrame.values.html#pandas.DataFrame.values
    "pandas.DataFrame.values"), but we highly recommend and using `.array` or `.to_numpy()`
    instead.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 我们没有移除或废弃 [`Series.values`](../reference/api/pandas.Series.values.html#pandas.Series.values
    "pandas.Series.values") 或 [`DataFrame.values`](../reference/api/pandas.DataFrame.values.html#pandas.DataFrame.values
    "pandas.DataFrame.values")，但我们强烈建议使用 `.array` 或 `.to_numpy()` 代替。
- en: 'See [Dtypes](../user_guide/basics.html#basics-dtypes) and [Attributes and Underlying
    Data](../user_guide/basics.html#basics-attrs) for more.  ### `pandas.array`: a
    new top-level method for creating arrays'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '更多信息请参阅 [Dtypes](../user_guide/basics.html#basics-dtypes) 和 [Attributes and
    Underlying Data](../user_guide/basics.html#basics-attrs)。### `pandas.array`: 一个用于创建数组的新顶级方法'
- en: A new top-level method [`array()`](../reference/api/pandas.array.html#pandas.array
    "pandas.array") has been added for creating 1-dimensional arrays ([GH 22860](https://github.com/pandas-dev/pandas/issues/22860)).
    This can be used to create any [extension array](../development/extending.html#extending-extension-types),
    including extension arrays registered by [3rd party libraries](https://pandas.pydata.org/community/ecosystem.html).
    See the [dtypes docs](../user_guide/basics.html#basics-dtypes) for more on extension
    arrays.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 新的顶级方法 [`array()`](../reference/api/pandas.array.html#pandas.array "pandas.array")
    已添加用于创建一维数组（[GH 22860](https://github.com/pandas-dev/pandas/issues/22860)）。这可以用于创建任何[扩展数组](../development/extending.html#extending-extension-types)，包括由[第三方库](https://pandas.pydata.org/community/ecosystem.html)注册的扩展数组。更多有关扩展数组的信息，请参阅[dtypes文档](../user_guide/basics.html#basics-dtypes)。
- en: '[PRE9]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Passing data for which there isn’t dedicated extension type (e.g. float, integer,
    etc.) will return a new `arrays.PandasArray`, which is just a thin (no-copy) wrapper
    around a [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)") that satisfies the pandas extension array interface.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 传递数据，没有专用扩展类型（例如浮点数、整数等），将返回一个新的 `arrays.PandasArray`，它只是一个细（不复制）的包装器，围绕着一个[`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)")，满足pandas扩展数组接口。
- en: '[PRE10]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: On their own, a `PandasArray` isn’t a very useful object. But if you need write
    low-level code that works generically for any [`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray"), `PandasArray` satisfies that need.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 单独使用 `PandasArray` 并不是一个非常有用的对象。但是，如果您需要编写适用于任何 [`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray") 的低级代码，`PandasArray` 可以满足这个需求。
- en: Notice that by default, if no `dtype` is specified, the dtype of the returned
    array is inferred from the data. In particular, note that the first example of
    `[1, 2, np.nan]` would have returned a floating-point array, since `NaN` is a
    float.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，默认情况下，如果未指定 `dtype`，则从数据推断返回数组的 dtype。特别要注意的是，第一个示例 `[1, 2, np.nan]` 会返回一个浮点数数组，因为
    `NaN` 是一个浮点数。
- en: '[PRE11]  ### Storing Interval and Period data in Series and DataFrame'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE11]  ### 在 Series 和 DataFrame 中存储区间和周期数据'
- en: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    and [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    data may now be stored in a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame"), in addition to an [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") and [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") like previously ([GH 19453](https://github.com/pandas-dev/pandas/issues/19453),
    [GH 22862](https://github.com/pandas-dev/pandas/issues/22862)).'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 现在可以将 [`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    和 [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    数据存储在 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    中，除了以前的 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 和 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") ([GH 19453](https://github.com/pandas-dev/pandas/issues/19453),
    [GH 22862](https://github.com/pandas-dev/pandas/issues/22862))。
- en: '[PRE12]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'For periods:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 对于周期数据：
- en: '[PRE13]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Previously, these would be cast to a NumPy array with object dtype. In general,
    this should result in better performance when storing an array of intervals or
    periods in a [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    or column of a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame").
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，这些都会被转换为具有对象 dtype 的 NumPy 数组。一般来说，当在 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 中存储一组区间或周期时，这样做应该会产生更好的性能。
- en: 'Use [`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") to extract the underlying array of intervals or periods
    from the `Series`:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 [`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") 从 `Series` 中提取区间或周期的基础数组：
- en: '[PRE14]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: These return an instance of [`arrays.IntervalArray`](../reference/api/pandas.arrays.IntervalArray.html#pandas.arrays.IntervalArray
    "pandas.arrays.IntervalArray") or [`arrays.PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray"), the new extension arrays that back interval and
    period data.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 这些返回一个 [`arrays.IntervalArray`](../reference/api/pandas.arrays.IntervalArray.html#pandas.arrays.IntervalArray
    "pandas.arrays.IntervalArray") 或 [`arrays.PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray") 的实例，这是支持区间和周期数据的新扩展数组。
- en: Warning
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: For backwards compatibility, [`Series.values`](../reference/api/pandas.Series.values.html#pandas.Series.values
    "pandas.Series.values") continues to return a NumPy array of objects for Interval
    and Period data. We recommend using [`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") when you need the array of data stored in the `Series`,
    and [`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy") when you know you need a NumPy array.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 为了向后兼容，对于区间和周期数据，[`Series.values`](../reference/api/pandas.Series.values.html#pandas.Series.values
    "pandas.Series.values") 继续返回对象的 NumPy 数组。我们建议在需要存储在 `Series` 中的数据数组时使用 [`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array")，在需要 NumPy 数组时使用 [`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy")。
- en: 'See [Dtypes](../user_guide/basics.html#basics-dtypes) and [Attributes and Underlying
    Data](../user_guide/basics.html#basics-attrs) for more.  ### Joining with two
    multi-indexes'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '更多信息请参见 [数据类型](../user_guide/basics.html#basics-dtypes) 和 [属性和底层数据](../user_guide/basics.html#basics-attrs)  ###
    与两个多索引连接'
- en: '[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") and [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") can now be used to join multi-indexed `Dataframe` instances
    on the overlapping index levels ([GH 6360](https://github.com/pandas-dev/pandas/issues/6360))'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") 和 [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") 现在可以用于在重叠的索引级别上连接多级索引的 `Dataframe` 实例 ([GH 6360](https://github.com/pandas-dev/pandas/issues/6360))'
- en: See the [Merge, join, and concatenate](../user_guide/merging.html#merging-join-with-two-multi-indexes)
    documentation section.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 查看[合并、连接和连接](../user_guide/merging.html#merging-join-with-two-multi-indexes)文档部分。
- en: '[PRE15]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: For earlier versions this can be done using the following.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 对于早期版本，可以使用以下方法。
- en: '[PRE16]  ### Function `read_html` enhancements'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE16]  ### 函数 `read_html` 增强'
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    previously ignored `colspan` and `rowspan` attributes. Now it understands them,
    treating them as sequences of cells with the same value. ([GH 17054](https://github.com/pandas-dev/pandas/issues/17054))'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    以前忽略了 `colspan` 和 `rowspan` 属性。现在它理解它们，将它们视为具有相同值的单元格序列。 ([GH 17054](https://github.com/pandas-dev/pandas/issues/17054))'
- en: '[PRE17]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '*Previous behavior*:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前行为*:'
- en: '[PRE18]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '*New behavior*:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE19]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: New `Styler.pipe()` method
  id: totrans-70
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 新的 `Styler.pipe()` 方法
- en: The [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") class has gained a [`pipe()`](../reference/api/pandas.io.formats.style.Styler.pipe.html#pandas.io.formats.style.Styler.pipe
    "pandas.io.formats.style.Styler.pipe") method. This provides a convenient way
    to apply users’ predefined styling functions, and can help reduce “boilerplate”
    when using DataFrame styling functionality repeatedly within a notebook. ([GH
    23229](https://github.com/pandas-dev/pandas/issues/23229))
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 类已经获得了一个 [`pipe()`](../reference/api/pandas.io.formats.style.Styler.pipe.html#pandas.io.formats.style.Styler.pipe
    "pandas.io.formats.style.Styler.pipe") 方法。这提供了一种方便的方式来应用用户预定义的样式函数，并且可以帮助减少在笔记本中重复使用
    DataFrame 样式功能时的“样板文件”。 ([GH 23229](https://github.com/pandas-dev/pandas/issues/23229))'
- en: '[PRE20]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Similar methods already exist for other classes in pandas, including [`DataFrame.pipe()`](../reference/api/pandas.DataFrame.pipe.html#pandas.DataFrame.pipe
    "pandas.DataFrame.pipe"), `GroupBy.pipe()`, and [`Resampler.pipe()`](../reference/api/pandas.core.resample.Resampler.pipe.html#pandas.core.resample.Resampler.pipe
    "pandas.core.resample.Resampler.pipe").
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 中其他类已经存在类似的方法，包括 [`DataFrame.pipe()`](../reference/api/pandas.DataFrame.pipe.html#pandas.DataFrame.pipe
    "pandas.DataFrame.pipe")、`GroupBy.pipe()` 和 [`Resampler.pipe()`](../reference/api/pandas.core.resample.Resampler.pipe.html#pandas.core.resample.Resampler.pipe
    "pandas.core.resample.Resampler.pipe")。
- en: '### Renaming names in a MultiIndex'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在多级索引中重命名名称'
- en: '[`DataFrame.rename_axis()`](../reference/api/pandas.DataFrame.rename_axis.html#pandas.DataFrame.rename_axis
    "pandas.DataFrame.rename_axis") now supports `index` and `columns` arguments and
    [`Series.rename_axis()`](../reference/api/pandas.Series.rename_axis.html#pandas.Series.rename_axis
    "pandas.Series.rename_axis") supports `index` argument ([GH 19978](https://github.com/pandas-dev/pandas/issues/19978)).'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.rename_axis()`](../reference/api/pandas.DataFrame.rename_axis.html#pandas.DataFrame.rename_axis
    "pandas.DataFrame.rename_axis") 现在支持 `index` 和 `columns` 参数，[`Series.rename_axis()`](../reference/api/pandas.Series.rename_axis.html#pandas.Series.rename_axis
    "pandas.Series.rename_axis") 支持 `index` 参数（[GH 19978](https://github.com/pandas-dev/pandas/issues/19978)）。'
- en: This change allows a dictionary to be passed so that some of the names of a
    `MultiIndex` can be changed.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 此更改允许传递字典，以便更改 `MultiIndex` 的一些名称。
- en: 'Example:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '示例:'
- en: '[PRE21]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'See the [Advanced documentation on renaming](../user_guide/advanced.html#advanced-index-names)
    for more details.  ### Other enhancements'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '查看[重命名的高级文档](../user_guide/advanced.html#advanced-index-names)以获取更多详细信息。  ###
    其他增强功能'
- en: '[`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    now directly allows merge between objects of type `DataFrame` and named `Series`,
    without the need to convert the `Series` object into a `DataFrame` beforehand
    ([GH 21220](https://github.com/pandas-dev/pandas/issues/21220))'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    现在直接允许在 `DataFrame` 和命名 `Series` 类型对象之间进行合并，无需事先将 `Series` 对象转换为 `DataFrame` ([GH
    21220](https://github.com/pandas-dev/pandas/issues/21220))'
- en: '`ExcelWriter` now accepts `mode` as a keyword argument, enabling append to
    existing workbooks when using the `openpyxl` engine ([GH 3441](https://github.com/pandas-dev/pandas/issues/3441))'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExcelWriter`现在接受`mode`作为关键字参数，使用`openpyxl`引擎时允许追加到现有工作簿（[GH 3441](https://github.com/pandas-dev/pandas/issues/3441)）'
- en: '`FrozenList` has gained the `.union()` and `.difference()` methods. This functionality
    greatly simplifies groupby’s that rely on explicitly excluding certain columns.
    See [Splitting an object into groups](../user_guide/groupby.html#groupby-split)
    for more information ([GH 15475](https://github.com/pandas-dev/pandas/issues/15475),
    [GH 15506](https://github.com/pandas-dev/pandas/issues/15506)).'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`FrozenList`已经获得了`.union()`和`.difference()`方法。此功能极大地简化了依赖于显式排除某些列的groupby操作。有关更多信息，请参阅[将对象拆分为组](../user_guide/groupby.html#groupby-split)。
    ([GH 15475](https://github.com/pandas-dev/pandas/issues/15475), [GH 15506](https://github.com/pandas-dev/pandas/issues/15506))'
- en: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") now accepts `index` as an argument, allowing the
    user to override the engine’s default behavior to include or omit the dataframe’s
    indexes from the resulting Parquet file. ([GH 20768](https://github.com/pandas-dev/pandas/issues/20768))'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet")现在接受`index`作为参数，允许用户覆盖引擎的默认行为，包括或省略结果Parquet文件中的数据框索引。
    ([GH 20768](https://github.com/pandas-dev/pandas/issues/20768))'
- en: '[`read_feather()`](../reference/api/pandas.read_feather.html#pandas.read_feather
    "pandas.read_feather") now accepts `columns` as an argument, allowing the user
    to specify which columns should be read. ([GH 24025](https://github.com/pandas-dev/pandas/issues/24025))'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_feather()`](../reference/api/pandas.read_feather.html#pandas.read_feather
    "pandas.read_feather")现在接受`columns`作为参数，允许用户指定应读取哪些列。 ([GH 24025](https://github.com/pandas-dev/pandas/issues/24025))'
- en: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") and [`Series.corr()`](../reference/api/pandas.Series.corr.html#pandas.Series.corr
    "pandas.Series.corr") now accept a callable for generic calculation methods of
    correlation, e.g. histogram intersection ([GH 22684](https://github.com/pandas-dev/pandas/issues/22684))'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr")和[`Series.corr()`](../reference/api/pandas.Series.corr.html#pandas.Series.corr
    "pandas.Series.corr")现在接受可调用的方法来进行相关性的一般计算，例如直方图交集。 ([GH 22684](https://github.com/pandas-dev/pandas/issues/22684))'
- en: '[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") now accepts `decimal` as an argument, allowing the
    user to specify which decimal separator should be used in the output. ([GH 23614](https://github.com/pandas-dev/pandas/issues/23614))'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string")现在接受`decimal`作为参数，允许用户指定输出中应使用的十进制分隔符。 ([GH 23614](https://github.com/pandas-dev/pandas/issues/23614))'
- en: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") now accepts `render_links` as an argument, allowing
    the user to generate HTML with links to any URLs that appear in the DataFrame.
    See the [section on writing HTML](../user_guide/io.html#io-html) in the IO docs
    for example usage. ([GH 2679](https://github.com/pandas-dev/pandas/issues/2679))'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html")现在接受`render_links`作为参数，允许用户生成带有链接到数据框中任何URL的HTML。请参阅IO文档中的HTML编写部分以查看示例用法。
    ([GH 2679](https://github.com/pandas-dev/pandas/issues/2679))'
- en: '[`pandas.read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") now supports pandas extension types as an argument to `dtype`,
    allowing the user to use pandas extension types when reading CSVs. ([GH 23228](https://github.com/pandas-dev/pandas/issues/23228))'
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")现在支持将pandas扩展类型作为`dtype`参数的参数，允许用户在读取CSV时使用pandas扩展类型。 ([GH
    23228](https://github.com/pandas-dev/pandas/issues/23228))'
- en: The [`shift()`](../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift
    "pandas.DataFrame.shift") method now accepts `fill_value` as an argument, allowing
    the user to specify a value which will be used instead of NA/NaT in the empty
    periods. ([GH 15486](https://github.com/pandas-dev/pandas/issues/15486))
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`shift()`](../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift
    "pandas.DataFrame.shift")方法现在接受`fill_value`作为参数，允许用户指定在空期间中使用的值，而不是NA/NaT。 ([GH
    15486](https://github.com/pandas-dev/pandas/issues/15486))'
- en: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") now supports the `%Z` and `%z` directive when passed into
    `format` ([GH 13486](https://github.com/pandas-dev/pandas/issues/13486))'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 现在在传入`format`时支持`%Z`和`%z`指令（[GH 13486](https://github.com/pandas-dev/pandas/issues/13486))'
- en: '[`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode") and [`DataFrame.mode()`](../reference/api/pandas.DataFrame.mode.html#pandas.DataFrame.mode
    "pandas.DataFrame.mode") now support the `dropna` parameter which can be used
    to specify whether `NaN`/`NaT` values should be considered ([GH 17534](https://github.com/pandas-dev/pandas/issues/17534))'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode") 和 [`DataFrame.mode()`](../reference/api/pandas.DataFrame.mode.html#pandas.DataFrame.mode
    "pandas.DataFrame.mode") 现在支持`dropna`参数，可用于指定是否应考虑`NaN`/`NaT`值 ([GH 17534](https://github.com/pandas-dev/pandas/issues/17534))'
- en: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") and [`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv") now support the `compression` keyword when a file handle
    is passed. ([GH 21227](https://github.com/pandas-dev/pandas/issues/21227))'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") 和 [`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv") 现在在传入文件句柄时支持`compression`关键字。([GH 21227](https://github.com/pandas-dev/pandas/issues/21227))'
- en: '[`Index.droplevel()`](../reference/api/pandas.Index.droplevel.html#pandas.Index.droplevel
    "pandas.Index.droplevel") is now implemented also for flat indexes, for compatibility
    with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 21115](https://github.com/pandas-dev/pandas/issues/21115))'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.droplevel()`](../reference/api/pandas.Index.droplevel.html#pandas.Index.droplevel
    "pandas.Index.droplevel") 现在也对平坦索引实现了，以便与[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")兼容 ([GH 21115](https://github.com/pandas-dev/pandas/issues/21115))'
- en: '[`Series.droplevel()`](../reference/api/pandas.Series.droplevel.html#pandas.Series.droplevel
    "pandas.Series.droplevel") and [`DataFrame.droplevel()`](../reference/api/pandas.DataFrame.droplevel.html#pandas.DataFrame.droplevel
    "pandas.DataFrame.droplevel") are now implemented ([GH 20342](https://github.com/pandas-dev/pandas/issues/20342))'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.droplevel()`](../reference/api/pandas.Series.droplevel.html#pandas.Series.droplevel
    "pandas.Series.droplevel") 和 [`DataFrame.droplevel()`](../reference/api/pandas.DataFrame.droplevel.html#pandas.DataFrame.droplevel
    "pandas.DataFrame.droplevel") 现已实现([GH 20342](https://github.com/pandas-dev/pandas/issues/20342))'
- en: Added support for reading from/writing to Google Cloud Storage via the `gcsfs`
    library ([GH 19454](https://github.com/pandas-dev/pandas/issues/19454), [GH 23094](https://github.com/pandas-dev/pandas/issues/23094))
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新增对通过`gcsfs`库读取/写入Google Cloud Storage的支持([GH 19454](https://github.com/pandas-dev/pandas/issues/19454),
    [GH 23094](https://github.com/pandas-dev/pandas/issues/23094))
- en: '[`DataFrame.to_gbq()`](../reference/api/pandas.DataFrame.to_gbq.html#pandas.DataFrame.to_gbq
    "pandas.DataFrame.to_gbq") and [`read_gbq()`](../reference/api/pandas.read_gbq.html#pandas.read_gbq
    "pandas.read_gbq") signature and documentation updated to reflect changes from
    the [pandas-gbq library version 0.8.0](https://pandas-gbq.readthedocs.io/en/latest/changelog.html#changelog-0-8-0).
    Adds a `credentials` argument, which enables the use of any kind of [google-auth
    credentials](https://google-auth.readthedocs.io/en/latest/). ([GH 21627](https://github.com/pandas-dev/pandas/issues/21627),
    [GH 22557](https://github.com/pandas-dev/pandas/issues/22557), [GH 23662](https://github.com/pandas-dev/pandas/issues/23662))'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_gbq()`](../reference/api/pandas.DataFrame.to_gbq.html#pandas.DataFrame.to_gbq
    "pandas.DataFrame.to_gbq") 和 [`read_gbq()`](../reference/api/pandas.read_gbq.html#pandas.read_gbq
    "pandas.read_gbq") 的签名和文档已更新以反映[pandas-gbq库版本0.8.0](https://pandas-gbq.readthedocs.io/en/latest/changelog.html#changelog-0-8-0)的更改。新增了一个`credentials`参数，可用于使用任何类型的[google-auth凭据](https://google-auth.readthedocs.io/en/latest/)。([GH
    21627](https://github.com/pandas-dev/pandas/issues/21627), [GH 22557](https://github.com/pandas-dev/pandas/issues/22557),
    [GH 23662](https://github.com/pandas-dev/pandas/issues/23662))'
- en: New method [`HDFStore.walk()`](../reference/api/pandas.HDFStore.walk.html#pandas.HDFStore.walk
    "pandas.HDFStore.walk") will recursively walk the group hierarchy of an HDF5 file
    ([GH 10932](https://github.com/pandas-dev/pandas/issues/10932))
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新方法[`HDFStore.walk()`](../reference/api/pandas.HDFStore.walk.html#pandas.HDFStore.walk
    "pandas.HDFStore.walk") 将递归遍历HDF5文件的组层次结构 ([GH 10932](https://github.com/pandas-dev/pandas/issues/10932))
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    copies cell data across `colspan` and `rowspan`, and it treats all-`th` table
    rows as headers if `header` kwarg is not given and there is no `thead` ([GH 17054](https://github.com/pandas-dev/pandas/issues/17054))'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    现在可以跨越 `colspan` 和 `rowspan` 复制单元格数据，并且如果未提供 `header` 参数且没有 `thead`，则将所有 `th`
    表行视为表头。'
- en: '[`Series.nlargest()`](../reference/api/pandas.Series.nlargest.html#pandas.Series.nlargest
    "pandas.Series.nlargest"), [`Series.nsmallest()`](../reference/api/pandas.Series.nsmallest.html#pandas.Series.nsmallest
    "pandas.Series.nsmallest"), [`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest"), and [`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest") now accept the value `"all"` for the `keep` argument.
    This keeps all ties for the nth largest/smallest value ([GH 16818](https://github.com/pandas-dev/pandas/issues/16818))'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.nlargest()`](../reference/api/pandas.Series.nlargest.html#pandas.Series.nlargest
    "pandas.Series.nlargest"), [`Series.nsmallest()`](../reference/api/pandas.Series.nsmallest.html#pandas.Series.nsmallest
    "pandas.Series.nsmallest"), [`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest"), 和 [`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest") 现在接受值 `"all"` 作为 `keep` 参数。这将保留所有与第 n 个最大/最小值相同的数值
    ([GH 16818](https://github.com/pandas-dev/pandas/issues/16818))。'
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") has gained the [`set_closed()`](../reference/api/pandas.IntervalIndex.set_closed.html#pandas.IntervalIndex.set_closed
    "pandas.IntervalIndex.set_closed") method to change the existing `closed` value
    ([GH 21670](https://github.com/pandas-dev/pandas/issues/21670))'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 增加了 [`set_closed()`](../reference/api/pandas.IntervalIndex.set_closed.html#pandas.IntervalIndex.set_closed
    "pandas.IntervalIndex.set_closed") 方法，用于更改现有的 `closed` 值 ([GH 21670](https://github.com/pandas-dev/pandas/issues/21670))。'
- en: '[`to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv"), [`to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv"), [`to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json"), and [`to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") now support `compression=''infer''` to infer compression
    based on filename extension ([GH 15008](https://github.com/pandas-dev/pandas/issues/15008)).
    The default compression for `to_csv`, `to_json`, and `to_pickle` methods has been
    updated to `''infer''` ([GH 22004](https://github.com/pandas-dev/pandas/issues/22004)).'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv"), [`to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv"), [`to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json"), 和 [`to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") 现在支持 `compression=''infer''`，根据文件扩展名推断压缩方式（[GH 15008](https://github.com/pandas-dev/pandas/issues/15008)）。`to_csv`、`to_json`
    和 `to_pickle` 方法的默认压缩方式已更新为 `''infer''` ([GH 22004](https://github.com/pandas-dev/pandas/issues/22004))。'
- en: '[`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") now supports writing `TIMESTAMP WITH TIME ZONE` types
    for supported databases. For databases that don’t support timezones, datetime
    data will be stored as timezone unaware local timestamps. See the [Datetime data
    types](../user_guide/io.html#io-sql-datetime-data) for implications ([GH 9086](https://github.com/pandas-dev/pandas/issues/9086)).'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 现在支持对支持的数据库写入 `TIMESTAMP WITH TIME ZONE` 类型。对于不支持时区的数据库，日期时间数据将存储为不带时区信息的本地时间戳。参见[日期时间数据类型](../user_guide/io.html#io-sql-datetime-data)以了解其影响
    ([GH 9086](https://github.com/pandas-dev/pandas/issues/9086))。'
- en: '[`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") now supports iso-formatted timedelta strings ([GH 21877](https://github.com/pandas-dev/pandas/issues/21877))'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") 现在支持 ISO 格式的时间增量字符串 ([GH 21877](https://github.com/pandas-dev/pandas/issues/21877))。'
- en: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    and [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    now support `Iterable` objects in the constructor ([GH 2193](https://github.com/pandas-dev/pandas/issues/2193))'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    和 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    构造函数现在支持 `Iterable` 对象 ([GH 2193](https://github.com/pandas-dev/pandas/issues/2193))'
- en: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") has gained the [`DatetimeIndex.timetz`](../reference/api/pandas.DatetimeIndex.timetz.html#pandas.DatetimeIndex.timetz
    "pandas.DatetimeIndex.timetz") attribute. This returns the local time with timezone
    information. ([GH 21358](https://github.com/pandas-dev/pandas/issues/21358))'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 新增了 [`DatetimeIndex.timetz`](../reference/api/pandas.DatetimeIndex.timetz.html#pandas.DatetimeIndex.timetz
    "pandas.DatetimeIndex.timetz") 属性。该属性返回带有时区信息的本地时间。 ([GH 21358](https://github.com/pandas-dev/pandas/issues/21358))'
- en: '[`round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round"), [`ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil"), and [`floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor") for [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") now support an `ambiguous` argument for handling datetimes
    that are rounded to ambiguous times ([GH 18946](https://github.com/pandas-dev/pandas/issues/18946))
    and a `nonexistent` argument for handling datetimes that are rounded to nonexistent
    times. See [Nonexistent times when localizing](../user_guide/timeseries.html#timeseries-timezone-nonexistent)
    ([GH 22647](https://github.com/pandas-dev/pandas/issues/22647))'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round"), [`ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil"), 和 [`floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor") 方法现在支持一个 `ambiguous` 参数来处理舍入为模糊时间的日期时间 ([GH 18946](https://github.com/pandas-dev/pandas/issues/18946))，以及一个
    `nonexistent` 参数来处理舍入为不存在时间的日期时间。参见[本地化时不存在的时间](../user_guide/timeseries.html#timeseries-timezone-nonexistent)
    ([GH 22647](https://github.com/pandas-dev/pandas/issues/22647))'
- en: The result of [`resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") is now iterable similar to `groupby()` ([GH 15314](https://github.com/pandas-dev/pandas/issues/15314)).
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 方法的结果现在与 `groupby()` 类似可迭代 ([GH 15314](https://github.com/pandas-dev/pandas/issues/15314)).'
- en: '[`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") and [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") have gained the [`Resampler.quantile()`](../reference/api/pandas.core.resample.Resampler.quantile.html#pandas.core.resample.Resampler.quantile
    "pandas.core.resample.Resampler.quantile") ([GH 15023](https://github.com/pandas-dev/pandas/issues/15023)).'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") 和 [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 方法新增了 [`Resampler.quantile()`](../reference/api/pandas.core.resample.Resampler.quantile.html#pandas.core.resample.Resampler.quantile
    "pandas.core.resample.Resampler.quantile") ([GH 15023](https://github.com/pandas-dev/pandas/issues/15023)).'
- en: '[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") and [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") with a [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") will now respect the `base` argument in the same fashion
    as with a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"). ([GH 23882](https://github.com/pandas-dev/pandas/issues/23882))'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 和 [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") 方法在使用 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 时将会像使用 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 时一样，尊重 `base` 参数。 ([GH 23882](https://github.com/pandas-dev/pandas/issues/23882))'
- en: '[`pandas.api.types.is_list_like()`](../reference/api/pandas.api.types.is_list_like.html#pandas.api.types.is_list_like
    "pandas.api.types.is_list_like") has gained a keyword `allow_sets` which is `True`
    by default; if `False`, all instances of `set` will not be considered “list-like”
    anymore ([GH 23061](https://github.com/pandas-dev/pandas/issues/23061))'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.api.types.is_list_like()`](../reference/api/pandas.api.types.is_list_like.html#pandas.api.types.is_list_like
    "pandas.api.types.is_list_like") 现在具有一个关键字 `allow_sets`，默认为 `True`；如果为 `False`，则所有的
    `set` 实例将不再被视为“类似列表”（[GH 23061](https://github.com/pandas-dev/pandas/issues/23061)）。'
- en: '[`Index.to_frame()`](../reference/api/pandas.Index.to_frame.html#pandas.Index.to_frame
    "pandas.Index.to_frame") now supports overriding column name(s) ([GH 22580](https://github.com/pandas-dev/pandas/issues/22580)).'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.to_frame()`](../reference/api/pandas.Index.to_frame.html#pandas.Index.to_frame
    "pandas.Index.to_frame") 现在支持覆盖列名（[GH 22580](https://github.com/pandas-dev/pandas/issues/22580)）。'
- en: '[`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes") now can take a `dtype` parameter as an alternative
    to passing `categories` and `ordered` ([GH 24398](https://github.com/pandas-dev/pandas/issues/24398)).'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes") 现在可以接受一个 `dtype` 参数，作为传递 `categories` 和 `ordered`
    的替代方法（[GH 24398](https://github.com/pandas-dev/pandas/issues/24398)）。'
- en: New attribute `__git_version__` will return git commit sha of current build
    ([GH 21295](https://github.com/pandas-dev/pandas/issues/21295)).
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新属性 `__git_version__` 将返回当前构建的 git 提交 sha（[GH 21295](https://github.com/pandas-dev/pandas/issues/21295)）。
- en: Compatibility with Matplotlib 3.0 ([GH 22790](https://github.com/pandas-dev/pandas/issues/22790)).
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与 Matplotlib 3.0 兼容性（[GH 22790](https://github.com/pandas-dev/pandas/issues/22790)）。
- en: Added [`Interval.overlaps()`](../reference/api/pandas.Interval.overlaps.html#pandas.Interval.overlaps
    "pandas.Interval.overlaps"), [`arrays.IntervalArray.overlaps()`](../reference/api/pandas.arrays.IntervalArray.overlaps.html#pandas.arrays.IntervalArray.overlaps
    "pandas.arrays.IntervalArray.overlaps"), and [`IntervalIndex.overlaps()`](../reference/api/pandas.IntervalIndex.overlaps.html#pandas.IntervalIndex.overlaps
    "pandas.IntervalIndex.overlaps") for determining overlaps between interval-like
    objects ([GH 21998](https://github.com/pandas-dev/pandas/issues/21998))
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了 [`Interval.overlaps()`](../reference/api/pandas.Interval.overlaps.html#pandas.Interval.overlaps
    "pandas.Interval.overlaps")，[`arrays.IntervalArray.overlaps()`](../reference/api/pandas.arrays.IntervalArray.overlaps.html#pandas.arrays.IntervalArray.overlaps
    "pandas.arrays.IntervalArray.overlaps") 和 [`IntervalIndex.overlaps()`](../reference/api/pandas.IntervalIndex.overlaps.html#pandas.IntervalIndex.overlaps
    "pandas.IntervalIndex.overlaps") 用于确定间隔型对象之间的重叠情况（[GH 21998](https://github.com/pandas-dev/pandas/issues/21998)）。
- en: '[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf "pandas.read_fwf")
    now accepts keyword `infer_nrows` ([GH 15138](https://github.com/pandas-dev/pandas/issues/15138)).'
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf "pandas.read_fwf")
    现在接受关键字 `infer_nrows`（[GH 15138](https://github.com/pandas-dev/pandas/issues/15138)）。'
- en: '[`to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") now supports writing a `DataFrame` as a directory
    of parquet files partitioned by a subset of the columns when `engine = ''pyarrow''`
    ([GH 23283](https://github.com/pandas-dev/pandas/issues/23283))'
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") 现在在 `engine = ''pyarrow''` 时支持将 `DataFrame` 以列的子集分区写入
    Parquet 文件目录（[GH 23283](https://github.com/pandas-dev/pandas/issues/23283)）。'
- en: '[`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize"), [`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize"), and [`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize") have gained the `nonexistent` argument for alternative
    handling of nonexistent times. See [Nonexistent times when localizing](../user_guide/timeseries.html#timeseries-timezone-nonexistent)
    ([GH 8917](https://github.com/pandas-dev/pandas/issues/8917), [GH 24466](https://github.com/pandas-dev/pandas/issues/24466))'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize")，[`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize") 和 [`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize") 现在具有 `nonexistent` 参数，用于替代处理不存在的时间。参见[本地化时不存在的时间](../user_guide/timeseries.html#timeseries-timezone-nonexistent)（[GH
    8917](https://github.com/pandas-dev/pandas/issues/8917)，[GH 24466](https://github.com/pandas-dev/pandas/issues/24466)）。'
- en: '[`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference"), [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection"), [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union"), and [`Index.symmetric_difference()`](../reference/api/pandas.Index.symmetric_difference.html#pandas.Index.symmetric_difference
    "pandas.Index.symmetric_difference") now have an optional `sort` parameter to
    control whether the results should be sorted if possible ([GH 17839](https://github.com/pandas-dev/pandas/issues/17839),
    [GH 24471](https://github.com/pandas-dev/pandas/issues/24471))'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference")、[`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection")、[`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") 和 [`Index.symmetric_difference()`](../reference/api/pandas.Index.symmetric_difference.html#pandas.Index.symmetric_difference
    "pandas.Index.symmetric_difference") 现在具有可选的 `sort` 参数，用于控制是否应尽可能对结果进行排序（[GH 17839](https://github.com/pandas-dev/pandas/issues/17839),
    [GH 24471](https://github.com/pandas-dev/pandas/issues/24471))'
- en: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") now accepts `usecols` as a list of column names or callable
    ([GH 18273](https://github.com/pandas-dev/pandas/issues/18273))'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 现在接受 `usecols` 作为列名列表或可调用对象（[GH 18273](https://github.com/pandas-dev/pandas/issues/18273))'
- en: '[`MultiIndex.to_flat_index()`](../reference/api/pandas.MultiIndex.to_flat_index.html#pandas.MultiIndex.to_flat_index
    "pandas.MultiIndex.to_flat_index") has been added to flatten multiple levels into
    a single-level [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    object.'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.to_flat_index()`](../reference/api/pandas.MultiIndex.to_flat_index.html#pandas.MultiIndex.to_flat_index
    "pandas.MultiIndex.to_flat_index") 已添加，将多个级别展平为单个级别的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 对象。'
- en: '[`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata") and `pandas.io.stata.StataWriter117` can write mixed
    string columns to Stata strl format ([GH 23633](https://github.com/pandas-dev/pandas/issues/23633))'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata") 和 `pandas.io.stata.StataWriter117` 可以将混合字符串列写入 Stata
    strl 格式（[GH 23633](https://github.com/pandas-dev/pandas/issues/23633))'
- en: '[`DataFrame.between_time()`](../reference/api/pandas.DataFrame.between_time.html#pandas.DataFrame.between_time
    "pandas.DataFrame.between_time") and [`DataFrame.at_time()`](../reference/api/pandas.DataFrame.at_time.html#pandas.DataFrame.at_time
    "pandas.DataFrame.at_time") have gained the `axis` parameter ([GH 8839](https://github.com/pandas-dev/pandas/issues/8839))'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.between_time()`](../reference/api/pandas.DataFrame.between_time.html#pandas.DataFrame.between_time
    "pandas.DataFrame.between_time") 和 [`DataFrame.at_time()`](../reference/api/pandas.DataFrame.at_time.html#pandas.DataFrame.at_time
    "pandas.DataFrame.at_time") 已经增加了 `axis` 参数（[GH 8839](https://github.com/pandas-dev/pandas/issues/8839))'
- en: '[`DataFrame.to_records()`](../reference/api/pandas.DataFrame.to_records.html#pandas.DataFrame.to_records
    "pandas.DataFrame.to_records") now accepts `index_dtypes` and `column_dtypes`
    parameters to allow different data types in stored column and index records ([GH
    18146](https://github.com/pandas-dev/pandas/issues/18146))'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_records()`](../reference/api/pandas.DataFrame.to_records.html#pandas.DataFrame.to_records
    "pandas.DataFrame.to_records") 现在接受 `index_dtypes` 和 `column_dtypes` 参数，允许在存储的列和索引记录中使用不同的数据类型（[GH
    18146](https://github.com/pandas-dev/pandas/issues/18146))'
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") has gained the [`is_overlapping`](../reference/api/pandas.IntervalIndex.is_overlapping.html#pandas.IntervalIndex.is_overlapping
    "pandas.IntervalIndex.is_overlapping") attribute to indicate if the `IntervalIndex`
    contains any overlapping intervals ([GH 23309](https://github.com/pandas-dev/pandas/issues/23309))'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 已经增加了 [`is_overlapping`](../reference/api/pandas.IntervalIndex.is_overlapping.html#pandas.IntervalIndex.is_overlapping
    "pandas.IntervalIndex.is_overlapping") 属性，用于指示 `IntervalIndex` 是否包含任何重叠的区间（[GH
    23309](https://github.com/pandas-dev/pandas/issues/23309))'
- en: '[`pandas.DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") has gained the `method` argument to control SQL insertion
    clause. See the [insertion method](../user_guide/io.html#io-sql-method) section
    in the documentation. ([GH 8953](https://github.com/pandas-dev/pandas/issues/8953))'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 已增加 `method` 参数，用于控制 SQL 插入子句。请参阅文档中的 [插入方法](../user_guide/io.html#io-sql-method)
    部分。([GH 8953](https://github.com/pandas-dev/pandas/issues/8953))'
- en: '[`DataFrame.corrwith()`](../reference/api/pandas.DataFrame.corrwith.html#pandas.DataFrame.corrwith
    "pandas.DataFrame.corrwith") now supports Spearman’s rank correlation, Kendall’s
    tau as well as callable correlation methods. ([GH 21925](https://github.com/pandas-dev/pandas/issues/21925))'
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.corrwith()`](../reference/api/pandas.DataFrame.corrwith.html#pandas.DataFrame.corrwith
    "pandas.DataFrame.corrwith") 现在支持 Spearman''s 秩相关、Kendall''s tau 以及可调用的相关方法。([GH
    21925](https://github.com/pandas-dev/pandas/issues/21925))'
- en: '[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json"), [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv"), [`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle"), and other export methods now support tilde(~) in
    path argument. ([GH 23473](https://github.com/pandas-dev/pandas/issues/23473))  ##
    Backwards incompatible API changes'
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json"), [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv"), [`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle")，以及其他导出方法现在支持路径参数中的波浪号(~)。([GH 23473](https://github.com/pandas-dev/pandas/issues/23473))  ##
    不兼容的 API 更改'
- en: pandas 0.24.0 includes a number of API breaking changes.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 0.24.0 包含许多破坏 API 的更改。
- en: '### Increased minimum versions for dependencies'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '### 增加了依赖项的最低版本'
- en: 'We have updated our minimum supported versions of dependencies ([GH 21242](https://github.com/pandas-dev/pandas/issues/21242),
    [GH 18742](https://github.com/pandas-dev/pandas/issues/18742), [GH 23774](https://github.com/pandas-dev/pandas/issues/23774),
    [GH 24767](https://github.com/pandas-dev/pandas/issues/24767)). If installed,
    we now require:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已更新我们的依赖项的最低支持版本([GH 21242](https://github.com/pandas-dev/pandas/issues/21242),
    [GH 18742](https://github.com/pandas-dev/pandas/issues/18742), [GH 23774](https://github.com/pandas-dev/pandas/issues/23774),
    [GH 24767](https://github.com/pandas-dev/pandas/issues/24767))。如果已安装，我们现在要求：
- en: '| Package | Minimum Version | Required |'
  id: totrans-132
  prefs: []
  type: TYPE_TB
  zh: '| Package | Minimum Version | Required |'
- en: '| --- | --- | --- |'
  id: totrans-133
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| numpy | 1.12.0 | X |'
  id: totrans-134
  prefs: []
  type: TYPE_TB
  zh: '| numpy | 1.12.0 | X |'
- en: '| bottleneck | 1.2.0 |  |'
  id: totrans-135
  prefs: []
  type: TYPE_TB
  zh: '| bottleneck | 1.2.0 |  |'
- en: '| fastparquet | 0.2.1 |  |'
  id: totrans-136
  prefs: []
  type: TYPE_TB
  zh: '| fastparquet | 0.2.1 |  |'
- en: '| matplotlib | 2.0.0 |  |'
  id: totrans-137
  prefs: []
  type: TYPE_TB
  zh: '| matplotlib | 2.0.0 |  |'
- en: '| numexpr | 2.6.1 |  |'
  id: totrans-138
  prefs: []
  type: TYPE_TB
  zh: '| numexpr | 2.6.1 |  |'
- en: '| pandas-gbq | 0.8.0 |  |'
  id: totrans-139
  prefs: []
  type: TYPE_TB
  zh: '| pandas-gbq | 0.8.0 |  |'
- en: '| pyarrow | 0.9.0 |  |'
  id: totrans-140
  prefs: []
  type: TYPE_TB
  zh: '| pyarrow | 0.9.0 |  |'
- en: '| pytables | 3.4.2 |  |'
  id: totrans-141
  prefs: []
  type: TYPE_TB
  zh: '| pytables | 3.4.2 |  |'
- en: '| scipy | 0.18.1 |  |'
  id: totrans-142
  prefs: []
  type: TYPE_TB
  zh: '| scipy | 0.18.1 |  |'
- en: '| xlrd | 1.0.0 |  |'
  id: totrans-143
  prefs: []
  type: TYPE_TB
  zh: '| xlrd | 1.0.0 |  |'
- en: '| pytest (dev) | 3.6 |  |'
  id: totrans-144
  prefs: []
  type: TYPE_TB
  zh: '| pytest (dev) | 3.6 |  |'
- en: 'Additionally we no longer depend on `feather-format` for feather based storage
    and replaced it with references to `pyarrow` ([GH 21639](https://github.com/pandas-dev/pandas/issues/21639)
    and [GH 23053](https://github.com/pandas-dev/pandas/issues/23053)).  ### `os.linesep`
    is used for `line_terminator` of `DataFrame.to_csv`'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '另外，我们不再依赖于`feather-format`进行基于 feather 的存储，并用对`pyarrow`的引用替换了它([GH 21639](https://github.com/pandas-dev/pandas/issues/21639)
    和 [GH 23053](https://github.com/pandas-dev/pandas/issues/23053))。  ### `DataFrame.to_csv`
    的 `line_terminator` 使用 `os.linesep`'
- en: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") now uses `os.linesep()` rather than `''\n''` for the
    default line terminator ([GH 20353](https://github.com/pandas-dev/pandas/issues/20353)).
    This change only affects when running on Windows, where `''\r\n''` was used for
    line terminator even when `''\n''` was passed in `line_terminator`.'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") 现在使用 `os.linesep()` 而不是 `''\n''` 作为默认行终止符 ([GH 20353](https://github.com/pandas-dev/pandas/issues/20353))。这个更改仅影响在
    Windows 上运行时，即使在`line_terminator`中传递`''\n''`时，也会使用`''\r\n''`作为行终止符。'
- en: '*Previous behavior* on Windows:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: '*Windows 上的先前行为*:'
- en: '[PRE22]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: '*New behavior* on Windows:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '*Windows 上的新行为*:'
- en: Passing `line_terminator` explicitly, set the `line terminator` to that character.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 显式传递`line_terminator`，将`line terminator`设置为该字符。
- en: '[PRE23]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: On Windows, the value of `os.linesep` is `'\r\n'`, so if `line_terminator` is
    not set, `'\r\n'` is used for line terminator.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Windows 上，`os.linesep` 的值为`'\r\n'`，因此如果未设置`line_terminator`，则使用`'\r\n'`作为行终止符。
- en: '[PRE24]'
  id: totrans-153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: For file objects, specifying `newline` is not sufficient to set the line terminator.
    You must pass in the `line_terminator` explicitly, even in this case.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 对于文件对象，仅指定`newline`不足以设置行终止符。即使在这种情况下，您也必须显式传递`line_terminator`。
- en: '[PRE25]  ### Proper handling of `np.nan` in a string data-typed column with
    the Python engine'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE25]  ### 在 Python 引擎中正确处理带有`np.nan`的字符串数据类型列'
- en: There was bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") and [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") with the Python engine, where missing values turned to `'nan'`
    with `dtype=str` and `na_filter=True`. Now, these missing values are converted
    to the string missing indicator, `np.nan`. ([GH 20377](https://github.com/pandas-dev/pandas/issues/20377))
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用Python引擎的[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")和[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")中存在一个bug，其中缺失值在`dtype=str`和`na_filter=True`的情况下转换为`'nan'`。现在，这些缺失值被转换为字符串缺失指示符`np.nan`。([GH
    20377](https://github.com/pandas-dev/pandas/issues/20377))
- en: '*Previous behavior*:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*：'
- en: '[PRE26]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: '*New behavior*:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '*新的行为*：'
- en: '[PRE27]'
  id: totrans-160
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Notice how we now instead output `np.nan` itself instead of a stringified form
    of it.  ### Parsing datetime strings with timezone offsets'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '请注意，我们现在输出`np.nan`本身而不是其字符串形式。  ### 解析带有时区偏移的日期时间字符串'
- en: Previously, parsing datetime strings with UTC offsets with [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") or [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") would automatically convert the datetime to UTC without
    timezone localization. This is inconsistent from parsing the same datetime string
    with [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    which would preserve the UTC offset in the `tz` attribute. Now, [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") preserves the UTC offset in the `tz` attribute when all
    the datetime strings have the same UTC offset ([GH 17697](https://github.com/pandas-dev/pandas/issues/17697),
    [GH 11736](https://github.com/pandas-dev/pandas/issues/11736), [GH 22457](https://github.com/pandas-dev/pandas/issues/22457))
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，使用[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")或[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")解析带有UTC偏移的日期时间字符串会自动将日期时间转换为UTC而不进行时区本地化。这与使用[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")解析相同日期时间字符串的行为不一致，后者会保留`tz`属性中的UTC偏移。现在，当所有日期时间字符串具有相同的UTC偏移时，[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")会在`tz`属性中保留UTC偏移（[GH 17697](https://github.com/pandas-dev/pandas/issues/17697)，[GH
    11736](https://github.com/pandas-dev/pandas/issues/11736)，[GH 22457](https://github.com/pandas-dev/pandas/issues/22457))
- en: '*Previous behavior*:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*：'
- en: '[PRE28]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: '*New behavior*:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: '*新的行为*：'
- en: '[PRE29]'
  id: totrans-166
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: Parsing datetime strings with the same UTC offset will preserve the UTC offset
    in the `tz`
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 解析具有相同UTC偏移的日期时间字符串将保留`tz`中的UTC偏移
- en: '[PRE30]'
  id: totrans-168
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Parsing datetime strings with different UTC offsets will now create an Index
    of `datetime.datetime` objects with different UTC offsets
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 解析具有不同UTC偏移的日期时间字符串现在将创建具有不同UTC偏移的`datetime.datetime`对象的索引
- en: '[PRE31]'
  id: totrans-170
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: Passing `utc=True` will mimic the previous behavior but will correctly indicate
    that the dates have been converted to UTC
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 传递`utc=True`将模仿以前的行为，但将正确指示日期已转换为UTC
- en: '[PRE32]  ### Parsing mixed-timezones with [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE32]  ### 使用[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")解析混合时区'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    no longer silently converts mixed-timezone columns to UTC ([GH 24987](https://github.com/pandas-dev/pandas/issues/24987)).'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")不再将混合时区列悄悄转换为UTC
    ([GH 24987](https://github.com/pandas-dev/pandas/issues/24987)).'
- en: '*Previous behavior*'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*'
- en: '[PRE33]'
  id: totrans-175
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: '*New behavior*'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '*新的行为*'
- en: '[PRE34]'
  id: totrans-177
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: As can be seen, the `dtype` is object; each value in the column is a string.
    To convert the strings to an array of datetimes, the `date_parser` argument
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 可以看到，`dtype`为object；列中的每个值都是一个字符串。要将字符串转换为日期时间数组，可以使用`date_parser`参数
- en: '[PRE35]'
  id: totrans-179
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'See [Parsing datetime strings with timezone offsets](#whatsnew-0240-api-timezone-offset-parsing)
    for more.  ### Time values in `dt.end_time` and `to_timestamp(how=''end'')`'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: '查看[解析带有时区偏移的日期时间字符串](#whatsnew-0240-api-timezone-offset-parsing)获取更多信息。  ###
    `dt.end_time`和`to_timestamp(how=''end'')`中的时间值'
- en: The time values in [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") and [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") objects are now set to ‘23:59:59.999999999’ when calling
    [`Series.dt.end_time`](../reference/api/pandas.Series.dt.end_time.html#pandas.Series.dt.end_time
    "pandas.Series.dt.end_time"), [`Period.end_time`](../reference/api/pandas.Period.end_time.html#pandas.Period.end_time
    "pandas.Period.end_time"), [`PeriodIndex.end_time`](../reference/api/pandas.PeriodIndex.end_time.html#pandas.PeriodIndex.end_time
    "pandas.PeriodIndex.end_time"), [`Period.to_timestamp()`](../reference/api/pandas.Period.to_timestamp.html#pandas.Period.to_timestamp
    "pandas.Period.to_timestamp") with `how='end'`, or [`PeriodIndex.to_timestamp()`](../reference/api/pandas.PeriodIndex.to_timestamp.html#pandas.PeriodIndex.to_timestamp
    "pandas.PeriodIndex.to_timestamp") with `how='end'` ([GH 17157](https://github.com/pandas-dev/pandas/issues/17157))
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 当调用 [`Series.dt.end_time`](../reference/api/pandas.Series.dt.end_time.html#pandas.Series.dt.end_time
    "pandas.Series.dt.end_time")、[`Period.end_time`](../reference/api/pandas.Period.end_time.html#pandas.Period.end_time
    "pandas.Period.end_time")、[`PeriodIndex.end_time`](../reference/api/pandas.PeriodIndex.end_time.html#pandas.PeriodIndex.end_time
    "pandas.PeriodIndex.end_time")、[`Period.to_timestamp()`](../reference/api/pandas.Period.to_timestamp.html#pandas.Period.to_timestamp
    "pandas.Period.to_timestamp") 以 `how='end'` 调用时，或者使用 `how='end'` 调用 [`PeriodIndex.to_timestamp()`](../reference/api/pandas.PeriodIndex.to_timestamp.html#pandas.PeriodIndex.to_timestamp
    "pandas.PeriodIndex.to_timestamp")，[`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") 和 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 对象中的时间值现在被设置为‘23:59:59.999999999’（[GH 17157](https://github.com/pandas-dev/pandas/issues/17157)）。
- en: '*Previous behavior*:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE36]'
  id: totrans-183
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: '*New behavior*:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: Calling [`Series.dt.end_time`](../reference/api/pandas.Series.dt.end_time.html#pandas.Series.dt.end_time
    "pandas.Series.dt.end_time") will now result in a time of ‘23:59:59.999999999’
    as is the case with [`Period.end_time`](../reference/api/pandas.Period.end_time.html#pandas.Period.end_time
    "pandas.Period.end_time"), for example
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 调用 [`Series.dt.end_time`](../reference/api/pandas.Series.dt.end_time.html#pandas.Series.dt.end_time
    "pandas.Series.dt.end_time") 现在会导致时间为‘23:59:59.999999999’，与 [`Period.end_time`](../reference/api/pandas.Period.end_time.html#pandas.Period.end_time
    "pandas.Period.end_time") 相同，例如
- en: '[PRE37]  ### Series.unique for timezone-aware data'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE37]  ### 时区感知数据的 Series.unique'
- en: The return type of [`Series.unique()`](../reference/api/pandas.Series.unique.html#pandas.Series.unique
    "pandas.Series.unique") for datetime with timezone values has changed from an
    [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)") of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") objects to a [`arrays.DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray") ([GH 24024](https://github.com/pandas-dev/pandas/issues/24024)).
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 对于带有时区值的日期时间，[`Series.unique()`](../reference/api/pandas.Series.unique.html#pandas.Series.unique
    "pandas.Series.unique") 的返回类型已从 [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(在 NumPy v1.26 中)") 的 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 对象更改为 [`arrays.DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray")（[GH 24024](https://github.com/pandas-dev/pandas/issues/24024)）。
- en: '[PRE38]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: '*Previous behavior*:'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE39]'
  id: totrans-190
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: '*New behavior*:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE40]  ### Sparse data structure refactor'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE40]  ### 稀疏数据结构重构'
- en: '`SparseArray`, the array backing `SparseSeries` and the columns in a `SparseDataFrame`,
    is now an extension array ([GH 21978](https://github.com/pandas-dev/pandas/issues/21978),
    [GH 19056](https://github.com/pandas-dev/pandas/issues/19056), [GH 22835](https://github.com/pandas-dev/pandas/issues/22835)).
    To conform to this interface and for consistency with the rest of pandas, some
    API breaking changes were made:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: '`SparseArray`，支持 `SparseSeries` 和 `SparseDataFrame` 中列的数组，现在是扩展数组（[GH 21978](https://github.com/pandas-dev/pandas/issues/21978)，[GH
    19056](https://github.com/pandas-dev/pandas/issues/19056)，[GH 22835](https://github.com/pandas-dev/pandas/issues/22835)）。为了符合此接口并与
    pandas 的其他部分保持一致，进行了一些破坏 API 的更改：'
- en: '`SparseArray` is no longer a subclass of [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)"). To convert a `SparseArray` to a NumPy array, use [`numpy.asarray()`](https://numpy.org/doc/stable/reference/generated/numpy.asarray.html#numpy.asarray
    "(in NumPy v1.26)").'
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray` 不再是 [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(在 NumPy v1.26 中)") 的子类。要将 `SparseArray` 转换为 NumPy 数组，请使用 [`numpy.asarray()`](https://numpy.org/doc/stable/reference/generated/numpy.asarray.html#numpy.asarray
    "(在 NumPy v1.26 中)")。'
- en: '`SparseArray.dtype` and `SparseSeries.dtype` are now instances of [`SparseDtype`](../reference/api/pandas.SparseDtype.html#pandas.SparseDtype
    "pandas.SparseDtype"), rather than `np.dtype`. Access the underlying dtype with
    `SparseDtype.subtype`.'
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.dtype` 和 `SparseSeries.dtype` 现在是 [`SparseDtype`](../reference/api/pandas.SparseDtype.html#pandas.SparseDtype
    "pandas.SparseDtype") 的实例，而不是 `np.dtype`。使用 `SparseDtype.subtype` 访问底层 dtype。'
- en: '`numpy.asarray(sparse_array)` now returns a dense array with all the values,
    not just the non-fill-value values ([GH 14167](https://github.com/pandas-dev/pandas/issues/14167))'
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`numpy.asarray(sparse_array)` 现在返回一个包含所有值的密集数组，而不仅仅是非填充值的值（[GH 14167](https://github.com/pandas-dev/pandas/issues/14167)）。'
- en: '`SparseArray.take` now matches the API of [`pandas.api.extensions.ExtensionArray.take()`](../reference/api/pandas.api.extensions.ExtensionArray.take.html#pandas.api.extensions.ExtensionArray.take
    "pandas.api.extensions.ExtensionArray.take") ([GH 19506](https://github.com/pandas-dev/pandas/issues/19506)):'
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.take` 现在匹配 [`pandas.api.extensions.ExtensionArray.take()`](../reference/api/pandas.api.extensions.ExtensionArray.take.html#pandas.api.extensions.ExtensionArray.take
    "pandas.api.extensions.ExtensionArray.take") 的 API（[GH 19506](https://github.com/pandas-dev/pandas/issues/19506)）：'
- en: The default value of `allow_fill` has changed from `False` to `True`.
  id: totrans-198
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`allow_fill` 的默认值已从 `False` 更改为 `True`。'
- en: The `out` and `mode` parameters are now longer accepted (previously, this raised
    if they were specified).
  id: totrans-199
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不再接受 `out` 和 `mode` 参数（以前，如果指定了这些参数，会引发错误）。
- en: Passing a scalar for `indices` is no longer allowed.
  id: totrans-200
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不再允许将标量用于 `indices`。
- en: The result of [`concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") with a mix of sparse and dense Series is a Series with sparse
    values, rather than a `SparseSeries`.
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用混合稀疏和密集 Series 进行 [`concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") 的结果是一个具有稀疏值的 Series，而不是 `SparseSeries`。
- en: '`SparseDataFrame.combine` and `DataFrame.combine_first` no longer supports
    combining a sparse column with a dense column while preserving the sparse subtype.
    The result will be an object-dtype SparseArray.'
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseDataFrame.combine` 和 `DataFrame.combine_first` 不再支持将稀疏列与密集列进行合并，并保留稀疏子类型。结果将是一个对象类型的
    SparseArray。'
- en: Setting `SparseArray.fill_value` to a fill value with a different dtype is now
    allowed.
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在允许将 `SparseArray.fill_value` 设置为具有不同 dtype 的填充值。
- en: '`DataFrame[column]` is now a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with sparse values, rather than a `SparseSeries`, when slicing
    a single column with sparse values ([GH 23559](https://github.com/pandas-dev/pandas/issues/23559)).'
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当对具有稀疏值的单个列进行切片时，`DataFrame[column]` 现在是一个具有稀疏值的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")，而不是 `SparseSeries`（[GH 23559](https://github.com/pandas-dev/pandas/issues/23559)）。
- en: The result of [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") is now a `Series` with sparse values, like with other extension
    arrays ([GH 24077](https://github.com/pandas-dev/pandas/issues/24077))
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") 的结果现在是一个具有稀疏值的 `Series`，与其他扩展数组一样（[GH 24077](https://github.com/pandas-dev/pandas/issues/24077)）。'
- en: 'Some new warnings are issued for operations that require or are likely to materialize
    a large dense array:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 对于需要或可能会生成大型密集数组的操作，会发出一些新的警告：
- en: A [`errors.PerformanceWarning`](../reference/api/pandas.errors.PerformanceWarning.html#pandas.errors.PerformanceWarning
    "pandas.errors.PerformanceWarning") is issued when using fillna with a `method`,
    as a dense array is constructed to create the filled array. Filling with a `value`
    is the efficient way to fill a sparse array.
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用 `method` 进行 fillna 时，将发出 [`errors.PerformanceWarning`](../reference/api/pandas.errors.PerformanceWarning.html#pandas.errors.PerformanceWarning
    "pandas.errors.PerformanceWarning")，因为会构建一个密集数组来创建填充数组。使用 `value` 进行填充是填充稀疏数组的高效方式。
- en: A [`errors.PerformanceWarning`](../reference/api/pandas.errors.PerformanceWarning.html#pandas.errors.PerformanceWarning
    "pandas.errors.PerformanceWarning") is now issued when concatenating sparse Series
    with differing fill values. The fill value from the first sparse array continues
    to be used.
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当连接具有不同填充值的稀疏 Series 时，将发出 [`errors.PerformanceWarning`](../reference/api/pandas.errors.PerformanceWarning.html#pandas.errors.PerformanceWarning
    "pandas.errors.PerformanceWarning")。继续使用第一个稀疏数组的填充值。
- en: In addition to these API breaking changes, many [Performance Improvements and
    Bug Fixes have been made](#whatsnew-0240-bug-fixes-sparse).
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这些 API 破坏性变化外，还进行了许多[性能改进和错误修复](#whatsnew-0240-bug-fixes-sparse)。
- en: Finally, a `Series.sparse` accessor was added to provide sparse-specific methods
    like [`Series.sparse.from_coo()`](../reference/api/pandas.Series.sparse.from_coo.html#pandas.Series.sparse.from_coo
    "pandas.Series.sparse.from_coo").
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，添加了 `Series.sparse` 访问器，以提供稀疏特定方法，如[`Series.sparse.from_coo()`](../reference/api/pandas.Series.sparse.from_coo.html#pandas.Series.sparse.from_coo
    "pandas.Series.sparse.from_coo")。
- en: '[PRE41]  ### [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") always returns a DataFrame'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE41]  ### [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") 总是返回一个 DataFrame'
- en: Previously, when `sparse=True` was passed to [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies"), the return value could be either a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or a `SparseDataFrame`, depending on whether all or a just
    a subset of the columns were dummy-encoded. Now, a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") is always returned ([GH 24284](https://github.com/pandas-dev/pandas/issues/24284)).
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，当 `sparse=True` 传递给[`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies")时，返回值可以是[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")或`SparseDataFrame`，具体取决于是否对所有列或仅对一部分列进行了虚拟编码。 现在，始终返回[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 24284](https://github.com/pandas-dev/pandas/issues/24284)).
- en: '*Previous behavior*'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前行为*'
- en: The first [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") returns a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") because the column `A` is not dummy encoded. When just `["B",
    "C"]` are passed to `get_dummies`, then all the columns are dummy-encoded, and
    a `SparseDataFrame` was returned.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个[`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies")返回一个[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")，因为列`A`没有进行虚拟编码。 当只传递`["B", "C"]`时，所有列都进行了虚拟编码，并返回了一个`SparseDataFrame`。
- en: '[PRE42]'
  id: totrans-215
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: '*New behavior*'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*'
- en: Now, the return type is consistently a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame").
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，返回类型始终为[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")。
- en: '[PRE43]'
  id: totrans-218
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: Note
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'There’s no difference in memory usage between a `SparseDataFrame` and a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with sparse values. The memory usage will be the same as in
    the previous version of pandas.  ### Raise ValueError in `DataFrame.to_dict(orient=''index'')`'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 在稀疏值的`SparseDataFrame`和[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")之间的内存使用没有区别。 内存使用量与 pandas 的先前版本相同。### 在`DataFrame.to_dict(orient='index')`中引发
    ValueError
- en: Bug in [`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") raises `ValueError` when used with `orient='index'`
    and a non-unique index instead of losing data ([GH 22801](https://github.com/pandas-dev/pandas/issues/22801))
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用 `orient='index'` 和非唯一索引时，[`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") 中的 Bug 引发 `ValueError`，而不是丢失数据 ([GH 22801](https://github.com/pandas-dev/pandas/issues/22801))
- en: '[PRE44]  ### Tick DateOffset normalize restrictions'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE44]  ### Tick DateOffset 规范化限制'
- en: Creating a `Tick` object (`Day`, `Hour`, `Minute`, `Second`, `Milli`, `Micro`,
    `Nano`) with `normalize=True` is no longer supported. This prevents unexpected
    behavior where addition could fail to be monotone or associative. ([GH 21427](https://github.com/pandas-dev/pandas/issues/21427))
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `normalize=True` 创建 `Tick` 对象 (`Day`, `Hour`, `Minute`, `Second`, `Milli`,
    `Micro`, `Nano`) 不再支持。 这样可以防止出现无法预料的行为，其中加法可能无法保持单调性或结合性。 ([GH 21427](https://github.com/pandas-dev/pandas/issues/21427))
- en: '*Previous behavior*:'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前行为*:'
- en: '[PRE45]'
  id: totrans-225
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: '*New behavior*:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE46]  ### Period subtraction'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE46]  ### 期间减法'
- en: Subtraction of a `Period` from another `Period` will give a `DateOffset`. instead
    of an integer ([GH 21314](https://github.com/pandas-dev/pandas/issues/21314))
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 从一个 `Period` 减去另一个 `Period` 将给出一个 `DateOffset`，而不是一个整数 ([GH 21314](https://github.com/pandas-dev/pandas/issues/21314))
- en: '*Previous behavior*:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前行为*:'
- en: '[PRE47]'
  id: totrans-230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: '*New behavior*:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE48]'
  id: totrans-232
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: Similarly, subtraction of a `Period` from a `PeriodIndex` will now return an
    `Index` of `DateOffset` objects instead of an `Int64Index`
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 类似地，从 `PeriodIndex` 减去一个 `Period` 现在将返回一个 `DateOffset` 对象的 `Index`，而不是一个 `Int64Index`
- en: '*Previous behavior*:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前行为*:'
- en: '[PRE49]'
  id: totrans-235
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: '*New behavior*:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE50]  ### Addition/subtraction of `NaN` from [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE50]  ### 从 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 中添加/减去 `NaN`'
- en: Adding or subtracting `NaN` from a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") column with `timedelta64[ns]` dtype will now raise a `TypeError`
    instead of returning all-`NaT`. This is for compatibility with `TimedeltaIndex`
    and `Series` behavior ([GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 对于具有 `timedelta64[ns]` dtype 的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 列进行 `NaN` 的添加或减法现在会引发 `TypeError`，而不是返回全为 `NaT`。这是为了与 `TimedeltaIndex`
    和 `Series` 的行为兼容。([GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
- en: '[PRE51]'
  id: totrans-239
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: '*Previous behavior*:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE52]'
  id: totrans-241
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: '*New behavior*:'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE53]  ### DataFrame comparison operations broadcasting changes'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE53]  ### DataFrame 比较操作广播更改'
- en: Previously, the broadcasting behavior of [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") comparison operations (`==`, `!=`, …) was inconsistent with
    the behavior of arithmetic operations (`+`, `-`, …). The behavior of the comparison
    operations has been changed to match the arithmetic operations in these cases.
    ([GH 22880](https://github.com/pandas-dev/pandas/issues/22880))
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    比较操作（`==`, `!=`, …）的广播行为与算术操作（`+`, `-`, …）的行为不一致。在这些情况下，比较操作的行为已更改为与算术操作匹配。([GH
    22880](https://github.com/pandas-dev/pandas/issues/22880))
- en: 'The affected cases are:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 受影响的情况是：
- en: operating against a 2-dimensional `np.ndarray` with either 1 row or 1 column
    will now broadcast the same way a `np.ndarray` would ([GH 23000](https://github.com/pandas-dev/pandas/issues/23000)).
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与具有 1 行或 1 列的二维 `np.ndarray` 进行操作现在会以与 `np.ndarray` 相同的方式广播。([GH 23000](https://github.com/pandas-dev/pandas/issues/23000)).
- en: a list or tuple with length matching the number of rows in the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") will now raise `ValueError` instead of operating column-by-column
    ([GH 22880](https://github.com/pandas-dev/pandas/issues/22880).
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与行数匹配长度的列表或元组现在将引发 `ValueError`，而不是逐列操作。([GH 22880](https://github.com/pandas-dev/pandas/issues/22880))
- en: a list or tuple with length matching the number of columns in the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") will now operate row-by-row instead of raising `ValueError`
    ([GH 22880](https://github.com/pandas-dev/pandas/issues/22880)).
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    中列数匹配长度的列表或元组现在将逐行操作，而不是引发 `ValueError`。([GH 22880](https://github.com/pandas-dev/pandas/issues/22880))
- en: '[PRE54]'
  id: totrans-249
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: '*Previous behavior*:'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE55]'
  id: totrans-251
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: '*New behavior*:'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE56]'
  id: totrans-253
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: '[PRE57]'
  id: totrans-254
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: '[PRE58]  ### DataFrame arithmetic operations broadcasting changes'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE58]  ### DataFrame 算术运算广播更改'
- en: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    arithmetic operations when operating with 2-dimensional `np.ndarray` objects now
    broadcast in the same way as `np.ndarray` broadcast. ([GH 23000](https://github.com/pandas-dev/pandas/issues/23000))'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 当与二维 `np.ndarray` 对象一起进行操作时，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 算术运算现在以与 `np.ndarray` 广播相同的方式进行。([GH 23000](https://github.com/pandas-dev/pandas/issues/23000))
- en: '[PRE59]'
  id: totrans-257
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: '*Previous behavior*:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE60]'
  id: totrans-259
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: '*New behavior*:'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE61]  ### Series and Index data-dtype incompatibilities'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE61]  ### Series 和 Index 数据类型不兼容'
- en: '`Series` and `Index` constructors now raise when the data is incompatible with
    a passed `dtype=` ([GH 15832](https://github.com/pandas-dev/pandas/issues/15832))'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 当数据与传递的 `dtype=` 不兼容时，`Series` 和 `Index` 构造函数现在会引发异常。([GH 15832](https://github.com/pandas-dev/pandas/issues/15832))
- en: '*Previous behavior*:'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE62]'
  id: totrans-264
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: '*New behavior*:'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE63]  ### Concatenation changes'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE63]  ### 连接更改'
- en: Calling [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") on a `Categorical` of ints with NA values now causes them to
    be processed as objects when concatenating with anything other than another `Categorical`
    of ints ([GH 19214](https://github.com/pandas-dev/pandas/issues/19214))
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 当对具有 NA 值的整数 `Categorical` 进行 [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") 调用时，现在除了与另一个整数 `Categorical` 连接时，将它们视为对象进行处理。([GH 19214](https://github.com/pandas-dev/pandas/issues/19214))
- en: '[PRE64]'
  id: totrans-268
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: '*Previous behavior*'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*'
- en: '[PRE65]'
  id: totrans-270
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: '*New behavior*'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*'
- en: '[PRE66]'
  id: totrans-272
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: Datetimelike API changes
  id: totrans-273
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Datetimelike API 更改
- en: For [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") with non-`None` `freq` attribute, addition or subtraction
    of integer-dtyped array or `Index` will return an object of the same class ([GH
    19959](https://github.com/pandas-dev/pandas/issues/19959))
  id: totrans-274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于具有非`None` `freq`属性的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")，对整数类型数组或 `Index` 进行加减运算将返回相同类别的对象（[GH 19959](https://github.com/pandas-dev/pandas/issues/19959))
- en: '`DateOffset` objects are now immutable. Attempting to alter one of these will
    now raise `AttributeError` ([GH 21341](https://github.com/pandas-dev/pandas/issues/21341))'
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DateOffset` 对象现在是不可变的。尝试修改其中一个将引发 `AttributeError`（[GH 21341](https://github.com/pandas-dev/pandas/issues/21341))'
- en: '[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") subtraction of another `PeriodIndex` will now return an
    object-dtype [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    of `DateOffset` objects instead of raising a `TypeError` ([GH 20049](https://github.com/pandas-dev/pandas/issues/20049))'
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 减去另一个 `PeriodIndex` 现在将返回一个 `DateOffset` 对象的对象类型 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")，而不是引发 `TypeError`（[GH 20049](https://github.com/pandas-dev/pandas/issues/20049))'
- en: '[`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") and [`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut
    "pandas.qcut") now returns a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") or [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") bins when the input is datetime or timedelta dtype respectively
    and `retbins=True` ([GH 19891](https://github.com/pandas-dev/pandas/issues/19891))'
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") 和 [`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut
    "pandas.qcut") 现在在输入为日期时间或时间间隔数据类型且 `retbins=True` 时，返回一个 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 或 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 的分箱（[GH 19891](https://github.com/pandas-dev/pandas/issues/19891))'
- en: '[`DatetimeIndex.to_period()`](../reference/api/pandas.DatetimeIndex.to_period.html#pandas.DatetimeIndex.to_period
    "pandas.DatetimeIndex.to_period") and [`Timestamp.to_period()`](../reference/api/pandas.Timestamp.to_period.html#pandas.Timestamp.to_period
    "pandas.Timestamp.to_period") will issue a warning when timezone information will
    be lost ([GH 21333](https://github.com/pandas-dev/pandas/issues/21333))'
  id: totrans-278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex.to_period()`](../reference/api/pandas.DatetimeIndex.to_period.html#pandas.DatetimeIndex.to_period
    "pandas.DatetimeIndex.to_period") 和 [`Timestamp.to_period()`](../reference/api/pandas.Timestamp.to_period.html#pandas.Timestamp.to_period
    "pandas.Timestamp.to_period") 在时区信息将丢失时会发出警告（[GH 21333](https://github.com/pandas-dev/pandas/issues/21333))'
- en: '`PeriodIndex.tz_convert()` and `PeriodIndex.tz_localize()` have been removed
    ([GH 21781](https://github.com/pandas-dev/pandas/issues/21781))'
  id: totrans-279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PeriodIndex.tz_convert()` 和 `PeriodIndex.tz_localize()` 已被移除（[GH 21781](https://github.com/pandas-dev/pandas/issues/21781))'
- en: '### Other API changes'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: '### 其他 API 更改'
- en: A newly constructed empty [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with integer as the `dtype` will now only be cast to `float64`
    if `index` is specified ([GH 22858](https://github.com/pandas-dev/pandas/issues/22858))
  id: totrans-281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以整数为 `dtype` ��构建的空 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 现在只有在指定 `index` 时才会转换为 `float64`（[GH 22858](https://github.com/pandas-dev/pandas/issues/22858))
- en: '[`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat") will now raise if `others` is a `set` ([GH 23009](https://github.com/pandas-dev/pandas/issues/23009))'
  id: totrans-282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat") 现在会在 `others` 是 `set` 时引发异常（[GH 23009](https://github.com/pandas-dev/pandas/issues/23009))'
- en: Passing scalar values to [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") or [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") will now raise `TypeError` instead of `ValueError` ([GH
    23539](https://github.com/pandas-dev/pandas/issues/23539))
  id: totrans-283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将标量值传递给 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 或 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 现在会引发 `TypeError` 而不是 `ValueError`（[GH 23539](https://github.com/pandas-dev/pandas/issues/23539))
- en: '`max_rows` and `max_cols` parameters removed from `HTMLFormatter` since truncation
    is handled by `DataFrameFormatter` ([GH 23818](https://github.com/pandas-dev/pandas/issues/23818))'
  id: totrans-284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`HTMLFormatter` 中移除了 `max_rows` 和 `max_cols` 参数，因为截断由 `DataFrameFormatter`
    处理 ([GH 23818](https://github.com/pandas-dev/pandas/issues/23818))'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    will now raise a `ValueError` if a column with missing values is declared as having
    dtype `bool` ([GH 20591](https://github.com/pandas-dev/pandas/issues/20591))'
  id: totrans-285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    现在会在声明具有缺失值的列的 dtype 为 `bool` 时引发 `ValueError` ([GH 20591](https://github.com/pandas-dev/pandas/issues/20591))'
- en: The column order of the resultant [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") from [`MultiIndex.to_frame()`](../reference/api/pandas.MultiIndex.to_frame.html#pandas.MultiIndex.to_frame
    "pandas.MultiIndex.to_frame") is now guaranteed to match the [`MultiIndex.names`](../reference/api/pandas.MultiIndex.names.html#pandas.MultiIndex.names
    "pandas.MultiIndex.names") order. ([GH 22420](https://github.com/pandas-dev/pandas/issues/22420))
  id: totrans-286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    的列顺序现在保证与 [`MultiIndex.to_frame()`](../reference/api/pandas.MultiIndex.to_frame.html#pandas.MultiIndex.to_frame
    "pandas.MultiIndex.to_frame") 的 [`MultiIndex.names`](../reference/api/pandas.MultiIndex.names.html#pandas.MultiIndex.names
    "pandas.MultiIndex.names") 顺序相匹配。([GH 22420](https://github.com/pandas-dev/pandas/issues/22420))'
- en: Incorrectly passing a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") to [`MultiIndex.from_tuples()`](../reference/api/pandas.MultiIndex.from_tuples.html#pandas.MultiIndex.from_tuples
    "pandas.MultiIndex.from_tuples"), rather than a sequence of tuples, now raises
    a `TypeError` rather than a `ValueError` ([GH 24024](https://github.com/pandas-dev/pandas/issues/24024))
  id: totrans-287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 错误地将 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 传递给 [`MultiIndex.from_tuples()`](../reference/api/pandas.MultiIndex.from_tuples.html#pandas.MultiIndex.from_tuples
    "pandas.MultiIndex.from_tuples")，而不是元组序列，现在会引发 `TypeError` 而不是 `ValueError` ([GH
    24024](https://github.com/pandas-dev/pandas/issues/24024))
- en: '`pd.offsets.generate_range()` argument `time_rule` has been removed; use `offset`
    instead ([GH 24157](https://github.com/pandas-dev/pandas/issues/24157))'
  id: totrans-288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.offsets.generate_range()` 的参数 `time_rule` 已被移除；请改用 `offset` ([GH 24157](https://github.com/pandas-dev/pandas/issues/24157))'
- en: In 0.23.x, pandas would raise a `ValueError` on a merge of a numeric column
    (e.g. `int` dtyped column) and an `object` dtyped column ([GH 9780](https://github.com/pandas-dev/pandas/issues/9780)).
    We have re-enabled the ability to merge `object` and other dtypes; pandas will
    still raise on a merge between a numeric and an `object` dtyped column that is
    composed only of strings ([GH 21681](https://github.com/pandas-dev/pandas/issues/21681))
  id: totrans-289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 0.23.x 版本中，pandas 在合并数字列（例如 `int` 类型的列）和 `object` 类型的列时会引发 `ValueError` ([GH
    9780](https://github.com/pandas-dev/pandas/issues/9780))。我们已重新启用了合并 `object` 和其他类型的能力；pandas
    仍然会在数字和仅包含字符串的 `object` 类型的列之间的合并时引发异常 ([GH 21681](https://github.com/pandas-dev/pandas/issues/21681))
- en: Accessing a level of a `MultiIndex` with a duplicate name (e.g. in [`get_level_values()`](../reference/api/pandas.MultiIndex.get_level_values.html#pandas.MultiIndex.get_level_values
    "pandas.MultiIndex.get_level_values")) now raises a `ValueError` instead of a
    `KeyError` ([GH 21678](https://github.com/pandas-dev/pandas/issues/21678)).
  id: totrans-290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用重复名称的 `MultiIndex` 的级别访问（例如在 [`get_level_values()`](../reference/api/pandas.MultiIndex.get_level_values.html#pandas.MultiIndex.get_level_values
    "pandas.MultiIndex.get_level_values") 中）现在会引发 `ValueError` 而不是 `KeyError` ([GH
    21678](https://github.com/pandas-dev/pandas/issues/21678)).
- en: Invalid construction of `IntervalDtype` will now always raise a `TypeError`
    rather than a `ValueError` if the subdtype is invalid ([GH 21185](https://github.com/pandas-dev/pandas/issues/21185))
  id: totrans-291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果子类型无效，`IntervalDtype` 的错误构造现在始终会引发 `TypeError` 而不是 `ValueError` ([GH 21185](https://github.com/pandas-dev/pandas/issues/21185))
- en: Trying to reindex a `DataFrame` with a non unique `MultiIndex` now raises a
    `ValueError` instead of an `Exception` ([GH 21770](https://github.com/pandas-dev/pandas/issues/21770))
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尝试使用非唯一的 `MultiIndex` 对 `DataFrame` 进行重新索引现在会引发 `ValueError` 而不是异常 ([GH 21770](https://github.com/pandas-dev/pandas/issues/21770))
- en: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") subtraction
    will attempt to operate element-wise instead of raising `TypeError` ([GH 19369](https://github.com/pandas-dev/pandas/issues/19369))'
  id: totrans-293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") 的减法现在尝试进行逐元素操作，而不是引发
    `TypeError` ([GH 19369](https://github.com/pandas-dev/pandas/issues/19369))'
- en: '[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") supports a `number-format` property when using
    [`to_excel()`](../reference/api/pandas.io.formats.style.Styler.to_excel.html#pandas.io.formats.style.Styler.to_excel
    "pandas.io.formats.style.Styler.to_excel") ([GH 22015](https://github.com/pandas-dev/pandas/issues/22015))'
  id: totrans-294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 [`to_excel()`](../reference/api/pandas.io.formats.style.Styler.to_excel.html#pandas.io.formats.style.Styler.to_excel
    "pandas.io.formats.style.Styler.to_excel") 时，[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 支持 `number-format` 属性（[GH 22015](https://github.com/pandas-dev/pandas/issues/22015)）。
- en: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") and [`Series.corr()`](../reference/api/pandas.Series.corr.html#pandas.Series.corr
    "pandas.Series.corr") now raise a `ValueError` along with a helpful error message
    instead of a `KeyError` when supplied with an invalid method ([GH 22298](https://github.com/pandas-dev/pandas/issues/22298))'
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当提供无效方法时，[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") 和 [`Series.corr()`](../reference/api/pandas.Series.corr.html#pandas.Series.corr
    "pandas.Series.corr") 现在会引发 `ValueError` 并提供有用的错误信息，而不是 `KeyError`（[GH 22298](https://github.com/pandas-dev/pandas/issues/22298)）。
- en: '`shift()` will now always return a copy, instead of the previous behaviour
    of returning self when shifting by 0 ([GH 22397](https://github.com/pandas-dev/pandas/issues/22397))'
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`shift()` 现在总是返回一个副本，而不是以前的在移动 0 时返回 self 的行为（[GH 22397](https://github.com/pandas-dev/pandas/issues/22397)）。'
- en: '[`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index") now gives a better (and less frequent) KeyError,
    raises a `ValueError` for incorrect types, and will not fail on duplicate column
    names with `drop=True`. ([GH 22484](https://github.com/pandas-dev/pandas/issues/22484))'
  id: totrans-297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index") 现在提供了更好（且更少出现）的 KeyError，对于不正确的类型会引发 `ValueError`，并且在
    `drop=True` 时不会因为重复的列名而失败（[GH 22484](https://github.com/pandas-dev/pandas/issues/22484)）。'
- en: Slicing a single row of a DataFrame with multiple ExtensionArrays of the same
    type now preserves the dtype, rather than coercing to object ([GH 22784](https://github.com/pandas-dev/pandas/issues/22784))
  id: totrans-298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对一个 DataFrame 的多个相同类型的 ExtensionArrays 进行单行切片现在会保留 dtype，而不是强制转换为对象（[GH 22784](https://github.com/pandas-dev/pandas/issues/22784)）。
- en: '`DateOffset` attribute `_cacheable` and method `_should_cache` have been removed
    ([GH 23118](https://github.com/pandas-dev/pandas/issues/23118))'
  id: totrans-299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DateOffset` 属性 `_cacheable` 和方法 `_should_cache` 已被移除（[GH 23118](https://github.com/pandas-dev/pandas/issues/23118)）。'
- en: '[`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted"), when supplied a scalar value to search for, now
    returns a scalar instead of an array ([GH 23801](https://github.com/pandas-dev/pandas/issues/23801)).'
  id: totrans-300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `Series.searchsorted()` 提供一个标量值进行搜索时，现在返回一个标量而不是一个数组（[GH 23801](https://github.com/pandas-dev/pandas/issues/23801)）。
- en: '`Categorical.searchsorted()`, when supplied a scalar value to search for, now
    returns a scalar instead of an array ([GH 23466](https://github.com/pandas-dev/pandas/issues/23466)).'
  id: totrans-301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `Categorical.searchsorted()` 提供一个标量值进行搜索时，现在返回一个标量而不是一个数组（[GH 23466](https://github.com/pandas-dev/pandas/issues/23466)）。
- en: '`Categorical.searchsorted()` now raises a `KeyError` rather that a `ValueError`,
    if a searched for key is not found in its categories ([GH 23466](https://github.com/pandas-dev/pandas/issues/23466)).'
  id: totrans-302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.searchsorted()` 现在在其类别中找不到搜索的键时会引发 `KeyError` 而不是 `ValueError`（[GH
    23466](https://github.com/pandas-dev/pandas/issues/23466)）。'
- en: '[`Index.hasnans()`](../reference/api/pandas.Index.hasnans.html#pandas.Index.hasnans
    "pandas.Index.hasnans") and [`Series.hasnans()`](../reference/api/pandas.Series.hasnans.html#pandas.Series.hasnans
    "pandas.Series.hasnans") now always return a python boolean. Previously, a python
    or a numpy boolean could be returned, depending on circumstances ([GH 23294](https://github.com/pandas-dev/pandas/issues/23294)).'
  id: totrans-303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.hasnans()`](../reference/api/pandas.Index.hasnans.html#pandas.Index.hasnans
    "pandas.Index.hasnans") 和 [`Series.hasnans()`](../reference/api/pandas.Series.hasnans.html#pandas.Series.hasnans
    "pandas.Series.hasnans") 现在总是返回一个 Python 布尔值。以前，根据情况可能返回 Python 或 numpy 布尔值（[GH
    23294](https://github.com/pandas-dev/pandas/issues/23294)）。'
- en: The order of the arguments of [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") and [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") is rearranged to be consistent with each other.
    ([GH 23614](https://github.com/pandas-dev/pandas/issues/23614))
  id: totrans-304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 和 [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") 的参数顺序已重新排列，以保持彼此一致。 （[GH 23614](https://github.com/pandas-dev/pandas/issues/23614)）。'
- en: '`CategoricalIndex.reindex()` now raises a `ValueError` if the target index
    is non-unique and not equal to the current index. It previously only raised if
    the target index was not of a categorical dtype ([GH 23963](https://github.com/pandas-dev/pandas/issues/23963)).'
  id: totrans-305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果目标索引是非唯一的且不等于当前索引，则 `CategoricalIndex.reindex()` 现在会引发 `ValueError`。 它以前只在目标索引不是分类
    dtype 时引发（[GH 23963](https://github.com/pandas-dev/pandas/issues/23963)）。
- en: '[`Series.to_list()`](../reference/api/pandas.Series.to_list.html#pandas.Series.to_list
    "pandas.Series.to_list") and [`Index.to_list()`](../reference/api/pandas.Index.to_list.html#pandas.Index.to_list
    "pandas.Index.to_list") are now aliases of `Series.tolist` respectively `Index.tolist`
    ([GH 8826](https://github.com/pandas-dev/pandas/issues/8826))'
  id: totrans-306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.to_list()`](../reference/api/pandas.Series.to_list.html#pandas.Series.to_list
    "pandas.Series.to_list") 和 [`Index.to_list()`](../reference/api/pandas.Index.to_list.html#pandas.Index.to_list
    "pandas.Index.to_list") 现在分别是 `Series.tolist` 和 `Index.tolist` 的别名（[GH 8826](https://github.com/pandas-dev/pandas/issues/8826)）。'
- en: The result of `SparseSeries.unstack` is now a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with sparse values, rather than a `SparseDataFrame` ([GH 24372](https://github.com/pandas-dev/pandas/issues/24372)).
  id: totrans-307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.unstack` 的结果现在是具有稀疏值的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")，而不是 `SparseDataFrame` （[GH 24372](https://github.com/pandas-dev/pandas/issues/24372)）。'
- en: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") no longer ignore the dtype precision. Passing a non-nanosecond
    resolution dtype will raise a `ValueError` ([GH 24753](https://github.com/pandas-dev/pandas/issues/24753))  ##
    Extension type changes'
  id: totrans-308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 不再忽略 dtype 的精度。 传递非纳秒分辨率 dtype 将引发 `ValueError`（[GH 24753](https://github.com/pandas-dev/pandas/issues/24753)）  ##
    扩展类型更改'
- en: '**Equality and hashability**'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: '**相等性和哈希性**'
- en: pandas now requires that extension dtypes be hashable (i.e. the respective `ExtensionDtype`
    objects; hashability is not a requirement for the values of the corresponding
    `ExtensionArray`). The base class implements a default `__eq__` and `__hash__`.
    If you have a parametrized dtype, you should update the `ExtensionDtype._metadata`
    tuple to match the signature of your `__init__` method. See [`pandas.api.extensions.ExtensionDtype`](../reference/api/pandas.api.extensions.ExtensionDtype.html#pandas.api.extensions.ExtensionDtype
    "pandas.api.extensions.ExtensionDtype") for more ([GH 22476](https://github.com/pandas-dev/pandas/issues/22476)).
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，pandas 要求扩展类型是可哈希的（即对应的 `ExtensionDtype` 对象；哈希性不是相应的 `ExtensionArray` 的值的要求）。基类实现了默认的
    `__eq__` 和 `__hash__`。如果您有一个带参数的 dtype，则应更新 `ExtensionDtype._metadata` 元组以匹配您的
    `__init__` 方法的签名。有关更多信息，请参见[`pandas.api.extensions.ExtensionDtype`](../reference/api/pandas.api.extensions.ExtensionDtype.html#pandas.api.extensions.ExtensionDtype
    "pandas.api.extensions.ExtensionDtype") （[GH 22476](https://github.com/pandas-dev/pandas/issues/22476)）。
- en: '**New and changed methods**'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: '**新方法和更改的方法**'
- en: '`dropna()` has been added ([GH 21185](https://github.com/pandas-dev/pandas/issues/21185))'
  id: totrans-312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 已添加 `dropna()` （[GH 21185](https://github.com/pandas-dev/pandas/issues/21185)）。
- en: '`repeat()` has been added ([GH 24349](https://github.com/pandas-dev/pandas/issues/24349))'
  id: totrans-313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 已添加 `repeat()` （[GH 24349](https://github.com/pandas-dev/pandas/issues/24349)）。
- en: The `ExtensionArray` constructor, `_from_sequence` now take the keyword arg
    `copy=False` ([GH 21185](https://github.com/pandas-dev/pandas/issues/21185))
  id: totrans-314
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExtensionArray` 构造函数 `_from_sequence` 现在接受关键字参数 `copy=False` （[GH 21185](https://github.com/pandas-dev/pandas/issues/21185)）。'
- en: '[`pandas.api.extensions.ExtensionArray.shift()`](../reference/api/pandas.api.extensions.ExtensionArray.shift.html#pandas.api.extensions.ExtensionArray.shift
    "pandas.api.extensions.ExtensionArray.shift") added as part of the basic `ExtensionArray`
    interface ([GH 22387](https://github.com/pandas-dev/pandas/issues/22387)).'
  id: totrans-315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.api.extensions.ExtensionArray.shift()`](../reference/api/pandas.api.extensions.ExtensionArray.shift.html#pandas.api.extensions.ExtensionArray.shift
    "pandas.api.extensions.ExtensionArray.shift")作为基本`ExtensionArray`接口的一部分添加（[GH
    22387](https://github.com/pandas-dev/pandas/issues/22387)）'
- en: '`searchsorted()` has been added ([GH 24350](https://github.com/pandas-dev/pandas/issues/24350))'
  id: totrans-316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了`searchsorted()`（[GH 24350](https://github.com/pandas-dev/pandas/issues/24350)）
- en: Support for reduction operations such as `sum`, `mean` via opt-in base class
    method override ([GH 22762](https://github.com/pandas-dev/pandas/issues/22762))
  id: totrans-317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过选择基类方法重写，支持`sum`、`mean`等归约操作（[GH 22762](https://github.com/pandas-dev/pandas/issues/22762)）
- en: '`ExtensionArray.isna()` is allowed to return an `ExtensionArray` ([GH 22325](https://github.com/pandas-dev/pandas/issues/22325)).'
  id: totrans-318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExtensionArray.isna()`允许返回一个`ExtensionArray` ([GH 22325](https://github.com/pandas-dev/pandas/issues/22325)).'
- en: '**Dtype changes**'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: '**Dtype更改**'
- en: '`ExtensionDtype` has gained the ability to instantiate from string dtypes,
    e.g. `decimal` would instantiate a registered `DecimalDtype`; furthermore the
    `ExtensionDtype` has gained the method `construct_array_type` ([GH 21185](https://github.com/pandas-dev/pandas/issues/21185))'
  id: totrans-320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExtensionDtype`获得了通过字符串dtype实例化的能力，例如，`decimal`将实例化一个已注册的`DecimalDtype`；此外，`ExtensionDtype`还增加了`construct_array_type`方法（[GH
    21185](https://github.com/pandas-dev/pandas/issues/21185)）'
- en: Added `ExtensionDtype._is_numeric` for controlling whether an extension dtype
    is considered numeric ([GH 22290](https://github.com/pandas-dev/pandas/issues/22290)).
  id: totrans-321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了`ExtensionDtype._is_numeric`来控制扩展dtype是否被视为数值型 ([GH 22290](https://github.com/pandas-dev/pandas/issues/22290))
- en: Added `pandas.api.types.register_extension_dtype()` to register an extension
    type with pandas ([GH 22664](https://github.com/pandas-dev/pandas/issues/22664))
  id: totrans-322
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了`pandas.api.types.register_extension_dtype()`以在pandas中注册扩展类型 ([GH 22664](https://github.com/pandas-dev/pandas/issues/22664))
- en: Updated the `.type` attribute for `PeriodDtype`, `DatetimeTZDtype`, and `IntervalDtype`
    to be instances of the dtype (`Period`, `Timestamp`, and `Interval` respectively)
    ([GH 22938](https://github.com/pandas-dev/pandas/issues/22938))
  id: totrans-323
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更新了`PeriodDtype`、`DatetimeTZDtype`和`IntervalDtype`的`.type`属性，使其成为对应的dtype实例（分别为`Period`、`Timestamp`和`Interval`）（[GH
    22938](https://github.com/pandas-dev/pandas/issues/22938)）
- en: '**Operator support**'
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: '**操作符支持**'
- en: 'A `Series` based on an `ExtensionArray` now supports arithmetic and comparison
    operators ([GH 19577](https://github.com/pandas-dev/pandas/issues/19577)). There
    are two approaches for providing operator support for an `ExtensionArray`:'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 基于`ExtensionArray`的`Series`现在支持算术和比较操作符 ([GH 19577](https://github.com/pandas-dev/pandas/issues/19577)).
    为`ExtensionArray`提供操作符支持有两种方法：
- en: Define each of the operators on your `ExtensionArray` subclass.
  id: totrans-326
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的`ExtensionArray`子类上定义每个操作符。
- en: Use an operator implementation from pandas that depends on operators that are
    already defined on the underlying elements (scalars) of the `ExtensionArray`.
  id: totrans-327
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用来自pandas的操作符实现，这些操作符依赖于`ExtensionArray`底层元素（标量）上已定义的操作符。
- en: See the [ExtensionArray Operator Support](../development/extending.html#extending-extension-operator)
    documentation section for details on both ways of adding operator support.
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 有关两种添加操作符支持方式的详细信息，请参阅[ExtensionArray Operator Support](../development/extending.html#extending-extension-operator)文档部分。
- en: '**Other changes**'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: '**其他更改**'
- en: A default repr for [`pandas.api.extensions.ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray") is now provided ([GH 23601](https://github.com/pandas-dev/pandas/issues/23601)).
  id: totrans-330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在提供了[`pandas.api.extensions.ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray")的默认repr ([GH 23601](https://github.com/pandas-dev/pandas/issues/23601)).
- en: '`ExtensionArray._formatting_values()` is deprecated. Use `ExtensionArray._formatter`
    instead. ([GH 23601](https://github.com/pandas-dev/pandas/issues/23601))'
  id: totrans-331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExtensionArray._formatting_values()`已弃用。请改用`ExtensionArray._formatter`。 ([GH
    23601](https://github.com/pandas-dev/pandas/issues/23601))'
- en: An `ExtensionArray` with a boolean dtype now works correctly as a boolean indexer.
    [`pandas.api.types.is_bool_dtype()`](../reference/api/pandas.api.types.is_bool_dtype.html#pandas.api.types.is_bool_dtype
    "pandas.api.types.is_bool_dtype") now properly considers them boolean ([GH 22326](https://github.com/pandas-dev/pandas/issues/22326))
  id: totrans-332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有布尔dtype的`ExtensionArray`现在作为布尔索引器正常工作。[`pandas.api.types.is_bool_dtype()`](../reference/api/pandas.api.types.is_bool_dtype.html#pandas.api.types.is_bool_dtype
    "pandas.api.types.is_bool_dtype")现在正确地将它们视为布尔值（[GH 22326](https://github.com/pandas-dev/pandas/issues/22326)）。
- en: '**Bug fixes**'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: '**Bug修复**'
- en: Bug in [`Series.get()`](../reference/api/pandas.Series.get.html#pandas.Series.get
    "pandas.Series.get") for `Series` using `ExtensionArray` and integer index ([GH
    21257](https://github.com/pandas-dev/pandas/issues/21257))
  id: totrans-334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`ExtensionArray`和整数索引的`Series`中，[`Series.get()`](../reference/api/pandas.Series.get.html#pandas.Series.get
    "pandas.Series.get")存在Bug（[GH 21257](https://github.com/pandas-dev/pandas/issues/21257)）。
- en: '[`shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift "pandas.Series.shift")
    now dispatches to `ExtensionArray.shift()` ([GH 22386](https://github.com/pandas-dev/pandas/issues/22386))'
  id: totrans-335
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift "pandas.Series.shift")现在派发到`ExtensionArray.shift()`（[GH
    22386](https://github.com/pandas-dev/pandas/issues/22386)）。'
- en: '[`Series.combine()`](../reference/api/pandas.Series.combine.html#pandas.Series.combine
    "pandas.Series.combine") works correctly with [`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray") inside of [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") ([GH 20825](https://github.com/pandas-dev/pandas/issues/20825))'
  id: totrans-336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.combine()`](../reference/api/pandas.Series.combine.html#pandas.Series.combine
    "pandas.Series.combine")现在在[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")内部正确地与[`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray")一起工作（[GH 20825](https://github.com/pandas-dev/pandas/issues/20825)）。'
- en: '[`Series.combine()`](../reference/api/pandas.Series.combine.html#pandas.Series.combine
    "pandas.Series.combine") with scalar argument now works for any function type
    ([GH 21248](https://github.com/pandas-dev/pandas/issues/21248))'
  id: totrans-337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，带有标量参数的[`Series.combine()`](../reference/api/pandas.Series.combine.html#pandas.Series.combine
    "pandas.Series.combine")可以适用于任何函数类型（[GH 21248](https://github.com/pandas-dev/pandas/issues/21248)）。
- en: '[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") and [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") now dispatch to `ExtensionArray.astype()` ([GH 21185](https://github.com/pandas-dev/pandas/issues/21185)).'
  id: totrans-338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype")和[`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype")现在派发到`ExtensionArray.astype()`（[GH 21185](https://github.com/pandas-dev/pandas/issues/21185)）。'
- en: Slicing a single row of a `DataFrame` with multiple ExtensionArrays of the same
    type now preserves the dtype, rather than coercing to object ([GH 22784](https://github.com/pandas-dev/pandas/issues/22784))
  id: totrans-339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用相同类型的多个ExtensionArrays切片DataFrame的单行现在会保留dtype，而不是强制转换为对象dtype（[GH 22784](https://github.com/pandas-dev/pandas/issues/22784)）。
- en: Bug when concatenating multiple `Series` with different extension dtypes not
    casting to object dtype ([GH 22994](https://github.com/pandas-dev/pandas/issues/22994))
  id: totrans-340
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在连接具有不同扩展dtype的多个`Series`时存在Bug，不会转换为对象dtype（[GH 22994](https://github.com/pandas-dev/pandas/issues/22994)）。
- en: Series backed by an `ExtensionArray` now work with [`util.hash_pandas_object()`](../reference/api/pandas.util.hash_pandas_object.html#pandas.util.hash_pandas_object
    "pandas.util.hash_pandas_object") ([GH 23066](https://github.com/pandas-dev/pandas/issues/23066))
  id: totrans-341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由`ExtensionArray`支持的Series现在可以与[`util.hash_pandas_object()`](../reference/api/pandas.util.hash_pandas_object.html#pandas.util.hash_pandas_object
    "pandas.util.hash_pandas_object")一起使用（[GH 23066](https://github.com/pandas-dev/pandas/issues/23066)）。
- en: '[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") no longer converts to object dtype for DataFrames where
    each column has the same extension dtype. The output Series will have the same
    dtype as the columns ([GH 23077](https://github.com/pandas-dev/pandas/issues/23077)).'
  id: totrans-342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于每列具有相同扩展dtype的DataFrame，[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack")不再转换为对象dtype。输出Series的dtype将与列相同（[GH 23077](https://github.com/pandas-dev/pandas/issues/23077)）。
- en: '[`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack") and [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") no longer convert extension arrays to object-dtype
    ndarrays. Each column in the output `DataFrame` will now have the same dtype as
    the input ([GH 23077](https://github.com/pandas-dev/pandas/issues/23077)).'
  id: totrans-343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack") 和 [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") 不再将扩展数组转换为对象类型的 ndarrays。输出 `DataFrame` 中的每列现在将具有与输入相同的
    dtype ([GH 23077](https://github.com/pandas-dev/pandas/issues/23077)).'
- en: Bug when grouping `Dataframe.groupby()` and aggregating on `ExtensionArray`
    it was not returning the actual `ExtensionArray` dtype ([GH 23227](https://github.com/pandas-dev/pandas/issues/23227)).
  id: totrans-344
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当对 `Dataframe.groupby()` 进行分组并在 `ExtensionArray` 上进行聚合时存在错误，它没有返回实际的 `ExtensionArray`
    dtype ([GH 23227](https://github.com/pandas-dev/pandas/issues/23227)).
- en: 'Bug in [`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    when merging on an extension array-backed column ([GH 23020](https://github.com/pandas-dev/pandas/issues/23020)).  ##
    Deprecations'
  id: totrans-345
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用基于扩展数组的列进行合并时 [`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge") 存在错误（[GH 23020](https://github.com/pandas-dev/pandas/issues/23020)）。##
    弃用
- en: '`MultiIndex.labels` has been deprecated and replaced by [`MultiIndex.codes`](../reference/api/pandas.MultiIndex.codes.html#pandas.MultiIndex.codes
    "pandas.MultiIndex.codes"). The functionality is unchanged. The new name better
    reflects the natures of these codes and makes the `MultiIndex` API more similar
    to the API for [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") ([GH 13443](https://github.com/pandas-dev/pandas/issues/13443)).
    As a consequence, other uses of the name `labels` in `MultiIndex` have also been
    deprecated and replaced with `codes`:'
  id: totrans-346
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.labels` 已被弃用，并被 [`MultiIndex.codes`](../reference/api/pandas.MultiIndex.codes.html#pandas.MultiIndex.codes
    "pandas.MultiIndex.codes") 替代。功能不变。新名称更好地反映了这些代码的性质，并使 `MultiIndex` API 更类似于 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 的 API ([GH 13443](https://github.com/pandas-dev/pandas/issues/13443))。因此，`MultiIndex`
    中其他使用 `labels` 名称的用法也已被弃用，并替换为 `codes`：'
- en: You should initialize a `MultiIndex` instance using a parameter named `codes`
    rather than `labels`.
  id: totrans-347
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你应该使用名为 `codes` 的参数来初始化 `MultiIndex` 实例，而不是 `labels`。
- en: '`MultiIndex.set_labels` has been deprecated in favor of [`MultiIndex.set_codes()`](../reference/api/pandas.MultiIndex.set_codes.html#pandas.MultiIndex.set_codes
    "pandas.MultiIndex.set_codes").'
  id: totrans-348
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.set_labels` 已被弃用，推荐使用 [`MultiIndex.set_codes()`](../reference/api/pandas.MultiIndex.set_codes.html#pandas.MultiIndex.set_codes
    "pandas.MultiIndex.set_codes")。'
- en: For method [`MultiIndex.copy()`](../reference/api/pandas.MultiIndex.copy.html#pandas.MultiIndex.copy
    "pandas.MultiIndex.copy"), the `labels` parameter has been deprecated and replaced
    by a `codes` parameter.
  id: totrans-349
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于方法 [`MultiIndex.copy()`](../reference/api/pandas.MultiIndex.copy.html#pandas.MultiIndex.copy
    "pandas.MultiIndex.copy")，`labels` 参数已被弃用，并替换为 `codes` 参数。
- en: '[`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata"), [`read_stata()`](../reference/api/pandas.read_stata.html#pandas.read_stata
    "pandas.read_stata"), `StataReader` and `StataWriter` have deprecated the `encoding`
    argument. The encoding of a Stata dta file is determined by the file type and
    cannot be changed ([GH 21244](https://github.com/pandas-dev/pandas/issues/21244))'
  id: totrans-350
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata")，[`read_stata()`](../reference/api/pandas.read_stata.html#pandas.read_stata
    "pandas.read_stata")，`StataReader` 和 `StataWriter` 已弃用 `encoding` 参数。Stata dta
    文件的编码由文件类型确定，无法更改 ([GH 21244](https://github.com/pandas-dev/pandas/issues/21244))'
- en: '`MultiIndex.to_hierarchical()` is deprecated and will be removed in a future
    version ([GH 21613](https://github.com/pandas-dev/pandas/issues/21613))'
  id: totrans-351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.to_hierarchical()` 已被弃用，并将在将来的版本中删除 ([GH 21613](https://github.com/pandas-dev/pandas/issues/21613))'
- en: '`Series.ptp()` is deprecated. Use `numpy.ptp` instead ([GH 21614](https://github.com/pandas-dev/pandas/issues/21614))'
  id: totrans-352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.ptp()` 已被弃用。请改用 `numpy.ptp` ([GH 21614](https://github.com/pandas-dev/pandas/issues/21614))'
- en: '`Series.compress()` is deprecated. Use `Series[condition]` instead ([GH 18262](https://github.com/pandas-dev/pandas/issues/18262))'
  id: totrans-353
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.compress()` 已被弃用。请改用 `Series[condition]` ([GH 18262](https://github.com/pandas-dev/pandas/issues/18262))'
- en: 'The signature of [`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv") has been uniformed to that of [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv"): the name of the first argument is now `path_or_buf`,
    the order of subsequent arguments has changed, the `header` argument now defaults
    to `True`. ([GH 19715](https://github.com/pandas-dev/pandas/issues/19715))'
  id: totrans-354
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv") 的签名已统一为 [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") 的签名：第一个参数现在是 `path_or_buf`，后续参数的顺序已更改，`header` 参数现在默认为
    `True`。([GH 19715](https://github.com/pandas-dev/pandas/issues/19715))'
- en: '[`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes") has deprecated providing float values for the
    `codes` argument. ([GH 21767](https://github.com/pandas-dev/pandas/issues/21767))'
  id: totrans-355
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes") 已弃用为 `codes` 参数提供浮点值。([GH 21767](https://github.com/pandas-dev/pandas/issues/21767))'
- en: '[`pandas.read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") is deprecated. Instead, use [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") passing `sep=''\t''` if necessary. This deprecation has been
    removed in 0.25.0\. ([GH 21948](https://github.com/pandas-dev/pandas/issues/21948))'
  id: totrans-356
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") 已被弃用。取而代之的是，如果有必要，使用 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 并传递 `sep=''\t''`。这个弃用已经在 0.25.0 版本中移除。([GH 21948](https://github.com/pandas-dev/pandas/issues/21948))'
- en: '[`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat") has deprecated using arbitrary list-likes *within* list-likes.
    A list-like container may still contain many `Series`, `Index` or 1-dimensional
    `np.ndarray`, or alternatively, only scalar values. ([GH 21950](https://github.com/pandas-dev/pandas/issues/21950))'
  id: totrans-357
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat") 已弃用在列表内使用任意列表类对象。列表类容器仍可包含许多 `Series`，`Index` 或 1 维 `np.ndarray`，或者只包含标量值。([GH
    21950](https://github.com/pandas-dev/pandas/issues/21950))'
- en: '`FrozenNDArray.searchsorted()` has deprecated the `v` parameter in favor of
    `value` ([GH 14645](https://github.com/pandas-dev/pandas/issues/14645))'
  id: totrans-358
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`FrozenNDArray.searchsorted()` 已弃用 `v` 参数，推荐使用 `value` 参数([GH 14645](https://github.com/pandas-dev/pandas/issues/14645))'
- en: '`DatetimeIndex.shift()` and `PeriodIndex.shift()` now accept `periods` argument
    instead of `n` for consistency with [`Index.shift()`](../reference/api/pandas.Index.shift.html#pandas.Index.shift
    "pandas.Index.shift") and [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift"). Using `n` throws a deprecation warning ([GH 22458](https://github.com/pandas-dev/pandas/issues/22458),
    [GH 22912](https://github.com/pandas-dev/pandas/issues/22912))'
  id: totrans-359
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.shift()` 和 `PeriodIndex.shift()` 现在接受 `periods` 参数而不是 `n`，以与
    [`Index.shift()`](../reference/api/pandas.Index.shift.html#pandas.Index.shift
    "pandas.Index.shift") 和 [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift") 保持一致。使用 `n` 会产生弃用警告([GH 22458](https://github.com/pandas-dev/pandas/issues/22458)，[GH
    22912](https://github.com/pandas-dev/pandas/issues/22912))'
- en: The `fastpath` keyword of the different Index constructors is deprecated ([GH
    23110](https://github.com/pandas-dev/pandas/issues/23110)).
  id: totrans-360
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不同索引构造函数的 `fastpath` 关键字已被弃用([GH 23110](https://github.com/pandas-dev/pandas/issues/23110))。
- en: '[`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize"), [`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize"), and [`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize") have deprecated the `errors` argument in favor of
    the `nonexistent` argument ([GH 8917](https://github.com/pandas-dev/pandas/issues/8917))'
  id: totrans-361
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize")，[`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize") 和 [`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize") 已弃用 `errors` 参数，推荐使用 `nonexistent` 参数([GH 8917](https://github.com/pandas-dev/pandas/issues/8917))'
- en: The class `FrozenNDArray` has been deprecated. When unpickling, `FrozenNDArray`
    will be unpickled to `np.ndarray` once this class is removed ([GH 9031](https://github.com/pandas-dev/pandas/issues/9031))
  id: totrans-362
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 类 `FrozenNDArray` 已弃用。一旦此类被移除，反序列化时 `FrozenNDArray` 将被反序列化为 `np.ndarray` ([GH
    9031](https://github.com/pandas-dev/pandas/issues/9031))
- en: The methods [`DataFrame.update()`](../reference/api/pandas.DataFrame.update.html#pandas.DataFrame.update
    "pandas.DataFrame.update") and `Panel.update()` have deprecated the `raise_conflict=False|True`
    keyword in favor of `errors='ignore'|'raise'` ([GH 23585](https://github.com/pandas-dev/pandas/issues/23585))
  id: totrans-363
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.update()`](../reference/api/pandas.DataFrame.update.html#pandas.DataFrame.update
    "pandas.DataFrame.update") 和 `Panel.update()` 方法已弃用 `raise_conflict=False|True`
    参数，推荐使用 `errors=''ignore''|''raise''` ([GH 23585](https://github.com/pandas-dev/pandas/issues/23585))'
- en: The methods [`Series.str.partition()`](../reference/api/pandas.Series.str.partition.html#pandas.Series.str.partition
    "pandas.Series.str.partition") and [`Series.str.rpartition()`](../reference/api/pandas.Series.str.rpartition.html#pandas.Series.str.rpartition
    "pandas.Series.str.rpartition") have deprecated the `pat` keyword in favor of
    `sep` ([GH 22676](https://github.com/pandas-dev/pandas/issues/22676))
  id: totrans-364
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.partition()`](../reference/api/pandas.Series.str.partition.html#pandas.Series.str.partition
    "pandas.Series.str.partition") 和 [`Series.str.rpartition()`](../reference/api/pandas.Series.str.rpartition.html#pandas.Series.str.rpartition
    "pandas.Series.str.rpartition") 方法已弃用 `pat` 参数，推荐使用 `sep` 参数 ([GH 22676](https://github.com/pandas-dev/pandas/issues/22676))'
- en: Deprecated the `nthreads` keyword of [`pandas.read_feather()`](../reference/api/pandas.read_feather.html#pandas.read_feather
    "pandas.read_feather") in favor of `use_threads` to reflect the changes in `pyarrow>=0.11.0`.
    ([GH 23053](https://github.com/pandas-dev/pandas/issues/23053))
  id: totrans-365
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了 [`pandas.read_feather()`](../reference/api/pandas.read_feather.html#pandas.read_feather
    "pandas.read_feather") 的 `nthreads` 参数，推荐使用 `use_threads` 来反映 `pyarrow>=0.11.0`
    的更改。 ([GH 23053](https://github.com/pandas-dev/pandas/issues/23053))
- en: '[`pandas.read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") has deprecated accepting `usecols` as an integer. Please
    pass in a list of ints from 0 to `usecols` inclusive instead ([GH 23527](https://github.com/pandas-dev/pandas/issues/23527))'
  id: totrans-366
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 已经弃用了接受整数作为 `usecols` 的参数。请改为传入从 `0` 到 `usecols` 的整数列表（包括
    `usecols`）代替 ([GH 23527](https://github.com/pandas-dev/pandas/issues/23527))'
- en: Constructing a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") from data with `datetime64`-dtyped data is deprecated,
    will raise `TypeError` in a future version ([GH 23539](https://github.com/pandas-dev/pandas/issues/23539))
  id: totrans-367
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从具有 `datetime64` 类型数据的数据构建 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 已弃用，在将来的版本中将引发 `TypeError` ([GH 23539](https://github.com/pandas-dev/pandas/issues/23539))
- en: Constructing a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") from data with `timedelta64`-dtyped data is deprecated,
    will raise `TypeError` in a future version ([GH 23675](https://github.com/pandas-dev/pandas/issues/23675))
  id: totrans-368
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从具有 `timedelta64` 类型数据的数据构建 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 已弃用，在将来的版本中将引发 `TypeError` ([GH 23675](https://github.com/pandas-dev/pandas/issues/23675))
- en: The `keep_tz=False` option (the default) of the `keep_tz` keyword of [`DatetimeIndex.to_series()`](../reference/api/pandas.DatetimeIndex.to_series.html#pandas.DatetimeIndex.to_series
    "pandas.DatetimeIndex.to_series") is deprecated ([GH 17832](https://github.com/pandas-dev/pandas/issues/17832)).
  id: totrans-369
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`keep_tz=False` 选项（默认）的 `keep_tz` 关键字已弃用，适用于 [`DatetimeIndex.to_series()`](../reference/api/pandas.DatetimeIndex.to_series.html#pandas.DatetimeIndex.to_series
    "pandas.DatetimeIndex.to_series") ([GH 17832](https://github.com/pandas-dev/pandas/issues/17832)).'
- en: Timezone converting a tz-aware `datetime.datetime` or [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") with [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") and the `tz` argument is now deprecated. Instead, use [`Timestamp.tz_convert()`](../reference/api/pandas.Timestamp.tz_convert.html#pandas.Timestamp.tz_convert
    "pandas.Timestamp.tz_convert") ([GH 23579](https://github.com/pandas-dev/pandas/issues/23579))
  id: totrans-370
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用时区感知的 `datetime.datetime` 或 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 进行时区转换，并且 `tz` 参数现在已弃用。请改用 [`Timestamp.tz_convert()`](../reference/api/pandas.Timestamp.tz_convert.html#pandas.Timestamp.tz_convert
    "pandas.Timestamp.tz_convert") ([GH 23579](https://github.com/pandas-dev/pandas/issues/23579))
- en: '`pandas.api.types.is_period()` is deprecated in favor of `pandas.api.types.is_period_dtype`
    ([GH 23917](https://github.com/pandas-dev/pandas/issues/23917))'
  id: totrans-371
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.api.types.is_period()` 已被弃用，推荐使用 `pandas.api.types.is_period_dtype`（[GH
    23917](https://github.com/pandas-dev/pandas/issues/23917)）'
- en: '`pandas.api.types.is_datetimetz()` is deprecated in favor of `pandas.api.types.is_datetime64tz`
    ([GH 23917](https://github.com/pandas-dev/pandas/issues/23917))'
  id: totrans-372
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.api.types.is_datetimetz()` 已被弃用，推荐使用 `pandas.api.types.is_datetime64tz`（[GH
    23917](https://github.com/pandas-dev/pandas/issues/23917)）'
- en: Creating a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex"), [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), or [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") by passing range arguments `start`, `end`, and `periods`
    is deprecated in favor of [`timedelta_range()`](../reference/api/pandas.timedelta_range.html#pandas.timedelta_range
    "pandas.timedelta_range"), [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range"), or [`period_range()`](../reference/api/pandas.period_range.html#pandas.period_range
    "pandas.period_range") ([GH 23919](https://github.com/pandas-dev/pandas/issues/23919))
  id: totrans-373
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过传递范围参数 `start`、`end` 和 `periods` 来创建 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")、[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 或 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 已被弃用，推荐使用 [`timedelta_range()`](../reference/api/pandas.timedelta_range.html#pandas.timedelta_range
    "pandas.timedelta_range")、[`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") 或 [`period_range()`](../reference/api/pandas.period_range.html#pandas.period_range
    "pandas.period_range")（[GH 23919](https://github.com/pandas-dev/pandas/issues/23919)）
- en: Passing a string alias like `'datetime64[ns, UTC]'` as the `unit` parameter
    to [`DatetimeTZDtype`](../reference/api/pandas.DatetimeTZDtype.html#pandas.DatetimeTZDtype
    "pandas.DatetimeTZDtype") is deprecated. Use `DatetimeTZDtype.construct_from_string`
    instead ([GH 23990](https://github.com/pandas-dev/pandas/issues/23990)).
  id: totrans-374
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将字符串别名如 `'datetime64[ns, UTC]'` 作为 `unit` 参数传递给 [`DatetimeTZDtype`](../reference/api/pandas.DatetimeTZDtype.html#pandas.DatetimeTZDtype
    "pandas.DatetimeTZDtype") 已被弃用。请改用 `DatetimeTZDtype.construct_from_string`（[GH
    23990](https://github.com/pandas-dev/pandas/issues/23990)）。
- en: The `skipna` parameter of [`infer_dtype()`](../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype
    "pandas.api.types.infer_dtype") will switch to `True` by default in a future version
    of pandas ([GH 17066](https://github.com/pandas-dev/pandas/issues/17066), [GH
    24050](https://github.com/pandas-dev/pandas/issues/24050))
  id: totrans-375
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`infer_dtype()`](../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype
    "pandas.api.types.infer_dtype") 的 `skipna` 参数将在 pandas 的将来版本中默认切换为 `True`（[GH
    17066](https://github.com/pandas-dev/pandas/issues/17066), [GH 24050](https://github.com/pandas-dev/pandas/issues/24050)）'
- en: In [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") with Categorical data, providing an `other` that is not
    present in the categories is deprecated. Convert the categorical to a different
    dtype or add the `other` to the categories first ([GH 24077](https://github.com/pandas-dev/pandas/issues/24077)).
  id: totrans-376
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在带有分类数据的 [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") 中，提供一个不在分类中的 `other` 已被弃用。请将分类转换为不同的 dtype 或首先将 `other`
    添加到分类中（[GH 24077](https://github.com/pandas-dev/pandas/issues/24077)）。
- en: '`Series.clip_lower()`, `Series.clip_upper()`, `DataFrame.clip_lower()` and
    `DataFrame.clip_upper()` are deprecated and will be removed in a future version.
    Use `Series.clip(lower=threshold)`, `Series.clip(upper=threshold)` and the equivalent
    `DataFrame` methods ([GH 24203](https://github.com/pandas-dev/pandas/issues/24203))'
  id: totrans-377
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.clip_lower()`, `Series.clip_upper()`, `DataFrame.clip_lower()` 和 `DataFrame.clip_upper()`
    已被弃用，并将在将来的版本中移除。请使用 `Series.clip(lower=threshold)`，`Series.clip(upper=threshold)`
    和相应的 `DataFrame` 方法（[GH 24203](https://github.com/pandas-dev/pandas/issues/24203)）'
- en: '`Series.nonzero()` is deprecated and will be removed in a future version ([GH
    18262](https://github.com/pandas-dev/pandas/issues/18262))'
  id: totrans-378
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.nonzero()` 已被弃用，并将在将来的版本中移除（[GH 18262](https://github.com/pandas-dev/pandas/issues/18262)）'
- en: Passing an integer to [`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") and [`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") with `timedelta64[ns]` dtypes is deprecated, will raise
    `TypeError` in a future version. Use `obj.fillna(pd.Timedelta(...))` instead ([GH
    24694](https://github.com/pandas-dev/pandas/issues/24694))
  id: totrans-379
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 传递带有`timedelta64[ns]`类型的整数给[`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna")和[`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna")已被弃用，将在未来版本中引发`TypeError`。改用`obj.fillna(pd.Timedelta(...))`代替（[GH
    24694](https://github.com/pandas-dev/pandas/issues/24694)）
- en: '`Series.cat.categorical`, `Series.cat.name` and `Series.cat.index` have been
    deprecated. Use the attributes on `Series.cat` or `Series` directly. ([GH 24751](https://github.com/pandas-dev/pandas/issues/24751)).'
  id: totrans-380
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.cat.categorical`、`Series.cat.name`和`Series.cat.index`已被弃用。请使用`Series.cat`或`Series`上的属性。([GH
    24751](https://github.com/pandas-dev/pandas/issues/24751))。'
- en: Passing a dtype without a precision like `np.dtype('datetime64')` or `timedelta64`
    to [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index"),
    [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") is now deprecated. Use the nanosecond-precision dtype
    instead ([GH 24753](https://github.com/pandas-dev/pandas/issues/24753)).
  id: totrans-381
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将没有精度的dtype（如`np.dtype('datetime64')`或`timedelta64`）传递给[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")、[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")现已被弃用。请改用纳秒精度dtype代替（[GH 24753](https://github.com/pandas-dev/pandas/issues/24753))。
- en: '### Integer addition/subtraction with datetimes and timedeltas is deprecated'
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: '### 使用日期时间和时间增减的整数已被弃用'
- en: In the past, users could—in some cases—add or subtract integers or integer-dtype
    arrays from [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp"), [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex").
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 在过去，用户可以在某些情况下从[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")、[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中添加或减去整数或整数类型的数组。
- en: This usage is now deprecated. Instead add or subtract integer multiples of the
    object’s `freq` attribute ([GH 21939](https://github.com/pandas-dev/pandas/issues/21939),
    [GH 23878](https://github.com/pandas-dev/pandas/issues/23878)).
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: 此用法现已弃用。而是添加或减去对象的`freq`属性的整数倍数（[GH 21939](https://github.com/pandas-dev/pandas/issues/21939)，[GH
    23878](https://github.com/pandas-dev/pandas/issues/23878)）。
- en: '*Previous behavior*:'
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE67]'
  id: totrans-386
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: '*New behavior*:'
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE68]  ### Passing integer data and a timezone to DatetimeIndex'
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE68]  ### 将整数数据和时区传递给DatetimeIndex'
- en: The behavior of [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") when passed integer data and a timezone is changing in
    a future version of pandas. Previously, these were interpreted as wall times in
    the desired timezone. In the future, these will be interpreted as wall times in
    UTC, which are then converted to the desired timezone ([GH 24559](https://github.com/pandas-dev/pandas/issues/24559)).
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 当传递整数数据和时区给[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")时，pandas未来版本中的行为将发生变化。以前，这些被解释为所需时区的墙上时间。将来，这些将被解释为UTC中的墙上时间，然后转换为所需时区（[GH
    24559](https://github.com/pandas-dev/pandas/issues/24559)）。
- en: 'The default behavior remains the same, but issues a warning:'
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: 默认行为保持不变，但会发出警告：
- en: '[PRE69]'
  id: totrans-391
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: 'As the warning message explains, opt in to the future behavior by specifying
    that the integer values are UTC, and then converting to the final timezone:'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: 如警告消息所述，通过指定整数值为UTC并转换为最终时区来选择未来行为：
- en: '[PRE70]'
  id: totrans-393
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: 'The old behavior can be retained with by localizing directly to the final timezone:'
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 可以通过直接定位到最终时区来保留旧行为：
- en: '[PRE71]  ### Converting timezone-aware Series and Index to NumPy arrays'
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE71]  ### 将时区感知的Series和Index转换为NumPy数组'
- en: The conversion from a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") with timezone-aware datetime data will change to preserve timezones
    by default ([GH 23569](https://github.com/pandas-dev/pandas/issues/23569)).
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: 从具有时区感知日期时间数据的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    转换将更改为默认保留时区（[GH 23569](https://github.com/pandas-dev/pandas/issues/23569)）
- en: NumPy doesn’t have a dedicated dtype for timezone-aware datetimes. In the past,
    converting a [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    or [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with timezone-aware datatimes would convert to a NumPy
    array by
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: NumPy 没有专门的 dtype 用于时区感知日期时间。过去，将具有时区感知日期时间的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 转换为 NumPy 数组时
- en: converting the tz-aware data to UTC
  id: totrans-398
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 tz-aware 数据转换为 UTC
- en: dropping the timezone-info
  id: totrans-399
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除时区信息
- en: returning a [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)") with `datetime64[ns]` dtype
  id: totrans-400
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '返回一个带有 `datetime64[ns]` dtype 的 [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(在 NumPy v1.26)") '
- en: Future versions of pandas will preserve the timezone information by returning
    an object-dtype NumPy array where each value is a [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") with the correct timezone attached
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 的未来版本将通过返回一个对象 dtype 的 NumPy 数组来保留时区信息，其中每个值都是带有正确时区的 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")
- en: '[PRE72]'
  id: totrans-402
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: The default behavior remains the same, but issues a warning
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: 默认行为保持不变，但会发出警告
- en: '[PRE73]'
  id: totrans-404
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: The previous or future behavior can be obtained, without any warnings, by specifying
    the `dtype`
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: 以前或未来的行为可以通过指定 `dtype` 来获得，而不会收到任何警告
- en: '*Previous behavior*'
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*'
- en: '[PRE74]'
  id: totrans-407
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: '*Future behavior*'
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: '*未来行为*'
- en: '[PRE75]'
  id: totrans-409
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: Or by using [`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy")
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: 或者通过使用 [`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy")
- en: '[PRE76]'
  id: totrans-411
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: 'All the above applies to a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with tz-aware values as well.  ## Removal of prior version
    deprecations/changes'
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
  zh: 所有上述内容也适用于具有时区感知值的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")。## 删除之前版本的弃用/更改
- en: The `LongPanel` and `WidePanel` classes have been removed ([GH 10892](https://github.com/pandas-dev/pandas/issues/10892))
  id: totrans-413
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`LongPanel` 和 `WidePanel` 类已删除（[GH 10892](https://github.com/pandas-dev/pandas/issues/10892)）'
- en: '[`Series.repeat()`](../reference/api/pandas.Series.repeat.html#pandas.Series.repeat
    "pandas.Series.repeat") has renamed the `reps` argument to `repeats` ([GH 14645](https://github.com/pandas-dev/pandas/issues/14645))'
  id: totrans-414
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.repeat()`](../reference/api/pandas.Series.repeat.html#pandas.Series.repeat
    "pandas.Series.repeat") 将 `reps` 参数重命名为 `repeats`（[GH 14645](https://github.com/pandas-dev/pandas/issues/14645)）'
- en: Several private functions were removed from the (non-public) module `pandas.core.common`
    ([GH 22001](https://github.com/pandas-dev/pandas/issues/22001))
  id: totrans-415
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 几个私有函数已从（非公开）模块 `pandas.core.common` 中删除（[GH 22001](https://github.com/pandas-dev/pandas/issues/22001)）
- en: Removal of the previously deprecated module `pandas.core.datetools` ([GH 14105](https://github.com/pandas-dev/pandas/issues/14105),
    [GH 14094](https://github.com/pandas-dev/pandas/issues/14094))
  id: totrans-416
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除以前弃用的模块 `pandas.core.datetools`（[GH 14105](https://github.com/pandas-dev/pandas/issues/14105),
    [GH 14094](https://github.com/pandas-dev/pandas/issues/14094)）
- en: Strings passed into [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") that refer to both column and index levels will raise
    a `ValueError` ([GH 14432](https://github.com/pandas-dev/pandas/issues/14432))
  id: totrans-417
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 传递给 [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 的字符串既引用列级别又引用索引级别会引发 `ValueError`（[GH 14432](https://github.com/pandas-dev/pandas/issues/14432)）
- en: '[`Index.repeat()`](../reference/api/pandas.Index.repeat.html#pandas.Index.repeat
    "pandas.Index.repeat") and `MultiIndex.repeat()` have renamed the `n` argument
    to `repeats` ([GH 14645](https://github.com/pandas-dev/pandas/issues/14645))'
  id: totrans-418
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.repeat()`](../reference/api/pandas.Index.repeat.html#pandas.Index.repeat
    "pandas.Index.repeat") 和 `MultiIndex.repeat()` 将 `n` 参数重命名为 `repeats`（[GH 14645](https://github.com/pandas-dev/pandas/issues/14645)）'
- en: The `Series` constructor and `.astype` method will now raise a `ValueError`
    if timestamp dtypes are passed in without a unit (e.g. `np.datetime64`) for the
    `dtype` parameter ([GH 15987](https://github.com/pandas-dev/pandas/issues/15987))
  id: totrans-419
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果在 `dtype` 参数中传递了时间戳 dtype 而没有单位（例如 `np.datetime64`），则 `Series` 构造函数和 `.astype`
    方法现在会引发 `ValueError`（[GH 15987](https://github.com/pandas-dev/pandas/issues/15987)）
- en: Removal of the previously deprecated `as_indexer` keyword completely from `str.match()`
    ([GH 22356](https://github.com/pandas-dev/pandas/issues/22356), [GH 6581](https://github.com/pandas-dev/pandas/issues/6581))
  id: totrans-420
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 `str.match()` 完全移除了先前弃用的 `as_indexer` 关键字（[GH 22356](https://github.com/pandas-dev/pandas/issues/22356),
    [GH 6581](https://github.com/pandas-dev/pandas/issues/6581)）
- en: The modules `pandas.types`, `pandas.computation`, and `pandas.util.decorators`
    have been removed ([GH 16157](https://github.com/pandas-dev/pandas/issues/16157),
    [GH 16250](https://github.com/pandas-dev/pandas/issues/16250))
  id: totrans-421
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模块 `pandas.types`、`pandas.computation` 和 `pandas.util.decorators` 已被移除（[GH 16157](https://github.com/pandas-dev/pandas/issues/16157),
    [GH 16250](https://github.com/pandas-dev/pandas/issues/16250)）
- en: Removed the `pandas.formats.style` shim for [`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") ([GH 16059](https://github.com/pandas-dev/pandas/issues/16059))
  id: totrans-422
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除了 [`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 的 `pandas.formats.style` 代理层（[GH 16059](https://github.com/pandas-dev/pandas/issues/16059)）
- en: '`pandas.pnow`, `pandas.match`, `pandas.groupby`, `pd.get_store`, `pd.Expr`,
    and `pd.Term` have been removed ([GH 15538](https://github.com/pandas-dev/pandas/issues/15538),
    [GH 15940](https://github.com/pandas-dev/pandas/issues/15940))'
  id: totrans-423
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.pnow`、`pandas.match`、`pandas.groupby`、`pd.get_store`、`pd.Expr` 和 `pd.Term`
    已被移除（[GH 15538](https://github.com/pandas-dev/pandas/issues/15538), [GH 15940](https://github.com/pandas-dev/pandas/issues/15940)）'
- en: '`Categorical.searchsorted()` and [`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted") have renamed the `v` argument to `value` ([GH 14645](https://github.com/pandas-dev/pandas/issues/14645))'
  id: totrans-424
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.searchsorted()` 和 [`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted") 已将 `v` 参数改名为 `value`（[GH 14645](https://github.com/pandas-dev/pandas/issues/14645)）'
- en: '`pandas.parser`, `pandas.lib`, and `pandas.tslib` have been removed ([GH 15537](https://github.com/pandas-dev/pandas/issues/15537))'
  id: totrans-425
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除了 `pandas.parser`、`pandas.lib` 和 `pandas.tslib`（[GH 15537](https://github.com/pandas-dev/pandas/issues/15537)）
- en: '[`Index.searchsorted()`](../reference/api/pandas.Index.searchsorted.html#pandas.Index.searchsorted
    "pandas.Index.searchsorted") have renamed the `key` argument to `value` ([GH 14645](https://github.com/pandas-dev/pandas/issues/14645))'
  id: totrans-426
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.searchsorted()`](../reference/api/pandas.Index.searchsorted.html#pandas.Index.searchsorted
    "pandas.Index.searchsorted") 已将 `key` 参数改名为 `value`（[GH 14645](https://github.com/pandas-dev/pandas/issues/14645)）'
- en: '`DataFrame.consolidate` and `Series.consolidate` have been removed ([GH 15501](https://github.com/pandas-dev/pandas/issues/15501))'
  id: totrans-427
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.consolidate` 和 `Series.consolidate` 已被移除（[GH 15501](https://github.com/pandas-dev/pandas/issues/15501)）'
- en: Removal of the previously deprecated module `pandas.json` ([GH 19944](https://github.com/pandas-dev/pandas/issues/19944))
  id: totrans-428
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除了先前弃用的模块 `pandas.json`（[GH 19944](https://github.com/pandas-dev/pandas/issues/19944)）
- en: The module `pandas.tools` has been removed ([GH 15358](https://github.com/pandas-dev/pandas/issues/15358),
    [GH 16005](https://github.com/pandas-dev/pandas/issues/16005))
  id: totrans-429
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模块 `pandas.tools` 已被移除（[GH 15358](https://github.com/pandas-dev/pandas/issues/15358),
    [GH 16005](https://github.com/pandas-dev/pandas/issues/16005)）
- en: '`SparseArray.get_values()` and `SparseArray.to_dense()` have dropped the `fill`
    parameter ([GH 14686](https://github.com/pandas-dev/pandas/issues/14686))'
  id: totrans-430
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.get_values()` 和 `SparseArray.to_dense()` 已移除了 `fill` 参数（[GH 14686](https://github.com/pandas-dev/pandas/issues/14686)）'
- en: '`DataFrame.sortlevel` and `Series.sortlevel` have been removed ([GH 15099](https://github.com/pandas-dev/pandas/issues/15099))'
  id: totrans-431
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.sortlevel` 和 `Series.sortlevel` 已被移除（[GH 15099](https://github.com/pandas-dev/pandas/issues/15099)）'
- en: '`SparseSeries.to_dense()` has dropped the `sparse_only` parameter ([GH 14686](https://github.com/pandas-dev/pandas/issues/14686))'
  id: totrans-432
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.to_dense()` 已移除了 `sparse_only` 参数（[GH 14686](https://github.com/pandas-dev/pandas/issues/14686)）'
- en: '[`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") and [`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") have renamed the `raise_on_error` argument to `errors`
    ([GH 14967](https://github.com/pandas-dev/pandas/issues/14967))'
  id: totrans-433
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") 和 [`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") 已将 `raise_on_error` 参数改名为 `errors`（[GH 14967](https://github.com/pandas-dev/pandas/issues/14967)）'
- en: '`is_sequence`, `is_any_int_dtype`, and `is_floating_dtype` have been removed
    from `pandas.api.types` ([GH 16163](https://github.com/pandas-dev/pandas/issues/16163),
    [GH 16189](https://github.com/pandas-dev/pandas/issues/16189))  ## Performance
    improvements'
  id: totrans-434
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.api.types`中的`is_sequence`、`is_any_int_dtype`和`is_floating_dtype`已被移除（[GH
    16163](https://github.com/pandas-dev/pandas/issues/16163), [GH 16189](https://github.com/pandas-dev/pandas/issues/16189))。
    ## 性能改进'
- en: Slicing Series and DataFrames with an monotonically increasing [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") is now very fast and has speed comparable to slicing
    with an `Int64Index`. The speed increase is both when indexing by label (using
    .loc) and position(.iloc) ([GH 20395](https://github.com/pandas-dev/pandas/issues/20395))
    Slicing a monotonically increasing [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") itself (i.e. `ci[1000:2000]`) shows similar speed improvements
    as above ([GH 21659](https://github.com/pandas-dev/pandas/issues/21659))
  id: totrans-435
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用单调递增的[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")对Series和DataFrame进行切片现在非常快，并且速度与使用`Int64Index`进行切片相当。
    在按标签索引（使用.loc）和位置索引（.iloc）时，速度增加（[GH 20395](https://github.com/pandas-dev/pandas/issues/20395))。
    对单调递增的[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")本身进行切片（即`ci[1000:2000]`）显示出与上述类似的速度改进（[GH 21659](https://github.com/pandas-dev/pandas/issues/21659))。
- en: Improved performance of [`CategoricalIndex.equals()`](../reference/api/pandas.CategoricalIndex.equals.html#pandas.CategoricalIndex.equals
    "pandas.CategoricalIndex.equals") when comparing to another [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") ([GH 24023](https://github.com/pandas-dev/pandas/issues/24023))
  id: totrans-436
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当与另一个[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")进行比较时，改进了[`CategoricalIndex.equals()`](../reference/api/pandas.CategoricalIndex.equals.html#pandas.CategoricalIndex.equals
    "pandas.CategoricalIndex.equals")的性能（[GH 24023](https://github.com/pandas-dev/pandas/issues/24023))。
- en: Improved performance of [`Series.describe()`](../reference/api/pandas.Series.describe.html#pandas.Series.describe
    "pandas.Series.describe") in case of numeric dtpyes ([GH 21274](https://github.com/pandas-dev/pandas/issues/21274))
  id: totrans-437
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在数值类型的情况下，改进了[`Series.describe()`](../reference/api/pandas.Series.describe.html#pandas.Series.describe
    "pandas.Series.describe")的性能（[GH 21274](https://github.com/pandas-dev/pandas/issues/21274))。
- en: Improved performance of `GroupBy.rank()` when dealing with tied rankings ([GH
    21237](https://github.com/pandas-dev/pandas/issues/21237))
  id: totrans-438
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当处理并列排名时，改进了`GroupBy.rank()`的性能（[GH 21237](https://github.com/pandas-dev/pandas/issues/21237))。
- en: Improved performance of [`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index") with columns consisting of [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") objects ([GH 21582](https://github.com/pandas-dev/pandas/issues/21582),
    [GH 21606](https://github.com/pandas-dev/pandas/issues/21606))
  id: totrans-439
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当列由[`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")对象组成时，改进了[`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index")的性能（[GH 21582](https://github.com/pandas-dev/pandas/issues/21582),
    [GH 21606](https://github.com/pandas-dev/pandas/issues/21606))。
- en: Improved performance of [`Series.at()`](../reference/api/pandas.Series.at.html#pandas.Series.at
    "pandas.Series.at") and `Index.get_value()` for Extension Arrays values (e.g.
    [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical "pandas.Categorical"))
    ([GH 24204](https://github.com/pandas-dev/pandas/issues/24204))
  id: totrans-440
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于扩展数组值（例如[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical"）），改进了[`Series.at()`](../reference/api/pandas.Series.at.html#pandas.Series.at
    "pandas.Series.at")和`Index.get_value()`的性能（[GH 24204](https://github.com/pandas-dev/pandas/issues/24204))。
- en: Improved performance of membership checks in [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") and [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") (i.e. `x in cat`-style checks are much faster). `CategoricalIndex.contains()`
    is likewise much faster ([GH 21369](https://github.com/pandas-dev/pandas/issues/21369),
    [GH 21508](https://github.com/pandas-dev/pandas/issues/21508))
  id: totrans-441
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")和[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")中的成员检查性能得到改进（即`x in cat`-style检查更快）。 `CategoricalIndex.contains()`同样更快（[GH
    21369](https://github.com/pandas-dev/pandas/issues/21369), [GH 21508](https://github.com/pandas-dev/pandas/issues/21508))。
- en: Improved performance of [`HDFStore.groups()`](../reference/api/pandas.HDFStore.groups.html#pandas.HDFStore.groups
    "pandas.HDFStore.groups") (and dependent functions like [`HDFStore.keys()`](../reference/api/pandas.HDFStore.keys.html#pandas.HDFStore.keys
    "pandas.HDFStore.keys"). (i.e. `x in store` checks are much faster) ([GH 21372](https://github.com/pandas-dev/pandas/issues/21372))
  id: totrans-442
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了[`HDFStore.groups()`](../reference/api/pandas.HDFStore.groups.html#pandas.HDFStore.groups
    "pandas.HDFStore.groups")的性能（以及依赖函数如[`HDFStore.keys()`](../reference/api/pandas.HDFStore.keys.html#pandas.HDFStore.keys
    "pandas.HDFStore.keys")。即`x in store`检查速度更快）（[GH 21372](https://github.com/pandas-dev/pandas/issues/21372))
- en: Improved the performance of [`pandas.get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") with `sparse=True` ([GH 21997](https://github.com/pandas-dev/pandas/issues/21997))
  id: totrans-443
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了带有`sparse=True`的[`pandas.get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies")的性能（[GH 21997](https://github.com/pandas-dev/pandas/issues/21997))
- en: Improved performance of `IndexEngine.get_indexer_non_unique()` for sorted, non-unique
    indexes ([GH 9466](https://github.com/pandas-dev/pandas/issues/9466))
  id: totrans-444
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了对排序的非唯一索引使用`IndexEngine.get_indexer_non_unique()`的性能（[GH 9466](https://github.com/pandas-dev/pandas/issues/9466))
- en: Improved performance of `PeriodIndex.unique()` ([GH 23083](https://github.com/pandas-dev/pandas/issues/23083))
  id: totrans-445
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了`PeriodIndex.unique()`的性能（[GH 23083](https://github.com/pandas-dev/pandas/issues/23083))
- en: Improved performance of [`concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") for `Series` objects ([GH 23404](https://github.com/pandas-dev/pandas/issues/23404))
  id: totrans-446
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")在`Series`对象上的性能（[GH
    23404](https://github.com/pandas-dev/pandas/issues/23404))
- en: Improved performance of [`DatetimeIndex.normalize()`](../reference/api/pandas.DatetimeIndex.normalize.html#pandas.DatetimeIndex.normalize
    "pandas.DatetimeIndex.normalize") and [`Timestamp.normalize()`](../reference/api/pandas.Timestamp.normalize.html#pandas.Timestamp.normalize
    "pandas.Timestamp.normalize") for timezone naive or UTC datetimes ([GH 23634](https://github.com/pandas-dev/pandas/issues/23634))
  id: totrans-447
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了时区无关或UTC日期时间的[`DatetimeIndex.normalize()`](../reference/api/pandas.DatetimeIndex.normalize.html#pandas.DatetimeIndex.normalize
    "pandas.DatetimeIndex.normalize")和[`Timestamp.normalize()`](../reference/api/pandas.Timestamp.normalize.html#pandas.Timestamp.normalize
    "pandas.Timestamp.normalize")的性能（[GH 23634](https://github.com/pandas-dev/pandas/issues/23634))
- en: Improved performance of [`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize") and various `DatetimeIndex` attributes with
    dateutil UTC timezone ([GH 23772](https://github.com/pandas-dev/pandas/issues/23772))
  id: totrans-448
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了[`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize")和各种带有dateutil UTC时区的`DatetimeIndex`属性的性能（[GH
    23772](https://github.com/pandas-dev/pandas/issues/23772))
- en: Fixed a performance regression on Windows with Python 3.7 of [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") ([GH 23516](https://github.com/pandas-dev/pandas/issues/23516))
  id: totrans-449
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在Windows上使用Python 3.7时[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")的性能退化（[GH 23516](https://github.com/pandas-dev/pandas/issues/23516))
- en: Improved performance of [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") constructor for `Series` objects ([GH 23814](https://github.com/pandas-dev/pandas/issues/23814))
  id: totrans-450
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了`Series`对象的[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")构造函数的性能（[GH 23814](https://github.com/pandas-dev/pandas/issues/23814))
- en: Improved performance of [`where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") for Categorical data ([GH 24077](https://github.com/pandas-dev/pandas/issues/24077))
  id: totrans-451
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了用于分类数据的[`where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where")的性能（[GH 24077](https://github.com/pandas-dev/pandas/issues/24077))
- en: Improved performance of iterating over a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series"). Using [`DataFrame.itertuples()`](../reference/api/pandas.DataFrame.itertuples.html#pandas.DataFrame.itertuples
    "pandas.DataFrame.itertuples") now creates iterators without internally allocating
    lists of all elements ([GH 20783](https://github.com/pandas-dev/pandas/issues/20783))
  id: totrans-452
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了遍历[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")的性能。现在使用[`DataFrame.itertuples()`](../reference/api/pandas.DataFrame.itertuples.html#pandas.DataFrame.itertuples
    "pandas.DataFrame.itertuples")创建的迭代器不再在内部分配所有元素的列表（[GH 20783](https://github.com/pandas-dev/pandas/issues/20783))
- en: Improved performance of [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") constructor, additionally benefitting `PeriodArray` and `PeriodIndex`
    creation ([GH 24084](https://github.com/pandas-dev/pandas/issues/24084), [GH 24118](https://github.com/pandas-dev/pandas/issues/24118))
  id: totrans-453
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了[`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")构造函数的性能，同时也有利于`PeriodArray`和`PeriodIndex`的创建（[GH
    24084](https://github.com/pandas-dev/pandas/issues/24084)，[GH 24118](https://github.com/pandas-dev/pandas/issues/24118)）
- en: 'Improved performance of tz-aware `DatetimeArray` binary operations ([GH 24491](https://github.com/pandas-dev/pandas/issues/24491))  ##
    Bug fixes'
  id: totrans-454
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了带有时区感知的`DatetimeArray`二进制操作的性能（[GH 24491](https://github.com/pandas-dev/pandas/issues/24491)）##
    Bug 修复
- en: Categorical
  id: totrans-455
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分类
- en: Bug in [`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes") where `NaN` values in `codes` were silently converted
    to `0` ([GH 21767](https://github.com/pandas-dev/pandas/issues/21767)). In the
    future this will raise a `ValueError`. Also changes the behavior of `.from_codes([1.1,
    2.0])`.
  id: totrans-456
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes")中的错误，`codes`中的`NaN`值被悄悄地转换为`0`（[GH 21767](https://github.com/pandas-dev/pandas/issues/21767)）。将来这将引发`ValueError`。还更改了`.from_codes([1.1,
    2.0])`的行为。'
- en: Bug in `Categorical.sort_values()` where `NaN` values were always positioned
    in front regardless of `na_position` value. ([GH 22556](https://github.com/pandas-dev/pandas/issues/22556)).
  id: totrans-457
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.sort_values()`中的错误，`NaN`值始终位于前面，而不考虑`na_position`值。([GH 22556](https://github.com/pandas-dev/pandas/issues/22556))'
- en: Bug when indexing with a boolean-valued `Categorical`. Now a boolean-valued
    `Categorical` is treated as a boolean mask ([GH 22665](https://github.com/pandas-dev/pandas/issues/22665))
  id: totrans-458
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用布尔值`Categorical`进行索引时的错误。现在布尔值`Categorical`被视为布尔掩码（[GH 22665](https://github.com/pandas-dev/pandas/issues/22665)）
- en: Constructing a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") with empty values and boolean categories was raising
    a `ValueError` after a change to dtype coercion ([GH 22702](https://github.com/pandas-dev/pandas/issues/22702)).
  id: totrans-459
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用空值和布尔类别构造[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")在dtype强制转换后引发`ValueError`（[GH 22702](https://github.com/pandas-dev/pandas/issues/22702)）
- en: Bug in `Categorical.take()` with a user-provided `fill_value` not encoding the
    `fill_value`, which could result in a `ValueError`, incorrect results, or a segmentation
    fault ([GH 23296](https://github.com/pandas-dev/pandas/issues/23296)).
  id: totrans-460
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.take()`中的错误，当用户提供`fill_value`时未对`fill_value`进行编码，可能导致`ValueError`、不正确的结果或分段错误（[GH
    23296](https://github.com/pandas-dev/pandas/issues/23296)）'
- en: In [`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack"), specifying a `fill_value` not present in the categories
    now raises a `TypeError` rather than ignoring the `fill_value` ([GH 23284](https://github.com/pandas-dev/pandas/issues/23284))
  id: totrans-461
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack")中，指定一个在类别中不存在的`fill_value`现在会引发`TypeError`，而不是忽略`fill_value`（[GH
    23284](https://github.com/pandas-dev/pandas/issues/23284)）
- en: Bug when resampling [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") and aggregating on categorical data, the categorical
    dtype was getting lost. ([GH 23227](https://github.com/pandas-dev/pandas/issues/23227))
  id: totrans-462
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在分类数据上重新采样[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample")并对其进行聚合时，分类dtype会丢失。([GH 23227](https://github.com/pandas-dev/pandas/issues/23227))
- en: Bug in many methods of the `.str`-accessor, which always failed on calling the
    `CategoricalIndex.str` constructor ([GH 23555](https://github.com/pandas-dev/pandas/issues/23555),
    [GH 23556](https://github.com/pandas-dev/pandas/issues/23556))
  id: totrans-463
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多个`.str`访问器方法中存在的错误，在调用`CategoricalIndex.str`构造函数时总是失败（[GH 23555](https://github.com/pandas-dev/pandas/issues/23555)，[GH
    23556](https://github.com/pandas-dev/pandas/issues/23556)）
- en: Bug in [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") losing the categorical dtype for categorical data ([GH
    24077](https://github.com/pandas-dev/pandas/issues/24077))
  id: totrans-464
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where")中的错误，对于分类数据丢失了分类dtype（[GH 24077](https://github.com/pandas-dev/pandas/issues/24077)）'
- en: Bug in `Categorical.apply()` where `NaN` values could be handled unpredictably.
    They now remain unchanged ([GH 24241](https://github.com/pandas-dev/pandas/issues/24241))
  id: totrans-465
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.apply()`中的错误，`NaN`值可能会被不可预测地处理。现在它们保持不变（[GH 24241](https://github.com/pandas-dev/pandas/issues/24241)）'
- en: Bug in [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") comparison methods incorrectly raising `ValueError` when
    operating against a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 24630](https://github.com/pandas-dev/pandas/issues/24630))
  id: totrans-466
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")比较方法中的错误导致在与[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")进行操作时错误地引发`ValueError`（[GH 24630](https://github.com/pandas-dev/pandas/issues/24630)）'
- en: Bug in `Categorical.set_categories()` where setting fewer new categories with
    `rename=True` caused a segmentation fault ([GH 24675](https://github.com/pandas-dev/pandas/issues/24675))
  id: totrans-467
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Categorical.set_categories()`中存在错误���使用`rename=True`设置较少的新类别导致分段错误（[GH 24675](https://github.com/pandas-dev/pandas/issues/24675))
- en: Datetimelike
  id: totrans-468
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 日期时间类
- en: Fixed bug where two `DateOffset` objects with different `normalize` attributes
    could evaluate as equal ([GH 21404](https://github.com/pandas-dev/pandas/issues/21404))
  id: totrans-469
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了两个具有不同`normalize`属性的`DateOffset`对象可能被评估为相等的错误（[GH 21404](https://github.com/pandas-dev/pandas/issues/21404)）
- en: Fixed bug where [`Timestamp.resolution()`](../reference/api/pandas.Timestamp.resolution.html#pandas.Timestamp.resolution
    "pandas.Timestamp.resolution") incorrectly returned 1-microsecond `timedelta`
    instead of 1-nanosecond [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") ([GH 21336](https://github.com/pandas-dev/pandas/issues/21336),
    [GH 21365](https://github.com/pandas-dev/pandas/issues/21365))
  id: totrans-470
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`Timestamp.resolution()`](../reference/api/pandas.Timestamp.resolution.html#pandas.Timestamp.resolution
    "pandas.Timestamp.resolution")错误地返回1微秒`timedelta`而不是1纳秒[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")的错误（[GH 21336](https://github.com/pandas-dev/pandas/issues/21336)，[GH
    21365](https://github.com/pandas-dev/pandas/issues/21365)）
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") that did not consistently return an [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") when `box=True` was specified ([GH 21864](https://github.com/pandas-dev/pandas/issues/21864))
  id: totrans-471
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`to_datetime()`中存在错误，当指定`box=True`时未始终返回[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")（[GH 21864](https://github.com/pandas-dev/pandas/issues/21864)）
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") comparisons where string comparisons incorrectly raises
    `TypeError` ([GH 22074](https://github.com/pandas-dev/pandas/issues/22074))
  id: totrans-472
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")比较中，字符串比较错误地引发`TypeError`（[GH 22074](https://github.com/pandas-dev/pandas/issues/22074)）
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") comparisons when comparing against `timedelta64[ns]` dtyped
    arrays; in some cases `TypeError` was incorrectly raised, in others it incorrectly
    failed to raise ([GH 22074](https://github.com/pandas-dev/pandas/issues/22074))
  id: totrans-473
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在与`timedelta64[ns]`数据类型数组进行比较时，[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")比较存在错误；在某些情况下错误地引发`TypeError`，在其他情况下错误地未引发异常（[GH 22074](https://github.com/pandas-dev/pandas/issues/22074)）
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") comparisons when comparing against object-dtyped arrays
    ([GH 22074](https://github.com/pandas-dev/pandas/issues/22074))
  id: totrans-474
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在与对象数据类型数组进行比较时，[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")比较存在错误（[GH 22074](https://github.com/pandas-dev/pandas/issues/22074)）
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` dtype addition and subtraction with
    `Timedelta`-like objects ([GH 22005](https://github.com/pandas-dev/pandas/issues/22005),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-475
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有`datetime64[ns]`数据类型的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")中，使用`Timedelta`类似对象进行加减运算时存在错误（[GH 22005](https://github.com/pandas-dev/pandas/issues/22005)，[GH
    22163](https://github.com/pandas-dev/pandas/issues/22163)）
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` dtype addition and subtraction with
    `DateOffset` objects returning an `object` dtype instead of `datetime64[ns]` dtype
    ([GH 21610](https://github.com/pandas-dev/pandas/issues/21610), [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-476
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有`datetime64[ns]`数据类型的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")中，使用`DateOffset`对象进行加减运算时返回`object`数据类型而不是`datetime64[ns]`数据类型的错误（[GH
    21610](https://github.com/pandas-dev/pandas/issues/21610)，[GH 22163](https://github.com/pandas-dev/pandas/issues/22163)）
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` dtype comparing against `NaT` incorrectly
    ([GH 22242](https://github.com/pandas-dev/pandas/issues/22242), [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-477
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有 `datetime64[ns]` dtype 的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 与 `NaT` 的比较存在错误 ([GH 22242](https://github.com/pandas-dev/pandas/issues/22242),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` dtype subtracting `Timestamp`-like object
    incorrectly returned `datetime64[ns]` dtype instead of `timedelta64[ns]` dtype
    ([GH 8554](https://github.com/pandas-dev/pandas/issues/8554), [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-478
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有 `datetime64[ns]` dtype 的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 减去 `Timestamp`-like 对象时，不正确地返回 `datetime64[ns]` dtype 而不是
    `timedelta64[ns]` dtype ([GH 8554](https://github.com/pandas-dev/pandas/issues/8554),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` dtype subtracting `np.datetime64` object
    with non-nanosecond unit failing to convert to nanoseconds ([GH 18874](https://github.com/pandas-dev/pandas/issues/18874),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-479
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有 `datetime64[ns]` dtype 的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 减去具有非纳秒单位的 `np.datetime64` 对象时，未能将单位转换为纳秒 ([GH 18874](https://github.com/pandas-dev/pandas/issues/18874),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") comparisons against `Timestamp`-like objects failing to raise
    `TypeError` for inequality checks with mismatched types ([GH 8932](https://github.com/pandas-dev/pandas/issues/8932),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-480
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于混合类型的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 与 `Timestamp` 类似对象的比较，不等式检查中类型不匹配时未能引发 `TypeError` 的错误 ([GH
    8932](https://github.com/pandas-dev/pandas/issues/8932), [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with mixed dtypes including `datetime64[ns]` incorrectly raising
    `TypeError` on equality comparisons ([GH 13128](https://github.com/pandas-dev/pandas/issues/13128),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-481
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有包括 `datetime64[ns]` 的混合 dtypes 的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 不正确地在相等比较时引发 `TypeError` ([GH 13128](https://github.com/pandas-dev/pandas/issues/13128),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
- en: Bug in [`DataFrame.values`](../reference/api/pandas.DataFrame.values.html#pandas.DataFrame.values
    "pandas.DataFrame.values") returning a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") for a single-column `DataFrame` with tz-aware datetime
    values. Now a 2-D [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)") of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") objects is returned ([GH 24024](https://github.com/pandas-dev/pandas/issues/24024))
  id: totrans-482
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.values`](../reference/api/pandas.DataFrame.values.html#pandas.DataFrame.values
    "pandas.DataFrame.values") 存在一个错误，当单列 `DataFrame` 包含带有时区信息的日期时间值时，会返回一个 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")。现在返回一个由 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 对象组成的二维 [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(在 NumPy v1.26 中)") ([GH 24024](https://github.com/pandas-dev/pandas/issues/24024))'
- en: Bug in [`DataFrame.eq()`](../reference/api/pandas.DataFrame.eq.html#pandas.DataFrame.eq
    "pandas.DataFrame.eq") comparison against `NaT` incorrectly returning `True` or
    `NaN` ([GH 15697](https://github.com/pandas-dev/pandas/issues/15697), [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-483
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.eq()`](../reference/api/pandas.DataFrame.eq.html#pandas.DataFrame.eq
    "pandas.DataFrame.eq") 对 `NaT` 的比较存在错误，不正确地返回 `True` 或 `NaN` ([GH 15697](https://github.com/pandas-dev/pandas/issues/15697),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") subtraction that incorrectly failed to raise `OverflowError`
    ([GH 22492](https://github.com/pandas-dev/pandas/issues/22492), [GH 22508](https://github.com/pandas-dev/pandas/issues/22508))
  id: totrans-484
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 减法存在错误，未能正确引发 `OverflowError` ([GH 22492](https://github.com/pandas-dev/pandas/issues/22492),
    [GH 22508](https://github.com/pandas-dev/pandas/issues/22508))'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") incorrectly allowing indexing with `Timedelta` object
    ([GH 20464](https://github.com/pandas-dev/pandas/issues/20464))
  id: totrans-485
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 中存在 Bug，错误地允许使用 `Timedelta` 对象进行索引（[GH 20464](https://github.com/pandas-dev/pandas/issues/20464))
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where frequency was being set if original frequency was
    `None` ([GH 22150](https://github.com/pandas-dev/pandas/issues/22150))
  id: totrans-486
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 中存在 Bug，如果原始频率为 `None`，则频率会被设置（[GH 22150](https://github.com/pandas-dev/pandas/issues/22150))
- en: Bug in rounding methods of [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([`round()`](../reference/api/pandas.DatetimeIndex.round.html#pandas.DatetimeIndex.round
    "pandas.DatetimeIndex.round"), [`ceil()`](../reference/api/pandas.DatetimeIndex.ceil.html#pandas.DatetimeIndex.ceil
    "pandas.DatetimeIndex.ceil"), [`floor()`](../reference/api/pandas.DatetimeIndex.floor.html#pandas.DatetimeIndex.floor
    "pandas.DatetimeIndex.floor")) and [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") ([`round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round"), [`ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil"), [`floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor")) could give rise to loss of precision ([GH 22591](https://github.com/pandas-dev/pandas/issues/22591))
  id: totrans-487
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 的四舍五入方法中存在 Bug（[`round()`](../reference/api/pandas.DatetimeIndex.round.html#pandas.DatetimeIndex.round
    "pandas.DatetimeIndex.round")、[`ceil()`](../reference/api/pandas.DatetimeIndex.ceil.html#pandas.DatetimeIndex.ceil
    "pandas.DatetimeIndex.ceil")、[`floor()`](../reference/api/pandas.DatetimeIndex.floor.html#pandas.DatetimeIndex.floor
    "pandas.DatetimeIndex.floor")）以及 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 的四舍五入方法中存在 Bug（[`round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round")、[`ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil")、[`floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor")），可能会导致精度损失（[GH 22591](https://github.com/pandas-dev/pandas/issues/22591))
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") with an [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") argument that would drop the `name` from the result ([GH 21697](https://github.com/pandas-dev/pandas/issues/21697))
  id: totrans-488
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 中存在 Bug，使用 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 参数时会丢弃结果中的 `name`（[GH 21697](https://github.com/pandas-dev/pandas/issues/21697))
- en: Bug in [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") where adding or subtracting a `timedelta` or `Tick` object
    produced incorrect results ([GH 22988](https://github.com/pandas-dev/pandas/issues/22988))
  id: totrans-489
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 中存在 Bug，添加或减去 `timedelta` 或 `Tick` 对象会产生不正确的结果（[GH 22988](https://github.com/pandas-dev/pandas/issues/22988))
- en: Bug in the [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    repr with period-dtype data missing a space before the data ([GH 23601](https://github.com/pandas-dev/pandas/issues/23601))
  id: totrans-490
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有周期数据的[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    repr中存在 Bug，数据前缺少空格（[GH 23601](https://github.com/pandas-dev/pandas/issues/23601))
- en: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") when decrementing a start date to a past end date by a negative
    frequency ([GH 23270](https://github.com/pandas-dev/pandas/issues/23270))
  id: totrans-491
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") 中存在 Bug，通过负频率将开始日期减到过去的结束日期时（[GH 23270](https://github.com/pandas-dev/pandas/issues/23270))
- en: Bug in [`Series.min()`](../reference/api/pandas.Series.min.html#pandas.Series.min
    "pandas.Series.min") which would return `NaN` instead of `NaT` when called on
    a series of `NaT` ([GH 23282](https://github.com/pandas-dev/pandas/issues/23282))
  id: totrans-492
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Series.min()`](../reference/api/pandas.Series.min.html#pandas.Series.min
    "pandas.Series.min") 中存在 Bug，当在 `NaT` 的 series 上调用时会返回 `NaN` 而不是 `NaT`（[GH 23282](https://github.com/pandas-dev/pandas/issues/23282))
- en: Bug in [`Series.combine_first()`](../reference/api/pandas.Series.combine_first.html#pandas.Series.combine_first
    "pandas.Series.combine_first") not properly aligning categoricals, so that missing
    values in `self` where not filled by valid values from `other` ([GH 24147](https://github.com/pandas-dev/pandas/issues/24147))
  id: totrans-493
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Series.combine_first()`](../reference/api/pandas.Series.combine_first.html#pandas.Series.combine_first
    "pandas.Series.combine_first")，未正确对齐分类值，导致`self`中的缺失值未被`other`中的有效值填充（[GH 24147](https://github.com/pandas-dev/pandas/issues/24147)）
- en: Bug in [`DataFrame.combine()`](../reference/api/pandas.DataFrame.combine.html#pandas.DataFrame.combine
    "pandas.DataFrame.combine") with datetimelike values raising a TypeError ([GH
    23079](https://github.com/pandas-dev/pandas/issues/23079))
  id: totrans-494
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.combine()`](../reference/api/pandas.DataFrame.combine.html#pandas.DataFrame.combine
    "pandas.DataFrame")，具有datetimelike值时引发TypeError错误（[GH 23079](https://github.com/pandas-dev/pandas/issues/23079)）
- en: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") with frequency of `Day` or higher where dates sufficiently
    far in the future could wrap around to the past instead of raising `OutOfBoundsDatetime`
    ([GH 14187](https://github.com/pandas-dev/pandas/issues/14187))
  id: totrans-495
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range")，当频率为`Day`或更高时，未来足够远的日期可能会回到过去，而不是引发`OutOfBoundsDatetime`错误（[GH
    14187](https://github.com/pandas-dev/pandas/issues/14187)）
- en: Bug in [`period_range()`](../reference/api/pandas.period_range.html#pandas.period_range
    "pandas.period_range") ignoring the frequency of `start` and `end` when those
    are provided as [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    objects ([GH 20535](https://github.com/pandas-dev/pandas/issues/20535)).
  id: totrans-496
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`period_range()`](../reference/api/pandas.period_range.html#pandas.period_range
    "pandas.period_range")，当提供`start`和`end`作为[`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period")对象时，忽略了频率（[GH 20535](https://github.com/pandas-dev/pandas/issues/20535)）
- en: Bug in [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") with attribute `freq.n` greater than 1 where adding a `DateOffset`
    object would return incorrect results ([GH 23215](https://github.com/pandas-dev/pandas/issues/23215))
  id: totrans-497
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")，当属性`freq.n`大于1时，添加`DateOffset`对象会返回不正确的结果（[GH 23215](https://github.com/pandas-dev/pandas/issues/23215)）
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    that interpreted string indices as lists of characters when setting datetimelike
    values ([GH 23451](https://github.com/pandas-dev/pandas/issues/23451))
  id: totrans-498
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")，在设置datetimelike值时，将字符串索引解释为字符列表（[GH
    23451](https://github.com/pandas-dev/pandas/issues/23451)）
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") when creating a new column from an ndarray of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") objects with timezones creating an object-dtype column, rather
    than datetime with timezone ([GH 23932](https://github.com/pandas-dev/pandas/issues/23932))
  id: totrans-499
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")，当从带有时区的[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")对象的ndarray创建新列时，会创建一个对象dtype列，而不是带有时区的datetime列（[GH 23932](https://github.com/pandas-dev/pandas/issues/23932)）
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") constructor which would drop the frequency of an input [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") ([GH 22311](https://github.com/pandas-dev/pandas/issues/22311))
  id: totrans-500
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")构造函数，会丢弃输入[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")的频率（[GH 22311](https://github.com/pandas-dev/pandas/issues/22311))
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where calling `np.array(dtindex, dtype=object)` would
    incorrectly return an array of `long` objects ([GH 23524](https://github.com/pandas-dev/pandas/issues/23524))
  id: totrans-501
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")，调用`np.array(dtindex, dtype=object)`会错误地返回一个`long`对象数组（[GH
    23524](https://github.com/pandas-dev/pandas/issues/23524)）
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    where passing a timezone-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and `dtype=object` would incorrectly raise a `ValueError`
    ([GH 23524](https://github.com/pandas-dev/pandas/issues/23524))
  id: totrans-502
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")中的错误，当传递一个带有时区信息的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和`dtype=object`时，会不正确地引发`ValueError`（[GH 23524](https://github.com/pandas-dev/pandas/issues/23524)）'
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    where calling `np.array(dtindex, dtype=object)` on a timezone-naive [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") would return an array of `datetime` objects instead of
    [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    objects, potentially losing nanosecond portions of the timestamps ([GH 23524](https://github.com/pandas-dev/pandas/issues/23524))
  id: totrans-503
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")中的错误，对于时区无关的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")调用`np.array(dtindex, dtype=object)`会返回`datetime`对象的���组而不是[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")对象，可能会丢失时间戳的纳秒部分（[GH 23524](https://github.com/pandas-dev/pandas/issues/23524)）'
- en: Bug in `Categorical.__setitem__` not allowing setting with another `Categorical`
    when both are unordered and have the same categories, but in a different order
    ([GH 24142](https://github.com/pandas-dev/pandas/issues/24142))
  id: totrans-504
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.__setitem__`中的错误，当两者都是无序的并且具有相同类别但顺序不同的`Categorical`时，不允许使用另一个`Categorical`进行设置（[GH
    24142](https://github.com/pandas-dev/pandas/issues/24142)）'
- en: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") where using dates with millisecond resolution or higher could
    return incorrect values or the wrong number of values in the index ([GH 24110](https://github.com/pandas-dev/pandas/issues/24110))
  id: totrans-505
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range")中的错误，使用毫秒分辨率或更高分辨率的日期可能会返回不正确的值或索引中的值数量不正确（[GH 24110](https://github.com/pandas-dev/pandas/issues/24110)）'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where constructing a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") from a [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") or [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") would incorrectly drop timezone information ([GH 18664](https://github.com/pandas-dev/pandas/issues/18664))
  id: totrans-506
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")中的错误，从[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")或[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")构造[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")会不正确地丢弃时区信息（[GH 18664](https://github.com/pandas-dev/pandas/issues/18664)）'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where indexing with `Ellipsis` would incorrectly lose
    the index’s `freq` attribute ([GH 21282](https://github.com/pandas-dev/pandas/issues/21282))
  id: totrans-507
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中的错误，使用`Ellipsis`进行索引会不正确地丢失索引的`freq`属性（[GH 21282](https://github.com/pandas-dev/pandas/issues/21282)）'
- en: Clarified error message produced when passing an incorrect `freq` argument to
    [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with `NaT` as the first entry in the passed data ([GH
    11587](https://github.com/pandas-dev/pandas/issues/11587))
  id: totrans-508
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当向[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")传递一个不正确的`freq`参数，并且传递数据的第一个条目为`NaT`时，澄清了产生的错误消息（[GH 11587](https://github.com/pandas-dev/pandas/issues/11587)）
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where `box` and `utc` arguments were ignored when passing
    a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    or `dict` of unit mappings ([GH 23760](https://github.com/pandas-dev/pandas/issues/23760))
  id: totrans-509
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中的错误，当传递一个[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")或单位映射的`dict`时，会忽略`box`和`utc`参数（[GH 23760](https://github.com/pandas-dev/pandas/issues/23760)）'
- en: Bug in [`Series.dt`](../reference/api/pandas.Series.dt.html#pandas.Series.dt
    "pandas.Series.dt") where the cache would not update properly after an in-place
    operation ([GH 24408](https://github.com/pandas-dev/pandas/issues/24408))
  id: totrans-510
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在 [`Series.dt`](../reference/api/pandas.Series.dt.html#pandas.Series.dt
    "pandas.Series.dt") 函数中，进行原地操作后，缓存未能正确更新（[GH 24408](https://github.com/pandas-dev/pandas/issues/24408)）
- en: Bug in [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") where comparisons against an array-like object with length
    1 failed to raise `ValueError` ([GH 23078](https://github.com/pandas-dev/pandas/issues/23078))
  id: totrans-511
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 中，与长度为 1 的类数组对象进行比较时未能引发 `ValueError`（[GH 23078](https://github.com/pandas-dev/pandas/issues/23078))
- en: Bug in `DatetimeIndex.astype()`, `PeriodIndex.astype()` and `TimedeltaIndex.astype()`
    ignoring the sign of the `dtype` for unsigned integer dtypes ([GH 24405](https://github.com/pandas-dev/pandas/issues/24405)).
  id: totrans-512
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在 `DatetimeIndex.astype()`、`PeriodIndex.astype()` 和 `TimedeltaIndex.astype()`
    函数中，对于无符号整数数据类型，忽略了 `dtype` 的符号，导致错误（[GH 24405](https://github.com/pandas-dev/pandas/issues/24405)）
- en: Fixed bug in [`Series.max()`](../reference/api/pandas.Series.max.html#pandas.Series.max
    "pandas.Series.max") with `datetime64[ns]`-dtype failing to return `NaT` when
    nulls are present and `skipna=False` is passed ([GH 24265](https://github.com/pandas-dev/pandas/issues/24265))
  id: totrans-513
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`Series.max()`](../reference/api/pandas.Series.max.html#pandas.Series.max
    "pandas.Series.max") 函数中的 bug，当存在空值且传入 `skipna=False` 时，`datetime64[ns]` 数据类型未能返回
    `NaT`（[GH 24265](https://github.com/pandas-dev/pandas/issues/24265)）
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where arrays of `datetime` objects containing both timezone-aware
    and timezone-naive `datetimes` would fail to raise `ValueError` ([GH 24569](https://github.com/pandas-dev/pandas/issues/24569))
  id: totrans-514
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 函数中，包含既有时区感知又有时区无关的 `datetime` 对象数组的情况下，会失败地引发 `ValueError`（[GH
    24569](https://github.com/pandas-dev/pandas/issues/24569)）
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") with invalid datetime format doesn’t coerce input to `NaT`
    even if `errors='coerce'` ([GH 24763](https://github.com/pandas-dev/pandas/issues/24763))
  id: totrans-515
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 函数中，当传入无效的日期时间格式时，即使设置 `errors='coerce'` 也不会将输入强制转换为 `NaT`（[GH
    24763](https://github.com/pandas-dev/pandas/issues/24763)）
- en: Timedelta
  id: totrans-516
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时间差
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `timedelta64[ns]` dtype division by `Timedelta`-like
    scalar incorrectly returning `timedelta64[ns]` dtype instead of `float64` dtype
    ([GH 20088](https://github.com/pandas-dev/pandas/issues/20088), [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-517
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在具有 `timedelta64[ns]` 数据类型的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 中，通过 `Timedelta` 类型的标量进行除法运算时，错误地返回 `timedelta64[ns]` 数据类型而不是
    `float64` 数据类型（[GH 20088](https://github.com/pandas-dev/pandas/issues/20088),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163)）
- en: Bug in adding a [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    with object dtype to a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `timedelta64[ns]` dtype incorrectly raising ([GH 22390](https://github.com/pandas-dev/pandas/issues/22390))
  id: totrans-518
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在将具有对象数据类型的 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    添加到具有 `timedelta64[ns]` 数据类型的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 时，错误地引发异常（[GH 22390](https://github.com/pandas-dev/pandas/issues/22390)）
- en: Bug in multiplying a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with numeric dtype against a `timedelta` object ([GH 22390](https://github.com/pandas-dev/pandas/issues/22390))
  id: totrans-519
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在将具有数值数据类型的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 与 `timedelta` 对象相乘时出现错误（[GH 22390](https://github.com/pandas-dev/pandas/issues/22390)）
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    with numeric dtype when adding or subtracting an array or `Series` with `timedelta64`
    dtype ([GH 22390](https://github.com/pandas-dev/pandas/issues/22390))
  id: totrans-520
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在具有数值数据类型的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 中，当与具有 `timedelta64` 数据类型的数组或 `Series` 相加或相减时，会出现错误（[GH 22390](https://github.com/pandas-dev/pandas/issues/22390)）
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    with numeric dtype when multiplying or dividing an array with dtype `timedelta64`
    ([GH 22390](https://github.com/pandas-dev/pandas/issues/22390))
  id: totrans-521
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在具有数值数据类型的 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    中，当与具有 `timedelta64` 数据类型的数组相乘或相除时出现错误（[GH 22390](https://github.com/pandas-dev/pandas/issues/22390)）
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") incorrectly allowing indexing with `Timestamp` object
    ([GH 20464](https://github.com/pandas-dev/pandas/issues/20464))
  id: totrans-522
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中的错误，错误地允许使用`Timestamp`对象进行索引（[GH 20464](https://github.com/pandas-dev/pandas/issues/20464))'
- en: Fixed bug where subtracting [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") from an object-dtyped array would raise `TypeError` ([GH 21980](https://github.com/pandas-dev/pandas/issues/21980))
  id: totrans-523
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了从对象数据类型数组中减去[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")会引发`TypeError`的错误（[GH 21980](https://github.com/pandas-dev/pandas/issues/21980))
- en: Fixed bug in adding a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with all-timedelta64[ns] dtypes to a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with all-integer dtypes returning incorrect results instead
    of raising `TypeError` ([GH 22696](https://github.com/pandas-dev/pandas/issues/22696))
  id: totrans-524
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了向具有所有整数数据类型的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")中添加具有全部时间增量64[ns]数据类型的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")时返回不正确结果的错误，而不是引发`TypeError`（[GH 22696](https://github.com/pandas-dev/pandas/issues/22696))
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where adding a timezone-aware datetime scalar incorrectly
    returned a timezone-naive [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 23215](https://github.com/pandas-dev/pandas/issues/23215))
  id: totrans-525
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中的错误，在添加时区感知的日期时间标量时，错误地返回了一个时区无关的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")（[GH 23215](https://github.com/pandas-dev/pandas/issues/23215))'
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where adding `np.timedelta64('NaT')` incorrectly returned
    an all-`NaT` [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") instead of an all-`NaT` [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") ([GH 23215](https://github.com/pandas-dev/pandas/issues/23215))
  id: totrans-526
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中的错误，在添加`np.timedelta64(''NaT'')`时，错误地返回了全部为`NaT`的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")而不是全部为`NaT`的[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")（[GH 23215](https://github.com/pandas-dev/pandas/issues/23215))'
- en: Bug in [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") and [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") have inconsistencies in supported unit string ([GH 21762](https://github.com/pandas-dev/pandas/issues/21762))
  id: totrans-527
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta "pandas.Timedelta")和[`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta")中的错误在支持的单位字符串上存在不一致性（[GH 21762](https://github.com/pandas-dev/pandas/issues/21762))'
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") division where dividing by another [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") raised `TypeError` instead of returning a `Float64Index`
    ([GH 23829](https://github.com/pandas-dev/pandas/issues/23829), [GH 22631](https://github.com/pandas-dev/pandas/issues/22631))
  id: totrans-528
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中的错误，在除以另一个[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")时，引发`TypeError`而不是返回一个`Float64Index`（[GH 23829](https://github.com/pandas-dev/pandas/issues/23829),
    [GH 22631](https://github.com/pandas-dev/pandas/issues/22631))'
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") comparison operations where comparing against non-`Timedelta`-like
    objects would raise `TypeError` instead of returning all-`False` for `__eq__`
    and all-`True` for `__ne__` ([GH 24056](https://github.com/pandas-dev/pandas/issues/24056))
  id: totrans-529
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中的错误，在与非`Timedelta`类对象进行比较操作时，会引发`TypeError`而不是返回`__eq__`时全部为`False`和`__ne__`时全部为`True`（[GH
    24056](https://github.com/pandas-dev/pandas/issues/24056))'
- en: Bug in [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") comparisons when comparing with a `Tick` object incorrectly
    raising `TypeError` ([GH 24710](https://github.com/pandas-dev/pandas/issues/24710))
  id: totrans-530
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在与`Tick`对象比较时，[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")比较出现错误，错误地引发`TypeError`（[GH 24710](https://github.com/pandas-dev/pandas/issues/24710)）
- en: Timezones
  id: totrans-531
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时区
- en: Bug in [`Index.shift()`](../reference/api/pandas.Index.shift.html#pandas.Index.shift
    "pandas.Index.shift") where an `AssertionError` would raise when shifting across
    DST ([GH 8616](https://github.com/pandas-dev/pandas/issues/8616))
  id: totrans-532
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.shift()`](../reference/api/pandas.Index.shift.html#pandas.Index.shift
    "pandas.Index.shift")中的一个错误，当跨越夏令时时会引发`AssertionError`（[GH 8616](https://github.com/pandas-dev/pandas/issues/8616)）'
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") constructor where passing an invalid timezone offset designator
    (`Z`) would not raise a `ValueError` ([GH 8910](https://github.com/pandas-dev/pandas/issues/8910))
  id: totrans-533
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")构造函数中，传递无效的时区偏移标识符（`Z`）不会引发`ValueError`（[GH
    8910](https://github.com/pandas-dev/pandas/issues/8910)）
- en: Bug in [`Timestamp.replace()`](../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace
    "pandas.Timestamp.replace") where replacing at a DST boundary would retain an
    incorrect offset ([GH 7825](https://github.com/pandas-dev/pandas/issues/7825))
  id: totrans-534
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在替换夏令时边界时，[`Timestamp.replace()`](../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace
    "pandas.Timestamp.replace")会保留不正确的偏移量（[GH 7825](https://github.com/pandas-dev/pandas/issues/7825)）
- en: Bug in [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") with `datetime64[ns, tz]` data when replacing `NaT` ([GH
    11792](https://github.com/pandas-dev/pandas/issues/11792))
  id: totrans-535
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在替换`NaT`时，使用`datetime64[ns, tz]`数据的[`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace")中的一个错误（[GH 11792](https://github.com/pandas-dev/pandas/issues/11792))
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") when passing different string date formats with a timezone
    offset would produce different timezone offsets ([GH 12064](https://github.com/pandas-dev/pandas/issues/12064))
  id: totrans-536
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在传递不同的字符串日期格式和时区偏移时，[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")中的一个错误会产生不同的时区偏移（[GH 12064](https://github.com/pandas-dev/pandas/issues/12064)）
- en: Bug when comparing a tz-naive [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") to a tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") which would coerce the [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") to tz-naive ([GH 12601](https://github.com/pandas-dev/pandas/issues/12601))
  id: totrans-537
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当比较不带时区的[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")和带时区的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")时，会将[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")强制转换为不带时区的（[GH 12601](https://github.com/pandas-dev/pandas/issues/12601)）
- en: Bug in [`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate") with a tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") which would cause a core dump ([GH 9243](https://github.com/pandas-dev/pandas/issues/9243))
  id: totrans-538
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在带时区的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")上使用[`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate")会导致核心转储（[GH 9243](https://github.com/pandas-dev/pandas/issues/9243)）
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    constructor which would coerce tz-aware and tz-naive [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") to tz-aware ([GH 13051](https://github.com/pandas-dev/pandas/issues/13051))
  id: totrans-539
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")构造函数中的一个错误，会将带时区和不带时区的[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")强制转换为带时区的（[GH 13051](https://github.com/pandas-dev/pandas/issues/13051)）'
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    with `datetime64[ns, tz]` dtype that did not localize integer data correctly ([GH
    20964](https://github.com/pandas-dev/pandas/issues/20964))
  id: totrans-540
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")中的一个错误，`datetime64[ns,
    tz]`数据类型未正确本地化整数数据（[GH 20964](https://github.com/pandas-dev/pandas/issues/20964)）'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where constructing with an integer and tz would not localize
    correctly ([GH 12619](https://github.com/pandas-dev/pandas/issues/12619))
  id: totrans-541
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用整数和时区构建时，[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")存在错误，无法正确本地化（[GH 12619](https://github.com/pandas-dev/pandas/issues/12619)）
- en: Fixed bug where [`DataFrame.describe()`](../reference/api/pandas.DataFrame.describe.html#pandas.DataFrame.describe
    "pandas.DataFrame.describe") and [`Series.describe()`](../reference/api/pandas.Series.describe.html#pandas.Series.describe
    "pandas.Series.describe") on tz-aware datetimes did not show `first` and `last`
    result ([GH 21328](https://github.com/pandas-dev/pandas/issues/21328))
  id: totrans-542
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在时区感知日期上使用 [`DataFrame.describe()`](../reference/api/pandas.DataFrame.describe.html#pandas.DataFrame.describe
    "pandas.DataFrame.describe") 和 [`Series.describe()`](../reference/api/pandas.Series.describe.html#pandas.Series.describe
    "pandas.Series.describe") 时未显示 `first` 和 `last` 结果的错误（[GH 21328](https://github.com/pandas-dev/pandas/issues/21328)）
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") comparisons failing to raise `TypeError` when comparing
    timezone-aware `DatetimeIndex` against `np.datetime64` ([GH 22074](https://github.com/pandas-dev/pandas/issues/22074))
  id: totrans-543
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在比较时区感知的 `DatetimeIndex` 和 `np.datetime64` 时，[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 比较未能引发 `TypeError` 错误（[GH 22074](https://github.com/pandas-dev/pandas/issues/22074)）
- en: Bug in `DataFrame` assignment with a timezone-aware scalar ([GH 19843](https://github.com/pandas-dev/pandas/issues/19843))
  id: totrans-544
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用时区感知标量进行 `DataFrame` 赋值时存在错误（[GH 19843](https://github.com/pandas-dev/pandas/issues/19843)）
- en: Bug in [`DataFrame.asof()`](../reference/api/pandas.DataFrame.asof.html#pandas.DataFrame.asof
    "pandas.DataFrame.asof") that raised a `TypeError` when attempting to compare
    tz-naive and tz-aware timestamps ([GH 21194](https://github.com/pandas-dev/pandas/issues/21194))
  id: totrans-545
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在尝试比较时区感知和非时区感知时间戳时，[`DataFrame.asof()`](../reference/api/pandas.DataFrame.asof.html#pandas.DataFrame.asof
    "pandas.DataFrame.asof") 存在引发 `TypeError` 的错误（[GH 21194](https://github.com/pandas-dev/pandas/issues/21194)）
- en: Bug when constructing a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") constructed with the `replace` method across DST ([GH 18785](https://github.com/pandas-dev/pandas/issues/18785))
  id: totrans-546
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在跨 DST 构建时，使用 `replace` 方法构建的 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 时存在 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 构建错误（[GH 18785](https://github.com/pandas-dev/pandas/issues/18785)）
- en: Bug when setting a new value with [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") with a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with a DST transition ([GH 18308](https://github.com/pandas-dev/pandas/issues/18308),
    [GH 20724](https://github.com/pandas-dev/pandas/issues/20724))
  id: totrans-547
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用带有 DST 转换的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 进行新值设置时存在错误，使用 [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc")（[GH 18308](https://github.com/pandas-dev/pandas/issues/18308),
    [GH 20724](https://github.com/pandas-dev/pandas/issues/20724)）
- en: Bug in [`Index.unique()`](../reference/api/pandas.Index.unique.html#pandas.Index.unique
    "pandas.Index.unique") that did not re-localize tz-aware dates correctly ([GH
    21737](https://github.com/pandas-dev/pandas/issues/21737))
  id: totrans-548
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.unique()`](../reference/api/pandas.Index.unique.html#pandas.Index.unique
    "pandas.Index.unique") 中存在错误，未能正确重新本地化时区感知日期（[GH 21737](https://github.com/pandas-dev/pandas/issues/21737)）'
- en: Bug when indexing a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with a DST transition ([GH 21846](https://github.com/pandas-dev/pandas/issues/21846))
  id: totrans-549
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在带有 DST 转换的情况下索引 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 时存在错误（[GH 21846](https://github.com/pandas-dev/pandas/issues/21846)）
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") and [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") where an `AmbiguousTimeError` or `NonExistentTimeError`
    would raise if a timezone aware timeseries ended on a DST transition ([GH 19375](https://github.com/pandas-dev/pandas/issues/19375),
    [GH 10117](https://github.com/pandas-dev/pandas/issues/10117))
  id: totrans-550
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在时区感知时间序列以 DST 转换结束时，[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 和 [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") 存在引发 `AmbiguousTimeError` 或 `NonExistentTimeError` 的错误（[GH
    19375](https://github.com/pandas-dev/pandas/issues/19375), [GH 10117](https://github.com/pandas-dev/pandas/issues/10117)）
- en: Bug in [`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop") and [`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop") when specifying a tz-aware Timestamp key to drop from a
    [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with a DST transition ([GH 21761](https://github.com/pandas-dev/pandas/issues/21761))
  id: totrans-551
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop")和[`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop")中的错误，当指定一个带有时区信息的Timestamp键从一个带有DST转换的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")中删除时（[GH 21761](https://github.com/pandas-dev/pandas/issues/21761))
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") constructor where `NaT` and `dateutil.tz.tzlocal` would
    raise an `OutOfBoundsDatetime` error ([GH 23807](https://github.com/pandas-dev/pandas/issues/23807))
  id: totrans-552
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")构造函数中的错误，当`NaT`和`dateutil.tz.tzlocal`会引发`OutOfBoundsDatetime`错误（[GH
    23807](https://github.com/pandas-dev/pandas/issues/23807))'
- en: Bug in [`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize") and [`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize") with `dateutil.tz.tzlocal` near a DST transition
    that would return an incorrectly localized datetime ([GH 23807](https://github.com/pandas-dev/pandas/issues/23807))
  id: totrans-553
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize")和[`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize")中的错误，当在DST转换附近使用`dateutil.tz.tzlocal`会返回一个错误的本地化日期时间（[GH
    23807](https://github.com/pandas-dev/pandas/issues/23807))
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") constructor where a `dateutil.tz.tzutc` timezone passed with
    a `datetime.datetime` argument would be converted to a `pytz.UTC` timezone ([GH
    23807](https://github.com/pandas-dev/pandas/issues/23807))
  id: totrans-554
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")构造函数中的错误，当传递一个带有`datetime.datetime`参数的`dateutil.tz.tzutc`时，会被转换为`pytz.UTC`时区（[GH
    23807](https://github.com/pandas-dev/pandas/issues/23807))'
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where `utc=True` was not respected when specifying a `unit`
    and `errors='ignore'` ([GH 23758](https://github.com/pandas-dev/pandas/issues/23758))
  id: totrans-555
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中的错误，当指定`unit`和`errors='ignore'`时，`utc=True`没有被尊重（[GH 23758](https://github.com/pandas-dev/pandas/issues/23758))
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where `utc=True` was not respected when passing a [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") ([GH 24415](https://github.com/pandas-dev/pandas/issues/24415))
  id: totrans-556
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中的错误，当传递一个[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")时，`utc=True`没有被尊重（[GH 24415](https://github.com/pandas-dev/pandas/issues/24415))
- en: Bug in [`DataFrame.any()`](../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any
    "pandas.DataFrame.any") returns wrong value when `axis=1` and the data is of datetimelike
    type ([GH 23070](https://github.com/pandas-dev/pandas/issues/23070))
  id: totrans-557
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.any()`](../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any
    "pandas.DataFrame.any")中的错误，在`axis=1`且数据为日期时间类型时返回错误的值（[GH 23070](https://github.com/pandas-dev/pandas/issues/23070))'
- en: Bug in [`DatetimeIndex.to_period()`](../reference/api/pandas.DatetimeIndex.to_period.html#pandas.DatetimeIndex.to_period
    "pandas.DatetimeIndex.to_period") where a timezone aware index was converted to
    UTC first before creating [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") ([GH 22905](https://github.com/pandas-dev/pandas/issues/22905))
  id: totrans-558
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DatetimeIndex.to_period()`](../reference/api/pandas.DatetimeIndex.to_period.html#pandas.DatetimeIndex.to_period
    "pandas.DatetimeIndex.to_period")中的错误，当一个带有时区信息的索引首先被转换为UTC，然后再创建[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")时（[GH 22905](https://github.com/pandas-dev/pandas/issues/22905))
- en: Bug in [`DataFrame.tz_localize()`](../reference/api/pandas.DataFrame.tz_localize.html#pandas.DataFrame.tz_localize
    "pandas.DataFrame.tz_localize"), [`DataFrame.tz_convert()`](../reference/api/pandas.DataFrame.tz_convert.html#pandas.DataFrame.tz_convert
    "pandas.DataFrame.tz_convert"), [`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize"), and [`Series.tz_convert()`](../reference/api/pandas.Series.tz_convert.html#pandas.Series.tz_convert
    "pandas.Series.tz_convert") where `copy=False` would mutate the original argument
    inplace ([GH 6326](https://github.com/pandas-dev/pandas/issues/6326))
  id: totrans-559
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.tz_localize()`](../reference/api/pandas.DataFrame.tz_localize.html#pandas.DataFrame.tz_localize
    "pandas.DataFrame.tz_localize")、[`DataFrame.tz_convert()`](../reference/api/pandas.DataFrame.tz_convert.html#pandas.DataFrame.tz_convert
    "pandas.DataFrame.tz_convert")、[`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize")和[`Series.tz_convert()`](../reference/api/pandas.Series.tz_convert.html#pandas.Series.tz_convert
    "pandas.Series.tz_convert")中的一个 bug，`copy=False` 会在原始参数上进行原地修改（[GH 6326](https://github.com/pandas-dev/pandas/issues/6326))
- en: Bug in [`DataFrame.max()`](../reference/api/pandas.DataFrame.max.html#pandas.DataFrame.max
    "pandas.DataFrame.max") and [`DataFrame.min()`](../reference/api/pandas.DataFrame.min.html#pandas.DataFrame.min
    "pandas.DataFrame.min") with `axis=1` where a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `NaN` would be returned when all columns contained the same
    timezone ([GH 10390](https://github.com/pandas-dev/pandas/issues/10390))
  id: totrans-560
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.max()`](../reference/api/pandas.DataFrame.max.html#pandas.DataFrame.max
    "pandas.DataFrame.max")和[`DataFrame.min()`](../reference/api/pandas.DataFrame.min.html#pandas.DataFrame.min
    "pandas.DataFrame.min")中的一个 bug，使用 `axis=1` 时，当所有列都包含相同的时区时，会返回一个带有 `NaN` 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")（[GH 10390](https://github.com/pandas-dev/pandas/issues/10390))
- en: Offsets
  id: totrans-561
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 偏移量
- en: Bug in `FY5253` where date offsets could incorrectly raise an `AssertionError`
    in arithmetic operations ([GH 14774](https://github.com/pandas-dev/pandas/issues/14774))
  id: totrans-562
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `FY5253` 中的一个 bug，日期偏移可能会在算术操作中错误地引发 `AssertionError`（[GH 14774](https://github.com/pandas-dev/pandas/issues/14774))
- en: Bug in `DateOffset` where keyword arguments `week` and `milliseconds` were accepted
    and ignored. Passing these will now raise `ValueError` ([GH 19398](https://github.com/pandas-dev/pandas/issues/19398))
  id: totrans-563
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DateOffset` 中的一个 bug，接受并忽略关键字参数 `week` 和 `milliseconds`。现在传递这些参数将引发 `ValueError`（[GH
    19398](https://github.com/pandas-dev/pandas/issues/19398))
- en: Bug in adding `DateOffset` with [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") incorrectly raising `TypeError` ([GH 23215](https://github.com/pandas-dev/pandas/issues/23215))
  id: totrans-564
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在添加 `DateOffset` 与[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")或[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")时的一个 bug，错误地引发 `TypeError`（[GH 23215](https://github.com/pandas-dev/pandas/issues/23215))
- en: Bug in comparing `DateOffset` objects with non-DateOffset objects, particularly
    strings, raising `ValueError` instead of returning `False` for equality checks
    and `True` for not-equal checks ([GH 23524](https://github.com/pandas-dev/pandas/issues/23524))
  id: totrans-565
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在比较 `DateOffset` 对象与非 `DateOffset` 对象（特别是字符串）时的一个 bug，引发 `ValueError` 而不是在相等检查时返回
    `False`，在不相等检查时返回 `True`（[GH 23524](https://github.com/pandas-dev/pandas/issues/23524))
- en: Numeric
  id: totrans-566
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数值
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    `__rmatmul__` doesn’t support matrix vector multiplication ([GH 21530](https://github.com/pandas-dev/pandas/issues/21530))
  id: totrans-567
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")中的一个
    bug，`__rmatmul__` 不支持矩阵向量乘法（[GH 21530](https://github.com/pandas-dev/pandas/issues/21530))
- en: Bug in [`factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize") fails with read-only array ([GH 12813](https://github.com/pandas-dev/pandas/issues/12813))
  id: totrans-568
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`factorize()`](../reference/api/pandas.factorize.html#pandas.factorize "pandas.factorize")中的一个
    bug，无法处理只读数组（[GH 12813](https://github.com/pandas-dev/pandas/issues/12813))
- en: 'Fixed bug in [`unique()`](../reference/api/pandas.unique.html#pandas.unique
    "pandas.unique") handled signed zeros inconsistently: for some inputs 0.0 and
    -0.0 were treated as equal and for some inputs as different. Now they are treated
    as equal for all inputs ([GH 21866](https://github.com/pandas-dev/pandas/issues/21866))'
  id: totrans-569
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`unique()`](../reference/api/pandas.unique.html#pandas.unique "pandas.unique")中的一个
    bug，处理带符号零不一致：对于某些输入，0.0 和 -0.0 被视为相等，而对于某些输入则被视为不同。现在它们对所有输入都被视为相等（[GH 21866](https://github.com/pandas-dev/pandas/issues/21866))
- en: Bug in [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg"), [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") and [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") where, when supplied with a list of functions and `axis=1`
    (e.g. `df.apply(['sum', 'mean'], axis=1)`), a `TypeError` was wrongly raised.
    For all three methods such calculation are now done correctly. ([GH 16679](https://github.com/pandas-dev/pandas/issues/16679)).
  id: totrans-570
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当提供函数列表和 `axis=1`（例如 `df.apply(['sum', 'mean'], axis=1)`）时，[`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg")、[`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") 和 [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") 中的错误引发了 `TypeError`。对于这三种方法，现在这样的计算已经正确执行。([GH 16679](https://github.com/pandas-dev/pandas/issues/16679))
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    comparison against datetime-like scalars and arrays ([GH 22074](https://github.com/pandas-dev/pandas/issues/22074))
  id: totrans-571
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    与类似日期时间的标量和数组进行比较的错误（[GH 22074](https://github.com/pandas-dev/pandas/issues/22074)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") multiplication between boolean dtype and integer returning
    `object` dtype instead of integer dtype ([GH 22047](https://github.com/pandas-dev/pandas/issues/22047),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-572
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 布尔类型与整数进行乘法运算时，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 返回的是 `object` 类型而不是整数类型 ([GH 22047](https://github.com/pandas-dev/pandas/issues/22047),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
- en: Bug in [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") where, when supplied with a string argument and additional
    positional or keyword arguments (e.g. `df.apply('sum', min_count=1)`), a `TypeError`
    was wrongly raised ([GH 22376](https://github.com/pandas-dev/pandas/issues/22376))
  id: totrans-573
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") 中的错误，当提供字符串参数和额外的位置参数或关键字参数时（例如 `df.apply(''sum'', min_count=1)`），错误地引发了
    `TypeError`（[GH 22376](https://github.com/pandas-dev/pandas/issues/22376)）'
- en: Bug in [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") to extension dtype may raise `AttributeError` ([GH
    22578](https://github.com/pandas-dev/pandas/issues/22578))
  id: totrans-574
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") 中的错误可能会引发 `AttributeError`（[GH 22578](https://github.com/pandas-dev/pandas/issues/22578)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `timedelta64[ns]` dtype arithmetic operations with `ndarray`
    with integer dtype incorrectly treating the narray as `timedelta64[ns]` dtype
    ([GH 23114](https://github.com/pandas-dev/pandas/issues/23114))
  id: totrans-575
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `timedelta64[ns]` 类型的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 进行与整数类型的 `ndarray` 的算术运算时出现的错误，错误地将 narray 错误地视为 `timedelta64[ns]`
    类型 ([GH 23114](https://github.com/pandas-dev/pandas/issues/23114))
- en: Bug in [`Series.rpow()`](../reference/api/pandas.Series.rpow.html#pandas.Series.rpow
    "pandas.Series.rpow") with object dtype `NaN` for `1 ** NA` instead of `1` ([GH
    22922](https://github.com/pandas-dev/pandas/issues/22922)).
  id: totrans-576
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用对象类型的 [`Series.rpow()`](../reference/api/pandas.Series.rpow.html#pandas.Series.rpow
    "pandas.Series.rpow") 进行 `NaN` 的 `1 ** NA` 运算时返回的结果是 `1` 而不是 `NaN` ([GH 22922](https://github.com/pandas-dev/pandas/issues/22922)).
- en: '[`Series.agg()`](../reference/api/pandas.Series.agg.html#pandas.Series.agg
    "pandas.Series.agg") can now handle numpy NaN-aware methods like [`numpy.nansum()`](https://numpy.org/doc/stable/reference/generated/numpy.nansum.html#numpy.nansum
    "(in NumPy v1.26)") ([GH 19629](https://github.com/pandas-dev/pandas/issues/19629))'
  id: totrans-577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.agg()`](../reference/api/pandas.Series.agg.html#pandas.Series.agg
    "pandas.Series.agg") 现在可以处理像 [`numpy.nansum()`](https://numpy.org/doc/stable/reference/generated/numpy.nansum.html#numpy.nansum
    "(在 NumPy v1.26 中)") 这样的 numpy NaN-aware 方法了（[GH 19629](https://github.com/pandas-dev/pandas/issues/19629)）'
- en: Bug in [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") and [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") when `pct=True` and more than 2^(24) rows are present
    resulted in percentages greater than 1.0 ([GH 18271](https://github.com/pandas-dev/pandas/issues/18271))
  id: totrans-578
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `pct=True` 且存在超过 2^(24) 行时，[`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") 和 [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") 中的错误导致百分比大于 1.0（[GH 18271](https://github.com/pandas-dev/pandas/issues/18271)）
- en: Calls such as [`DataFrame.round()`](../reference/api/pandas.DataFrame.round.html#pandas.DataFrame.round
    "pandas.DataFrame.round") with a non-unique [`CategoricalIndex()`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") now return expected data. Previously, data would be
    improperly duplicated ([GH 21809](https://github.com/pandas-dev/pandas/issues/21809)).
  id: totrans-579
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，调用[`DataFrame.round()`](../reference/api/pandas.DataFrame.round.html#pandas.DataFrame.round
    "pandas.DataFrame.round")时，具有非唯一[`CategoricalIndex()`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")现在会返回预期的数据。以前，数据会被错误地复制（[GH 21809](https://github.com/pandas-dev/pandas/issues/21809)）。
- en: Added `log10`, `floor` and `ceil` to the list of supported functions in [`DataFrame.eval()`](../reference/api/pandas.DataFrame.eval.html#pandas.DataFrame.eval
    "pandas.DataFrame.eval") ([GH 24139](https://github.com/pandas-dev/pandas/issues/24139),
    [GH 24353](https://github.com/pandas-dev/pandas/issues/24353))
  id: totrans-580
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.eval()`](../reference/api/pandas.DataFrame.eval.html#pandas.DataFrame.eval
    "pandas.DataFrame.eval")中，将`log10`、`floor`和`ceil`添加到支持的函数列表中（[GH 24139](https://github.com/pandas-dev/pandas/issues/24139)，[GH
    24353](https://github.com/pandas-dev/pandas/issues/24353)）。
- en: Logical operations `&, |, ^` between [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") and [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") will no longer raise `ValueError` ([GH 22092](https://github.com/pandas-dev/pandas/issues/22092))
  id: totrans-581
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 逻辑操作`&, |, ^`在[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")和[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")之间将不再引发`ValueError`（[GH 22092](https://github.com/pandas-dev/pandas/issues/22092)）。
- en: Checking PEP 3141 numbers in [`is_scalar()`](../reference/api/pandas.api.types.is_scalar.html#pandas.api.types.is_scalar
    "pandas.api.types.is_scalar") function returns `True` ([GH 22903](https://github.com/pandas-dev/pandas/issues/22903))
  id: totrans-582
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`is_scalar()`](../reference/api/pandas.api.types.is_scalar.html#pandas.api.types.is_scalar
    "pandas.api.types.is_scalar")函数中检查PEP 3141数字将返回`True`（[GH 22903](https://github.com/pandas-dev/pandas/issues/22903)）。
- en: Reduction methods like [`Series.sum()`](../reference/api/pandas.Series.sum.html#pandas.Series.sum
    "pandas.Series.sum") now accept the default value of `keepdims=False` when called
    from a NumPy ufunc, rather than raising a `TypeError`. Full support for `keepdims`
    has not been implemented ([GH 24356](https://github.com/pandas-dev/pandas/issues/24356)).
  id: totrans-583
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 像[`Series.sum()`](../reference/api/pandas.Series.sum.html#pandas.Series.sum
    "pandas.Series.sum")这样的缩减方法现在在从NumPy ufunc调用时接受`keepdims=False`的默认值，而不是引发`TypeError`。尚未实现对`keepdims`的完全支持（[GH
    24356](https://github.com/pandas-dev/pandas/issues/24356)）。
- en: Conversion
  id: totrans-584
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 转换
- en: Bug in [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") in which column types were unexpectedly converted
    to float ([GH 20699](https://github.com/pandas-dev/pandas/issues/20699))
  id: totrans-585
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first")中存在错误，列类型意外地转换为浮点数（[GH 20699](https://github.com/pandas-dev/pandas/issues/20699)）。
- en: Bug in [`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") in which column types are not preserved and casted to
    float ([GH 24162](https://github.com/pandas-dev/pandas/issues/24162))
  id: totrans-586
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip")中存在错误，列类型未被保留并转换为浮点数（[GH 24162](https://github.com/pandas-dev/pandas/issues/24162)）。
- en: Bug in [`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") when order of columns of dataframes doesn’t match, result
    observed is wrong in numeric values ([GH 20911](https://github.com/pandas-dev/pandas/issues/20911))
  id: totrans-587
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当数据框的列顺序不匹配时，[`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip")中存在错误，观察到的结果在数值上是错误的（[GH 20911](https://github.com/pandas-dev/pandas/issues/20911)）。
- en: Bug in [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") where converting to an extension dtype when duplicate
    column names are present causes a `RecursionError` ([GH 24704](https://github.com/pandas-dev/pandas/issues/24704))
  id: totrans-588
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype")中存在错误，当存在重复列名时转换为扩展数据类型会导致`RecursionError`（[GH 24704](https://github.com/pandas-dev/pandas/issues/24704)）。
- en: Strings
  id: totrans-589
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 字符串
- en: Bug in `Index.str.partition()` was not nan-safe ([GH 23558](https://github.com/pandas-dev/pandas/issues/23558)).
  id: totrans-590
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.str.partition()`中的错误不是nan安全的（[GH 23558](https://github.com/pandas-dev/pandas/issues/23558)）。'
- en: Bug in `Index.str.split()` was not nan-safe ([GH 23677](https://github.com/pandas-dev/pandas/issues/23677)).
  id: totrans-591
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.str.split()`中的错误不是nan安全的（[GH 23677](https://github.com/pandas-dev/pandas/issues/23677)）。'
- en: Bug [`Series.str.contains()`](../reference/api/pandas.Series.str.contains.html#pandas.Series.str.contains
    "pandas.Series.str.contains") not respecting the `na` argument for a `Categorical`
    dtype `Series` ([GH 22158](https://github.com/pandas-dev/pandas/issues/22158))
  id: totrans-592
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.contains()`](../reference/api/pandas.Series.str.contains.html#pandas.Series.str.contains
    "pandas.Series.str.contains") 中存在的一个错误，对于 `Categorical` dtype 的 `Series`，未能遵守
    `na` 参数 ([GH 22158](https://github.com/pandas-dev/pandas/issues/22158))'
- en: Bug in `Index.str.cat()` when the result contained only `NaN` ([GH 24044](https://github.com/pandas-dev/pandas/issues/24044))
  id: totrans-593
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当结果只包含 `NaN` 时，`Index.str.cat()` 中存在的一个错误 ([GH 24044](https://github.com/pandas-dev/pandas/issues/24044))
- en: Interval
  id: totrans-594
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 区间
- en: Bug in the [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") constructor where the `closed` parameter did not always
    override the inferred `closed` ([GH 19370](https://github.com/pandas-dev/pandas/issues/19370))
  id: totrans-595
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `IntervalIndex` 构造函数中存在的一个错误，其中 `closed` 参数并不总是覆盖推断的 `closed` ([GH 19370](https://github.com/pandas-dev/pandas/issues/19370))
- en: Bug in the `IntervalIndex` repr where a trailing comma was missing after the
    list of intervals ([GH 20611](https://github.com/pandas-dev/pandas/issues/20611))
  id: totrans-596
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `IntervalIndex` repr 中存在的一个错误，列表中的间隔后缺少一个尾随逗号 ([GH 20611](https://github.com/pandas-dev/pandas/issues/20611))
- en: Bug in [`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    where scalar arithmetic operations did not retain the `closed` value ([GH 22313](https://github.com/pandas-dev/pandas/issues/22313))
  id: totrans-597
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    中的一个错误，标量算术运算没有保留 `closed` 值 ([GH 22313](https://github.com/pandas-dev/pandas/issues/22313))'
- en: Bug in [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") where indexing with datetime-like values raised a `KeyError`
    ([GH 20636](https://github.com/pandas-dev/pandas/issues/20636))
  id: totrans-598
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 中存在的一个错误，在使用类似日期时间的值进行索引时会引发 `KeyError` ([GH 20636](https://github.com/pandas-dev/pandas/issues/20636))'
- en: Bug in `IntervalTree` where data containing `NaN` triggered a warning and resulted
    in incorrect indexing queries with [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") ([GH 23352](https://github.com/pandas-dev/pandas/issues/23352))
  id: totrans-599
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalTree` 中的一个错误，其中包含 `NaN` 的数据会触发警告，并导致使用 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 进行不正确的索引查询 ([GH 23352](https://github.com/pandas-dev/pandas/issues/23352))'
- en: Indexing
  id: totrans-600
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 索引
- en: Bug in [`DataFrame.ne()`](../reference/api/pandas.DataFrame.ne.html#pandas.DataFrame.ne
    "pandas.DataFrame.ne") fails if columns contain column name “dtype” ([GH 22383](https://github.com/pandas-dev/pandas/issues/22383))
  id: totrans-601
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.ne()`](../reference/api/pandas.DataFrame.ne.html#pandas.DataFrame.ne
    "pandas.DataFrame.ne") 中的一个错误，如果列包含列名“dtype”，则会失败 ([GH 22383](https://github.com/pandas-dev/pandas/issues/22383))'
- en: The traceback from a `KeyError` when asking `.loc` for a single missing label
    is now shorter and more clear ([GH 21557](https://github.com/pandas-dev/pandas/issues/21557))
  id: totrans-602
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用 `.loc` 请求单个缺失标签时，`KeyError` 的回溯现在更短更清晰了 ([GH 21557](https://github.com/pandas-dev/pandas/issues/21557))
- en: '[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") now emits a `KeyError` when a malformed string is looked
    up, which is consistent with the behavior of [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 22803](https://github.com/pandas-dev/pandas/issues/22803))'
  id: totrans-603
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当查找到一个格式错误的字符串时，[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 现在会引发 `KeyError`，这与 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 的行为一致 ([GH 22803](https://github.com/pandas-dev/pandas/issues/22803))
- en: When `.ix` is asked for a missing integer label in a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") with a first level of integer type, it now raises a `KeyError`,
    consistently with the case of a flat `Int64Index`, rather than falling back to
    positional indexing ([GH 21593](https://github.com/pandas-dev/pandas/issues/21593))
  id: totrans-604
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在具有整数类型的第一级的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 中请求缺失的整数标签时，`.ix` 现在会引发 `KeyError`，与具有平坦的 `Int64Index` 情况一致，而不是退回到位置索引
    ([GH 21593](https://github.com/pandas-dev/pandas/issues/21593))
- en: Bug in [`Index.reindex()`](../reference/api/pandas.Index.reindex.html#pandas.Index.reindex
    "pandas.Index.reindex") when reindexing a tz-naive and tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 8306](https://github.com/pandas-dev/pandas/issues/8306))
  id: totrans-605
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了重新索引时的 tz-naive 和 tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 的 [`Index.reindex()`](../reference/api/pandas.Index.reindex.html#pandas.Index.reindex
    "pandas.Index.reindex") 中的错误（[GH 8306](https://github.com/pandas-dev/pandas/issues/8306)）
- en: Bug in [`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex") when reindexing an empty series with a `datetime64[ns,
    tz]` dtype ([GH 20869](https://github.com/pandas-dev/pandas/issues/20869))
  id: totrans-606
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在使用 `datetime64[ns, tz]` dtype 重新索引空系列时的 [`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex") 中的错误（[GH 20869](https://github.com/pandas-dev/pandas/issues/20869)）
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") when setting values with `.loc` and a timezone aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 11365](https://github.com/pandas-dev/pandas/issues/11365))
  id: totrans-607
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用 `.loc` 设置值时带有时区信息的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 中的问题（[GH 11365](https://github.com/pandas-dev/pandas/issues/11365)）
- en: '`DataFrame.__getitem__` now accepts dictionaries and dictionary keys as list-likes
    of labels, consistently with `Series.__getitem__` ([GH 21294](https://github.com/pandas-dev/pandas/issues/21294))'
  id: totrans-608
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.__getitem__` 现在与 `Series.__getitem__` 一致地接受字典和字典键作为标签的列表（[GH 21294](https://github.com/pandas-dev/pandas/issues/21294)）'
- en: Fixed `DataFrame[np.nan]` when columns are non-unique ([GH 21428](https://github.com/pandas-dev/pandas/issues/21428))
  id: totrans-609
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当列不唯一时 `DataFrame[np.nan]` 的问题（[GH 21428](https://github.com/pandas-dev/pandas/issues/21428)）
- en: Bug when indexing [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with nanosecond resolution dates and timezones ([GH 11679](https://github.com/pandas-dev/pandas/issues/11679))
  id: totrans-610
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用纳秒分辨率日期和时区时对 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 进行索引时的错误（[GH 11679](https://github.com/pandas-dev/pandas/issues/11679)）
- en: Bug where indexing with a Numpy array containing negative values would mutate
    the indexer ([GH 21867](https://github.com/pandas-dev/pandas/issues/21867))
  id: totrans-611
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用包含负值的 Numpy 数组进行索引时会更改索引器的错误（[GH 21867](https://github.com/pandas-dev/pandas/issues/21867)）
- en: Bug where mixed indexes wouldn’t allow integers for `.at` ([GH 19860](https://github.com/pandas-dev/pandas/issues/19860))
  id: totrans-612
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了混合索引不允许整数使用 `.at` 的问题（[GH 19860](https://github.com/pandas-dev/pandas/issues/19860)）
- en: '`Float64Index.get_loc` now raises `KeyError` when boolean key passed. ([GH
    19087](https://github.com/pandas-dev/pandas/issues/19087))'
  id: totrans-613
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递布尔键时，`Float64Index.get_loc` 现在会引发 `KeyError`。（[GH 19087](https://github.com/pandas-dev/pandas/issues/19087)）
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") when indexing with an [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") ([GH 19977](https://github.com/pandas-dev/pandas/issues/19977))
  id: totrans-614
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 进行索引时的 [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 中的错误（[GH 19977](https://github.com/pandas-dev/pandas/issues/19977)）
- en: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") no
    longer mangles `None`, `NaN` and `NaT`, i.e. they are treated as three different
    keys. However, for numeric Index all three are still coerced to a `NaN` ([GH 22332](https://github.com/pandas-dev/pandas/issues/22332))'
  id: totrans-615
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") 不再混淆
    `None`、`NaN` 和 `NaT`，即它们被视为三个不同的键。然而，对于数值索引，这三者仍然被强制转换为 `NaN`（[GH 22332](https://github.com/pandas-dev/pandas/issues/22332)）'
- en: Bug in `scalar in Index` if scalar is a float while the `Index` is of integer
    dtype ([GH 22085](https://github.com/pandas-dev/pandas/issues/22085))
  id: totrans-616
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当 `Index` 是整数类型而标量是浮点数时的 `scalar in Index` 中的错误（[GH 22085](https://github.com/pandas-dev/pandas/issues/22085)）
- en: Bug in [`MultiIndex.set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels") when levels value is not subscriptable ([GH 23273](https://github.com/pandas-dev/pandas/issues/23273))
  id: totrans-617
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当 levels 值不可索引时 [`MultiIndex.set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels") 中的错误（[GH 23273](https://github.com/pandas-dev/pandas/issues/23273)）
- en: Bug where setting a timedelta column by `Index` causes it to be casted to double,
    and therefore lose precision ([GH 23511](https://github.com/pandas-dev/pandas/issues/23511))
  id: totrans-618
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置时间差列时，如果使用`Index`，会将其转换为double，从而失去精度的错误（[GH 23511](https://github.com/pandas-dev/pandas/issues/23511)）
- en: Bug in [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") and [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") where name of the `Index` of the result was not computed
    correctly for certain cases ([GH 9943](https://github.com/pandas-dev/pandas/issues/9943),
    [GH 9862](https://github.com/pandas-dev/pandas/issues/9862))
  id: totrans-619
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union")和[`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection")中的错误，结果的`Index`名称未针对某些情况正确计算（[GH 9943](https://github.com/pandas-dev/pandas/issues/9943),
    [GH 9862](https://github.com/pandas-dev/pandas/issues/9862)）'
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    slicing with boolean [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") may raise `TypeError` ([GH 22533](https://github.com/pandas-dev/pandas/issues/22533))
  id: totrans-620
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")布尔[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")切片中的错误可能会引发`TypeError`（[GH 22533](https://github.com/pandas-dev/pandas/issues/22533)）'
- en: Bug in `PeriodArray.__setitem__` when accepting slice and list-like value ([GH
    23978](https://github.com/pandas-dev/pandas/issues/23978))
  id: totrans-621
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在接受切片和类似列表值时，`PeriodArray.__setitem__`中的错误（[GH 23978](https://github.com/pandas-dev/pandas/issues/23978)）
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where indexing with `Ellipsis` would lose their `freq`
    attribute ([GH 21282](https://github.com/pandas-dev/pandas/issues/21282))
  id: totrans-622
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`Ellipsis`进行索引时，[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")、[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")会丢失它们的`freq`属性 ([GH 21282](https://github.com/pandas-dev/pandas/issues/21282))
- en: Bug in `iat` where using it to assign an incompatible value would create a new
    column ([GH 23236](https://github.com/pandas-dev/pandas/issues/23236))
  id: totrans-623
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`iat`进行分配不兼容值时，存在错误会创建一个新列 ([GH 23236](https://github.com/pandas-dev/pandas/issues/23236))
- en: Missing
  id: totrans-624
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 丢失
- en: Bug in [`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") where a `ValueError` would raise when one column contained
    a `datetime64[ns, tz]` dtype ([GH 15522](https://github.com/pandas-dev/pandas/issues/15522))
  id: totrans-625
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在一个列包含`datetime64[ns, tz]` dtype时，[`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna")中会引发`ValueError`错误（[GH 15522](https://github.com/pandas-dev/pandas/issues/15522)）
- en: Bug in [`Series.hasnans()`](../reference/api/pandas.Series.hasnans.html#pandas.Series.hasnans
    "pandas.Series.hasnans") that could be incorrectly cached and return incorrect
    answers if null elements are introduced after an initial call ([GH 19700](https://github.com/pandas-dev/pandas/issues/19700))
  id: totrans-626
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.hasnans()`](../reference/api/pandas.Series.hasnans.html#pandas.Series.hasnans
    "pandas.Series.hasnans")中的错误可能会被错误地缓存，并且在初始调用之后引入null元素后返回不正确的答案（[GH 19700](https://github.com/pandas-dev/pandas/issues/19700)）'
- en: '[`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") now treats all NaN-floats as equal also for `np.object_`-dtype.
    This behavior is consistent with the behavior for float64 ([GH 22119](https://github.com/pandas-dev/pandas/issues/22119))'
  id: totrans-627
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin")现在也将所有NaN浮点数视为`np.object_`-dtype相等。此行为与float64的行为一致（[GH 22119](https://github.com/pandas-dev/pandas/issues/22119)）'
- en: '[`unique()`](../reference/api/pandas.unique.html#pandas.unique "pandas.unique")
    no longer mangles NaN-floats and the `NaT`-object for `np.object_`-dtype, i.e.
    `NaT` is no longer coerced to a NaN-value and is treated as a different entity.
    ([GH 22295](https://github.com/pandas-dev/pandas/issues/22295))'
  id: totrans-628
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`unique()`](../reference/api/pandas.unique.html#pandas.unique "pandas.unique")不再破坏NaN浮点数和`np.object_`-dtype的`NaT`对象，即`NaT`不再被强制转换为NaN值，并且被视为一个不同的实体。
    ([GH 22295](https://github.com/pandas-dev/pandas/issues/22295))'
- en: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    and [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    now properly handle numpy masked arrays with hardened masks. Previously, constructing
    a DataFrame or Series from a masked array with a hard mask would create a pandas
    object containing the underlying value, rather than the expected NaN. ([GH 24574](https://github.com/pandas-dev/pandas/issues/24574))'
  id: totrans-629
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    和 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    现在正确处理了带有硬化掩码的 numpy 掩码数组。以前，从带有硬掩码的掩码数组构造 DataFrame 或 Series 会创建一个包含底层值而不是预期
    NaN 的 pandas 对象。([GH 24574](https://github.com/pandas-dev/pandas/issues/24574))'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor where `dtype` argument was not honored when handling
    numpy masked record arrays. ([GH 24874](https://github.com/pandas-dev/pandas/issues/24874))
  id: totrans-630
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    构造函数中的一个错误，当处理 numpy 掩码记录数组时未遵循 `dtype` 参数。([GH 24874](https://github.com/pandas-dev/pandas/issues/24874))
- en: MultiIndex
  id: totrans-631
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: MultiIndex
- en: Bug in `io.formats.style.Styler.applymap()` where `subset=` with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") slice would reduce to [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") ([GH 19861](https://github.com/pandas-dev/pandas/issues/19861))
  id: totrans-632
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `io.formats.style.Styler.applymap()` 中的一个错误，`subset=` 与 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 切片会缩减为 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") ([GH 19861](https://github.com/pandas-dev/pandas/issues/19861))
- en: Removed compatibility for [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") pickles prior to version 0.8.0; compatibility with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") pickles from version 0.13 forward is maintained ([GH 21654](https://github.com/pandas-dev/pandas/issues/21654))
  id: totrans-633
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除了对版本 0.8.0 之前的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") pickles 的兼容性；与版本 0.13 以后的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") pickles 的兼容性得以保持 ([GH 21654](https://github.com/pandas-dev/pandas/issues/21654))
- en: '[`MultiIndex.get_loc_level()`](../reference/api/pandas.MultiIndex.get_loc_level.html#pandas.MultiIndex.get_loc_level
    "pandas.MultiIndex.get_loc_level") (and as a consequence, `.loc` on a `Series`
    or `DataFrame` with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") index) will now raise a `KeyError`, rather than returning
    an empty `slice`, if asked a label which is present in the `levels` but is unused
    ([GH 22221](https://github.com/pandas-dev/pandas/issues/22221))'
  id: totrans-634
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.get_loc_level()`](../reference/api/pandas.MultiIndex.get_loc_level.html#pandas.MultiIndex.get_loc_level
    "pandas.MultiIndex.get_loc_level") （以及作为一个结果，对具有 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 索引的 `Series` 或 `DataFrame` 的`.loc`）现在会引发 `KeyError`，而不是返回一个空的
    `slice`，如果请求的标签存在于 `levels` 中但未使用（[GH 22221](https://github.com/pandas-dev/pandas/issues/22221)）'
- en: '[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    has gained the [`MultiIndex.from_frame()`](../reference/api/pandas.MultiIndex.from_frame.html#pandas.MultiIndex.from_frame
    "pandas.MultiIndex.from_frame"), it allows constructing a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") object from a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 22420](https://github.com/pandas-dev/pandas/issues/22420))'
  id: totrans-635
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    现在具有 [`MultiIndex.from_frame()`](../reference/api/pandas.MultiIndex.from_frame.html#pandas.MultiIndex.from_frame
    "pandas.MultiIndex.from_frame")，它允许从 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 构造一个 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 对象 ([GH 22420](https://github.com/pandas-dev/pandas/issues/22420))'
- en: Fix `TypeError` in Python 3 when creating [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") in which some levels have mixed types, e.g. when some labels
    are tuples ([GH 15457](https://github.com/pandas-dev/pandas/issues/15457))
  id: totrans-636
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在 Python 3 中创建 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 时出现的`TypeError`，其中一些级别具有混合类型，例如当一些标签为元组时（[GH 15457](https://github.com/pandas-dev/pandas/issues/15457)）
- en: IO
  id: totrans-637
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: IO
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which a column specified with `CategoricalDtype` of boolean
    categories was not being correctly coerced from string values to booleans ([GH
    20498](https://github.com/pandas-dev/pandas/issues/20498))
  id: totrans-638
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中存在一个问题，即未能正确将指定为布尔类别的 `CategoricalDtype` 列从字符串值正确转换为布尔值 ([GH
    20498](https://github.com/pandas-dev/pandas/issues/20498))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which unicode column names were not being properly recognized
    with Python 2.x ([GH 13253](https://github.com/pandas-dev/pandas/issues/13253))
  id: totrans-639
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中存在一个问题，即在 Python 2.x 中未能正确识别 Unicode 列名（[GH 13253](https://github.com/pandas-dev/pandas/issues/13253))
- en: Bug in [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") when writing timezone aware data (`datetime64[ns, tz]`
    dtype) would raise a `TypeError` ([GH 9086](https://github.com/pandas-dev/pandas/issues/9086))
  id: totrans-640
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 中存在一个问题，即在写入带有时区信息的数据（`datetime64[ns, tz]` 类型）时会引发
    `TypeError` ([GH 9086](https://github.com/pandas-dev/pandas/issues/9086))
- en: Bug in [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") where a naive [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") would be written as `TIMESTAMP WITH TIMEZONE` type in
    supported databases, e.g. PostgreSQL ([GH 23510](https://github.com/pandas-dev/pandas/issues/23510))
  id: totrans-641
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 中存在一个问题，即在支持的数据库中，例如 PostgreSQL，一个简单的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 会被写入为 `TIMESTAMP WITH TIMEZONE` 类型（[GH 23510](https://github.com/pandas-dev/pandas/issues/23510))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") when `parse_cols` is specified with an empty dataset ([GH
    9208](https://github.com/pandas-dev/pandas/issues/9208))
  id: totrans-642
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 中存在一个问题，即当使用空数据集指定 `parse_cols` 时出现问题 ([GH 9208](https://github.com/pandas-dev/pandas/issues/9208))
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    no longer ignores all-whitespace `<tr>` within `<thead>` when considering the
    `skiprows` and `header` arguments. Previously, users had to decrease their `header`
    and `skiprows` values on such tables to work around the issue. ([GH 21641](https://github.com/pandas-dev/pandas/issues/21641))'
  id: totrans-643
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    在考虑 `skiprows` 和 `header` 参数时不再忽略 `<thead>` 中所有空白 `<tr>`。以前，用户必须减少这些表格的 `header`
    和 `skiprows` 值以解决此问题。 ([GH 21641](https://github.com/pandas-dev/pandas/issues/21641))'
- en: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") will correctly show the deprecation warning for previously
    deprecated `sheetname` ([GH 17994](https://github.com/pandas-dev/pandas/issues/17994))'
  id: totrans-644
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 将正确显示先前已弃用的 `sheetname` 的弃用警告 ([GH 17994](https://github.com/pandas-dev/pandas/issues/17994))'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    and [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") will throw `UnicodeError` and not coredump on badly encoded
    strings ([GH 22748](https://github.com/pandas-dev/pandas/issues/22748))'
  id: totrans-645
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    和 [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table "pandas.read_table")
    在遇到编码错误的字符串时将抛出 `UnicodeError` 而不是崩溃 ([GH 22748](https://github.com/pandas-dev/pandas/issues/22748))'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    will correctly parse timezone-aware datetimes ([GH 22256](https://github.com/pandas-dev/pandas/issues/22256))'
  id: totrans-646
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    将正确解析带有时区信息的日期时间数据 ([GH 22256](https://github.com/pandas-dev/pandas/issues/22256))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which memory management was prematurely optimized for the
    C engine when the data was being read in chunks ([GH 23509](https://github.com/pandas-dev/pandas/issues/23509))
  id: totrans-647
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中存在一个问题，即在以块读取数据时，内存管理过早地针对 C 引擎进行了优化（[GH 23509](https://github.com/pandas-dev/pandas/issues/23509))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in unnamed columns were being improperly identified when extracting
    a multi-index ([GH 23687](https://github.com/pandas-dev/pandas/issues/23687))
  id: totrans-648
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在提取多索引时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中存在错误，未命名列被错误地识别为索引列（[GH 23687](https://github.com/pandas-dev/pandas/issues/23687)）。
- en: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    will parse numbers in sas7bdat-files that have width less than 8 bytes correctly.
    ([GH 21616](https://github.com/pandas-dev/pandas/issues/21616))'
  id: totrans-649
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    能够正确解析宽度小于 8 字节的 sas7bdat 文件中的数字（[GH 21616](https://github.com/pandas-dev/pandas/issues/21616)）。'
- en: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    will correctly parse sas7bdat files with many columns ([GH 22628](https://github.com/pandas-dev/pandas/issues/22628))'
  id: totrans-650
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    能够正确解析具有许多列的 sas7bdat 文件（[GH 22628](https://github.com/pandas-dev/pandas/issues/22628)）。'
- en: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    will correctly parse sas7bdat files with data page types having also bit 7 set
    (so page type is 128 + 256 = 384) ([GH 16615](https://github.com/pandas-dev/pandas/issues/16615))'
  id: totrans-651
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    能够正确解析具有数据页类型且位 7 设置的 sas7bdat 文件（因此页面类型为 128 + 256 = 384）（[GH 16615](https://github.com/pandas-dev/pandas/issues/16615)）。'
- en: Bug in [`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas
    "pandas.read_sas") in which an incorrect error was raised on an invalid file format.
    ([GH 24548](https://github.com/pandas-dev/pandas/issues/24548))
  id: totrans-652
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在无效文件格式上引发错误时，[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas
    "pandas.read_sas") 存在错误，抛出了不正确的错误（[GH 24548](https://github.com/pandas-dev/pandas/issues/24548)）。
- en: Bug in `detect_client_encoding()` where potential `IOError` goes unhandled when
    importing in a mod_wsgi process due to restricted access to stdout. ([GH 21552](https://github.com/pandas-dev/pandas/issues/21552))
  id: totrans-653
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `detect_client_encoding()` 中存在错误，导致在 mod_wsgi 进程中导入时潜在的 `IOError` 未经处理，因为对
    stdout 的访问受到限制。（[GH 21552](https://github.com/pandas-dev/pandas/issues/21552)）
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") with `index=False` misses truncation indicators (…)
    on truncated DataFrame ([GH 15019](https://github.com/pandas-dev/pandas/issues/15019),
    [GH 22783](https://github.com/pandas-dev/pandas/issues/22783))
  id: totrans-654
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `index=False` 时，[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 中存在错误，截断的 DataFrame 上缺少截断指示符（…）（[GH 15019](https://github.com/pandas-dev/pandas/issues/15019),
    [GH 22783](https://github.com/pandas-dev/pandas/issues/22783)）。
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") with `index=False` when both columns and row index
    are `MultiIndex` ([GH 22579](https://github.com/pandas-dev/pandas/issues/22579))
  id: totrans-655
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在同时使用 `index=False` 时，当列和行索引都是 `MultiIndex` 时，[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 存在错误（[GH 22579](https://github.com/pandas-dev/pandas/issues/22579)）。
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") with `index_names=False` displaying index name ([GH
    22747](https://github.com/pandas-dev/pandas/issues/22747))
  id: totrans-656
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `index_names=False` 时，[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 存在错误，显示索引名称（[GH 22747](https://github.com/pandas-dev/pandas/issues/22747)）。
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") with `header=False` not displaying row index names
    ([GH 23788](https://github.com/pandas-dev/pandas/issues/23788))
  id: totrans-657
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `header=False` 时，[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 存在错误，不显示行索引名称（[GH 23788](https://github.com/pandas-dev/pandas/issues/23788)）。
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") with `sparsify=False` that caused it to raise `TypeError`
    ([GH 22887](https://github.com/pandas-dev/pandas/issues/22887))
  id: totrans-658
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `sparsify=False` 时，[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 存在错误，导致引发 `TypeError`（[GH 22887](https://github.com/pandas-dev/pandas/issues/22887)）。
- en: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") that broke column alignment when `index=False` and
    width of first column’s values is greater than the width of first column’s header
    ([GH 16839](https://github.com/pandas-dev/pandas/issues/16839), [GH 13032](https://github.com/pandas-dev/pandas/issues/13032))
  id: totrans-659
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string")中存在一个 bug，当`index=False`且第一列值的宽度大于第一列标题的宽度时，会破坏列对齐
    ([GH 16839](https://github.com/pandas-dev/pandas/issues/16839), [GH 13032](https://github.com/pandas-dev/pandas/issues/13032))
- en: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") that caused representations of [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") to not take up the whole window ([GH 22984](https://github.com/pandas-dev/pandas/issues/22984))
  id: totrans-660
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string")中存在一个 bug，导致[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")的表示未占满整个窗口 ([GH 22984](https://github.com/pandas-dev/pandas/issues/22984))
- en: Bug in [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") where a single level MultiIndex incorrectly wrote a
    tuple. Now just the value of the index is written ([GH 19589](https://github.com/pandas-dev/pandas/issues/19589)).
  id: totrans-661
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv")中存在一个 bug，单层 MultiIndex 错误地写入了一个元组。现在只写入索引的值 ([GH 19589](https://github.com/pandas-dev/pandas/issues/19589)).
- en: '`HDFStore` will raise `ValueError` when the `format` kwarg is passed to the
    constructor ([GH 13291](https://github.com/pandas-dev/pandas/issues/13291))'
  id: totrans-662
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当向`HDFStore`构造函数传递`format` kwarg时，将引发`ValueError` ([GH 13291](https://github.com/pandas-dev/pandas/issues/13291))
- en: Bug in [`HDFStore.append()`](../reference/api/pandas.HDFStore.append.html#pandas.HDFStore.append
    "pandas.HDFStore.append") when appending a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with an empty string column and `min_itemsize` < 8 ([GH 12242](https://github.com/pandas-dev/pandas/issues/12242))
  id: totrans-663
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`HDFStore.append()`](../reference/api/pandas.HDFStore.append.html#pandas.HDFStore.append
    "pandas.HDFStore.append")时存在一个 bug，当向其中追加一个带有空字符串列且`min_itemsize` < 8的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")时 ([GH 12242](https://github.com/pandas-dev/pandas/issues/12242))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which memory leaks occurred in the C engine when parsing
    `NaN` values due to insufficient cleanup on completion or error ([GH 21353](https://github.com/pandas-dev/pandas/issues/21353))
  id: totrans-664
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")中存在一个
    bug，当由于完成或错误时未进行足够的清理而导致 C 引擎在解析`NaN`值时发生内存泄漏 ([GH 21353](https://github.com/pandas-dev/pandas/issues/21353))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which incorrect error messages were being raised when `skipfooter`
    was passed in along with `nrows`, `iterator`, or `chunksize` ([GH 23711](https://github.com/pandas-dev/pandas/issues/23711))
  id: totrans-665
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")中存在一个
    bug，当`skipfooter`与`nrows`、`iterator`或`chunksize`一起传入时，会引发不正确的错误消息 ([GH 23711](https://github.com/pandas-dev/pandas/issues/23711))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") index names were being improperly handled in the cases when
    they were not provided ([GH 23484](https://github.com/pandas-dev/pandas/issues/23484))
  id: totrans-666
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")中存在一个
    bug，当未提供[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")索引名称时，处理不当 ([GH 23484](https://github.com/pandas-dev/pandas/issues/23484))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which unnecessary warnings were being raised when the dialect’s
    values conflicted with the default arguments ([GH 23761](https://github.com/pandas-dev/pandas/issues/23761))
  id: totrans-667
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")中存在一个
    bug，当方言的值与默认参数冲突时，会引发不必要的警告 ([GH 23761](https://github.com/pandas-dev/pandas/issues/23761))
- en: Bug in [`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html
    "pandas.read_html") in which the error message was not displaying the valid flavors
    when an invalid one was provided ([GH 23549](https://github.com/pandas-dev/pandas/issues/23549))
  id: totrans-668
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")中存在一个
    bug，当提供无效的 flavor 时，错误消息未显示有效的 flavors ([GH 23549](https://github.com/pandas-dev/pandas/issues/23549))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") in which extraneous header names were extracted, even though
    none were specified ([GH 11733](https://github.com/pandas-dev/pandas/issues/11733))
  id: totrans-669
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 中提取了多余的表头名称，即使没有指定任何表头名称（[GH 11733](https://github.com/pandas-dev/pandas/issues/11733))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") in which column names were not being properly converted to
    string sometimes in Python 2.x ([GH 23874](https://github.com/pandas-dev/pandas/issues/23874))
  id: totrans-670
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 中有时列名在Python 2.x中未被正确转换为字符串（[GH 23874](https://github.com/pandas-dev/pandas/issues/23874))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") in which `index_col=None` was not being respected and parsing
    index columns anyway ([GH 18792](https://github.com/pandas-dev/pandas/issues/18792),
    [GH 20480](https://github.com/pandas-dev/pandas/issues/20480))
  id: totrans-671
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 中`index_col=None`未被尊重，仍然解析索引列（[GH 18792](https://github.com/pandas-dev/pandas/issues/18792),
    [GH 20480](https://github.com/pandas-dev/pandas/issues/20480))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") in which `usecols` was not being validated for proper column
    names when passed in as a string ([GH 20480](https://github.com/pandas-dev/pandas/issues/20480))
  id: totrans-672
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 中当作字符串传递时，`usecols`未被验证为正确的列名（[GH 20480](https://github.com/pandas-dev/pandas/issues/20480))
- en: Bug in [`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") when the resulting dict contains non-Python scalars
    in the case of numeric data ([GH 23753](https://github.com/pandas-dev/pandas/issues/23753))
  id: totrans-673
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") 当结果字典包含非Python标量时出现问题，例如数值数据（[GH 23753](https://github.com/pandas-dev/pandas/issues/23753))
- en: '[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string"), [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html"), [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") will correctly format output when a string is passed
    as the `float_format` argument ([GH 21625](https://github.com/pandas-dev/pandas/issues/21625),
    [GH 22270](https://github.com/pandas-dev/pandas/issues/22270))'
  id: totrans-674
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string"), [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html"), [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") 当作为`float_format`参数传递字符串时，将正确格式化输出（[GH 21625](https://github.com/pandas-dev/pandas/issues/21625),
    [GH 22270](https://github.com/pandas-dev/pandas/issues/22270))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") that caused it to raise `OverflowError` when trying to use
    ‘inf’ as `na_value` with integer index column ([GH 17128](https://github.com/pandas-dev/pandas/issues/17128))
  id: totrans-675
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 导致在尝试使用‘inf’作为整数索引列的`na_value`时引发`OverflowError`（[GH 17128](https://github.com/pandas-dev/pandas/issues/17128))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") that caused the C engine on Python 3.6+ on Windows to improperly
    read CSV filenames with accented or special characters ([GH 15086](https://github.com/pandas-dev/pandas/issues/15086))
  id: totrans-676
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 导致Python 3.6+上的C引擎在Windows上不正确地读取带有重音或特殊字符的CSV文件名（[GH 15086](https://github.com/pandas-dev/pandas/issues/15086))
- en: Bug in [`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf
    "pandas.read_fwf") in which the compression type of a file was not being properly
    inferred ([GH 22199](https://github.com/pandas-dev/pandas/issues/22199))
  id: totrans-677
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf
    "pandas.read_fwf") 中未正确推断文件的压缩类型（[GH 22199](https://github.com/pandas-dev/pandas/issues/22199))
- en: Bug in `pandas.io.json.json_normalize()` that caused it to raise `TypeError`
    when two consecutive elements of `record_path` are dicts ([GH 22706](https://github.com/pandas-dev/pandas/issues/22706))
  id: totrans-678
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.io.json.json_normalize()` 中的Bug导致在`record_path`的两个连续元素为字典时引发`TypeError`（[GH
    22706](https://github.com/pandas-dev/pandas/issues/22706))'
- en: Bug in [`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata"), `pandas.io.stata.StataWriter` and `pandas.io.stata.StataWriter117`
    where a exception would leave a partially written and invalid dta file ([GH 23573](https://github.com/pandas-dev/pandas/issues/23573))
  id: totrans-679
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata")、`pandas.io.stata.StataWriter` 和 `pandas.io.stata.StataWriter117`
    中的一个 bug 会导致异常，留下部分写入的无效 dta 文件 ([GH 23573](https://github.com/pandas-dev/pandas/issues/23573))。
- en: Bug in [`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata") and `pandas.io.stata.StataWriter117` that produced
    invalid files when using strLs with non-ASCII characters ([GH 23573](https://github.com/pandas-dev/pandas/issues/23573))
  id: totrans-680
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用带有非 ASCII 字符的 strLs 时，[`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata") 和 `pandas.io.stata.StataWriter117` 会产生无效文件的一个 bug
    ([GH 23573](https://github.com/pandas-dev/pandas/issues/23573))。
- en: Bug in `HDFStore` that caused it to raise `ValueError` when reading a Dataframe
    in Python 3 from fixed format written in Python 2 ([GH 24510](https://github.com/pandas-dev/pandas/issues/24510))
  id: totrans-681
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Python 3 中读取 Python 2 中写入的固定格式的 Dataframe 时，`HDFStore` 中的一个 bug 导致它引发 `ValueError`
    ([GH 24510](https://github.com/pandas-dev/pandas/issues/24510))。
- en: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") and more generally in the floating `repr` formatter.
    Zeros were not trimmed if `inf` was present in a columns while it was the case
    with NA values. Zeros are now trimmed as in the presence of NA ([GH 24861](https://github.com/pandas-dev/pandas/issues/24861)).
  id: totrans-682
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") 和浮点 `repr` 格式化器中的一个 bug。如果在列中存在 `inf`，而且 NA 值的情况下，零不会被修剪。现在在存在
    NA 的情况下，零被修剪了 ([GH 24861](https://github.com/pandas-dev/pandas/issues/24861))。
- en: Bug in the `repr` when truncating the number of columns and having a wide last
    column ([GH 24849](https://github.com/pandas-dev/pandas/issues/24849)).
  id: totrans-683
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`repr`中的一个 bug，当截断列数并且最后一列很宽时 ([GH 24849](https://github.com/pandas-dev/pandas/issues/24849))。
- en: Plotting
  id: totrans-684
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 绘图
- en: Bug in [`DataFrame.plot.scatter()`](../reference/api/pandas.DataFrame.plot.scatter.html#pandas.DataFrame.plot.scatter
    "pandas.DataFrame.plot.scatter") and [`DataFrame.plot.hexbin()`](../reference/api/pandas.DataFrame.plot.hexbin.html#pandas.DataFrame.plot.hexbin
    "pandas.DataFrame.plot.hexbin") caused x-axis label and ticklabels to disappear
    when colorbar was on in IPython inline backend ([GH 10611](https://github.com/pandas-dev/pandas/issues/10611),
    [GH 10678](https://github.com/pandas-dev/pandas/issues/10678), and [GH 20455](https://github.com/pandas-dev/pandas/issues/20455))
  id: totrans-685
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 IPython 内联后端中，当 colorbar 打开时，[`DataFrame.plot.scatter()`](../reference/api/pandas.DataFrame.plot.scatter.html#pandas.DataFrame.plot.scatter
    "pandas.DataFrame.plot.scatter") 和 [`DataFrame.plot.hexbin()`](../reference/api/pandas.DataFrame.plot.hexbin.html#pandas.DataFrame.plot.hexbin
    "pandas.DataFrame.plot.hexbin") 中的一个 bug 导致 x 轴标签和刻度标签消失 ([GH 10611](https://github.com/pandas-dev/pandas/issues/10611)，[GH
    10678](https://github.com/pandas-dev/pandas/issues/10678) 和 [GH 20455](https://github.com/pandas-dev/pandas/issues/20455))。
- en: Bug in plotting a Series with datetimes using `matplotlib.axes.Axes.scatter()`
    ([GH 22039](https://github.com/pandas-dev/pandas/issues/22039))
  id: totrans-686
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `matplotlib.axes.Axes.scatter()` 绘制具有日期时间的 Series 时的一个 bug ([GH 22039](https://github.com/pandas-dev/pandas/issues/22039))。
- en: Bug in [`DataFrame.plot.bar()`](../reference/api/pandas.DataFrame.plot.bar.html#pandas.DataFrame.plot.bar
    "pandas.DataFrame.plot.bar") caused bars to use multiple colors instead of a single
    one ([GH 20585](https://github.com/pandas-dev/pandas/issues/20585))
  id: totrans-687
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.plot.bar()`](../reference/api/pandas.DataFrame.plot.bar.html#pandas.DataFrame.plot.bar
    "pandas.DataFrame.plot.bar") 中的一个 bug 导致柱使用多种颜色而不是单一颜色 ([GH 20585](https://github.com/pandas-dev/pandas/issues/20585))。
- en: Bug in validating color parameter caused extra color to be appended to the given
    color array. This happened to multiple plotting functions using matplotlib. ([GH
    20726](https://github.com/pandas-dev/pandas/issues/20726))
  id: totrans-688
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 验证颜色参数中的错误导致额外的颜色被附加到给定的颜色数组中。这发生在使用matplotlib的多个绘图函数中。 ([GH 20726](https://github.com/pandas-dev/pandas/issues/20726))
- en: GroupBy/resample/rolling
  id: totrans-689
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: GroupBy/resample/rolling
- en: Bug in `Rolling.min()` and `Rolling.max()` with `closed='left'`, a datetime-like
    index and only one entry in the series leading to segfault ([GH 24718](https://github.com/pandas-dev/pandas/issues/24718))
  id: totrans-690
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`closed='left'`、日期时间索引和系列中只有一个条目时，`Rolling.min()` 和 `Rolling.max()` 中的一个
    bug 导致 segfault ([GH 24718](https://github.com/pandas-dev/pandas/issues/24718))。
- en: Bug in `GroupBy.first()` and `GroupBy.last()` with `as_index=False` leading
    to the loss of timezone information ([GH 15884](https://github.com/pandas-dev/pandas/issues/15884))
  id: totrans-691
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`GroupBy.first()`和`GroupBy.last()`中的错误，`as_index=False`导致时区信息的丢失（[GH 15884](https://github.com/pandas-dev/pandas/issues/15884)）'
- en: Bug in `DateFrame.resample()` when downsampling across a DST boundary ([GH 8531](https://github.com/pandas-dev/pandas/issues/8531))
  id: totrans-692
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DateFrame.resample()`中的错误，当跨越夏令时转换时出现降采样错误（[GH 8531](https://github.com/pandas-dev/pandas/issues/8531)）'
- en: Bug in date anchoring for `DateFrame.resample()` with offset `Day` when n >
    1 ([GH 24127](https://github.com/pandas-dev/pandas/issues/24127))
  id: totrans-693
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.resample()`中日期锚定的错误，使用偏移量`Day`时，n > 1（[GH 24127](https://github.com/pandas-dev/pandas/issues/24127)）'
- en: Bug where `ValueError` is wrongly raised when calling `SeriesGroupBy.count()`
    method of a `SeriesGroupBy` when the grouping variable only contains NaNs and
    numpy version < 1.13 ([GH 21956](https://github.com/pandas-dev/pandas/issues/21956)).
  id: totrans-694
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当分组变量仅包含NaNs且numpy版本<1.13时，调用`SeriesGroupBy.count()`方法时错误地引发`ValueError`（[GH
    21956](https://github.com/pandas-dev/pandas/issues/21956)）。
- en: Multiple bugs in `Rolling.min()` with `closed='left'` and a datetime-like index
    leading to incorrect results and also segfault. ([GH 21704](https://github.com/pandas-dev/pandas/issues/21704))
  id: totrans-695
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Rolling.min()`中的多个错误，使用`closed=''left''`和datetime样式索引导致结果不正确并且可能导致段错误。（[GH
    21704](https://github.com/pandas-dev/pandas/issues/21704)）'
- en: Bug in [`Resampler.apply()`](../reference/api/pandas.core.resample.Resampler.apply.html#pandas.core.resample.Resampler.apply
    "pandas.core.resample.Resampler.apply") when passing positional arguments to applied
    func ([GH 14615](https://github.com/pandas-dev/pandas/issues/14615)).
  id: totrans-696
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Resampler.apply()`](../reference/api/pandas.core.resample.Resampler.apply.html#pandas.core.resample.Resampler.apply
    "pandas.core.resample.Resampler.apply")中的错误，当将位置参数传递给应用的函数时（[GH 14615](https://github.com/pandas-dev/pandas/issues/14615)）。'
- en: Bug in [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") when passing `numpy.timedelta64` to `loffset` kwarg
    ([GH 7687](https://github.com/pandas-dev/pandas/issues/7687)).
  id: totrans-697
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample")中的错误，当将`numpy.timedelta64`传递给`loffset`参数时出现问题（[GH 7687](https://github.com/pandas-dev/pandas/issues/7687)）。'
- en: Bug in [`Resampler.asfreq()`](../reference/api/pandas.core.resample.Resampler.asfreq.html#pandas.core.resample.Resampler.asfreq
    "pandas.core.resample.Resampler.asfreq") when frequency of `TimedeltaIndex` is
    a subperiod of a new frequency ([GH 13022](https://github.com/pandas-dev/pandas/issues/13022)).
  id: totrans-698
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Resampler.asfreq()`](../reference/api/pandas.core.resample.Resampler.asfreq.html#pandas.core.resample.Resampler.asfreq
    "pandas.core.resample.Resampler.asfreq")中的错误，当`TimedeltaIndex`的频率是新频率的子周期时出现问题（[GH
    13022](https://github.com/pandas-dev/pandas/issues/13022)）。'
- en: Bug in [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean") when values were integral but could
    not fit inside of int64, overflowing instead. ([GH 22487](https://github.com/pandas-dev/pandas/issues/22487))
  id: totrans-699
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean")中的错误，当值为整数但无法适应int64时，会溢出。（[GH 22487](https://github.com/pandas-dev/pandas/issues/22487)）'
- en: '`RollingGroupby.agg()` and `ExpandingGroupby.agg()` now support multiple aggregation
    functions as parameters ([GH 15072](https://github.com/pandas-dev/pandas/issues/15072))'
  id: totrans-700
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RollingGroupby.agg()`和`ExpandingGroupby.agg()`现在支持多个聚合函数作为参数（[GH 15072](https://github.com/pandas-dev/pandas/issues/15072)）'
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") and [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") when resampling by a weekly offset (`'W'`) across a
    DST transition ([GH 9119](https://github.com/pandas-dev/pandas/issues/9119), [GH
    21459](https://github.com/pandas-dev/pandas/issues/21459))
  id: totrans-701
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.resample()`和`Series.resample()`中的错误，当通过周偏移(`''W''`)跨越夏令时转换时（[GH
    9119](https://github.com/pandas-dev/pandas/issues/9119), [GH 21459](https://github.com/pandas-dev/pandas/issues/21459)）'
- en: Bug in [`DataFrame.expanding()`](../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding
    "pandas.DataFrame.expanding") in which the `axis` argument was not being respected
    during aggregations ([GH 23372](https://github.com/pandas-dev/pandas/issues/23372))
  id: totrans-702
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.expanding()`](../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding
    "pandas.DataFrame.expanding")中的错误，聚合期间未尊重`axis`参数（[GH 23372](https://github.com/pandas-dev/pandas/issues/23372)）'
- en: Bug in `GroupBy.transform()` which caused missing values when the input function
    can accept a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") but renames it ([GH 23455](https://github.com/pandas-dev/pandas/issues/23455)).
  id: totrans-703
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当输入函数可以接受[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")但重命名时，`GroupBy.transform()`中存在缺失值的问题 ([GH 23455](https://github.com/pandas-dev/pandas/issues/23455)).
- en: Bug in `GroupBy.nth()` where column order was not always preserved ([GH 20760](https://github.com/pandas-dev/pandas/issues/20760))
  id: totrans-704
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`GroupBy.nth()`中未始终保留列顺序的问题 ([GH 20760](https://github.com/pandas-dev/pandas/issues/20760))'
- en: Bug in `GroupBy.rank()` with `method='dense'` and `pct=True` when a group has
    only one member would raise a `ZeroDivisionError` ([GH 23666](https://github.com/pandas-dev/pandas/issues/23666)).
  id: totrans-705
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当一个组仅有一个成员时，使用`method='dense'`和`pct=True`的`GroupBy.rank()`会引发`ZeroDivisionError`
    ([GH 23666](https://github.com/pandas-dev/pandas/issues/23666)).
- en: Calling `GroupBy.rank()` with empty groups and `pct=True` was raising a `ZeroDivisionError`
    ([GH 22519](https://github.com/pandas-dev/pandas/issues/22519))
  id: totrans-706
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用空组和`pct=True`调用`GroupBy.rank()`会引发`ZeroDivisionError` ([GH 22519](https://github.com/pandas-dev/pandas/issues/22519))
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") when resampling `NaT` in `TimeDeltaIndex` ([GH 13223](https://github.com/pandas-dev/pandas/issues/13223)).
  id: totrans-707
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`TimeDeltaIndex`中重新采样`NaT`时，[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample")存在的问题 ([GH 13223](https://github.com/pandas-dev/pandas/issues/13223)).
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") did not respect the `observed` argument when selecting
    a column and instead always used `observed=False` ([GH 23970](https://github.com/pandas-dev/pandas/issues/23970))
  id: totrans-708
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在选择列时，[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby")存在的问题是未遵守`observed`参数，并始终使用`observed=False` ([GH 23970](https://github.com/pandas-dev/pandas/issues/23970))
- en: Bug in `SeriesGroupBy.pct_change()` or `DataFrameGroupBy.pct_change()` would
    previously work across groups when calculating the percent change, where it now
    correctly works per group ([GH 21200](https://github.com/pandas-dev/pandas/issues/21200),
    [GH 21235](https://github.com/pandas-dev/pandas/issues/21235)).
  id: totrans-709
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在计算百分比变化时，`SeriesGroupBy.pct_change()`或`DataFrameGroupBy.pct_change()`先前跨组工作，现在正确地每组工作
    ([GH 21200](https://github.com/pandas-dev/pandas/issues/21200), [GH 21235](https://github.com/pandas-dev/pandas/issues/21235)).
- en: Bug preventing hash table creation with very large number (2^32) of rows ([GH
    22805](https://github.com/pandas-dev/pandas/issues/22805))
  id: totrans-710
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阻止使用非常大的行数（2^32）创建哈希表 ([GH 22805](https://github.com/pandas-dev/pandas/issues/22805))
- en: Bug in groupby when grouping on categorical causes `ValueError` and incorrect
    grouping if `observed=True` and `nan` is present in categorical column ([GH 24740](https://github.com/pandas-dev/pandas/issues/24740),
    [GH 21151](https://github.com/pandas-dev/pandas/issues/21151)).
  id: totrans-711
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当以分类变量进行分组时，引发`ValueError`和错误分组的groupby中的错误 ([GH 24740](https://github.com/pandas-dev/pandas/issues/24740),
    [GH 21151](https://github.com/pandas-dev/pandas/issues/21151)).
- en: Reshaping
  id: totrans-712
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 重塑
- en: Bug in [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") when joining resampled DataFrames with timezone aware index ([GH
    13783](https://github.com/pandas-dev/pandas/issues/13783))
  id: totrans-713
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有时区感知索引的重新采样DataFrame中连接时，[`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat")存在的问题 ([GH 13783](https://github.com/pandas-dev/pandas/issues/13783))
- en: Bug in [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") when joining only `Series` the `names` argument of `concat` is
    no longer ignored ([GH 23490](https://github.com/pandas-dev/pandas/issues/23490))
  id: totrans-714
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在仅连接`Series`时，[`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat")存在的问题是`concat`的`names`参数不再被忽略 ([GH 23490](https://github.com/pandas-dev/pandas/issues/23490))
- en: Bug in [`Series.combine_first()`](../reference/api/pandas.Series.combine_first.html#pandas.Series.combine_first
    "pandas.Series.combine_first") with `datetime64[ns, tz]` dtype which would return
    tz-naive result ([GH 21469](https://github.com/pandas-dev/pandas/issues/21469))
  id: totrans-715
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有`datetime64[ns, tz]`数据类型的情况下，[`Series.combine_first()`](../reference/api/pandas.Series.combine_first.html#pandas.Series.combine_first
    "pandas.Series.combine_first")存在的问题是返回的结果不含时区信息 ([GH 21469](https://github.com/pandas-dev/pandas/issues/21469))
- en: Bug in [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") and [`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") with `datetime64[ns, tz]` dtype ([GH 21546](https://github.com/pandas-dev/pandas/issues/21546))
  id: totrans-716
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") 和 [`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") 中存在的 `datetime64[ns, tz]` dtype 错误（[GH 21546](https://github.com/pandas-dev/pandas/issues/21546)）'
- en: Bug in [`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") with an empty DataFrame and empty `cond` having non-bool
    dtype ([GH 21947](https://github.com/pandas-dev/pandas/issues/21947))
  id: totrans-717
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 DataFrame 为空且空的 `cond` 具有非布尔 dtype 时，[`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") 中存在的错误（[GH 21947](https://github.com/pandas-dev/pandas/issues/21947)）
- en: Bug in [`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask") and [`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask") with `list` conditionals ([GH 21891](https://github.com/pandas-dev/pandas/issues/21891))
  id: totrans-718
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `list` 条件时，[`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask") 和 [`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask") 中存在的错误（[GH 21891](https://github.com/pandas-dev/pandas/issues/21891)）
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") raises RecursionError when converting OutOfBounds
    `datetime64[ns, tz]` ([GH 20380](https://github.com/pandas-dev/pandas/issues/20380))
  id: totrans-719
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在转换 `datetime64[ns, tz]` 时，[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 会引发 `RecursionError` 错误（[GH 20380](https://github.com/pandas-dev/pandas/issues/20380)）
- en: '`GroupBy.rank()` now raises a `ValueError` when an invalid value is passed
    for argument `na_option` ([GH 22124](https://github.com/pandas-dev/pandas/issues/22124))'
  id: totrans-720
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当参数 `na_option` 的值无效时，`GroupBy.rank()` 现在会引发 `ValueError` 错误（[GH 22124](https://github.com/pandas-dev/pandas/issues/22124)）
- en: Bug in [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") with Unicode attributes in Python 2 ([GH 22084](https://github.com/pandas-dev/pandas/issues/22084))
  id: totrans-721
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Python 2 中具有 Unicode 属性的情况下，[`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") 中存在的错误（[GH 22084](https://github.com/pandas-dev/pandas/issues/22084)）
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") raises `RecursionError` when replacing empty lists
    ([GH 22083](https://github.com/pandas-dev/pandas/issues/22083))
  id: totrans-722
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当替换空列表时，[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 会引发 `RecursionError` 错误（[GH 22083](https://github.com/pandas-dev/pandas/issues/22083)）
- en: Bug in [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") and [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") when dict is used as the `to_replace` value and one
    key in the dict is another key’s value, the results were inconsistent between
    using integer key and using string key ([GH 20656](https://github.com/pandas-dev/pandas/issues/20656))
  id: totrans-723
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当将 dict 用作 `to_replace` 值并且字典中的一个键是另一个键的值时，使用整数键和使用字符串键之间的结果不一致，[`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 和 [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 中存在的错误（[GH 20656](https://github.com/pandas-dev/pandas/issues/20656)）
- en: Bug in [`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") for empty `DataFrame` which incorrectly raises
    an error ([GH 20516](https://github.com/pandas-dev/pandas/issues/20516))
  id: totrans-724
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于空 `DataFrame`，[`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") 错误地引发错误（[GH 20516](https://github.com/pandas-dev/pandas/issues/20516)）
- en: Bug in [`pandas.wide_to_long()`](../reference/api/pandas.wide_to_long.html#pandas.wide_to_long
    "pandas.wide_to_long") when a string is passed to the stubnames argument and a
    column name is a substring of that stubname ([GH 22468](https://github.com/pandas-dev/pandas/issues/22468))
  id: totrans-725
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当将字符串传递给 stubnames 参数且列名是该 stubname 的子串时，[`pandas.wide_to_long()`](../reference/api/pandas.wide_to_long.html#pandas.wide_to_long
    "pandas.wide_to_long") 中存在的错误（[GH 22468](https://github.com/pandas-dev/pandas/issues/22468)）
- en: Bug in [`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    when merging `datetime64[ns, tz]` data that contained a DST transition ([GH 18885](https://github.com/pandas-dev/pandas/issues/18885))
  id: totrans-726
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")时，当合并包含夏令时转换的`datetime64[ns,
    tz]`数据时存在错误（[GH 18885](https://github.com/pandas-dev/pandas/issues/18885)）。
- en: Bug in [`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") when merging on float values within defined tolerance ([GH
    22981](https://github.com/pandas-dev/pandas/issues/22981))
  id: totrans-727
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof")时，当在定义的容差范围内合并浮点值时存在错误（[GH 22981](https://github.com/pandas-dev/pandas/issues/22981)）。
- en: Bug in [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") when concatenating a multicolumn DataFrame with tz-aware data
    against a DataFrame with a different number of columns ([GH 22796](https://github.com/pandas-dev/pandas/issues/22796))
  id: totrans-728
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")时，当连接一个具有tz-aware数据的多列DataFrame与一个列数不同的DataFrame时存在错误（[GH
    22796](https://github.com/pandas-dev/pandas/issues/22796)）。
- en: Bug in [`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") where confusing error message raised when attempting to merge
    with missing values ([GH 23189](https://github.com/pandas-dev/pandas/issues/23189))
  id: totrans-729
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof")时，当尝试与缺失值合并时，会引发混淆的错误消息（[GH 23189](https://github.com/pandas-dev/pandas/issues/23189)）。
- en: Bug in [`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest") and [`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest") for dataframes that have a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") for columns ([GH 23033](https://github.com/pandas-dev/pandas/issues/23033)).
  id: totrans-730
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest")和[`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest")对具有[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")列的数据框进行操作时存在错误（[GH 23033](https://github.com/pandas-dev/pandas/issues/23033)）。
- en: Bug in [`pandas.melt()`](../reference/api/pandas.melt.html#pandas.melt "pandas.melt")
    when passing column names that are not present in `DataFrame` ([GH 23575](https://github.com/pandas-dev/pandas/issues/23575))
  id: totrans-731
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`pandas.melt()`](../reference/api/pandas.melt.html#pandas.melt "pandas.melt")时，如果传入的列名在`DataFrame`中不存在时存在错误（[GH
    23575](https://github.com/pandas-dev/pandas/issues/23575)）。
- en: Bug in `DataFrame.append()` with a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with a dateutil timezone would raise a `TypeError` ([GH 23682](https://github.com/pandas-dev/pandas/issues/23682))
  id: totrans-732
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`DataFrame.append()`时，如果使用带有dateutil时区的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")会引发`TypeError`错误（[GH 23682](https://github.com/pandas-dev/pandas/issues/23682)）。
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    construction when passing no data and `dtype=str` ([GH 22477](https://github.com/pandas-dev/pandas/issues/22477))
  id: totrans-733
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")构造时，如果传入的数据为空且`dtype=str`时存在错误（[GH
    22477](https://github.com/pandas-dev/pandas/issues/22477)）。
- en: Bug in [`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") with
    `bins` as an overlapping `IntervalIndex` where multiple bins were returned per
    item instead of raising a `ValueError` ([GH 23980](https://github.com/pandas-dev/pandas/issues/23980))
  id: totrans-734
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut")时，如果`bins`是重叠的`IntervalIndex`，则会返回每个项目的多个区间而不是引发`ValueError`错误（[GH
    23980](https://github.com/pandas-dev/pandas/issues/23980)）。
- en: Bug in [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") when joining `Series` datetimetz with `Series` category would
    lose timezone ([GH 23816](https://github.com/pandas-dev/pandas/issues/23816))
  id: totrans-735
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")时，当将`Series`
    datetimetz与`Series` category连接时，会丢失时区信息（[GH 23816](https://github.com/pandas-dev/pandas/issues/23816)）。
- en: Bug in [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") when joining on partial MultiIndex would drop names ([GH
    20452](https://github.com/pandas-dev/pandas/issues/20452)).
  id: totrans-736
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join")时，当在部分MultiIndex上进行连接时，会丢失列名（[GH 20452](https://github.com/pandas-dev/pandas/issues/20452)）。
- en: '[`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest") and [`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest") now returns the correct n values when keep != ‘all’
    also when tied on the first columns ([GH 22752](https://github.com/pandas-dev/pandas/issues/22752))'
  id: totrans-737
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest")和[`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest")现在在`keep != ''all''`时返回正确的n值，同时在第一列上打结时也返回正确的值（[GH
    22752](https://github.com/pandas-dev/pandas/issues/22752)）。'
- en: Constructing a DataFrame with an index argument that wasn’t already an instance
    of [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") was
    broken ([GH 22227](https://github.com/pandas-dev/pandas/issues/22227)).
  id: totrans-738
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用未在构造函数中指定索引参数的DataFrame构造函数破损了（[GH 22227](https://github.com/pandas-dev/pandas/issues/22227)）。
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") prevented list subclasses to be used to construction ([GH
    21226](https://github.com/pandas-dev/pandas/issues/21226))
  id: totrans-739
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")中的一个bug阻止了列表子类的使用（[GH
    21226](https://github.com/pandas-dev/pandas/issues/21226)）。'
- en: Bug in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") and [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") returning a misleading error message when the
    resulting DataFrame has more elements than int32 can handle. Now, the error message
    is improved, pointing towards the actual problem ([GH 20601](https://github.com/pandas-dev/pandas/issues/20601))
  id: totrans-740
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrame.unstack()`和`DataFrame.pivot_table()`中存在一个bug，当生成的DataFrame比int32能处理的元素多时返回一个误导性的错误消息。现在，错误消息得到了改进，指向了实际问题（[GH
    20601](https://github.com/pandas-dev/pandas/issues/20601)）。
- en: Bug in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") where a `ValueError` was raised when unstacking timezone
    aware values ([GH 18338](https://github.com/pandas-dev/pandas/issues/18338))
  id: totrans-741
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")存在一个bug，当解除堆叠时，解除堆叠时区感知的值时引发`ValueError`（[GH 18338](https://github.com/pandas-dev/pandas/issues/18338)）。'
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") where timezone aware values were converted to timezone
    naive values ([GH 19420](https://github.com/pandas-dev/pandas/issues/19420))
  id: totrans-742
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack")中存在一个bug，将时区感知的值转换为时区无关的值（[GH 19420](https://github.com/pandas-dev/pandas/issues/19420)）。'
- en: Bug in [`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") where a `TypeError` was raised when `by_col` were timezone
    aware values ([GH 21184](https://github.com/pandas-dev/pandas/issues/21184))
  id: totrans-743
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof")存在一个bug，当`by_col`是时区感知的值时，引发`TypeError`（[GH 21184](https://github.com/pandas-dev/pandas/issues/21184)）。'
- en: Bug showing an incorrect shape when throwing error during `DataFrame` construction.
    ([GH 20742](https://github.com/pandas-dev/pandas/issues/20742))
  id: totrans-744
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrame`构造过程中抛出错误时，显示一个不正确的形状。 ([GH 20742](https://github.com/pandas-dev/pandas/issues/20742))
- en: '### Sparse'
  id: totrans-745
  prefs: []
  type: TYPE_NORMAL
  zh: '### Sparse'
- en: Updating a boolean, datetime, or timedelta column to be Sparse now works ([GH
    22367](https://github.com/pandas-dev/pandas/issues/22367))
  id: totrans-746
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更新布尔值、日期时间或时间间隔列以稀疏形式现在可以正常工作（[GH 22367](https://github.com/pandas-dev/pandas/issues/22367)）。
- en: Bug in `Series.to_sparse()` with Series already holding sparse data not constructing
    properly ([GH 22389](https://github.com/pandas-dev/pandas/issues/22389))
  id: totrans-747
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.to_sparse()`中存在一个bug，已经持有稀疏数据的Series无法正确构造（[GH 22389](https://github.com/pandas-dev/pandas/issues/22389)）。'
- en: Providing a `sparse_index` to the SparseArray constructor no longer defaults
    the na-value to `np.nan` for all dtypes. The correct na_value for `data.dtype`
    is now used.
  id: totrans-748
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 给SparseArray构造函数提供`sparse_index`不再将所有数据类型的na-value默认为`np.nan`。现在使用了`data.dtype`的正确na_value。
- en: Bug in `SparseArray.nbytes` under-reporting its memory usage by not including
    the size of its sparse index.
  id: totrans-749
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.nbytes`存在一个bug，通过不包括其稀疏索引的大小来低估其内存使用量。'
- en: Improved performance of [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift") for non-NA `fill_value`, as values are no longer converted
    to a dense array.
  id: totrans-750
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了非NA `fill_value`的[`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift")的性能，因为值不再转换为密集数组。
- en: Bug in `DataFrame.groupby` not including `fill_value` in the groups for non-NA
    `fill_value` when grouping by a sparse column ([GH 5078](https://github.com/pandas-dev/pandas/issues/5078))
  id: totrans-751
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在对稀疏列进行分组时，`DataFrame.groupby`中存在一个错误，即当通过稀疏列分组时，非NA `fill_value`不包括在组中 ([GH
    5078](https://github.com/pandas-dev/pandas/issues/5078))
- en: Bug in unary inversion operator (`~`) on a `SparseSeries` with boolean values.
    The performance of this has also been improved ([GH 22835](https://github.com/pandas-dev/pandas/issues/22835))
  id: totrans-752
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有布尔值的`SparseSeries`上存在一元反转运算符(`~`)的错误。这方面的性能也得到了改进 ([GH 22835](https://github.com/pandas-dev/pandas/issues/22835))
- en: Bug in `SparseArary.unique()` not returning the unique values ([GH 19595](https://github.com/pandas-dev/pandas/issues/19595))
  id: totrans-753
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`SparseArray.unique()`中存在一个错误，未返回唯一值 ([GH 19595](https://github.com/pandas-dev/pandas/issues/19595))
- en: Bug in `SparseArray.nonzero()` and `SparseDataFrame.dropna()` returning shifted/incorrect
    results ([GH 21172](https://github.com/pandas-dev/pandas/issues/21172))
  id: totrans-754
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`SparseArray.nonzero()`和`SparseDataFrame.dropna()`中存在一个错误，返回了偏移/不正确的结果 ([GH
    21172](https://github.com/pandas-dev/pandas/issues/21172))
- en: Bug in [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") where dtypes would lose sparseness ([GH 23744](https://github.com/pandas-dev/pandas/issues/23744))
  id: totrans-755
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply")中存在一个错误，即dtype会丢失稀疏性 ([GH 23744](https://github.com/pandas-dev/pandas/issues/23744))
- en: Bug in [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    when concatenating a list of [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with all-sparse values changing the `fill_value` and converting
    to a dense Series ([GH 24371](https://github.com/pandas-dev/pandas/issues/24371))
  id: totrans-756
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在对所有稀疏值进行连接且更改`fill_value`并转换为密集Series时，[`concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat")存在一个错误 ([GH 24371](https://github.com/pandas-dev/pandas/issues/24371))
- en: Style
  id: totrans-757
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 样式
- en: '[`background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient") now takes a `text_color_threshold`
    parameter to automatically lighten the text color based on the luminance of the
    background color. This improves readability with dark background colors without
    the need to limit the background colormap range. ([GH 21258](https://github.com/pandas-dev/pandas/issues/21258))'
  id: totrans-758
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient")现在接受一个`text_color_threshold`参数，根据背景颜色的亮度自动调节文本颜色。这可以在不限制背景色彩映射范围的情况下改善在深色背景下的可读性。
    ([GH 21258](https://github.com/pandas-dev/pandas/issues/21258))'
- en: '[`background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient") now also supports tablewise
    application (in addition to rowwise and columnwise) with `axis=None` ([GH 15204](https://github.com/pandas-dev/pandas/issues/15204))'
  id: totrans-759
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient")现在还支持表格级应用（除了行级和列级）通过`axis=None`
    ([GH 15204](https://github.com/pandas-dev/pandas/issues/15204))'
- en: '[`bar()`](../reference/api/pandas.io.formats.style.Styler.bar.html#pandas.io.formats.style.Styler.bar
    "pandas.io.formats.style.Styler.bar") now also supports tablewise application
    (in addition to rowwise and columnwise) with `axis=None` and setting clipping
    range with `vmin` and `vmax` ([GH 21548](https://github.com/pandas-dev/pandas/issues/21548)
    and [GH 21526](https://github.com/pandas-dev/pandas/issues/21526)). `NaN` values
    are also handled properly.'
  id: totrans-760
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`bar()`](../reference/api/pandas.io.formats.style.Styler.bar.html#pandas.io.formats.style.Styler.bar
    "pandas.io.formats.style.Styler.bar")现在还支持表格级应用（除了行级和列级），通过`axis=None`设置剪裁范围并使用`vmin`和`vmax`
    ([GH 21548](https://github.com/pandas-dev/pandas/issues/21548) 和 [GH 21526](https://github.com/pandas-dev/pandas/issues/21526))。`NaN`值也得到了正确处理。'
- en: Build changes
  id: totrans-761
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 构建更改
- en: Building pandas for development now requires `cython >= 0.28.2` ([GH 21688](https://github.com/pandas-dev/pandas/issues/21688))
  id: totrans-762
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了开发，构建pandas现在需要`cython >= 0.28.2` ([GH 21688](https://github.com/pandas-dev/pandas/issues/21688))
- en: Testing pandas now requires `hypothesis>=3.58`. You can find [the Hypothesis
    docs here](https://hypothesis.readthedocs.io/en/latest/index.html), and a pandas-specific
    introduction [in the contributing guide](../development/contributing_codebase.html#using-hypothesis).
    ([GH 22280](https://github.com/pandas-dev/pandas/issues/22280))
  id: totrans-763
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试 pandas 现在需要 `hypothesis>=3.58`。您可以在[这里找到 Hypothesis 文档](https://hypothesis.readthedocs.io/en/latest/index.html)，以及[贡献指南中的
    pandas 特定介绍](../development/contributing_codebase.html#using-hypothesis)。([GH
    22280](https://github.com/pandas-dev/pandas/issues/22280))
- en: Building pandas on macOS now targets minimum macOS 10.9 if run on macOS 10.9
    or above ([GH 23424](https://github.com/pandas-dev/pandas/issues/23424))
  id: totrans-764
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，在 macOS 上构建 pandas 的最低版本为 macOS 10.9，如果在 macOS 10.9 或更高版本上运行，则是这样。（[GH 23424](https://github.com/pandas-dev/pandas/issues/23424)）
- en: Other
  id: totrans-765
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 其他
- en: 'Bug where C variables were declared with external linkage causing import errors
    if certain other C libraries were imported before pandas. ([GH 24113](https://github.com/pandas-dev/pandas/issues/24113))  ##
    Contributors'
  id: totrans-766
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Bug where C variables were declared with external linkage causing import errors
    if certain other C libraries were imported before pandas. ([GH 24113](https://github.com/pandas-dev/pandas/issues/24113))  ##
    贡献者'
- en: A total of 337 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  id: totrans-767
  prefs: []
  type: TYPE_NORMAL
  zh: 本次发布的补丁共有 337 人参与贡献。名字后带有“+”的人是首次贡献补丁的。
- en: AJ Dyka +
  id: totrans-768
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AJ Dyka +
- en: AJ Pryor, Ph.D +
  id: totrans-769
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AJ Pryor, Ph.D +
- en: Aaron Critchley
  id: totrans-770
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Aaron Critchley
- en: Adam Hooper
  id: totrans-771
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Adam Hooper
- en: Adam J. Stewart
  id: totrans-772
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Adam J. Stewart
- en: Adam Kim
  id: totrans-773
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 金亚当
- en: Adam Klimont +
  id: totrans-774
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Adam Klimont +
- en: Addison Lynch +
  id: totrans-775
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Addison Lynch +
- en: Alan Hogue +
  id: totrans-776
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alan Hogue +
- en: Alex Radu +
  id: totrans-777
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Radu +
- en: Alex Rychyk
  id: totrans-778
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Rychyk
- en: Alex Strick van Linschoten +
  id: totrans-779
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Strick van Linschoten +
- en: Alex Volkov +
  id: totrans-780
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Volkov +
- en: Alexander Buchkovsky
  id: totrans-781
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alexander Buchkovsky
- en: Alexander Hess +
  id: totrans-782
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alexander Hess +
- en: Alexander Ponomaroff +
  id: totrans-783
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alexander Ponomaroff +
- en: Allison Browne +
  id: totrans-784
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Allison Browne +
- en: Aly Sivji
  id: totrans-785
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Aly Sivji
- en: Andrew
  id: totrans-786
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew
- en: Andrew Gross +
  id: totrans-787
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Gross +
- en: Andrew Spott +
  id: totrans-788
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Spott +
- en: Andy +
  id: totrans-789
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andy +
- en: Aniket uttam +
  id: totrans-790
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Aniket uttam +
- en: Anjali2019 +
  id: totrans-791
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anjali2019 +
- en: Anjana S +
  id: totrans-792
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安娟 +
- en: Antti Kaihola +
  id: totrans-793
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安蒂·凯霍拉 +
- en: Anudeep Tubati +
  id: totrans-794
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anudeep Tubati +
- en: Arjun Sharma +
  id: totrans-795
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Arjun Sharma +
- en: Armin Varshokar
  id: totrans-796
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Armin Varshokar
- en: Artem Bogachev
  id: totrans-797
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Artem Bogachev
- en: ArtinSarraf +
  id: totrans-798
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ArtinSarraf +
- en: Barry Fitzgerald +
  id: totrans-799
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 巴里·菲茨杰拉德 +
- en: Bart Aelterman +
  id: totrans-800
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bart Aelterman +
- en: Ben James +
  id: totrans-801
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ben James +
- en: Ben Nelson +
  id: totrans-802
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ben Nelson +
- en: Benjamin Grove +
  id: totrans-803
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Benjamin Grove +
- en: Benjamin Rowell +
  id: totrans-804
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Benjamin Rowell +
- en: Benoit Paquet +
  id: totrans-805
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Benoit Paquet +
- en: Boris Lau +
  id: totrans-806
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Boris Lau +
- en: Brett Naul
  id: totrans-807
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brett Naul
- en: Brian Choi +
  id: totrans-808
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brian Choi +
- en: C.A.M. Gerlach +
  id: totrans-809
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: C.A.M. Gerlach +
- en: Carl Johan +
  id: totrans-810
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Carl Johan +
- en: Chalmer Lowe
  id: totrans-811
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chalmer Lowe
- en: Chang She
  id: totrans-812
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chang She
- en: Charles David +
  id: totrans-813
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Charles David +
- en: Cheuk Ting Ho
  id: totrans-814
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Cheuk Ting Ho
- en: Chris
  id: totrans-815
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris
- en: Chris Roberts +
  id: totrans-816
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Roberts +
- en: Christopher Whelan
  id: totrans-817
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Christopher Whelan
- en: Chu Qing Hao +
  id: totrans-818
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 朱庆浩 +
- en: Da Cheezy Mobsta +
  id: totrans-819
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Da Cheezy Mobsta +
- en: Damini Satya
  id: totrans-820
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Damini Satya
- en: Daniel Himmelstein
  id: totrans-821
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Himmelstein
- en: Daniel Saxton +
  id: totrans-822
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Saxton +
- en: Darcy Meyer +
  id: totrans-823
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Darcy Meyer +
- en: DataOmbudsman
  id: totrans-824
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DataOmbudsman
- en: David Arcos
  id: totrans-825
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Arcos
- en: David Krych
  id: totrans-826
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Krych
- en: Dean Langsam +
  id: totrans-827
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dean Langsam +
- en: Diego Argueta +
  id: totrans-828
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Diego Argueta +
- en: Diego Torres +
  id: totrans-829
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Diego Torres +
- en: Dobatymo +
  id: totrans-830
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dobatymo +
- en: Doug Latornell +
  id: totrans-831
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Doug Latornell +
- en: Dr. Irv
  id: totrans-832
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dr. Irv
- en: Dylan Dmitri Gray +
  id: totrans-833
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dylan Dmitri Gray +
- en: Eric Boxer +
  id: totrans-834
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric Boxer +
- en: Eric Chea
  id: totrans-835
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric Chea
- en: Erik +
  id: totrans-836
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Erik +
- en: Erik Nilsson +
  id: totrans-837
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Erik Nilsson +
- en: Fabian Haase +
  id: totrans-838
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fabian Haase +
- en: Fabian Retkowski
  id: totrans-839
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fabian Retkowski
- en: Fabien Aulaire +
  id: totrans-840
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fabien Aulaire +
- en: Fakabbir Amin +
  id: totrans-841
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fakabbir Amin +
- en: Fei Phoon +
  id: totrans-842
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fei Phoon +
- en: Fernando Margueirat +
  id: totrans-843
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fernando Margueirat +
- en: Florian Müller +
  id: totrans-844
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Florian Müller +
- en: Fábio Rosado +
  id: totrans-845
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fábio Rosado +
- en: Gabe Fernando
  id: totrans-846
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 盖布·费尔南多
- en: Gabriel Reid +
  id: totrans-847
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 加布里埃尔·雷德 +
- en: Giftlin Rajaiah
  id: totrans-848
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Giftlin Rajaiah
- en: Gioia Ballin +
  id: totrans-849
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gioia Ballin +
- en: Gjelt
  id: totrans-850
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gjelt
- en: Gosuke Shibahara +
  id: totrans-851
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gosuke Shibahara +
- en: Graham Inggs
  id: totrans-852
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Graham Inggs
- en: Guillaume Gay
  id: totrans-853
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Guillaume Gay
- en: Guillaume Lemaitre +
  id: totrans-854
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Guillaume Lemaitre +
- en: Hannah Ferchland
  id: totrans-855
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 汉娜·费尔克兰德
- en: Haochen Wu
  id: totrans-856
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Haochen Wu
- en: Hubert +
  id: totrans-857
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hubert +
- en: HubertKl +
  id: totrans-858
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: HubertKl +
- en: HyunTruth +
  id: totrans-859
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: HyunTruth +
- en: Iain Barr
  id: totrans-860
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Iain Barr
- en: Ignacio Vergara Kausel +
  id: totrans-861
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ignacio Vergara Kausel +
- en: Irv Lustig +
  id: totrans-862
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Irv Lustig +
- en: IsvenC +
  id: totrans-863
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IsvenC +
- en: Jacopo Rota
  id: totrans-864
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jacopo Rota
- en: Jakob Jarmar +
  id: totrans-865
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jakob Jarmar +
- en: James Bourbeau +
  id: totrans-866
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: James Bourbeau +
- en: James Myatt +
  id: totrans-867
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: James Myatt +
- en: James Winegar +
  id: totrans-868
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: James Winegar +
- en: Jan Rudolph
  id: totrans-869
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jan Rudolph
- en: Jared Groves +
  id: totrans-870
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jared Groves +
- en: Jason Kiley +
  id: totrans-871
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jason Kiley +
- en: Javad Noorbakhsh +
  id: totrans-872
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Javad Noorbakhsh +
- en: Jay Offerdahl +
  id: totrans-873
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jay Offerdahl +
- en: Jeff Reback
  id: totrans-874
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeff Reback
- en: Jeongmin Yu +
  id: totrans-875
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 俞正民 +
- en: Jeremy Schendel
  id: totrans-876
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeremy Schendel
- en: Jerod Estapa +
  id: totrans-877
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jerod Estapa +
- en: Jesper Dramsch +
  id: totrans-878
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jesper Dramsch +
- en: Jim Jeon +
  id: totrans-879
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jim Jeon +
- en: Joe Jevnik
  id: totrans-880
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joe Jevnik
- en: Joel Nothman
  id: totrans-881
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joel Nothman
- en: Joel Ostblom +
  id: totrans-882
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joel Ostblom +
- en: Jordi Contestí
  id: totrans-883
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jordi Contestí
- en: Jorge López Fueyo +
  id: totrans-884
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 胡尔赫·洛佩斯富耶奥 +
- en: Joris Van den Bossche
  id: totrans-885
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Van den Bossche
- en: Jose Quinones +
  id: totrans-886
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jose Quinones +
- en: Jose Rivera-Rubio +
  id: totrans-887
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jose Rivera-Rubio +
- en: Josh
  id: totrans-888
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Josh
- en: Jun +
  id: totrans-889
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 军 +
- en: Justin Zheng +
  id: totrans-890
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Justin Zheng +
- en: Kaiqi Dong +
  id: totrans-891
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 董凯琪 +
- en: Kalyan Gokhale
  id: totrans-892
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kalyan Gokhale
- en: Kang Yoosam +
  id: totrans-893
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 康友三 +
- en: Karl Dunkle Werner +
  id: totrans-894
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Karl Dunkle Werner +
- en: Karmanya Aggarwal +
  id: totrans-895
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Karmanya Aggarwal +
- en: Kevin Markham +
  id: totrans-896
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 凯文·马克汉姆 +
- en: Kevin Sheppard
  id: totrans-897
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kevin Sheppard
- en: Kimi Li +
  id: totrans-898
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kimi Li +
- en: Koustav Samaddar +
  id: totrans-899
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Koustav Samaddar +
- en: Krishna +
  id: totrans-900
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Krishna +
- en: Kristian Holsheimer +
  id: totrans-901
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kristian Holsheimer +
- en: Ksenia Gueletina +
  id: totrans-902
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ksenia Gueletina +
- en: Kyle Prestel +
  id: totrans-903
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kyle Prestel +
- en: LJ +
  id: totrans-904
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LJ +
- en: LeakedMemory +
  id: totrans-905
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LeakedMemory +
- en: Li Jin +
  id: totrans-906
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 李进 +
- en: Licht Takeuchi
  id: totrans-907
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Licht Takeuchi
- en: Luca Donini +
  id: totrans-908
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Luca Donini +
- en: Luciano Viola +
  id: totrans-909
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Luciano Viola +
- en: Mak Sze Chun +
  id: totrans-910
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 麦思俊 +
- en: Marc Garcia
  id: totrans-911
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marc Garcia
- en: Marius Potgieter +
  id: totrans-912
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marius Potgieter +
- en: Mark Sikora +
  id: totrans-913
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mark Sikora +
- en: Markus Meier +
  id: totrans-914
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Markus Meier +
- en: Marlene Silva Marchena +
  id: totrans-915
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marlene Silva Marchena +
- en: Martin Babka +
  id: totrans-916
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Martin Babka +
- en: MatanCohe +
  id: totrans-917
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MatanCohe +
- en: Mateusz Woś +
  id: totrans-918
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mateusz Woś +
- en: Mathew Topper +
  id: totrans-919
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mathew Topper +
- en: Matt Boggess +
  id: totrans-920
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Boggess +
- en: Matt Cooper +
  id: totrans-921
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Cooper +
- en: Matt Williams +
  id: totrans-922
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Williams +
- en: Matthew Gilbert
  id: totrans-923
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Gilbert
- en: Matthew Roeschke
  id: totrans-924
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Roeschke
- en: Max Kanter
  id: totrans-925
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Max Kanter
- en: Michael Odintsov
  id: totrans-926
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Odintsov
- en: Michael Silverstein +
  id: totrans-927
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Silverstein +
- en: Michael-J-Ward +
  id: totrans-928
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael-J-Ward +
- en: Mickaël Schoentgen +
  id: totrans-929
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mickaël Schoentgen +
- en: Miguel Sánchez de León Peque +
  id: totrans-930
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Miguel Sánchez de León Peque +
- en: Ming Li
  id: totrans-931
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ming Li
- en: Mitar
  id: totrans-932
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mitar
- en: Mitch Negus
  id: totrans-933
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mitch Negus
- en: Monson Shao +
  id: totrans-934
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Monson Shao +
- en: Moonsoo Kim +
  id: totrans-935
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Moonsoo Kim +
- en: Mortada Mehyar
  id: totrans-936
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mortada Mehyar
- en: Myles Braithwaite
  id: totrans-937
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Myles Braithwaite
- en: Nehil Jain +
  id: totrans-938
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nehil Jain +
- en: Nicholas Musolino +
  id: totrans-939
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nicholas Musolino +
- en: Nicolas Dickreuter +
  id: totrans-940
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nicolas Dickreuter +
- en: Nikhil Kumar Mengani +
  id: totrans-941
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nikhil Kumar Mengani +
- en: Nikoleta Glynatsi +
  id: totrans-942
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nikoleta Glynatsi +
- en: Ondrej Kokes
  id: totrans-943
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ondrej Kokes
- en: Pablo Ambrosio +
  id: totrans-944
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pablo Ambrosio +
- en: Pamela Wu +
  id: totrans-945
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pamela Wu +
- en: Parfait G +
  id: totrans-946
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Parfait G +
- en: Patrick Park +
  id: totrans-947
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Patrick Park +
- en: Paul
  id: totrans-948
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul
- en: Paul Ganssle
  id: totrans-949
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul Ganssle
- en: Paul Reidy
  id: totrans-950
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul Reidy
- en: Paul van Mulbregt +
  id: totrans-951
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul van Mulbregt +
- en: Phillip Cloud
  id: totrans-952
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Phillip Cloud
- en: Pietro Battiston
  id: totrans-953
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pietro Battiston
- en: Piyush Aggarwal +
  id: totrans-954
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Piyush Aggarwal +
- en: Prabakaran Kumaresshan +
  id: totrans-955
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Prabakaran Kumaresshan +
- en: Pulkit Maloo
  id: totrans-956
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pulkit Maloo
- en: Pyry Kovanen
  id: totrans-957
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pyry Kovanen
- en: Rajib Mitra +
  id: totrans-958
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rajib Mitra +
- en: Redonnet Louis +
  id: totrans-959
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Redonnet Louis +
- en: Rhys Parry +
  id: totrans-960
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rhys Parry +
- en: Rick +
  id: totrans-961
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rick +
- en: Robin
  id: totrans-962
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robin
- en: Roei.r +
  id: totrans-963
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Roei.r +
- en: RomainSa +
  id: totrans-964
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: RomainSa +
- en: Roman Imankulov +
  id: totrans-965
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Roman Imankulov +
- en: Roman Yurchak +
  id: totrans-966
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Roman Yurchak +
- en: Ruijing Li +
  id: totrans-967
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ruijing Li +
- en: Ryan +
  id: totrans-968
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ryan +
- en: Ryan Nazareth +
  id: totrans-969
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ryan Nazareth +
- en: Rüdiger Busche +
  id: totrans-970
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rüdiger Busche +
- en: SEUNG HOON, SHIN +
  id: totrans-971
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SEUNG HOON, SHIN +
- en: Sandrine Pataut +
  id: totrans-972
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sandrine Pataut +
- en: Sangwoong Yoon
  id: totrans-973
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sangwoong Yoon
- en: Santosh Kumar +
  id: totrans-974
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Santosh Kumar +
- en: Saurav Chakravorty +
  id: totrans-975
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Saurav Chakravorty +
- en: Scott McAllister +
  id: totrans-976
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Scott McAllister +
- en: Sean Chan +
  id: totrans-977
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sean Chan +
- en: Shadi Akiki +
  id: totrans-978
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shadi Akiki +
- en: Shengpu Tang +
  id: totrans-979
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shengpu Tang +
- en: Shirish Kadam +
  id: totrans-980
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shirish Kadam +
- en: Simon Hawkins +
  id: totrans-981
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Simon Hawkins +
- en: Simon Riddell +
  id: totrans-982
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Simon Riddell +
- en: Simone Basso
  id: totrans-983
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Simone Basso
- en: Sinhrks
  id: totrans-984
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sinhrks
- en: Soyoun(Rose) Kim +
  id: totrans-985
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Soyoun(Rose) Kim +
- en: Srinivas Reddy Thatiparthy (శ్రీనివాస్ రెడ్డి తాటిపర్తి) +
  id: totrans-986
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Srinivas Reddy Thatiparthy (శ్రీనివాస్ రెడ్డి తాటిపర్తి) +
- en: Stefaan Lippens +
  id: totrans-987
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stefaan Lippens +
- en: Stefano Cianciulli
  id: totrans-988
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stefano Cianciulli
- en: Stefano Miccoli +
  id: totrans-989
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stefano Miccoli +
- en: Stephen Childs
  id: totrans-990
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stephen Childs
- en: Stephen Pascoe
  id: totrans-991
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stephen Pascoe
- en: Steve Baker +
  id: totrans-992
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Steve Baker +
- en: Steve Cook +
  id: totrans-993
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Steve Cook +
- en: Steve Dower +
  id: totrans-994
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Steve Dower +
- en: Stéphan Taljaard +
  id: totrans-995
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stéphan Taljaard +
- en: Sumin Byeon +
  id: totrans-996
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sumin Byeon +
- en: Sören +
  id: totrans-997
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sören +
- en: Tamas Nagy +
  id: totrans-998
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tamas Nagy +
- en: Tanya Jain +
  id: totrans-999
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tanya Jain +
- en: Tarbo Fukazawa
  id: totrans-1000
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tarbo Fukazawa
- en: Thein Oo +
  id: totrans-1001
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thein Oo +
- en: Thiago Cordeiro da Fonseca +
  id: totrans-1002
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thiago Cordeiro da Fonseca +
- en: Thierry Moisan
  id: totrans-1003
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thierry Moisan
- en: Thiviyan Thanapalasingam +
  id: totrans-1004
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thiviyan Thanapalasingam +
- en: Thomas Lentali +
  id: totrans-1005
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Lentali +
- en: Tim D. Smith +
  id: totrans-1006
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tim D. Smith +
- en: Tim Swast
  id: totrans-1007
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tim Swast
- en: Tom Augspurger
  id: totrans-1008
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tom Augspurger
- en: Tomasz Kluczkowski +
  id: totrans-1009
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tomasz Kluczkowski +
- en: Tony Tao +
  id: totrans-1010
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tony Tao +
- en: Triple0 +
  id: totrans-1011
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Triple0 +
- en: Troels Nielsen +
  id: totrans-1012
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Troels Nielsen +
- en: Tuhin Mahmud +
  id: totrans-1013
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tuhin Mahmud +
- en: Tyler Reddy +
  id: totrans-1014
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tyler Reddy +
- en: Uddeshya Singh
  id: totrans-1015
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Uddeshya Singh
- en: Uwe L. Korn +
  id: totrans-1016
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Uwe L. Korn +
- en: Vadym Barda +
  id: totrans-1017
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vadym Barda +
- en: Varad Gunjal +
  id: totrans-1018
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Varad Gunjal +
- en: Victor Maryama +
  id: totrans-1019
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Victor Maryama +
- en: Victor Villas
  id: totrans-1020
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Victor Villas
- en: Vincent La
  id: totrans-1021
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vincent La
- en: Vitória Helena +
  id: totrans-1022
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vitória Helena +
- en: Vu Le
  id: totrans-1023
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vu Le
- en: Vyom Jain +
  id: totrans-1024
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vyom Jain +
- en: Weiwen Gu +
  id: totrans-1025
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Weiwen Gu +
- en: Wenhuan
  id: totrans-1026
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wenhuan
- en: Wes Turner
  id: totrans-1027
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wes Turner
- en: Wil Tan +
  id: totrans-1028
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wil Tan +
- en: William Ayd
  id: totrans-1029
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: William Ayd
- en: Yeojin Kim +
  id: totrans-1030
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yeojin Kim +
- en: Yitzhak Andrade +
  id: totrans-1031
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yitzhak Andrade +
- en: Yuecheng Wu +
  id: totrans-1032
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yuecheng Wu +
- en: Yuliya Dovzhenko +
  id: totrans-1033
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yuliya Dovzhenko +
- en: Yury Bayda +
  id: totrans-1034
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yury Bayda +
- en: Zac Hatfield-Dodds +
  id: totrans-1035
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zac Hatfield-Dodds +
- en: aberres +
  id: totrans-1036
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: aberres +
- en: aeltanawy +
  id: totrans-1037
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: aeltanawy +
- en: ailchau +
  id: totrans-1038
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ailchau +
- en: alimcmaster1
  id: totrans-1039
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: alimcmaster1
- en: alphaCTzo7G +
  id: totrans-1040
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: alphaCTzo7G +
- en: amphy +
  id: totrans-1041
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: amphy +
- en: araraonline +
  id: totrans-1042
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: araraonline +
- en: azure-pipelines[bot] +
  id: totrans-1043
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: azure-pipelines[bot] +
- en: benarthur91 +
  id: totrans-1044
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: benarthur91 +
- en: bk521234 +
  id: totrans-1045
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: bk521234 +
- en: cgangwar11 +
  id: totrans-1046
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: cgangwar11 +
- en: chris-b1
  id: totrans-1047
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: chris-b1
- en: cxl923cc +
  id: totrans-1048
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: cxl923cc +
- en: dahlbaek +
  id: totrans-1049
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: dahlbaek +
- en: dannyhyunkim +
  id: totrans-1050
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: dannyhyunkim +
- en: darke-spirits +
  id: totrans-1051
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: darke-spirits +
- en: david-liu-brattle-1
  id: totrans-1052
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: david-liu-brattle-1
- en: davidmvalente +
  id: totrans-1053
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: davidmvalente +
- en: deflatSOCO
  id: totrans-1054
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: deflatSOCO
- en: doosik_bae +
  id: totrans-1055
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: doosik_bae +
- en: dylanchase +
  id: totrans-1056
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: dylanchase +
- en: eduardo naufel schettino +
  id: totrans-1057
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: eduardo naufel schettino +
- en: euri10 +
  id: totrans-1058
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: euri10 +
- en: evangelineliu +
  id: totrans-1059
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: evangelineliu +
- en: fengyqf +
  id: totrans-1060
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: fengyqf +
- en: fjdiod
  id: totrans-1061
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: fjdiod
- en: fl4p +
  id: totrans-1062
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: fl4p +
- en: fleimgruber +
  id: totrans-1063
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: fleimgruber +
- en: gfyoung
  id: totrans-1064
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gfyoung
- en: h-vetinari
  id: totrans-1065
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: h-vetinari
- en: harisbal +
  id: totrans-1066
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: harisbal +
- en: henriqueribeiro +
  id: totrans-1067
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: henriqueribeiro +
- en: himanshu awasthi
  id: totrans-1068
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: himanshu awasthi
- en: hongshaoyang +
  id: totrans-1069
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: hongshaoyang +
- en: igorfassen +
  id: totrans-1070
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: igorfassen +
- en: jalazbe +
  id: totrans-1071
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jalazbe +
- en: jbrockmendel
  id: totrans-1072
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jbrockmendel
- en: jh-wu +
  id: totrans-1073
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jh-wu +
- en: justinchan23 +
  id: totrans-1074
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: justinchan23 +
- en: louispotok
  id: totrans-1075
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: louispotok
- en: marcosrullan +
  id: totrans-1076
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: marcosrullan +
- en: miker985
  id: totrans-1077
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: miker985
- en: nicolab100 +
  id: totrans-1078
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: nicolab100 +
- en: nprad
  id: totrans-1079
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: nprad
- en: nsuresh +
  id: totrans-1080
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: nsuresh +
- en: ottiP
  id: totrans-1081
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ottiP
- en: pajachiet +
  id: totrans-1082
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: pajachiet +
- en: raguiar2 +
  id: totrans-1083
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: raguiar2 +
- en: ratijas +
  id: totrans-1084
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ratijas +
- en: realead +
  id: totrans-1085
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: realead +
- en: robbuckley +
  id: totrans-1086
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: robbuckley +
- en: saurav2608 +
  id: totrans-1087
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: saurav2608 +
- en: sideeye +
  id: totrans-1088
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sideeye +
- en: ssikdar1
  id: totrans-1089
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ssikdar1
- en: svenharris +
  id: totrans-1090
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: svenharris +
- en: syutbai +
  id: totrans-1091
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: syutbai +
- en: testvinder +
  id: totrans-1092
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: testvinder +
- en: thatneat
  id: totrans-1093
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: thatneat
- en: tmnhat2001
  id: totrans-1094
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tmnhat2001
- en: tomascassidy +
  id: totrans-1095
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tomascassidy +
- en: tomneep
  id: totrans-1096
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tomneep
- en: topper-123
  id: totrans-1097
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: topper-123
- en: vkk800 +
  id: totrans-1098
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: vkk800 +
- en: winlu +
  id: totrans-1099
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: winlu +
- en: ym-pett +
  id: totrans-1100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ym-pett +
- en: yrhooke +
  id: totrans-1101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: yrhooke +
- en: ywpark1 +
  id: totrans-1102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ywpark1 +
- en: zertrin
  id: totrans-1103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: zertrin
- en: zhezherun +
  id: totrans-1104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: zhezherun +
- en: Enhancements
  id: totrans-1105
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Enhancements
- en: '### Optional integer NA support'
  id: totrans-1106
  prefs: []
  type: TYPE_NORMAL
  zh: '### 可选整数 NA 支持'
- en: pandas has gained the ability to hold integer dtypes with missing values. This
    long requested feature is enabled through the use of [extension types](../development/extending.html#extending-extension-types).
  id: totrans-1107
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 已经具备了保持带有缺失值的整数数据类型的能力。这个长期请求的功能是通过使用[扩展类型](../development/extending.html#extending-extension-types)来实现的。
- en: Note
  id: totrans-1108
  prefs: []
  type: TYPE_NORMAL
  zh: Note
- en: IntegerArray is currently experimental. Its API or implementation may change
    without warning.
  id: totrans-1109
  prefs: []
  type: TYPE_NORMAL
  zh: IntegerArray 目前是实验性的。其 API 或实现可能会在没有警告的情况下发生更改。
- en: We can construct a `Series` with the specified dtype. The dtype string `Int64`
    is a pandas `ExtensionDtype`. Specifying a list or array using the traditional
    missing value marker of `np.nan` will infer to integer dtype. The display of the
    `Series` will also use the `NaN` to indicate missing values in string outputs.
    ([GH 20700](https://github.com/pandas-dev/pandas/issues/20700), [GH 20747](https://github.com/pandas-dev/pandas/issues/20747),
    [GH 22441](https://github.com/pandas-dev/pandas/issues/22441), [GH 21789](https://github.com/pandas-dev/pandas/issues/21789),
    [GH 22346](https://github.com/pandas-dev/pandas/issues/22346))
  id: totrans-1110
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以构造一个具有指定数据类型的 `Series`。数据类型字符串 `Int64` 是 pandas 的 `ExtensionDtype`。使用传统的缺失值标记
    `np.nan` 来指定列表或数组将推断为整数数据类型。`Series` 的显示也将使用 `NaN` 来指示字符串输出中的缺失值。 ([GH 20700](https://github.com/pandas-dev/pandas/issues/20700),
    [GH 20747](https://github.com/pandas-dev/pandas/issues/20747), [GH 22441](https://github.com/pandas-dev/pandas/issues/22441),
    [GH 21789](https://github.com/pandas-dev/pandas/issues/21789), [GH 22346](https://github.com/pandas-dev/pandas/issues/22346))
- en: '[PRE77]'
  id: totrans-1111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: Operations on these dtypes will propagate `NaN` as other pandas operations.
  id: totrans-1112
  prefs: []
  type: TYPE_NORMAL
  zh: 对这些数据类型的操作将像其他 pandas 操作一样传播 `NaN`。
- en: '[PRE78]'
  id: totrans-1113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: These dtypes can operate as part of a `DataFrame`.
  id: totrans-1114
  prefs: []
  type: TYPE_NORMAL
  zh: 这些数据类型可以作为 `DataFrame` 的一部分运行。
- en: '[PRE79]'
  id: totrans-1115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: These dtypes can be merged, reshaped, and casted.
  id: totrans-1116
  prefs: []
  type: TYPE_NORMAL
  zh: 这些数据类型可以合并、重塑和转换。
- en: '[PRE80]'
  id: totrans-1117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: Reduction and groupby operations such as `sum` work.
  id: totrans-1118
  prefs: []
  type: TYPE_NORMAL
  zh: 缩减和分组操作如 `sum` 可以工作。
- en: '[PRE81]'
  id: totrans-1119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: Warning
  id: totrans-1120
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: The Integer NA support currently uses the capitalized dtype version, e.g. `Int8`
    as compared to the traditional `int8`. This may be changed at a future date.
  id: totrans-1121
  prefs: []
  type: TYPE_NORMAL
  zh: 整数 NA 支持当前使用大写的数据类型版本，例如 `Int8`，与传统的 `int8` 相比。这可能会在未来的某个日期更改。
- en: 'See [Nullable integer data type](../user_guide/integer_na.html#integer-na)
    for more.  ### Accessing the values in a Series or Index'
  id: totrans-1122
  prefs: []
  type: TYPE_NORMAL
  zh: '有关更多信息，请参阅[可空整数数据类型](../user_guide/integer_na.html#integer-na)。  ### 访问系列或索引中的值'
- en: '[`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") and `Index.array` have been added for extracting the array
    backing a `Series` or `Index`. ([GH 19954](https://github.com/pandas-dev/pandas/issues/19954),
    [GH 23623](https://github.com/pandas-dev/pandas/issues/23623))'
  id: totrans-1123
  prefs: []
  type: TYPE_NORMAL
  zh: 已添加 [`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") 和 `Index.array` 用于提取 `Series` 或 `Index` 的支持数组。 ([GH 19954](https://github.com/pandas-dev/pandas/issues/19954),
    [GH 23623](https://github.com/pandas-dev/pandas/issues/23623))
- en: '[PRE82]'
  id: totrans-1124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE82]'
- en: Historically, this would have been done with `series.values`, but with `.values`
    it was unclear whether the returned value would be the actual array, some transformation
    of it, or one of pandas custom arrays (like `Categorical`). For example, with
    [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex "pandas.PeriodIndex"),
    `.values` generates a new ndarray of period objects each time.
  id: totrans-1125
  prefs: []
  type: TYPE_NORMAL
  zh: 历史上，这通常通过 `series.values` 来完成，但是使用 `.values` 时不清楚返回的值是实际数组、它的某种转换，还是 pandas
    自定义数组之一（如 `Categorical`）。 例如，对于 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")，`.values` 每次都会生成一个新的 period 对象的 ndarray。
- en: '[PRE83]'
  id: totrans-1126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE83]'
- en: If you need an actual NumPy array, use [`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy") or `Index.to_numpy()`.
  id: totrans-1127
  prefs: []
  type: TYPE_NORMAL
  zh: 如果需要实际的 NumPy 数组，请使用 [`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy") 或 `Index.to_numpy()`。
- en: '[PRE84]'
  id: totrans-1128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE84]'
- en: For Series and Indexes backed by normal NumPy arrays, [`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") will return a new `arrays.PandasArray`, which is a thin
    (no-copy) wrapper around a [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)"). `PandasArray` isn’t especially useful on its own, but it
    does provide the same interface as any extension array defined in pandas or by
    a third-party library.
  id: totrans-1129
  prefs: []
  type: TYPE_NORMAL
  zh: 对于由普通 NumPy 数组支持的 Series 和 Index，[`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") 将返回一个新的 `arrays.PandasArray`，它是一个薄（无复制）的包装器，封装了一个 [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(在 NumPy v1.26 中)"). `PandasArray` 本身并不特别有用，但它确实提供了与 pandas 中定义的任何扩展数组或第三方库相同的接口。
- en: '[PRE85]'
  id: totrans-1130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE85]'
- en: We haven’t removed or deprecated [`Series.values`](../reference/api/pandas.Series.values.html#pandas.Series.values
    "pandas.Series.values") or [`DataFrame.values`](../reference/api/pandas.DataFrame.values.html#pandas.DataFrame.values
    "pandas.DataFrame.values"), but we highly recommend and using `.array` or `.to_numpy()`
    instead.
  id: totrans-1131
  prefs: []
  type: TYPE_NORMAL
  zh: 我们没有移除或弃用 [`Series.values`](../reference/api/pandas.Series.values.html#pandas.Series.values
    "pandas.Series.values") 或 [`DataFrame.values`](../reference/api/pandas.DataFrame.values.html#pandas.DataFrame.values
    "pandas.DataFrame.values")，但我们强烈建议使用 `.array` 或 `.to_numpy()`。
- en: 'See [Dtypes](../user_guide/basics.html#basics-dtypes) and [Attributes and Underlying
    Data](../user_guide/basics.html#basics-attrs) for more.  ### `pandas.array`: a
    new top-level method for creating arrays'
  id: totrans-1132
  prefs: []
  type: TYPE_NORMAL
  zh: '更多信息请参见 [Dtypes](../user_guide/basics.html#basics-dtypes) 和 [Attributes and
    Underlying Data](../user_guide/basics.html#basics-attrs)。  ### `pandas.array`:
    用于创建数组的新顶级方法'
- en: A new top-level method [`array()`](../reference/api/pandas.array.html#pandas.array
    "pandas.array") has been added for creating 1-dimensional arrays ([GH 22860](https://github.com/pandas-dev/pandas/issues/22860)).
    This can be used to create any [extension array](../development/extending.html#extending-extension-types),
    including extension arrays registered by [3rd party libraries](https://pandas.pydata.org/community/ecosystem.html).
    See the [dtypes docs](../user_guide/basics.html#basics-dtypes) for more on extension
    arrays.
  id: totrans-1133
  prefs: []
  type: TYPE_NORMAL
  zh: 新的顶级方法 [`array()`](../reference/api/pandas.array.html#pandas.array "pandas.array")
    已添加用于创建 1 维数组（[GH 22860](https://github.com/pandas-dev/pandas/issues/22860)）。这可以用于创建任何
    [扩展数组](../development/extending.html#extending-extension-types)，包括由 [第三方库](https://pandas.pydata.org/community/ecosystem.html)
    注册的扩展数组。有关扩展数组的更多信息，请参见 [dtypes 文档](../user_guide/basics.html#basics-dtypes)。
- en: '[PRE86]'
  id: totrans-1134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE86]'
- en: Passing data for which there isn’t dedicated extension type (e.g. float, integer,
    etc.) will return a new `arrays.PandasArray`, which is just a thin (no-copy) wrapper
    around a [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)") that satisfies the pandas extension array interface.
  id: totrans-1135
  prefs: []
  type: TYPE_NORMAL
  zh: 传递没有专用扩展类型的数据（例如浮点数、整数等）将返回一个新的 `arrays.PandasArray`，它只是一个围绕满足 pandas 扩展数组接口的
    [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(在 NumPy v1.26)") 的薄包装（无复制）。
- en: '[PRE87]'
  id: totrans-1136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE87]'
- en: On their own, a `PandasArray` isn’t a very useful object. But if you need write
    low-level code that works generically for any [`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray"), `PandasArray` satisfies that need.
  id: totrans-1137
  prefs: []
  type: TYPE_NORMAL
  zh: 单独来看，`PandasArray` 不是一个非常有用的对象。但是，如果您需要编写适用于任何 [`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray") 的低级代码，`PandasArray` 可以满足这个需求。
- en: Notice that by default, if no `dtype` is specified, the dtype of the returned
    array is inferred from the data. In particular, note that the first example of
    `[1, 2, np.nan]` would have returned a floating-point array, since `NaN` is a
    float.
  id: totrans-1138
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，默认情况下，如果未指定 `dtype`，则返回数组的 dtype 将从数据中推断出来。特别要注意的是，注意第一个示例 `[1, 2, np.nan]`
    将返回一个浮点数数组，���为 `NaN` 是一个浮点数。
- en: '[PRE88]  ### Storing Interval and Period data in Series and DataFrame'
  id: totrans-1139
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE88]  ### 在 Series 和 DataFrame 中存储区间和周期数据'
- en: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    and [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    data may now be stored in a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame"), in addition to an [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") and [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") like previously ([GH 19453](https://github.com/pandas-dev/pandas/issues/19453),
    [GH 22862](https://github.com/pandas-dev/pandas/issues/22862)).'
  id: totrans-1140
  prefs: []
  type: TYPE_NORMAL
  zh: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    和 [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    数据现在可以存储在 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    中，除了之前只能存储在 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 和 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 中（[GH 19453](https://github.com/pandas-dev/pandas/issues/19453),
    [GH 22862](https://github.com/pandas-dev/pandas/issues/22862)）。'
- en: '[PRE89]'
  id: totrans-1141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE89]'
- en: 'For periods:'
  id: totrans-1142
  prefs: []
  type: TYPE_NORMAL
  zh: 对于周期数据：
- en: '[PRE90]'
  id: totrans-1143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE90]'
- en: Previously, these would be cast to a NumPy array with object dtype. In general,
    this should result in better performance when storing an array of intervals or
    periods in a [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    or column of a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame").
  id: totrans-1144
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，这些将被转换为具有对象dtype的NumPy数组。一般来说，当在[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")中存储区间或周期数组时，这应该会导致更好的性能，或者在[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")的列中存储区间或周期数组时。
- en: 'Use [`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") to extract the underlying array of intervals or periods
    from the `Series`:'
  id: totrans-1145
  prefs: []
  type: TYPE_NORMAL
  zh: 使用[`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array")从`Series`中提取区间或周期的基础数组：
- en: '[PRE91]'
  id: totrans-1146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE91]'
- en: These return an instance of [`arrays.IntervalArray`](../reference/api/pandas.arrays.IntervalArray.html#pandas.arrays.IntervalArray
    "pandas.arrays.IntervalArray") or [`arrays.PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray"), the new extension arrays that back interval and
    period data.
  id: totrans-1147
  prefs: []
  type: TYPE_NORMAL
  zh: 这些返回[`arrays.IntervalArray`](../reference/api/pandas.arrays.IntervalArray.html#pandas.arrays.IntervalArray
    "pandas.arrays.IntervalArray")或[`arrays.PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray")的实例，这是支持区间和周期数据的新扩展数组。
- en: Warning
  id: totrans-1148
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: For backwards compatibility, [`Series.values`](../reference/api/pandas.Series.values.html#pandas.Series.values
    "pandas.Series.values") continues to return a NumPy array of objects for Interval
    and Period data. We recommend using [`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") when you need the array of data stored in the `Series`,
    and [`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy") when you know you need a NumPy array.
  id: totrans-1149
  prefs: []
  type: TYPE_NORMAL
  zh: 为了向后兼容，[`Series.values`](../reference/api/pandas.Series.values.html#pandas.Series.values
    "pandas.Series.values")继续返回一个对象的NumPy数组，用于区间和周期数据。我们建议在需要存储在`Series`中的数据数组时使用[`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array")，在需要NumPy数组时使用[`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy")。
- en: 'See [Dtypes](../user_guide/basics.html#basics-dtypes) and [Attributes and Underlying
    Data](../user_guide/basics.html#basics-attrs) for more.  ### Joining with two
    multi-indexes'
  id: totrans-1150
  prefs: []
  type: TYPE_NORMAL
  zh: '有关更多信息，请参阅[Dtypes](../user_guide/basics.html#basics-dtypes)和[属性和底层数据](../user_guide/basics.html#basics-attrs)。  ###
    与两个多索引连接'
- en: '[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") and [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") can now be used to join multi-indexed `Dataframe` instances
    on the overlapping index levels ([GH 6360](https://github.com/pandas-dev/pandas/issues/6360))'
  id: totrans-1151
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")和[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join")现在可以用于在重叠的索引级别上连接多索引的`Dataframe`实例（[GH 6360](https://github.com/pandas-dev/pandas/issues/6360)）'
- en: See the [Merge, join, and concatenate](../user_guide/merging.html#merging-join-with-two-multi-indexes)
    documentation section.
  id: totrans-1152
  prefs: []
  type: TYPE_NORMAL
  zh: 请参阅[合并、连接和连接](../user_guide/merging.html#merging-join-with-two-multi-indexes)文档部分。
- en: '[PRE92]'
  id: totrans-1153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE92]'
- en: For earlier versions this can be done using the following.
  id: totrans-1154
  prefs: []
  type: TYPE_NORMAL
  zh: 对于早期版本，可以通过以下方式实现。
- en: '[PRE93]  ### Function `read_html` enhancements'
  id: totrans-1155
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE93]  ### 函数`read_html`增强'
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    previously ignored `colspan` and `rowspan` attributes. Now it understands them,
    treating them as sequences of cells with the same value. ([GH 17054](https://github.com/pandas-dev/pandas/issues/17054))'
  id: totrans-1156
  prefs: []
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")以前忽略`colspan`和`rowspan`属性。现在它理解它们，将它们视为具有相同值的单元格序列。([GH
    17054](https://github.com/pandas-dev/pandas/issues/17054))'
- en: '[PRE94]'
  id: totrans-1157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE94]'
- en: '*Previous behavior*:'
  id: totrans-1158
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE95]'
  id: totrans-1159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE95]'
- en: '*New behavior*:'
  id: totrans-1160
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE96]'
  id: totrans-1161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE96]'
- en: New `Styler.pipe()` method
  id: totrans-1162
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 新的`Styler.pipe()`方法
- en: The [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") class has gained a [`pipe()`](../reference/api/pandas.io.formats.style.Styler.pipe.html#pandas.io.formats.style.Styler.pipe
    "pandas.io.formats.style.Styler.pipe") method. This provides a convenient way
    to apply users’ predefined styling functions, and can help reduce “boilerplate”
    when using DataFrame styling functionality repeatedly within a notebook. ([GH
    23229](https://github.com/pandas-dev/pandas/issues/23229))
  id: totrans-1163
  prefs: []
  type: TYPE_NORMAL
  zh: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 类新增了一个 [`pipe()`](../reference/api/pandas.io.formats.style.Styler.pipe.html#pandas.io.formats.style.Styler.pipe
    "pandas.io.formats.style.Styler.pipe") 方法。这提供了一种方便的方式来应用用户预定义的样式函数，并且可以帮助减少在笔记本中重复使用
    DataFrame 样式功能时的“样板代码”。([GH 23229](https://github.com/pandas-dev/pandas/issues/23229))'
- en: '[PRE97]'
  id: totrans-1164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE97]'
- en: Similar methods already exist for other classes in pandas, including [`DataFrame.pipe()`](../reference/api/pandas.DataFrame.pipe.html#pandas.DataFrame.pipe
    "pandas.DataFrame.pipe"), `GroupBy.pipe()`, and [`Resampler.pipe()`](../reference/api/pandas.core.resample.Resampler.pipe.html#pandas.core.resample.Resampler.pipe
    "pandas.core.resample.Resampler.pipe").
  id: totrans-1165
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 中其他类已经存在类似的方法，包括 [`DataFrame.pipe()`](../reference/api/pandas.DataFrame.pipe.html#pandas.DataFrame.pipe
    "pandas.DataFrame.pipe"), `GroupBy.pipe()`, 和 [`Resampler.pipe()`](../reference/api/pandas.core.resample.Resampler.pipe.html#pandas.core.resample.Resampler.pipe
    "pandas.core.resample.Resampler.pipe").
- en: '### Renaming names in a MultiIndex'
  id: totrans-1166
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在 MultiIndex 中重命名名称'
- en: '[`DataFrame.rename_axis()`](../reference/api/pandas.DataFrame.rename_axis.html#pandas.DataFrame.rename_axis
    "pandas.DataFrame.rename_axis") now supports `index` and `columns` arguments and
    [`Series.rename_axis()`](../reference/api/pandas.Series.rename_axis.html#pandas.Series.rename_axis
    "pandas.Series.rename_axis") supports `index` argument ([GH 19978](https://github.com/pandas-dev/pandas/issues/19978)).'
  id: totrans-1167
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.rename_axis()`](../reference/api/pandas.DataFrame.rename_axis.html#pandas.DataFrame.rename_axis
    "pandas.DataFrame.rename_axis") 现在支持 `index` 和 `columns` 参数，[`Series.rename_axis()`](../reference/api/pandas.Series.rename_axis.html#pandas.Series.rename_axis
    "pandas.Series.rename_axis") 支持 `index` 参数 ([GH 19978](https://github.com/pandas-dev/pandas/issues/19978)).'
- en: This change allows a dictionary to be passed so that some of the names of a
    `MultiIndex` can be changed.
  id: totrans-1168
  prefs: []
  type: TYPE_NORMAL
  zh: 这个改变允许传递一个字典，以便更改 `MultiIndex` 的一些名称。
- en: 'Example:'
  id: totrans-1169
  prefs: []
  type: TYPE_NORMAL
  zh: '示例:'
- en: '[PRE98]'
  id: totrans-1170
  prefs: []
  type: TYPE_PRE
  zh: '[PRE98]'
- en: 'See the [Advanced documentation on renaming](../user_guide/advanced.html#advanced-index-names)
    for more details.  ### Other enhancements'
  id: totrans-1171
  prefs: []
  type: TYPE_NORMAL
  zh: '查看[高级文档中的重命名](../user_guide/advanced.html#advanced-index-names)获取更多细节。  ###
    其他增强功能'
- en: '[`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    now directly allows merge between objects of type `DataFrame` and named `Series`,
    without the need to convert the `Series` object into a `DataFrame` beforehand
    ([GH 21220](https://github.com/pandas-dev/pandas/issues/21220))'
  id: totrans-1172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    现在直接允许在 `DataFrame` 和命名 `Series` 类型对象之间进行合并，无需事先将 `Series` 对象转换为 `DataFrame` ([GH
    21220](https://github.com/pandas-dev/pandas/issues/21220))'
- en: '`ExcelWriter` now accepts `mode` as a keyword argument, enabling append to
    existing workbooks when using the `openpyxl` engine ([GH 3441](https://github.com/pandas-dev/pandas/issues/3441))'
  id: totrans-1173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExcelWriter` 现在接受 `mode` 作为关键字参数，使用 `openpyxl` 引擎时可以追加到现有工作簿中 ([GH 3441](https://github.com/pandas-dev/pandas/issues/3441))'
- en: '`FrozenList` has gained the `.union()` and `.difference()` methods. This functionality
    greatly simplifies groupby’s that rely on explicitly excluding certain columns.
    See [Splitting an object into groups](../user_guide/groupby.html#groupby-split)
    for more information ([GH 15475](https://github.com/pandas-dev/pandas/issues/15475),
    [GH 15506](https://github.com/pandas-dev/pandas/issues/15506)).'
  id: totrans-1174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`FrozenList` 新增了 `.union()` 和 `.difference()` 方法。这个功能极大地简化了依赖明确排除某些列的 groupby
    操作。查看[将对象拆分为组](../user_guide/groupby.html#groupby-split)获取更多信息 ([GH 15475](https://github.com/pandas-dev/pandas/issues/15475),
    [GH 15506](https://github.com/pandas-dev/pandas/issues/15506)).'
- en: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") now accepts `index` as an argument, allowing the
    user to override the engine’s default behavior to include or omit the dataframe’s
    indexes from the resulting Parquet file. ([GH 20768](https://github.com/pandas-dev/pandas/issues/20768))'
  id: totrans-1175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") 现在接受 `index` 作为参数，允许用户覆盖引擎的默认行为，包括或排除数据框的索引从生成的
    Parquet 文件中。([GH 20768](https://github.com/pandas-dev/pandas/issues/20768))'
- en: '[`read_feather()`](../reference/api/pandas.read_feather.html#pandas.read_feather
    "pandas.read_feather") now accepts `columns` as an argument, allowing the user
    to specify which columns should be read. ([GH 24025](https://github.com/pandas-dev/pandas/issues/24025))'
  id: totrans-1176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_feather()`](../reference/api/pandas.read_feather.html#pandas.read_feather
    "pandas.read_feather") 现在接受 `columns` 作为参数，允许用户指定应读取哪些列。（[GH 24025](https://github.com/pandas-dev/pandas/issues/24025)）'
- en: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") and [`Series.corr()`](../reference/api/pandas.Series.corr.html#pandas.Series.corr
    "pandas.Series.corr") now accept a callable for generic calculation methods of
    correlation, e.g. histogram intersection ([GH 22684](https://github.com/pandas-dev/pandas/issues/22684))'
  id: totrans-1177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") 和 [`Series.corr()`](../reference/api/pandas.Series.corr.html#pandas.Series.corr
    "pandas.Series.corr") 现在接受一个可调用的通用相关性计算方法，例如直方图交集。（[GH 22684](https://github.com/pandas-dev/pandas/issues/22684)）'
- en: '[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") now accepts `decimal` as an argument, allowing the
    user to specify which decimal separator should be used in the output. ([GH 23614](https://github.com/pandas-dev/pandas/issues/23614))'
  id: totrans-1178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") 现在接受 `decimal` 作为参数，允许用户指定输出中应使用的十进制分隔符。（[GH 23614](https://github.com/pandas-dev/pandas/issues/23614)）'
- en: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") now accepts `render_links` as an argument, allowing
    the user to generate HTML with links to any URLs that appear in the DataFrame.
    See the [section on writing HTML](../user_guide/io.html#io-html) in the IO docs
    for example usage. ([GH 2679](https://github.com/pandas-dev/pandas/issues/2679))'
  id: totrans-1179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 现在接受 `render_links` 作为参数，允许用户生成带有链接到 DataFrame 中任何
    URL 的 HTML。请参阅 IO 文档中关于写入 HTML 的[部分](../user_guide/io.html#io-html)以查看示例用法。（[GH
    2679](https://github.com/pandas-dev/pandas/issues/2679)）'
- en: '[`pandas.read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") now supports pandas extension types as an argument to `dtype`,
    allowing the user to use pandas extension types when reading CSVs. ([GH 23228](https://github.com/pandas-dev/pandas/issues/23228))'
  id: totrans-1180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 现在支持将 pandas 扩展类型作为 `dtype` 参数，允许用户在读取 CSV 时使用 pandas 扩展类型。（[GH
    23228](https://github.com/pandas-dev/pandas/issues/23228)）'
- en: The [`shift()`](../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift
    "pandas.DataFrame.shift") method now accepts `fill_value` as an argument, allowing
    the user to specify a value which will be used instead of NA/NaT in the empty
    periods. ([GH 15486](https://github.com/pandas-dev/pandas/issues/15486))
  id: totrans-1181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`shift()`](../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift
    "pandas.DataFrame.shift") 方法现在接受 `fill_value` 作为参数，允许用户指定一个值，该值将在空期间代替 NA/NaT。（[GH
    15486](https://github.com/pandas-dev/pandas/issues/15486)）'
- en: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") now supports the `%Z` and `%z` directive when passed into
    `format` ([GH 13486](https://github.com/pandas-dev/pandas/issues/13486))'
  id: totrans-1182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 现在在传递到 `format` 中时支持 `%Z` 和 `%z` 指令。（[GH 13486](https://github.com/pandas-dev/pandas/issues/13486)）'
- en: '[`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode") and [`DataFrame.mode()`](../reference/api/pandas.DataFrame.mode.html#pandas.DataFrame.mode
    "pandas.DataFrame.mode") now support the `dropna` parameter which can be used
    to specify whether `NaN`/`NaT` values should be considered ([GH 17534](https://github.com/pandas-dev/pandas/issues/17534))'
  id: totrans-1183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode") 和 [`DataFrame.mode()`](../reference/api/pandas.DataFrame.mode.html#pandas.DataFrame.mode
    "pandas.DataFrame.mode") 现在支持 `dropna` 参数，该参数可用于指定是否应考虑 `NaN`/`NaT` 值。（[GH 17534](https://github.com/pandas-dev/pandas/issues/17534)）'
- en: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") and [`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv") now support the `compression` keyword when a file handle
    is passed. ([GH 21227](https://github.com/pandas-dev/pandas/issues/21227))'
  id: totrans-1184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") 和 [`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv") 现在支持在传递文件句柄时使用 `compression` 关键字。（[GH 21227](https://github.com/pandas-dev/pandas/issues/21227)）'
- en: '[`Index.droplevel()`](../reference/api/pandas.Index.droplevel.html#pandas.Index.droplevel
    "pandas.Index.droplevel") is now implemented also for flat indexes, for compatibility
    with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 21115](https://github.com/pandas-dev/pandas/issues/21115))'
  id: totrans-1185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.droplevel()`](../reference/api/pandas.Index.droplevel.html#pandas.Index.droplevel
    "pandas.Index.droplevel") 现在也适用于平级索引，以与 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 兼容（[GH 21115](https://github.com/pandas-dev/pandas/issues/21115))'
- en: '[`Series.droplevel()`](../reference/api/pandas.Series.droplevel.html#pandas.Series.droplevel
    "pandas.Series.droplevel") and [`DataFrame.droplevel()`](../reference/api/pandas.DataFrame.droplevel.html#pandas.DataFrame.droplevel
    "pandas.DataFrame.droplevel") are now implemented ([GH 20342](https://github.com/pandas-dev/pandas/issues/20342))'
  id: totrans-1186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.droplevel()`](../reference/api/pandas.Series.droplevel.html#pandas.Series.droplevel
    "pandas.Series.droplevel") 和 [`DataFrame.droplevel()`](../reference/api/pandas.DataFrame.droplevel.html#pandas.DataFrame.droplevel
    "pandas.DataFrame.droplevel") 现已实现（[GH 20342](https://github.com/pandas-dev/pandas/issues/20342))'
- en: Added support for reading from/writing to Google Cloud Storage via the `gcsfs`
    library ([GH 19454](https://github.com/pandas-dev/pandas/issues/19454), [GH 23094](https://github.com/pandas-dev/pandas/issues/23094))
  id: totrans-1187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增加了通过 `gcsfs` 库从/向 Google Cloud Storage 读取/写入的支持（[GH 19454](https://github.com/pandas-dev/pandas/issues/19454),
    [GH 23094](https://github.com/pandas-dev/pandas/issues/23094))
- en: '[`DataFrame.to_gbq()`](../reference/api/pandas.DataFrame.to_gbq.html#pandas.DataFrame.to_gbq
    "pandas.DataFrame.to_gbq") and [`read_gbq()`](../reference/api/pandas.read_gbq.html#pandas.read_gbq
    "pandas.read_gbq") signature and documentation updated to reflect changes from
    the [pandas-gbq library version 0.8.0](https://pandas-gbq.readthedocs.io/en/latest/changelog.html#changelog-0-8-0).
    Adds a `credentials` argument, which enables the use of any kind of [google-auth
    credentials](https://google-auth.readthedocs.io/en/latest/). ([GH 21627](https://github.com/pandas-dev/pandas/issues/21627),
    [GH 22557](https://github.com/pandas-dev/pandas/issues/22557), [GH 23662](https://github.com/pandas-dev/pandas/issues/23662))'
  id: totrans-1188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_gbq()`](../reference/api/pandas.DataFrame.to_gbq.html#pandas.DataFrame.to_gbq
    "pandas.DataFrame.to_gbq") 和 [`read_gbq()`](../reference/api/pandas.read_gbq.html#pandas.read_gbq
    "pandas.read_gbq") 签名和文档已更新以反映来自 [pandas-gbq library version 0.8.0](https://pandas-gbq.readthedocs.io/en/latest/changelog.html#changelog-0-8-0)
    的更改。添加了一个 `credentials` 参数，可以使用任何类型的 [google-auth credentials](https://google-auth.readthedocs.io/en/latest/)。（[GH
    21627](https://github.com/pandas-dev/pandas/issues/21627), [GH 22557](https://github.com/pandas-dev/pandas/issues/22557),
    [GH 23662](https://github.com/pandas-dev/pandas/issues/23662))'
- en: New method [`HDFStore.walk()`](../reference/api/pandas.HDFStore.walk.html#pandas.HDFStore.walk
    "pandas.HDFStore.walk") will recursively walk the group hierarchy of an HDF5 file
    ([GH 10932](https://github.com/pandas-dev/pandas/issues/10932))
  id: totrans-1189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新方法 [`HDFStore.walk()`](../reference/api/pandas.HDFStore.walk.html#pandas.HDFStore.walk
    "pandas.HDFStore.walk") 将递归遍历 HDF5 文件的组层次结构（[GH 10932](https://github.com/pandas-dev/pandas/issues/10932))
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    copies cell data across `colspan` and `rowspan`, and it treats all-`th` table
    rows as headers if `header` kwarg is not given and there is no `thead` ([GH 17054](https://github.com/pandas-dev/pandas/issues/17054))'
  id: totrans-1190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    跨越 `colspan` 和 `rowspan` 复制单元格数据，并且如果没有给出 `header` kwarg 并且没有 `thead`，则将所有 `th`
    表行视为标题（[GH 17054](https://github.com/pandas-dev/pandas/issues/17054))'
- en: '[`Series.nlargest()`](../reference/api/pandas.Series.nlargest.html#pandas.Series.nlargest
    "pandas.Series.nlargest"), [`Series.nsmallest()`](../reference/api/pandas.Series.nsmallest.html#pandas.Series.nsmallest
    "pandas.Series.nsmallest"), [`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest"), and [`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest") now accept the value `"all"` for the `keep` argument.
    This keeps all ties for the nth largest/smallest value ([GH 16818](https://github.com/pandas-dev/pandas/issues/16818))'
  id: totrans-1191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.nlargest()`](../reference/api/pandas.Series.nlargest.html#pandas.Series.nlargest
    "pandas.Series.nlargest"), [`Series.nsmallest()`](../reference/api/pandas.Series.nsmallest.html#pandas.Series.nsmallest
    "pandas.Series.nsmallest"), [`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest"), 和 [`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest") 现在接受值 `"all"` 作为 `keep` 参数。这将保留所有第 n 大/小值的并列项（[GH
    16818](https://github.com/pandas-dev/pandas/issues/16818))'
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") has gained the [`set_closed()`](../reference/api/pandas.IntervalIndex.set_closed.html#pandas.IntervalIndex.set_closed
    "pandas.IntervalIndex.set_closed") method to change the existing `closed` value
    ([GH 21670](https://github.com/pandas-dev/pandas/issues/21670))'
  id: totrans-1192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 新增了 [`set_closed()`](../reference/api/pandas.IntervalIndex.set_closed.html#pandas.IntervalIndex.set_closed
    "pandas.IntervalIndex.set_closed") 方法来更改现有的 `closed` 值 ([GH 21670](https://github.com/pandas-dev/pandas/issues/21670))。'
- en: '[`to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv"), [`to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv"), [`to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json"), and [`to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") now support `compression=''infer''` to infer compression
    based on filename extension ([GH 15008](https://github.com/pandas-dev/pandas/issues/15008)).
    The default compression for `to_csv`, `to_json`, and `to_pickle` methods has been
    updated to `''infer''` ([GH 22004](https://github.com/pandas-dev/pandas/issues/22004)).'
  id: totrans-1193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv")、[`to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv")、[`to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") 和 [`to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") 现在支持 `compression=''infer''`，以根据文件扩展名推断压缩格式 ([GH 15008](https://github.com/pandas-dev/pandas/issues/15008))。`to_csv`、`to_json`
    和 `to_pickle` 方法的默认压缩格式已更新为 `''infer''` ([GH 22004](https://github.com/pandas-dev/pandas/issues/22004))。'
- en: '[`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") now supports writing `TIMESTAMP WITH TIME ZONE` types
    for supported databases. For databases that don’t support timezones, datetime
    data will be stored as timezone unaware local timestamps. See the [Datetime data
    types](../user_guide/io.html#io-sql-datetime-data) for implications ([GH 9086](https://github.com/pandas-dev/pandas/issues/9086)).'
  id: totrans-1194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 现在支持在支持的数据库中写入 `TIMESTAMP WITH TIME ZONE` 类型。对于不支持时区的数据库，日期时间数据将存储为不带时区信息的本地时间戳。参见
    [Datetime data types](../user_guide/io.html#io-sql-datetime-data) 以了解相关影响 ([GH
    9086](https://github.com/pandas-dev/pandas/issues/9086))。'
- en: '[`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") now supports iso-formatted timedelta strings ([GH 21877](https://github.com/pandas-dev/pandas/issues/21877))'
  id: totrans-1195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") 现在支持 ISO 格式化的 timedelta 字符串 ([GH 21877](https://github.com/pandas-dev/pandas/issues/21877))。'
- en: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    and [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    now support `Iterable` objects in the constructor ([GH 2193](https://github.com/pandas-dev/pandas/issues/2193))'
  id: totrans-1196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    和 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    现在在构造函数中支持 `Iterable` 对象 ([GH 2193](https://github.com/pandas-dev/pandas/issues/2193))。'
- en: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") has gained the [`DatetimeIndex.timetz`](../reference/api/pandas.DatetimeIndex.timetz.html#pandas.DatetimeIndex.timetz
    "pandas.DatetimeIndex.timetz") attribute. This returns the local time with timezone
    information. ([GH 21358](https://github.com/pandas-dev/pandas/issues/21358))'
  id: totrans-1197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 新增了 [`DatetimeIndex.timetz`](../reference/api/pandas.DatetimeIndex.timetz.html#pandas.DatetimeIndex.timetz
    "pandas.DatetimeIndex.timetz") 属性。此属性返回带有时区信息的本地时间。([GH 21358](https://github.com/pandas-dev/pandas/issues/21358))。'
- en: '[`round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round"), [`ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil"), and [`floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor") for [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") now support an `ambiguous` argument for handling datetimes
    that are rounded to ambiguous times ([GH 18946](https://github.com/pandas-dev/pandas/issues/18946))
    and a `nonexistent` argument for handling datetimes that are rounded to nonexistent
    times. See [Nonexistent times when localizing](../user_guide/timeseries.html#timeseries-timezone-nonexistent)
    ([GH 22647](https://github.com/pandas-dev/pandas/issues/22647))'
  id: totrans-1198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round"), [`ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil"), 和 [`floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor") 对于 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 现在支持一个 `ambiguous` 参数来处理舍入为模糊时间的日期时间 ([GH 18946](https://github.com/pandas-dev/pandas/issues/18946))
    和一个 `nonexistent` 参数来处理舍入为不存在时间的日期时间。参见 [本地化时不存在的时间](../user_guide/timeseries.html#timeseries-timezone-nonexistent)
    ([GH 22647](https://github.com/pandas-dev/pandas/issues/22647))'
- en: The result of [`resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") is now iterable similar to `groupby()` ([GH 15314](https://github.com/pandas-dev/pandas/issues/15314)).
  id: totrans-1199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 的结果现在类似于 `groupby()` 可迭代 ([GH 15314](https://github.com/pandas-dev/pandas/issues/15314)).'
- en: '[`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") and [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") have gained the [`Resampler.quantile()`](../reference/api/pandas.core.resample.Resampler.quantile.html#pandas.core.resample.Resampler.quantile
    "pandas.core.resample.Resampler.quantile") ([GH 15023](https://github.com/pandas-dev/pandas/issues/15023)).'
  id: totrans-1200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") 和 [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 现在增加了 [`Resampler.quantile()`](../reference/api/pandas.core.resample.Resampler.quantile.html#pandas.core.resample.Resampler.quantile
    "pandas.core.resample.Resampler.quantile") ([GH 15023](https://github.com/pandas-dev/pandas/issues/15023)).'
- en: '[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") and [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") with a [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") will now respect the `base` argument in the same fashion
    as with a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"). ([GH 23882](https://github.com/pandas-dev/pandas/issues/23882))'
  id: totrans-1201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 和 [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") 现在会像 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 一样尊重 `base` 参数。([GH 23882](https://github.com/pandas-dev/pandas/issues/23882))'
- en: '[`pandas.api.types.is_list_like()`](../reference/api/pandas.api.types.is_list_like.html#pandas.api.types.is_list_like
    "pandas.api.types.is_list_like") has gained a keyword `allow_sets` which is `True`
    by default; if `False`, all instances of `set` will not be considered “list-like”
    anymore ([GH 23061](https://github.com/pandas-dev/pandas/issues/23061))'
  id: totrans-1202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.api.types.is_list_like()`](../reference/api/pandas.api.types.is_list_like.html#pandas.api.types.is_list_like
    "pandas.api.types.is_list_like") 现在增加了一个关键字 `allow_sets`，默认为 `True`；如果为 `False`，所有
    `set` 的实例将不再被视为“类似列表” ([GH 23061](https://github.com/pandas-dev/pandas/issues/23061))'
- en: '[`Index.to_frame()`](../reference/api/pandas.Index.to_frame.html#pandas.Index.to_frame
    "pandas.Index.to_frame") now supports overriding column name(s) ([GH 22580](https://github.com/pandas-dev/pandas/issues/22580)).'
  id: totrans-1203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.to_frame()`](../reference/api/pandas.Index.to_frame.html#pandas.Index.to_frame
    "pandas.Index.to_frame") 现在支持覆盖列名 ([GH 22580](https://github.com/pandas-dev/pandas/issues/22580)).'
- en: '[`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes") now can take a `dtype` parameter as an alternative
    to passing `categories` and `ordered` ([GH 24398](https://github.com/pandas-dev/pandas/issues/24398)).'
  id: totrans-1204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes") 现在可以接受 `dtype` 参数，作为传递 `categories` 和 `ordered`
    的替代方式（[GH 24398](https://github.com/pandas-dev/pandas/issues/24398)）。'
- en: New attribute `__git_version__` will return git commit sha of current build
    ([GH 21295](https://github.com/pandas-dev/pandas/issues/21295)).
  id: totrans-1205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新属性 `__git_version__` 将返回当前构建的 git 提交 sha（[GH 21295](https://github.com/pandas-dev/pandas/issues/21295)）。
- en: Compatibility with Matplotlib 3.0 ([GH 22790](https://github.com/pandas-dev/pandas/issues/22790)).
  id: totrans-1206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与 Matplotlib 3.0 的兼容性（[GH 22790](https://github.com/pandas-dev/pandas/issues/22790)）。
- en: Added [`Interval.overlaps()`](../reference/api/pandas.Interval.overlaps.html#pandas.Interval.overlaps
    "pandas.Interval.overlaps"), [`arrays.IntervalArray.overlaps()`](../reference/api/pandas.arrays.IntervalArray.overlaps.html#pandas.arrays.IntervalArray.overlaps
    "pandas.arrays.IntervalArray.overlaps"), and [`IntervalIndex.overlaps()`](../reference/api/pandas.IntervalIndex.overlaps.html#pandas.IntervalIndex.overlaps
    "pandas.IntervalIndex.overlaps") for determining overlaps between interval-like
    objects ([GH 21998](https://github.com/pandas-dev/pandas/issues/21998))
  id: totrans-1207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了 [`Interval.overlaps()`](../reference/api/pandas.Interval.overlaps.html#pandas.Interval.overlaps
    "pandas.Interval.overlaps")、[`arrays.IntervalArray.overlaps()`](../reference/api/pandas.arrays.IntervalArray.overlaps.html#pandas.arrays.IntervalArray.overlaps
    "pandas.arrays.IntervalArray.overlaps") 和 [`IntervalIndex.overlaps()`](../reference/api/pandas.IntervalIndex.overlaps.html#pandas.IntervalIndex.overlaps
    "pandas.IntervalIndex.overlaps")，用于确定区间对象之间的重叠情况（[GH 21998](https://github.com/pandas-dev/pandas/issues/21998)）。
- en: '[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf "pandas.read_fwf")
    now accepts keyword `infer_nrows` ([GH 15138](https://github.com/pandas-dev/pandas/issues/15138)).'
  id: totrans-1208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf "pandas.read_fwf")
    现在接受关键字 `infer_nrows`（[GH 15138](https://github.com/pandas-dev/pandas/issues/15138)）。'
- en: '[`to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") now supports writing a `DataFrame` as a directory
    of parquet files partitioned by a subset of the columns when `engine = ''pyarrow''`
    ([GH 23283](https://github.com/pandas-dev/pandas/issues/23283))'
  id: totrans-1209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") 现在在 `engine = ''pyarrow''` 时支持将 `DataFrame` 写入分区列的
    Parquet 文件目录中（[GH 23283](https://github.com/pandas-dev/pandas/issues/23283)）。'
- en: '[`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize"), [`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize"), and [`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize") have gained the `nonexistent` argument for alternative
    handling of nonexistent times. See [Nonexistent times when localizing](../user_guide/timeseries.html#timeseries-timezone-nonexistent)
    ([GH 8917](https://github.com/pandas-dev/pandas/issues/8917), [GH 24466](https://github.com/pandas-dev/pandas/issues/24466))'
  id: totrans-1210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize")、[`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize") 和 [`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize") 现在增加了 `nonexistent` 参数，用于对不存在的时间进行替代处理。参见[本地化时不存在的时间](../user_guide/timeseries.html#timeseries-timezone-nonexistent)（[GH
    8917](https://github.com/pandas-dev/pandas/issues/8917)、[GH 24466](https://github.com/pandas-dev/pandas/issues/24466)）。'
- en: '[`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference"), [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection"), [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union"), and [`Index.symmetric_difference()`](../reference/api/pandas.Index.symmetric_difference.html#pandas.Index.symmetric_difference
    "pandas.Index.symmetric_difference") now have an optional `sort` parameter to
    control whether the results should be sorted if possible ([GH 17839](https://github.com/pandas-dev/pandas/issues/17839),
    [GH 24471](https://github.com/pandas-dev/pandas/issues/24471))'
  id: totrans-1211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference")、[`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection")、[`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") 和 [`Index.symmetric_difference()`](../reference/api/pandas.Index.symmetric_difference.html#pandas.Index.symmetric_difference
    "pandas.Index.symmetric_difference") 现在具有可选的 `sort` 参数，用于控制是否应尽可能对结果进行排序 ([GH
    17839](https://github.com/pandas-dev/pandas/issues/17839), [GH 24471](https://github.com/pandas-dev/pandas/issues/24471))'
- en: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") now accepts `usecols` as a list of column names or callable
    ([GH 18273](https://github.com/pandas-dev/pandas/issues/18273))'
  id: totrans-1212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 现在接受 `usecols` 作为列名或可调用对象的列表 ([GH 18273](https://github.com/pandas-dev/pandas/issues/18273))'
- en: '[`MultiIndex.to_flat_index()`](../reference/api/pandas.MultiIndex.to_flat_index.html#pandas.MultiIndex.to_flat_index
    "pandas.MultiIndex.to_flat_index") has been added to flatten multiple levels into
    a single-level [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    object.'
  id: totrans-1213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.to_flat_index()`](../reference/api/pandas.MultiIndex.to_flat_index.html#pandas.MultiIndex.to_flat_index
    "pandas.MultiIndex.to_flat_index") 已添加，将多个级别压平为单级 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 对象。'
- en: '[`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata") and `pandas.io.stata.StataWriter117` can write mixed
    string columns to Stata strl format ([GH 23633](https://github.com/pandas-dev/pandas/issues/23633))'
  id: totrans-1214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata") 和 `pandas.io.stata.StataWriter117` 可以将混合字符串列写入 Stata
    strl 格式 ([GH 23633](https://github.com/pandas-dev/pandas/issues/23633))'
- en: '[`DataFrame.between_time()`](../reference/api/pandas.DataFrame.between_time.html#pandas.DataFrame.between_time
    "pandas.DataFrame.between_time") and [`DataFrame.at_time()`](../reference/api/pandas.DataFrame.at_time.html#pandas.DataFrame.at_time
    "pandas.DataFrame.at_time") have gained the `axis` parameter ([GH 8839](https://github.com/pandas-dev/pandas/issues/8839))'
  id: totrans-1215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.between_time()`](../reference/api/pandas.DataFrame.between_time.html#pandas.DataFrame.between_time
    "pandas.DataFrame.between_time") 和 [`DataFrame.at_time()`](../reference/api/pandas.DataFrame.at_time.html#pandas.DataFrame.at_time
    "pandas.DataFrame.at_time") 现已获得 `axis` 参数 ([GH 8839](https://github.com/pandas-dev/pandas/issues/8839))'
- en: '[`DataFrame.to_records()`](../reference/api/pandas.DataFrame.to_records.html#pandas.DataFrame.to_records
    "pandas.DataFrame.to_records") now accepts `index_dtypes` and `column_dtypes`
    parameters to allow different data types in stored column and index records ([GH
    18146](https://github.com/pandas-dev/pandas/issues/18146))'
  id: totrans-1216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_records()`](../reference/api/pandas.DataFrame.to_records.html#pandas.DataFrame.to_records
    "pandas.DataFrame.to_records") 现在接受 `index_dtypes` 和 `column_dtypes` 参数，允许在存储的列和索引记录中使用不同的数据类型
    ([GH 18146](https://github.com/pandas-dev/pandas/issues/18146))'
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") has gained the [`is_overlapping`](../reference/api/pandas.IntervalIndex.is_overlapping.html#pandas.IntervalIndex.is_overlapping
    "pandas.IntervalIndex.is_overlapping") attribute to indicate if the `IntervalIndex`
    contains any overlapping intervals ([GH 23309](https://github.com/pandas-dev/pandas/issues/23309))'
  id: totrans-1217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 已添加 [`is_overlapping`](../reference/api/pandas.IntervalIndex.is_overlapping.html#pandas.IntervalIndex.is_overlapping
    "pandas.IntervalIndex.is_overlapping") 属性，指示 `IntervalIndex` 是否包含任何重叠区间 ([GH 23309](https://github.com/pandas-dev/pandas/issues/23309))'
- en: '[`pandas.DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") has gained the `method` argument to control SQL insertion
    clause. See the [insertion method](../user_guide/io.html#io-sql-method) section
    in the documentation. ([GH 8953](https://github.com/pandas-dev/pandas/issues/8953))'
  id: totrans-1218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 已添加 `method` 参数，用于控制 SQL 插入语句。请参阅文档中的 [插入方法](../user_guide/io.html#io-sql-method)
    部分。 ([GH 8953](https://github.com/pandas-dev/pandas/issues/8953))'
- en: '[`DataFrame.corrwith()`](../reference/api/pandas.DataFrame.corrwith.html#pandas.DataFrame.corrwith
    "pandas.DataFrame.corrwith") now supports Spearman’s rank correlation, Kendall’s
    tau as well as callable correlation methods. ([GH 21925](https://github.com/pandas-dev/pandas/issues/21925))'
  id: totrans-1219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.corrwith()`](../reference/api/pandas.DataFrame.corrwith.html#pandas.DataFrame.corrwith
    "pandas.DataFrame.corrwith") 现在支持 Spearman 秩相关、Kendall''s tau 以及可调用的相关方法。([GH
    21925](https://github.com/pandas-dev/pandas/issues/21925))'
- en: '[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json"), [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv"), [`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle"), and other export methods now support tilde(~) in
    path argument. ([GH 23473](https://github.com/pandas-dev/pandas/issues/23473))  ###
    Optional integer NA support'
  id: totrans-1220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json"), [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv"), [`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle")，以及其他导出方法现在支持路径参数中的波浪号(~)。([GH 23473](https://github.com/pandas-dev/pandas/issues/23473))  ###
    可选整数 NA 支持'
- en: pandas has gained the ability to hold integer dtypes with missing values. This
    long requested feature is enabled through the use of [extension types](../development/extending.html#extending-extension-types).
  id: totrans-1221
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 已经具备了保存带有缺失值的整数数据类型的能力。这个长期请求的功能是通过使用 [扩展类型](../development/extending.html#extending-extension-types)
    实现的。
- en: Note
  id: totrans-1222
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: IntegerArray is currently experimental. Its API or implementation may change
    without warning.
  id: totrans-1223
  prefs: []
  type: TYPE_NORMAL
  zh: IntegerArray 目前处于实验阶段。其 API 或实现可能会在没有警告的情况下更改。
- en: We can construct a `Series` with the specified dtype. The dtype string `Int64`
    is a pandas `ExtensionDtype`. Specifying a list or array using the traditional
    missing value marker of `np.nan` will infer to integer dtype. The display of the
    `Series` will also use the `NaN` to indicate missing values in string outputs.
    ([GH 20700](https://github.com/pandas-dev/pandas/issues/20700), [GH 20747](https://github.com/pandas-dev/pandas/issues/20747),
    [GH 22441](https://github.com/pandas-dev/pandas/issues/22441), [GH 21789](https://github.com/pandas-dev/pandas/issues/21789),
    [GH 22346](https://github.com/pandas-dev/pandas/issues/22346))
  id: totrans-1224
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以构建指定数据类型的 `Series`。数据类型字符串 `Int64` 是 pandas 的 `ExtensionDtype`。使用传统缺失值标记
    `np.nan` 指定列表或数组将推断为整数数据类型。`Series` 的显示也将使用 `NaN` 来指示字符串输出中的缺失值。([GH 20700](https://github.com/pandas-dev/pandas/issues/20700),
    [GH 20747](https://github.com/pandas-dev/pandas/issues/20747), [GH 22441](https://github.com/pandas-dev/pandas/issues/22441),
    [GH 21789](https://github.com/pandas-dev/pandas/issues/21789), [GH 22346](https://github.com/pandas-dev/pandas/issues/22346))
- en: '[PRE99]'
  id: totrans-1225
  prefs: []
  type: TYPE_PRE
  zh: '[PRE99]'
- en: Operations on these dtypes will propagate `NaN` as other pandas operations.
  id: totrans-1226
  prefs: []
  type: TYPE_NORMAL
  zh: 这些数据类型的操作将像其他 pandas 操作一样传播 `NaN`。
- en: '[PRE100]'
  id: totrans-1227
  prefs: []
  type: TYPE_PRE
  zh: '[PRE100]'
- en: These dtypes can operate as part of a `DataFrame`.
  id: totrans-1228
  prefs: []
  type: TYPE_NORMAL
  zh: 这些数据类型可以作为 `DataFrame` 的一部分操作。
- en: '[PRE101]'
  id: totrans-1229
  prefs: []
  type: TYPE_PRE
  zh: '[PRE101]'
- en: These dtypes can be merged, reshaped, and casted.
  id: totrans-1230
  prefs: []
  type: TYPE_NORMAL
  zh: 这些数据类型可以合并、重塑和转换。
- en: '[PRE102]'
  id: totrans-1231
  prefs: []
  type: TYPE_PRE
  zh: '[PRE102]'
- en: Reduction and groupby operations such as `sum` work.
  id: totrans-1232
  prefs: []
  type: TYPE_NORMAL
  zh: 缩减和分组操作如 `sum` 可以正常工作。
- en: '[PRE103]'
  id: totrans-1233
  prefs: []
  type: TYPE_PRE
  zh: '[PRE103]'
- en: Warning
  id: totrans-1234
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: The Integer NA support currently uses the capitalized dtype version, e.g. `Int8`
    as compared to the traditional `int8`. This may be changed at a future date.
  id: totrans-1235
  prefs: []
  type: TYPE_NORMAL
  zh: 目前整数 NA 支持使用大写的数据类型版本，例如 `Int8`，而不是传统的 `int8`。这可能在将来的某个日期更改。
- en: See [Nullable integer data type](../user_guide/integer_na.html#integer-na) for
    more.
  id: totrans-1236
  prefs: []
  type: TYPE_NORMAL
  zh: 更多信息请参阅 [可空整数数据类型](../user_guide/integer_na.html#integer-na)。
- en: '### Accessing the values in a Series or Index'
  id: totrans-1237
  prefs: []
  type: TYPE_NORMAL
  zh: '### 访问 Series 或 Index 中的值'
- en: '[`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") and `Index.array` have been added for extracting the array
    backing a `Series` or `Index`. ([GH 19954](https://github.com/pandas-dev/pandas/issues/19954),
    [GH 23623](https://github.com/pandas-dev/pandas/issues/23623))'
  id: totrans-1238
  prefs: []
  type: TYPE_NORMAL
  zh: '[`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") 和 `Index.array` 已添加用于提取支持 `Series` 或 `Index` 的数组。([GH 19954](https://github.com/pandas-dev/pandas/issues/19954),
    [GH 23623](https://github.com/pandas-dev/pandas/issues/23623))'
- en: '[PRE104]'
  id: totrans-1239
  prefs: []
  type: TYPE_PRE
  zh: '[PRE104]'
- en: Historically, this would have been done with `series.values`, but with `.values`
    it was unclear whether the returned value would be the actual array, some transformation
    of it, or one of pandas custom arrays (like `Categorical`). For example, with
    [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex "pandas.PeriodIndex"),
    `.values` generates a new ndarray of period objects each time.
  id: totrans-1240
  prefs: []
  type: TYPE_NORMAL
  zh: 在历史上，这将使用`series.values`完成，但是使用`.values`时不清楚返回的值是否为实际数组，其某些变换，或者是pandas自定义数组之一（例如`Categorical`）。例如，对于[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")，`.values`每次生成一个新的周期对象的ndarray。
- en: '[PRE105]'
  id: totrans-1241
  prefs: []
  type: TYPE_PRE
  zh: '[PRE105]'
- en: If you need an actual NumPy array, use [`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy") or `Index.to_numpy()`.
  id: totrans-1242
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您需要一个实际的NumPy数组，请使用[`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy")或`Index.to_numpy()`。
- en: '[PRE106]'
  id: totrans-1243
  prefs: []
  type: TYPE_PRE
  zh: '[PRE106]'
- en: For Series and Indexes backed by normal NumPy arrays, [`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") will return a new `arrays.PandasArray`, which is a thin
    (no-copy) wrapper around a [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)"). `PandasArray` isn’t especially useful on its own, but it
    does provide the same interface as any extension array defined in pandas or by
    a third-party library.
  id: totrans-1244
  prefs: []
  type: TYPE_NORMAL
  zh: 对于由普通NumPy数组支持的Series和索引，[`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array")将返回一个新的`arrays.PandasArray`，它是一个薄的（不复制）包装器，包装了一个[`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(在NumPy v1.26中)")。`PandasArray`本身并不特别有用，但它提供了与pandas中定义的任何扩展数组或第三方库相同的接口。
- en: '[PRE107]'
  id: totrans-1245
  prefs: []
  type: TYPE_PRE
  zh: '[PRE107]'
- en: We haven’t removed or deprecated [`Series.values`](../reference/api/pandas.Series.values.html#pandas.Series.values
    "pandas.Series.values") or [`DataFrame.values`](../reference/api/pandas.DataFrame.values.html#pandas.DataFrame.values
    "pandas.DataFrame.values"), but we highly recommend and using `.array` or `.to_numpy()`
    instead.
  id: totrans-1246
  prefs: []
  type: TYPE_NORMAL
  zh: 我们没有删除或弃用[`Series.values`](../reference/api/pandas.Series.values.html#pandas.Series.values
    "pandas.Series.values")或[`DataFrame.values`](../reference/api/pandas.DataFrame.values.html#pandas.DataFrame.values
    "pandas.DataFrame.values")，但我们强烈建议使用`.array`或`.to_numpy()`。
- en: See [Dtypes](../user_guide/basics.html#basics-dtypes) and [Attributes and Underlying
    Data](../user_guide/basics.html#basics-attrs) for more.
  id: totrans-1247
  prefs: []
  type: TYPE_NORMAL
  zh: 更多信息请参见[Dtypes](../user_guide/basics.html#basics-dtypes)和[Attributes and Underlying
    Data](../user_guide/basics.html#basics-attrs)。
- en: '### `pandas.array`: a new top-level method for creating arrays'
  id: totrans-1248
  prefs: []
  type: TYPE_NORMAL
  zh: '### `pandas.array`：一个用于创建数组的新顶级方法'
- en: A new top-level method [`array()`](../reference/api/pandas.array.html#pandas.array
    "pandas.array") has been added for creating 1-dimensional arrays ([GH 22860](https://github.com/pandas-dev/pandas/issues/22860)).
    This can be used to create any [extension array](../development/extending.html#extending-extension-types),
    including extension arrays registered by [3rd party libraries](https://pandas.pydata.org/community/ecosystem.html).
    See the [dtypes docs](../user_guide/basics.html#basics-dtypes) for more on extension
    arrays.
  id: totrans-1249
  prefs: []
  type: TYPE_NORMAL
  zh: 一个新的顶级方法[`array()`](../reference/api/pandas.array.html#pandas.array "pandas.array")已添加用于创建1维数组（[GH
    22860](https://github.com/pandas-dev/pandas/issues/22860)）。这可以用于创建任何[扩展数组](../development/extending.html#extending-extension-types)，包括由[第三方库](https://pandas.pydata.org/community/ecosystem.html)注册的扩展数组。有关扩展数组的更多信息，请参阅[dtypes文档](../user_guide/basics.html#basics-dtypes)。
- en: '[PRE108]'
  id: totrans-1250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE108]'
- en: Passing data for which there isn’t dedicated extension type (e.g. float, integer,
    etc.) will return a new `arrays.PandasArray`, which is just a thin (no-copy) wrapper
    around a [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)") that satisfies the pandas extension array interface.
  id: totrans-1251
  prefs: []
  type: TYPE_NORMAL
  zh: 传递没有专用扩展类型的数据（例如，浮点数，整数等）将返回一个新的`arrays.PandasArray`，它只是一个薄的（不复制）包装器，包装了一个[`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(在NumPy v1.26中)")，满足pandas扩展数组接口。
- en: '[PRE109]'
  id: totrans-1252
  prefs: []
  type: TYPE_PRE
  zh: '[PRE109]'
- en: On their own, a `PandasArray` isn’t a very useful object. But if you need write
    low-level code that works generically for any [`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray"), `PandasArray` satisfies that need.
  id: totrans-1253
  prefs: []
  type: TYPE_NORMAL
  zh: 单独一个`PandasArray`并不是一个非常有用的对象。但是，如果您需要编写对任何[`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray")都适用的低级代码，那么`PandasArray`就满足了这个需求。
- en: Notice that by default, if no `dtype` is specified, the dtype of the returned
    array is inferred from the data. In particular, note that the first example of
    `[1, 2, np.nan]` would have returned a floating-point array, since `NaN` is a
    float.
  id: totrans-1254
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，默认情况下，如果未指定 `dtype`，则从数据中推断出返回数组的 dtype。特别要注意的是，`[1, 2, np.nan]` 的第一个示例将返回一个浮点数组，因为
    `NaN` 是一个浮点数。
- en: '[PRE110]'
  id: totrans-1255
  prefs: []
  type: TYPE_PRE
  zh: '[PRE110]'
- en: '### Storing Interval and Period data in Series and DataFrame'
  id: totrans-1256
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在 Series 和 DataFrame 中存储间隔和周期数据'
- en: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    and [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    data may now be stored in a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame"), in addition to an [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") and [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") like previously ([GH 19453](https://github.com/pandas-dev/pandas/issues/19453),
    [GH 22862](https://github.com/pandas-dev/pandas/issues/22862)).'
  id: totrans-1257
  prefs: []
  type: TYPE_NORMAL
  zh: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    和 [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    数据现在可以存储在 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    中，除了以前的 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 和 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")（[GH 19453](https://github.com/pandas-dev/pandas/issues/19453)，[GH
    22862](https://github.com/pandas-dev/pandas/issues/22862)）。'
- en: '[PRE111]'
  id: totrans-1258
  prefs: []
  type: TYPE_PRE
  zh: '[PRE111]'
- en: 'For periods:'
  id: totrans-1259
  prefs: []
  type: TYPE_NORMAL
  zh: 对于周期：
- en: '[PRE112]'
  id: totrans-1260
  prefs: []
  type: TYPE_PRE
  zh: '[PRE112]'
- en: Previously, these would be cast to a NumPy array with object dtype. In general,
    this should result in better performance when storing an array of intervals or
    periods in a [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    or column of a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame").
  id: totrans-1261
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，这些数据将被转换为具有对象 dtype 的 NumPy 数组。一般来说，当在 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 中存储一组间隔或周期时，这应该会导致更好的性能。
- en: 'Use [`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") to extract the underlying array of intervals or periods
    from the `Series`:'
  id: totrans-1262
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 [`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") 从 `Series` 中提取间隔或周期的基础数组：
- en: '[PRE113]'
  id: totrans-1263
  prefs: []
  type: TYPE_PRE
  zh: '[PRE113]'
- en: These return an instance of [`arrays.IntervalArray`](../reference/api/pandas.arrays.IntervalArray.html#pandas.arrays.IntervalArray
    "pandas.arrays.IntervalArray") or [`arrays.PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray"), the new extension arrays that back interval and
    period data.
  id: totrans-1264
  prefs: []
  type: TYPE_NORMAL
  zh: 这些返回一个 [`arrays.IntervalArray`](../reference/api/pandas.arrays.IntervalArray.html#pandas.arrays.IntervalArray
    "pandas.arrays.IntervalArray") 或 [`arrays.PeriodArray`](../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray
    "pandas.arrays.PeriodArray") 实例，这些实例支持间隔和周期数据。
- en: Warning
  id: totrans-1265
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: For backwards compatibility, [`Series.values`](../reference/api/pandas.Series.values.html#pandas.Series.values
    "pandas.Series.values") continues to return a NumPy array of objects for Interval
    and Period data. We recommend using [`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array") when you need the array of data stored in the `Series`,
    and [`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy") when you know you need a NumPy array.
  id: totrans-1266
  prefs: []
  type: TYPE_NORMAL
  zh: 为了向后兼容，[`Series.values`](../reference/api/pandas.Series.values.html#pandas.Series.values
    "pandas.Series.values") 仍然返回一个对象的 NumPy 数组，用于间隔和周期数据。我们建议在需要 `Series` 中存储的数据数组时使用
    [`Series.array`](../reference/api/pandas.Series.array.html#pandas.Series.array
    "pandas.Series.array")，并在知道需要 NumPy 数组时使用 [`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy")。
- en: See [Dtypes](../user_guide/basics.html#basics-dtypes) and [Attributes and Underlying
    Data](../user_guide/basics.html#basics-attrs) for more.
  id: totrans-1267
  prefs: []
  type: TYPE_NORMAL
  zh: 有关更多信息，请参见 [Dtypes](../user_guide/basics.html#basics-dtypes) 和 [Attributes and
    Underlying Data](../user_guide/basics.html#basics-attrs)。
- en: '### Joining with two multi-indexes'
  id: totrans-1268
  prefs: []
  type: TYPE_NORMAL
  zh: '### 与两个多重索引合并'
- en: '[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") and [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") can now be used to join multi-indexed `Dataframe` instances
    on the overlapping index levels ([GH 6360](https://github.com/pandas-dev/pandas/issues/6360))'
  id: totrans-1269
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") 和 [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") 现在可以用于将具有重叠索引级别的多重索引 `DataFrame` 实例进行连接（[GH 6360](https://github.com/pandas-dev/pandas/issues/6360)）'
- en: See the [Merge, join, and concatenate](../user_guide/merging.html#merging-join-with-two-multi-indexes)
    documentation section.
  id: totrans-1270
  prefs: []
  type: TYPE_NORMAL
  zh: 查看 [Merge, join, and concatenate](../user_guide/merging.html#merging-join-with-two-multi-indexes)
    文档部分。
- en: '[PRE114]'
  id: totrans-1271
  prefs: []
  type: TYPE_PRE
  zh: '[PRE114]'
- en: For earlier versions this can be done using the following.
  id: totrans-1272
  prefs: []
  type: TYPE_NORMAL
  zh: 对于早期版本，可以使用以下方式进行操作。
- en: '[PRE115]'
  id: totrans-1273
  prefs: []
  type: TYPE_PRE
  zh: '[PRE115]'
- en: '### Function `read_html` enhancements'
  id: totrans-1274
  prefs: []
  type: TYPE_NORMAL
  zh: '### 函数 `read_html` 增强'
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    previously ignored `colspan` and `rowspan` attributes. Now it understands them,
    treating them as sequences of cells with the same value. ([GH 17054](https://github.com/pandas-dev/pandas/issues/17054))'
  id: totrans-1275
  prefs: []
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    之前忽略了 `colspan` 和 `rowspan` 属性。现在它能够理解它们，将它们视为具有相同值的单元格序列。 ([GH 17054](https://github.com/pandas-dev/pandas/issues/17054))'
- en: '[PRE116]'
  id: totrans-1276
  prefs: []
  type: TYPE_PRE
  zh: '[PRE116]'
- en: '*Previous behavior*:'
  id: totrans-1277
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*:'
- en: '[PRE117]'
  id: totrans-1278
  prefs: []
  type: TYPE_PRE
  zh: '[PRE117]'
- en: '*New behavior*:'
  id: totrans-1279
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE118]'
  id: totrans-1280
  prefs: []
  type: TYPE_PRE
  zh: '[PRE118]'
- en: New `Styler.pipe()` method
  id: totrans-1281
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 新的 `Styler.pipe()` 方法
- en: The [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") class has gained a [`pipe()`](../reference/api/pandas.io.formats.style.Styler.pipe.html#pandas.io.formats.style.Styler.pipe
    "pandas.io.formats.style.Styler.pipe") method. This provides a convenient way
    to apply users’ predefined styling functions, and can help reduce “boilerplate”
    when using DataFrame styling functionality repeatedly within a notebook. ([GH
    23229](https://github.com/pandas-dev/pandas/issues/23229))
  id: totrans-1282
  prefs: []
  type: TYPE_NORMAL
  zh: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 类增加了一个 [`pipe()`](../reference/api/pandas.io.formats.style.Styler.pipe.html#pandas.io.formats.style.Styler.pipe
    "pandas.io.formats.style.Styler.pipe") 方法。这提供了一种方便的方式来应用用户预定义的样式化函数，并且可以在笔记本中重复使用
    DataFrame 样式功能时减少“样板代码”。 ([GH 23229](https://github.com/pandas-dev/pandas/issues/23229))'
- en: '[PRE119]'
  id: totrans-1283
  prefs: []
  type: TYPE_PRE
  zh: '[PRE119]'
- en: Similar methods already exist for other classes in pandas, including [`DataFrame.pipe()`](../reference/api/pandas.DataFrame.pipe.html#pandas.DataFrame.pipe
    "pandas.DataFrame.pipe"), `GroupBy.pipe()`, and [`Resampler.pipe()`](../reference/api/pandas.core.resample.Resampler.pipe.html#pandas.core.resample.Resampler.pipe
    "pandas.core.resample.Resampler.pipe").
  id: totrans-1284
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 中已经存在其他类的类似方法，包括 [`DataFrame.pipe()`](../reference/api/pandas.DataFrame.pipe.html#pandas.DataFrame.pipe
    "pandas.DataFrame.pipe")、`GroupBy.pipe()` 和 [`Resampler.pipe()`](../reference/api/pandas.core.resample.Resampler.pipe.html#pandas.core.resample.Resampler.pipe
    "pandas.core.resample.Resampler.pipe")。
- en: '### Renaming names in a MultiIndex'
  id: totrans-1285
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在多重索引中重命名名称'
- en: '[`DataFrame.rename_axis()`](../reference/api/pandas.DataFrame.rename_axis.html#pandas.DataFrame.rename_axis
    "pandas.DataFrame.rename_axis") now supports `index` and `columns` arguments and
    [`Series.rename_axis()`](../reference/api/pandas.Series.rename_axis.html#pandas.Series.rename_axis
    "pandas.Series.rename_axis") supports `index` argument ([GH 19978](https://github.com/pandas-dev/pandas/issues/19978)).'
  id: totrans-1286
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.rename_axis()`](../reference/api/pandas.DataFrame.rename_axis.html#pandas.DataFrame.rename_axis
    "pandas.DataFrame.rename_axis") 现在支持 `index` 和 `columns` 参数，而 [`Series.rename_axis()`](../reference/api/pandas.Series.rename_axis.html#pandas.Series.rename_axis
    "pandas.Series.rename_axis") 支持 `index` 参数 ([GH 19978](https://github.com/pandas-dev/pandas/issues/19978)).'
- en: This change allows a dictionary to be passed so that some of the names of a
    `MultiIndex` can be changed.
  id: totrans-1287
  prefs: []
  type: TYPE_NORMAL
  zh: 此更改允许传递字典，以便更改 `MultiIndex` 的一些名称。
- en: 'Example:'
  id: totrans-1288
  prefs: []
  type: TYPE_NORMAL
  zh: '示例:'
- en: '[PRE120]'
  id: totrans-1289
  prefs: []
  type: TYPE_PRE
  zh: '[PRE120]'
- en: See the [Advanced documentation on renaming](../user_guide/advanced.html#advanced-index-names)
    for more details.
  id: totrans-1290
  prefs: []
  type: TYPE_NORMAL
  zh: 查看 [高级重命名文档](../user_guide/advanced.html#advanced-index-names) 以获取更多详细信息。
- en: '### Other enhancements'
  id: totrans-1291
  prefs: []
  type: TYPE_NORMAL
  zh: '### 其他增强功能'
- en: '[`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    now directly allows merge between objects of type `DataFrame` and named `Series`,
    without the need to convert the `Series` object into a `DataFrame` beforehand
    ([GH 21220](https://github.com/pandas-dev/pandas/issues/21220))'
  id: totrans-1292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    现在直接允许在类型为 `DataFrame` 和命名 `Series` 的对象之间进行合并，无需事先将 `Series` 对象转换为 `DataFrame`
    ([GH 21220](https://github.com/pandas-dev/pandas/issues/21220))'
- en: '`ExcelWriter` now accepts `mode` as a keyword argument, enabling append to
    existing workbooks when using the `openpyxl` engine ([GH 3441](https://github.com/pandas-dev/pandas/issues/3441))'
  id: totrans-1293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExcelWriter` 现在接受 `mode` 作为关键字参数，使用 `openpyxl` 引擎时可以追加到现有工作簿中（[GH 3441](https://github.com/pandas-dev/pandas/issues/3441)）'
- en: '`FrozenList` has gained the `.union()` and `.difference()` methods. This functionality
    greatly simplifies groupby’s that rely on explicitly excluding certain columns.
    See [Splitting an object into groups](../user_guide/groupby.html#groupby-split)
    for more information ([GH 15475](https://github.com/pandas-dev/pandas/issues/15475),
    [GH 15506](https://github.com/pandas-dev/pandas/issues/15506)).'
  id: totrans-1294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`FrozenList` 现在具有 `.union()` 和 `.difference()` 方法。此功能极大地简化了依赖明确排除某些列的 groupby
    操作。有关更多信息，请参见[将对象拆分为组](../user_guide/groupby.html#groupby-split)（[GH 15475](https://github.com/pandas-dev/pandas/issues/15475),
    [GH 15506](https://github.com/pandas-dev/pandas/issues/15506)）。'
- en: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") now accepts `index` as an argument, allowing the
    user to override the engine’s default behavior to include or omit the dataframe’s
    indexes from the resulting Parquet file. ([GH 20768](https://github.com/pandas-dev/pandas/issues/20768))'
  id: totrans-1295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") 现在接受 `index` 作为参数，允许用户覆盖引擎的默认行为，包括或排除结果 Parquet
    文件中的数据框索引。([GH 20768](https://github.com/pandas-dev/pandas/issues/20768))'
- en: '[`read_feather()`](../reference/api/pandas.read_feather.html#pandas.read_feather
    "pandas.read_feather") now accepts `columns` as an argument, allowing the user
    to specify which columns should be read. ([GH 24025](https://github.com/pandas-dev/pandas/issues/24025))'
  id: totrans-1296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_feather()`](../reference/api/pandas.read_feather.html#pandas.read_feather
    "pandas.read_feather") 现在接受 `columns` 作为参数，允许用户指定应读取哪些列。([GH 24025](https://github.com/pandas-dev/pandas/issues/24025))'
- en: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") and [`Series.corr()`](../reference/api/pandas.Series.corr.html#pandas.Series.corr
    "pandas.Series.corr") now accept a callable for generic calculation methods of
    correlation, e.g. histogram intersection ([GH 22684](https://github.com/pandas-dev/pandas/issues/22684))'
  id: totrans-1297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") 和 [`Series.corr()`](../reference/api/pandas.Series.corr.html#pandas.Series.corr
    "pandas.Series.corr") 现在接受可调用对象作为通用相关性计算方法，例如直方图交集（[GH 22684](https://github.com/pandas-dev/pandas/issues/22684)）'
- en: '[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") now accepts `decimal` as an argument, allowing the
    user to specify which decimal separator should be used in the output. ([GH 23614](https://github.com/pandas-dev/pandas/issues/23614))'
  id: totrans-1298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") 现在接受 `decimal` 作为参数，允许用户指定输出中应使用哪个小数分隔符。([GH 23614](https://github.com/pandas-dev/pandas/issues/23614))'
- en: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") now accepts `render_links` as an argument, allowing
    the user to generate HTML with links to any URLs that appear in the DataFrame.
    See the [section on writing HTML](../user_guide/io.html#io-html) in the IO docs
    for example usage. ([GH 2679](https://github.com/pandas-dev/pandas/issues/2679))'
  id: totrans-1299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 现在接受 `render_links` 作为参数，允许用户生成带有指向数据框中任何 URL 的链接的
    HTML。请参阅 IO 文档中有关写入 HTML 的部分（../user_guide/io.html#io-html）以获取示例用法。([GH 2679](https://github.com/pandas-dev/pandas/issues/2679))'
- en: '[`pandas.read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") now supports pandas extension types as an argument to `dtype`,
    allowing the user to use pandas extension types when reading CSVs. ([GH 23228](https://github.com/pandas-dev/pandas/issues/23228))'
  id: totrans-1300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 现在支持将 pandas 扩展类型作为 `dtype` 参数的参数，允许用户在读取 CSV 时使用 pandas 扩展类型。([GH
    23228](https://github.com/pandas-dev/pandas/issues/23228))'
- en: The [`shift()`](../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift
    "pandas.DataFrame.shift") method now accepts `fill_value` as an argument, allowing
    the user to specify a value which will be used instead of NA/NaT in the empty
    periods. ([GH 15486](https://github.com/pandas-dev/pandas/issues/15486))
  id: totrans-1301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`shift()`](../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift
    "pandas.DataFrame.shift") 方法现在接受 `fill_value` 作为参数，允许用户指定在空周期中使用的值，而不是 NA/NaT。([GH
    15486](https://github.com/pandas-dev/pandas/issues/15486))'
- en: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") now supports the `%Z` and `%z` directive when passed into
    `format` ([GH 13486](https://github.com/pandas-dev/pandas/issues/13486))'
  id: totrans-1302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")现在在传递给`format`时支持`%Z`和`%z`指令([GH 13486](https://github.com/pandas-dev/pandas/issues/13486))'
- en: '[`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode") and [`DataFrame.mode()`](../reference/api/pandas.DataFrame.mode.html#pandas.DataFrame.mode
    "pandas.DataFrame.mode") now support the `dropna` parameter which can be used
    to specify whether `NaN`/`NaT` values should be considered ([GH 17534](https://github.com/pandas-dev/pandas/issues/17534))'
  id: totrans-1303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode")和[`DataFrame.mode()`](../reference/api/pandas.DataFrame.mode.html#pandas.DataFrame.mode
    "pandas.DataFrame.mode")现在支持`dropna`参数，该参数可用于指定是否应考虑`NaN`/`NaT`值([GH 17534](https://github.com/pandas-dev/pandas/issues/17534))'
- en: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") and [`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv") now support the `compression` keyword when a file handle
    is passed. ([GH 21227](https://github.com/pandas-dev/pandas/issues/21227))'
  id: totrans-1304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递文件句柄时，[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv")和[`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv")现在支持`compression`关键字。([GH 21227](https://github.com/pandas-dev/pandas/issues/21227))
- en: '[`Index.droplevel()`](../reference/api/pandas.Index.droplevel.html#pandas.Index.droplevel
    "pandas.Index.droplevel") is now implemented also for flat indexes, for compatibility
    with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 21115](https://github.com/pandas-dev/pandas/issues/21115))'
  id: totrans-1305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.droplevel()`](../reference/api/pandas.Index.droplevel.html#pandas.Index.droplevel
    "pandas.Index.droplevel")现在也为平坦索引实现了，以便与[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")兼容([GH 21115](https://github.com/pandas-dev/pandas/issues/21115))'
- en: '[`Series.droplevel()`](../reference/api/pandas.Series.droplevel.html#pandas.Series.droplevel
    "pandas.Series.droplevel") and [`DataFrame.droplevel()`](../reference/api/pandas.DataFrame.droplevel.html#pandas.DataFrame.droplevel
    "pandas.DataFrame.droplevel") are now implemented ([GH 20342](https://github.com/pandas-dev/pandas/issues/20342))'
  id: totrans-1306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.droplevel()`](../reference/api/pandas.Series.droplevel.html#pandas.Series.droplevel
    "pandas.Series.droplevel")和[`DataFrame.droplevel()`](../reference/api/pandas.DataFrame.droplevel.html#pandas.DataFrame.droplevel
    "pandas.DataFrame.droplevel")现已实现([GH 20342](https://github.com/pandas-dev/pandas/issues/20342))'
- en: Added support for reading from/writing to Google Cloud Storage via the `gcsfs`
    library ([GH 19454](https://github.com/pandas-dev/pandas/issues/19454), [GH 23094](https://github.com/pandas-dev/pandas/issues/23094))
  id: totrans-1307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增加了通过`gcsfs`库从/向Google Cloud Storage读取/写入的支持（[GH 19454](https://github.com/pandas-dev/pandas/issues/19454)，[GH
    23094](https://github.com/pandas-dev/pandas/issues/23094)）
- en: '[`DataFrame.to_gbq()`](../reference/api/pandas.DataFrame.to_gbq.html#pandas.DataFrame.to_gbq
    "pandas.DataFrame.to_gbq") and [`read_gbq()`](../reference/api/pandas.read_gbq.html#pandas.read_gbq
    "pandas.read_gbq") signature and documentation updated to reflect changes from
    the [pandas-gbq library version 0.8.0](https://pandas-gbq.readthedocs.io/en/latest/changelog.html#changelog-0-8-0).
    Adds a `credentials` argument, which enables the use of any kind of [google-auth
    credentials](https://google-auth.readthedocs.io/en/latest/). ([GH 21627](https://github.com/pandas-dev/pandas/issues/21627),
    [GH 22557](https://github.com/pandas-dev/pandas/issues/22557), [GH 23662](https://github.com/pandas-dev/pandas/issues/23662))'
  id: totrans-1308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_gbq()`](../reference/api/pandas.DataFrame.to_gbq.html#pandas.DataFrame.to_gbq
    "pandas.DataFrame.to_gbq")和[`read_gbq()`](../reference/api/pandas.read_gbq.html#pandas.read_gbq
    "pandas.read_gbq")签名和文档已更新，以反映[pandas-gbq库版本0.8.0](https://pandas-gbq.readthedocs.io/en/latest/changelog.html#changelog-0-8-0)的更改。增加了一个`credentials`参数，允许使用任何类型的[google-auth凭据](https://google-auth.readthedocs.io/en/latest/)。([GH
    21627](https://github.com/pandas-dev/pandas/issues/21627)，[GH 22557](https://github.com/pandas-dev/pandas/issues/22557)，[GH
    23662](https://github.com/pandas-dev/pandas/issues/23662))'
- en: New method [`HDFStore.walk()`](../reference/api/pandas.HDFStore.walk.html#pandas.HDFStore.walk
    "pandas.HDFStore.walk") will recursively walk the group hierarchy of an HDF5 file
    ([GH 10932](https://github.com/pandas-dev/pandas/issues/10932))
  id: totrans-1309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新方法[`HDFStore.walk()`](../reference/api/pandas.HDFStore.walk.html#pandas.HDFStore.walk
    "pandas.HDFStore.walk")将递归遍历HDF5文件的组层次结构([GH 10932](https://github.com/pandas-dev/pandas/issues/10932))
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    copies cell data across `colspan` and `rowspan`, and it treats all-`th` table
    rows as headers if `header` kwarg is not given and there is no `thead` ([GH 17054](https://github.com/pandas-dev/pandas/issues/17054))'
  id: totrans-1310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    现在支持跨越 `colspan` 和 `rowspan` 的单元格数据复制，并且如果未给出 `header` 关键字参数且没有 `thead`，则将所有的
    `th` 表行视为标题 ([GH 17054](https://github.com/pandas-dev/pandas/issues/17054))'
- en: '[`Series.nlargest()`](../reference/api/pandas.Series.nlargest.html#pandas.Series.nlargest
    "pandas.Series.nlargest"), [`Series.nsmallest()`](../reference/api/pandas.Series.nsmallest.html#pandas.Series.nsmallest
    "pandas.Series.nsmallest"), [`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest"), and [`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest") now accept the value `"all"` for the `keep` argument.
    This keeps all ties for the nth largest/smallest value ([GH 16818](https://github.com/pandas-dev/pandas/issues/16818))'
  id: totrans-1311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.nlargest()`](../reference/api/pandas.Series.nlargest.html#pandas.Series.nlargest
    "pandas.Series.nlargest"), [`Series.nsmallest()`](../reference/api/pandas.Series.nsmallest.html#pandas.Series.nsmallest
    "pandas.Series.nsmallest"), [`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest"), 和 [`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest") 现在接受值为 `"all"` 的 `keep` 参数。这会保留第 n 个最大/最小值的所有关联项
    ([GH 16818](https://github.com/pandas-dev/pandas/issues/16818))'
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") has gained the [`set_closed()`](../reference/api/pandas.IntervalIndex.set_closed.html#pandas.IntervalIndex.set_closed
    "pandas.IntervalIndex.set_closed") method to change the existing `closed` value
    ([GH 21670](https://github.com/pandas-dev/pandas/issues/21670))'
  id: totrans-1312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 增加了 [`set_closed()`](../reference/api/pandas.IntervalIndex.set_closed.html#pandas.IntervalIndex.set_closed
    "pandas.IntervalIndex.set_closed") 方法，用于更改现有的 `closed` 值 ([GH 21670](https://github.com/pandas-dev/pandas/issues/21670))'
- en: '[`to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv"), [`to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv"), [`to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json"), and [`to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") now support `compression=''infer''` to infer compression
    based on filename extension ([GH 15008](https://github.com/pandas-dev/pandas/issues/15008)).
    The default compression for `to_csv`, `to_json`, and `to_pickle` methods has been
    updated to `''infer''` ([GH 22004](https://github.com/pandas-dev/pandas/issues/22004)).'
  id: totrans-1313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv"), [`to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv"), [`to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json"), 和 [`to_json()`](../reference/api/pandas.Series.to_json.html#pandas.Series.to_json
    "pandas.Series.to_json") 现在支持 `compression=''infer''`，以根据文件扩展名推断压缩方式 ([GH 15008](https://github.com/pandas-dev/pandas/issues/15008))。`to_csv`、`to_json`
    和 `to_pickle` 方法的默认压缩方式已更新为 `''infer''` ([GH 22004](https://github.com/pandas-dev/pandas/issues/22004)).'
- en: '[`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") now supports writing `TIMESTAMP WITH TIME ZONE` types
    for supported databases. For databases that don’t support timezones, datetime
    data will be stored as timezone unaware local timestamps. See the [Datetime data
    types](../user_guide/io.html#io-sql-datetime-data) for implications ([GH 9086](https://github.com/pandas-dev/pandas/issues/9086)).'
  id: totrans-1314
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 现在支持在支持的数据库中写入 `TIMESTAMP WITH TIME ZONE` 类型。对于不支持时区的数据库，日期时间数据将以不带时区的本地时间戳形式存储。请参阅
    [Datetime data types](../user_guide/io.html#io-sql-datetime-data) 获取相关影响信息 ([GH
    9086](https://github.com/pandas-dev/pandas/issues/9086)).'
- en: '[`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") now supports iso-formatted timedelta strings ([GH 21877](https://github.com/pandas-dev/pandas/issues/21877))'
  id: totrans-1315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") 现在支持 ISO 格式的时间增量字符串 ([GH 21877](https://github.com/pandas-dev/pandas/issues/21877))'
- en: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    and [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    now support `Iterable` objects in the constructor ([GH 2193](https://github.com/pandas-dev/pandas/issues/2193))'
  id: totrans-1316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    和 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    现在在构造函数中支持 `Iterable` 对象（[GH 2193](https://github.com/pandas-dev/pandas/issues/2193))'
- en: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") has gained the [`DatetimeIndex.timetz`](../reference/api/pandas.DatetimeIndex.timetz.html#pandas.DatetimeIndex.timetz
    "pandas.DatetimeIndex.timetz") attribute. This returns the local time with timezone
    information. ([GH 21358](https://github.com/pandas-dev/pandas/issues/21358))'
  id: totrans-1317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 现在具有 [`DatetimeIndex.timetz`](../reference/api/pandas.DatetimeIndex.timetz.html#pandas.DatetimeIndex.timetz
    "pandas.DatetimeIndex.timetz") 属性。这将返回带有时区信息的本地时间。([GH 21358](https://github.com/pandas-dev/pandas/issues/21358))'
- en: '[`round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round"), [`ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil"), and [`floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor") for [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") now support an `ambiguous` argument for handling datetimes
    that are rounded to ambiguous times ([GH 18946](https://github.com/pandas-dev/pandas/issues/18946))
    and a `nonexistent` argument for handling datetimes that are rounded to nonexistent
    times. See [Nonexistent times when localizing](../user_guide/timeseries.html#timeseries-timezone-nonexistent)
    ([GH 22647](https://github.com/pandas-dev/pandas/issues/22647))'
  id: totrans-1318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round"), [`ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil"), 和 [`floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor") 用于 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 现在支持一个 `ambiguous` 参数，用于处理舍入到模糊时间的日期时间（[GH 18946](https://github.com/pandas-dev/pandas/issues/18946)），以及一个
    `nonexistent` 参数，用于处理舍入到不存在时间的日期时间。参见 [本地化时不存在的时间](../user_guide/timeseries.html#timeseries-timezone-nonexistent)（[GH
    22647](https://github.com/pandas-dev/pandas/issues/22647))'
- en: The result of [`resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") is now iterable similar to `groupby()` ([GH 15314](https://github.com/pandas-dev/pandas/issues/15314)).
  id: totrans-1319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 的结果现在类似于 `groupby()` 可迭代（[GH 15314](https://github.com/pandas-dev/pandas/issues/15314)).'
- en: '[`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") and [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") have gained the [`Resampler.quantile()`](../reference/api/pandas.core.resample.Resampler.quantile.html#pandas.core.resample.Resampler.quantile
    "pandas.core.resample.Resampler.quantile") ([GH 15023](https://github.com/pandas-dev/pandas/issues/15023)).'
  id: totrans-1320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") 和 [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 现在具有 [`Resampler.quantile()`](../reference/api/pandas.core.resample.Resampler.quantile.html#pandas.core.resample.Resampler.quantile
    "pandas.core.resample.Resampler.quantile")（[GH 15023](https://github.com/pandas-dev/pandas/issues/15023)).'
- en: '[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") and [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") with a [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") will now respect the `base` argument in the same fashion
    as with a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"). ([GH 23882](https://github.com/pandas-dev/pandas/issues/23882))'
  id: totrans-1321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 和 [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") 与 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 现在将像与 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 一样尊重 `base` 参数。([GH 23882](https://github.com/pandas-dev/pandas/issues/23882))'
- en: '[`pandas.api.types.is_list_like()`](../reference/api/pandas.api.types.is_list_like.html#pandas.api.types.is_list_like
    "pandas.api.types.is_list_like") has gained a keyword `allow_sets` which is `True`
    by default; if `False`, all instances of `set` will not be considered “list-like”
    anymore ([GH 23061](https://github.com/pandas-dev/pandas/issues/23061))'
  id: totrans-1322
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.api.types.is_list_like()`](../reference/api/pandas.api.types.is_list_like.html#pandas.api.types.is_list_like
    "pandas.api.types.is_list_like") 现在增加了一个默认为 `True` 的关键词 `allow_sets`；如果为 `False`，则不再将所有
    `set` 实例视为“类似列表” ([GH 23061](https://github.com/pandas-dev/pandas/issues/23061))。'
- en: '[`Index.to_frame()`](../reference/api/pandas.Index.to_frame.html#pandas.Index.to_frame
    "pandas.Index.to_frame") now supports overriding column name(s) ([GH 22580](https://github.com/pandas-dev/pandas/issues/22580)).'
  id: totrans-1323
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.to_frame()`](../reference/api/pandas.Index.to_frame.html#pandas.Index.to_frame
    "pandas.Index.to_frame") 现在支持覆盖列名 ([GH 22580](https://github.com/pandas-dev/pandas/issues/22580))。'
- en: '[`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes") now can take a `dtype` parameter as an alternative
    to passing `categories` and `ordered` ([GH 24398](https://github.com/pandas-dev/pandas/issues/24398)).'
  id: totrans-1324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes") 现在可以使用 `dtype` 参数代替传递 `categories` 和 `ordered`
    参数 ([GH 24398](https://github.com/pandas-dev/pandas/issues/24398))。'
- en: New attribute `__git_version__` will return git commit sha of current build
    ([GH 21295](https://github.com/pandas-dev/pandas/issues/21295)).
  id: totrans-1325
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新属性 `__git_version__` 将返回当前构建的 git 提交 sha ([GH 21295](https://github.com/pandas-dev/pandas/issues/21295))。
- en: Compatibility with Matplotlib 3.0 ([GH 22790](https://github.com/pandas-dev/pandas/issues/22790)).
  id: totrans-1326
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 兼容性与 Matplotlib 3.0 ([GH 22790](https://github.com/pandas-dev/pandas/issues/22790))。
- en: Added [`Interval.overlaps()`](../reference/api/pandas.Interval.overlaps.html#pandas.Interval.overlaps
    "pandas.Interval.overlaps"), [`arrays.IntervalArray.overlaps()`](../reference/api/pandas.arrays.IntervalArray.overlaps.html#pandas.arrays.IntervalArray.overlaps
    "pandas.arrays.IntervalArray.overlaps"), and [`IntervalIndex.overlaps()`](../reference/api/pandas.IntervalIndex.overlaps.html#pandas.IntervalIndex.overlaps
    "pandas.IntervalIndex.overlaps") for determining overlaps between interval-like
    objects ([GH 21998](https://github.com/pandas-dev/pandas/issues/21998))
  id: totrans-1327
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增加了用于确定区间对象之间重叠的 [`Interval.overlaps()`](../reference/api/pandas.Interval.overlaps.html#pandas.Interval.overlaps
    "pandas.Interval.overlaps")、[`arrays.IntervalArray.overlaps()`](../reference/api/pandas.arrays.IntervalArray.overlaps.html#pandas.arrays.IntervalArray.overlaps
    "pandas.arrays.IntervalArray.overlaps") 和 [`IntervalIndex.overlaps()`](../reference/api/pandas.IntervalIndex.overlaps.html#pandas.IntervalIndex.overlaps
    "pandas.IntervalIndex.overlaps") ([GH 21998](https://github.com/pandas-dev/pandas/issues/21998))。
- en: '[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf "pandas.read_fwf")
    now accepts keyword `infer_nrows` ([GH 15138](https://github.com/pandas-dev/pandas/issues/15138)).'
  id: totrans-1328
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf "pandas.read_fwf")
    现在接受关键词 `infer_nrows` ([GH 15138](https://github.com/pandas-dev/pandas/issues/15138))。'
- en: '[`to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") now supports writing a `DataFrame` as a directory
    of parquet files partitioned by a subset of the columns when `engine = ''pyarrow''`
    ([GH 23283](https://github.com/pandas-dev/pandas/issues/23283))'
  id: totrans-1329
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_parquet()`](../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet
    "pandas.DataFrame.to_parquet") 现在在 `engine = ''pyarrow''` 时支持将 `DataFrame` 写入按列子集分区的
    Parquet 文件目录 ([GH 23283](https://github.com/pandas-dev/pandas/issues/23283))。'
- en: '[`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize"), [`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize"), and [`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize") have gained the `nonexistent` argument for alternative
    handling of nonexistent times. See [Nonexistent times when localizing](../user_guide/timeseries.html#timeseries-timezone-nonexistent)
    ([GH 8917](https://github.com/pandas-dev/pandas/issues/8917), [GH 24466](https://github.com/pandas-dev/pandas/issues/24466))'
  id: totrans-1330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize")、[`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize") 和 [`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize") 现在具有 `nonexistent` 参数，用于替代处理不存在的时间。参见[在本地化时的不存在时间](../user_guide/timeseries.html#timeseries-timezone-nonexistent)
    ([GH 8917](https://github.com/pandas-dev/pandas/issues/8917), [GH 24466](https://github.com/pandas-dev/pandas/issues/24466))。'
- en: '[`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference"), [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection"), [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union"), and [`Index.symmetric_difference()`](../reference/api/pandas.Index.symmetric_difference.html#pandas.Index.symmetric_difference
    "pandas.Index.symmetric_difference") now have an optional `sort` parameter to
    control whether the results should be sorted if possible ([GH 17839](https://github.com/pandas-dev/pandas/issues/17839),
    [GH 24471](https://github.com/pandas-dev/pandas/issues/24471))'
  id: totrans-1331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.difference()`](../reference/api/pandas.Index.difference.html#pandas.Index.difference
    "pandas.Index.difference"), [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection"), [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union"), 和 [`Index.symmetric_difference()`](../reference/api/pandas.Index.symmetric_difference.html#pandas.Index.symmetric_difference
    "pandas.Index.symmetric_difference") 现在具有可选的 `sort` 参数，用于控制结果是否应在可能的情况下进行排序 ([GH
    17839](https://github.com/pandas-dev/pandas/issues/17839), [GH 24471](https://github.com/pandas-dev/pandas/issues/24471))'
- en: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") now accepts `usecols` as a list of column names or callable
    ([GH 18273](https://github.com/pandas-dev/pandas/issues/18273))'
  id: totrans-1332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 现在接受 `usecols` 作为列名列表或可调用对象 ([GH 18273](https://github.com/pandas-dev/pandas/issues/18273))'
- en: '[`MultiIndex.to_flat_index()`](../reference/api/pandas.MultiIndex.to_flat_index.html#pandas.MultiIndex.to_flat_index
    "pandas.MultiIndex.to_flat_index") has been added to flatten multiple levels into
    a single-level [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    object.'
  id: totrans-1333
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.to_flat_index()`](../reference/api/pandas.MultiIndex.to_flat_index.html#pandas.MultiIndex.to_flat_index
    "pandas.MultiIndex.to_flat_index") 已添加以将多个级别展平为单级 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 对象。'
- en: '[`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata") and `pandas.io.stata.StataWriter117` can write mixed
    string columns to Stata strl format ([GH 23633](https://github.com/pandas-dev/pandas/issues/23633))'
  id: totrans-1334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata") 和 `pandas.io.stata.StataWriter117` 可以将混合字符串列写入 Stata
    strl 格式 ([GH 23633](https://github.com/pandas-dev/pandas/issues/23633))'
- en: '[`DataFrame.between_time()`](../reference/api/pandas.DataFrame.between_time.html#pandas.DataFrame.between_time
    "pandas.DataFrame.between_time") and [`DataFrame.at_time()`](../reference/api/pandas.DataFrame.at_time.html#pandas.DataFrame.at_time
    "pandas.DataFrame.at_time") have gained the `axis` parameter ([GH 8839](https://github.com/pandas-dev/pandas/issues/8839))'
  id: totrans-1335
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.between_time()`](../reference/api/pandas.DataFrame.between_time.html#pandas.DataFrame.between_time
    "pandas.DataFrame.between_time") 和 [`DataFrame.at_time()`](../reference/api/pandas.DataFrame.at_time.html#pandas.DataFrame.at_time
    "pandas.DataFrame.at_time") 增加了 `axis` 参数 ([GH 8839](https://github.com/pandas-dev/pandas/issues/8839))'
- en: '[`DataFrame.to_records()`](../reference/api/pandas.DataFrame.to_records.html#pandas.DataFrame.to_records
    "pandas.DataFrame.to_records") now accepts `index_dtypes` and `column_dtypes`
    parameters to allow different data types in stored column and index records ([GH
    18146](https://github.com/pandas-dev/pandas/issues/18146))'
  id: totrans-1336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_records()`](../reference/api/pandas.DataFrame.to_records.html#pandas.DataFrame.to_records
    "pandas.DataFrame.to_records") 现在接受 `index_dtypes` 和 `column_dtypes` 参数，允许在存储的列和索引记录中使用不同的数据类型
    ([GH 18146](https://github.com/pandas-dev/pandas/issues/18146))'
- en: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") has gained the [`is_overlapping`](../reference/api/pandas.IntervalIndex.is_overlapping.html#pandas.IntervalIndex.is_overlapping
    "pandas.IntervalIndex.is_overlapping") attribute to indicate if the `IntervalIndex`
    contains any overlapping intervals ([GH 23309](https://github.com/pandas-dev/pandas/issues/23309))'
  id: totrans-1337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 增加了 [`is_overlapping`](../reference/api/pandas.IntervalIndex.is_overlapping.html#pandas.IntervalIndex.is_overlapping
    "pandas.IntervalIndex.is_overlapping") 属性，指示 `IntervalIndex` 是否包含任何重叠区间 ([GH 23309](https://github.com/pandas-dev/pandas/issues/23309))'
- en: '[`pandas.DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") has gained the `method` argument to control SQL insertion
    clause. See the [insertion method](../user_guide/io.html#io-sql-method) section
    in the documentation. ([GH 8953](https://github.com/pandas-dev/pandas/issues/8953))'
  id: totrans-1338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 增加了 `method` 参数以控制 SQL 插入子句。请参阅文档中的 [插入方法](../user_guide/io.html#io-sql-method)
    部分。 ([GH 8953](https://github.com/pandas-dev/pandas/issues/8953))'
- en: '[`DataFrame.corrwith()`](../reference/api/pandas.DataFrame.corrwith.html#pandas.DataFrame.corrwith
    "pandas.DataFrame.corrwith") now supports Spearman’s rank correlation, Kendall’s
    tau as well as callable correlation methods. ([GH 21925](https://github.com/pandas-dev/pandas/issues/21925))'
  id: totrans-1339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.corrwith()`](../reference/api/pandas.DataFrame.corrwith.html#pandas.DataFrame.corrwith
    "pandas.DataFrame.corrwith") 现在支持斯皮尔曼秩相关、肯德尔 tau 相关以及可调用的相关方法。([GH 21925](https://github.com/pandas-dev/pandas/issues/21925))'
- en: '[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json"), [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv"), [`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle"), and other export methods now support tilde(~) in
    path argument. ([GH 23473](https://github.com/pandas-dev/pandas/issues/23473))'
  id: totrans-1340
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json")、[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv")、[`DataFrame.to_pickle()`](../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle
    "pandas.DataFrame.to_pickle") 和其他导出方法现在支持路径参数中的波浪号(~)。 ([GH 23473](https://github.com/pandas-dev/pandas/issues/23473))'
- en: '## Backwards incompatible API changes'
  id: totrans-1341
  prefs: []
  type: TYPE_NORMAL
  zh: '## 向后不兼容的 API 更改'
- en: pandas 0.24.0 includes a number of API breaking changes.
  id: totrans-1342
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 0.24.0 包含一些破坏 API 的更改。
- en: '### Increased minimum versions for dependencies'
  id: totrans-1343
  prefs: []
  type: TYPE_NORMAL
  zh: '### 增加了依赖项的最低版本'
- en: 'We have updated our minimum supported versions of dependencies ([GH 21242](https://github.com/pandas-dev/pandas/issues/21242),
    [GH 18742](https://github.com/pandas-dev/pandas/issues/18742), [GH 23774](https://github.com/pandas-dev/pandas/issues/23774),
    [GH 24767](https://github.com/pandas-dev/pandas/issues/24767)). If installed,
    we now require:'
  id: totrans-1344
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已更新了我们支持的依赖项的最低版本 ([GH 21242](https://github.com/pandas-dev/pandas/issues/21242),
    [GH 18742](https://github.com/pandas-dev/pandas/issues/18742), [GH 23774](https://github.com/pandas-dev/pandas/issues/23774),
    [GH 24767](https://github.com/pandas-dev/pandas/issues/24767))。如果已安装，我们现在要求：
- en: '| Package | Minimum Version | Required |'
  id: totrans-1345
  prefs: []
  type: TYPE_TB
  zh: '| 包 | 最低版本 | 必需 |'
- en: '| --- | --- | --- |'
  id: totrans-1346
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| numpy | 1.12.0 | X |'
  id: totrans-1347
  prefs: []
  type: TYPE_TB
  zh: '| numpy | 1.12.0 | X |'
- en: '| bottleneck | 1.2.0 |  |'
  id: totrans-1348
  prefs: []
  type: TYPE_TB
  zh: '| bottleneck | 1.2.0 |  |'
- en: '| fastparquet | 0.2.1 |  |'
  id: totrans-1349
  prefs: []
  type: TYPE_TB
  zh: '| fastparquet | 0.2.1 |  |'
- en: '| matplotlib | 2.0.0 |  |'
  id: totrans-1350
  prefs: []
  type: TYPE_TB
  zh: '| matplotlib | 2.0.0 |  |'
- en: '| numexpr | 2.6.1 |  |'
  id: totrans-1351
  prefs: []
  type: TYPE_TB
  zh: '| numexpr | 2.6.1 |  |'
- en: '| pandas-gbq | 0.8.0 |  |'
  id: totrans-1352
  prefs: []
  type: TYPE_TB
  zh: '| pandas-gbq | 0.8.0 |  |'
- en: '| pyarrow | 0.9.0 |  |'
  id: totrans-1353
  prefs: []
  type: TYPE_TB
  zh: '| pyarrow | 0.9.0 |  |'
- en: '| pytables | 3.4.2 |  |'
  id: totrans-1354
  prefs: []
  type: TYPE_TB
  zh: '| pytables | 3.4.2 |  |'
- en: '| scipy | 0.18.1 |  |'
  id: totrans-1355
  prefs: []
  type: TYPE_TB
  zh: '| scipy | 0.18.1 |  |'
- en: '| xlrd | 1.0.0 |  |'
  id: totrans-1356
  prefs: []
  type: TYPE_TB
  zh: '| xlrd | 1.0.0 |  |'
- en: '| pytest (dev) | 3.6 |  |'
  id: totrans-1357
  prefs: []
  type: TYPE_TB
  zh: '| pytest (dev) | 3.6 |  |'
- en: 'Additionally we no longer depend on `feather-format` for feather based storage
    and replaced it with references to `pyarrow` ([GH 21639](https://github.com/pandas-dev/pandas/issues/21639)
    and [GH 23053](https://github.com/pandas-dev/pandas/issues/23053)).  ### `os.linesep`
    is used for `line_terminator` of `DataFrame.to_csv`'
  id: totrans-1358
  prefs: []
  type: TYPE_NORMAL
  zh: 另外，我们不再依赖于 `feather-format` 进行基于 feather 的存储，并用对 `pyarrow` 的引用替换了它 ([GH 21639](https://github.com/pandas-dev/pandas/issues/21639)
    和 [GH 23053](https://github.com/pandas-dev/pandas/issues/23053))。### `DataFrame.to_csv`
    的 `line_terminator` 使用 `os.linesep`
- en: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") now uses `os.linesep()` rather than `''\n''` for the
    default line terminator ([GH 20353](https://github.com/pandas-dev/pandas/issues/20353)).
    This change only affects when running on Windows, where `''\r\n''` was used for
    line terminator even when `''\n''` was passed in `line_terminator`.'
  id: totrans-1359
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") 现在使用 `os.linesep()` 而不是 `''\n''` 作为默认行终止符 ([GH 20353](https://github.com/pandas-dev/pandas/issues/20353))。这个更改仅影响在
    Windows 上运行时，即使 `''\n''` 被传递给 `line_terminator`，也仍然使用 `''\r\n''` 作为行终止符。'
- en: '*Previous behavior* on Windows:'
  id: totrans-1360
  prefs: []
  type: TYPE_NORMAL
  zh: '*在 Windows 上的先前行为*：'
- en: '[PRE121]'
  id: totrans-1361
  prefs: []
  type: TYPE_PRE
  zh: '[PRE121]'
- en: '*New behavior* on Windows:'
  id: totrans-1362
  prefs: []
  type: TYPE_NORMAL
  zh: '*在 Windows 上的新行为*：'
- en: Passing `line_terminator` explicitly, set the `line terminator` to that character.
  id: totrans-1363
  prefs: []
  type: TYPE_NORMAL
  zh: 显式传递 `line_terminator`，将 `line terminator` 设置为该字符。
- en: '[PRE122]'
  id: totrans-1364
  prefs: []
  type: TYPE_PRE
  zh: '[PRE122]'
- en: On Windows, the value of `os.linesep` is `'\r\n'`, so if `line_terminator` is
    not set, `'\r\n'` is used for line terminator.
  id: totrans-1365
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Windows 上，`os.linesep` 的值为 `'\r\n'`，所以如果未设置 `line_terminator`，则使用 `'\r\n'`
    作为行终止符。
- en: '[PRE123]'
  id: totrans-1366
  prefs: []
  type: TYPE_PRE
  zh: '[PRE123]'
- en: For file objects, specifying `newline` is not sufficient to set the line terminator.
    You must pass in the `line_terminator` explicitly, even in this case.
  id: totrans-1367
  prefs: []
  type: TYPE_NORMAL
  zh: 对于文件对象，指定 `newline` 不足以设置行终止符。即使在这种情况下，您也必须显式传递 `line_terminator`。
- en: '[PRE124]  ### Proper handling of `np.nan` in a string data-typed column with
    the Python engine'
  id: totrans-1368
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE124]  ### 正确处理带有 Python 引擎的字符串数据类型列中的 `np.nan`'
- en: There was bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") and [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") with the Python engine, where missing values turned to `'nan'`
    with `dtype=str` and `na_filter=True`. Now, these missing values are converted
    to the string missing indicator, `np.nan`. ([GH 20377](https://github.com/pandas-dev/pandas/issues/20377))
  id: totrans-1369
  prefs: []
  type: TYPE_NORMAL
  zh: 在具有 Python 引擎的 [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 和 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中存在错误，在 `dtype=str` 和 `na_filter=True` 的情况下，缺失值会转换为 `'nan'`。现在，这些缺失值将转换为字符串缺失指示器
    `np.nan`。 ([GH 20377](https://github.com/pandas-dev/pandas/issues/20377))
- en: '*Previous behavior*:'
  id: totrans-1370
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*:'
- en: '[PRE125]'
  id: totrans-1371
  prefs: []
  type: TYPE_PRE
  zh: '[PRE125]'
- en: '*New behavior*:'
  id: totrans-1372
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE126]'
  id: totrans-1373
  prefs: []
  type: TYPE_PRE
  zh: '[PRE126]'
- en: 'Notice how we now instead output `np.nan` itself instead of a stringified form
    of it.  ### Parsing datetime strings with timezone offsets'
  id: totrans-1374
  prefs: []
  type: TYPE_NORMAL
  zh: '请注意，我们现在输出 `np.nan` 本身而不是它的字符串形式。 ### 使用时区偏移解析日期时间字符串'
- en: Previously, parsing datetime strings with UTC offsets with [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") or [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") would automatically convert the datetime to UTC without
    timezone localization. This is inconsistent from parsing the same datetime string
    with [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    which would preserve the UTC offset in the `tz` attribute. Now, [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") preserves the UTC offset in the `tz` attribute when all
    the datetime strings have the same UTC offset ([GH 17697](https://github.com/pandas-dev/pandas/issues/17697),
    [GH 11736](https://github.com/pandas-dev/pandas/issues/11736), [GH 22457](https://github.com/pandas-dev/pandas/issues/22457))
  id: totrans-1375
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，使用 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 或 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 解析具有 UTC 偏移的日期时间字符串会自动将日期时间转换为 UTC 而不进行时区本地化。这与使用 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 解析相同日期时间字符串时不一致，后者会在 `tz` 属性中保留 UTC 偏移。现在，当所有日期时间字符串具有相同的
    UTC 偏移时，[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 会保留 `tz` 属性中的 UTC 偏移 ([GH 17697](https://github.com/pandas-dev/pandas/issues/17697),
    [GH 11736](https://github.com/pandas-dev/pandas/issues/11736), [GH 22457](https://github.com/pandas-dev/pandas/issues/22457))
- en: '*Previous behavior*:'
  id: totrans-1376
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*:'
- en: '[PRE127]'
  id: totrans-1377
  prefs: []
  type: TYPE_PRE
  zh: '[PRE127]'
- en: '*New behavior*:'
  id: totrans-1378
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE128]'
  id: totrans-1379
  prefs: []
  type: TYPE_PRE
  zh: '[PRE128]'
- en: Parsing datetime strings with the same UTC offset will preserve the UTC offset
    in the `tz`
  id: totrans-1380
  prefs: []
  type: TYPE_NORMAL
  zh: 解析具有相同 UTC 偏移的日期时间字符串将保留 `tz` 中的 UTC 偏移
- en: '[PRE129]'
  id: totrans-1381
  prefs: []
  type: TYPE_PRE
  zh: '[PRE129]'
- en: Parsing datetime strings with different UTC offsets will now create an Index
    of `datetime.datetime` objects with different UTC offsets
  id: totrans-1382
  prefs: []
  type: TYPE_NORMAL
  zh: 解析具有不同 UTC 偏移的日期时间字符串现在会创建具有不同 UTC 偏移的 `datetime.datetime` 对象的索引
- en: '[PRE130]'
  id: totrans-1383
  prefs: []
  type: TYPE_PRE
  zh: '[PRE130]'
- en: Passing `utc=True` will mimic the previous behavior but will correctly indicate
    that the dates have been converted to UTC
  id: totrans-1384
  prefs: []
  type: TYPE_NORMAL
  zh: 传递 `utc=True` 将模仿先前的行为，但将正确指示日期已转换为 UTC
- en: '[PRE131]  ### Parsing mixed-timezones with [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")'
  id: totrans-1385
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE131]  ### 使用 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 解析混合时区'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    no longer silently converts mixed-timezone columns to UTC ([GH 24987](https://github.com/pandas-dev/pandas/issues/24987)).'
  id: totrans-1386
  prefs: []
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    不再将混合时区列悄悄转换为 UTC ([GH 24987](https://github.com/pandas-dev/pandas/issues/24987)).'
- en: '*Previous behavior*'
  id: totrans-1387
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*'
- en: '[PRE132]'
  id: totrans-1388
  prefs: []
  type: TYPE_PRE
  zh: '[PRE132]'
- en: '*New behavior*'
  id: totrans-1389
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*'
- en: '[PRE133]'
  id: totrans-1390
  prefs: []
  type: TYPE_PRE
  zh: '[PRE133]'
- en: As can be seen, the `dtype` is object; each value in the column is a string.
    To convert the strings to an array of datetimes, the `date_parser` argument
  id: totrans-1391
  prefs: []
  type: TYPE_NORMAL
  zh: 正如可以看到的，`dtype` 是对象；列中的每个值都是一个字符串。要将字符串转换为日期时间数组，可以使用 `date_parser` 参数
- en: '[PRE134]'
  id: totrans-1392
  prefs: []
  type: TYPE_PRE
  zh: '[PRE134]'
- en: 'See [Parsing datetime strings with timezone offsets](#whatsnew-0240-api-timezone-offset-parsing)
    for more.  ### Time values in `dt.end_time` and `to_timestamp(how=''end'')`'
  id: totrans-1393
  prefs: []
  type: TYPE_NORMAL
  zh: '更多信息，请参阅[使用时区偏移解析日期时间字符串](#whatsnew-0240-api-timezone-offset-parsing) ### `dt.end_time`
    和 `to_timestamp(how=''end'')` 中的时间值'
- en: The time values in [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") and [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") objects are now set to ‘23:59:59.999999999’ when calling
    [`Series.dt.end_time`](../reference/api/pandas.Series.dt.end_time.html#pandas.Series.dt.end_time
    "pandas.Series.dt.end_time"), [`Period.end_time`](../reference/api/pandas.Period.end_time.html#pandas.Period.end_time
    "pandas.Period.end_time"), [`PeriodIndex.end_time`](../reference/api/pandas.PeriodIndex.end_time.html#pandas.PeriodIndex.end_time
    "pandas.PeriodIndex.end_time"), [`Period.to_timestamp()`](../reference/api/pandas.Period.to_timestamp.html#pandas.Period.to_timestamp
    "pandas.Period.to_timestamp") with `how='end'`, or [`PeriodIndex.to_timestamp()`](../reference/api/pandas.PeriodIndex.to_timestamp.html#pandas.PeriodIndex.to_timestamp
    "pandas.PeriodIndex.to_timestamp") with `how='end'` ([GH 17157](https://github.com/pandas-dev/pandas/issues/17157))
  id: totrans-1394
  prefs: []
  type: TYPE_NORMAL
  zh: 当调用[`Series.dt.end_time`](../reference/api/pandas.Series.dt.end_time.html#pandas.Series.dt.end_time
    "pandas.Series.dt.end_time")、[`Period.end_time`](../reference/api/pandas.Period.end_time.html#pandas.Period.end_time
    "pandas.Period.end_time")、[`PeriodIndex.end_time`](../reference/api/pandas.PeriodIndex.end_time.html#pandas.PeriodIndex.end_time
    "pandas.PeriodIndex.end_time")、[`Period.to_timestamp()`](../reference/api/pandas.Period.to_timestamp.html#pandas.Period.to_timestamp
    "pandas.Period.to_timestamp")以及`how='end'`参数调用时，[`PeriodIndex.to_timestamp()`](../reference/api/pandas.PeriodIndex.to_timestamp.html#pandas.PeriodIndex.to_timestamp
    "pandas.PeriodIndex.to_timestamp")的时间值现在设置为‘23:59:59.999999999’（[GH 17157](https://github.com/pandas-dev/pandas/issues/17157)）。
- en: '*Previous behavior*:'
  id: totrans-1395
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE135]'
  id: totrans-1396
  prefs: []
  type: TYPE_PRE
  zh: '[PRE135]'
- en: '*New behavior*:'
  id: totrans-1397
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: Calling [`Series.dt.end_time`](../reference/api/pandas.Series.dt.end_time.html#pandas.Series.dt.end_time
    "pandas.Series.dt.end_time") will now result in a time of ‘23:59:59.999999999’
    as is the case with [`Period.end_time`](../reference/api/pandas.Period.end_time.html#pandas.Period.end_time
    "pandas.Period.end_time"), for example
  id: totrans-1398
  prefs: []
  type: TYPE_NORMAL
  zh: 调用[`Series.dt.end_time`](../reference/api/pandas.Series.dt.end_time.html#pandas.Series.dt.end_time
    "pandas.Series.dt.end_time")现在将导致时间为‘23:59:59.999999999’，就像[`Period.end_time`](../reference/api/pandas.Period.end_time.html#pandas.Period.end_time
    "pandas.Period.end_time")的情况一样，例如
- en: '[PRE136]  ### Series.unique for timezone-aware data'
  id: totrans-1399
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE136]  ### 用于时区感知数据的Series.unique'
- en: The return type of [`Series.unique()`](../reference/api/pandas.Series.unique.html#pandas.Series.unique
    "pandas.Series.unique") for datetime with timezone values has changed from an
    [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)") of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") objects to a [`arrays.DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray") ([GH 24024](https://github.com/pandas-dev/pandas/issues/24024)).
  id: totrans-1400
  prefs: []
  type: TYPE_NORMAL
  zh: '[`Series.unique()`](../reference/api/pandas.Series.unique.html#pandas.Series.unique
    "pandas.Series.unique") 的返回类型对于带有时区值的日期时间已经从[`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)")中的[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")对象更改为[`arrays.DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray")（[GH 24024](https://github.com/pandas-dev/pandas/issues/24024)）。'
- en: '[PRE137]'
  id: totrans-1401
  prefs: []
  type: TYPE_PRE
  zh: '[PRE137]'
- en: '*Previous behavior*:'
  id: totrans-1402
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE138]'
  id: totrans-1403
  prefs: []
  type: TYPE_PRE
  zh: '[PRE138]'
- en: '*New behavior*:'
  id: totrans-1404
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE139]  ### Sparse data structure refactor'
  id: totrans-1405
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE139]  ### 稀疏数据结构重构'
- en: '`SparseArray`, the array backing `SparseSeries` and the columns in a `SparseDataFrame`,
    is now an extension array ([GH 21978](https://github.com/pandas-dev/pandas/issues/21978),
    [GH 19056](https://github.com/pandas-dev/pandas/issues/19056), [GH 22835](https://github.com/pandas-dev/pandas/issues/22835)).
    To conform to this interface and for consistency with the rest of pandas, some
    API breaking changes were made:'
  id: totrans-1406
  prefs: []
  type: TYPE_NORMAL
  zh: '`SparseArray`，即`SparseSeries`的支持数组和`SparseDataFrame`中的列，现在是一个扩展数组（[GH 21978](https://github.com/pandas-dev/pandas/issues/21978)，[GH
    19056](https://github.com/pandas-dev/pandas/issues/19056)，[GH 22835](https://github.com/pandas-dev/pandas/issues/22835)）。为了符合这个接口和与pandas的其余部分保持一致，进行了一些API的破坏性更改：'
- en: '`SparseArray` is no longer a subclass of [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)"). To convert a `SparseArray` to a NumPy array, use [`numpy.asarray()`](https://numpy.org/doc/stable/reference/generated/numpy.asarray.html#numpy.asarray
    "(in NumPy v1.26)").'
  id: totrans-1407
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray` 不再是[`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)")的子类。要将`SparseArray`转换为NumPy数组，请使用[`numpy.asarray()`](https://numpy.org/doc/stable/reference/generated/numpy.asarray.html#numpy.asarray
    "(in NumPy v1.26)")。'
- en: '`SparseArray.dtype` and `SparseSeries.dtype` are now instances of [`SparseDtype`](../reference/api/pandas.SparseDtype.html#pandas.SparseDtype
    "pandas.SparseDtype"), rather than `np.dtype`. Access the underlying dtype with
    `SparseDtype.subtype`.'
  id: totrans-1408
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.dtype` 和 `SparseSeries.dtype` 现在是 [`SparseDtype`](../reference/api/pandas.SparseDtype.html#pandas.SparseDtype
    "pandas.SparseDtype") 的实例，而不是 `np.dtype`。可以使用 `SparseDtype.subtype` 访问底层的 dtype。'
- en: '`numpy.asarray(sparse_array)` now returns a dense array with all the values,
    not just the non-fill-value values ([GH 14167](https://github.com/pandas-dev/pandas/issues/14167))'
  id: totrans-1409
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`numpy.asarray(sparse_array)` 现在返回一个包含所有值的密集数组，而不仅仅是非填充值的值（[GH 14167](https://github.com/pandas-dev/pandas/issues/14167)）'
- en: '`SparseArray.take` now matches the API of [`pandas.api.extensions.ExtensionArray.take()`](../reference/api/pandas.api.extensions.ExtensionArray.take.html#pandas.api.extensions.ExtensionArray.take
    "pandas.api.extensions.ExtensionArray.take") ([GH 19506](https://github.com/pandas-dev/pandas/issues/19506)):'
  id: totrans-1410
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.take` 现在与 [`pandas.api.extensions.ExtensionArray.take()`](../reference/api/pandas.api.extensions.ExtensionArray.take.html#pandas.api.extensions.ExtensionArray.take
    "pandas.api.extensions.ExtensionArray.take") 的 API 匹配（[GH 19506](https://github.com/pandas-dev/pandas/issues/19506)）：'
- en: The default value of `allow_fill` has changed from `False` to `True`.
  id: totrans-1411
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`allow_fill` 的默认值已从 `False` 更改为 `True`。'
- en: The `out` and `mode` parameters are now longer accepted (previously, this raised
    if they were specified).
  id: totrans-1412
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不再接受 `out` 和 `mode` 参数（先前，如果指定了这些参数，会引发错误）。
- en: Passing a scalar for `indices` is no longer allowed.
  id: totrans-1413
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不再允许为`indices`传递标量。
- en: The result of [`concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") with a mix of sparse and dense Series is a Series with sparse
    values, rather than a `SparseSeries`.
  id: totrans-1414
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    结果为混合稀疏和密集 Series 的 Series，而不再是 `SparseSeries`。'
- en: '`SparseDataFrame.combine` and `DataFrame.combine_first` no longer supports
    combining a sparse column with a dense column while preserving the sparse subtype.
    The result will be an object-dtype SparseArray.'
  id: totrans-1415
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseDataFrame.combine` 和 `DataFrame.combine_first` 不再支持将稀疏列与密集列组合并保留稀疏子类型。结果将是对象类型的
    SparseArray。'
- en: Setting `SparseArray.fill_value` to a fill value with a different dtype is now
    allowed.
  id: totrans-1416
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许将 `SparseArray.fill_value` 设置为具有不同 dtype 的填充值。
- en: '`DataFrame[column]` is now a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with sparse values, rather than a `SparseSeries`, when slicing
    a single column with sparse values ([GH 23559](https://github.com/pandas-dev/pandas/issues/23559)).'
  id: totrans-1417
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当对具有稀疏值的单个列进行切片时，`DataFrame[column]`现在是一个[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")，而不再是`SparseSeries`（[GH 23559](https://github.com/pandas-dev/pandas/issues/23559)）。
- en: The result of [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") is now a `Series` with sparse values, like with other extension
    arrays ([GH 24077](https://github.com/pandas-dev/pandas/issues/24077))
  id: totrans-1418
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") 的结果现在是具有稀疏值的 `Series`，与其他扩展数组一样（[GH 24077](https://github.com/pandas-dev/pandas/issues/24077)）'
- en: 'Some new warnings are issued for operations that require or are likely to materialize
    a large dense array:'
  id: totrans-1419
  prefs: []
  type: TYPE_NORMAL
  zh: 对于需要或可能导致大型密集数组材料化的操作，现在会发出一些新的警告：
- en: A [`errors.PerformanceWarning`](../reference/api/pandas.errors.PerformanceWarning.html#pandas.errors.PerformanceWarning
    "pandas.errors.PerformanceWarning") is issued when using fillna with a `method`,
    as a dense array is constructed to create the filled array. Filling with a `value`
    is the efficient way to fill a sparse array.
  id: totrans-1420
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用 `method` 进行填充时，会发出 [`errors.PerformanceWarning`](../reference/api/pandas.errors.PerformanceWarning.html#pandas.errors.PerformanceWarning
    "pandas.errors.PerformanceWarning")，因为会构建密集数组来创建填充数组。使用 `value` 进行填充是填充稀疏数组的有效方法。
- en: A [`errors.PerformanceWarning`](../reference/api/pandas.errors.PerformanceWarning.html#pandas.errors.PerformanceWarning
    "pandas.errors.PerformanceWarning") is now issued when concatenating sparse Series
    with differing fill values. The fill value from the first sparse array continues
    to be used.
  id: totrans-1421
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当连接具有不同填充值的稀疏 Series 时，会发出 [`errors.PerformanceWarning`](../reference/api/pandas.errors.PerformanceWarning.html#pandas.errors.PerformanceWarning
    "pandas.errors.PerformanceWarning")。继续使用第一个稀疏数组的填充值。
- en: In addition to these API breaking changes, many [Performance Improvements and
    Bug Fixes have been made](#whatsnew-0240-bug-fixes-sparse).
  id: totrans-1422
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这些 API 破坏性变化之外，还进行了许多[性能改进和错误修复](#whatsnew-0240-bug-fixes-sparse)。
- en: Finally, a `Series.sparse` accessor was added to provide sparse-specific methods
    like [`Series.sparse.from_coo()`](../reference/api/pandas.Series.sparse.from_coo.html#pandas.Series.sparse.from_coo
    "pandas.Series.sparse.from_coo").
  id: totrans-1423
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，添加了`Series.sparse`访问器，提供了类似[`Series.sparse.from_coo()`](../reference/api/pandas.Series.sparse.from_coo.html#pandas.Series.sparse.from_coo
    "pandas.Series.sparse.from_coo")的稀疏特定方法。
- en: '[PRE140]  ### [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") always returns a DataFrame'
  id: totrans-1424
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE140]  ### [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies")始终返回DataFrame'
- en: Previously, when `sparse=True` was passed to [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies"), the return value could be either a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or a `SparseDataFrame`, depending on whether all or a just
    a subset of the columns were dummy-encoded. Now, a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") is always returned ([GH 24284](https://github.com/pandas-dev/pandas/issues/24284)).
  id: totrans-1425
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，当将`sparse=True`传递给[`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies")时，返回值可以是[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")或`SparseDataFrame`，取决于是所有列还是仅一部分列进行了虚拟编码。现在，始终返回[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")（[GH 24284](https://github.com/pandas-dev/pandas/issues/24284)）。
- en: '*Previous behavior*'
  id: totrans-1426
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前行为*'
- en: The first [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") returns a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") because the column `A` is not dummy encoded. When just `["B",
    "C"]` are passed to `get_dummies`, then all the columns are dummy-encoded, and
    a `SparseDataFrame` was returned.
  id: totrans-1427
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个[`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies")返回一个[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")，因为列`A`没有进行虚拟编码。当仅传递`["B", "C"]`给`get_dummies`时，然后所有列都进行了虚拟编码，并返回了一个`SparseDataFrame`。
- en: '[PRE141]'
  id: totrans-1428
  prefs: []
  type: TYPE_PRE
  zh: '[PRE141]'
- en: '*New behavior*'
  id: totrans-1429
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*'
- en: Now, the return type is consistently a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame").
  id: totrans-1430
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，返回类型始终是[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")。
- en: '[PRE142]'
  id: totrans-1431
  prefs: []
  type: TYPE_PRE
  zh: '[PRE142]'
- en: Note
  id: totrans-1432
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'There’s no difference in memory usage between a `SparseDataFrame` and a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with sparse values. The memory usage will be the same as in
    the previous version of pandas.  ### Raise ValueError in `DataFrame.to_dict(orient=''index'')`'
  id: totrans-1433
  prefs: []
  type: TYPE_NORMAL
  zh: '在`SparseDataFrame`和具有稀疏值的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")之间的内存使用没有区别。内存使用量与pandas的先前版本相同。  ### 在`DataFrame.to_dict(orient=''index'')`中引发ValueError'
- en: Bug in [`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") raises `ValueError` when used with `orient='index'`
    and a non-unique index instead of losing data ([GH 22801](https://github.com/pandas-dev/pandas/issues/22801))
  id: totrans-1434
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用`orient='index'`和非唯一索引时，[`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict")中的错误会引发`ValueError`，而不是丢失数据（[GH 22801](https://github.com/pandas-dev/pandas/issues/22801)）
- en: '[PRE143]  ### Tick DateOffset normalize restrictions'
  id: totrans-1435
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE143]  ### Tick DateOffset normalize restrictions'
- en: Creating a `Tick` object (`Day`, `Hour`, `Minute`, `Second`, `Milli`, `Micro`,
    `Nano`) with `normalize=True` is no longer supported. This prevents unexpected
    behavior where addition could fail to be monotone or associative. ([GH 21427](https://github.com/pandas-dev/pandas/issues/21427))
  id: totrans-1436
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`normalize=True`创建`Tick`对象（`Day`、`Hour`、`Minute`、`Second`、`Milli`、`Micro`、`Nano`）不再受支持。这可以防止加法无法保持单调性或结合性的意外行为。([GH
    21427](https://github.com/pandas-dev/pandas/issues/21427))
- en: '*Previous behavior*:'
  id: totrans-1437
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前行为*:'
- en: '[PRE144]'
  id: totrans-1438
  prefs: []
  type: TYPE_PRE
  zh: '[PRE144]'
- en: '*New behavior*:'
  id: totrans-1439
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE145]  ### Period subtraction'
  id: totrans-1440
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE145]  ### 期间减法'
- en: Subtraction of a `Period` from another `Period` will give a `DateOffset`. instead
    of an integer ([GH 21314](https://github.com/pandas-dev/pandas/issues/21314))
  id: totrans-1441
  prefs: []
  type: TYPE_NORMAL
  zh: 从另一个`Period`中减去`Period`将给出一个`DateOffset`，而不是一个整数（[GH 21314](https://github.com/pandas-dev/pandas/issues/21314)）
- en: '*Previous behavior*:'
  id: totrans-1442
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前行为*:'
- en: '[PRE146]'
  id: totrans-1443
  prefs: []
  type: TYPE_PRE
  zh: '[PRE146]'
- en: '*New behavior*:'
  id: totrans-1444
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE147]'
  id: totrans-1445
  prefs: []
  type: TYPE_PRE
  zh: '[PRE147]'
- en: Similarly, subtraction of a `Period` from a `PeriodIndex` will now return an
    `Index` of `DateOffset` objects instead of an `Int64Index`
  id: totrans-1446
  prefs: []
  type: TYPE_NORMAL
  zh: 类似地，从`PeriodIndex`中减去`Period`现在将返回一个`DateOffset`对象的`Index`，而不是`Int64Index`
- en: '*Previous behavior*:'
  id: totrans-1447
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前行为*:'
- en: '[PRE148]'
  id: totrans-1448
  prefs: []
  type: TYPE_PRE
  zh: '[PRE148]'
- en: '*New behavior*:'
  id: totrans-1449
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE149]  ### Addition/subtraction of `NaN` from [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")'
  id: totrans-1450
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE149]  ### 从[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")中加减`NaN`'
- en: Adding or subtracting `NaN` from a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") column with `timedelta64[ns]` dtype will now raise a `TypeError`
    instead of returning all-`NaT`. This is for compatibility with `TimedeltaIndex`
    and `Series` behavior ([GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-1451
  prefs: []
  type: TYPE_NORMAL
  zh: 从具有`timedelta64[ns]` dtype的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")列中添加或减去`NaN`现在会引发`TypeError`，而不是返回全部`NaT`。这是为了与`TimedeltaIndex`和`Series`的行为兼容（[GH
    22163](https://github.com/pandas-dev/pandas/issues/22163)）
- en: '[PRE150]'
  id: totrans-1452
  prefs: []
  type: TYPE_PRE
  zh: '[PRE150]'
- en: '*Previous behavior*:'
  id: totrans-1453
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*：'
- en: '[PRE151]'
  id: totrans-1454
  prefs: []
  type: TYPE_PRE
  zh: '[PRE151]'
- en: '*New behavior*:'
  id: totrans-1455
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE152]  ### DataFrame comparison operations broadcasting changes'
  id: totrans-1456
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE152]  ### DataFrame比较操作广播更改'
- en: Previously, the broadcasting behavior of [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") comparison operations (`==`, `!=`, …) was inconsistent with
    the behavior of arithmetic operations (`+`, `-`, …). The behavior of the comparison
    operations has been changed to match the arithmetic operations in these cases.
    ([GH 22880](https://github.com/pandas-dev/pandas/issues/22880))
  id: totrans-1457
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")比较操作（`==`，`!=`，…）的广播行为与算术操作（`+`，`-`，…）的行为不一致。在这些情况下，比较操作的行为已更改以匹配算术操作的行为。
    ([GH 22880](https://github.com/pandas-dev/pandas/issues/22880))
- en: 'The affected cases are:'
  id: totrans-1458
  prefs: []
  type: TYPE_NORMAL
  zh: 受影响的情况包括：
- en: operating against a 2-dimensional `np.ndarray` with either 1 row or 1 column
    will now broadcast the same way a `np.ndarray` would ([GH 23000](https://github.com/pandas-dev/pandas/issues/23000)).
  id: totrans-1459
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于只有1行或1列的2维`np.ndarray`进行操作现在会像`np.ndarray`一样进行广播（[GH 23000](https://github.com/pandas-dev/pandas/issues/23000)）。
- en: a list or tuple with length matching the number of rows in the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") will now raise `ValueError` instead of operating column-by-column
    ([GH 22880](https://github.com/pandas-dev/pandas/issues/22880).
  id: totrans-1460
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个与[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")中行数匹配长度的列表或元组现在会引发`ValueError`，而不是按列操作（[GH
    22880](https://github.com/pandas-dev/pandas/issues/22880)。
- en: a list or tuple with length matching the number of columns in the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") will now operate row-by-row instead of raising `ValueError`
    ([GH 22880](https://github.com/pandas-dev/pandas/issues/22880)).
  id: totrans-1461
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个与[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")中列数匹配长度的列表或元组现在会按行操作，而不是引发`ValueError`（[GH
    22880](https://github.com/pandas-dev/pandas/issues/22880)）。
- en: '[PRE153]'
  id: totrans-1462
  prefs: []
  type: TYPE_PRE
  zh: '[PRE153]'
- en: '*Previous behavior*:'
  id: totrans-1463
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*：'
- en: '[PRE154]'
  id: totrans-1464
  prefs: []
  type: TYPE_PRE
  zh: '[PRE154]'
- en: '*New behavior*:'
  id: totrans-1465
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE155]'
  id: totrans-1466
  prefs: []
  type: TYPE_PRE
  zh: '[PRE155]'
- en: '[PRE156]'
  id: totrans-1467
  prefs: []
  type: TYPE_PRE
  zh: '[PRE156]'
- en: '[PRE157]  ### DataFrame arithmetic operations broadcasting changes'
  id: totrans-1468
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE157]  ### DataFrame算术操作广播更改'
- en: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    arithmetic operations when operating with 2-dimensional `np.ndarray` objects now
    broadcast in the same way as `np.ndarray` broadcast. ([GH 23000](https://github.com/pandas-dev/pandas/issues/23000))'
  id: totrans-1469
  prefs: []
  type: TYPE_NORMAL
  zh: 当与2维`np.ndarray`对象一起操作时，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")算术操作现在会像`np.ndarray`广播一样进行广播。 ([GH 23000](https://github.com/pandas-dev/pandas/issues/23000))
- en: '[PRE158]'
  id: totrans-1470
  prefs: []
  type: TYPE_PRE
  zh: '[PRE158]'
- en: '*Previous behavior*:'
  id: totrans-1471
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前��行为*：'
- en: '[PRE159]'
  id: totrans-1472
  prefs: []
  type: TYPE_PRE
  zh: '[PRE159]'
- en: '*New behavior*:'
  id: totrans-1473
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE160]  ### Series and Index data-dtype incompatibilities'
  id: totrans-1474
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE160]  ### Series和Index数据-dtype不兼容性'
- en: '`Series` and `Index` constructors now raise when the data is incompatible with
    a passed `dtype=` ([GH 15832](https://github.com/pandas-dev/pandas/issues/15832))'
  id: totrans-1475
  prefs: []
  type: TYPE_NORMAL
  zh: 当数据与传递的`dtype=`不兼容时，`Series`和`Index`构造函数现在会引发异常（[GH 15832](https://github.com/pandas-dev/pandas/issues/15832)）
- en: '*Previous behavior*:'
  id: totrans-1476
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*：'
- en: '[PRE161]'
  id: totrans-1477
  prefs: []
  type: TYPE_PRE
  zh: '[PRE161]'
- en: '*New behavior*:'
  id: totrans-1478
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE162]  ### Concatenation changes'
  id: totrans-1479
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE162]  ### 连接更改'
- en: Calling [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") on a `Categorical` of ints with NA values now causes them to
    be processed as objects when concatenating with anything other than another `Categorical`
    of ints ([GH 19214](https://github.com/pandas-dev/pandas/issues/19214))
  id: totrans-1480
  prefs: []
  type: TYPE_NORMAL
  zh: 在具有NA值的`Categorical`上调用[`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat")现在会导致在与除了另一个具有NA值的`Categorical`之外的任何东西连接时将它们处理为对象（[GH 19214](https://github.com/pandas-dev/pandas/issues/19214)）
- en: '[PRE163]'
  id: totrans-1481
  prefs: []
  type: TYPE_PRE
  zh: '[PRE163]'
- en: '*Previous behavior*'
  id: totrans-1482
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*：'
- en: '[PRE164]'
  id: totrans-1483
  prefs: []
  type: TYPE_PRE
  zh: '[PRE164]'
- en: '*New behavior*'
  id: totrans-1484
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*'
- en: '[PRE165]'
  id: totrans-1485
  prefs: []
  type: TYPE_PRE
  zh: '[PRE165]'
- en: Datetimelike API changes
  id: totrans-1486
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Datetimelike API更改
- en: For [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") with non-`None` `freq` attribute, addition or subtraction
    of integer-dtyped array or `Index` will return an object of the same class ([GH
    19959](https://github.com/pandas-dev/pandas/issues/19959))
  id: totrans-1487
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于具有非`None` `freq`属性的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")，整数类型数组或`Index`的加减运算将返回相同类的对象（[GH 19959](https://github.com/pandas-dev/pandas/issues/19959)）。
- en: '`DateOffset` objects are now immutable. Attempting to alter one of these will
    now raise `AttributeError` ([GH 21341](https://github.com/pandas-dev/pandas/issues/21341))'
  id: totrans-1488
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DateOffset`对象现在是不可变的。尝试修改其中一个将引发`AttributeError`（[GH 21341](https://github.com/pandas-dev/pandas/issues/21341)）。'
- en: '[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") subtraction of another `PeriodIndex` will now return an
    object-dtype [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    of `DateOffset` objects instead of raising a `TypeError` ([GH 20049](https://github.com/pandas-dev/pandas/issues/20049))'
  id: totrans-1489
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")减去另一个`PeriodIndex`现在将返回一个`DateOffset`对象的对象数据类型[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")，而不是引发`TypeError`（[GH 20049](https://github.com/pandas-dev/pandas/issues/20049)）。'
- en: '[`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") and [`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut
    "pandas.qcut") now returns a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") or [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") bins when the input is datetime or timedelta dtype respectively
    and `retbins=True` ([GH 19891](https://github.com/pandas-dev/pandas/issues/19891))'
  id: totrans-1490
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 调用[`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut")和[`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut
    "pandas.qcut")现在在输入为datetime或timedelta数据类型且`retbins=True`时会返回一个[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")或[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")的区间（[GH 19891](https://github.com/pandas-dev/pandas/issues/19891)）。
- en: '[`DatetimeIndex.to_period()`](../reference/api/pandas.DatetimeIndex.to_period.html#pandas.DatetimeIndex.to_period
    "pandas.DatetimeIndex.to_period") and [`Timestamp.to_period()`](../reference/api/pandas.Timestamp.to_period.html#pandas.Timestamp.to_period
    "pandas.Timestamp.to_period") will issue a warning when timezone information will
    be lost ([GH 21333](https://github.com/pandas-dev/pandas/issues/21333))'
  id: totrans-1491
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当时区信息将丢失时，[`DatetimeIndex.to_period()`](../reference/api/pandas.DatetimeIndex.to_period.html#pandas.DatetimeIndex.to_period
    "pandas.DatetimeIndex.to_period")和[`Timestamp.to_period()`](../reference/api/pandas.Timestamp.to_period.html#pandas.Timestamp.to_period
    "pandas.Timestamp.to_period")将发出警告（[GH 21333](https://github.com/pandas-dev/pandas/issues/21333)）。
- en: '`PeriodIndex.tz_convert()` and `PeriodIndex.tz_localize()` have been removed
    ([GH 21781](https://github.com/pandas-dev/pandas/issues/21781))'
  id: totrans-1492
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PeriodIndex.tz_convert()`和`PeriodIndex.tz_localize()`已被移除（[GH 21781](https://github.com/pandas-dev/pandas/issues/21781)）。'
- en: '### Other API changes'
  id: totrans-1493
  prefs: []
  type: TYPE_NORMAL
  zh: '### 其他 API 变更'
- en: A newly constructed empty [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with integer as the `dtype` will now only be cast to `float64`
    if `index` is specified ([GH 22858](https://github.com/pandas-dev/pandas/issues/22858))
  id: totrans-1494
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，若`dtype`为整数的新构建的空[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")只有在指定了`index`时才会转换为`float64`（[GH 22858](https://github.com/pandas-dev/pandas/issues/22858)）。
- en: '[`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat") will now raise if `others` is a `set` ([GH 23009](https://github.com/pandas-dev/pandas/issues/23009))'
  id: totrans-1495
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，若`others`是一个`set`，则[`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat")会引发错误（[GH 23009](https://github.com/pandas-dev/pandas/issues/23009)）。
- en: Passing scalar values to [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") or [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") will now raise `TypeError` instead of `ValueError` ([GH
    23539](https://github.com/pandas-dev/pandas/issues/23539))
  id: totrans-1496
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，向[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")或[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")传递标量值将引发`TypeError`而不是`ValueError`（[GH 23539](https://github.com/pandas-dev/pandas/issues/23539)）。
- en: '`max_rows` and `max_cols` parameters removed from `HTMLFormatter` since truncation
    is handled by `DataFrameFormatter` ([GH 23818](https://github.com/pandas-dev/pandas/issues/23818))'
  id: totrans-1497
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于截断由`DataFrameFormatter`处理，因此从`HTMLFormatter`中删除了`max_rows`和`max_cols`参数（[GH
    23818](https://github.com/pandas-dev/pandas/issues/23818)）
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    will now raise a `ValueError` if a column with missing values is declared as having
    dtype `bool` ([GH 20591](https://github.com/pandas-dev/pandas/issues/20591))'
  id: totrans-1498
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果声明具有`bool`类型的dtype的列存在缺失值，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")现在会引发`ValueError`（[GH 20591](https://github.com/pandas-dev/pandas/issues/20591)）
- en: The column order of the resultant [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") from [`MultiIndex.to_frame()`](../reference/api/pandas.MultiIndex.to_frame.html#pandas.MultiIndex.to_frame
    "pandas.MultiIndex.to_frame") is now guaranteed to match the [`MultiIndex.names`](../reference/api/pandas.MultiIndex.names.html#pandas.MultiIndex.names
    "pandas.MultiIndex.names") order. ([GH 22420](https://github.com/pandas-dev/pandas/issues/22420))
  id: totrans-1499
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从[`MultiIndex.to_frame()`](../reference/api/pandas.MultiIndex.to_frame.html#pandas.MultiIndex.to_frame
    "pandas.MultiIndex.to_frame")生成的结果[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")的列顺序现在保证与[`MultiIndex.names`](../reference/api/pandas.MultiIndex.names.html#pandas.MultiIndex.names
    "pandas.MultiIndex.names")的顺序相匹配。 ([GH 22420](https://github.com/pandas-dev/pandas/issues/22420))
- en: Incorrectly passing a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") to [`MultiIndex.from_tuples()`](../reference/api/pandas.MultiIndex.from_tuples.html#pandas.MultiIndex.from_tuples
    "pandas.MultiIndex.from_tuples"), rather than a sequence of tuples, now raises
    a `TypeError` rather than a `ValueError` ([GH 24024](https://github.com/pandas-dev/pandas/issues/24024))
  id: totrans-1500
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 错误地将[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")错误地传递给[`MultiIndex.from_tuples()`](../reference/api/pandas.MultiIndex.from_tuples.html#pandas.MultiIndex.from_tuples
    "pandas.MultiIndex.from_tuples")，而不是元组序列，现在会引发`TypeError`而不是`ValueError`（[GH 24024](https://github.com/pandas-dev/pandas/issues/24024)）
- en: '`pd.offsets.generate_range()` argument `time_rule` has been removed; use `offset`
    instead ([GH 24157](https://github.com/pandas-dev/pandas/issues/24157))'
  id: totrans-1501
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.offsets.generate_range()`参数`time_rule`已删除；改用`offset`代替（[GH 24157](https://github.com/pandas-dev/pandas/issues/24157)）'
- en: In 0.23.x, pandas would raise a `ValueError` on a merge of a numeric column
    (e.g. `int` dtyped column) and an `object` dtyped column ([GH 9780](https://github.com/pandas-dev/pandas/issues/9780)).
    We have re-enabled the ability to merge `object` and other dtypes; pandas will
    still raise on a merge between a numeric and an `object` dtyped column that is
    composed only of strings ([GH 21681](https://github.com/pandas-dev/pandas/issues/21681))
  id: totrans-1502
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在0.23.x版本中，pandas在数字列（例如`int` dtyped列）和`object` dtyped列的合并上引发`ValueError`（[GH
    9780](https://github.com/pandas-dev/pandas/issues/9780)）。我们已重新启用了合并`object`和其他dtype的功能；
    pandas仍然会在数字和仅由字符串组成的`object` dtyped列之间的合并上引发异常（[GH 21681](https://github.com/pandas-dev/pandas/issues/21681)）
- en: Accessing a level of a `MultiIndex` with a duplicate name (e.g. in [`get_level_values()`](../reference/api/pandas.MultiIndex.get_level_values.html#pandas.MultiIndex.get_level_values
    "pandas.MultiIndex.get_level_values")) now raises a `ValueError` instead of a
    `KeyError` ([GH 21678](https://github.com/pandas-dev/pandas/issues/21678)).
  id: totrans-1503
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用重复名称访问`MultiIndex`的级别（例如在[`get_level_values()`](../reference/api/pandas.MultiIndex.get_level_values.html#pandas.MultiIndex.get_level_values
    "pandas.MultiIndex.get_level_values")中）现在引发`ValueError`而不是`KeyError`（[GH 21678](https://github.com/pandas-dev/pandas/issues/21678)）。
- en: Invalid construction of `IntervalDtype` will now always raise a `TypeError`
    rather than a `ValueError` if the subdtype is invalid ([GH 21185](https://github.com/pandas-dev/pandas/issues/21185))
  id: totrans-1504
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构造`IntervalDtype`时如果子类型无效，现在将始终引发`TypeError`而不是`ValueError`（[GH 21185](https://github.com/pandas-dev/pandas/issues/21185)）
- en: Trying to reindex a `DataFrame` with a non unique `MultiIndex` now raises a
    `ValueError` instead of an `Exception` ([GH 21770](https://github.com/pandas-dev/pandas/issues/21770))
  id: totrans-1505
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尝试使用非唯一`MultiIndex`重新索引`DataFrame`现在会引发`ValueError`而不是`Exception`（[GH 21770](https://github.com/pandas-dev/pandas/issues/21770))
- en: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") subtraction
    will attempt to operate element-wise instead of raising `TypeError` ([GH 19369](https://github.com/pandas-dev/pandas/issues/19369))'
  id: totrans-1506
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") 减法将尝试按元素操作，而不是引发`TypeError`（[GH
    19369](https://github.com/pandas-dev/pandas/issues/19369)）'
- en: '[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") supports a `number-format` property when using
    [`to_excel()`](../reference/api/pandas.io.formats.style.Styler.to_excel.html#pandas.io.formats.style.Styler.to_excel
    "pandas.io.formats.style.Styler.to_excel") ([GH 22015](https://github.com/pandas-dev/pandas/issues/22015))'
  id: totrans-1507
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 在使用 [`to_excel()`](../reference/api/pandas.io.formats.style.Styler.to_excel.html#pandas.io.formats.style.Styler.to_excel
    "pandas.io.formats.style.Styler.to_excel") 时支持 `number-format` 属性（[GH 22015](https://github.com/pandas-dev/pandas/issues/22015)）。'
- en: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") and [`Series.corr()`](../reference/api/pandas.Series.corr.html#pandas.Series.corr
    "pandas.Series.corr") now raise a `ValueError` along with a helpful error message
    instead of a `KeyError` when supplied with an invalid method ([GH 22298](https://github.com/pandas-dev/pandas/issues/22298))'
  id: totrans-1508
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") 和 [`Series.corr()`](../reference/api/pandas.Series.corr.html#pandas.Series.corr
    "pandas.Series.corr") 现在在提供无效方法时引发 `ValueError` 并提供有用的错误消息，而不是 `KeyError`（[GH
    22298](https://github.com/pandas-dev/pandas/issues/22298)）。'
- en: '`shift()` will now always return a copy, instead of the previous behaviour
    of returning self when shifting by 0 ([GH 22397](https://github.com/pandas-dev/pandas/issues/22397))'
  id: totrans-1509
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`shift()` 现在始终返回一个副本，而不是以前的行为，即当通过 0 进行移位时返回自身（[GH 22397](https://github.com/pandas-dev/pandas/issues/22397)）。'
- en: '[`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index") now gives a better (and less frequent) KeyError,
    raises a `ValueError` for incorrect types, and will not fail on duplicate column
    names with `drop=True`. ([GH 22484](https://github.com/pandas-dev/pandas/issues/22484))'
  id: totrans-1510
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index") 现在在错误类型时提供更好（且更不频繁）的 KeyError，对于重复列名使用 `drop=True`
    时不会失败，并且对于不正确类型会引发 `ValueError`。 ([GH 22484](https://github.com/pandas-dev/pandas/issues/22484)）'
- en: Slicing a single row of a DataFrame with multiple ExtensionArrays of the same
    type now preserves the dtype, rather than coercing to object ([GH 22784](https://github.com/pandas-dev/pandas/issues/22784))
  id: totrans-1511
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对多个相同类型的 ExtensionArrays 的 DataFrame 进行单行切片现在保留 dtype，而不是强制转换为对象（[GH 22784](https://github.com/pandas-dev/pandas/issues/22784)）。
- en: '`DateOffset` attribute `_cacheable` and method `_should_cache` have been removed
    ([GH 23118](https://github.com/pandas-dev/pandas/issues/23118))'
  id: totrans-1512
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DateOffset` 属性 `_cacheable` 和方法 `_should_cache` 已被移除（[GH 23118](https://github.com/pandas-dev/pandas/issues/23118)）。'
- en: '[`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted"), when supplied a scalar value to search for, now
    returns a scalar instead of an array ([GH 23801](https://github.com/pandas-dev/pandas/issues/23801)).'
  id: totrans-1513
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted")，当提供标量值进行搜索时，现在返回标量而不是数组（[GH 23801](https://github.com/pandas-dev/pandas/issues/23801)）。'
- en: '`Categorical.searchsorted()`, when supplied a scalar value to search for, now
    returns a scalar instead of an array ([GH 23466](https://github.com/pandas-dev/pandas/issues/23466)).'
  id: totrans-1514
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.searchsorted()` 当提供标量值进行搜索时，现在返回标量而不是数组（[GH 23466](https://github.com/pandas-dev/pandas/issues/23466)）。'
- en: '`Categorical.searchsorted()` now raises a `KeyError` rather that a `ValueError`,
    if a searched for key is not found in its categories ([GH 23466](https://github.com/pandas-dev/pandas/issues/23466)).'
  id: totrans-1515
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.searchsorted()` 现在在其类别中未找到搜索的键时引发 `KeyError` 而不是 `ValueError`（[GH
    23466](https://github.com/pandas-dev/pandas/issues/23466)）。'
- en: '[`Index.hasnans()`](../reference/api/pandas.Index.hasnans.html#pandas.Index.hasnans
    "pandas.Index.hasnans") and [`Series.hasnans()`](../reference/api/pandas.Series.hasnans.html#pandas.Series.hasnans
    "pandas.Series.hasnans") now always return a python boolean. Previously, a python
    or a numpy boolean could be returned, depending on circumstances ([GH 23294](https://github.com/pandas-dev/pandas/issues/23294)).'
  id: totrans-1516
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.hasnans()`](../reference/api/pandas.Index.hasnans.html#pandas.Index.hasnans
    "pandas.Index.hasnans") 和 [`Series.hasnans()`](../reference/api/pandas.Series.hasnans.html#pandas.Series.hasnans
    "pandas.Series.hasnans") 现在始终返回一个 Python 布尔值。以前，根据情况可能返回 Python 或 NumPy 布尔值（[GH
    23294](https://github.com/pandas-dev/pandas/issues/23294)）。'
- en: The order of the arguments of [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") and [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") is rearranged to be consistent with each other.
    ([GH 23614](https://github.com/pandas-dev/pandas/issues/23614))
  id: totrans-1517
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 和 [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") 的参数顺序重新排列，使其与彼此一致。 ([GH 23614](https://github.com/pandas-dev/pandas/issues/23614))'
- en: '`CategoricalIndex.reindex()` now raises a `ValueError` if the target index
    is non-unique and not equal to the current index. It previously only raised if
    the target index was not of a categorical dtype ([GH 23963](https://github.com/pandas-dev/pandas/issues/23963)).'
  id: totrans-1518
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果目标索引是非唯一且不等于当前索引，则 `CategoricalIndex.reindex()` 现在会引发 `ValueError`。之前，它仅在目标索引不是分类
    dtype 时引发异常 ([GH 23963](https://github.com/pandas-dev/pandas/issues/23963))。
- en: '[`Series.to_list()`](../reference/api/pandas.Series.to_list.html#pandas.Series.to_list
    "pandas.Series.to_list") and [`Index.to_list()`](../reference/api/pandas.Index.to_list.html#pandas.Index.to_list
    "pandas.Index.to_list") are now aliases of `Series.tolist` respectively `Index.tolist`
    ([GH 8826](https://github.com/pandas-dev/pandas/issues/8826))'
  id: totrans-1519
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.to_list()`](../reference/api/pandas.Series.to_list.html#pandas.Series.to_list
    "pandas.Series.to_list") 和 [`Index.to_list()`](../reference/api/pandas.Index.to_list.html#pandas.Index.to_list
    "pandas.Index.to_list") 现在分别是 `Series.tolist` 和 `Index.tolist` 的别名 ([GH 8826](https://github.com/pandas-dev/pandas/issues/8826))'
- en: The result of `SparseSeries.unstack` is now a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with sparse values, rather than a `SparseDataFrame` ([GH 24372](https://github.com/pandas-dev/pandas/issues/24372)).
  id: totrans-1520
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.unstack` 的结果现在是一个具有稀疏值的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")，而不是 `SparseDataFrame` ([GH 24372](https://github.com/pandas-dev/pandas/issues/24372))。'
- en: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") no longer ignore the dtype precision. Passing a non-nanosecond
    resolution dtype will raise a `ValueError` ([GH 24753](https://github.com/pandas-dev/pandas/issues/24753))  ###
    Increased minimum versions for dependencies'
  id: totrans-1521
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 现在不再忽略 dtype 的精度。传递非纳秒分辨率的 dtype 将引发 `ValueError` ([GH
    24753](https://github.com/pandas-dev/pandas/issues/24753))  ### 增加了依赖项的最小版本'
- en: 'We have updated our minimum supported versions of dependencies ([GH 21242](https://github.com/pandas-dev/pandas/issues/21242),
    [GH 18742](https://github.com/pandas-dev/pandas/issues/18742), [GH 23774](https://github.com/pandas-dev/pandas/issues/23774),
    [GH 24767](https://github.com/pandas-dev/pandas/issues/24767)). If installed,
    we now require:'
  id: totrans-1522
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经更新了我们支持的依赖项的最低版本 ([GH 21242](https://github.com/pandas-dev/pandas/issues/21242),
    [GH 18742](https://github.com/pandas-dev/pandas/issues/18742), [GH 23774](https://github.com/pandas-dev/pandas/issues/23774),
    [GH 24767](https://github.com/pandas-dev/pandas/issues/24767))。如果已安装，我们现在要求：
- en: '| Package | Minimum Version | Required |'
  id: totrans-1523
  prefs: []
  type: TYPE_TB
  zh: '| Package | 最低版本 | 是否必需 |'
- en: '| --- | --- | --- |'
  id: totrans-1524
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| numpy | 1.12.0 | X |'
  id: totrans-1525
  prefs: []
  type: TYPE_TB
  zh: '| numpy | 1.12.0 | X |'
- en: '| bottleneck | 1.2.0 |  |'
  id: totrans-1526
  prefs: []
  type: TYPE_TB
  zh: '| bottleneck | 1.2.0 |  |'
- en: '| fastparquet | 0.2.1 |  |'
  id: totrans-1527
  prefs: []
  type: TYPE_TB
  zh: '| fastparquet | 0.2.1 |  |'
- en: '| matplotlib | 2.0.0 |  |'
  id: totrans-1528
  prefs: []
  type: TYPE_TB
  zh: '| matplotlib | 2.0.0 |  |'
- en: '| numexpr | 2.6.1 |  |'
  id: totrans-1529
  prefs: []
  type: TYPE_TB
  zh: '| numexpr | 2.6.1 |  |'
- en: '| pandas-gbq | 0.8.0 |  |'
  id: totrans-1530
  prefs: []
  type: TYPE_TB
  zh: '| pandas-gbq | 0.8.0 |  |'
- en: '| pyarrow | 0.9.0 |  |'
  id: totrans-1531
  prefs: []
  type: TYPE_TB
  zh: '| pyarrow | 0.9.0 |  |'
- en: '| pytables | 3.4.2 |  |'
  id: totrans-1532
  prefs: []
  type: TYPE_TB
  zh: '| pytables | 3.4.2 |  |'
- en: '| scipy | 0.18.1 |  |'
  id: totrans-1533
  prefs: []
  type: TYPE_TB
  zh: '| scipy | 0.18.1 |  |'
- en: '| xlrd | 1.0.0 |  |'
  id: totrans-1534
  prefs: []
  type: TYPE_TB
  zh: '| xlrd | 1.0.0 |  |'
- en: '| pytest (dev) | 3.6 |  |'
  id: totrans-1535
  prefs: []
  type: TYPE_TB
  zh: '| pytest (dev) | 3.6 |  |'
- en: Additionally we no longer depend on `feather-format` for feather based storage
    and replaced it with references to `pyarrow` ([GH 21639](https://github.com/pandas-dev/pandas/issues/21639)
    and [GH 23053](https://github.com/pandas-dev/pandas/issues/23053)).
  id: totrans-1536
  prefs: []
  type: TYPE_NORMAL
  zh: 另外，我们不再依赖 `feather-format` 用于基于 feather 的存储，并用对 `pyarrow` 的引用替换它 ([GH 21639](https://github.com/pandas-dev/pandas/issues/21639)
    和 [GH 23053](https://github.com/pandas-dev/pandas/issues/23053))。
- en: '### `os.linesep` is used for `line_terminator` of `DataFrame.to_csv`'
  id: totrans-1537
  prefs: []
  type: TYPE_NORMAL
  zh: '### `os.linesep` 用于 `DataFrame.to_csv` 的 `line_terminator`'
- en: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") now uses `os.linesep()` rather than `''\n''` for the
    default line terminator ([GH 20353](https://github.com/pandas-dev/pandas/issues/20353)).
    This change only affects when running on Windows, where `''\r\n''` was used for
    line terminator even when `''\n''` was passed in `line_terminator`.'
  id: totrans-1538
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") 现在使用 `os.linesep()` 而不是 `''\n''` 作为默认的行终止符 ([GH 20353](https://github.com/pandas-dev/pandas/issues/20353))。此更改仅影响在
    Windows 上运行时，即使在 `line_terminator` 中传递了 `''\n''`，也会使用 `''\r\n''` 作为行终止符。'
- en: '*Previous behavior* on Windows:'
  id: totrans-1539
  prefs: []
  type: TYPE_NORMAL
  zh: '*Windows 上的之前行为*：'
- en: '[PRE166]'
  id: totrans-1540
  prefs: []
  type: TYPE_PRE
  zh: '[PRE166]'
- en: '*New behavior* on Windows:'
  id: totrans-1541
  prefs: []
  type: TYPE_NORMAL
  zh: '*Windows 上的新行为*：'
- en: Passing `line_terminator` explicitly, set the `line terminator` to that character.
  id: totrans-1542
  prefs: []
  type: TYPE_NORMAL
  zh: 显式传递 `line_terminator`，将 `line terminator` 设置为该字符。
- en: '[PRE167]'
  id: totrans-1543
  prefs: []
  type: TYPE_PRE
  zh: '[PRE167]'
- en: On Windows, the value of `os.linesep` is `'\r\n'`, so if `line_terminator` is
    not set, `'\r\n'` is used for line terminator.
  id: totrans-1544
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Windows 上，`os.linesep` 的值为 `'\r\n'`，因此如果未设置 `line_terminator`，则使用 `'\r\n'`
    作为行终止符。
- en: '[PRE168]'
  id: totrans-1545
  prefs: []
  type: TYPE_PRE
  zh: '[PRE168]'
- en: For file objects, specifying `newline` is not sufficient to set the line terminator.
    You must pass in the `line_terminator` explicitly, even in this case.
  id: totrans-1546
  prefs: []
  type: TYPE_NORMAL
  zh: 对于文件对象，仅指定 `newline` 不足以设置行终止符。即使在这种情况下，也必须显式传递 `line_terminator`。
- en: '[PRE169]'
  id: totrans-1547
  prefs: []
  type: TYPE_PRE
  zh: '[PRE169]'
- en: '### Proper handling of `np.nan` in a string data-typed column with the Python
    engine'
  id: totrans-1548
  prefs: []
  type: TYPE_NORMAL
  zh: '### 使用 Python 引擎正确处理字符串数据类型列中的 `np.nan`'
- en: There was bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") and [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") with the Python engine, where missing values turned to `'nan'`
    with `dtype=str` and `na_filter=True`. Now, these missing values are converted
    to the string missing indicator, `np.nan`. ([GH 20377](https://github.com/pandas-dev/pandas/issues/20377))
  id: totrans-1549
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Python 引擎中存在 bug，[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 和 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中，缺失值转换为 `'nan'`，使用 `dtype=str` 和 `na_filter=True`。现在，这些缺失值被转换为字符串缺失指示符
    `np.nan`。 ([GH 20377](https://github.com/pandas-dev/pandas/issues/20377))
- en: '*Previous behavior*:'
  id: totrans-1550
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*：'
- en: '[PRE170]'
  id: totrans-1551
  prefs: []
  type: TYPE_PRE
  zh: '[PRE170]'
- en: '*New behavior*:'
  id: totrans-1552
  prefs: []
  type: TYPE_NORMAL
  zh: '*新的行为*：'
- en: '[PRE171]'
  id: totrans-1553
  prefs: []
  type: TYPE_PRE
  zh: '[PRE171]'
- en: Notice how we now instead output `np.nan` itself instead of a stringified form
    of it.
  id: totrans-1554
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，我们现在输出 `np.nan` 本身，而不是其字符串形式。
- en: '### Parsing datetime strings with timezone offsets'
  id: totrans-1555
  prefs: []
  type: TYPE_NORMAL
  zh: '### 使用带有时区偏移的日期时间字符串进行解析'
- en: Previously, parsing datetime strings with UTC offsets with [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") or [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") would automatically convert the datetime to UTC without
    timezone localization. This is inconsistent from parsing the same datetime string
    with [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    which would preserve the UTC offset in the `tz` attribute. Now, [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") preserves the UTC offset in the `tz` attribute when all
    the datetime strings have the same UTC offset ([GH 17697](https://github.com/pandas-dev/pandas/issues/17697),
    [GH 11736](https://github.com/pandas-dev/pandas/issues/11736), [GH 22457](https://github.com/pandas-dev/pandas/issues/22457))
  id: totrans-1556
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，使用 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 或 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 解析带有 UTC 偏移的日期时间字符串会自动将日期时间转换为 UTC 而不进行时区本地化。这与使用 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 解析相同日期时间字符串的不一致，后者将保留 `tz` 属性中的 UTC 偏移。现在，当所有日期时间字符串具有相同 UTC
    偏移时，[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 会保留 `tz` 属性中的 UTC 偏移 ([GH 17697](https://github.com/pandas-dev/pandas/issues/17697),
    [GH 11736](https://github.com/pandas-dev/pandas/issues/11736), [GH 22457](https://github.com/pandas-dev/pandas/issues/22457))
- en: '*Previous behavior*:'
  id: totrans-1557
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*：'
- en: '[PRE172]'
  id: totrans-1558
  prefs: []
  type: TYPE_PRE
  zh: '[PRE172]'
- en: '*New behavior*:'
  id: totrans-1559
  prefs: []
  type: TYPE_NORMAL
  zh: '*新的行为*：'
- en: '[PRE173]'
  id: totrans-1560
  prefs: []
  type: TYPE_PRE
  zh: '[PRE173]'
- en: Parsing datetime strings with the same UTC offset will preserve the UTC offset
    in the `tz`
  id: totrans-1561
  prefs: []
  type: TYPE_NORMAL
  zh: 使用相同 UTC 偏移解析日期时间字符串将保留 `tz` 中的 UTC 偏移
- en: '[PRE174]'
  id: totrans-1562
  prefs: []
  type: TYPE_PRE
  zh: '[PRE174]'
- en: Parsing datetime strings with different UTC offsets will now create an Index
    of `datetime.datetime` objects with different UTC offsets
  id: totrans-1563
  prefs: []
  type: TYPE_NORMAL
  zh: 使用不同 UTC 偏移解析日期时间字符串现在将创建具有不同 UTC 偏移的 `datetime.datetime` 对象的索引
- en: '[PRE175]'
  id: totrans-1564
  prefs: []
  type: TYPE_PRE
  zh: '[PRE175]'
- en: Passing `utc=True` will mimic the previous behavior but will correctly indicate
    that the dates have been converted to UTC
  id: totrans-1565
  prefs: []
  type: TYPE_NORMAL
  zh: 传递 `utc=True` 将模仿以前的行为，但将正确指示日期已转换为 UTC
- en: '[PRE176]'
  id: totrans-1566
  prefs: []
  type: TYPE_PRE
  zh: '[PRE176]'
- en: '### Parsing mixed-timezones with [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")'
  id: totrans-1567
  prefs: []
  type: TYPE_NORMAL
  zh: '### 使用 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 解析混合时区的日期时间'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    no longer silently converts mixed-timezone columns to UTC ([GH 24987](https://github.com/pandas-dev/pandas/issues/24987)).'
  id: totrans-1568
  prefs: []
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    不再将混合时区列悄悄地转换为 UTC（[GH 24987](https://github.com/pandas-dev/pandas/issues/24987)）。'
- en: '*Previous behavior*'
  id: totrans-1569
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*'
- en: '[PRE177]'
  id: totrans-1570
  prefs: []
  type: TYPE_PRE
  zh: '[PRE177]'
- en: '*New behavior*'
  id: totrans-1571
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*'
- en: '[PRE178]'
  id: totrans-1572
  prefs: []
  type: TYPE_PRE
  zh: '[PRE178]'
- en: As can be seen, the `dtype` is object; each value in the column is a string.
    To convert the strings to an array of datetimes, the `date_parser` argument
  id: totrans-1573
  prefs: []
  type: TYPE_NORMAL
  zh: 如图所示，`dtype`为对象；列中的每个值都是一个字符串。要将字符串转换为日期时间数组，可以使用`date_parser`参数。
- en: '[PRE179]'
  id: totrans-1574
  prefs: []
  type: TYPE_PRE
  zh: '[PRE179]'
- en: See [Parsing datetime strings with timezone offsets](#whatsnew-0240-api-timezone-offset-parsing)
    for more.
  id: totrans-1575
  prefs: []
  type: TYPE_NORMAL
  zh: 查看[使用时区偏移解析日期时间字符串](#whatsnew-0240-api-timezone-offset-parsing)获取更多信息。
- en: '### Time values in `dt.end_time` and `to_timestamp(how=''end'')`'
  id: totrans-1576
  prefs: []
  type: TYPE_NORMAL
  zh: '### `dt.end_time` 和 `to_timestamp(how=''end'')` 中的时间值'
- en: The time values in [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") and [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") objects are now set to ‘23:59:59.999999999’ when calling
    [`Series.dt.end_time`](../reference/api/pandas.Series.dt.end_time.html#pandas.Series.dt.end_time
    "pandas.Series.dt.end_time"), [`Period.end_time`](../reference/api/pandas.Period.end_time.html#pandas.Period.end_time
    "pandas.Period.end_time"), [`PeriodIndex.end_time`](../reference/api/pandas.PeriodIndex.end_time.html#pandas.PeriodIndex.end_time
    "pandas.PeriodIndex.end_time"), [`Period.to_timestamp()`](../reference/api/pandas.Period.to_timestamp.html#pandas.Period.to_timestamp
    "pandas.Period.to_timestamp") with `how='end'`, or [`PeriodIndex.to_timestamp()`](../reference/api/pandas.PeriodIndex.to_timestamp.html#pandas.PeriodIndex.to_timestamp
    "pandas.PeriodIndex.to_timestamp") with `how='end'` ([GH 17157](https://github.com/pandas-dev/pandas/issues/17157))
  id: totrans-1577
  prefs: []
  type: TYPE_NORMAL
  zh: '[`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    和 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 对象中的时间值现在在调用 [`Series.dt.end_time`](../reference/api/pandas.Series.dt.end_time.html#pandas.Series.dt.end_time
    "pandas.Series.dt.end_time")、[`Period.end_time`](../reference/api/pandas.Period.end_time.html#pandas.Period.end_time
    "pandas.Period.end_time")、[`PeriodIndex.end_time`](../reference/api/pandas.PeriodIndex.end_time.html#pandas.PeriodIndex.end_time
    "pandas.PeriodIndex.end_time")、使用 `how=''end''` 的 [`Period.to_timestamp()`](../reference/api/pandas.Period.to_timestamp.html#pandas.Period.to_timestamp
    "pandas.Period.to_timestamp") 或使用 `how=''end''` 的 [`PeriodIndex.to_timestamp()`](../reference/api/pandas.PeriodIndex.to_timestamp.html#pandas.PeriodIndex.to_timestamp
    "pandas.PeriodIndex.to_timestamp") 时被设置为‘23:59:59.999999999’（[GH 17157](https://github.com/pandas-dev/pandas/issues/17157)）'
- en: '*Previous behavior*:'
  id: totrans-1578
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*：'
- en: '[PRE180]'
  id: totrans-1579
  prefs: []
  type: TYPE_PRE
  zh: '[PRE180]'
- en: '*New behavior*:'
  id: totrans-1580
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: Calling [`Series.dt.end_time`](../reference/api/pandas.Series.dt.end_time.html#pandas.Series.dt.end_time
    "pandas.Series.dt.end_time") will now result in a time of ‘23:59:59.999999999’
    as is the case with [`Period.end_time`](../reference/api/pandas.Period.end_time.html#pandas.Period.end_time
    "pandas.Period.end_time"), for example
  id: totrans-1581
  prefs: []
  type: TYPE_NORMAL
  zh: 调用 [`Series.dt.end_time`](../reference/api/pandas.Series.dt.end_time.html#pandas.Series.dt.end_time
    "pandas.Series.dt.end_time") 现在会导致时间为‘23:59:59.999999999’，就像 [`Period.end_time`](../reference/api/pandas.Period.end_time.html#pandas.Period.end_time
    "pandas.Period.end_time") 的情况一样，例如
- en: '[PRE181]'
  id: totrans-1582
  prefs: []
  type: TYPE_PRE
  zh: '[PRE181]'
- en: '### Series.unique for timezone-aware data'
  id: totrans-1583
  prefs: []
  type: TYPE_NORMAL
  zh: '### 时区感知数据的 `Series.unique`'
- en: The return type of [`Series.unique()`](../reference/api/pandas.Series.unique.html#pandas.Series.unique
    "pandas.Series.unique") for datetime with timezone values has changed from an
    [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)") of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") objects to a [`arrays.DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray") ([GH 24024](https://github.com/pandas-dev/pandas/issues/24024)).
  id: totrans-1584
  prefs: []
  type: TYPE_NORMAL
  zh: 对于带有时区值的日期时间，[`Series.unique()`](../reference/api/pandas.Series.unique.html#pandas.Series.unique
    "pandas.Series.unique") 的返回类型已从[`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(在 NumPy v1.26 中)") 的 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 对象更改为 [`arrays.DatetimeArray`](../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray
    "pandas.arrays.DatetimeArray")（[GH 24024](https://github.com/pandas-dev/pandas/issues/24024)）。
- en: '[PRE182]'
  id: totrans-1585
  prefs: []
  type: TYPE_PRE
  zh: '[PRE182]'
- en: '*Previous behavior*:'
  id: totrans-1586
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*：'
- en: '[PRE183]'
  id: totrans-1587
  prefs: []
  type: TYPE_PRE
  zh: '[PRE183]'
- en: '*New behavior*:'
  id: totrans-1588
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE184]'
  id: totrans-1589
  prefs: []
  type: TYPE_PRE
  zh: '[PRE184]'
- en: '### Sparse data structure refactor'
  id: totrans-1590
  prefs: []
  type: TYPE_NORMAL
  zh: '### 稀疏数据结构重构'
- en: '`SparseArray`, the array backing `SparseSeries` and the columns in a `SparseDataFrame`,
    is now an extension array ([GH 21978](https://github.com/pandas-dev/pandas/issues/21978),
    [GH 19056](https://github.com/pandas-dev/pandas/issues/19056), [GH 22835](https://github.com/pandas-dev/pandas/issues/22835)).
    To conform to this interface and for consistency with the rest of pandas, some
    API breaking changes were made:'
  id: totrans-1591
  prefs: []
  type: TYPE_NORMAL
  zh: '`SparseArray`，支持`SparseSeries`和`SparseDataFrame`列的数组，现在是一个扩展数组（[GH 21978](https://github.com/pandas-dev/pandas/issues/21978)，[GH
    19056](https://github.com/pandas-dev/pandas/issues/19056)，[GH 22835](https://github.com/pandas-dev/pandas/issues/22835)）。为了符合此接口并与
    pandas 的其他部分保持一致，进行了一些 API 破坏性变更：'
- en: '`SparseArray` is no longer a subclass of [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)"). To convert a `SparseArray` to a NumPy array, use [`numpy.asarray()`](https://numpy.org/doc/stable/reference/generated/numpy.asarray.html#numpy.asarray
    "(in NumPy v1.26)").'
  id: totrans-1592
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray`不再是[`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)")的子类。要将`SparseArray`转换为 NumPy 数组，请使用[`numpy.asarray()`](https://numpy.org/doc/stable/reference/generated/numpy.asarray.html#numpy.asarray
    "(in NumPy v1.26)")。'
- en: '`SparseArray.dtype` and `SparseSeries.dtype` are now instances of [`SparseDtype`](../reference/api/pandas.SparseDtype.html#pandas.SparseDtype
    "pandas.SparseDtype"), rather than `np.dtype`. Access the underlying dtype with
    `SparseDtype.subtype`.'
  id: totrans-1593
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.dtype`和`SparseSeries.dtype`现在是[`SparseDtype`](../reference/api/pandas.SparseDtype.html#pandas.SparseDtype
    "pandas.SparseDtype")的实例，而不是`np.dtype`。通过`SparseDtype.subtype`访问底层 dtype。'
- en: '`numpy.asarray(sparse_array)` now returns a dense array with all the values,
    not just the non-fill-value values ([GH 14167](https://github.com/pandas-dev/pandas/issues/14167))'
  id: totrans-1594
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`numpy.asarray(sparse_array)`现在返回一个具有所有值的密集数组，而不仅仅是非填充值的值（[GH 14167](https://github.com/pandas-dev/pandas/issues/14167)）。'
- en: '`SparseArray.take` now matches the API of [`pandas.api.extensions.ExtensionArray.take()`](../reference/api/pandas.api.extensions.ExtensionArray.take.html#pandas.api.extensions.ExtensionArray.take
    "pandas.api.extensions.ExtensionArray.take") ([GH 19506](https://github.com/pandas-dev/pandas/issues/19506)):'
  id: totrans-1595
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.take`现在匹配了[`pandas.api.extensions.ExtensionArray.take()`](../reference/api/pandas.api.extensions.ExtensionArray.take.html#pandas.api.extensions.ExtensionArray.take
    "pandas.api.extensions.ExtensionArray.take")的 API（[GH 19506](https://github.com/pandas-dev/pandas/issues/19506)）:'
- en: The default value of `allow_fill` has changed from `False` to `True`.
  id: totrans-1596
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`allow_fill`的默认值已从`False`更改为`True`。'
- en: The `out` and `mode` parameters are now longer accepted (previously, this raised
    if they were specified).
  id: totrans-1597
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不再接受`out`和`mode`参数（以前，如果指定了这些参数，则会引发错误）。
- en: Passing a scalar for `indices` is no longer allowed.
  id: totrans-1598
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不再允许将标量用作`indices`。
- en: The result of [`concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") with a mix of sparse and dense Series is a Series with sparse
    values, rather than a `SparseSeries`.
  id: totrans-1599
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")的结果中包含了稀疏和密集
    Series 的混合时，结果是一个具有稀疏值的 Series，而不是一个`SparseSeries`。'
- en: '`SparseDataFrame.combine` and `DataFrame.combine_first` no longer supports
    combining a sparse column with a dense column while preserving the sparse subtype.
    The result will be an object-dtype SparseArray.'
  id: totrans-1600
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseDataFrame.combine`和`DataFrame.combine_first`不再支持将稀疏列与密集列合并并保留稀疏子类型。结果将是一个对象
    dtype 的 SparseArray。'
- en: Setting `SparseArray.fill_value` to a fill value with a different dtype is now
    allowed.
  id: totrans-1601
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在允许将`SparseArray.fill_value`设置为具有不同 dtype 的填充值。
- en: '`DataFrame[column]` is now a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with sparse values, rather than a `SparseSeries`, when slicing
    a single column with sparse values ([GH 23559](https://github.com/pandas-dev/pandas/issues/23559)).'
  id: totrans-1602
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在用稀疏值切片单个列时，`DataFrame[column]`现在是具有稀疏值的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")，而不是`SparseSeries`（[GH 23559](https://github.com/pandas-dev/pandas/issues/23559)）。
- en: The result of [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") is now a `Series` with sparse values, like with other extension
    arrays ([GH 24077](https://github.com/pandas-dev/pandas/issues/24077))
  id: totrans-1603
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where")的结果现在是一个具有稀疏值的`Series`，与其他扩展数组类似（[GH 24077](https://github.com/pandas-dev/pandas/issues/24077)）'
- en: 'Some new warnings are issued for operations that require or are likely to materialize
    a large dense array:'
  id: totrans-1604
  prefs: []
  type: TYPE_NORMAL
  zh: 对于需要或可能实现大型密集数组的操作，现在会发出一些新的警告：
- en: A [`errors.PerformanceWarning`](../reference/api/pandas.errors.PerformanceWarning.html#pandas.errors.PerformanceWarning
    "pandas.errors.PerformanceWarning") is issued when using fillna with a `method`,
    as a dense array is constructed to create the filled array. Filling with a `value`
    is the efficient way to fill a sparse array.
  id: totrans-1605
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用 `fillna` 与 `method` 时，会发出一个[`errors.PerformanceWarning`](../reference/api/pandas.errors.PerformanceWarning.html#pandas.errors.PerformanceWarning
    "pandas.errors.PerformanceWarning")，因为会构建一个稠密数组来创建填充后的数组。用 `value` 进行填充是填充稀疏数组的有效方式。
- en: A [`errors.PerformanceWarning`](../reference/api/pandas.errors.PerformanceWarning.html#pandas.errors.PerformanceWarning
    "pandas.errors.PerformanceWarning") is now issued when concatenating sparse Series
    with differing fill values. The fill value from the first sparse array continues
    to be used.
  id: totrans-1606
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当连接具有不同填充值的稀疏 Series 时，现在会发出一个[`errors.PerformanceWarning`](../reference/api/pandas.errors.PerformanceWarning.html#pandas.errors.PerformanceWarning
    "pandas.errors.PerformanceWarning")。继续使用来自第一个稀疏数组的填充值。
- en: In addition to these API breaking changes, many [Performance Improvements and
    Bug Fixes have been made](#whatsnew-0240-bug-fixes-sparse).
  id: totrans-1607
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这些 API 破坏性变更之外，还进行了许多[性能改进和 Bug 修复](#whatsnew-0240-bug-fixes-sparse)。
- en: Finally, a `Series.sparse` accessor was added to provide sparse-specific methods
    like [`Series.sparse.from_coo()`](../reference/api/pandas.Series.sparse.from_coo.html#pandas.Series.sparse.from_coo
    "pandas.Series.sparse.from_coo").
  id: totrans-1608
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，添加了一个`Series.sparse`访问器，以提供稀疏特定的方法，例如[`Series.sparse.from_coo()`](../reference/api/pandas.Series.sparse.from_coo.html#pandas.Series.sparse.from_coo
    "pandas.Series.sparse.from_coo")。
- en: '[PRE185]'
  id: totrans-1609
  prefs: []
  type: TYPE_PRE
  zh: '[PRE185]'
- en: '### [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") always returns a DataFrame'
  id: totrans-1610
  prefs: []
  type: TYPE_NORMAL
  zh: '### [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") 总是返回一个 DataFrame'
- en: Previously, when `sparse=True` was passed to [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies"), the return value could be either a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or a `SparseDataFrame`, depending on whether all or a just
    a subset of the columns were dummy-encoded. Now, a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") is always returned ([GH 24284](https://github.com/pandas-dev/pandas/issues/24284)).
  id: totrans-1611
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，当传递`sparse=True`给[`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies")时，返回值可以是一个[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")或一个`SparseDataFrame`，这取决于是否对所有列或仅对列的子集进行了虚拟编码。现在，始终返回一个[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")（[GH 24284](https://github.com/pandas-dev/pandas/issues/24284)）。
- en: '*Previous behavior*'
  id: totrans-1612
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前行为*'
- en: The first [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") returns a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") because the column `A` is not dummy encoded. When just `["B",
    "C"]` are passed to `get_dummies`, then all the columns are dummy-encoded, and
    a `SparseDataFrame` was returned.
  id: totrans-1613
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个[`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies")返回一个[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")，因为列`A`没有被虚拟编码。当只传递`["B", "C"]`给`get_dummies`时，所有列都被虚拟编码，并返回一个`SparseDataFrame`。
- en: '[PRE186]'
  id: totrans-1614
  prefs: []
  type: TYPE_PRE
  zh: '[PRE186]'
- en: '*New behavior*'
  id: totrans-1615
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*'
- en: Now, the return type is consistently a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame").
  id: totrans-1616
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，返回类型始终是一个[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")。
- en: '[PRE187]'
  id: totrans-1617
  prefs: []
  type: TYPE_PRE
  zh: '[PRE187]'
- en: Note
  id: totrans-1618
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: There’s no difference in memory usage between a `SparseDataFrame` and a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with sparse values. The memory usage will be the same as in
    the previous version of pandas.
  id: totrans-1619
  prefs: []
  type: TYPE_NORMAL
  zh: 在 `SparseDataFrame` 和具有稀疏值的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")之间的内存使用没有区别。内存使用量与 pandas 的先前版本相同。
- en: '### Raise ValueError in `DataFrame.to_dict(orient=''index'')`'
  id: totrans-1620
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在 `DataFrame.to_dict(orient=''index'')` 中引发 ValueError'
- en: Bug in [`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") raises `ValueError` when used with `orient='index'`
    and a non-unique index instead of losing data ([GH 22801](https://github.com/pandas-dev/pandas/issues/22801))
  id: totrans-1621
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") 中的 Bug 在使用 `orient=''index''` 和非唯一索引时会引发 `ValueError`，而不是丢失数据（[GH
    22801](https://github.com/pandas-dev/pandas/issues/22801)）'
- en: '[PRE188]'
  id: totrans-1622
  prefs: []
  type: TYPE_PRE
  zh: '[PRE188]'
- en: '### Tick DateOffset normalize restrictions'
  id: totrans-1623
  prefs: []
  type: TYPE_NORMAL
  zh: '### Tick DateOffset 规范化限制'
- en: Creating a `Tick` object (`Day`, `Hour`, `Minute`, `Second`, `Milli`, `Micro`,
    `Nano`) with `normalize=True` is no longer supported. This prevents unexpected
    behavior where addition could fail to be monotone or associative. ([GH 21427](https://github.com/pandas-dev/pandas/issues/21427))
  id: totrans-1624
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`normalize=True`创建`Tick`对象（`Day`，`Hour`，`Minute`，`Second`，`Milli`，`Micro`，`Nano`）不再受支持。这可以防止出现添加操作无法保持单调或结合的意外行为。([GH
    21427](https://github.com/pandas-dev/pandas/issues/21427))
- en: '*Previous behavior*:'
  id: totrans-1625
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*：'
- en: '[PRE189]'
  id: totrans-1626
  prefs: []
  type: TYPE_PRE
  zh: '[PRE189]'
- en: '*New behavior*:'
  id: totrans-1627
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE190]'
  id: totrans-1628
  prefs: []
  type: TYPE_PRE
  zh: '[PRE190]'
- en: '### Period subtraction'
  id: totrans-1629
  prefs: []
  type: TYPE_NORMAL
  zh: '### 期间减法'
- en: Subtraction of a `Period` from another `Period` will give a `DateOffset`. instead
    of an integer ([GH 21314](https://github.com/pandas-dev/pandas/issues/21314))
  id: totrans-1630
  prefs: []
  type: TYPE_NORMAL
  zh: 从另一个`Period`中减去一个`Period`将得到一个`DateOffset`，而不是一个整数（[GH 21314](https://github.com/pandas-dev/pandas/issues/21314)）
- en: '*Previous behavior*:'
  id: totrans-1631
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*：'
- en: '[PRE191]'
  id: totrans-1632
  prefs: []
  type: TYPE_PRE
  zh: '[PRE191]'
- en: '*New behavior*:'
  id: totrans-1633
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE192]'
  id: totrans-1634
  prefs: []
  type: TYPE_PRE
  zh: '[PRE192]'
- en: Similarly, subtraction of a `Period` from a `PeriodIndex` will now return an
    `Index` of `DateOffset` objects instead of an `Int64Index`
  id: totrans-1635
  prefs: []
  type: TYPE_NORMAL
  zh: 类似地，从`PeriodIndex`减去`Period`现在将返回一个由`DateOffset`对象组成的`Index`，而不是一个`Int64Index`
- en: '*Previous behavior*:'
  id: totrans-1636
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*：'
- en: '[PRE193]'
  id: totrans-1637
  prefs: []
  type: TYPE_PRE
  zh: '[PRE193]'
- en: '*New behavior*:'
  id: totrans-1638
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE194]'
  id: totrans-1639
  prefs: []
  type: TYPE_PRE
  zh: '[PRE194]'
- en: '### Addition/subtraction of `NaN` from [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")'
  id: totrans-1640
  prefs: []
  type: TYPE_NORMAL
  zh: '### 从[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")中加减`NaN`'
- en: Adding or subtracting `NaN` from a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") column with `timedelta64[ns]` dtype will now raise a `TypeError`
    instead of returning all-`NaT`. This is for compatibility with `TimedeltaIndex`
    and `Series` behavior ([GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-1641
  prefs: []
  type: TYPE_NORMAL
  zh: 从具有`timedelta64[ns]` dtype的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")列中添加或减去`NaN`现在将引发`TypeError`，而不是返回全部`NaT`。这是为了与`TimedeltaIndex`和`Series`的行为兼容（[GH
    22163](https://github.com/pandas-dev/pandas/issues/22163)）
- en: '[PRE195]'
  id: totrans-1642
  prefs: []
  type: TYPE_PRE
  zh: '[PRE195]'
- en: '*Previous behavior*:'
  id: totrans-1643
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*：'
- en: '[PRE196]'
  id: totrans-1644
  prefs: []
  type: TYPE_PRE
  zh: '[PRE196]'
- en: '*New behavior*:'
  id: totrans-1645
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE197]'
  id: totrans-1646
  prefs: []
  type: TYPE_PRE
  zh: '[PRE197]'
- en: '### DataFrame comparison operations broadcasting changes'
  id: totrans-1647
  prefs: []
  type: TYPE_NORMAL
  zh: '### DataFrame比较操作广播变化'
- en: Previously, the broadcasting behavior of [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") comparison operations (`==`, `!=`, …) was inconsistent with
    the behavior of arithmetic operations (`+`, `-`, …). The behavior of the comparison
    operations has been changed to match the arithmetic operations in these cases.
    ([GH 22880](https://github.com/pandas-dev/pandas/issues/22880))
  id: totrans-1648
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")比较操作（`==`，`!=`，…）的广播行为与算术操作（`+`，`-`，…）的行为不一致。在这些情况下，已更改比较操作的行为以匹配算术操作的行为。([GH
    22880](https://github.com/pandas-dev/pandas/issues/22880))
- en: 'The affected cases are:'
  id: totrans-1649
  prefs: []
  type: TYPE_NORMAL
  zh: 受影响的情况是：
- en: operating against a 2-dimensional `np.ndarray` with either 1 row or 1 column
    will now broadcast the same way a `np.ndarray` would ([GH 23000](https://github.com/pandas-dev/pandas/issues/23000)).
  id: totrans-1650
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与具有1行或1列的二维`np.ndarray`进行广播操作将以与`np.ndarray`相同的方式进行广播（[GH 23000](https://github.com/pandas-dev/pandas/issues/23000)）。
- en: a list or tuple with length matching the number of rows in the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") will now raise `ValueError` instead of operating column-by-column
    ([GH 22880](https://github.com/pandas-dev/pandas/issues/22880).
  id: totrans-1651
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")中行数匹配长度的列表或元组现在将引发`ValueError`，而不是逐列操作（[GH
    22880](https://github.com/pandas-dev/pandas/issues/22880)）。
- en: a list or tuple with length matching the number of columns in the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") will now operate row-by-row instead of raising `ValueError`
    ([GH 22880](https://github.com/pandas-dev/pandas/issues/22880)).
  id: totrans-1652
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")中列数匹配的长度的列表或元组现在将逐行操作，而不是引发`ValueError`（[GH
    22880](https://github.com/pandas-dev/pandas/issues/22880)）。
- en: '[PRE198]'
  id: totrans-1653
  prefs: []
  type: TYPE_PRE
  zh: '[PRE198]'
- en: '*Previous behavior*:'
  id: totrans-1654
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*：'
- en: '[PRE199]'
  id: totrans-1655
  prefs: []
  type: TYPE_PRE
  zh: '[PRE199]'
- en: '*New behavior*:'
  id: totrans-1656
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE200]'
  id: totrans-1657
  prefs: []
  type: TYPE_PRE
  zh: '[PRE200]'
- en: '[PRE201]'
  id: totrans-1658
  prefs: []
  type: TYPE_PRE
  zh: '[PRE201]'
- en: '[PRE202]'
  id: totrans-1659
  prefs: []
  type: TYPE_PRE
  zh: '[PRE202]'
- en: '### DataFrame arithmetic operations broadcasting changes'
  id: totrans-1660
  prefs: []
  type: TYPE_NORMAL
  zh: '### DataFrame算术操作广播变化'
- en: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    arithmetic operations when operating with 2-dimensional `np.ndarray` objects now
    broadcast in the same way as `np.ndarray` broadcast. ([GH 23000](https://github.com/pandas-dev/pandas/issues/23000))'
  id: totrans-1661
  prefs: []
  type: TYPE_NORMAL
  zh: 当与二维`np.ndarray`对象一起进行[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")算术操作时，现在会以与`np.ndarray`广播相同的方式进行广播。([GH 23000](https://github.com/pandas-dev/pandas/issues/23000))
- en: '[PRE203]'
  id: totrans-1662
  prefs: []
  type: TYPE_PRE
  zh: '[PRE203]'
- en: '*Previous behavior*:'
  id: totrans-1663
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*：'
- en: '[PRE204]'
  id: totrans-1664
  prefs: []
  type: TYPE_PRE
  zh: '[PRE204]'
- en: '*New behavior*:'
  id: totrans-1665
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE205]'
  id: totrans-1666
  prefs: []
  type: TYPE_PRE
  zh: '[PRE205]'
- en: '### Series and Index data-dtype incompatibilities'
  id: totrans-1667
  prefs: []
  type: TYPE_NORMAL
  zh: '### Series和Index数据类型不兼容'
- en: '`Series` and `Index` constructors now raise when the data is incompatible with
    a passed `dtype=` ([GH 15832](https://github.com/pandas-dev/pandas/issues/15832))'
  id: totrans-1668
  prefs: []
  type: TYPE_NORMAL
  zh: 当数据与传递的`dtype=`不兼容时，`Series` 和 `Index` 构造函数现在会引发错误 ([GH 15832](https://github.com/pandas-dev/pandas/issues/15832))
- en: '*Previous behavior*:'
  id: totrans-1669
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*:'
- en: '[PRE206]'
  id: totrans-1670
  prefs: []
  type: TYPE_PRE
  zh: '[PRE206]'
- en: '*New behavior*:'
  id: totrans-1671
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE207]'
  id: totrans-1672
  prefs: []
  type: TYPE_PRE
  zh: '[PRE207]'
- en: '### Concatenation changes'
  id: totrans-1673
  prefs: []
  type: TYPE_NORMAL
  zh: '### 连接变更'
- en: Calling [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") on a `Categorical` of ints with NA values now causes them to
    be processed as objects when concatenating with anything other than another `Categorical`
    of ints ([GH 19214](https://github.com/pandas-dev/pandas/issues/19214))
  id: totrans-1674
  prefs: []
  type: TYPE_NORMAL
  zh: 在带有NA值的整数`Categorical`上调用[`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") 现在会在与除了另一个整数`Categorical`以外的任何东西连接时将其处理为对象 ([GH 19214](https://github.com/pandas-dev/pandas/issues/19214))
- en: '[PRE208]'
  id: totrans-1675
  prefs: []
  type: TYPE_PRE
  zh: '[PRE208]'
- en: '*Previous behavior*'
  id: totrans-1676
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*'
- en: '[PRE209]'
  id: totrans-1677
  prefs: []
  type: TYPE_PRE
  zh: '[PRE209]'
- en: '*New behavior*'
  id: totrans-1678
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*'
- en: '[PRE210]'
  id: totrans-1679
  prefs: []
  type: TYPE_PRE
  zh: '[PRE210]'
- en: Datetimelike API changes
  id: totrans-1680
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Datetimelike API 更改
- en: For [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") with non-`None` `freq` attribute, addition or subtraction
    of integer-dtyped array or `Index` will return an object of the same class ([GH
    19959](https://github.com/pandas-dev/pandas/issues/19959))
  id: totrans-1681
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于具有非`None` `freq`属性的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") ，整数dtype数组或`Index`的加法或减法将返回相同类的对象 ([GH 19959](https://github.com/pandas-dev/pandas/issues/19959))
- en: '`DateOffset` objects are now immutable. Attempting to alter one of these will
    now raise `AttributeError` ([GH 21341](https://github.com/pandas-dev/pandas/issues/21341))'
  id: totrans-1682
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DateOffset`对象现在是不可变的。尝试修改其中一个将引发`AttributeError` ([GH 21341](https://github.com/pandas-dev/pandas/issues/21341))'
- en: '[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") subtraction of another `PeriodIndex` will now return an
    object-dtype [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    of `DateOffset` objects instead of raising a `TypeError` ([GH 20049](https://github.com/pandas-dev/pandas/issues/20049))'
  id: totrans-1683
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对另一个`PeriodIndex`的减法现在将返回一个`DateOffset`对象的对象dtype [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") ，而不是引发`TypeError` ([GH 20049](https://github.com/pandas-dev/pandas/issues/20049))
- en: '[`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") and [`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut
    "pandas.qcut") now returns a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") or [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") bins when the input is datetime or timedelta dtype respectively
    and `retbins=True` ([GH 19891](https://github.com/pandas-dev/pandas/issues/19891))'
  id: totrans-1684
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当输入为datetime或timedelta dtype并且`retbins=True`时，[`cut()`](../reference/api/pandas.cut.html#pandas.cut
    "pandas.cut") 和 [`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut "pandas.qcut")
    现在返回一个[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 或 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") bins ([GH 19891](https://github.com/pandas-dev/pandas/issues/19891))
- en: '[`DatetimeIndex.to_period()`](../reference/api/pandas.DatetimeIndex.to_period.html#pandas.DatetimeIndex.to_period
    "pandas.DatetimeIndex.to_period") and [`Timestamp.to_period()`](../reference/api/pandas.Timestamp.to_period.html#pandas.Timestamp.to_period
    "pandas.Timestamp.to_period") will issue a warning when timezone information will
    be lost ([GH 21333](https://github.com/pandas-dev/pandas/issues/21333))'
  id: totrans-1685
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当时区信息将丢失时，[`DatetimeIndex.to_period()`](../reference/api/pandas.DatetimeIndex.to_period.html#pandas.DatetimeIndex.to_period
    "pandas.DatetimeIndex.to_period") 和 [`Timestamp.to_period()`](../reference/api/pandas.Timestamp.to_period.html#pandas.Timestamp.to_period
    "pandas.Timestamp.to_period") 将发出警告 ([GH 21333](https://github.com/pandas-dev/pandas/issues/21333))
- en: '`PeriodIndex.tz_convert()` and `PeriodIndex.tz_localize()` have been removed
    ([GH 21781](https://github.com/pandas-dev/pandas/issues/21781))'
  id: totrans-1686
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PeriodIndex.tz_convert()` 和 `PeriodIndex.tz_localize()` 已删除 ([GH 21781](https://github.com/pandas-dev/pandas/issues/21781))'
- en: '### Other API changes'
  id: totrans-1687
  prefs: []
  type: TYPE_NORMAL
  zh: '### 其他 API 更改'
- en: A newly constructed empty [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with integer as the `dtype` will now only be cast to `float64`
    if `index` is specified ([GH 22858](https://github.com/pandas-dev/pandas/issues/22858))
  id: totrans-1688
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果指定了`index`，则以整数为`dtype`的新构造的空[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 现在只会被转换为 `float64` ([GH 22858](https://github.com/pandas-dev/pandas/issues/22858))
- en: '[`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat") will now raise if `others` is a `set` ([GH 23009](https://github.com/pandas-dev/pandas/issues/23009))'
  id: totrans-1689
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果 `others` 是一个 `set`，[`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat") 现在会引发异常 ([GH 23009](https://github.com/pandas-dev/pandas/issues/23009))
- en: Passing scalar values to [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") or [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") will now raise `TypeError` instead of `ValueError` ([GH
    23539](https://github.com/pandas-dev/pandas/issues/23539))
  id: totrans-1690
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在向 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 或 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 传递标量值将引发 `TypeError` 而不是 `ValueError` ([GH 23539](https://github.com/pandas-dev/pandas/issues/23539))
- en: '`max_rows` and `max_cols` parameters removed from `HTMLFormatter` since truncation
    is handled by `DataFrameFormatter` ([GH 23818](https://github.com/pandas-dev/pandas/issues/23818))'
  id: totrans-1691
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 `HTMLFormatter` 中移除了 `max_rows` 和 `max_cols` 参数，因为截断由 `DataFrameFormatter`
    处理（[GH 23818](https://github.com/pandas-dev/pandas/issues/23818))
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    will now raise a `ValueError` if a column with missing values is declared as having
    dtype `bool` ([GH 20591](https://github.com/pandas-dev/pandas/issues/20591))'
  id: totrans-1692
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果声明具有 `bool` 类型的列存在缺失值，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 现在会引发 `ValueError` ([GH 20591](https://github.com/pandas-dev/pandas/issues/20591))
- en: The column order of the resultant [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") from [`MultiIndex.to_frame()`](../reference/api/pandas.MultiIndex.to_frame.html#pandas.MultiIndex.to_frame
    "pandas.MultiIndex.to_frame") is now guaranteed to match the [`MultiIndex.names`](../reference/api/pandas.MultiIndex.names.html#pandas.MultiIndex.names
    "pandas.MultiIndex.names") order. ([GH 22420](https://github.com/pandas-dev/pandas/issues/22420))
  id: totrans-1693
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 [`MultiIndex.to_frame()`](../reference/api/pandas.MultiIndex.to_frame.html#pandas.MultiIndex.to_frame
    "pandas.MultiIndex.to_frame") 得到的结果 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 的列顺序现在保证与 [`MultiIndex.names`](../reference/api/pandas.MultiIndex.names.html#pandas.MultiIndex.names
    "pandas.MultiIndex.names") 的顺序匹配。([GH 22420](https://github.com/pandas-dev/pandas/issues/22420))
- en: Incorrectly passing a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") to [`MultiIndex.from_tuples()`](../reference/api/pandas.MultiIndex.from_tuples.html#pandas.MultiIndex.from_tuples
    "pandas.MultiIndex.from_tuples"), rather than a sequence of tuples, now raises
    a `TypeError` rather than a `ValueError` ([GH 24024](https://github.com/pandas-dev/pandas/issues/24024))
  id: totrans-1694
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 错误地将 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 传递给 [`MultiIndex.from_tuples()`](../reference/api/pandas.MultiIndex.from_tuples.html#pandas.MultiIndex.from_tuples
    "pandas.MultiIndex.from_tuples")，而不是元组序列，现在会引发 `TypeError` 而不是 `ValueError` ([GH
    24024](https://github.com/pandas-dev/pandas/issues/24024))
- en: '`pd.offsets.generate_range()` argument `time_rule` has been removed; use `offset`
    instead ([GH 24157](https://github.com/pandas-dev/pandas/issues/24157))'
  id: totrans-1695
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.offsets.generate_range()` 函数的 `time_rule` 参数已被移除；请使用 `offset` 代替（[GH 24157](https://github.com/pandas-dev/pandas/issues/24157)）'
- en: In 0.23.x, pandas would raise a `ValueError` on a merge of a numeric column
    (e.g. `int` dtyped column) and an `object` dtyped column ([GH 9780](https://github.com/pandas-dev/pandas/issues/9780)).
    We have re-enabled the ability to merge `object` and other dtypes; pandas will
    still raise on a merge between a numeric and an `object` dtyped column that is
    composed only of strings ([GH 21681](https://github.com/pandas-dev/pandas/issues/21681))
  id: totrans-1696
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 0.23.x 版本中，pandas 在合并数值列（例如 `int` 类型列）和 `object` 类型列时会引发 `ValueError` ([GH
    9780](https://github.com/pandas-dev/pandas/issues/9780))。我们已重新启用了合并 `object` 和其他数据类型的功能；pandas
    仍会在数值列和仅由字符串组成的 `object` 类型列之间的合并时引发异常 ([GH 21681](https://github.com/pandas-dev/pandas/issues/21681))
- en: Accessing a level of a `MultiIndex` with a duplicate name (e.g. in [`get_level_values()`](../reference/api/pandas.MultiIndex.get_level_values.html#pandas.MultiIndex.get_level_values
    "pandas.MultiIndex.get_level_values")) now raises a `ValueError` instead of a
    `KeyError` ([GH 21678](https://github.com/pandas-dev/pandas/issues/21678)).
  id: totrans-1697
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用重复名称访问 `MultiIndex` 的层级（例如在 [`get_level_values()`](../reference/api/pandas.MultiIndex.get_level_values.html#pandas.MultiIndex.get_level_values
    "pandas.MultiIndex.get_level_values") 中）现在会引发 `ValueError` 而不是 `KeyError` ([GH
    21678](https://github.com/pandas-dev/pandas/issues/21678))
- en: Invalid construction of `IntervalDtype` will now always raise a `TypeError`
    rather than a `ValueError` if the subdtype is invalid ([GH 21185](https://github.com/pandas-dev/pandas/issues/21185))
  id: totrans-1698
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无效构造`IntervalDtype`现在总是会引发`TypeError`而不是`ValueError`，如果子数据类型无效 ([GH 21185](https://github.com/pandas-dev/pandas/issues/21185))
- en: Trying to reindex a `DataFrame` with a non unique `MultiIndex` now raises a
    `ValueError` instead of an `Exception` ([GH 21770](https://github.com/pandas-dev/pandas/issues/21770))
  id: totrans-1699
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尝试对具有非唯一`MultiIndex`的`DataFrame`重新索引现在会引发`ValueError`，而不是引发`Exception` ([GH
    21770](https://github.com/pandas-dev/pandas/issues/21770))
- en: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") subtraction
    will attempt to operate element-wise instead of raising `TypeError` ([GH 19369](https://github.com/pandas-dev/pandas/issues/19369))'
  id: totrans-1700
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") 的减法将尝试按元素操作，而不是引发`TypeError`
    ([GH 19369](https://github.com/pandas-dev/pandas/issues/19369))'
- en: '[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") supports a `number-format` property when using
    [`to_excel()`](../reference/api/pandas.io.formats.style.Styler.to_excel.html#pandas.io.formats.style.Styler.to_excel
    "pandas.io.formats.style.Styler.to_excel") ([GH 22015](https://github.com/pandas-dev/pandas/issues/22015))'
  id: totrans-1701
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用[`to_excel()`](../reference/api/pandas.io.formats.style.Styler.to_excel.html#pandas.io.formats.style.Styler.to_excel
    "pandas.io.formats.style.Styler.to_excel")时，[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 支持`number-format`属性 ([GH 22015](https://github.com/pandas-dev/pandas/issues/22015))
- en: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") and [`Series.corr()`](../reference/api/pandas.Series.corr.html#pandas.Series.corr
    "pandas.Series.corr") now raise a `ValueError` along with a helpful error message
    instead of a `KeyError` when supplied with an invalid method ([GH 22298](https://github.com/pandas-dev/pandas/issues/22298))'
  id: totrans-1702
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当提供无效方法时，[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") 和 [`Series.corr()`](../reference/api/pandas.Series.corr.html#pandas.Series.corr
    "pandas.Series.corr") 现在会引发`ValueError`以及有用的错误消息，而不是`KeyError` ([GH 22298](https://github.com/pandas-dev/pandas/issues/22298))
- en: '`shift()` will now always return a copy, instead of the previous behaviour
    of returning self when shifting by 0 ([GH 22397](https://github.com/pandas-dev/pandas/issues/22397))'
  id: totrans-1703
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`shift()` 现在总是返回一个副本，而不是以前当移动`0`时返回自身的行为 ([GH 22397](https://github.com/pandas-dev/pandas/issues/22397))'
- en: '[`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index") now gives a better (and less frequent) KeyError,
    raises a `ValueError` for incorrect types, and will not fail on duplicate column
    names with `drop=True`. ([GH 22484](https://github.com/pandas-dev/pandas/issues/22484))'
  id: totrans-1704
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index") 现在提供更好（并且更少见）的`KeyError`，对于不正确的类型引发`ValueError`，并且在`drop=True`时不会因重复列名而失败。
    ([GH 22484](https://github.com/pandas-dev/pandas/issues/22484))'
- en: Slicing a single row of a DataFrame with multiple ExtensionArrays of the same
    type now preserves the dtype, rather than coercing to object ([GH 22784](https://github.com/pandas-dev/pandas/issues/22784))
  id: totrans-1705
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对具有相同类型的多个ExtensionArrays的DataFrame的单行进行切片现在会保留dtype，而不是强制转换为object ([GH 22784](https://github.com/pandas-dev/pandas/issues/22784))
- en: '`DateOffset` attribute `_cacheable` and method `_should_cache` have been removed
    ([GH 23118](https://github.com/pandas-dev/pandas/issues/23118))'
  id: totrans-1706
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DateOffset` 属性 `_cacheable` 和方法 `_should_cache` 已删除 ([GH 23118](https://github.com/pandas-dev/pandas/issues/23118))'
- en: '[`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted"), when supplied a scalar value to search for, now
    returns a scalar instead of an array ([GH 23801](https://github.com/pandas-dev/pandas/issues/23801)).'
  id: totrans-1707
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当提供一个标量值进行搜索时，[`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted") 现在会返回一个标量而不是一个数组 ([GH 23801](https://github.com/pandas-dev/pandas/issues/23801)).
- en: '`Categorical.searchsorted()`, when supplied a scalar value to search for, now
    returns a scalar instead of an array ([GH 23466](https://github.com/pandas-dev/pandas/issues/23466)).'
  id: totrans-1708
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.searchsorted()` 当提供一个标量值进行搜索时，现在会返回一个标量而不是一个数组 ([GH 23466](https://github.com/pandas-dev/pandas/issues/23466)).'
- en: '`Categorical.searchsorted()` now raises a `KeyError` rather that a `ValueError`,
    if a searched for key is not found in its categories ([GH 23466](https://github.com/pandas-dev/pandas/issues/23466)).'
  id: totrans-1709
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.searchsorted()` 现在在其类别中找不到搜索到的键时会引发`KeyError`而不是`ValueError` ([GH
    23466](https://github.com/pandas-dev/pandas/issues/23466)).'
- en: '[`Index.hasnans()`](../reference/api/pandas.Index.hasnans.html#pandas.Index.hasnans
    "pandas.Index.hasnans") and [`Series.hasnans()`](../reference/api/pandas.Series.hasnans.html#pandas.Series.hasnans
    "pandas.Series.hasnans") now always return a python boolean. Previously, a python
    or a numpy boolean could be returned, depending on circumstances ([GH 23294](https://github.com/pandas-dev/pandas/issues/23294)).'
  id: totrans-1710
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.hasnans()`](../reference/api/pandas.Index.hasnans.html#pandas.Index.hasnans
    "pandas.Index.hasnans") 和 [`Series.hasnans()`](../reference/api/pandas.Series.hasnans.html#pandas.Series.hasnans
    "pandas.Series.hasnans") 现在总是返回 Python 布尔值。以前，根据情况可能返回 Python 或 NumPy 布尔值 ([GH
    23294](https://github.com/pandas-dev/pandas/issues/23294))。'
- en: The order of the arguments of [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") and [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") is rearranged to be consistent with each other.
    ([GH 23614](https://github.com/pandas-dev/pandas/issues/23614))
  id: totrans-1711
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 和 [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") 的参数顺序已重新排列，以使它们相互一致 ([GH 23614](https://github.com/pandas-dev/pandas/issues/23614))。'
- en: '`CategoricalIndex.reindex()` now raises a `ValueError` if the target index
    is non-unique and not equal to the current index. It previously only raised if
    the target index was not of a categorical dtype ([GH 23963](https://github.com/pandas-dev/pandas/issues/23963)).'
  id: totrans-1712
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CategoricalIndex.reindex()` 现在在目标索引非唯一且不等于当前索引时会引发 `ValueError`。以前只有在目标索引不是分类类型时才会引发
    ([GH 23963](https://github.com/pandas-dev/pandas/issues/23963))。'
- en: '[`Series.to_list()`](../reference/api/pandas.Series.to_list.html#pandas.Series.to_list
    "pandas.Series.to_list") and [`Index.to_list()`](../reference/api/pandas.Index.to_list.html#pandas.Index.to_list
    "pandas.Index.to_list") are now aliases of `Series.tolist` respectively `Index.tolist`
    ([GH 8826](https://github.com/pandas-dev/pandas/issues/8826))'
  id: totrans-1713
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.to_list()`](../reference/api/pandas.Series.to_list.html#pandas.Series.to_list
    "pandas.Series.to_list") 和 [`Index.to_list()`](../reference/api/pandas.Index.to_list.html#pandas.Index.to_list
    "pandas.Index.to_list") 现在分别是 `Series.tolist` 和 `Index.tolist` 的别名 ([GH 8826](https://github.com/pandas-dev/pandas/issues/8826))。'
- en: The result of `SparseSeries.unstack` is now a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with sparse values, rather than a `SparseDataFrame` ([GH 24372](https://github.com/pandas-dev/pandas/issues/24372)).
  id: totrans-1714
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.unstack` 的结果现在是具有稀疏值的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")，而不是 `SparseDataFrame` ([GH 24372](https://github.com/pandas-dev/pandas/issues/24372))。'
- en: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") no longer ignore the dtype precision. Passing a non-nanosecond
    resolution dtype will raise a `ValueError` ([GH 24753](https://github.com/pandas-dev/pandas/issues/24753))'
  id: totrans-1715
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 现在不再忽略 dtype 的精度。传递非纳秒分辨率的 dtype 将引发 `ValueError` ([GH
    24753](https://github.com/pandas-dev/pandas/issues/24753))。'
- en: '## Extension type changes'
  id: totrans-1716
  prefs: []
  type: TYPE_NORMAL
  zh: '## 扩展类型更改'
- en: '**Equality and hashability**'
  id: totrans-1717
  prefs: []
  type: TYPE_NORMAL
  zh: '**相等性和可哈希性**'
- en: pandas now requires that extension dtypes be hashable (i.e. the respective `ExtensionDtype`
    objects; hashability is not a requirement for the values of the corresponding
    `ExtensionArray`). The base class implements a default `__eq__` and `__hash__`.
    If you have a parametrized dtype, you should update the `ExtensionDtype._metadata`
    tuple to match the signature of your `__init__` method. See [`pandas.api.extensions.ExtensionDtype`](../reference/api/pandas.api.extensions.ExtensionDtype.html#pandas.api.extensions.ExtensionDtype
    "pandas.api.extensions.ExtensionDtype") for more ([GH 22476](https://github.com/pandas-dev/pandas/issues/22476)).
  id: totrans-1718
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 现在要求扩展 dtype 可哈希（即相应的 `ExtensionDtype` 对象；相应的 `ExtensionArray` 的值不需要可哈希）。基类实现了默认的
    `__eq__` 和 `__hash__`。如果您有一个参数化的 dtype，应该更新 `ExtensionDtype._metadata` 元组以匹配您的
    `__init__` 方法的签名。请参阅 [`pandas.api.extensions.ExtensionDtype`](../reference/api/pandas.api.extensions.ExtensionDtype.html#pandas.api.extensions.ExtensionDtype
    "pandas.api.extensions.ExtensionDtype") 了解更多信息 ([GH 22476](https://github.com/pandas-dev/pandas/issues/22476))。
- en: '**New and changed methods**'
  id: totrans-1719
  prefs: []
  type: TYPE_NORMAL
  zh: '**新的和更改的方法**'
- en: '`dropna()` has been added ([GH 21185](https://github.com/pandas-dev/pandas/issues/21185))'
  id: totrans-1720
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 已添加 `dropna()` ([GH 21185](https://github.com/pandas-dev/pandas/issues/21185))。
- en: '`repeat()` has been added ([GH 24349](https://github.com/pandas-dev/pandas/issues/24349))'
  id: totrans-1721
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 已添加 `repeat()` ([GH 24349](https://github.com/pandas-dev/pandas/issues/24349))。
- en: The `ExtensionArray` constructor, `_from_sequence` now take the keyword arg
    `copy=False` ([GH 21185](https://github.com/pandas-dev/pandas/issues/21185))
  id: totrans-1722
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExtensionArray`构造函数`_from_sequence`现在接受关键字参数`copy=False`（[GH 21185](https://github.com/pandas-dev/pandas/issues/21185)）'
- en: '[`pandas.api.extensions.ExtensionArray.shift()`](../reference/api/pandas.api.extensions.ExtensionArray.shift.html#pandas.api.extensions.ExtensionArray.shift
    "pandas.api.extensions.ExtensionArray.shift") added as part of the basic `ExtensionArray`
    interface ([GH 22387](https://github.com/pandas-dev/pandas/issues/22387)).'
  id: totrans-1723
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.api.extensions.ExtensionArray.shift()`](../reference/api/pandas.api.extensions.ExtensionArray.shift.html#pandas.api.extensions.ExtensionArray.shift
    "pandas.api.extensions.ExtensionArray.shift")作为基本`ExtensionArray`接口的一部分被添加（[GH
    22387](https://github.com/pandas-dev/pandas/issues/22387)）。'
- en: '`searchsorted()` has been added ([GH 24350](https://github.com/pandas-dev/pandas/issues/24350))'
  id: totrans-1724
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 已添加`searchsorted()`（[GH 24350](https://github.com/pandas-dev/pandas/issues/24350)）
- en: Support for reduction operations such as `sum`, `mean` via opt-in base class
    method override ([GH 22762](https://github.com/pandas-dev/pandas/issues/22762))
  id: totrans-1725
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过基类方法重写，支持`sum`、`mean`等缩减操作（[GH 22762](https://github.com/pandas-dev/pandas/issues/22762)）
- en: '`ExtensionArray.isna()` is allowed to return an `ExtensionArray` ([GH 22325](https://github.com/pandas-dev/pandas/issues/22325)).'
  id: totrans-1726
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExtensionArray.isna()`允许返回一个`ExtensionArray`（[GH 22325](https://github.com/pandas-dev/pandas/issues/22325)）。'
- en: '**Dtype changes**'
  id: totrans-1727
  prefs: []
  type: TYPE_NORMAL
  zh: '**Dtype 变更**'
- en: '`ExtensionDtype` has gained the ability to instantiate from string dtypes,
    e.g. `decimal` would instantiate a registered `DecimalDtype`; furthermore the
    `ExtensionDtype` has gained the method `construct_array_type` ([GH 21185](https://github.com/pandas-dev/pandas/issues/21185))'
  id: totrans-1728
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExtensionDtype`现在能够从字符串 dtype 实例化，例如，`decimal`会实例化一个已注册的`DecimalDtype`；此外，`ExtensionDtype`还获得了方法`construct_array_type`（[GH
    21185](https://github.com/pandas-dev/pandas/issues/21185)）'
- en: Added `ExtensionDtype._is_numeric` for controlling whether an extension dtype
    is considered numeric ([GH 22290](https://github.com/pandas-dev/pandas/issues/22290)).
  id: totrans-1729
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了`ExtensionDtype._is_numeric`以控制扩展 dtype 是否被视为数值型（[GH 22290](https://github.com/pandas-dev/pandas/issues/22290)）。
- en: Added `pandas.api.types.register_extension_dtype()` to register an extension
    type with pandas ([GH 22664](https://github.com/pandas-dev/pandas/issues/22664))
  id: totrans-1730
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了`pandas.api.types.register_extension_dtype()`来向 pandas 注册扩展类型（[GH 22664](https://github.com/pandas-dev/pandas/issues/22664)）
- en: Updated the `.type` attribute for `PeriodDtype`, `DatetimeTZDtype`, and `IntervalDtype`
    to be instances of the dtype (`Period`, `Timestamp`, and `Interval` respectively)
    ([GH 22938](https://github.com/pandas-dev/pandas/issues/22938))
  id: totrans-1731
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更新了`PeriodDtype`、`DatetimeTZDtype`和`IntervalDtype`的`.type`属性，使其成为 dtype 实例（分别为`Period`、`Timestamp`和`Interval`）（[GH
    22938](https://github.com/pandas-dev/pandas/issues/22938)）
- en: '**Operator support**'
  id: totrans-1732
  prefs: []
  type: TYPE_NORMAL
  zh: '**运算符支持**'
- en: 'A `Series` based on an `ExtensionArray` now supports arithmetic and comparison
    operators ([GH 19577](https://github.com/pandas-dev/pandas/issues/19577)). There
    are two approaches for providing operator support for an `ExtensionArray`:'
  id: totrans-1733
  prefs: []
  type: TYPE_NORMAL
  zh: 基于`ExtensionArray`的`Series`现在支持算术和比较运算符（[GH 19577](https://github.com/pandas-dev/pandas/issues/19577)）。提供`ExtensionArray`运算符支持的两种方法：
- en: Define each of the operators on your `ExtensionArray` subclass.
  id: totrans-1734
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的`ExtensionArray`子类上定义每个运算符。
- en: Use an operator implementation from pandas that depends on operators that are
    already defined on the underlying elements (scalars) of the `ExtensionArray`.
  id: totrans-1735
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 pandas 中依赖于已在`ExtensionArray`底层元素（标量）上定义的运算符的运算符实现。
- en: See the [ExtensionArray Operator Support](../development/extending.html#extending-extension-operator)
    documentation section for details on both ways of adding operator support.
  id: totrans-1736
  prefs: []
  type: TYPE_NORMAL
  zh: 详细信息请参阅[ExtensionArray 运算符支持](../development/extending.html#extending-extension-operator)文档部分。
- en: '**Other changes**'
  id: totrans-1737
  prefs: []
  type: TYPE_NORMAL
  zh: '**其他变更**'
- en: A default repr for [`pandas.api.extensions.ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray") is now provided ([GH 23601](https://github.com/pandas-dev/pandas/issues/23601)).
  id: totrans-1738
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为[`pandas.api.extensions.ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray")提供了默认的 repr（[GH 23601](https://github.com/pandas-dev/pandas/issues/23601)）。
- en: '`ExtensionArray._formatting_values()` is deprecated. Use `ExtensionArray._formatter`
    instead. ([GH 23601](https://github.com/pandas-dev/pandas/issues/23601))'
  id: totrans-1739
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExtensionArray._formatting_values()`已弃用。请改用`ExtensionArray._formatter`（[GH
    23601](https://github.com/pandas-dev/pandas/issues/23601)）'
- en: An `ExtensionArray` with a boolean dtype now works correctly as a boolean indexer.
    [`pandas.api.types.is_bool_dtype()`](../reference/api/pandas.api.types.is_bool_dtype.html#pandas.api.types.is_bool_dtype
    "pandas.api.types.is_bool_dtype") now properly considers them boolean ([GH 22326](https://github.com/pandas-dev/pandas/issues/22326))
  id: totrans-1740
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有布尔dtype的`ExtensionArray`现在作为布尔索引器正常工作。[`pandas.api.types.is_bool_dtype()`](../reference/api/pandas.api.types.is_bool_dtype.html#pandas.api.types.is_bool_dtype
    "pandas.api.types.is_bool_dtype")现在正确地将它们视为布尔值（[GH 22326](https://github.com/pandas-dev/pandas/issues/22326)）。
- en: '**Bug fixes**'
  id: totrans-1741
  prefs: []
  type: TYPE_NORMAL
  zh: '**错误修复**'
- en: Bug in [`Series.get()`](../reference/api/pandas.Series.get.html#pandas.Series.get
    "pandas.Series.get") for `Series` using `ExtensionArray` and integer index ([GH
    21257](https://github.com/pandas-dev/pandas/issues/21257))
  id: totrans-1742
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`ExtensionArray`和整数索引的系列中修复了[`Series.get()`](../reference/api/pandas.Series.get.html#pandas.Series.get
    "pandas.Series.get")的错误（[GH 21257](https://github.com/pandas-dev/pandas/issues/21257)）。
- en: '[`shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift "pandas.Series.shift")
    now dispatches to `ExtensionArray.shift()` ([GH 22386](https://github.com/pandas-dev/pandas/issues/22386))'
  id: totrans-1743
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift "pandas.Series.shift")现在分派到`ExtensionArray.shift()`（[GH
    22386](https://github.com/pandas-dev/pandas/issues/22386)）'
- en: '[`Series.combine()`](../reference/api/pandas.Series.combine.html#pandas.Series.combine
    "pandas.Series.combine") works correctly with [`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray") inside of [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") ([GH 20825](https://github.com/pandas-dev/pandas/issues/20825))'
  id: totrans-1744
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")内部，[`Series.combine()`](../reference/api/pandas.Series.combine.html#pandas.Series.combine
    "pandas.Series.combine")现在与[`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray")正确工作（[GH 20825](https://github.com/pandas-dev/pandas/issues/20825)）。
- en: '[`Series.combine()`](../reference/api/pandas.Series.combine.html#pandas.Series.combine
    "pandas.Series.combine") with scalar argument now works for any function type
    ([GH 21248](https://github.com/pandas-dev/pandas/issues/21248))'
  id: totrans-1745
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，带有标量参数的[`Series.combine()`](../reference/api/pandas.Series.combine.html#pandas.Series.combine
    "pandas.Series.combine")对任何函数类型都有效（[GH 21248](https://github.com/pandas-dev/pandas/issues/21248)）。
- en: '[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") and [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") now dispatch to `ExtensionArray.astype()` ([GH 21185](https://github.com/pandas-dev/pandas/issues/21185)).'
  id: totrans-1746
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype")和[`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype")现在分派到`ExtensionArray.astype()`（[GH 21185](https://github.com/pandas-dev/pandas/issues/21185)）。'
- en: Slicing a single row of a `DataFrame` with multiple ExtensionArrays of the same
    type now preserves the dtype, rather than coercing to object ([GH 22784](https://github.com/pandas-dev/pandas/issues/22784))
  id: totrans-1747
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用相同类型的多个ExtensionArrays对DataFrame的单个行进行切片现在保留dtype，而不是强制转换为对象dtype（[GH 22784](https://github.com/pandas-dev/pandas/issues/22784)）。
- en: Bug when concatenating multiple `Series` with different extension dtypes not
    casting to object dtype ([GH 22994](https://github.com/pandas-dev/pandas/issues/22994))
  id: totrans-1748
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在连接多个具有不同扩展dtype的`Series`时出现错误，未转换为对象dtype（[GH 22994](https://github.com/pandas-dev/pandas/issues/22994)）。
- en: Series backed by an `ExtensionArray` now work with [`util.hash_pandas_object()`](../reference/api/pandas.util.hash_pandas_object.html#pandas.util.hash_pandas_object
    "pandas.util.hash_pandas_object") ([GH 23066](https://github.com/pandas-dev/pandas/issues/23066))
  id: totrans-1749
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持`ExtensionArray`的系列现在可以使用[`util.hash_pandas_object()`](../reference/api/pandas.util.hash_pandas_object.html#pandas.util.hash_pandas_object
    "pandas.util.hash_pandas_object")（[GH 23066](https://github.com/pandas-dev/pandas/issues/23066)）。
- en: '[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") no longer converts to object dtype for DataFrames where
    each column has the same extension dtype. The output Series will have the same
    dtype as the columns ([GH 23077](https://github.com/pandas-dev/pandas/issues/23077)).'
  id: totrans-1750
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack")不再对每列具有相同扩展dtype的DataFrame转换为对象dtype。输出的Series将具有与列相同的dtype（[GH
    23077](https://github.com/pandas-dev/pandas/issues/23077)）。'
- en: '[`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack") and [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") no longer convert extension arrays to object-dtype
    ndarrays. Each column in the output `DataFrame` will now have the same dtype as
    the input ([GH 23077](https://github.com/pandas-dev/pandas/issues/23077)).'
  id: totrans-1751
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack")和[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")不再将扩展数组转换为object-dtype的ndarrays。输出`DataFrame`中的每一列现在都将具有与输入相同的dtype
    ([GH 23077](https://github.com/pandas-dev/pandas/issues/23077)).'
- en: Bug when grouping `Dataframe.groupby()` and aggregating on `ExtensionArray`
    it was not returning the actual `ExtensionArray` dtype ([GH 23227](https://github.com/pandas-dev/pandas/issues/23227)).
  id: totrans-1752
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Dataframe.groupby()`分组和在`ExtensionArray`上聚合时存在bug，它没有返回实际的`ExtensionArray`
    dtype ([GH 23227](https://github.com/pandas-dev/pandas/issues/23227)).
- en: Bug in [`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    when merging on an extension array-backed column ([GH 23020](https://github.com/pandas-dev/pandas/issues/23020)).
  id: totrans-1753
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在扩展数组支持的列上进行合并时，在[`pandas.merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge")中存在bug ([GH 23020](https://github.com/pandas-dev/pandas/issues/23020)).
- en: '## Deprecations'
  id: totrans-1754
  prefs: []
  type: TYPE_NORMAL
  zh: '## 废弃功能'
- en: '`MultiIndex.labels` has been deprecated and replaced by [`MultiIndex.codes`](../reference/api/pandas.MultiIndex.codes.html#pandas.MultiIndex.codes
    "pandas.MultiIndex.codes"). The functionality is unchanged. The new name better
    reflects the natures of these codes and makes the `MultiIndex` API more similar
    to the API for [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") ([GH 13443](https://github.com/pandas-dev/pandas/issues/13443)).
    As a consequence, other uses of the name `labels` in `MultiIndex` have also been
    deprecated and replaced with `codes`:'
  id: totrans-1755
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.labels`已经废弃，并被[`MultiIndex.codes`](../reference/api/pandas.MultiIndex.codes.html#pandas.MultiIndex.codes
    "pandas.MultiIndex.codes")替换。功能保持不变。新名称更好地反映了这些代码的性质，并使`MultiIndex`API更类似于[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")的API ([GH 13443](https://github.com/pandas-dev/pandas/issues/13443)).
    因此，`MultiIndex`中其他使用`labels`名称的功能也已被废弃，并替换为`codes`：'
- en: You should initialize a `MultiIndex` instance using a parameter named `codes`
    rather than `labels`.
  id: totrans-1756
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用名为`codes`而不是`labels`的参数来初始化一个`MultiIndex`实例。
- en: '`MultiIndex.set_labels` has been deprecated in favor of [`MultiIndex.set_codes()`](../reference/api/pandas.MultiIndex.set_codes.html#pandas.MultiIndex.set_codes
    "pandas.MultiIndex.set_codes").'
  id: totrans-1757
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.set_labels`已经废弃，建议使用[`MultiIndex.set_codes()`](../reference/api/pandas.MultiIndex.set_codes.html#pandas.MultiIndex.set_codes
    "pandas.MultiIndex.set_codes")。'
- en: For method [`MultiIndex.copy()`](../reference/api/pandas.MultiIndex.copy.html#pandas.MultiIndex.copy
    "pandas.MultiIndex.copy"), the `labels` parameter has been deprecated and replaced
    by a `codes` parameter.
  id: totrans-1758
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于方法[`MultiIndex.copy()`](../reference/api/pandas.MultiIndex.copy.html#pandas.MultiIndex.copy
    "pandas.MultiIndex.copy")，`labels`参数已经废弃，替换为`codes`参数。
- en: '[`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata"), [`read_stata()`](../reference/api/pandas.read_stata.html#pandas.read_stata
    "pandas.read_stata"), `StataReader` and `StataWriter` have deprecated the `encoding`
    argument. The encoding of a Stata dta file is determined by the file type and
    cannot be changed ([GH 21244](https://github.com/pandas-dev/pandas/issues/21244))'
  id: totrans-1759
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata")，[`read_stata()`](../reference/api/pandas.read_stata.html#pandas.read_stata
    "pandas.read_stata")，`StataReader`和`StataWriter`已经废弃了`encoding`参数。Stata dta文件的编码由文件类型确定，不能更改([GH
    21244](https://github.com/pandas-dev/pandas/issues/21244))'
- en: '`MultiIndex.to_hierarchical()` is deprecated and will be removed in a future
    version ([GH 21613](https://github.com/pandas-dev/pandas/issues/21613))'
  id: totrans-1760
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.to_hierarchical()`已经废弃，并将在将来的版本中删除([GH 21613](https://github.com/pandas-dev/pandas/issues/21613))'
- en: '`Series.ptp()` is deprecated. Use `numpy.ptp` instead ([GH 21614](https://github.com/pandas-dev/pandas/issues/21614))'
  id: totrans-1761
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.ptp()`已经废弃。请使用`numpy.ptp`代替([GH 21614](https://github.com/pandas-dev/pandas/issues/21614))'
- en: '`Series.compress()` is deprecated. Use `Series[condition]` instead ([GH 18262](https://github.com/pandas-dev/pandas/issues/18262))'
  id: totrans-1762
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.compress()`已经废弃。请使用`Series[condition]`代替([GH 18262](https://github.com/pandas-dev/pandas/issues/18262))'
- en: 'The signature of [`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv") has been uniformed to that of [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv"): the name of the first argument is now `path_or_buf`,
    the order of subsequent arguments has changed, the `header` argument now defaults
    to `True`. ([GH 19715](https://github.com/pandas-dev/pandas/issues/19715))'
  id: totrans-1763
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.to_csv()`](../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv
    "pandas.Series.to_csv")的签名已经统一为[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv")：第一个参数的名称现在是`path_or_buf`，后续参数的顺序已更改，`header`参数现在默认为`True`（[GH
    19715](https://github.com/pandas-dev/pandas/issues/19715)）。'
- en: '[`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes") has deprecated providing float values for the
    `codes` argument. ([GH 21767](https://github.com/pandas-dev/pandas/issues/21767))'
  id: totrans-1764
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes")已弃用为`codes`参数提供浮点值。([GH 21767](https://github.com/pandas-dev/pandas/issues/21767))'
- en: '[`pandas.read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") is deprecated. Instead, use [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") passing `sep=''\t''` if necessary. This deprecation has been
    removed in 0.25.0\. ([GH 21948](https://github.com/pandas-dev/pandas/issues/21948))'
  id: totrans-1765
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table")已弃用。请改用[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")，必要时传递`sep=''\t''`。此弃用已在0.25.0版中移除。([GH 21948](https://github.com/pandas-dev/pandas/issues/21948))'
- en: '[`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat") has deprecated using arbitrary list-likes *within* list-likes.
    A list-like container may still contain many `Series`, `Index` or 1-dimensional
    `np.ndarray`, or alternatively, only scalar values. ([GH 21950](https://github.com/pandas-dev/pandas/issues/21950))'
  id: totrans-1766
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.cat()`](../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat
    "pandas.Series.str.cat")已弃用在列表类中使用任意列表类内部。列表类容器仍然可以包含许多`Series`、`Index`或一维`np.ndarray`，或者仅包含标量值。([GH
    21950](https://github.com/pandas-dev/pandas/issues/21950))'
- en: '`FrozenNDArray.searchsorted()` has deprecated the `v` parameter in favor of
    `value` ([GH 14645](https://github.com/pandas-dev/pandas/issues/14645))'
  id: totrans-1767
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`FrozenNDArray.searchsorted()`已弃用`v`参数，改用`value` ([GH 14645](https://github.com/pandas-dev/pandas/issues/14645))'
- en: '`DatetimeIndex.shift()` and `PeriodIndex.shift()` now accept `periods` argument
    instead of `n` for consistency with [`Index.shift()`](../reference/api/pandas.Index.shift.html#pandas.Index.shift
    "pandas.Index.shift") and [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift"). Using `n` throws a deprecation warning ([GH 22458](https://github.com/pandas-dev/pandas/issues/22458),
    [GH 22912](https://github.com/pandas-dev/pandas/issues/22912))'
  id: totrans-1768
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.shift()`和`PeriodIndex.shift()`现在接受`periods`参数，而不是`n`，以保持与[`Index.shift()`](../reference/api/pandas.Index.shift.html#pandas.Index.shift
    "pandas.Index.shift")和[`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift")的一致性。使用`n`会引发弃用警告 ([GH 22458](https://github.com/pandas-dev/pandas/issues/22458),
    [GH 22912](https://github.com/pandas-dev/pandas/issues/22912))'
- en: The `fastpath` keyword of the different Index constructors is deprecated ([GH
    23110](https://github.com/pandas-dev/pandas/issues/23110)).
  id: totrans-1769
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不同的索引构造函数中的`fastpath`关键字已被弃用（[GH 23110](https://github.com/pandas-dev/pandas/issues/23110)）。
- en: '[`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize"), [`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize"), and [`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize") have deprecated the `errors` argument in favor of
    the `nonexistent` argument ([GH 8917](https://github.com/pandas-dev/pandas/issues/8917))'
  id: totrans-1770
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize")，[`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize")和[`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize")已弃用`errors`参数，改为使用`nonexistent`参数([GH 8917](https://github.com/pandas-dev/pandas/issues/8917))'
- en: The class `FrozenNDArray` has been deprecated. When unpickling, `FrozenNDArray`
    will be unpickled to `np.ndarray` once this class is removed ([GH 9031](https://github.com/pandas-dev/pandas/issues/9031))
  id: totrans-1771
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 类`FrozenNDArray`已经被弃用。当反序列化时，一旦删除此类，`FrozenNDArray`将被反序列化为`np.ndarray`（[GH 9031](https://github.com/pandas-dev/pandas/issues/9031)）
- en: The methods [`DataFrame.update()`](../reference/api/pandas.DataFrame.update.html#pandas.DataFrame.update
    "pandas.DataFrame.update") and `Panel.update()` have deprecated the `raise_conflict=False|True`
    keyword in favor of `errors='ignore'|'raise'` ([GH 23585](https://github.com/pandas-dev/pandas/issues/23585))
  id: totrans-1772
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法[`DataFrame.update()`](../reference/api/pandas.DataFrame.update.html#pandas.DataFrame.update
    "pandas.DataFrame.update")和`Panel.update()`已经弃用`raise_conflict=False|True`关键字，而是使用`errors='ignore'|'raise'`（[GH
    23585](https://github.com/pandas-dev/pandas/issues/23585)）
- en: The methods [`Series.str.partition()`](../reference/api/pandas.Series.str.partition.html#pandas.Series.str.partition
    "pandas.Series.str.partition") and [`Series.str.rpartition()`](../reference/api/pandas.Series.str.rpartition.html#pandas.Series.str.rpartition
    "pandas.Series.str.rpartition") have deprecated the `pat` keyword in favor of
    `sep` ([GH 22676](https://github.com/pandas-dev/pandas/issues/22676))
  id: totrans-1773
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法[`Series.str.partition()`](../reference/api/pandas.Series.str.partition.html#pandas.Series.str.partition
    "pandas.Series.str.partition")和[`Series.str.rpartition()`](../reference/api/pandas.Series.str.rpartition.html#pandas.Series.str.rpartition
    "pandas.Series.str.rpartition")已经弃用`pat`关键字，而是使用`sep`（[GH 22676](https://github.com/pandas-dev/pandas/issues/22676)）
- en: Deprecated the `nthreads` keyword of [`pandas.read_feather()`](../reference/api/pandas.read_feather.html#pandas.read_feather
    "pandas.read_feather") in favor of `use_threads` to reflect the changes in `pyarrow>=0.11.0`.
    ([GH 23053](https://github.com/pandas-dev/pandas/issues/23053))
  id: totrans-1774
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了[`pandas.read_feather()`](../reference/api/pandas.read_feather.html#pandas.read_feather
    "pandas.read_feather")的`nthreads`关键字，改用`use_threads`以反映`pyarrow>=0.11.0`中的更改（[GH
    23053](https://github.com/pandas-dev/pandas/issues/23053)）
- en: '[`pandas.read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") has deprecated accepting `usecols` as an integer. Please
    pass in a list of ints from 0 to `usecols` inclusive instead ([GH 23527](https://github.com/pandas-dev/pandas/issues/23527))'
  id: totrans-1775
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`pandas.read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")已经弃用接受`usecols`作为整数。请传入一个从0到`usecols`的整数列表（包括`usecols`）代替（[GH
    23527](https://github.com/pandas-dev/pandas/issues/23527))'
- en: Constructing a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") from data with `datetime64`-dtyped data is deprecated,
    will raise `TypeError` in a future version ([GH 23539](https://github.com/pandas-dev/pandas/issues/23539))
  id: totrans-1776
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从带有`datetime64`数据类型的数据构建[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")已经被弃用，在将来的版本中会引发`TypeError`（[GH 23539](https://github.com/pandas-dev/pandas/issues/23539)）
- en: Constructing a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") from data with `timedelta64`-dtyped data is deprecated,
    will raise `TypeError` in a future version ([GH 23675](https://github.com/pandas-dev/pandas/issues/23675))
  id: totrans-1777
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从带有`timedelta64`数据类型的数据构建[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")已经被弃用，在将来的版本中会引发`TypeError`（[GH 23675](https://github.com/pandas-dev/pandas/issues/23675)）
- en: The `keep_tz=False` option (the default) of the `keep_tz` keyword of [`DatetimeIndex.to_series()`](../reference/api/pandas.DatetimeIndex.to_series.html#pandas.DatetimeIndex.to_series
    "pandas.DatetimeIndex.to_series") is deprecated ([GH 17832](https://github.com/pandas-dev/pandas/issues/17832)).
  id: totrans-1778
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`keep_tz=False`选项（默认值）的[`DatetimeIndex.to_series()`](../reference/api/pandas.DatetimeIndex.to_series.html#pandas.DatetimeIndex.to_series
    "pandas.DatetimeIndex.to_series")的`keep_tz`关键字已经被弃用（[GH 17832](https://github.com/pandas-dev/pandas/issues/17832)）'
- en: Timezone converting a tz-aware `datetime.datetime` or [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") with [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") and the `tz` argument is now deprecated. Instead, use [`Timestamp.tz_convert()`](../reference/api/pandas.Timestamp.tz_convert.html#pandas.Timestamp.tz_convert
    "pandas.Timestamp.tz_convert") ([GH 23579](https://github.com/pandas-dev/pandas/issues/23579))
  id: totrans-1779
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 时区转换一个带有时区信息的`datetime.datetime`或[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")与[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")和`tz`参数现在已经被弃用。请使用[`Timestamp.tz_convert()`](../reference/api/pandas.Timestamp.tz_convert.html#pandas.Timestamp.tz_convert
    "pandas.Timestamp.tz_convert")代替（[GH 23579](https://github.com/pandas-dev/pandas/issues/23579)）
- en: '`pandas.api.types.is_period()` is deprecated in favor of `pandas.api.types.is_period_dtype`
    ([GH 23917](https://github.com/pandas-dev/pandas/issues/23917))'
  id: totrans-1780
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.api.types.is_period()`已被弃用，建议使用`pandas.api.types.is_period_dtype`（[GH
    23917](https://github.com/pandas-dev/pandas/issues/23917)）'
- en: '`pandas.api.types.is_datetimetz()` is deprecated in favor of `pandas.api.types.is_datetime64tz`
    ([GH 23917](https://github.com/pandas-dev/pandas/issues/23917))'
  id: totrans-1781
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.api.types.is_datetimetz()`已被弃用，建议使用`pandas.api.types.is_datetime64tz`（[GH
    23917](https://github.com/pandas-dev/pandas/issues/23917)）'
- en: Creating a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex"), [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), or [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") by passing range arguments `start`, `end`, and `periods`
    is deprecated in favor of [`timedelta_range()`](../reference/api/pandas.timedelta_range.html#pandas.timedelta_range
    "pandas.timedelta_range"), [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range"), or [`period_range()`](../reference/api/pandas.period_range.html#pandas.period_range
    "pandas.period_range") ([GH 23919](https://github.com/pandas-dev/pandas/issues/23919))
  id: totrans-1782
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过传递范围参数`start`、`end`和`periods`来创建[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")、[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")或[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")已被弃用，建议使用[`timedelta_range()`](../reference/api/pandas.timedelta_range.html#pandas.timedelta_range
    "pandas.timedelta_range")、[`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range")或[`period_range()`](../reference/api/pandas.period_range.html#pandas.period_range
    "pandas.period_range")（[GH 23919](https://github.com/pandas-dev/pandas/issues/23919))
- en: Passing a string alias like `'datetime64[ns, UTC]'` as the `unit` parameter
    to [`DatetimeTZDtype`](../reference/api/pandas.DatetimeTZDtype.html#pandas.DatetimeTZDtype
    "pandas.DatetimeTZDtype") is deprecated. Use `DatetimeTZDtype.construct_from_string`
    instead ([GH 23990](https://github.com/pandas-dev/pandas/issues/23990)).
  id: totrans-1783
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将类似`'datetime64[ns, UTC]'`的字符串别名作为`unit`参数传递给[`DatetimeTZDtype`](../reference/api/pandas.DatetimeTZDtype.html#pandas.DatetimeTZDtype
    "pandas.DatetimeTZDtype")已被弃用。请改用`DatetimeTZDtype.construct_from_string`（[GH 23990](https://github.com/pandas-dev/pandas/issues/23990)）。
- en: The `skipna` parameter of [`infer_dtype()`](../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype
    "pandas.api.types.infer_dtype") will switch to `True` by default in a future version
    of pandas ([GH 17066](https://github.com/pandas-dev/pandas/issues/17066), [GH
    24050](https://github.com/pandas-dev/pandas/issues/24050))
  id: totrans-1784
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`infer_dtype()`](../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype
    "pandas.api.types.infer_dtype")的`skipna`参数在 pandas 的将来版本中将默认切换为`True`（[GH 17066](https://github.com/pandas-dev/pandas/issues/17066),
    [GH 24050](https://github.com/pandas-dev/pandas/issues/24050))'
- en: In [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") with Categorical data, providing an `other` that is not
    present in the categories is deprecated. Convert the categorical to a different
    dtype or add the `other` to the categories first ([GH 24077](https://github.com/pandas-dev/pandas/issues/24077)).
  id: totrans-1785
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在带有分类数据的[`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where")中，提供一个不在类别中的`other`已被弃用。请先将分类转换为不同的dtype或首先将`other`添加到类别中（[GH
    24077](https://github.com/pandas-dev/pandas/issues/24077)）。
- en: '`Series.clip_lower()`, `Series.clip_upper()`, `DataFrame.clip_lower()` and
    `DataFrame.clip_upper()` are deprecated and will be removed in a future version.
    Use `Series.clip(lower=threshold)`, `Series.clip(upper=threshold)` and the equivalent
    `DataFrame` methods ([GH 24203](https://github.com/pandas-dev/pandas/issues/24203))'
  id: totrans-1786
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.clip_lower()`、`Series.clip_upper()`、`DataFrame.clip_lower()`和`DataFrame.clip_upper()`已被弃用，将在未来版本中移除。请使用`Series.clip(lower=threshold)`、`Series.clip(upper=threshold)`及其等效的`DataFrame`方法（[GH
    24203](https://github.com/pandas-dev/pandas/issues/24203)）'
- en: '`Series.nonzero()` is deprecated and will be removed in a future version ([GH
    18262](https://github.com/pandas-dev/pandas/issues/18262))'
  id: totrans-1787
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.nonzero()`已被弃用，将在未来版本中移除（[GH 18262](https://github.com/pandas-dev/pandas/issues/18262)）'
- en: Passing an integer to [`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") and [`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") with `timedelta64[ns]` dtypes is deprecated, will raise
    `TypeError` in a future version. Use `obj.fillna(pd.Timedelta(...))` instead ([GH
    24694](https://github.com/pandas-dev/pandas/issues/24694))
  id: totrans-1788
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将`timedelta64[ns]` dtypes传递给[`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna")和[`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna")已被弃用，将在未来版本中引发`TypeError`。请改用`obj.fillna(pd.Timedelta(...))`代替（[GH
    24694](https://github.com/pandas-dev/pandas/issues/24694)）
- en: '`Series.cat.categorical`, `Series.cat.name` and `Series.cat.index` have been
    deprecated. Use the attributes on `Series.cat` or `Series` directly. ([GH 24751](https://github.com/pandas-dev/pandas/issues/24751)).'
  id: totrans-1789
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.cat.categorical`、`Series.cat.name`和`Series.cat.index`已被弃用。请直接使用`Series.cat`或`Series`上的属性。([GH
    24751](https://github.com/pandas-dev/pandas/issues/24751))。'
- en: Passing a dtype without a precision like `np.dtype('datetime64')` or `timedelta64`
    to [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index"),
    [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") is now deprecated. Use the nanosecond-precision dtype
    instead ([GH 24753](https://github.com/pandas-dev/pandas/issues/24753)).
  id: totrans-1790
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将没有精度的dtype（如`np.dtype('datetime64')`或`timedelta64`）传递给[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")、[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")现已被弃用。请改用纳秒精度dtype代替（[GH 24753](https://github.com/pandas-dev/pandas/issues/24753)）。
- en: '### Integer addition/subtraction with datetimes and timedeltas is deprecated'
  id: totrans-1791
  prefs: []
  type: TYPE_NORMAL
  zh: '### 整数与日期时间和时间增量的加减法已被弃用'
- en: In the past, users could—in some cases—add or subtract integers or integer-dtype
    arrays from [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp"), [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex").
  id: totrans-1792
  prefs: []
  type: TYPE_NORMAL
  zh: 在过去，用户可以在某些情况下从[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")、[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中添加或减去整数或整数类型的数组。
- en: This usage is now deprecated. Instead add or subtract integer multiples of the
    object’s `freq` attribute ([GH 21939](https://github.com/pandas-dev/pandas/issues/21939),
    [GH 23878](https://github.com/pandas-dev/pandas/issues/23878)).
  id: totrans-1793
  prefs: []
  type: TYPE_NORMAL
  zh: 此用法现已被弃用。而是添加或减去对象的`freq`属性的整数倍数（[GH 21939](https://github.com/pandas-dev/pandas/issues/21939)，[GH
    23878](https://github.com/pandas-dev/pandas/issues/23878)）。
- en: '*Previous behavior*:'
  id: totrans-1794
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前行为*：'
- en: '[PRE211]'
  id: totrans-1795
  prefs: []
  type: TYPE_PRE
  zh: '[PRE211]'
- en: '*New behavior*:'
  id: totrans-1796
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE212]  ### Passing integer data and a timezone to DatetimeIndex'
  id: totrans-1797
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE212]  ### 将整数数据和时区传递给DatetimeIndex'
- en: The behavior of [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") when passed integer data and a timezone is changing in
    a future version of pandas. Previously, these were interpreted as wall times in
    the desired timezone. In the future, these will be interpreted as wall times in
    UTC, which are then converted to the desired timezone ([GH 24559](https://github.com/pandas-dev/pandas/issues/24559)).
  id: totrans-1798
  prefs: []
  type: TYPE_NORMAL
  zh: 当传递整数数据和时区给[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")时，pandas未来版本中的行为将发生变化。以前，这些被解释为所需时区的墙上时间。未来，这些将被解释为UTC中的墙上时间，然后转换为所需时区（[GH
    24559](https://github.com/pandas-dev/pandas/issues/24559)）。
- en: 'The default behavior remains the same, but issues a warning:'
  id: totrans-1799
  prefs: []
  type: TYPE_NORMAL
  zh: 默认行为保持不变，但会发出警告：
- en: '[PRE213]'
  id: totrans-1800
  prefs: []
  type: TYPE_PRE
  zh: '[PRE213]'
- en: 'As the warning message explains, opt in to the future behavior by specifying
    that the integer values are UTC, and then converting to the final timezone:'
  id: totrans-1801
  prefs: []
  type: TYPE_NORMAL
  zh: 如警告消息所解释的，通过指定整数值为UTC并转换为最终时区来选择未来行为：
- en: '[PRE214]'
  id: totrans-1802
  prefs: []
  type: TYPE_PRE
  zh: '[PRE214]'
- en: 'The old behavior can be retained with by localizing directly to the final timezone:'
  id: totrans-1803
  prefs: []
  type: TYPE_NORMAL
  zh: 可以通过直接定位到最终时区来保留旧行为：
- en: '[PRE215]  ### Converting timezone-aware Series and Index to NumPy arrays'
  id: totrans-1804
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE215]  ### 将时区感知的Series和Index转换为NumPy数组'
- en: The conversion from a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") with timezone-aware datetime data will change to preserve timezones
    by default ([GH 23569](https://github.com/pandas-dev/pandas/issues/23569)).
  id: totrans-1805
  prefs: []
  type: TYPE_NORMAL
  zh: 将 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    或 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") 中的时区感知日期时间数据转换以默认方式来保留时区信息（[GH
    23569](https://github.com/pandas-dev/pandas/issues/23569)）。
- en: NumPy doesn’t have a dedicated dtype for timezone-aware datetimes. In the past,
    converting a [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    or [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with timezone-aware datatimes would convert to a NumPy
    array by
  id: totrans-1806
  prefs: []
  type: TYPE_NORMAL
  zh: NumPy 没有专门用于时区感知日期时间的 dtype。在过去，将具有时区感知日期时间的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 转换为 NumPy 数组的方法是通过
- en: converting the tz-aware data to UTC
  id: totrans-1807
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 tz-aware 数据转换为 UTC
- en: dropping the timezone-info
  id: totrans-1808
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 丢弃时区信息
- en: returning a [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)") with `datetime64[ns]` dtype
  id: totrans-1809
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回一个带有`datetime64[ns]` dtype的[`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(在 NumPy v1.26)")。
- en: Future versions of pandas will preserve the timezone information by returning
    an object-dtype NumPy array where each value is a [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") with the correct timezone attached
  id: totrans-1810
  prefs: []
  type: TYPE_NORMAL
  zh: pandas 的将来版本将通过返回一个带有正确时区附加的 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 的对象 dtype NumPy 数组来保留时区信息
- en: '[PRE216]'
  id: totrans-1811
  prefs: []
  type: TYPE_PRE
  zh: '[PRE216]'
- en: The default behavior remains the same, but issues a warning
  id: totrans-1812
  prefs: []
  type: TYPE_NORMAL
  zh: 默认行为保持不变，但会发出警告
- en: '[PRE217]'
  id: totrans-1813
  prefs: []
  type: TYPE_PRE
  zh: '[PRE217]'
- en: The previous or future behavior can be obtained, without any warnings, by specifying
    the `dtype`
  id: totrans-1814
  prefs: []
  type: TYPE_NORMAL
  zh: 通过指定 `dtype`，可以获取以前或将来的行为，而不会收到任何警告。
- en: '*Previous behavior*'
  id: totrans-1815
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*'
- en: '[PRE218]'
  id: totrans-1816
  prefs: []
  type: TYPE_PRE
  zh: '[PRE218]'
- en: '*Future behavior*'
  id: totrans-1817
  prefs: []
  type: TYPE_NORMAL
  zh: '*将来的行为*'
- en: '[PRE219]'
  id: totrans-1818
  prefs: []
  type: TYPE_PRE
  zh: '[PRE219]'
- en: Or by using [`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy")
  id: totrans-1819
  prefs: []
  type: TYPE_NORMAL
  zh: 或者使用 [`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy")
- en: '[PRE220]'
  id: totrans-1820
  prefs: []
  type: TYPE_PRE
  zh: '[PRE220]'
- en: 'All the above applies to a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with tz-aware values as well.  ### Integer addition/subtraction
    with datetimes and timedeltas is deprecated'
  id: totrans-1821
  prefs: []
  type: TYPE_NORMAL
  zh: 所有以上内容同样适用于具有 tz-aware 值的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")。### 日期时间和时间增加/减法已弃用
- en: In the past, users could—in some cases—add or subtract integers or integer-dtype
    arrays from [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp"), [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex").
  id: totrans-1822
  prefs: []
  type: TYPE_NORMAL
  zh: 在过去，用户可以——在某些情况下——从[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")、[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中添加或减去整数或整数类型的数组。
- en: This usage is now deprecated. Instead add or subtract integer multiples of the
    object’s `freq` attribute ([GH 21939](https://github.com/pandas-dev/pandas/issues/21939),
    [GH 23878](https://github.com/pandas-dev/pandas/issues/23878)).
  id: totrans-1823
  prefs: []
  type: TYPE_NORMAL
  zh: 此用法现已弃用。相反，应添加或减去对象的 `freq` 属性的整数倍数（[GH 21939](https://github.com/pandas-dev/pandas/issues/21939)，[GH
    23878](https://github.com/pandas-dev/pandas/issues/23878)）。
- en: '*Previous behavior*:'
  id: totrans-1824
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*：'
- en: '[PRE221]'
  id: totrans-1825
  prefs: []
  type: TYPE_PRE
  zh: '[PRE221]'
- en: '*New behavior*:'
  id: totrans-1826
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE222]'
  id: totrans-1827
  prefs: []
  type: TYPE_PRE
  zh: '[PRE222]'
- en: '### Passing integer data and a timezone to DatetimeIndex'
  id: totrans-1828
  prefs: []
  type: TYPE_NORMAL
  zh: '### 传递整数数据和时区给 DatetimeIndex'
- en: The behavior of [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") when passed integer data and a timezone is changing in
    a future version of pandas. Previously, these were interpreted as wall times in
    the desired timezone. In the future, these will be interpreted as wall times in
    UTC, which are then converted to the desired timezone ([GH 24559](https://github.com/pandas-dev/pandas/issues/24559)).
  id: totrans-1829
  prefs: []
  type: TYPE_NORMAL
  zh: 当传递整数数据和时区的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")时，pandas 的将来版本中的行为正在发生变化。以前，这些被解释为所需时区的壁钟时间。将来，这些将被解释为
    UTC 中的壁钟时间，然后转换为所需的时区（[GH 24559](https://github.com/pandas-dev/pandas/issues/24559)）。
- en: 'The default behavior remains the same, but issues a warning:'
  id: totrans-1830
  prefs: []
  type: TYPE_NORMAL
  zh: 默认行为保持不变，但会发出警告：
- en: '[PRE223]'
  id: totrans-1831
  prefs: []
  type: TYPE_PRE
  zh: '[PRE223]'
- en: 'As the warning message explains, opt in to the future behavior by specifying
    that the integer values are UTC, and then converting to the final timezone:'
  id: totrans-1832
  prefs: []
  type: TYPE_NORMAL
  zh: 正如警告消息所解释的那样，通过指定整数值为 UTC 并将其转换为最终时区来选择未来行为：
- en: '[PRE224]'
  id: totrans-1833
  prefs: []
  type: TYPE_PRE
  zh: '[PRE224]'
- en: 'The old behavior can be retained with by localizing directly to the final timezone:'
  id: totrans-1834
  prefs: []
  type: TYPE_NORMAL
  zh: 可以通过直接定位到最终时区来保留旧行为：
- en: '[PRE225]'
  id: totrans-1835
  prefs: []
  type: TYPE_PRE
  zh: '[PRE225]'
- en: '### Converting timezone-aware Series and Index to NumPy arrays'
  id: totrans-1836
  prefs: []
  type: TYPE_NORMAL
  zh: '### 将时区感知的 Series 和 Index 转换为 NumPy 数组'
- en: The conversion from a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") with timezone-aware datetime data will change to preserve timezones
    by default ([GH 23569](https://github.com/pandas-dev/pandas/issues/23569)).
  id: totrans-1837
  prefs: []
  type: TYPE_NORMAL
  zh: 从具有时区感知的日期时间数据的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    的转换将默认保留时区信息 ([GH 23569](https://github.com/pandas-dev/pandas/issues/23569))
- en: NumPy doesn’t have a dedicated dtype for timezone-aware datetimes. In the past,
    converting a [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    or [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with timezone-aware datatimes would convert to a NumPy
    array by
  id: totrans-1838
  prefs: []
  type: TYPE_NORMAL
  zh: NumPy 没有专门的 dtype 来处理时区感知的日期时间。在过去，将具有时区感知的日期时间的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 转换为 NumPy 数组会通过
- en: converting the tz-aware data to UTC
  id: totrans-1839
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将时区感知数据转换为 UTC
- en: dropping the timezone-info
  id: totrans-1840
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除时区信息
- en: returning a [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)") with `datetime64[ns]` dtype
  id: totrans-1841
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回具有 `datetime64[ns]` dtype 的 [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(在 NumPy v1.26 中)")
- en: Future versions of pandas will preserve the timezone information by returning
    an object-dtype NumPy array where each value is a [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") with the correct timezone attached
  id: totrans-1842
  prefs: []
  type: TYPE_NORMAL
  zh: 未来版本的 pandas 将通过返回一个对象 dtype 的 NumPy 数组来保留时区信息，其中每个值都是带有正确时区附加的 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")
- en: '[PRE226]'
  id: totrans-1843
  prefs: []
  type: TYPE_PRE
  zh: '[PRE226]'
- en: The default behavior remains the same, but issues a warning
  id: totrans-1844
  prefs: []
  type: TYPE_NORMAL
  zh: 默认行为保持不变，但会发出警告
- en: '[PRE227]'
  id: totrans-1845
  prefs: []
  type: TYPE_PRE
  zh: '[PRE227]'
- en: The previous or future behavior can be obtained, without any warnings, by specifying
    the `dtype`
  id: totrans-1846
  prefs: []
  type: TYPE_NORMAL
  zh: 可以通过指定 `dtype` 来获得先前或将来的行为，而不会收到任何警告
- en: '*Previous behavior*'
  id: totrans-1847
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前行为*'
- en: '[PRE228]'
  id: totrans-1848
  prefs: []
  type: TYPE_PRE
  zh: '[PRE228]'
- en: '*Future behavior*'
  id: totrans-1849
  prefs: []
  type: TYPE_NORMAL
  zh: '*未来行为*'
- en: '[PRE229]'
  id: totrans-1850
  prefs: []
  type: TYPE_PRE
  zh: '[PRE229]'
- en: Or by using [`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy")
  id: totrans-1851
  prefs: []
  type: TYPE_NORMAL
  zh: 或者使用 [`Series.to_numpy()`](../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy
    "pandas.Series.to_numpy")
- en: '[PRE230]'
  id: totrans-1852
  prefs: []
  type: TYPE_PRE
  zh: '[PRE230]'
- en: All the above applies to a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with tz-aware values as well.
  id: totrans-1853
  prefs: []
  type: TYPE_NORMAL
  zh: 所有上述内容同样适用于具有时区感知值的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")
- en: '## Removal of prior version deprecations/changes'
  id: totrans-1854
  prefs: []
  type: TYPE_NORMAL
  zh: '## 移除之前版本的弃用/更改'
- en: The `LongPanel` and `WidePanel` classes have been removed ([GH 10892](https://github.com/pandas-dev/pandas/issues/10892))
  id: totrans-1855
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`LongPanel` 和 `WidePanel` 类已被移除 ([GH 10892](https://github.com/pandas-dev/pandas/issues/10892))'
- en: '[`Series.repeat()`](../reference/api/pandas.Series.repeat.html#pandas.Series.repeat
    "pandas.Series.repeat") has renamed the `reps` argument to `repeats` ([GH 14645](https://github.com/pandas-dev/pandas/issues/14645))'
  id: totrans-1856
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.repeat()`](../reference/api/pandas.Series.repeat.html#pandas.Series.repeat
    "pandas.Series.repeat") 将 `reps` 参数重命名为 `repeats` ([GH 14645](https://github.com/pandas-dev/pandas/issues/14645))'
- en: Several private functions were removed from the (non-public) module `pandas.core.common`
    ([GH 22001](https://github.com/pandas-dev/pandas/issues/22001))
  id: totrans-1857
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 几个私有函数从（非公开的）模块 `pandas.core.common` 中删除了 ([GH 22001](https://github.com/pandas-dev/pandas/issues/22001))
- en: Removal of the previously deprecated module `pandas.core.datetools` ([GH 14105](https://github.com/pandas-dev/pandas/issues/14105),
    [GH 14094](https://github.com/pandas-dev/pandas/issues/14094))
  id: totrans-1858
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除先前已经弃用的模块 `pandas.core.datetools` ([GH 14105](https://github.com/pandas-dev/pandas/issues/14105),
    [GH 14094](https://github.com/pandas-dev/pandas/issues/14094))
- en: Strings passed into [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") that refer to both column and index levels will raise
    a `ValueError` ([GH 14432](https://github.com/pandas-dev/pandas/issues/14432))
  id: totrans-1859
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 传递给 [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 的字符串，既引用了列又引用了索引级别，将引发 `ValueError` ([GH 14432](https://github.com/pandas-dev/pandas/issues/14432))
- en: '[`Index.repeat()`](../reference/api/pandas.Index.repeat.html#pandas.Index.repeat
    "pandas.Index.repeat") and `MultiIndex.repeat()` have renamed the `n` argument
    to `repeats` ([GH 14645](https://github.com/pandas-dev/pandas/issues/14645))'
  id: totrans-1860
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.repeat()`](../reference/api/pandas.Index.repeat.html#pandas.Index.repeat
    "pandas.Index.repeat") 和 `MultiIndex.repeat()` 现在将`n`参数重命名为`repeats`（[GH 14645](https://github.com/pandas-dev/pandas/issues/14645)）'
- en: The `Series` constructor and `.astype` method will now raise a `ValueError`
    if timestamp dtypes are passed in without a unit (e.g. `np.datetime64`) for the
    `dtype` parameter ([GH 15987](https://github.com/pandas-dev/pandas/issues/15987))
  id: totrans-1861
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构造函数`Series`和方法`.astype`现在如果传入没有单位的时间戳dtype（例如`np.datetime64`）给`dtype`参数，会抛出`ValueError`异常（[GH
    15987](https://github.com/pandas-dev/pandas/issues/15987)）
- en: Removal of the previously deprecated `as_indexer` keyword completely from `str.match()`
    ([GH 22356](https://github.com/pandas-dev/pandas/issues/22356), [GH 6581](https://github.com/pandas-dev/pandas/issues/6581))
  id: totrans-1862
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 完全移除了`str.match()`中先前废弃的`as_indexer`关键字（[GH 22356](https://github.com/pandas-dev/pandas/issues/22356),
    [GH 6581](https://github.com/pandas-dev/pandas/issues/6581)）
- en: The modules `pandas.types`, `pandas.computation`, and `pandas.util.decorators`
    have been removed ([GH 16157](https://github.com/pandas-dev/pandas/issues/16157),
    [GH 16250](https://github.com/pandas-dev/pandas/issues/16250))
  id: totrans-1863
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模块`pandas.types`、`pandas.computation`和`pandas.util.decorators`已被移除（[GH 16157](https://github.com/pandas-dev/pandas/issues/16157),
    [GH 16250](https://github.com/pandas-dev/pandas/issues/16250)）
- en: Removed the `pandas.formats.style` shim for [`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") ([GH 16059](https://github.com/pandas-dev/pandas/issues/16059))
  id: totrans-1864
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除了对[`pandas.io.formats.style.Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler")的`pandas.formats.style`的替代（[GH 16059](https://github.com/pandas-dev/pandas/issues/16059)）
- en: '`pandas.pnow`, `pandas.match`, `pandas.groupby`, `pd.get_store`, `pd.Expr`,
    and `pd.Term` have been removed ([GH 15538](https://github.com/pandas-dev/pandas/issues/15538),
    [GH 15940](https://github.com/pandas-dev/pandas/issues/15940))'
  id: totrans-1865
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.pnow`、`pandas.match`、`pandas.groupby`、`pd.get_store`、`pd.Expr`和`pd.Term`已被移除（[GH
    15538](https://github.com/pandas-dev/pandas/issues/15538), [GH 15940](https://github.com/pandas-dev/pandas/issues/15940)）'
- en: '`Categorical.searchsorted()` and [`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted") have renamed the `v` argument to `value` ([GH 14645](https://github.com/pandas-dev/pandas/issues/14645))'
  id: totrans-1866
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.searchsorted()` 和 [`Series.searchsorted()`](../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted
    "pandas.Series.searchsorted") 现在将`v`参数重命名为`value`（[GH 14645](https://github.com/pandas-dev/pandas/issues/14645)）'
- en: '`pandas.parser`, `pandas.lib`, and `pandas.tslib` have been removed ([GH 15537](https://github.com/pandas-dev/pandas/issues/15537))'
  id: totrans-1867
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.parser`、`pandas.lib`和`pandas.tslib`已被移除（[GH 15537](https://github.com/pandas-dev/pandas/issues/15537)）'
- en: '[`Index.searchsorted()`](../reference/api/pandas.Index.searchsorted.html#pandas.Index.searchsorted
    "pandas.Index.searchsorted") have renamed the `key` argument to `value` ([GH 14645](https://github.com/pandas-dev/pandas/issues/14645))'
  id: totrans-1868
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.searchsorted()`](../reference/api/pandas.Index.searchsorted.html#pandas.Index.searchsorted
    "pandas.Index.searchsorted") 现在将`key`参数重命名为`value`（[GH 14645](https://github.com/pandas-dev/pandas/issues/14645)）'
- en: '`DataFrame.consolidate` and `Series.consolidate` have been removed ([GH 15501](https://github.com/pandas-dev/pandas/issues/15501))'
  id: totrans-1869
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.consolidate` 和 `Series.consolidate` 已被移除（[GH 15501](https://github.com/pandas-dev/pandas/issues/15501)）'
- en: Removal of the previously deprecated module `pandas.json` ([GH 19944](https://github.com/pandas-dev/pandas/issues/19944))
  id: totrans-1870
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移除了先前废弃的模块`pandas.json`（[GH 19944](https://github.com/pandas-dev/pandas/issues/19944)）
- en: The module `pandas.tools` has been removed ([GH 15358](https://github.com/pandas-dev/pandas/issues/15358),
    [GH 16005](https://github.com/pandas-dev/pandas/issues/16005))
  id: totrans-1871
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模块`pandas.tools`已被移除（[GH 15358](https://github.com/pandas-dev/pandas/issues/15358),
    [GH 16005](https://github.com/pandas-dev/pandas/issues/16005)）
- en: '`SparseArray.get_values()` and `SparseArray.to_dense()` have dropped the `fill`
    parameter ([GH 14686](https://github.com/pandas-dev/pandas/issues/14686))'
  id: totrans-1872
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.get_values()` 和 `SparseArray.to_dense()` 已删除`fill`参数（[GH 14686](https://github.com/pandas-dev/pandas/issues/14686)）'
- en: '`DataFrame.sortlevel` and `Series.sortlevel` have been removed ([GH 15099](https://github.com/pandas-dev/pandas/issues/15099))'
  id: totrans-1873
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.sortlevel` 和 `Series.sortlevel` 已被移除（[GH 15099](https://github.com/pandas-dev/pandas/issues/15099)）'
- en: '`SparseSeries.to_dense()` has dropped the `sparse_only` parameter ([GH 14686](https://github.com/pandas-dev/pandas/issues/14686))'
  id: totrans-1874
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.to_dense()` 已删除`sparse_only`参数（[GH 14686](https://github.com/pandas-dev/pandas/issues/14686)）'
- en: '[`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") and [`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") have renamed the `raise_on_error` argument to `errors`
    ([GH 14967](https://github.com/pandas-dev/pandas/issues/14967))'
  id: totrans-1875
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype")和[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype")已将`raise_on_error`参数重命名���`errors`（[GH 14967](https://github.com/pandas-dev/pandas/issues/14967))'
- en: '`is_sequence`, `is_any_int_dtype`, and `is_floating_dtype` have been removed
    from `pandas.api.types` ([GH 16163](https://github.com/pandas-dev/pandas/issues/16163),
    [GH 16189](https://github.com/pandas-dev/pandas/issues/16189))'
  id: totrans-1876
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`is_sequence`、`is_any_int_dtype`和`is_floating_dtype`已从`pandas.api.types`中移除（[GH
    16163](https://github.com/pandas-dev/pandas/issues/16163), [GH 16189](https://github.com/pandas-dev/pandas/issues/16189))'
- en: '## Performance improvements'
  id: totrans-1877
  prefs: []
  type: TYPE_NORMAL
  zh: '## 性能改进'
- en: Slicing Series and DataFrames with an monotonically increasing [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") is now very fast and has speed comparable to slicing
    with an `Int64Index`. The speed increase is both when indexing by label (using
    .loc) and position(.iloc) ([GH 20395](https://github.com/pandas-dev/pandas/issues/20395))
    Slicing a monotonically increasing [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") itself (i.e. `ci[1000:2000]`) shows similar speed improvements
    as above ([GH 21659](https://github.com/pandas-dev/pandas/issues/21659))
  id: totrans-1878
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用单调递增的[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")对Series和DataFrames进行切片现在非常快速，并且速度与使用`Int64Index`进行切片相当。在按标签索引（使用.loc）和位置索引（.iloc）时，速度都有所提高（[GH
    20395](https://github.com/pandas-dev/pandas/issues/20395)) 对单调递增的[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")本身进行切片（即`ci[1000:2000]`）显示出与上述类似的速度改进（[GH 21659](https://github.com/pandas-dev/pandas/issues/21659))
- en: Improved performance of [`CategoricalIndex.equals()`](../reference/api/pandas.CategoricalIndex.equals.html#pandas.CategoricalIndex.equals
    "pandas.CategoricalIndex.equals") when comparing to another [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") ([GH 24023](https://github.com/pandas-dev/pandas/issues/24023))
  id: totrans-1879
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了[`CategoricalIndex.equals()`](../reference/api/pandas.CategoricalIndex.equals.html#pandas.CategoricalIndex.equals
    "pandas.CategoricalIndex.equals")在与另一个[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")比较时的性能（[GH 24023](https://github.com/pandas-dev/pandas/issues/24023))
- en: Improved performance of [`Series.describe()`](../reference/api/pandas.Series.describe.html#pandas.Series.describe
    "pandas.Series.describe") in case of numeric dtpyes ([GH 21274](https://github.com/pandas-dev/pandas/issues/21274))
  id: totrans-1880
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了[`Series.describe()`](../reference/api/pandas.Series.describe.html#pandas.Series.describe
    "pandas.Series.describe")在数值数据类型的情况下的性能（[GH 21274](https://github.com/pandas-dev/pandas/issues/21274))
- en: Improved performance of `GroupBy.rank()` when dealing with tied rankings ([GH
    21237](https://github.com/pandas-dev/pandas/issues/21237))
  id: totrans-1881
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 处理并列排名时，改进了`GroupBy.rank()`的性能（[GH 21237](https://github.com/pandas-dev/pandas/issues/21237))
- en: Improved performance of [`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index") with columns consisting of [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") objects ([GH 21582](https://github.com/pandas-dev/pandas/issues/21582),
    [GH 21606](https://github.com/pandas-dev/pandas/issues/21606))
  id: totrans-1882
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了[`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index")在由[`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period")对象组成的列上的性能（[GH 21582](https://github.com/pandas-dev/pandas/issues/21582),
    [GH 21606](https://github.com/pandas-dev/pandas/issues/21606))
- en: Improved performance of [`Series.at()`](../reference/api/pandas.Series.at.html#pandas.Series.at
    "pandas.Series.at") and `Index.get_value()` for Extension Arrays values (e.g.
    [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical "pandas.Categorical"))
    ([GH 24204](https://github.com/pandas-dev/pandas/issues/24204))
  id: totrans-1883
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了[`Series.at()`](../reference/api/pandas.Series.at.html#pandas.Series.at "pandas.Series.at")和`Index.get_value()`在扩展数组值（例如[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")）上的性能（[GH 24204](https://github.com/pandas-dev/pandas/issues/24204))
- en: Improved performance of membership checks in [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") and [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") (i.e. `x in cat`-style checks are much faster). `CategoricalIndex.contains()`
    is likewise much faster ([GH 21369](https://github.com/pandas-dev/pandas/issues/21369),
    [GH 21508](https://github.com/pandas-dev/pandas/issues/21508))
  id: totrans-1884
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了在[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")和[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")中的成员检查的性能（即`x in cat`形式的检查更快）。`CategoricalIndex.contains()`同样更快了（[GH
    21369](https://github.com/pandas-dev/pandas/issues/21369), [GH 21508](https://github.com/pandas-dev/pandas/issues/21508))
- en: Improved performance of [`HDFStore.groups()`](../reference/api/pandas.HDFStore.groups.html#pandas.HDFStore.groups
    "pandas.HDFStore.groups") (and dependent functions like [`HDFStore.keys()`](../reference/api/pandas.HDFStore.keys.html#pandas.HDFStore.keys
    "pandas.HDFStore.keys"). (i.e. `x in store` checks are much faster) ([GH 21372](https://github.com/pandas-dev/pandas/issues/21372))
  id: totrans-1885
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了[`HDFStore.groups()`](../reference/api/pandas.HDFStore.groups.html#pandas.HDFStore.groups
    "pandas.HDFStore.groups")（以及类似[`HDFStore.keys()`](../reference/api/pandas.HDFStore.keys.html#pandas.HDFStore.keys
    "pandas.HDFStore.keys")的依赖函数的性能（即`x in store`检查更快了）（[GH 21372](https://github.com/pandas-dev/pandas/issues/21372))
- en: Improved the performance of [`pandas.get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") with `sparse=True` ([GH 21997](https://github.com/pandas-dev/pandas/issues/21997))
  id: totrans-1886
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了带有`sparse=True`参数的[`pandas.get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies")的性能（[GH 21997](https://github.com/pandas-dev/pandas/issues/21997))
- en: Improved performance of `IndexEngine.get_indexer_non_unique()` for sorted, non-unique
    indexes ([GH 9466](https://github.com/pandas-dev/pandas/issues/9466))
  id: totrans-1887
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了对已排序、非唯一索引的`IndexEngine.get_indexer_non_unique()`的性能（[GH 9466](https://github.com/pandas-dev/pandas/issues/9466))
- en: Improved performance of `PeriodIndex.unique()` ([GH 23083](https://github.com/pandas-dev/pandas/issues/23083))
  id: totrans-1888
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了`PeriodIndex.unique()`的性能（[GH 23083](https://github.com/pandas-dev/pandas/issues/23083))
- en: Improved performance of [`concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") for `Series` objects ([GH 23404](https://github.com/pandas-dev/pandas/issues/23404))
  id: totrans-1889
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了对`Series`对象的[`concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat")的性能（[GH 23404](https://github.com/pandas-dev/pandas/issues/23404))
- en: Improved performance of [`DatetimeIndex.normalize()`](../reference/api/pandas.DatetimeIndex.normalize.html#pandas.DatetimeIndex.normalize
    "pandas.DatetimeIndex.normalize") and [`Timestamp.normalize()`](../reference/api/pandas.Timestamp.normalize.html#pandas.Timestamp.normalize
    "pandas.Timestamp.normalize") for timezone naive or UTC datetimes ([GH 23634](https://github.com/pandas-dev/pandas/issues/23634))
  id: totrans-1890
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了对时区无关或UTC日期时间的[`DatetimeIndex.normalize()`](../reference/api/pandas.DatetimeIndex.normalize.html#pandas.DatetimeIndex.normalize
    "pandas.DatetimeIndex.normalize")和[`Timestamp.normalize()`](../reference/api/pandas.Timestamp.normalize.html#pandas.Timestamp.normalize
    "pandas.Timestamp.normalize")的性能（[GH 23634](https://github.com/pandas-dev/pandas/issues/23634))
- en: Improved performance of [`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize") and various `DatetimeIndex` attributes with
    dateutil UTC timezone ([GH 23772](https://github.com/pandas-dev/pandas/issues/23772))
  id: totrans-1891
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了带有dateutil UTC时区的[`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize")和各种`DatetimeIndex`属性的性能（[GH 23772](https://github.com/pandas-dev/pandas/issues/23772))
- en: Fixed a performance regression on Windows with Python 3.7 of [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") ([GH 23516](https://github.com/pandas-dev/pandas/issues/23516))
  id: totrans-1892
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了Windows上Python 3.7版本的[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")的性能回归问题（[GH 23516](https://github.com/pandas-dev/pandas/issues/23516))
- en: Improved performance of [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") constructor for `Series` objects ([GH 23814](https://github.com/pandas-dev/pandas/issues/23814))
  id: totrans-1893
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了对`Series`对象的[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")构造器的性能（[GH 23814](https://github.com/pandas-dev/pandas/issues/23814))
- en: Improved performance of [`where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") for Categorical data ([GH 24077](https://github.com/pandas-dev/pandas/issues/24077))
  id: totrans-1894
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了对分类数据的[`where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where")的性能（[GH 24077](https://github.com/pandas-dev/pandas/issues/24077))
- en: Improved performance of iterating over a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series"). Using [`DataFrame.itertuples()`](../reference/api/pandas.DataFrame.itertuples.html#pandas.DataFrame.itertuples
    "pandas.DataFrame.itertuples") now creates iterators without internally allocating
    lists of all elements ([GH 20783](https://github.com/pandas-dev/pandas/issues/20783))
  id: totrans-1895
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了迭代[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")的性能。现在使用[`DataFrame.itertuples()`](../reference/api/pandas.DataFrame.itertuples.html#pandas.DataFrame.itertuples
    "pandas.DataFrame.itertuples")创建迭代器时不再内部分配所有元素的列表（[GH 20783](https://github.com/pandas-dev/pandas/issues/20783)）
- en: Improved performance of [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") constructor, additionally benefitting `PeriodArray` and `PeriodIndex`
    creation ([GH 24084](https://github.com/pandas-dev/pandas/issues/24084), [GH 24118](https://github.com/pandas-dev/pandas/issues/24118))
  id: totrans-1896
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了[`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")构造函数的性能，同时也有益于`PeriodArray`和`PeriodIndex`的创建（[GH
    24084](https://github.com/pandas-dev/pandas/issues/24084)，[GH 24118](https://github.com/pandas-dev/pandas/issues/24118)）
- en: Improved performance of tz-aware `DatetimeArray` binary operations ([GH 24491](https://github.com/pandas-dev/pandas/issues/24491))
  id: totrans-1897
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提高了带时区感知的`DatetimeArray`二进制操作的性能（[GH 24491](https://github.com/pandas-dev/pandas/issues/24491)）
- en: '## Bug fixes'
  id: totrans-1898
  prefs: []
  type: TYPE_NORMAL
  zh: '## 问题修复'
- en: Categorical
  id: totrans-1899
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Categorical
- en: Bug in [`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes") where `NaN` values in `codes` were silently converted
    to `0` ([GH 21767](https://github.com/pandas-dev/pandas/issues/21767)). In the
    future this will raise a `ValueError`. Also changes the behavior of `.from_codes([1.1,
    2.0])`.
  id: totrans-1900
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes")存在错误，`codes`中的`NaN`值会被静默转换为`0`（[GH 21767](https://github.com/pandas-dev/pandas/issues/21767)）。将来会引发`ValueError`。还更改了`.from_codes([1.1,
    2.0])`的行为。'
- en: Bug in `Categorical.sort_values()` where `NaN` values were always positioned
    in front regardless of `na_position` value. ([GH 22556](https://github.com/pandas-dev/pandas/issues/22556)).
  id: totrans-1901
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.sort_values()`中存在错误，无论`na_position`值如何，`NaN`值总是位于前面。（[GH 22556](https://github.com/pandas-dev/pandas/issues/22556)）。'
- en: Bug when indexing with a boolean-valued `Categorical`. Now a boolean-valued
    `Categorical` is treated as a boolean mask ([GH 22665](https://github.com/pandas-dev/pandas/issues/22665))
  id: totrans-1902
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用布尔值`Categorical`进行索引时存在错误。现在将布尔值`Categorical`视为布尔掩码处理（[GH 22665](https://github.com/pandas-dev/pandas/issues/22665)）
- en: Constructing a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") with empty values and boolean categories was raising
    a `ValueError` after a change to dtype coercion ([GH 22702](https://github.com/pandas-dev/pandas/issues/22702)).
  id: totrans-1903
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用空值和布尔类别构建[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")在dtype强制转换更改后会引发`ValueError`（[GH 22702](https://github.com/pandas-dev/pandas/issues/22702))。
- en: Bug in `Categorical.take()` with a user-provided `fill_value` not encoding the
    `fill_value`, which could result in a `ValueError`, incorrect results, or a segmentation
    fault ([GH 23296](https://github.com/pandas-dev/pandas/issues/23296)).
  id: totrans-1904
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.take()`中存在错误，使用用户提供的`fill_value`不会对`fill_value`进行编码，这可能导致`ValueError`、不正确的结果或段错误（[GH
    23296](https://github.com/pandas-dev/pandas/issues/23296)）。'
- en: In [`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack"), specifying a `fill_value` not present in the categories
    now raises a `TypeError` rather than ignoring the `fill_value` ([GH 23284](https://github.com/pandas-dev/pandas/issues/23284))
  id: totrans-1905
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack")中，指定一个不存在于类别中的`fill_value`现在会引发`TypeError`，而不是忽略`fill_value`（[GH
    23284](https://github.com/pandas-dev/pandas/issues/23284)）
- en: Bug when resampling [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") and aggregating on categorical data, the categorical
    dtype was getting lost. ([GH 23227](https://github.com/pandas-dev/pandas/issues/23227))
  id: totrans-1906
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在分类数据上重新采样[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample")并聚合时，分类dtype会丢失。([GH 23227](https://github.com/pandas-dev/pandas/issues/23227))
- en: Bug in many methods of the `.str`-accessor, which always failed on calling the
    `CategoricalIndex.str` constructor ([GH 23555](https://github.com/pandas-dev/pandas/issues/23555),
    [GH 23556](https://github.com/pandas-dev/pandas/issues/23556))
  id: totrans-1907
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多种方法中的`.str`访问器存在错误，调用`CategoricalIndex.str`构造函数总是失败（[GH 23555](https://github.com/pandas-dev/pandas/issues/23555)，[GH
    23556](https://github.com/pandas-dev/pandas/issues/23556)）
- en: Bug in [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") losing the categorical dtype for categorical data ([GH
    24077](https://github.com/pandas-dev/pandas/issues/24077))
  id: totrans-1908
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where")中的一个bug，对分类数据丢失了分类dtype（[GH 24077](https://github.com/pandas-dev/pandas/issues/24077)）'
- en: Bug in `Categorical.apply()` where `NaN` values could be handled unpredictably.
    They now remain unchanged ([GH 24241](https://github.com/pandas-dev/pandas/issues/24241))
  id: totrans-1909
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.apply()`中的一个bug，`NaN`值可能会被不可预测地处理。现在它们保持不变（[GH 24241](https://github.com/pandas-dev/pandas/issues/24241)）'
- en: Bug in [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") comparison methods incorrectly raising `ValueError` when
    operating against a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 24630](https://github.com/pandas-dev/pandas/issues/24630))
  id: totrans-1910
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")比较方法中的一个bug，在与[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")进行操作时错误地引发`ValueError`（[GH 24630](https://github.com/pandas-dev/pandas/issues/24630)）'
- en: Bug in `Categorical.set_categories()` where setting fewer new categories with
    `rename=True` caused a segmentation fault ([GH 24675](https://github.com/pandas-dev/pandas/issues/24675))
  id: totrans-1911
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.set_categories()`中的一个bug，使用`rename=True`设置较少的新类别导致段错误（[GH 24675](https://github.com/pandas-dev/pandas/issues/24675))'
- en: Datetimelike
  id: totrans-1912
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Datetimelike
- en: Fixed bug where two `DateOffset` objects with different `normalize` attributes
    could evaluate as equal ([GH 21404](https://github.com/pandas-dev/pandas/issues/21404))
  id: totrans-1913
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了两个具有不同`normalize`属性的`DateOffset`对象可能被评估为相等的bug（[GH 21404](https://github.com/pandas-dev/pandas/issues/21404)）
- en: Fixed bug where [`Timestamp.resolution()`](../reference/api/pandas.Timestamp.resolution.html#pandas.Timestamp.resolution
    "pandas.Timestamp.resolution") incorrectly returned 1-microsecond `timedelta`
    instead of 1-nanosecond [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") ([GH 21336](https://github.com/pandas-dev/pandas/issues/21336),
    [GH 21365](https://github.com/pandas-dev/pandas/issues/21365))
  id: totrans-1914
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`Timestamp.resolution()`](../reference/api/pandas.Timestamp.resolution.html#pandas.Timestamp.resolution
    "pandas.Timestamp.resolution")错误地返回1微秒`timedelta`而不是1纳秒[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")的bug（[GH 21336](https://github.com/pandas-dev/pandas/issues/21336),
    [GH 21365](https://github.com/pandas-dev/pandas/issues/21365)）
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") that did not consistently return an [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") when `box=True` was specified ([GH 21864](https://github.com/pandas-dev/pandas/issues/21864))
  id: totrans-1915
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中的一个bug，当指定`box=True`时未始终返回一个[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")（[GH 21864](https://github.com/pandas-dev/pandas/issues/21864)）'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") comparisons where string comparisons incorrectly raises
    `TypeError` ([GH 22074](https://github.com/pandas-dev/pandas/issues/22074))
  id: totrans-1916
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")比较中的一个bug，字符串比较错误地引发`TypeError`（[GH 22074](https://github.com/pandas-dev/pandas/issues/22074)）'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") comparisons when comparing against `timedelta64[ns]` dtyped
    arrays; in some cases `TypeError` was incorrectly raised, in others it incorrectly
    failed to raise ([GH 22074](https://github.com/pandas-dev/pandas/issues/22074))
  id: totrans-1917
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")比较中的一个bug，与`timedelta64[ns]`数据类型数组进行比较时；在某些情况下错误地引发`TypeError`，在其他情况下错误地未引发（[GH
    22074](https://github.com/pandas-dev/pandas/issues/22074)）'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") comparisons when comparing against object-dtyped arrays
    ([GH 22074](https://github.com/pandas-dev/pandas/issues/22074))
  id: totrans-1918
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")比较中的一个bug，与对象数据类型数组进行比较时（[GH 22074](https://github.com/pandas-dev/pandas/issues/22074)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` dtype addition and subtraction with
    `Timedelta`-like objects ([GH 22005](https://github.com/pandas-dev/pandas/issues/22005),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-1919
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")中的一个bug，`datetime64[ns]`类型的加减与`Timedelta`类似对象时出现问题（[GH
    22005](https://github.com/pandas-dev/pandas/issues/22005), [GH 22163](https://github.com/pandas-dev/pandas/issues/22163)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` dtype addition and subtraction with
    `DateOffset` objects returning an `object` dtype instead of `datetime64[ns]` dtype
    ([GH 21610](https://github.com/pandas-dev/pandas/issues/21610), [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-1920
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    中 `datetime64[ns]` 类型的 Bug 在使用 `DateOffset` 对象进行加减法时返回 `object` 类型，而不是 `datetime64[ns]`
    类型（[GH 21610](https://github.com/pandas-dev/pandas/issues/21610)，[GH 22163](https://github.com/pandas-dev/pandas/issues/22163)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` dtype comparing against `NaT` incorrectly
    ([GH 22242](https://github.com/pandas-dev/pandas/issues/22242), [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-1921
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    中 `datetime64[ns]` 类型的 Bug 在与 `NaT` 进行比较时错误地返回（[GH 22242](https://github.com/pandas-dev/pandas/issues/22242)，[GH
    22163](https://github.com/pandas-dev/pandas/issues/22163)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` dtype subtracting `Timestamp`-like object
    incorrectly returned `datetime64[ns]` dtype instead of `timedelta64[ns]` dtype
    ([GH 8554](https://github.com/pandas-dev/pandas/issues/8554), [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-1922
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    中 `datetime64[ns]` 类型的 Bug 在减去 `Timestamp` 类对象时错误地返回 `datetime64[ns]` 类型，而不是 `timedelta64[ns]`
    类型（[GH 8554](https://github.com/pandas-dev/pandas/issues/8554)，[GH 22163](https://github.com/pandas-dev/pandas/issues/22163)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` dtype subtracting `np.datetime64` object
    with non-nanosecond unit failing to convert to nanoseconds ([GH 18874](https://github.com/pandas-dev/pandas/issues/18874),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-1923
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    中 `datetime64[ns]` 类型的 Bug 在减去具有非纳秒单位的 `np.datetime64` 对象时未能转换为纳秒单位（[GH 18874](https://github.com/pandas-dev/pandas/issues/18874)，[GH
    22163](https://github.com/pandas-dev/pandas/issues/22163)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") comparisons against `Timestamp`-like objects failing to raise
    `TypeError` for inequality checks with mismatched types ([GH 8932](https://github.com/pandas-dev/pandas/issues/8932),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-1924
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    中与 `Timestamp` 类对象进行比较的 Bug 未能对类型不匹配的不等式检查引发 `TypeError`（[GH 8932](https://github.com/pandas-dev/pandas/issues/8932)，[GH
    22163](https://github.com/pandas-dev/pandas/issues/22163)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with mixed dtypes including `datetime64[ns]` incorrectly raising
    `TypeError` on equality comparisons ([GH 13128](https://github.com/pandas-dev/pandas/issues/13128),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-1925
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    中包含混合类型（包括 `datetime64[ns]`）的 Bug 在进行相等比较时错误地引发 `TypeError`（[GH 13128](https://github.com/pandas-dev/pandas/issues/13128)，[GH
    22163](https://github.com/pandas-dev/pandas/issues/22163)）'
- en: Bug in [`DataFrame.values`](../reference/api/pandas.DataFrame.values.html#pandas.DataFrame.values
    "pandas.DataFrame.values") returning a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") for a single-column `DataFrame` with tz-aware datetime
    values. Now a 2-D [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)") of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") objects is returned ([GH 24024](https://github.com/pandas-dev/pandas/issues/24024))
  id: totrans-1926
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.values`](../reference/api/pandas.DataFrame.values.html#pandas.DataFrame.values
    "pandas.DataFrame.values") 中的 Bug 在具有带时区的日期时间值的单列 `DataFrame` 上返回一个 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")。现在返回一个由 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 对象组成的二维 [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray)（在
    NumPy v1.26 中）（[GH 24024](https://github.com/pandas-dev/pandas/issues/24024)）'
- en: Bug in [`DataFrame.eq()`](../reference/api/pandas.DataFrame.eq.html#pandas.DataFrame.eq
    "pandas.DataFrame.eq") comparison against `NaT` incorrectly returning `True` or
    `NaN` ([GH 15697](https://github.com/pandas-dev/pandas/issues/15697), [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-1927
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.eq()`](../reference/api/pandas.DataFrame.eq.html#pandas.DataFrame.eq
    "pandas.DataFrame.eq") 中的 Bug 在与 `NaT` 进行比较时错误地返回 `True` 或 `NaN`（[GH 15697](https://github.com/pandas-dev/pandas/issues/15697)，[GH
    22163](https://github.com/pandas-dev/pandas/issues/22163)）'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") subtraction that incorrectly failed to raise `OverflowError`
    ([GH 22492](https://github.com/pandas-dev/pandas/issues/22492), [GH 22508](https://github.com/pandas-dev/pandas/issues/22508))
  id: totrans-1928
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 减法存在错误，错误地未能引发 `OverflowError`（[GH 22492](https://github.com/pandas-dev/pandas/issues/22492),
    [GH 22508](https://github.com/pandas-dev/pandas/issues/22508))。'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") incorrectly allowing indexing with `Timedelta` object
    ([GH 20464](https://github.com/pandas-dev/pandas/issues/20464))
  id: totrans-1929
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 存在错误，错误地允许使用 `Timedelta` 对象进行索引（[GH 20464](https://github.com/pandas-dev/pandas/issues/20464))。'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where frequency was being set if original frequency was
    `None` ([GH 22150](https://github.com/pandas-dev/pandas/issues/22150))
  id: totrans-1930
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 存在错误，如果原始频率为 `None`，则设置了频率（[GH 22150](https://github.com/pandas-dev/pandas/issues/22150))。'
- en: Bug in rounding methods of [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([`round()`](../reference/api/pandas.DatetimeIndex.round.html#pandas.DatetimeIndex.round
    "pandas.DatetimeIndex.round"), [`ceil()`](../reference/api/pandas.DatetimeIndex.ceil.html#pandas.DatetimeIndex.ceil
    "pandas.DatetimeIndex.ceil"), [`floor()`](../reference/api/pandas.DatetimeIndex.floor.html#pandas.DatetimeIndex.floor
    "pandas.DatetimeIndex.floor")) and [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") ([`round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round"), [`ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil"), [`floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor")) could give rise to loss of precision ([GH 22591](https://github.com/pandas-dev/pandas/issues/22591))
  id: totrans-1931
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 的四舍五入方法（[`round()`](../reference/api/pandas.DatetimeIndex.round.html#pandas.DatetimeIndex.round
    "pandas.DatetimeIndex.round"), [`ceil()`](../reference/api/pandas.DatetimeIndex.ceil.html#pandas.DatetimeIndex.ceil
    "pandas.DatetimeIndex.ceil"), [`floor()`](../reference/api/pandas.DatetimeIndex.floor.html#pandas.DatetimeIndex.floor
    "pandas.DatetimeIndex.floor")）和 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 的四舍五入方法（[`round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round"), [`ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil"), [`floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor")）可能导致精度丢失（[GH 22591](https://github.com/pandas-dev/pandas/issues/22591))。'
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") with an [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") argument that would drop the `name` from the result ([GH 21697](https://github.com/pandas-dev/pandas/issues/21697))
  id: totrans-1932
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 存在错误，使用 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 参数时，会丢失结果的 `name`（[GH 21697](https://github.com/pandas-dev/pandas/issues/21697))。'
- en: Bug in [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") where adding or subtracting a `timedelta` or `Tick` object
    produced incorrect results ([GH 22988](https://github.com/pandas-dev/pandas/issues/22988))
  id: totrans-1933
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 存在错误，在添加或减去 `timedelta` 或 `Tick` 对象时产生不正确的结果（[GH 22988](https://github.com/pandas-dev/pandas/issues/22988))。'
- en: Bug in the [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    repr with period-dtype data missing a space before the data ([GH 23601](https://github.com/pandas-dev/pandas/issues/23601))
  id: totrans-1934
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    的 repr 中存在错误，周期类型数据在数据之前缺少一个空格（[GH 23601](https://github.com/pandas-dev/pandas/issues/23601))。'
- en: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") when decrementing a start date to a past end date by a negative
    frequency ([GH 23270](https://github.com/pandas-dev/pandas/issues/23270))
  id: totrans-1935
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") 出现错误，当将起始日期递减到过去的结束日期时，使用负频率（[GH 23270](https://github.com/pandas-dev/pandas/issues/23270))。'
- en: Bug in [`Series.min()`](../reference/api/pandas.Series.min.html#pandas.Series.min
    "pandas.Series.min") which would return `NaN` instead of `NaT` when called on
    a series of `NaT` ([GH 23282](https://github.com/pandas-dev/pandas/issues/23282))
  id: totrans-1936
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Series.min()`](../reference/api/pandas.Series.min.html#pandas.Series.min
    "pandas.Series.min")，当在`NaT`系列上调用时，会返回`NaN`而不是`NaT`（[GH 23282](https://github.com/pandas-dev/pandas/issues/23282)）
- en: Bug in [`Series.combine_first()`](../reference/api/pandas.Series.combine_first.html#pandas.Series.combine_first
    "pandas.Series.combine_first") not properly aligning categoricals, so that missing
    values in `self` where not filled by valid values from `other` ([GH 24147](https://github.com/pandas-dev/pandas/issues/24147))
  id: totrans-1937
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Series.combine_first()`](../reference/api/pandas.Series.combine_first.html#pandas.Series.combine_first
    "pandas.Series.combine_first")，未正确对齐分类变量，导致`self`中的缺失值未被`other`中的有效值填充（[GH 24147](https://github.com/pandas-dev/pandas/issues/24147)）
- en: Bug in [`DataFrame.combine()`](../reference/api/pandas.DataFrame.combine.html#pandas.DataFrame.combine
    "pandas.DataFrame.combine") with datetimelike values raising a TypeError ([GH
    23079](https://github.com/pandas-dev/pandas/issues/23079))
  id: totrans-1938
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.combine()`](../reference/api/pandas.DataFrame.combine.html#pandas.DataFrame.combine
    "pandas.DataFrame.combine")，具有日期时间值时会引发TypeError错误（[GH 23079](https://github.com/pandas-dev/pandas/issues/23079))
- en: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") with frequency of `Day` or higher where dates sufficiently
    far in the future could wrap around to the past instead of raising `OutOfBoundsDatetime`
    ([GH 14187](https://github.com/pandas-dev/pandas/issues/14187))
  id: totrans-1939
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range")，当频率为`Day`或更高时，未来足够远的日期可能会回到过去，而不是引发`OutOfBoundsDatetime`错误（[GH
    14187](https://github.com/pandas-dev/pandas/issues/14187)）
- en: Bug in [`period_range()`](../reference/api/pandas.period_range.html#pandas.period_range
    "pandas.period_range") ignoring the frequency of `start` and `end` when those
    are provided as [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    objects ([GH 20535](https://github.com/pandas-dev/pandas/issues/20535)).
  id: totrans-1940
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`period_range()`](../reference/api/pandas.period_range.html#pandas.period_range
    "pandas.period_range")，当提供`start`和`end`作为[`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period")对象时，会忽略频率（[GH 20535](https://github.com/pandas-dev/pandas/issues/20535)）
- en: Bug in [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") with attribute `freq.n` greater than 1 where adding a `DateOffset`
    object would return incorrect results ([GH 23215](https://github.com/pandas-dev/pandas/issues/23215))
  id: totrans-1941
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")，当属性`freq.n`大于1时，添加`DateOffset`对象会返回不正确的结果（[GH 23215](https://github.com/pandas-dev/pandas/issues/23215)）
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    that interpreted string indices as lists of characters when setting datetimelike
    values ([GH 23451](https://github.com/pandas-dev/pandas/issues/23451))
  id: totrans-1942
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")，在设置类似日期时间的值时，将字符串索引解释为字符列表（[GH
    23451](https://github.com/pandas-dev/pandas/issues/23451)）
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") when creating a new column from an ndarray of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") objects with timezones creating an object-dtype column, rather
    than datetime with timezone ([GH 23932](https://github.com/pandas-dev/pandas/issues/23932))
  id: totrans-1943
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")，从带有时区的[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")对象的ndarray创建新列时，会创建一个对象dtype列，而不是带有时区的datetime列（[GH 23932](https://github.com/pandas-dev/pandas/issues/23932)）
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") constructor which would drop the frequency of an input [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") ([GH 22311](https://github.com/pandas-dev/pandas/issues/22311))
  id: totrans-1944
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")构造函数，会丢弃输入[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")的频率（[GH 22311](https://github.com/pandas-dev/pandas/issues/22311)）
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where calling `np.array(dtindex, dtype=object)` would
    incorrectly return an array of `long` objects ([GH 23524](https://github.com/pandas-dev/pandas/issues/23524))
  id: totrans-1945
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")，调用`np.array(dtindex, dtype=object)`会错误地返回一个`long`对象数组（[GH
    23524](https://github.com/pandas-dev/pandas/issues/23524)）
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    where passing a timezone-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and `dtype=object` would incorrectly raise a `ValueError`
    ([GH 23524](https://github.com/pandas-dev/pandas/issues/23524))
  id: totrans-1946
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")中存在一个错误，当传递一个带有时区信息的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和`dtype=object`时，会错误地引发`ValueError`（[GH 23524](https://github.com/pandas-dev/pandas/issues/23524)）
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    where calling `np.array(dtindex, dtype=object)` on a timezone-naive [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") would return an array of `datetime` objects instead of
    [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    objects, potentially losing nanosecond portions of the timestamps ([GH 23524](https://github.com/pandas-dev/pandas/issues/23524))
  id: totrans-1947
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")中存在一个错误，当对一个没有时区信息的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")调用`np.array(dtindex, dtype=object)`时，会返回一个`datetime`对象数组而不是[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")对象数组，可能会丢失时间戳的纳秒部分（[GH 23524](https://github.com/pandas-dev/pandas/issues/23524)）
- en: Bug in `Categorical.__setitem__` not allowing setting with another `Categorical`
    when both are unordered and have the same categories, but in a different order
    ([GH 24142](https://github.com/pandas-dev/pandas/issues/24142))
  id: totrans-1948
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.__setitem__`中存在一个错误，当两者都是无序的且具有相同的类别但顺序不同的`Categorical`时，不允许使用另一个`Categorical`进行设置（[GH
    24142](https://github.com/pandas-dev/pandas/issues/24142)）'
- en: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") where using dates with millisecond resolution or higher could
    return incorrect values or the wrong number of values in the index ([GH 24110](https://github.com/pandas-dev/pandas/issues/24110))
  id: totrans-1949
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range")中存在一个错误，使用毫秒或更高分辨率的日期可能会返回不正确的值或索引中的值数量不正确（[GH 24110](https://github.com/pandas-dev/pandas/issues/24110)）
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where constructing a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") from a [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") or [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") would incorrectly drop timezone information ([GH 18664](https://github.com/pandas-dev/pandas/issues/18664))
  id: totrans-1950
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")中存在一个错误，从[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")或[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")构造一个[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")会错误地丢失时区信息（[GH 18664](https://github.com/pandas-dev/pandas/issues/18664)）
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where indexing with `Ellipsis` would incorrectly lose
    the index’s `freq` attribute ([GH 21282](https://github.com/pandas-dev/pandas/issues/21282))
  id: totrans-1951
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")和[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中存在一个错误，使用`Ellipsis`进行索引会错误地丢失索引的`freq`属性（[GH 21282](https://github.com/pandas-dev/pandas/issues/21282)）
- en: Clarified error message produced when passing an incorrect `freq` argument to
    [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with `NaT` as the first entry in the passed data ([GH
    11587](https://github.com/pandas-dev/pandas/issues/11587))
  id: totrans-1952
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当将错误的`freq`参数传递给[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")并且在传递的数据中将`NaT`作为第一个条目时，会产生明确的错误消息（[GH 11587](https://github.com/pandas-dev/pandas/issues/11587)）
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where `box` and `utc` arguments were ignored when passing
    a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    or `dict` of unit mappings ([GH 23760](https://github.com/pandas-dev/pandas/issues/23760))
  id: totrans-1953
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中存在一个错误，当传递一个[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")或单位映射的`dict`时，会忽略`box`和`utc`参数（[GH 23760](https://github.com/pandas-dev/pandas/issues/23760)）
- en: Bug in [`Series.dt`](../reference/api/pandas.Series.dt.html#pandas.Series.dt
    "pandas.Series.dt") where the cache would not update properly after an in-place
    operation ([GH 24408](https://github.com/pandas-dev/pandas/issues/24408))
  id: totrans-1954
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.dt`](../reference/api/pandas.Series.dt.html#pandas.Series.dt "pandas.Series.dt")
    中的一个错误，其中缓存在原地操作后不会正确更新 ([GH 24408](https://github.com/pandas-dev/pandas/issues/24408))'
- en: Bug in [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") where comparisons against an array-like object with length
    1 failed to raise `ValueError` ([GH 23078](https://github.com/pandas-dev/pandas/issues/23078))
  id: totrans-1955
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 中的一个错误，与长度为 1 的类似数组对象进行比较时未能引发`ValueError` ([GH 23078](https://github.com/pandas-dev/pandas/issues/23078))'
- en: Bug in `DatetimeIndex.astype()`, `PeriodIndex.astype()` and `TimedeltaIndex.astype()`
    ignoring the sign of the `dtype` for unsigned integer dtypes ([GH 24405](https://github.com/pandas-dev/pandas/issues/24405)).
  id: totrans-1956
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.astype()`、`PeriodIndex.astype()` 和 `TimedeltaIndex.astype()`
    中的一个错误，忽略了无符号整数dtype的符号 ([GH 24405](https://github.com/pandas-dev/pandas/issues/24405))'
- en: Fixed bug in [`Series.max()`](../reference/api/pandas.Series.max.html#pandas.Series.max
    "pandas.Series.max") with `datetime64[ns]`-dtype failing to return `NaT` when
    nulls are present and `skipna=False` is passed ([GH 24265](https://github.com/pandas-dev/pandas/issues/24265))
  id: totrans-1957
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在具有 `datetime64[ns]`-dtype 时的[`Series.max()`](../reference/api/pandas.Series.max.html#pandas.Series.max
    "pandas.Series.max") 中的错误，当存在空值且传递了`skipna=False`时未能返回 `NaT` ([GH 24265](https://github.com/pandas-dev/pandas/issues/24265))
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where arrays of `datetime` objects containing both timezone-aware
    and timezone-naive `datetimes` would fail to raise `ValueError` ([GH 24569](https://github.com/pandas-dev/pandas/issues/24569))
  id: totrans-1958
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 中的一个错误，其中包含既包含时区感知又包含时区无关的`datetime`对象数组会导致未能引发`ValueError`
    ([GH 24569](https://github.com/pandas-dev/pandas/issues/24569))'
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") with invalid datetime format doesn’t coerce input to `NaT`
    even if `errors='coerce'` ([GH 24763](https://github.com/pandas-dev/pandas/issues/24763))
  id: totrans-1959
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在无效的日期时间格式的[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中，即使`errors='coerce'`，也不会强制将输入转换为`NaT` ([GH 24763](https://github.com/pandas-dev/pandas/issues/24763))
- en: Timedelta
  id: totrans-1960
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时间差
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `timedelta64[ns]` dtype division by `Timedelta`-like
    scalar incorrectly returning `timedelta64[ns]` dtype instead of `float64` dtype
    ([GH 20088](https://github.com/pandas-dev/pandas/issues/20088), [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-1961
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有 `timedelta64[ns]` dtype 的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 通过 `Timedelta`-like 标量进行除法时，错误地返回 `timedelta64[ns]` dtype
    而不是 `float64` dtype ([GH 20088](https://github.com/pandas-dev/pandas/issues/20088),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
- en: Bug in adding a [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    with object dtype to a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `timedelta64[ns]` dtype incorrectly raising ([GH 22390](https://github.com/pandas-dev/pandas/issues/22390))
  id: totrans-1962
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将带有对象dtype的[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")添加到具有`timedelta64[ns]`dtype的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时，错误地引发 ([GH 22390](https://github.com/pandas-dev/pandas/issues/22390))
- en: Bug in multiplying a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with numeric dtype against a `timedelta` object ([GH 22390](https://github.com/pandas-dev/pandas/issues/22390))
  id: totrans-1963
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将具有数值dtype的[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")与
    `timedelta` 对象相乘时出现错误 ([GH 22390](https://github.com/pandas-dev/pandas/issues/22390))
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    with numeric dtype when adding or subtracting an array or `Series` with `timedelta64`
    dtype ([GH 22390](https://github.com/pandas-dev/pandas/issues/22390))
  id: totrans-1964
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有数值dtype的[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")在将数组或具有
    `timedelta64` dtype 的`Series`添加或减去时出现错误 ([GH 22390](https://github.com/pandas-dev/pandas/issues/22390))
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    with numeric dtype when multiplying or dividing an array with dtype `timedelta64`
    ([GH 22390](https://github.com/pandas-dev/pandas/issues/22390))
  id: totrans-1965
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对具有数值dtype的[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")进行乘法或除法运算时，如果数组具有`timedelta64`
    dtype，则引发错误 ([GH 22390](https://github.com/pandas-dev/pandas/issues/22390))
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") incorrectly allowing indexing with `Timestamp` object
    ([GH 20464](https://github.com/pandas-dev/pandas/issues/20464))
  id: totrans-1966
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中的错误，错误地允许使用`Timestamp`对象进行索引（[GH 20464](https://github.com/pandas-dev/pandas/issues/20464))'
- en: Fixed bug where subtracting [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") from an object-dtyped array would raise `TypeError` ([GH 21980](https://github.com/pandas-dev/pandas/issues/21980))
  id: totrans-1967
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了从对象类型数组中减去[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")会引发`TypeError`的错误（[GH 21980](https://github.com/pandas-dev/pandas/issues/21980))
- en: Fixed bug in adding a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with all-timedelta64[ns] dtypes to a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with all-integer dtypes returning incorrect results instead
    of raising `TypeError` ([GH 22696](https://github.com/pandas-dev/pandas/issues/22696))
  id: totrans-1968
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了将所有-timedelta64[ns]数据类型的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")添加到所有整数数据类型的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")中返回不正确结果而不是引发`TypeError`的错误（[GH 22696](https://github.com/pandas-dev/pandas/issues/22696))
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where adding a timezone-aware datetime scalar incorrectly
    returned a timezone-naive [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 23215](https://github.com/pandas-dev/pandas/issues/23215))
  id: totrans-1969
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中的错误，添加时区感知的日期时间标量会错误地返回时区无关的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")（[GH 23215](https://github.com/pandas-dev/pandas/issues/23215))'
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where adding `np.timedelta64('NaT')` incorrectly returned
    an all-`NaT` [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") instead of an all-`NaT` [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") ([GH 23215](https://github.com/pandas-dev/pandas/issues/23215))
  id: totrans-1970
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")中的错误，添加`np.timedelta64(''NaT'')`错误地返回全部为`NaT`的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")而不是全部为`NaT`的[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")（[GH 23215](https://github.com/pandas-dev/pandas/issues/23215))'
- en: Bug in [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") and [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") have inconsistencies in supported unit string ([GH 21762](https://github.com/pandas-dev/pandas/issues/21762))
  id: totrans-1971
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta "pandas.Timedelta")和[`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta")中的错误，在支持的单位字符串上存在不一致性（[GH 21762](https://github.com/pandas-dev/pandas/issues/21762))'
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") division where dividing by another [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") raised `TypeError` instead of returning a `Float64Index`
    ([GH 23829](https://github.com/pandas-dev/pandas/issues/23829), [GH 22631](https://github.com/pandas-dev/pandas/issues/22631))
  id: totrans-1972
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")的除法错误，除以另一个[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")会引发`TypeError`而不是返回`Float64Index`（[GH 23829](https://github.com/pandas-dev/pandas/issues/23829),
    [GH 22631](https://github.com/pandas-dev/pandas/issues/22631))'
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") comparison operations where comparing against non-`Timedelta`-like
    objects would raise `TypeError` instead of returning all-`False` for `__eq__`
    and all-`True` for `__ne__` ([GH 24056](https://github.com/pandas-dev/pandas/issues/24056))
  id: totrans-1973
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")比较操作的错误，与非`Timedelta`类型对象进行比较会引发`TypeError`，而不是对于`__eq__`返回全部`False`和对于`__ne__`返回全部`True`（[GH
    24056](https://github.com/pandas-dev/pandas/issues/24056))'
- en: Bug in [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") comparisons when comparing with a `Tick` object incorrectly
    raising `TypeError` ([GH 24710](https://github.com/pandas-dev/pandas/issues/24710))
  id: totrans-1974
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在与 `Tick` 对象比较时，[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") 比较存在 bug，错误地引发 `TypeError` ([GH 24710](https://github.com/pandas-dev/pandas/issues/24710))
- en: Timezones
  id: totrans-1975
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时区
- en: Bug in [`Index.shift()`](../reference/api/pandas.Index.shift.html#pandas.Index.shift
    "pandas.Index.shift") where an `AssertionError` would raise when shifting across
    DST ([GH 8616](https://github.com/pandas-dev/pandas/issues/8616))
  id: totrans-1976
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.shift()`](../reference/api/pandas.Index.shift.html#pandas.Index.shift
    "pandas.Index.shift") 存在一个 bug，在跨越 DST 时会引发 `AssertionError`（[GH 8616](https://github.com/pandas-dev/pandas/issues/8616))'
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") constructor where passing an invalid timezone offset designator
    (`Z`) would not raise a `ValueError` ([GH 8910](https://github.com/pandas-dev/pandas/issues/8910))
  id: totrans-1977
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在构造函数中传递无效的时区偏移标识符 (`Z`) 时会导致不会引发 `ValueError` 的 bug ([GH 8910](https://github.com/pandas-dev/pandas/issues/8910))
- en: Bug in [`Timestamp.replace()`](../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace
    "pandas.Timestamp.replace") where replacing at a DST boundary would retain an
    incorrect offset ([GH 7825](https://github.com/pandas-dev/pandas/issues/7825))
  id: totrans-1978
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.replace()`](../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace
    "pandas.Timestamp.replace") 存在一个 bug，在 DST 边界替换时会保留一个不正确的偏移量（[GH 7825](https://github.com/pandas-dev/pandas/issues/7825))'
- en: Bug in [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") with `datetime64[ns, tz]` data when replacing `NaT` ([GH
    11792](https://github.com/pandas-dev/pandas/issues/11792))
  id: totrans-1979
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 存在一个 bug，在替换 `NaT` 时会有 `datetime64[ns, tz]` 数据的问题（[GH
    11792](https://github.com/pandas-dev/pandas/issues/11792))'
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") when passing different string date formats with a timezone
    offset would produce different timezone offsets ([GH 12064](https://github.com/pandas-dev/pandas/issues/12064))
  id: totrans-1980
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在传递带有不同字符串日期格式和时区偏移量的 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 时存在一个 bug，会产生不同的时区偏移量 ([GH 12064](https://github.com/pandas-dev/pandas/issues/12064))
- en: Bug when comparing a tz-naive [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") to a tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") which would coerce the [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") to tz-naive ([GH 12601](https://github.com/pandas-dev/pandas/issues/12601))
  id: totrans-1981
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在比较不带时区的 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 和带时区的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 时存在一个 bug，会将 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 强制转换为不带时区的 ([GH 12601](https://github.com/pandas-dev/pandas/issues/12601))
- en: Bug in [`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate") with a tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") which would cause a core dump ([GH 9243](https://github.com/pandas-dev/pandas/issues/9243))
  id: totrans-1982
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate") 在具有时区信息的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 上存在一个 bug，可能导致核心转储 ([GH 9243](https://github.com/pandas-dev/pandas/issues/9243))'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    constructor which would coerce tz-aware and tz-naive [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") to tz-aware ([GH 13051](https://github.com/pandas-dev/pandas/issues/13051))
  id: totrans-1983
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    构造函数存在一个 bug，会强制将带有时区信息和不带时区信息的 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 转换为带有时区信息的 ([GH 13051](https://github.com/pandas-dev/pandas/issues/13051))'
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    with `datetime64[ns, tz]` dtype that did not localize integer data correctly ([GH
    20964](https://github.com/pandas-dev/pandas/issues/20964))
  id: totrans-1984
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") 存在一个
    bug，在 `datetime64[ns, tz]` dtype 上未能正确本地化整数数据 ([GH 20964](https://github.com/pandas-dev/pandas/issues/20964))'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where constructing with an integer and tz would not localize
    correctly ([GH 12619](https://github.com/pandas-dev/pandas/issues/12619))
  id: totrans-1985
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用整数和时区构造时 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 未能正确地进行本地化 ([GH 12619](https://github.com/pandas-dev/pandas/issues/12619))
- en: Fixed bug where [`DataFrame.describe()`](../reference/api/pandas.DataFrame.describe.html#pandas.DataFrame.describe
    "pandas.DataFrame.describe") and [`Series.describe()`](../reference/api/pandas.Series.describe.html#pandas.Series.describe
    "pandas.Series.describe") on tz-aware datetimes did not show `first` and `last`
    result ([GH 21328](https://github.com/pandas-dev/pandas/issues/21328))
  id: totrans-1986
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当时区感知日期时间上的 [`DataFrame.describe()`](../reference/api/pandas.DataFrame.describe.html#pandas.DataFrame.describe
    "pandas.DataFrame.describe") 和 [`Series.describe()`](../reference/api/pandas.Series.describe.html#pandas.Series.describe
    "pandas.Series.describe") 未显示 `first` 和 `last` 结果时的 bug ([GH 21328](https://github.com/pandas-dev/pandas/issues/21328))
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") comparisons failing to raise `TypeError` when comparing
    timezone-aware `DatetimeIndex` against `np.datetime64` ([GH 22074](https://github.com/pandas-dev/pandas/issues/22074))
  id: totrans-1987
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在比较时区感知的 `DatetimeIndex` 和 `np.datetime64` 时未能引发 `TypeError` 的 bug ([GH 22074](https://github.com/pandas-dev/pandas/issues/22074))
- en: Bug in `DataFrame` assignment with a timezone-aware scalar ([GH 19843](https://github.com/pandas-dev/pandas/issues/19843))
  id: totrans-1988
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在带有时区感知标量的 `DataFrame` 赋值时出现 bug ([GH 19843](https://github.com/pandas-dev/pandas/issues/19843))
- en: Bug in [`DataFrame.asof()`](../reference/api/pandas.DataFrame.asof.html#pandas.DataFrame.asof
    "pandas.DataFrame.asof") that raised a `TypeError` when attempting to compare
    tz-naive and tz-aware timestamps ([GH 21194](https://github.com/pandas-dev/pandas/issues/21194))
  id: totrans-1989
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在尝试比较时区感知和非时区感知时间戳时，[`DataFrame.asof()`](../reference/api/pandas.DataFrame.asof.html#pandas.DataFrame.asof
    "pandas.DataFrame.asof") 引发 `TypeError` 的 bug ([GH 21194](https://github.com/pandas-dev/pandas/issues/21194))
- en: Bug when constructing a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") constructed with the `replace` method across DST ([GH 18785](https://github.com/pandas-dev/pandas/issues/18785))
  id: totrans-1990
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `replace` 方法跨 DST 构造 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 时出现 bug，带有 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") ([GH 18785](https://github.com/pandas-dev/pandas/issues/18785))
- en: Bug when setting a new value with [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") with a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with a DST transition ([GH 18308](https://github.com/pandas-dev/pandas/issues/18308),
    [GH 20724](https://github.com/pandas-dev/pandas/issues/20724))
  id: totrans-1991
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用 [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 设置新值时出现 bug，带有 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 并带有 DST 转换 ([GH 18308](https://github.com/pandas-dev/pandas/issues/18308),
    [GH 20724](https://github.com/pandas-dev/pandas/issues/20724))
- en: Bug in [`Index.unique()`](../reference/api/pandas.Index.unique.html#pandas.Index.unique
    "pandas.Index.unique") that did not re-localize tz-aware dates correctly ([GH
    21737](https://github.com/pandas-dev/pandas/issues/21737))
  id: totrans-1992
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.unique()`](../reference/api/pandas.Index.unique.html#pandas.Index.unique
    "pandas.Index.unique") 中存在的 bug，未正确重新本地化时区感知日期 ([GH 21737](https://github.com/pandas-dev/pandas/issues/21737))'
- en: Bug when indexing a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with a DST transition ([GH 21846](https://github.com/pandas-dev/pandas/issues/21846))
  id: totrans-1993
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用带有 DST 转换的 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    索引时出现 bug ([GH 21846](https://github.com/pandas-dev/pandas/issues/21846))
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") and [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") where an `AmbiguousTimeError` or `NonExistentTimeError`
    would raise if a timezone aware timeseries ended on a DST transition ([GH 19375](https://github.com/pandas-dev/pandas/issues/19375),
    [GH 10117](https://github.com/pandas-dev/pandas/issues/10117))
  id: totrans-1994
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 和 [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") 中出现 bug，如果带有时区感知的时间序列在 DST 转换上结束，则会引发 `AmbiguousTimeError`
    或 `NonExistentTimeError` ([GH 19375](https://github.com/pandas-dev/pandas/issues/19375),
    [GH 10117](https://github.com/pandas-dev/pandas/issues/10117))
- en: Bug in [`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop") and [`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop") when specifying a tz-aware Timestamp key to drop from a
    [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with a DST transition ([GH 21761](https://github.com/pandas-dev/pandas/issues/21761))
  id: totrans-1995
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当从带有 DST 转换的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 中删除一个带有时区的 Timestamp 键时，在 [`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop") 和 [`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop") 中的错误 ([GH 21761](https://github.com/pandas-dev/pandas/issues/21761))
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") constructor where `NaT` and `dateutil.tz.tzlocal` would
    raise an `OutOfBoundsDatetime` error ([GH 23807](https://github.com/pandas-dev/pandas/issues/23807))
  id: totrans-1996
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构造函数[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")中的错误，其中 `NaT` 和 `dateutil.tz.tzlocal` 会引发 `OutOfBoundsDatetime`
    错误（[GH 23807](https://github.com/pandas-dev/pandas/issues/23807)）
- en: Bug in [`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize") and [`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize") with `dateutil.tz.tzlocal` near a DST transition
    that would return an incorrectly localized datetime ([GH 23807](https://github.com/pandas-dev/pandas/issues/23807))
  id: totrans-1997
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在靠近 DST 转换的 `dateutil.tz.tzlocal` 时的 [`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize") 和 [`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize") 中返回不正确本地化的日期时间的错误 ([GH 23807](https://github.com/pandas-dev/pandas/issues/23807))
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") constructor where a `dateutil.tz.tzutc` timezone passed with
    a `datetime.datetime` argument would be converted to a `pytz.UTC` timezone ([GH
    23807](https://github.com/pandas-dev/pandas/issues/23807))
  id: totrans-1998
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用 `datetime.datetime` 参数传递 `dateutil.tz.tzutc` 时，[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 构造函数会将其转换为 `pytz.UTC` 时区 ([GH 23807](https://github.com/pandas-dev/pandas/issues/23807))
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where `utc=True` was not respected when specifying a `unit`
    and `errors='ignore'` ([GH 23758](https://github.com/pandas-dev/pandas/issues/23758))
  id: totrans-1999
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当指定 `utc=True` 时，在指定 `unit` 和 `errors='ignore'` 时，[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 不会被尊重 ([GH 23758](https://github.com/pandas-dev/pandas/issues/23758))
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where `utc=True` was not respected when passing a [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") ([GH 24415](https://github.com/pandas-dev/pandas/issues/24415))
  id: totrans-2000
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    时，[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 中的 `utc=True` 不会被尊重 ([GH 24415](https://github.com/pandas-dev/pandas/issues/24415))
- en: Bug in [`DataFrame.any()`](../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any
    "pandas.DataFrame.any") returns wrong value when `axis=1` and the data is of datetimelike
    type ([GH 23070](https://github.com/pandas-dev/pandas/issues/23070))
  id: totrans-2001
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `axis=1` 且数据是 datetimelike 类型时，[`DataFrame.any()`](../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any
    "pandas.DataFrame.any") 返回错误的值 ([GH 23070](https://github.com/pandas-dev/pandas/issues/23070))
- en: Bug in [`DatetimeIndex.to_period()`](../reference/api/pandas.DatetimeIndex.to_period.html#pandas.DatetimeIndex.to_period
    "pandas.DatetimeIndex.to_period") where a timezone aware index was converted to
    UTC first before creating [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") ([GH 22905](https://github.com/pandas-dev/pandas/issues/22905))
  id: totrans-2002
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将时区感知索引首先转换为 UTC 然后创建 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 时的 [`DatetimeIndex.to_period()`](../reference/api/pandas.DatetimeIndex.to_period.html#pandas.DatetimeIndex.to_period
    "pandas.DatetimeIndex.to_period") 中的错误 ([GH 22905](https://github.com/pandas-dev/pandas/issues/22905))
- en: Bug in [`DataFrame.tz_localize()`](../reference/api/pandas.DataFrame.tz_localize.html#pandas.DataFrame.tz_localize
    "pandas.DataFrame.tz_localize"), [`DataFrame.tz_convert()`](../reference/api/pandas.DataFrame.tz_convert.html#pandas.DataFrame.tz_convert
    "pandas.DataFrame.tz_convert"), [`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize"), and [`Series.tz_convert()`](../reference/api/pandas.Series.tz_convert.html#pandas.Series.tz_convert
    "pandas.Series.tz_convert") where `copy=False` would mutate the original argument
    inplace ([GH 6326](https://github.com/pandas-dev/pandas/issues/6326))
  id: totrans-2003
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.tz_localize()`](../reference/api/pandas.DataFrame.tz_localize.html#pandas.DataFrame.tz_localize
    "pandas.DataFrame.tz_localize")、[`DataFrame.tz_convert()`](../reference/api/pandas.DataFrame.tz_convert.html#pandas.DataFrame.tz_convert
    "pandas.DataFrame.tz_convert")、[`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize") 和 [`Series.tz_convert()`](../reference/api/pandas.Series.tz_convert.html#pandas.Series.tz_convert
    "pandas.Series.tz_convert") 中存在 Bug，`copy=False` 会在原始参数上进行原地更改（[GH 6326](https://github.com/pandas-dev/pandas/issues/6326)）
- en: Bug in [`DataFrame.max()`](../reference/api/pandas.DataFrame.max.html#pandas.DataFrame.max
    "pandas.DataFrame.max") and [`DataFrame.min()`](../reference/api/pandas.DataFrame.min.html#pandas.DataFrame.min
    "pandas.DataFrame.min") with `axis=1` where a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `NaN` would be returned when all columns contained the same
    timezone ([GH 10390](https://github.com/pandas-dev/pandas/issues/10390))
  id: totrans-2004
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.max()`](../reference/api/pandas.DataFrame.max.html#pandas.DataFrame.max
    "pandas.DataFrame.max") 和 [`DataFrame.min()`](../reference/api/pandas.DataFrame.min.html#pandas.DataFrame.min
    "pandas.DataFrame.min") 在 `axis=1` 的情况下存在 Bug，当所有列都包含相同的时区时，会返回一个带有 `NaN` 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")（[GH 10390](https://github.com/pandas-dev/pandas/issues/10390)）'
- en: Offsets
  id: totrans-2005
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 偏移
- en: Bug in `FY5253` where date offsets could incorrectly raise an `AssertionError`
    in arithmetic operations ([GH 14774](https://github.com/pandas-dev/pandas/issues/14774))
  id: totrans-2006
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `FY5253` 中存在 Bug，日期偏移可能在算术运算中不正确地引发 `AssertionError`（[GH 14774](https://github.com/pandas-dev/pandas/issues/14774)）
- en: Bug in `DateOffset` where keyword arguments `week` and `milliseconds` were accepted
    and ignored. Passing these will now raise `ValueError` ([GH 19398](https://github.com/pandas-dev/pandas/issues/19398))
  id: totrans-2007
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DateOffset` 中的 Bug，接受并忽略了关键字参数 `week` 和 `milliseconds`。现在传递这些参数将会引发 `ValueError`（[GH
    19398](https://github.com/pandas-dev/pandas/issues/19398)）'
- en: Bug in adding `DateOffset` with [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") incorrectly raising `TypeError` ([GH 23215](https://github.com/pandas-dev/pandas/issues/23215))
  id: totrans-2008
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加 `DateOffset` 时存在 Bug，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 或 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 不正确地引发 `TypeError`（[GH 23215](https://github.com/pandas-dev/pandas/issues/23215)）
- en: Bug in comparing `DateOffset` objects with non-DateOffset objects, particularly
    strings, raising `ValueError` instead of returning `False` for equality checks
    and `True` for not-equal checks ([GH 23524](https://github.com/pandas-dev/pandas/issues/23524))
  id: totrans-2009
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比较 `DateOffset` 对象与非 `DateOffset` 对象（特别是字符串）时存在 Bug，不是为相等检查返回 `False`，而是引发 `ValueError`，而不是为不相等检查返回
    `True`（[GH 23524](https://github.com/pandas-dev/pandas/issues/23524)）
- en: Numeric
  id: totrans-2010
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数值
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    `__rmatmul__` doesn’t support matrix vector multiplication ([GH 21530](https://github.com/pandas-dev/pandas/issues/21530))
  id: totrans-2011
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    中存在 Bug，`__rmatmul__` 不支持矩阵向量乘法（[GH 21530](https://github.com/pandas-dev/pandas/issues/21530)）
- en: Bug in [`factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize") fails with read-only array ([GH 12813](https://github.com/pandas-dev/pandas/issues/12813))
  id: totrans-2012
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`factorize()`](../reference/api/pandas.factorize.html#pandas.factorize "pandas.factorize")
    中存在 Bug，无法处理只读数组（[GH 12813](https://github.com/pandas-dev/pandas/issues/12813)）'
- en: 'Fixed bug in [`unique()`](../reference/api/pandas.unique.html#pandas.unique
    "pandas.unique") handled signed zeros inconsistently: for some inputs 0.0 and
    -0.0 were treated as equal and for some inputs as different. Now they are treated
    as equal for all inputs ([GH 21866](https://github.com/pandas-dev/pandas/issues/21866))'
  id: totrans-2013
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`unique()`](../reference/api/pandas.unique.html#pandas.unique "pandas.unique")
    中修复了 Bug，不一致地处理了带符号的零：对于某些输入，0.0 和 -0.0 被视为相等，而对于某些输入，它们被视为不同。现在，它们在所有输入中都被视为相等（[GH
    21866](https://github.com/pandas-dev/pandas/issues/21866)）
- en: Bug in [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg"), [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") and [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") where, when supplied with a list of functions and `axis=1`
    (e.g. `df.apply(['sum', 'mean'], axis=1)`), a `TypeError` was wrongly raised.
    For all three methods such calculation are now done correctly. ([GH 16679](https://github.com/pandas-dev/pandas/issues/16679)).
  id: totrans-2014
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg"), [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") and [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") where, when supplied with a list of functions and `axis=1`
    (e.g. `df.apply(['sum', 'mean'], axis=1)`), a `TypeError` was wrongly raised.
    For all three methods such calculation are now done correctly. ([GH 16679](https://github.com/pandas-dev/pandas/issues/16679)).
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    comparison against datetime-like scalars and arrays ([GH 22074](https://github.com/pandas-dev/pandas/issues/22074))
  id: totrans-2015
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    comparison against datetime-like scalars and arrays ([GH 22074](https://github.com/pandas-dev/pandas/issues/22074))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") multiplication between boolean dtype and integer returning
    `object` dtype instead of integer dtype ([GH 22047](https://github.com/pandas-dev/pandas/issues/22047),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-2016
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") multiplication between boolean dtype and integer returning
    `object` dtype instead of integer dtype ([GH 22047](https://github.com/pandas-dev/pandas/issues/22047),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
- en: Bug in [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") where, when supplied with a string argument and additional
    positional or keyword arguments (e.g. `df.apply('sum', min_count=1)`), a `TypeError`
    was wrongly raised ([GH 22376](https://github.com/pandas-dev/pandas/issues/22376))
  id: totrans-2017
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") where, when supplied with a string argument and additional
    positional or keyword arguments (e.g. `df.apply('sum', min_count=1)`), a `TypeError`
    was wrongly raised ([GH 22376](https://github.com/pandas-dev/pandas/issues/22376))
- en: Bug in [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") to extension dtype may raise `AttributeError` ([GH
    22578](https://github.com/pandas-dev/pandas/issues/22578))
  id: totrans-2018
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") to extension dtype may raise `AttributeError` ([GH
    22578](https://github.com/pandas-dev/pandas/issues/22578))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `timedelta64[ns]` dtype arithmetic operations with `ndarray`
    with integer dtype incorrectly treating the narray as `timedelta64[ns]` dtype
    ([GH 23114](https://github.com/pandas-dev/pandas/issues/23114))
  id: totrans-2019
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `timedelta64[ns]` dtype arithmetic operations with `ndarray`
    with integer dtype incorrectly treating the narray as `timedelta64[ns]` dtype
    ([GH 23114](https://github.com/pandas-dev/pandas/issues/23114))
- en: Bug in [`Series.rpow()`](../reference/api/pandas.Series.rpow.html#pandas.Series.rpow
    "pandas.Series.rpow") with object dtype `NaN` for `1 ** NA` instead of `1` ([GH
    22922](https://github.com/pandas-dev/pandas/issues/22922)).
  id: totrans-2020
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Series.rpow()`](../reference/api/pandas.Series.rpow.html#pandas.Series.rpow
    "pandas.Series.rpow") with object dtype `NaN` for `1 ** NA` instead of `1` ([GH
    22922](https://github.com/pandas-dev/pandas/issues/22922)).
- en: '[`Series.agg()`](../reference/api/pandas.Series.agg.html#pandas.Series.agg
    "pandas.Series.agg") can now handle numpy NaN-aware methods like [`numpy.nansum()`](https://numpy.org/doc/stable/reference/generated/numpy.nansum.html#numpy.nansum
    "(in NumPy v1.26)") ([GH 19629](https://github.com/pandas-dev/pandas/issues/19629))'
  id: totrans-2021
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.agg()`](../reference/api/pandas.Series.agg.html#pandas.Series.agg
    "pandas.Series.agg") can now handle numpy NaN-aware methods like [`numpy.nansum()`](https://numpy.org/doc/stable/reference/generated/numpy.nansum.html#numpy.nansum
    "(in NumPy v1.26)") ([GH 19629](https://github.com/pandas-dev/pandas/issues/19629))'
- en: Bug in [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") and [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") when `pct=True` and more than 2^(24) rows are present
    resulted in percentages greater than 1.0 ([GH 18271](https://github.com/pandas-dev/pandas/issues/18271))
  id: totrans-2022
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") and [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") when `pct=True` and more than 2^(24) rows are present
    resulted in percentages greater than 1.0 ([GH 18271](https://github.com/pandas-dev/pandas/issues/18271))
- en: Calls such as [`DataFrame.round()`](../reference/api/pandas.DataFrame.round.html#pandas.DataFrame.round
    "pandas.DataFrame.round") with a non-unique [`CategoricalIndex()`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") now return expected data. Previously, data would be
    improperly duplicated ([GH 21809](https://github.com/pandas-dev/pandas/issues/21809)).
  id: totrans-2023
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 调用类似[`DataFrame.round()`](../reference/api/pandas.DataFrame.round.html#pandas.DataFrame.round
    "pandas.DataFrame.round")的方法，使用非唯一的[`CategoricalIndex()`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")，现在返回预期的数据。以前，数据会不正确地重复（[GH 21809](https://github.com/pandas-dev/pandas/issues/21809)）。
- en: Added `log10`, `floor` and `ceil` to the list of supported functions in [`DataFrame.eval()`](../reference/api/pandas.DataFrame.eval.html#pandas.DataFrame.eval
    "pandas.DataFrame.eval") ([GH 24139](https://github.com/pandas-dev/pandas/issues/24139),
    [GH 24353](https://github.com/pandas-dev/pandas/issues/24353))
  id: totrans-2024
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.eval()`](../reference/api/pandas.DataFrame.eval.html#pandas.DataFrame.eval
    "pandas.DataFrame.eval")的支持函数列表中添加了`log10`、`floor`和`ceil`（[GH 24139](https://github.com/pandas-dev/pandas/issues/24139)，[GH
    24353](https://github.com/pandas-dev/pandas/issues/24353)）
- en: Logical operations `&, |, ^` between [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") and [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") will no longer raise `ValueError` ([GH 22092](https://github.com/pandas-dev/pandas/issues/22092))
  id: totrans-2025
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 逻辑操作`&、|、^`在[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")和[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")之间不再引发`ValueError`（[GH 22092](https://github.com/pandas-dev/pandas/issues/22092)）
- en: Checking PEP 3141 numbers in [`is_scalar()`](../reference/api/pandas.api.types.is_scalar.html#pandas.api.types.is_scalar
    "pandas.api.types.is_scalar") function returns `True` ([GH 22903](https://github.com/pandas-dev/pandas/issues/22903))
  id: totrans-2026
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`is_scalar()`](../reference/api/pandas.api.types.is_scalar.html#pandas.api.types.is_scalar
    "pandas.api.types.is_scalar")函数中检查 PEP 3141 数字返回`True`（[GH 22903](https://github.com/pandas-dev/pandas/issues/22903)）
- en: Reduction methods like [`Series.sum()`](../reference/api/pandas.Series.sum.html#pandas.Series.sum
    "pandas.Series.sum") now accept the default value of `keepdims=False` when called
    from a NumPy ufunc, rather than raising a `TypeError`. Full support for `keepdims`
    has not been implemented ([GH 24356](https://github.com/pandas-dev/pandas/issues/24356)).
  id: totrans-2027
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 像[`Series.sum()`](../reference/api/pandas.Series.sum.html#pandas.Series.sum
    "pandas.Series.sum")这样的减少方法现在在从 NumPy ufunc 调用时接受`keepdims=False`的默认值，而不是引发`TypeError`。尚未实现对`keepdims`的全面支持（[GH
    24356](https://github.com/pandas-dev/pandas/issues/24356)）。
- en: Conversion
  id: totrans-2028
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 转换
- en: Bug in [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") in which column types were unexpectedly converted
    to float ([GH 20699](https://github.com/pandas-dev/pandas/issues/20699))
  id: totrans-2029
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first")中，列类型意外地转换为浮点型（[GH 20699](https://github.com/pandas-dev/pandas/issues/20699)）
- en: Bug in [`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") in which column types are not preserved and casted to
    float ([GH 24162](https://github.com/pandas-dev/pandas/issues/24162))
  id: totrans-2030
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip")中，列类型不会被保留，并转换为浮点型（[GH 24162](https://github.com/pandas-dev/pandas/issues/24162)）
- en: Bug in [`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") when order of columns of dataframes doesn’t match, result
    observed is wrong in numeric values ([GH 20911](https://github.com/pandas-dev/pandas/issues/20911))
  id: totrans-2031
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip")中，当数据框的列顺序不匹配时，观察到的结果在数值上是错误的（[GH 20911](https://github.com/pandas-dev/pandas/issues/20911)）
- en: Bug in [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") where converting to an extension dtype when duplicate
    column names are present causes a `RecursionError` ([GH 24704](https://github.com/pandas-dev/pandas/issues/24704))
  id: totrans-2032
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype")中的错误，在存在重复列名时转换为扩展 dtype 会导致`RecursionError`（[GH 24704](https://github.com/pandas-dev/pandas/issues/24704)）'
- en: Strings
  id: totrans-2033
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 字符串
- en: Bug in `Index.str.partition()` was not nan-safe ([GH 23558](https://github.com/pandas-dev/pandas/issues/23558)).
  id: totrans-2034
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.str.partition()`中的错误不安全，会导致 nan 问题（[GH 23558](https://github.com/pandas-dev/pandas/issues/23558)）。'
- en: Bug in `Index.str.split()` was not nan-safe ([GH 23677](https://github.com/pandas-dev/pandas/issues/23677)).
  id: totrans-2035
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.str.split()`中的错误不安全，会导致 nan 问题（[GH 23677](https://github.com/pandas-dev/pandas/issues/23677)）。'
- en: Bug [`Series.str.contains()`](../reference/api/pandas.Series.str.contains.html#pandas.Series.str.contains
    "pandas.Series.str.contains") not respecting the `na` argument for a `Categorical`
    dtype `Series` ([GH 22158](https://github.com/pandas-dev/pandas/issues/22158))
  id: totrans-2036
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.contains()`](../reference/api/pandas.Series.str.contains.html#pandas.Series.str.contains
    "pandas.Series.str.contains")中的错误，对于`Categorical`类型的`Series`，`na`参数不被尊重（[GH 22158](https://github.com/pandas-dev/pandas/issues/22158)）'
- en: Bug in `Index.str.cat()` when the result contained only `NaN` ([GH 24044](https://github.com/pandas-dev/pandas/issues/24044))
  id: totrans-2037
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.str.cat()`中的错误，当结果只包含`NaN`时（[GH 24044](https://github.com/pandas-dev/pandas/issues/24044)）'
- en: Interval
  id: totrans-2038
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 区间
- en: Bug in the [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") constructor where the `closed` parameter did not always
    override the inferred `closed` ([GH 19370](https://github.com/pandas-dev/pandas/issues/19370))
  id: totrans-2039
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")构造函数中的错误，`closed`参数并不总是覆盖推断的`closed`（[GH 19370](https://github.com/pandas-dev/pandas/issues/19370)）'
- en: Bug in the `IntervalIndex` repr where a trailing comma was missing after the
    list of intervals ([GH 20611](https://github.com/pandas-dev/pandas/issues/20611))
  id: totrans-2040
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex`中的错误，区间列表后缺少逗号（[GH 20611](https://github.com/pandas-dev/pandas/issues/20611)）'
- en: Bug in [`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    where scalar arithmetic operations did not retain the `closed` value ([GH 22313](https://github.com/pandas-dev/pandas/issues/22313))
  id: totrans-2041
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")中的错误，标量算术操作未保留`closed`值（[GH
    22313](https://github.com/pandas-dev/pandas/issues/22313)）'
- en: Bug in [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") where indexing with datetime-like values raised a `KeyError`
    ([GH 20636](https://github.com/pandas-dev/pandas/issues/20636))
  id: totrans-2042
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")中的错误，使用类似日期时间的值进行索引会引发`KeyError`（[GH 20636](https://github.com/pandas-dev/pandas/issues/20636)）'
- en: Bug in `IntervalTree` where data containing `NaN` triggered a warning and resulted
    in incorrect indexing queries with [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") ([GH 23352](https://github.com/pandas-dev/pandas/issues/23352))
  id: totrans-2043
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalTree`中的错误，包含`NaN`的数据会触发警告，并导致使用[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")进行不正确的索引查询（[GH 23352](https://github.com/pandas-dev/pandas/issues/23352)）'
- en: Indexing
  id: totrans-2044
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 索引
- en: Bug in [`DataFrame.ne()`](../reference/api/pandas.DataFrame.ne.html#pandas.DataFrame.ne
    "pandas.DataFrame.ne") fails if columns contain column name “dtype” ([GH 22383](https://github.com/pandas-dev/pandas/issues/22383))
  id: totrans-2045
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.ne()`](../reference/api/pandas.DataFrame.ne.html#pandas.DataFrame.ne
    "pandas.DataFrame.ne")中的错误，如果列包含列名“dtype”则会失败（[GH 22383](https://github.com/pandas-dev/pandas/issues/22383)）'
- en: The traceback from a `KeyError` when asking `.loc` for a single missing label
    is now shorter and more clear ([GH 21557](https://github.com/pandas-dev/pandas/issues/21557))
  id: totrans-2046
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用`.loc`请求单个缺失标签时，`KeyError`的回溯现在更短更清晰（[GH 21557](https://github.com/pandas-dev/pandas/issues/21557)）
- en: '[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") now emits a `KeyError` when a malformed string is looked
    up, which is consistent with the behavior of [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 22803](https://github.com/pandas-dev/pandas/issues/22803))'
  id: totrans-2047
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当查找到格式不正确的字符串时，[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")现在会引发`KeyError`，这与[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")的行为一致（[GH 22803](https://github.com/pandas-dev/pandas/issues/22803)）
- en: When `.ix` is asked for a missing integer label in a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") with a first level of integer type, it now raises a `KeyError`,
    consistently with the case of a flat `Int64Index`, rather than falling back to
    positional indexing ([GH 21593](https://github.com/pandas-dev/pandas/issues/21593))
  id: totrans-2048
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在具有整数类型第一级的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")中请求缺失的整数标签时，`.ix`现在会引发`KeyError`，与平坦的`Int64Index`的情况一致，而不是回退到位置索引（[GH
    21593](https://github.com/pandas-dev/pandas/issues/21593)）
- en: Bug in [`Index.reindex()`](../reference/api/pandas.Index.reindex.html#pandas.Index.reindex
    "pandas.Index.reindex") when reindexing a tz-naive and tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 8306](https://github.com/pandas-dev/pandas/issues/8306))
  id: totrans-2049
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在重新索引一个时区无关和时区感知的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 时，在 [`Index.reindex()`](../reference/api/pandas.Index.reindex.html#pandas.Index.reindex
    "pandas.Index.reindex") 中存在错误 ([GH 8306](https://github.com/pandas-dev/pandas/issues/8306))
- en: Bug in [`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex") when reindexing an empty series with a `datetime64[ns,
    tz]` dtype ([GH 20869](https://github.com/pandas-dev/pandas/issues/20869))
  id: totrans-2050
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `datetime64[ns, tz]` 类型的空系列重新索引时，在 [`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex") 中存在错误 ([GH 20869](https://github.com/pandas-dev/pandas/issues/20869))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") when setting values with `.loc` and a timezone aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 11365](https://github.com/pandas-dev/pandas/issues/11365))
  id: totrans-2051
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `.loc` 和具有时区感知的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 设置值时，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 中存在错误 ([GH 11365](https://github.com/pandas-dev/pandas/issues/11365))
- en: '`DataFrame.__getitem__` now accepts dictionaries and dictionary keys as list-likes
    of labels, consistently with `Series.__getitem__` ([GH 21294](https://github.com/pandas-dev/pandas/issues/21294))'
  id: totrans-2052
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.__getitem__` 现在接受字典和字典键作为标签的列表，与 `Series.__getitem__` 保持一致 ([GH
    21294](https://github.com/pandas-dev/pandas/issues/21294))'
- en: Fixed `DataFrame[np.nan]` when columns are non-unique ([GH 21428](https://github.com/pandas-dev/pandas/issues/21428))
  id: totrans-2053
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当列不唯一时的 `DataFrame[np.nan]` ([GH 21428](https://github.com/pandas-dev/pandas/issues/21428))
- en: Bug when indexing [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with nanosecond resolution dates and timezones ([GH 11679](https://github.com/pandas-dev/pandas/issues/11679))
  id: totrans-2054
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有纳秒分辨率日期和时区的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 上进行索引时存在错误 ([GH 11679](https://github.com/pandas-dev/pandas/issues/11679))
- en: Bug where indexing with a Numpy array containing negative values would mutate
    the indexer ([GH 21867](https://github.com/pandas-dev/pandas/issues/21867))
  id: totrans-2055
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用包含负值的 Numpy 数组进行索引时，存在索引器变异的错误 ([GH 21867](https://github.com/pandas-dev/pandas/issues/21867))
- en: Bug where mixed indexes wouldn’t allow integers for `.at` ([GH 19860](https://github.com/pandas-dev/pandas/issues/19860))
  id: totrans-2056
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 混合索引不允许整数用于 `.at` 的错误 ([GH 19860](https://github.com/pandas-dev/pandas/issues/19860))
- en: '`Float64Index.get_loc` now raises `KeyError` when boolean key passed. ([GH
    19087](https://github.com/pandas-dev/pandas/issues/19087))'
  id: totrans-2057
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当布尔键传递时，`Float64Index.get_loc` 现在会引发 `KeyError`。 ([GH 19087](https://github.com/pandas-dev/pandas/issues/19087))
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") when indexing with an [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") ([GH 19977](https://github.com/pandas-dev/pandas/issues/19977))
  id: totrans-2058
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 进行索引时，[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 中存在错误 ([GH 19977](https://github.com/pandas-dev/pandas/issues/19977))
- en: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") no
    longer mangles `None`, `NaN` and `NaT`, i.e. they are treated as three different
    keys. However, for numeric Index all three are still coerced to a `NaN` ([GH 22332](https://github.com/pandas-dev/pandas/issues/22332))'
  id: totrans-2059
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") 不再混淆
    `None`、`NaN` 和 `NaT`，即它们被视为三个不同的键。但是，对于数值索引，这三者仍然被强制转换为 `NaN` ([GH 22332](https://github.com/pandas-dev/pandas/issues/22332))'
- en: Bug in `scalar in Index` if scalar is a float while the `Index` is of integer
    dtype ([GH 22085](https://github.com/pandas-dev/pandas/issues/22085))
  id: totrans-2060
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果标量是浮点数，而 `Index` 是整数类型，则 `scalar in Index` 中存在错误 ([GH 22085](https://github.com/pandas-dev/pandas/issues/22085))
- en: Bug in [`MultiIndex.set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels") when levels value is not subscriptable ([GH 23273](https://github.com/pandas-dev/pandas/issues/23273))
  id: totrans-2061
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 levels 值不可索引时，在 [`MultiIndex.set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels") 中存在错误 ([GH 23273](https://github.com/pandas-dev/pandas/issues/23273))
- en: Bug where setting a timedelta column by `Index` causes it to be casted to double,
    and therefore lose precision ([GH 23511](https://github.com/pandas-dev/pandas/issues/23511))
  id: totrans-2062
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置时间差列为 `Index` 时会被强制转换为双精度浮点数，从而丢失精度的 bug ([GH 23511](https://github.com/pandas-dev/pandas/issues/23511))
- en: Bug in [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") and [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") where name of the `Index` of the result was not computed
    correctly for certain cases ([GH 9943](https://github.com/pandas-dev/pandas/issues/9943),
    [GH 9862](https://github.com/pandas-dev/pandas/issues/9862))
  id: totrans-2063
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在某些情况下，[`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") 和 [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") 的结果的 `Index` 的名称计算不正确的 bug ([GH 9943](https://github.com/pandas-dev/pandas/issues/9943),
    [GH 9862](https://github.com/pandas-dev/pandas/issues/9862))
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    slicing with boolean [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") may raise `TypeError` ([GH 22533](https://github.com/pandas-dev/pandas/issues/22533))
  id: totrans-2064
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用布尔值 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    进行切片可能会引发 `TypeError` 的 bug ([GH 22533](https://github.com/pandas-dev/pandas/issues/22533))
- en: Bug in `PeriodArray.__setitem__` when accepting slice and list-like value ([GH
    23978](https://github.com/pandas-dev/pandas/issues/23978))
  id: totrans-2065
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在接受切片和类列表值时的 `PeriodArray.__setitem__` 的 bug ([GH 23978](https://github.com/pandas-dev/pandas/issues/23978))
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where indexing with `Ellipsis` would lose their `freq`
    attribute ([GH 21282](https://github.com/pandas-dev/pandas/issues/21282))
  id: totrans-2066
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 中使用 `Ellipsis` 进行索引会丢失 `freq` 属性的 bug ([GH 21282](https://github.com/pandas-dev/pandas/issues/21282))'
- en: Bug in `iat` where using it to assign an incompatible value would create a new
    column ([GH 23236](https://github.com/pandas-dev/pandas/issues/23236))
  id: totrans-2067
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `iat` 进行赋值时，如果值不兼容会创建一个新列的 bug ([GH 23236](https://github.com/pandas-dev/pandas/issues/23236))
- en: Missing
  id: totrans-2068
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 缺失
- en: Bug in [`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") where a `ValueError` would raise when one column contained
    a `datetime64[ns, tz]` dtype ([GH 15522](https://github.com/pandas-dev/pandas/issues/15522))
  id: totrans-2069
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") 存在 bug，当某一列包含 `datetime64[ns, tz]` 类型时会引发 `ValueError`（[GH
    15522](https://github.com/pandas-dev/pandas/issues/15522)）'
- en: Bug in [`Series.hasnans()`](../reference/api/pandas.Series.hasnans.html#pandas.Series.hasnans
    "pandas.Series.hasnans") that could be incorrectly cached and return incorrect
    answers if null elements are introduced after an initial call ([GH 19700](https://github.com/pandas-dev/pandas/issues/19700))
  id: totrans-2070
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.hasnans()`](../reference/api/pandas.Series.hasnans.html#pandas.Series.hasnans
    "pandas.Series.hasnans") 中的 bug，如果在初始调用后引入空元素，可能会错误地缓存并返回错误的答案 ([GH 19700](https://github.com/pandas-dev/pandas/issues/19700))'
- en: '[`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") now treats all NaN-floats as equal also for `np.object_`-dtype.
    This behavior is consistent with the behavior for float64 ([GH 22119](https://github.com/pandas-dev/pandas/issues/22119))'
  id: totrans-2071
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") 现在也对于 `np.object_` 类型的值将所有 NaN 浮点数视为相等。这个行为与 float64 的行为一致
    ([GH 22119](https://github.com/pandas-dev/pandas/issues/22119))'
- en: '[`unique()`](../reference/api/pandas.unique.html#pandas.unique "pandas.unique")
    no longer mangles NaN-floats and the `NaT`-object for `np.object_`-dtype, i.e.
    `NaT` is no longer coerced to a NaN-value and is treated as a different entity.
    ([GH 22295](https://github.com/pandas-dev/pandas/issues/22295))'
  id: totrans-2072
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`unique()`](../reference/api/pandas.unique.html#pandas.unique "pandas.unique")
    不再对 NaN 浮点数和 `NaT` 对象进行修改，对于 `np.object_` 类型的值，即 `NaT` 不再强制转换为 NaN 值，并且被视为不同的实体。([GH
    22295](https://github.com/pandas-dev/pandas/issues/22295))'
- en: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    and [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    now properly handle numpy masked arrays with hardened masks. Previously, constructing
    a DataFrame or Series from a masked array with a hard mask would create a pandas
    object containing the underlying value, rather than the expected NaN. ([GH 24574](https://github.com/pandas-dev/pandas/issues/24574))'
  id: totrans-2073
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    和 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    现在可以正确处理带有硬化掩码的 numpy 掩码数组。以前，从带有硬化掩码的掩码数组构造 DataFrame 或 Series 将创建包含底层值而不是预期的
    NaN 的 pandas 对象。 ([GH 24574](https://github.com/pandas-dev/pandas/issues/24574))'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor where `dtype` argument was not honored when handling
    numpy masked record arrays. ([GH 24874](https://github.com/pandas-dev/pandas/issues/24874))
  id: totrans-2074
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    构造函数中的 Bug，处理 numpy 掩码记录数组时未遵守 `dtype` 参数。 ([GH 24874](https://github.com/pandas-dev/pandas/issues/24874))'
- en: MultiIndex
  id: totrans-2075
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 多重索引
- en: Bug in `io.formats.style.Styler.applymap()` where `subset=` with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") slice would reduce to [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") ([GH 19861](https://github.com/pandas-dev/pandas/issues/19861))
  id: totrans-2076
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`io.formats.style.Styler.applymap()` 中的 Bug，其中使用 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 切片的 `subset=` 会缩减为 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") ([GH 19861](https://github.com/pandas-dev/pandas/issues/19861))'
- en: Removed compatibility for [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") pickles prior to version 0.8.0; compatibility with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") pickles from version 0.13 forward is maintained ([GH 21654](https://github.com/pandas-dev/pandas/issues/21654))
  id: totrans-2077
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除对版本 0.8.0 之前的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") pickles 的兼容性；与版本 0.13 及以后的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") pickles 的兼容性保持不变 ([GH 21654](https://github.com/pandas-dev/pandas/issues/21654))
- en: '[`MultiIndex.get_loc_level()`](../reference/api/pandas.MultiIndex.get_loc_level.html#pandas.MultiIndex.get_loc_level
    "pandas.MultiIndex.get_loc_level") (and as a consequence, `.loc` on a `Series`
    or `DataFrame` with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") index) will now raise a `KeyError`, rather than returning
    an empty `slice`, if asked a label which is present in the `levels` but is unused
    ([GH 22221](https://github.com/pandas-dev/pandas/issues/22221))'
  id: totrans-2078
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.get_loc_level()`](../reference/api/pandas.MultiIndex.get_loc_level.html#pandas.MultiIndex.get_loc_level
    "pandas.MultiIndex.get_loc_level")（以及因此，在具有 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 索引的 `Series` 或 `DataFrame` 上的 `.loc`）现在将引发 `KeyError`，而不是返回空
    `slice`，如果询问存在于 `levels` 中但未使用的标签 ([GH 22221](https://github.com/pandas-dev/pandas/issues/22221))'
- en: '[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    has gained the [`MultiIndex.from_frame()`](../reference/api/pandas.MultiIndex.from_frame.html#pandas.MultiIndex.from_frame
    "pandas.MultiIndex.from_frame"), it allows constructing a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") object from a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 22420](https://github.com/pandas-dev/pandas/issues/22420))'
  id: totrans-2079
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    现在具有 [`MultiIndex.from_frame()`](../reference/api/pandas.MultiIndex.from_frame.html#pandas.MultiIndex.from_frame
    "pandas.MultiIndex.from_frame")，它允许从 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 构造一个 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 对象 ([GH 22420](https://github.com/pandas-dev/pandas/issues/22420))'
- en: Fix `TypeError` in Python 3 when creating [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") in which some levels have mixed types, e.g. when some labels
    are tuples ([GH 15457](https://github.com/pandas-dev/pandas/issues/15457))
  id: totrans-2080
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复 Python 3 中创建 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 时的 `TypeError`，其中某些级别具有混合类型，例如当某些标签是元组时 ([GH 15457](https://github.com/pandas-dev/pandas/issues/15457))
- en: IO
  id: totrans-2081
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: IO
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which a column specified with `CategoricalDtype` of boolean
    categories was not being correctly coerced from string values to booleans ([GH
    20498](https://github.com/pandas-dev/pandas/issues/20498))
  id: totrans-2082
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当将布尔类别的 `CategoricalDtype` 列指定为字符串值到布尔值时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中存在错误，未能正确地将其强制转换为布尔值（[GH 20498](https://github.com/pandas-dev/pandas/issues/20498)）。
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which unicode column names were not being properly recognized
    with Python 2.x ([GH 13253](https://github.com/pandas-dev/pandas/issues/13253))
  id: totrans-2083
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Python 2.x 中，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中未能正确识别 Unicode 列名的错误（[GH 13253](https://github.com/pandas-dev/pandas/issues/13253)）。
- en: Bug in [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") when writing timezone aware data (`datetime64[ns, tz]`
    dtype) would raise a `TypeError` ([GH 9086](https://github.com/pandas-dev/pandas/issues/9086))
  id: totrans-2084
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当写入时区感知数据（`datetime64[ns, tz]` 类型）时，[`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 存在错误会引发 `TypeError`（[GH 9086](https://github.com/pandas-dev/pandas/issues/9086)）。
- en: Bug in [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") where a naive [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") would be written as `TIMESTAMP WITH TIMEZONE` type in
    supported databases, e.g. PostgreSQL ([GH 23510](https://github.com/pandas-dev/pandas/issues/23510))
  id: totrans-2085
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当写入具有错误 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 的数据时，例如在受支持的数据库（如 PostgreSQL）中，[`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 中存在错误，将被写入为 `TIMESTAMP WITH TIMEZONE` 类型（[GH 23510](https://github.com/pandas-dev/pandas/issues/23510)）。
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") when `parse_cols` is specified with an empty dataset ([GH
    9208](https://github.com/pandas-dev/pandas/issues/9208))
  id: totrans-2086
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在空数据集中指定`parse_cols`时，[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")存在错误（[GH 9208](https://github.com/pandas-dev/pandas/issues/9208)）。
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    no longer ignores all-whitespace `<tr>` within `<thead>` when considering the
    `skiprows` and `header` arguments. Previously, users had to decrease their `header`
    and `skiprows` values on such tables to work around the issue. ([GH 21641](https://github.com/pandas-dev/pandas/issues/21641))'
  id: totrans-2087
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当考虑`skiprows`和`header`参数时，[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html
    "pandas.read_html")不再忽略`<thead>`中的所有空白`<tr>`。 之前，用户必须减少这些表上的`header`和`skiprows`值以解决此问题（[GH
    21641](https://github.com/pandas-dev/pandas/issues/21641)）。
- en: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") will correctly show the deprecation warning for previously
    deprecated `sheetname` ([GH 17994](https://github.com/pandas-dev/pandas/issues/17994))'
  id: totrans-2088
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 将正确显示先前已弃用的`sheetname`的弃用警告（[GH 17994](https://github.com/pandas-dev/pandas/issues/17994)）。'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    and [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") will throw `UnicodeError` and not coredump on badly encoded
    strings ([GH 22748](https://github.com/pandas-dev/pandas/issues/22748))'
  id: totrans-2089
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在坏编码的字符串上读取数据时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 和 [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") 将抛出 `UnicodeError` 而不会造成核心转储（[GH 22748](https://github.com/pandas-dev/pandas/issues/22748)）。
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    will correctly parse timezone-aware datetimes ([GH 22256](https://github.com/pandas-dev/pandas/issues/22256))'
  id: totrans-2090
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    将正确解析时区感知的日期时间（[GH 22256](https://github.com/pandas-dev/pandas/issues/22256)）。'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which memory management was prematurely optimized for the
    C engine when the data was being read in chunks ([GH 23509](https://github.com/pandas-dev/pandas/issues/23509))
  id: totrans-2091
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当数据被分块读取时，在 C 引擎中对内存管理进行了过早的优化，导致[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中存在错误（[GH 23509](https://github.com/pandas-dev/pandas/issues/23509)）。
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in unnamed columns were being improperly identified when extracting
    a multi-index ([GH 23687](https://github.com/pandas-dev/pandas/issues/23687))
  id: totrans-2092
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在提取多重索引时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中存在 bug，未命名的列被错误地识别。([GH 23687](https://github.com/pandas-dev/pandas/issues/23687))
- en: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    will parse numbers in sas7bdat-files that have width less than 8 bytes correctly.
    ([GH 21616](https://github.com/pandas-dev/pandas/issues/21616))'
  id: totrans-2093
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    将正确解析宽度小于 8 字节的 sas7bdat 文件中的数字。([GH 21616](https://github.com/pandas-dev/pandas/issues/21616))'
- en: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    will correctly parse sas7bdat files with many columns ([GH 22628](https://github.com/pandas-dev/pandas/issues/22628))'
  id: totrans-2094
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    将正确解析具有许多列的 sas7bdat 文件。([GH 22628](https://github.com/pandas-dev/pandas/issues/22628))'
- en: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    will correctly parse sas7bdat files with data page types having also bit 7 set
    (so page type is 128 + 256 = 384) ([GH 16615](https://github.com/pandas-dev/pandas/issues/16615))'
  id: totrans-2095
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    将正确解析数据页类型为 128 + 256 = 384 的 sas7bdat 文件。([GH 16615](https://github.com/pandas-dev/pandas/issues/16615))'
- en: Bug in [`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas
    "pandas.read_sas") in which an incorrect error was raised on an invalid file format.
    ([GH 24548](https://github.com/pandas-dev/pandas/issues/24548))
  id: totrans-2096
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    中存在 bug，当文件格式无效时会引发错误。([GH 24548](https://github.com/pandas-dev/pandas/issues/24548))
- en: Bug in `detect_client_encoding()` where potential `IOError` goes unhandled when
    importing in a mod_wsgi process due to restricted access to stdout. ([GH 21552](https://github.com/pandas-dev/pandas/issues/21552))
  id: totrans-2097
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `detect_client_encoding()` 中存在 bug，在 mod_wsgi 进程中导入时，由于对标准输出的访问受限，潜在的 `IOError`
    未被处理。([GH 21552](https://github.com/pandas-dev/pandas/issues/21552))
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") with `index=False` misses truncation indicators (…)
    on truncated DataFrame ([GH 15019](https://github.com/pandas-dev/pandas/issues/15019),
    [GH 22783](https://github.com/pandas-dev/pandas/issues/22783))
  id: totrans-2098
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有 `index=False` 的情况下，[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 存在 bug，在截断的 DataFrame 上未显示截断指示符（…）。([GH 15019](https://github.com/pandas-dev/pandas/issues/15019),
    [GH 22783](https://github.com/pandas-dev/pandas/issues/22783))
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") with `index=False` when both columns and row index
    are `MultiIndex` ([GH 22579](https://github.com/pandas-dev/pandas/issues/22579))
  id: totrans-2099
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有 `index=False` 的情况下，[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 存在 bug，当列和行索引都是 `MultiIndex` 时，无法正确识别。([GH 22579](https://github.com/pandas-dev/pandas/issues/22579))
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") with `index_names=False` displaying index name ([GH
    22747](https://github.com/pandas-dev/pandas/issues/22747))
  id: totrans-2100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有 `index_names=False` 的情况下，[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 存在 bug，显示索引名称。([GH 22747](https://github.com/pandas-dev/pandas/issues/22747))
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") with `header=False` not displaying row index names
    ([GH 23788](https://github.com/pandas-dev/pandas/issues/23788))
  id: totrans-2101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有 `header=False` 的情况下，[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 存在 bug，不显示行索引名称。([GH 23788](https://github.com/pandas-dev/pandas/issues/23788))
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") with `sparsify=False` that caused it to raise `TypeError`
    ([GH 22887](https://github.com/pandas-dev/pandas/issues/22887))
  id: totrans-2102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有 `sparsify=False` 的情况下，[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 存在 bug，导致它引发 `TypeError`。([GH 22887](https://github.com/pandas-dev/pandas/issues/22887))
- en: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") that broke column alignment when `index=False` and
    width of first column’s values is greater than the width of first column’s header
    ([GH 16839](https://github.com/pandas-dev/pandas/issues/16839), [GH 13032](https://github.com/pandas-dev/pandas/issues/13032))
  id: totrans-2103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内联代码[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string")中的错误导致列对齐在`index=False`且第一列的值的宽度大于第一列标题的宽度时出现问题（[GH
    16839](https://github.com/pandas-dev/pandas/issues/16839), [GH 13032](https://github.com/pandas-dev/pandas/issues/13032))
- en: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") that caused representations of [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") to not take up the whole window ([GH 22984](https://github.com/pandas-dev/pandas/issues/22984))
  id: totrans-2104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内联代码[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string")中的错误导致[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")的表示未占据整个窗口([GH 22984](https://github.com/pandas-dev/pandas/issues/22984))
- en: Bug in [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") where a single level MultiIndex incorrectly wrote a
    tuple. Now just the value of the index is written ([GH 19589](https://github.com/pandas-dev/pandas/issues/19589)).
  id: totrans-2105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv")中的错误，单级MultiIndex不正确地写入了一个元组。现在只写入索引的值（[GH 19589](https://github.com/pandas-dev/pandas/issues/19589)).'
- en: '`HDFStore` will raise `ValueError` when the `format` kwarg is passed to the
    constructor ([GH 13291](https://github.com/pandas-dev/pandas/issues/13291))'
  id: totrans-2106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`format` kwarg传递给构造函数时，`HDFStore`会引发`ValueError`（[GH 13291](https://github.com/pandas-dev/pandas/issues/13291))
- en: Bug in [`HDFStore.append()`](../reference/api/pandas.HDFStore.append.html#pandas.HDFStore.append
    "pandas.HDFStore.append") when appending a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with an empty string column and `min_itemsize` < 8 ([GH 12242](https://github.com/pandas-dev/pandas/issues/12242))
  id: totrans-2107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在追加一个带有空字符串列和`min_itemsize` < 8的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")时，[`HDFStore.append()`](../reference/api/pandas.HDFStore.append.html#pandas.HDFStore.append
    "pandas.HDFStore.append")中的错误([GH 12242](https://github.com/pandas-dev/pandas/issues/12242))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which memory leaks occurred in the C engine when parsing
    `NaN` values due to insufficient cleanup on completion or error ([GH 21353](https://github.com/pandas-dev/pandas/issues/21353))
  id: totrans-2108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")中的错误，在解析`NaN`值时发生内存泄漏，原因是在完成或出现错误时清理不足([GH
    21353](https://github.com/pandas-dev/pandas/issues/21353))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which incorrect error messages were being raised when `skipfooter`
    was passed in along with `nrows`, `iterator`, or `chunksize` ([GH 23711](https://github.com/pandas-dev/pandas/issues/23711))
  id: totrans-2109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在传递`skipfooter`时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")中的错误消息不正确地引发了`nrows`，`iterator`或`chunksize`([GH 23711](https://github.com/pandas-dev/pandas/issues/23711))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") index names were being improperly handled in the cases when
    they were not provided ([GH 23484](https://github.com/pandas-dev/pandas/issues/23484))
  id: totrans-2110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")索引名称未提供时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")中错误地处理了它们([GH 23484](https://github.com/pandas-dev/pandas/issues/23484))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which unnecessary warnings were being raised when the dialect’s
    values conflicted with the default arguments ([GH 23761](https://github.com/pandas-dev/pandas/issues/23761))
  id: totrans-2111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在方言的值与默认参数发生冲突时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")中不必要的警告被引发([GH 23761](https://github.com/pandas-dev/pandas/issues/23761))
- en: Bug in [`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html
    "pandas.read_html") in which the error message was not displaying the valid flavors
    when an invalid one was provided ([GH 23549](https://github.com/pandas-dev/pandas/issues/23549))
  id: totrans-2112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在提供无效参数时，[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html
    "pandas.read_html")中的错误消息未显示有效的参数选择([GH 23549](https://github.com/pandas-dev/pandas/issues/23549))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") in which extraneous header names were extracted, even though
    none were specified ([GH 11733](https://github.com/pandas-dev/pandas/issues/11733))
  id: totrans-2113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 存在一个 Bug，在这个 Bug 中，即使没有指定，也会提取多余的标题名 ([GH 11733](https://github.com/pandas-dev/pandas/issues/11733))'
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") in which column names were not being properly converted to
    string sometimes in Python 2.x ([GH 23874](https://github.com/pandas-dev/pandas/issues/23874))
  id: totrans-2114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 存在一个 Bug，在这个 Bug 中，有时列名没有被正确转换为字符串，特别是在 Python 2.x 中 ([GH
    23874](https://github.com/pandas-dev/pandas/issues/23874))'
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") in which `index_col=None` was not being respected and parsing
    index columns anyway ([GH 18792](https://github.com/pandas-dev/pandas/issues/18792),
    [GH 20480](https://github.com/pandas-dev/pandas/issues/20480))
  id: totrans-2115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 存在一个 Bug，在这个 Bug 中，`index_col=None` 没有被尊重，并且仍然解析索引列 ([GH
    18792](https://github.com/pandas-dev/pandas/issues/18792), [GH 20480](https://github.com/pandas-dev/pandas/issues/20480))'
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") in which `usecols` was not being validated for proper column
    names when passed in as a string ([GH 20480](https://github.com/pandas-dev/pandas/issues/20480))
  id: totrans-2116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 存在一个 Bug，在这个 Bug 中，当作为字符串传入时，`usecols` 没有被验证为正确的列名 ([GH 20480](https://github.com/pandas-dev/pandas/issues/20480))'
- en: Bug in [`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") when the resulting dict contains non-Python scalars
    in the case of numeric data ([GH 23753](https://github.com/pandas-dev/pandas/issues/23753))
  id: totrans-2117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") 存在一个 Bug，当结果字典包含非 Python 标量时，会出现问题，特别是在数值数据的情况下 ([GH
    23753](https://github.com/pandas-dev/pandas/issues/23753))'
- en: '[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string"), [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html"), [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") will correctly format output when a string is passed
    as the `float_format` argument ([GH 21625](https://github.com/pandas-dev/pandas/issues/21625),
    [GH 22270](https://github.com/pandas-dev/pandas/issues/22270))'
  id: totrans-2118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string")、[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html")、[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") 当传递字符串作为 `float_format` 参数时，将正确格式化输出 ([GH 21625](https://github.com/pandas-dev/pandas/issues/21625),
    [GH 22270](https://github.com/pandas-dev/pandas/issues/22270))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") that caused it to raise `OverflowError` when trying to use
    ‘inf’ as `na_value` with integer index column ([GH 17128](https://github.com/pandas-dev/pandas/issues/17128))
  id: totrans-2119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    存在一个 Bug，当尝试将 ‘inf’ 作为 `na_value` 与整数索引列一起使用时，会引发 `OverflowError` ([GH 17128](https://github.com/pandas-dev/pandas/issues/17128))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") that caused the C engine on Python 3.6+ on Windows to improperly
    read CSV filenames with accented or special characters ([GH 15086](https://github.com/pandas-dev/pandas/issues/15086))
  id: totrans-2120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    存在一个 Bug，导致 C 引擎在 Python 3.6+ 的 Windows 上无法正确读取带有重音符号或特殊字符的 CSV 文件名 ([GH 15086](https://github.com/pandas-dev/pandas/issues/15086))'
- en: Bug in [`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf
    "pandas.read_fwf") in which the compression type of a file was not being properly
    inferred ([GH 22199](https://github.com/pandas-dev/pandas/issues/22199))
  id: totrans-2121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf "pandas.read_fwf")
    存在一个 Bug，文件的压缩类型没有被正确推断 ([GH 22199](https://github.com/pandas-dev/pandas/issues/22199))'
- en: Bug in `pandas.io.json.json_normalize()` that caused it to raise `TypeError`
    when two consecutive elements of `record_path` are dicts ([GH 22706](https://github.com/pandas-dev/pandas/issues/22706))
  id: totrans-2122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.io.json.json_normalize()` 存在一个 Bug，导致在 `record_path` 的两个连续元素是字典时会引发
    `TypeError` ([GH 22706](https://github.com/pandas-dev/pandas/issues/22706))'
- en: Bug in [`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata"), `pandas.io.stata.StataWriter` and `pandas.io.stata.StataWriter117`
    where a exception would leave a partially written and invalid dta file ([GH 23573](https://github.com/pandas-dev/pandas/issues/23573))
  id: totrans-2123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata")、`pandas.io.stata.StataWriter`和`pandas.io.stata.StataWriter117`中存在的错误，即异常将导致部分写入且无效的dta文件（[GH
    23573](https://github.com/pandas-dev/pandas/issues/23573)）
- en: Bug in [`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata") and `pandas.io.stata.StataWriter117` that produced
    invalid files when using strLs with non-ASCII characters ([GH 23573](https://github.com/pandas-dev/pandas/issues/23573))
  id: totrans-2124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用带有非ASCII字符的strLs时，在[`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata")和`pandas.io.stata.StataWriter117`中产生无效文件的错误（[GH 23573](https://github.com/pandas-dev/pandas/issues/23573)）
- en: Bug in `HDFStore` that caused it to raise `ValueError` when reading a Dataframe
    in Python 3 from fixed format written in Python 2 ([GH 24510](https://github.com/pandas-dev/pandas/issues/24510))
  id: totrans-2125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Python 3中从Python 2中写入的固定格式中读取Dataframe时，导致`ValueError`的`HDFStore`中存在的错误（[GH
    24510](https://github.com/pandas-dev/pandas/issues/24510)）
- en: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") and more generally in the floating `repr` formatter.
    Zeros were not trimmed if `inf` was present in a columns while it was the case
    with NA values. Zeros are now trimmed as in the presence of NA ([GH 24861](https://github.com/pandas-dev/pandas/issues/24861)).
  id: totrans-2126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string")和浮点`repr`格式化器中存在的错误。如果`inf`存在于列中，则零将不会被修剪，而在存在NA值时则会被修剪。现在在存在NA时也会修剪零（[GH
    24861](https://github.com/pandas-dev/pandas/issues/24861)）
- en: Bug in the `repr` when truncating the number of columns and having a wide last
    column ([GH 24849](https://github.com/pandas-dev/pandas/issues/24849)).
  id: totrans-2127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在截断列数并且最后一列宽度较宽时，`repr`中存在的错误（[GH 24849](https://github.com/pandas-dev/pandas/issues/24849)）
- en: Plotting
  id: totrans-2128
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 绘图
- en: Bug in [`DataFrame.plot.scatter()`](../reference/api/pandas.DataFrame.plot.scatter.html#pandas.DataFrame.plot.scatter
    "pandas.DataFrame.plot.scatter") and [`DataFrame.plot.hexbin()`](../reference/api/pandas.DataFrame.plot.hexbin.html#pandas.DataFrame.plot.hexbin
    "pandas.DataFrame.plot.hexbin") caused x-axis label and ticklabels to disappear
    when colorbar was on in IPython inline backend ([GH 10611](https://github.com/pandas-dev/pandas/issues/10611),
    [GH 10678](https://github.com/pandas-dev/pandas/issues/10678), and [GH 20455](https://github.com/pandas-dev/pandas/issues/20455))
  id: totrans-2129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在IPython内联后端中启用颜色条时，导致x轴标签和刻度标签消失的[`DataFrame.plot.scatter()`](../reference/api/pandas.DataFrame.plot.scatter.html#pandas.DataFrame.plot.scatter
    "pandas.DataFrame.plot.scatter")和[`DataFrame.plot.hexbin()`](../reference/api/pandas.DataFrame.plot.hexbin.html#pandas.DataFrame.plot.hexbin
    "pandas.DataFrame.plot.hexbin")中存在的错误（[GH 10611](https://github.com/pandas-dev/pandas/issues/10611)、[GH
    10678](https://github.com/pandas-dev/pandas/issues/10678)和[GH 20455](https://github.com/pandas-dev/pandas/issues/20455))
- en: Bug in plotting a Series with datetimes using `matplotlib.axes.Axes.scatter()`
    ([GH 22039](https://github.com/pandas-dev/pandas/issues/22039))
  id: totrans-2130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`matplotlib.axes.Axes.scatter()`绘制具有日期时间的序列时出现的错误（[GH 22039](https://github.com/pandas-dev/pandas/issues/22039)）
- en: Bug in [`DataFrame.plot.bar()`](../reference/api/pandas.DataFrame.plot.bar.html#pandas.DataFrame.plot.bar
    "pandas.DataFrame.plot.bar") caused bars to use multiple colors instead of a single
    one ([GH 20585](https://github.com/pandas-dev/pandas/issues/20585))
  id: totrans-2131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`DataFrame.plot.bar()`](../reference/api/pandas.DataFrame.plot.bar.html#pandas.DataFrame.plot.bar
    "pandas.DataFrame.plot.bar")时出现的错误，导致柱形图使用多种颜色而不是单一颜色（[GH 20585](https://github.com/pandas-dev/pandas/issues/20585)）
- en: Bug in validating color parameter caused extra color to be appended to the given
    color array. This happened to multiple plotting functions using matplotlib. ([GH
    20726](https://github.com/pandas-dev/pandas/issues/20726))
  id: totrans-2132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在验证颜色参数时出现的错误，导致额外的颜色被追加到给定的颜色数组中。这发生在使用matplotlib的多个绘图函数中（[GH 20726](https://github.com/pandas-dev/pandas/issues/20726)）
- en: GroupBy/resample/rolling
  id: totrans-2133
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分组/重采样/滚动
- en: Bug in `Rolling.min()` and `Rolling.max()` with `closed='left'`, a datetime-like
    index and only one entry in the series leading to segfault ([GH 24718](https://github.com/pandas-dev/pandas/issues/24718))
  id: totrans-2134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Rolling.min()`和`Rolling.max()`中使用`closed='left'`，具有类似日期时间的索引且系列中仅有一个条目时导致段错误的错误（[GH
    24718](https://github.com/pandas-dev/pandas/issues/24718)）
- en: Bug in `GroupBy.first()` and `GroupBy.last()` with `as_index=False` leading
    to the loss of timezone information ([GH 15884](https://github.com/pandas-dev/pandas/issues/15884))
  id: totrans-2135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `GroupBy.first()` 和 `GroupBy.last()` 中存在一个 bug，当 `as_index=False` 时，会导致时区信息丢失
    ([GH 15884](https://github.com/pandas-dev/pandas/issues/15884))
- en: Bug in `DateFrame.resample()` when downsampling across a DST boundary ([GH 8531](https://github.com/pandas-dev/pandas/issues/8531))
  id: totrans-2136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在跨越 DST 边界下采样时，`DateFrame.resample()` 存在一个 bug ([GH 8531](https://github.com/pandas-dev/pandas/issues/8531))
- en: Bug in date anchoring for `DateFrame.resample()` with offset `Day` when n >
    1 ([GH 24127](https://github.com/pandas-dev/pandas/issues/24127))
  id: totrans-2137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用偏移量 `Day` 时，`DateFrame.resample()` 中日期定位存在一个 bug，当 n > 1 时 ([GH 24127](https://github.com/pandas-dev/pandas/issues/24127))
- en: Bug where `ValueError` is wrongly raised when calling `SeriesGroupBy.count()`
    method of a `SeriesGroupBy` when the grouping variable only contains NaNs and
    numpy version < 1.13 ([GH 21956](https://github.com/pandas-dev/pandas/issues/21956)).
  id: totrans-2138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当调用 `SeriesGroupBy` 的 `count()` 方法时，如果分组变量只包含 NaN 并且 numpy 版本 < 1.13，则错误地引发
    `ValueError` ([GH 21956](https://github.com/pandas-dev/pandas/issues/21956)).
- en: Multiple bugs in `Rolling.min()` with `closed='left'` and a datetime-like index
    leading to incorrect results and also segfault. ([GH 21704](https://github.com/pandas-dev/pandas/issues/21704))
  id: totrans-2139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Rolling.min()` 中存在多个 bug，使用 `closed='left'` 和 datetime-like 索引会导致错误的结果，并且可能会崩溃。
    ([GH 21704](https://github.com/pandas-dev/pandas/issues/21704))
- en: Bug in [`Resampler.apply()`](../reference/api/pandas.core.resample.Resampler.apply.html#pandas.core.resample.Resampler.apply
    "pandas.core.resample.Resampler.apply") when passing positional arguments to applied
    func ([GH 14615](https://github.com/pandas-dev/pandas/issues/14615)).
  id: totrans-2140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Resampler.apply()`](../reference/api/pandas.core.resample.Resampler.apply.html#pandas.core.resample.Resampler.apply
    "pandas.core.resample.Resampler.apply") 中存在一个 bug，当将位置参数传递给应用的函数时 ([GH 14615](https://github.com/pandas-dev/pandas/issues/14615)).
- en: Bug in [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") when passing `numpy.timedelta64` to `loffset` kwarg
    ([GH 7687](https://github.com/pandas-dev/pandas/issues/7687)).
  id: totrans-2141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") 中存在一个 bug，当将 `numpy.timedelta64` 传递给 `loffset` kwarg
    时 ([GH 7687](https://github.com/pandas-dev/pandas/issues/7687)).
- en: Bug in [`Resampler.asfreq()`](../reference/api/pandas.core.resample.Resampler.asfreq.html#pandas.core.resample.Resampler.asfreq
    "pandas.core.resample.Resampler.asfreq") when frequency of `TimedeltaIndex` is
    a subperiod of a new frequency ([GH 13022](https://github.com/pandas-dev/pandas/issues/13022)).
  id: totrans-2142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `TimedeltaIndex` 的频率是新频率的子周期时，在 [`Resampler.asfreq()`](../reference/api/pandas.core.resample.Resampler.asfreq.html#pandas.core.resample.Resampler.asfreq
    "pandas.core.resample.Resampler.asfreq") 中存在一个 bug ([GH 13022](https://github.com/pandas-dev/pandas/issues/13022)).
- en: Bug in [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean") when values were integral but could
    not fit inside of int64, overflowing instead. ([GH 22487](https://github.com/pandas-dev/pandas/issues/22487))
  id: totrans-2143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当值是整数但无法适应 int64 时，[`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean") 中存在一个 bug，会溢出。 ([GH 22487](https://github.com/pandas-dev/pandas/issues/22487))
- en: '`RollingGroupby.agg()` and `ExpandingGroupby.agg()` now support multiple aggregation
    functions as parameters ([GH 15072](https://github.com/pandas-dev/pandas/issues/15072))'
  id: totrans-2144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RollingGroupby.agg()` 和 `ExpandingGroupby.agg()` 现在支持多个聚合函数作为参数 ([GH 15072](https://github.com/pandas-dev/pandas/issues/15072))'
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") and [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") when resampling by a weekly offset (`'W'`) across a
    DST transition ([GH 9119](https://github.com/pandas-dev/pandas/issues/9119), [GH
    21459](https://github.com/pandas-dev/pandas/issues/21459))
  id: totrans-2145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在按周偏移 (`'W'`) 跨越 DST 转换时，[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 和 [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") 存在一个 bug ([GH 9119](https://github.com/pandas-dev/pandas/issues/9119),
    [GH 21459](https://github.com/pandas-dev/pandas/issues/21459))
- en: Bug in [`DataFrame.expanding()`](../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding
    "pandas.DataFrame.expanding") in which the `axis` argument was not being respected
    during aggregations ([GH 23372](https://github.com/pandas-dev/pandas/issues/23372))
  id: totrans-2146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.expanding()`](../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding
    "pandas.DataFrame.expanding") 中存在一个 bug，聚合时未遵守 `axis` 参数 ([GH 23372](https://github.com/pandas-dev/pandas/issues/23372))
- en: Bug in `GroupBy.transform()` which caused missing values when the input function
    can accept a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") but renames it ([GH 23455](https://github.com/pandas-dev/pandas/issues/23455)).
  id: totrans-2147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`GroupBy.transform()`中存在bug，当输入函数可以接受[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")但重命名时会导致缺失值（[GH 23455](https://github.com/pandas-dev/pandas/issues/23455)）。
- en: Bug in `GroupBy.nth()` where column order was not always preserved ([GH 20760](https://github.com/pandas-dev/pandas/issues/20760))
  id: totrans-2148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`GroupBy.nth()`中存在bug，列顺序不总是被保留（[GH 20760](https://github.com/pandas-dev/pandas/issues/20760)）。
- en: Bug in `GroupBy.rank()` with `method='dense'` and `pct=True` when a group has
    only one member would raise a `ZeroDivisionError` ([GH 23666](https://github.com/pandas-dev/pandas/issues/23666)).
  id: totrans-2149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`method='dense'`和`pct=True`时，`GroupBy.rank()`存在bug，当一个组只有一个成员时会引发`ZeroDivisionError`（[GH
    23666](https://github.com/pandas-dev/pandas/issues/23666)）。
- en: Calling `GroupBy.rank()` with empty groups and `pct=True` was raising a `ZeroDivisionError`
    ([GH 22519](https://github.com/pandas-dev/pandas/issues/22519))
  id: totrans-2150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用空组调用`GroupBy.rank()`和`pct=True`会引发`ZeroDivisionError`（[GH 22519](https://github.com/pandas-dev/pandas/issues/22519)）。
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") when resampling `NaT` in `TimeDeltaIndex` ([GH 13223](https://github.com/pandas-dev/pandas/issues/13223)).
  id: totrans-2151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`TimeDeltaIndex`中重新采样`NaT`时，[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample")存在bug（[GH 13223](https://github.com/pandas-dev/pandas/issues/13223)）。
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") did not respect the `observed` argument when selecting
    a column and instead always used `observed=False` ([GH 23970](https://github.com/pandas-dev/pandas/issues/23970))
  id: totrans-2152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在选择列时，[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby")中存在bug，不尊重`observed`参数，而总是使用`observed=False`（[GH 23970](https://github.com/pandas-dev/pandas/issues/23970)）。
- en: Bug in `SeriesGroupBy.pct_change()` or `DataFrameGroupBy.pct_change()` would
    previously work across groups when calculating the percent change, where it now
    correctly works per group ([GH 21200](https://github.com/pandas-dev/pandas/issues/21200),
    [GH 21235](https://github.com/pandas-dev/pandas/issues/21235)).
  id: totrans-2153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在计算百分比变化时，`SeriesGroupBy.pct_change()`或`DataFrameGroupBy.pct_change()`之前会跨组工作，现在正确地按组工作（[GH
    21200](https://github.com/pandas-dev/pandas/issues/21200)，[GH 21235](https://github.com/pandas-dev/pandas/issues/21235)）。
- en: Bug preventing hash table creation with very large number (2^32) of rows ([GH
    22805](https://github.com/pandas-dev/pandas/issues/22805))
  id: totrans-2154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阻止使用非常大数量（2^32）的行创建哈希表的bug（[GH 22805](https://github.com/pandas-dev/pandas/issues/22805)）。
- en: Bug in groupby when grouping on categorical causes `ValueError` and incorrect
    grouping if `observed=True` and `nan` is present in categorical column ([GH 24740](https://github.com/pandas-dev/pandas/issues/24740),
    [GH 21151](https://github.com/pandas-dev/pandas/issues/21151)).
  id: totrans-2155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在对分类进行分组时，如果`observed=True`且分类列中存在`nan`，会导致`ValueError`和错误的分组，存在bug（[GH 24740](https://github.com/pandas-dev/pandas/issues/24740)，[GH
    21151](https://github.com/pandas-dev/pandas/issues/21151)）。
- en: Reshaping
  id: totrans-2156
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 重塑
- en: Bug in [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") when joining resampled DataFrames with timezone aware index ([GH
    13783](https://github.com/pandas-dev/pandas/issues/13783))
  id: totrans-2157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有时区感知索引的重新采样的DataFrames中连接时，[`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat")存在bug（[GH 13783](https://github.com/pandas-dev/pandas/issues/13783)）。
- en: Bug in [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") when joining only `Series` the `names` argument of `concat` is
    no longer ignored ([GH 23490](https://github.com/pandas-dev/pandas/issues/23490))
  id: totrans-2158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在仅连接`Series`时，[`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat")不再忽略`concat`的`names`参数（[GH 23490](https://github.com/pandas-dev/pandas/issues/23490)）。
- en: Bug in [`Series.combine_first()`](../reference/api/pandas.Series.combine_first.html#pandas.Series.combine_first
    "pandas.Series.combine_first") with `datetime64[ns, tz]` dtype which would return
    tz-naive result ([GH 21469](https://github.com/pandas-dev/pandas/issues/21469))
  id: totrans-2159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`datetime64[ns, tz]`数据类型中，[`Series.combine_first()`](../reference/api/pandas.Series.combine_first.html#pandas.Series.combine_first
    "pandas.Series.combine_first")存在bug，会返回tz-naive结果（[GH 21469](https://github.com/pandas-dev/pandas/issues/21469)）。
- en: Bug in [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") and [`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") with `datetime64[ns, tz]` dtype ([GH 21546](https://github.com/pandas-dev/pandas/issues/21546))
  id: totrans-2160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `datetime64[ns, tz]` 数据类型存在时，[`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") 和 [`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") 存在错误（[GH 21546](https://github.com/pandas-dev/pandas/issues/21546)）
- en: Bug in [`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") with an empty DataFrame and empty `cond` having non-bool
    dtype ([GH 21947](https://github.com/pandas-dev/pandas/issues/21947))
  id: totrans-2161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当空 DataFrame 和空 `cond` 具有非布尔数据类型时，[`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") 存在错误（[GH 21947](https://github.com/pandas-dev/pandas/issues/21947)）
- en: Bug in [`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask") and [`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask") with `list` conditionals ([GH 21891](https://github.com/pandas-dev/pandas/issues/21891))
  id: totrans-2162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用 `list` 条件时，[`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask") 和 [`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask") 存在错误（[GH 21891](https://github.com/pandas-dev/pandas/issues/21891)）
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") raises RecursionError when converting OutOfBounds
    `datetime64[ns, tz]` ([GH 20380](https://github.com/pandas-dev/pandas/issues/20380))
  id: totrans-2163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当转换超出范围的 `datetime64[ns, tz]` 时，[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 存在 RecursionError 错误（[GH 20380](https://github.com/pandas-dev/pandas/issues/20380)）
- en: '`GroupBy.rank()` now raises a `ValueError` when an invalid value is passed
    for argument `na_option` ([GH 22124](https://github.com/pandas-dev/pandas/issues/22124))'
  id: totrans-2164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当参数 `na_option` 传递无效值时，`GroupBy.rank()` 现在会引发 `ValueError` 错误（[GH 22124](https://github.com/pandas-dev/pandas/issues/22124)）
- en: Bug in [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") with Unicode attributes in Python 2 ([GH 22084](https://github.com/pandas-dev/pandas/issues/22084))
  id: totrans-2165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Python 2 中，[`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") 中的 Unicode 属性存在错误（[GH 22084](https://github.com/pandas-dev/pandas/issues/22084)）
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") raises `RecursionError` when replacing empty lists
    ([GH 22083](https://github.com/pandas-dev/pandas/issues/22083))
  id: totrans-2166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当替换空列表时，[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 存在 `RecursionError` 错误（[GH 22083](https://github.com/pandas-dev/pandas/issues/22083)）
- en: Bug in [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") and [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") when dict is used as the `to_replace` value and one
    key in the dict is another key’s value, the results were inconsistent between
    using integer key and using string key ([GH 20656](https://github.com/pandas-dev/pandas/issues/20656))
  id: totrans-2167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用字典作为 `to_replace` 值，并且字典中的一个键是另一个键的值时，使用整数键和使用字符串键之间的结果不一致，[`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 和 [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 存在错误（[GH 20656](https://github.com/pandas-dev/pandas/issues/20656)）
- en: Bug in [`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") for empty `DataFrame` which incorrectly raises
    an error ([GH 20516](https://github.com/pandas-dev/pandas/issues/20516))
  id: totrans-2168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于空 `DataFrame`，[`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") 错误地引发错误（[GH 20516](https://github.com/pandas-dev/pandas/issues/20516)）
- en: Bug in [`pandas.wide_to_long()`](../reference/api/pandas.wide_to_long.html#pandas.wide_to_long
    "pandas.wide_to_long") when a string is passed to the stubnames argument and a
    column name is a substring of that stubname ([GH 22468](https://github.com/pandas-dev/pandas/issues/22468))
  id: totrans-2169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当将字符串传递给 stubnames 参数并且列名是该 stubname 的子字符串时，[`pandas.wide_to_long()`](../reference/api/pandas.wide_to_long.html#pandas.wide_to_long
    "pandas.wide_to_long") 存在错误（[GH 22468](https://github.com/pandas-dev/pandas/issues/22468)）
- en: Bug in [`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    when merging `datetime64[ns, tz]` data that contained a DST transition ([GH 18885](https://github.com/pandas-dev/pandas/issues/18885))
  id: totrans-2170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    中存在一个错误，当合并包含 DST 转换的 `datetime64[ns, tz]` 数据时出现错误（[GH 18885](https://github.com/pandas-dev/pandas/issues/18885)）。
- en: Bug in [`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") when merging on float values within defined tolerance ([GH
    22981](https://github.com/pandas-dev/pandas/issues/22981))
  id: totrans-2171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") 中存在一个错误，当在定义的容差范围内对浮点值进行合并时出错（[GH 22981](https://github.com/pandas-dev/pandas/issues/22981)）。
- en: Bug in [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") when concatenating a multicolumn DataFrame with tz-aware data
    against a DataFrame with a different number of columns ([GH 22796](https://github.com/pandas-dev/pandas/issues/22796))
  id: totrans-2172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    中存在一个错误，当连接带有时区感知数据的多列 DataFrame 与具有不同列数的 DataFrame 时会出现错误（[GH 22796](https://github.com/pandas-dev/pandas/issues/22796)）。
- en: Bug in [`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") where confusing error message raised when attempting to merge
    with missing values ([GH 23189](https://github.com/pandas-dev/pandas/issues/23189))
  id: totrans-2173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") 中存在一个错误，当尝试与缺失值合并时会引发混淆的错误消息（[GH 23189](https://github.com/pandas-dev/pandas/issues/23189)）。
- en: Bug in [`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest") and [`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest") for dataframes that have a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") for columns ([GH 23033](https://github.com/pandas-dev/pandas/issues/23033)).
  id: totrans-2174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest") 和 [`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest") 中存在一个错误，对于具有 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 列的数据帧（[GH 23033](https://github.com/pandas-dev/pandas/issues/23033)）。
- en: Bug in [`pandas.melt()`](../reference/api/pandas.melt.html#pandas.melt "pandas.melt")
    when passing column names that are not present in `DataFrame` ([GH 23575](https://github.com/pandas-dev/pandas/issues/23575))
  id: totrans-2175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`pandas.melt()`](../reference/api/pandas.melt.html#pandas.melt "pandas.melt")
    中存在一个错误，当传递的列名在 `DataFrame` 中不存在时（[GH 23575](https://github.com/pandas-dev/pandas/issues/23575)）。
- en: Bug in `DataFrame.append()` with a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with a dateutil timezone would raise a `TypeError` ([GH 23682](https://github.com/pandas-dev/pandas/issues/23682))
  id: totrans-2176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrame.append()` 中存在一个错误，当带有 dateutil 时区的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 进行追加时会引发 `TypeError`（[GH 23682](https://github.com/pandas-dev/pandas/issues/23682)）。
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    construction when passing no data and `dtype=str` ([GH 22477](https://github.com/pandas-dev/pandas/issues/22477))
  id: totrans-2177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在构建 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    时出现错误，当传递的数据为空且 `dtype=str` 时（[GH 22477](https://github.com/pandas-dev/pandas/issues/22477)）。
- en: Bug in [`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") with
    `bins` as an overlapping `IntervalIndex` where multiple bins were returned per
    item instead of raising a `ValueError` ([GH 23980](https://github.com/pandas-dev/pandas/issues/23980))
  id: totrans-2178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") 中存在一个错误，当
    `bins` 是重叠的 `IntervalIndex` 时，每个项目返回多个箱子而不是引发 `ValueError`（[GH 23980](https://github.com/pandas-dev/pandas/issues/23980)）。
- en: Bug in [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") when joining `Series` datetimetz with `Series` category would
    lose timezone ([GH 23816](https://github.com/pandas-dev/pandas/issues/23816))
  id: totrans-2179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    中存在一个错误，当将带有时区信息的 `Series` 与 `Series` 类别连接时会丢失时区信息（[GH 23816](https://github.com/pandas-dev/pandas/issues/23816)）。
- en: Bug in [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") when joining on partial MultiIndex would drop names ([GH
    20452](https://github.com/pandas-dev/pandas/issues/20452)).
  id: totrans-2180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") 中存在一个错误，当部分 MultiIndex 进行连接时会丢失名称（[GH 20452](https://github.com/pandas-dev/pandas/issues/20452)）。
- en: '[`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest") and [`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest") now returns the correct n values when keep != ‘all’
    also when tied on the first columns ([GH 22752](https://github.com/pandas-dev/pandas/issues/22752))'
  id: totrans-2181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest") 和 [`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest") 在 keep != ‘all’ 时返回正确的 n 值，同时在第一列并列时也返回正确的值 ([GH
    22752](https://github.com/pandas-dev/pandas/issues/22752))'
- en: Constructing a DataFrame with an index argument that wasn’t already an instance
    of [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") was
    broken ([GH 22227](https://github.com/pandas-dev/pandas/issues/22227)).
  id: totrans-2182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用不是 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    实例的索引参数构建 DataFrame 时出现问题 ([GH 22227](https://github.com/pandas-dev/pandas/issues/22227)).
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") prevented list subclasses to be used to construction ([GH
    21226](https://github.com/pandas-dev/pandas/issues/21226))
  id: totrans-2183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrame` 中的 Bug 阻止了列表子类用于构建 ([GH 21226](https://github.com/pandas-dev/pandas/issues/21226))
- en: Bug in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") and [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") returning a misleading error message when the
    resulting DataFrame has more elements than int32 can handle. Now, the error message
    is improved, pointing towards the actual problem ([GH 20601](https://github.com/pandas-dev/pandas/issues/20601))
  id: totrans-2184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") 和 [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") 在生成的 DataFrame 元素超过 int32 可处理范围时返回误导性错误消息的 Bug。现在，错误消息已经改进，指向实际问题
    ([GH 20601](https://github.com/pandas-dev/pandas/issues/20601))'
- en: Bug in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") where a `ValueError` was raised when unstacking timezone
    aware values ([GH 18338](https://github.com/pandas-dev/pandas/issues/18338))
  id: totrans-2185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") 中，当解除堆叠时抛出 `ValueError`，因为时区感知值 ([GH 18338](https://github.com/pandas-dev/pandas/issues/18338))
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") where timezone aware values were converted to timezone
    naive values ([GH 19420](https://github.com/pandas-dev/pandas/issues/19420))
  id: totrans-2186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") 中，时区感知值被转换为时区无关值的 Bug ([GH 19420](https://github.com/pandas-dev/pandas/issues/19420))
- en: Bug in [`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") where a `TypeError` was raised when `by_col` were timezone
    aware values ([GH 21184](https://github.com/pandas-dev/pandas/issues/21184))
  id: totrans-2187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") 中，当 `by_col` 是时区感知值时抛出 `TypeError` ([GH 21184](https://github.com/pandas-dev/pandas/issues/21184))
- en: Bug showing an incorrect shape when throwing error during `DataFrame` construction.
    ([GH 20742](https://github.com/pandas-dev/pandas/issues/20742))
  id: totrans-2188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrame` 构建过程中出现错误时显示错误形状不正确的 Bug。([GH 20742](https://github.com/pandas-dev/pandas/issues/20742))
- en: '### Sparse'
  id: totrans-2189
  prefs: []
  type: TYPE_NORMAL
  zh: '### 稀疏'
- en: Updating a boolean, datetime, or timedelta column to be Sparse now works ([GH
    22367](https://github.com/pandas-dev/pandas/issues/22367))
  id: totrans-2190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在可以将布尔、日期时间或时间增量列更新为稀疏列了 ([GH 22367](https://github.com/pandas-dev/pandas/issues/22367))
- en: Bug in `Series.to_sparse()` with Series already holding sparse data not constructing
    properly ([GH 22389](https://github.com/pandas-dev/pandas/issues/22389))
  id: totrans-2191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Series.to_sparse()` 中，已经持有稀疏数据的 Series 未能正确构建的 Bug ([GH 22389](https://github.com/pandas-dev/pandas/issues/22389))
- en: Providing a `sparse_index` to the SparseArray constructor no longer defaults
    the na-value to `np.nan` for all dtypes. The correct na_value for `data.dtype`
    is now used.
  id: totrans-2192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，向 SparseArray 构造函数提供 `sparse_index` 不再默认将所有 dtypes 的 na-value 设置为 `np.nan`。现在使用正确的
    na_value 为 `data.dtype`。
- en: Bug in `SparseArray.nbytes` under-reporting its memory usage by not including
    the size of its sparse index.
  id: totrans-2193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.nbytes` 的 Bug 未包括其稀疏索引大小，导致其内存使用量被低估。'
- en: Improved performance of [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift") for non-NA `fill_value`, as values are no longer converted
    to a dense array.
  id: totrans-2194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于非 NA `fill_value`，提高了 [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift") 的性能，因为值不再转换为密集数组。
- en: Bug in `DataFrame.groupby` not including `fill_value` in the groups for non-NA
    `fill_value` when grouping by a sparse column ([GH 5078](https://github.com/pandas-dev/pandas/issues/5078))
  id: totrans-2195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.groupby` 中存在一个 bug，在以稀疏列分组时，不包括 `fill_value` 在非 NA `fill_value`
    的分组中（[GH 5078](https://github.com/pandas-dev/pandas/issues/5078)）'
- en: Bug in unary inversion operator (`~`) on a `SparseSeries` with boolean values.
    The performance of this has also been improved ([GH 22835](https://github.com/pandas-dev/pandas/issues/22835))
  id: totrans-2196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有布尔值的 `SparseSeries` 上的一元求反运算符 (`~`) 存在 bug。此性能也已得到改进（[GH 22835](https://github.com/pandas-dev/pandas/issues/22835)）
- en: Bug in `SparseArary.unique()` not returning the unique values ([GH 19595](https://github.com/pandas-dev/pandas/issues/19595))
  id: totrans-2197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArary.unique()` 中存在一个 bug，未返回唯一值（[GH 19595](https://github.com/pandas-dev/pandas/issues/19595)）'
- en: Bug in `SparseArray.nonzero()` and `SparseDataFrame.dropna()` returning shifted/incorrect
    results ([GH 21172](https://github.com/pandas-dev/pandas/issues/21172))
  id: totrans-2198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.nonzero()` 和 `SparseDataFrame.dropna()` 存在 bug，返回的结果有偏移/不正确（[GH
    21172](https://github.com/pandas-dev/pandas/issues/21172)）'
- en: Bug in [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") where dtypes would lose sparseness ([GH 23744](https://github.com/pandas-dev/pandas/issues/23744))
  id: totrans-2199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply")中存在一个 bug，其中数据类型会丢失稀疏性（[GH 23744](https://github.com/pandas-dev/pandas/issues/23744)）
- en: Bug in [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    when concatenating a list of [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with all-sparse values changing the `fill_value` and converting
    to a dense Series ([GH 24371](https://github.com/pandas-dev/pandas/issues/24371))
  id: totrans-2200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在连接一组具有全稀疏值的 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    时，在 [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    中存在一个 bug，改变了 `fill_value` 并转换为密集 Series（[GH 24371](https://github.com/pandas-dev/pandas/issues/24371)）
- en: Style
  id: totrans-2201
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 样式
- en: '[`background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient") now takes a `text_color_threshold`
    parameter to automatically lighten the text color based on the luminance of the
    background color. This improves readability with dark background colors without
    the need to limit the background colormap range. ([GH 21258](https://github.com/pandas-dev/pandas/issues/21258))'
  id: totrans-2202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient") 现在接受一个 `text_color_threshold`
    参数，根据背景颜色的亮度自动调亮文本颜色。这在没有限制背景颜色映射范围的情况下，提高了深色背景颜色的可读性（[GH 21258](https://github.com/pandas-dev/pandas/issues/21258)）'
- en: '[`background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient") now also supports tablewise
    application (in addition to rowwise and columnwise) with `axis=None` ([GH 15204](https://github.com/pandas-dev/pandas/issues/15204))'
  id: totrans-2203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient") 现在也支持表格级的应用（除了行级和列级），使用
    `axis=None`（[GH 15204](https://github.com/pandas-dev/pandas/issues/15204)）'
- en: '[`bar()`](../reference/api/pandas.io.formats.style.Styler.bar.html#pandas.io.formats.style.Styler.bar
    "pandas.io.formats.style.Styler.bar") now also supports tablewise application
    (in addition to rowwise and columnwise) with `axis=None` and setting clipping
    range with `vmin` and `vmax` ([GH 21548](https://github.com/pandas-dev/pandas/issues/21548)
    and [GH 21526](https://github.com/pandas-dev/pandas/issues/21526)). `NaN` values
    are also handled properly.'
  id: totrans-2204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`bar()`](../reference/api/pandas.io.formats.style.Styler.bar.html#pandas.io.formats.style.Styler.bar
    "pandas.io.formats.style.Styler.bar") 现在也支持表格级的应用（除了行级和列级），使用 `axis=None` 设置剪裁范围，并使用
    `vmin` 和 `vmax` 设置剪裁范围。`NaN` 值也会被正确处理（[GH 21548](https://github.com/pandas-dev/pandas/issues/21548)
    和 [GH 21526](https://github.com/pandas-dev/pandas/issues/21526)）'
- en: Build changes
  id: totrans-2205
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 构建变更
- en: Building pandas for development now requires `cython >= 0.28.2` ([GH 21688](https://github.com/pandas-dev/pandas/issues/21688))
  id: totrans-2206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建 pandas 进行开发现在需要 `cython >= 0.28.2` （[GH 21688](https://github.com/pandas-dev/pandas/issues/21688)）
- en: Testing pandas now requires `hypothesis>=3.58`. You can find [the Hypothesis
    docs here](https://hypothesis.readthedocs.io/en/latest/index.html), and a pandas-specific
    introduction [in the contributing guide](../development/contributing_codebase.html#using-hypothesis).
    ([GH 22280](https://github.com/pandas-dev/pandas/issues/22280))
  id: totrans-2207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在测试 pandas 需要 `hypothesis>=3.58`。你可以在这里找到 [Hypothesis 文档](https://hypothesis.readthedocs.io/en/latest/index.html)，以及一个针对
    pandas 的介绍 [在贡献指南中](../development/contributing_codebase.html#using-hypothesis)。
    ([GH 22280](https://github.com/pandas-dev/pandas/issues/22280))
- en: Building pandas on macOS now targets minimum macOS 10.9 if run on macOS 10.9
    or above ([GH 23424](https://github.com/pandas-dev/pandas/issues/23424))
  id: totrans-2208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 macOS 上构建 pandas 现在将最低目标定为 macOS 10.9，如果在 macOS 10.9 或以上运行 ([GH 23424](https://github.com/pandas-dev/pandas/issues/23424))
- en: Other
  id: totrans-2209
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 其他
- en: Bug where C variables were declared with external linkage causing import errors
    if certain other C libraries were imported before pandas. ([GH 24113](https://github.com/pandas-dev/pandas/issues/24113))
  id: totrans-2210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 C 变量中声明外部链接引发了 bug，如果在 pandas 之前导入某些其他 C 库，则会导致导入错误。 ([GH 24113](https://github.com/pandas-dev/pandas/issues/24113))
- en: Categorical
  id: totrans-2211
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分类
- en: Bug in [`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes") where `NaN` values in `codes` were silently converted
    to `0` ([GH 21767](https://github.com/pandas-dev/pandas/issues/21767)). In the
    future this will raise a `ValueError`. Also changes the behavior of `.from_codes([1.1,
    2.0])`.
  id: totrans-2212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes") 中存在一个 bug，`codes` 中的 `NaN` 值会被悄悄地转换为 `0` ([GH
    21767](https://github.com/pandas-dev/pandas/issues/21767))。将来这将引发一个 `ValueError`。同时也改变了
    `.from_codes([1.1, 2.0])` 的行为。
- en: Bug in `Categorical.sort_values()` where `NaN` values were always positioned
    in front regardless of `na_position` value. ([GH 22556](https://github.com/pandas-dev/pandas/issues/22556)).
  id: totrans-2213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.sort_values()` 中存在一个 bug，`NaN` 值始终位于前面，而不管 `na_position` 的值如何
    ([GH 22556](https://github.com/pandas-dev/pandas/issues/22556))。'
- en: Bug when indexing with a boolean-valued `Categorical`. Now a boolean-valued
    `Categorical` is treated as a boolean mask ([GH 22665](https://github.com/pandas-dev/pandas/issues/22665))
  id: totrans-2214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用布尔值 `Categorical` 进行索引时存在 bug。现在将布尔值 `Categorical` 视为布尔掩码 ([GH 22665](https://github.com/pandas-dev/pandas/issues/22665))
- en: Constructing a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") with empty values and boolean categories was raising
    a `ValueError` after a change to dtype coercion ([GH 22702](https://github.com/pandas-dev/pandas/issues/22702)).
  id: totrans-2215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用空值和布尔类别构建 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 在 dtype coercion 更改后引发 `ValueError` ([GH 22702](https://github.com/pandas-dev/pandas/issues/22702))。
- en: Bug in `Categorical.take()` with a user-provided `fill_value` not encoding the
    `fill_value`, which could result in a `ValueError`, incorrect results, or a segmentation
    fault ([GH 23296](https://github.com/pandas-dev/pandas/issues/23296)).
  id: totrans-2216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.take()` 中存在一个 bug，当用户提供 `fill_value` 时未对其进行编码，可能导致 `ValueError`、错误的结果或段错误
    ([GH 23296](https://github.com/pandas-dev/pandas/issues/23296))。'
- en: In [`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack"), specifying a `fill_value` not present in the categories
    now raises a `TypeError` rather than ignoring the `fill_value` ([GH 23284](https://github.com/pandas-dev/pandas/issues/23284))
  id: totrans-2217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack") 中指定不存在于类别中的 `fill_value` 现在引发 `TypeError`，而不是忽略 `fill_value`
    ([GH 23284](https://github.com/pandas-dev/pandas/issues/23284))
- en: Bug when resampling [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") and aggregating on categorical data, the categorical
    dtype was getting lost. ([GH 23227](https://github.com/pandas-dev/pandas/issues/23227))
  id: totrans-2218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当对分类数据进行重采样 [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 并在聚合时出现 bug，分类 dtype 会丢失。 ([GH 23227](https://github.com/pandas-dev/pandas/issues/23227))
- en: Bug in many methods of the `.str`-accessor, which always failed on calling the
    `CategoricalIndex.str` constructor ([GH 23555](https://github.com/pandas-dev/pandas/issues/23555),
    [GH 23556](https://github.com/pandas-dev/pandas/issues/23556))
  id: totrans-2219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `.str`-accessor 的许多方法中存在 bug，总是在调用 `CategoricalIndex.str` 构造函数时失败 ([GH 23555](https://github.com/pandas-dev/pandas/issues/23555),
    [GH 23556](https://github.com/pandas-dev/pandas/issues/23556))
- en: Bug in [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") losing the categorical dtype for categorical data ([GH
    24077](https://github.com/pandas-dev/pandas/issues/24077))
  id: totrans-2220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where")中的一个 bug，导致分类数据失去了分类 dtype（[GH 24077](https://github.com/pandas-dev/pandas/issues/24077)）'
- en: Bug in `Categorical.apply()` where `NaN` values could be handled unpredictably.
    They now remain unchanged ([GH 24241](https://github.com/pandas-dev/pandas/issues/24241))
  id: totrans-2221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.apply()`中的一个 bug，`NaN` 值可能被不可预测地处理。现在它们保持不变（[GH 24241](https://github.com/pandas-dev/pandas/issues/24241)）'
- en: Bug in [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") comparison methods incorrectly raising `ValueError` when
    operating against a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 24630](https://github.com/pandas-dev/pandas/issues/24630))
  id: totrans-2222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")比较方法中的一个 bug，在与 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 运算时错误地引发 `ValueError`（[GH 24630](https://github.com/pandas-dev/pandas/issues/24630)）'
- en: Bug in `Categorical.set_categories()` where setting fewer new categories with
    `rename=True` caused a segmentation fault ([GH 24675](https://github.com/pandas-dev/pandas/issues/24675))
  id: totrans-2223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Categorical.set_categories()`中的一个 bug，使用 `rename=True` 设置更少的新类别会导致段错误（[GH
    24675](https://github.com/pandas-dev/pandas/issues/24675)）'
- en: Datetimelike
  id: totrans-2224
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 日期时间类
- en: Fixed bug where two `DateOffset` objects with different `normalize` attributes
    could evaluate as equal ([GH 21404](https://github.com/pandas-dev/pandas/issues/21404))
  id: totrans-2225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了两个具有不同 `normalize` 属性的 `DateOffset` 对象可能被判定为相等的 bug（[GH 21404](https://github.com/pandas-dev/pandas/issues/21404)）
- en: Fixed bug where [`Timestamp.resolution()`](../reference/api/pandas.Timestamp.resolution.html#pandas.Timestamp.resolution
    "pandas.Timestamp.resolution") incorrectly returned 1-microsecond `timedelta`
    instead of 1-nanosecond [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") ([GH 21336](https://github.com/pandas-dev/pandas/issues/21336),
    [GH 21365](https://github.com/pandas-dev/pandas/issues/21365))
  id: totrans-2226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`Timestamp.resolution()`](../reference/api/pandas.Timestamp.resolution.html#pandas.Timestamp.resolution
    "pandas.Timestamp.resolution") 错误地返回了 1 微秒 `timedelta` 而不是 1 纳秒 [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") 的 bug（[GH 21336](https://github.com/pandas-dev/pandas/issues/21336),
    [GH 21365](https://github.com/pandas-dev/pandas/issues/21365)）
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") that did not consistently return an [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") when `box=True` was specified ([GH 21864](https://github.com/pandas-dev/pandas/issues/21864))
  id: totrans-2227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中的一个 bug，在指定 `box=True` 时未能一致返回一个 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")（[GH 21864](https://github.com/pandas-dev/pandas/issues/21864)）'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") comparisons where string comparisons incorrectly raises
    `TypeError` ([GH 22074](https://github.com/pandas-dev/pandas/issues/22074))
  id: totrans-2228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")比较中的一个 bug，字符串比较错误地引发了 `TypeError`（[GH 22074](https://github.com/pandas-dev/pandas/issues/22074)）'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") comparisons when comparing against `timedelta64[ns]` dtyped
    arrays; in some cases `TypeError` was incorrectly raised, in others it incorrectly
    failed to raise ([GH 22074](https://github.com/pandas-dev/pandas/issues/22074))
  id: totrans-2229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当比较与 `timedelta64[ns]` dtype 数组相同时，[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")比较中的一个 bug；在某些情况下错误地引发了 `TypeError`，在其他情况下错误地未引发（[GH 22074](https://github.com/pandas-dev/pandas/issues/22074)）
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") comparisons when comparing against object-dtyped arrays
    ([GH 22074](https://github.com/pandas-dev/pandas/issues/22074))
  id: totrans-2230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")比较中的一个 bug，与对象 dtype 数组比较时错误引发 `TypeError`（[GH 22074](https://github.com/pandas-dev/pandas/issues/22074)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` dtype addition and subtraction with
    `Timedelta`-like objects ([GH 22005](https://github.com/pandas-dev/pandas/issues/22005),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-2231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")中的一个
    bug，使用 `datetime64[ns]` dtype 与 `Timedelta` 类似对象进行加减法时出错（[GH 22005](https://github.com/pandas-dev/pandas/issues/22005),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` dtype addition and subtraction with
    `DateOffset` objects returning an `object` dtype instead of `datetime64[ns]` dtype
    ([GH 21610](https://github.com/pandas-dev/pandas/issues/21610), [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-2232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")中的
    Bug，`datetime64[ns]` 数据类型与 `DateOffset` 对象的加减法返回 `object` 数据类型而不是 `datetime64[ns]`
    数据类型（[GH 21610](https://github.com/pandas-dev/pandas/issues/21610)，[GH 22163](https://github.com/pandas-dev/pandas/issues/22163)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` dtype comparing against `NaT` incorrectly
    ([GH 22242](https://github.com/pandas-dev/pandas/issues/22242), [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-2233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")中的
    Bug，`datetime64[ns]` 数据类型与 `NaT` 的比较错误（[GH 22242](https://github.com/pandas-dev/pandas/issues/22242)，[GH
    22163](https://github.com/pandas-dev/pandas/issues/22163)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` dtype subtracting `Timestamp`-like object
    incorrectly returned `datetime64[ns]` dtype instead of `timedelta64[ns]` dtype
    ([GH 8554](https://github.com/pandas-dev/pandas/issues/8554), [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-2234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    中的 Bug，`datetime64[ns]` 数据类型减去类似 `Timestamp` 的对象错误地返回 `datetime64[ns]` 数据类型而不是
    `timedelta64[ns]` 数据类型（[GH 8554](https://github.com/pandas-dev/pandas/issues/8554)，[GH
    22163](https://github.com/pandas-dev/pandas/issues/22163)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` dtype subtracting `np.datetime64` object
    with non-nanosecond unit failing to convert to nanoseconds ([GH 18874](https://github.com/pandas-dev/pandas/issues/18874),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-2235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")中的
    Bug，`datetime64[ns]` 数据类型减去非纳秒单位的 `np.datetime64` 对象无法转换为纳秒（[GH 18874](https://github.com/pandas-dev/pandas/issues/18874)，[GH
    22163](https://github.com/pandas-dev/pandas/issues/22163)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") comparisons against `Timestamp`-like objects failing to raise
    `TypeError` for inequality checks with mismatched types ([GH 8932](https://github.com/pandas-dev/pandas/issues/8932),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-2236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    中与类似 `Timestamp` 的对象比较错误地未能对不匹配类型的不等式检查引发 `TypeError`（[GH 8932](https://github.com/pandas-dev/pandas/issues/8932)，[GH
    22163](https://github.com/pandas-dev/pandas/issues/22163)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with mixed dtypes including `datetime64[ns]` incorrectly raising
    `TypeError` on equality comparisons ([GH 13128](https://github.com/pandas-dev/pandas/issues/13128),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-2237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")中的
    Bug，包含混合数据类型，包括 `datetime64[ns]` 的相等比较错误地引发 `TypeError`（[GH 13128](https://github.com/pandas-dev/pandas/issues/13128)，[GH
    22163](https://github.com/pandas-dev/pandas/issues/22163)）'
- en: Bug in [`DataFrame.values`](../reference/api/pandas.DataFrame.values.html#pandas.DataFrame.values
    "pandas.DataFrame.values") returning a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") for a single-column `DataFrame` with tz-aware datetime
    values. Now a 2-D [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)") of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") objects is returned ([GH 24024](https://github.com/pandas-dev/pandas/issues/24024))
  id: totrans-2238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.values`](../reference/api/pandas.DataFrame.values.html#pandas.DataFrame.values
    "pandas.DataFrame.values") 返回一个单列 `DataFrame` 的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")，其包含时区感知的日期时间值。现在返回一个包含 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 对象的二维 [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray
    "(in NumPy v1.26)")（[GH 24024](https://github.com/pandas-dev/pandas/issues/24024)）'
- en: Bug in [`DataFrame.eq()`](../reference/api/pandas.DataFrame.eq.html#pandas.DataFrame.eq
    "pandas.DataFrame.eq") comparison against `NaT` incorrectly returning `True` or
    `NaN` ([GH 15697](https://github.com/pandas-dev/pandas/issues/15697), [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-2239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.eq()`](../reference/api/pandas.DataFrame.eq.html#pandas.DataFrame.eq
    "pandas.DataFrame.eq") 中与 `NaT` 的比较错误地返回 `True` 或 `NaN`（[GH 15697](https://github.com/pandas-dev/pandas/issues/15697)，[GH
    22163](https://github.com/pandas-dev/pandas/issues/22163)）'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") subtraction that incorrectly failed to raise `OverflowError`
    ([GH 22492](https://github.com/pandas-dev/pandas/issues/22492), [GH 22508](https://github.com/pandas-dev/pandas/issues/22508))
  id: totrans-2240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 的减法操作中，错误地未能引发 `OverflowError`（[GH 22492](https://github.com/pandas-dev/pandas/issues/22492)，[GH
    22508](https://github.com/pandas-dev/pandas/issues/22508)）
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") incorrectly allowing indexing with `Timedelta` object
    ([GH 20464](https://github.com/pandas-dev/pandas/issues/20464))
  id: totrans-2241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 中错误地允许使用 `Timedelta` 对象进行索引（[GH 20464](https://github.com/pandas-dev/pandas/issues/20464)）
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where frequency was being set if original frequency was
    `None` ([GH 22150](https://github.com/pandas-dev/pandas/issues/22150))
  id: totrans-2242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 中存在一个 bug，当原始频率为 `None` 时会设置频率（[GH 22150](https://github.com/pandas-dev/pandas/issues/22150)）
- en: Bug in rounding methods of [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([`round()`](../reference/api/pandas.DatetimeIndex.round.html#pandas.DatetimeIndex.round
    "pandas.DatetimeIndex.round"), [`ceil()`](../reference/api/pandas.DatetimeIndex.ceil.html#pandas.DatetimeIndex.ceil
    "pandas.DatetimeIndex.ceil"), [`floor()`](../reference/api/pandas.DatetimeIndex.floor.html#pandas.DatetimeIndex.floor
    "pandas.DatetimeIndex.floor")) and [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") ([`round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round"), [`ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil"), [`floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor")) could give rise to loss of precision ([GH 22591](https://github.com/pandas-dev/pandas/issues/22591))
  id: totrans-2243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 的四舍五入方法（[`round()`](../reference/api/pandas.DatetimeIndex.round.html#pandas.DatetimeIndex.round
    "pandas.DatetimeIndex.round")，[`ceil()`](../reference/api/pandas.DatetimeIndex.ceil.html#pandas.DatetimeIndex.ceil
    "pandas.DatetimeIndex.ceil")，[`floor()`](../reference/api/pandas.DatetimeIndex.floor.html#pandas.DatetimeIndex.floor
    "pandas.DatetimeIndex.floor")）以及 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 的四舍五入方法（[`round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round")，[`ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil")，[`floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor")）可能导致精度丢失（[GH 22591](https://github.com/pandas-dev/pandas/issues/22591)）
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") with an [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") argument that would drop the `name` from the result ([GH 21697](https://github.com/pandas-dev/pandas/issues/21697))
  id: totrans-2244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 函数中使用 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 参数时会丢失结果中的 `name`（[GH 21697](https://github.com/pandas-dev/pandas/issues/21697)）
- en: Bug in [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") where adding or subtracting a `timedelta` or `Tick` object
    produced incorrect results ([GH 22988](https://github.com/pandas-dev/pandas/issues/22988))
  id: totrans-2245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 中，添加或减去 `timedelta` 或 `Tick` 对象会产生错误的结果（[GH 22988](https://github.com/pandas-dev/pandas/issues/22988)）
- en: Bug in the [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    repr with period-dtype data missing a space before the data ([GH 23601](https://github.com/pandas-dev/pandas/issues/23601))
  id: totrans-2246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    的 repr 中，具有 period-dtype 数据时缺少数据前的空格（[GH 23601](https://github.com/pandas-dev/pandas/issues/23601)）
- en: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") when decrementing a start date to a past end date by a negative
    frequency ([GH 23270](https://github.com/pandas-dev/pandas/issues/23270))
  id: totrans-2247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") 中存在一个 bug，通过负频率将起始日期递减到过去的结束日期时会出现问题（[GH 23270](https://github.com/pandas-dev/pandas/issues/23270)）
- en: Bug in [`Series.min()`](../reference/api/pandas.Series.min.html#pandas.Series.min
    "pandas.Series.min") which would return `NaN` instead of `NaT` when called on
    a series of `NaT` ([GH 23282](https://github.com/pandas-dev/pandas/issues/23282))
  id: totrans-2248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.min()`](../reference/api/pandas.Series.min.html#pandas.Series.min
    "pandas.Series.min") 函数存在一个错误，当在 `NaT` 的 series 上调用时，会返回 `NaN` 而不是 `NaT`（[GH 23282](https://github.com/pandas-dev/pandas/issues/23282)）'
- en: Bug in [`Series.combine_first()`](../reference/api/pandas.Series.combine_first.html#pandas.Series.combine_first
    "pandas.Series.combine_first") not properly aligning categoricals, so that missing
    values in `self` where not filled by valid values from `other` ([GH 24147](https://github.com/pandas-dev/pandas/issues/24147))
  id: totrans-2249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.combine_first()`](../reference/api/pandas.Series.combine_first.html#pandas.Series.combine_first
    "pandas.Series.combine_first") 函数存在一个错误，未正确对齐分类数据，因此 `self` 中的缺失值未被 `other` 中的有效值填充（[GH
    24147](https://github.com/pandas-dev/pandas/issues/24147)）'
- en: Bug in [`DataFrame.combine()`](../reference/api/pandas.DataFrame.combine.html#pandas.DataFrame.combine
    "pandas.DataFrame.combine") with datetimelike values raising a TypeError ([GH
    23079](https://github.com/pandas-dev/pandas/issues/23079))
  id: totrans-2250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.combine()`](../reference/api/pandas.DataFrame.combine.html#pandas.DataFrame.combine
    "pandas.DataFrame.combine") 函数存在一个错误，其中 datetimelike 值引发 TypeError 错误（[GH 23079](https://github.com/pandas-dev/pandas/issues/23079)）'
- en: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") with frequency of `Day` or higher where dates sufficiently
    far in the future could wrap around to the past instead of raising `OutOfBoundsDatetime`
    ([GH 14187](https://github.com/pandas-dev/pandas/issues/14187))
  id: totrans-2251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") 函数存在一个错误，当频率为 `Day` 或更高时，将来足够遥远的日期可能会被回绕到过去，而不是引发 `OutOfBoundsDatetime`
    错误（[GH 14187](https://github.com/pandas-dev/pandas/issues/14187)）'
- en: Bug in [`period_range()`](../reference/api/pandas.period_range.html#pandas.period_range
    "pandas.period_range") ignoring the frequency of `start` and `end` when those
    are provided as [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    objects ([GH 20535](https://github.com/pandas-dev/pandas/issues/20535)).
  id: totrans-2252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`period_range()`](../reference/api/pandas.period_range.html#pandas.period_range
    "pandas.period_range") 存在一个错误，当提供了 [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") 对象作为 `start` 和 `end` 时，会忽略 `start` 和 `end` 的频率（[GH 20535](https://github.com/pandas-dev/pandas/issues/20535)）'
- en: Bug in [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") with attribute `freq.n` greater than 1 where adding a `DateOffset`
    object would return incorrect results ([GH 23215](https://github.com/pandas-dev/pandas/issues/23215))
  id: totrans-2253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在属性 `freq.n` 大于 1 时，[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 存在一个错误，添加 `DateOffset` 对象会返回不正确的结果（[GH 23215](https://github.com/pandas-dev/pandas/issues/23215)）
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    that interpreted string indices as lists of characters when setting datetimelike
    values ([GH 23451](https://github.com/pandas-dev/pandas/issues/23451))
  id: totrans-2254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    存在一个错误，当设置 datetimelike 值时，会将字符串索引解释为字符列表（[GH 23451](https://github.com/pandas-dev/pandas/issues/23451)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") when creating a new column from an ndarray of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") objects with timezones creating an object-dtype column, rather
    than datetime with timezone ([GH 23932](https://github.com/pandas-dev/pandas/issues/23932))
  id: totrans-2255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在创建新列时，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 存在一个错误，从带有时区的 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 对象的 ndarray 中创建一个对象-dtype 列，而不是带有时区的 datetime 列（[GH 23932](https://github.com/pandas-dev/pandas/issues/23932)）
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") constructor which would drop the frequency of an input [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") ([GH 22311](https://github.com/pandas-dev/pandas/issues/22311))
  id: totrans-2256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    构造函数存在一个错误，会丢弃输入 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 的频率（[GH 22311](https://github.com/pandas-dev/pandas/issues/22311)）'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where calling `np.array(dtindex, dtype=object)` would
    incorrectly return an array of `long` objects ([GH 23524](https://github.com/pandas-dev/pandas/issues/23524))
  id: totrans-2257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在调用 `np.array(dtindex, dtype=object)` 时，[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 存在一个错误，会错误地返回一个 `long` 对象的数组（[GH 23524](https://github.com/pandas-dev/pandas/issues/23524)）
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    where passing a timezone-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and `dtype=object` would incorrectly raise a `ValueError`
    ([GH 23524](https://github.com/pandas-dev/pandas/issues/23524))
  id: totrans-2258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")中存在一个
    bug，当传递一个带有时区信息的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 `dtype=object` 时，会错误地引发 `ValueError` ([GH 23524](https://github.com/pandas-dev/pandas/issues/23524))
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    where calling `np.array(dtindex, dtype=object)` on a timezone-naive [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") would return an array of `datetime` objects instead of
    [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    objects, potentially losing nanosecond portions of the timestamps ([GH 23524](https://github.com/pandas-dev/pandas/issues/23524))
  id: totrans-2259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")中存在一个
    bug，当对一个时区无关的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 调用 `np.array(dtindex, dtype=object)` 时，会返回一个 `datetime`
    对象数组，而不是 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 对象数组，可能会丢失时间戳的纳秒部分 ([GH 23524](https://github.com/pandas-dev/pandas/issues/23524))
- en: Bug in `Categorical.__setitem__` not allowing setting with another `Categorical`
    when both are unordered and have the same categories, but in a different order
    ([GH 24142](https://github.com/pandas-dev/pandas/issues/24142))
  id: totrans-2260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Categorical.__setitem__` 中存在一个 bug，在两者都是无序的情况下，不允许用另一个 `Categorical` 进行设置，并且具有相同的类别，但顺序不同
    ([GH 24142](https://github.com/pandas-dev/pandas/issues/24142))
- en: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") where using dates with millisecond resolution or higher could
    return incorrect values or the wrong number of values in the index ([GH 24110](https://github.com/pandas-dev/pandas/issues/24110))
  id: totrans-2261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range")中存在一个 bug，使用毫秒分辨率或更高的日期可能会返回不正确的值或索引中的错误数量的值 ([GH 24110](https://github.com/pandas-dev/pandas/issues/24110))
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where constructing a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") from a [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") or [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") would incorrectly drop timezone information ([GH 18664](https://github.com/pandas-dev/pandas/issues/18664))
  id: totrans-2262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")中存在一个 bug，当从 [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") 或 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 构造一个 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 时，会错误地丢弃时区信息 ([GH 18664](https://github.com/pandas-dev/pandas/issues/18664))
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") and [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where indexing with `Ellipsis` would incorrectly lose
    the index’s `freq` attribute ([GH 21282](https://github.com/pandas-dev/pandas/issues/21282))
  id: totrans-2263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 中存在一个 bug，使用 `Ellipsis` 进行索引会错误地丢失索引的 `freq` 属性 ([GH
    21282](https://github.com/pandas-dev/pandas/issues/21282))
- en: Clarified error message produced when passing an incorrect `freq` argument to
    [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with `NaT` as the first entry in the passed data ([GH
    11587](https://github.com/pandas-dev/pandas/issues/11587))
  id: totrans-2264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当将错误的 `freq` 参数传递给 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 时，以 `NaT` 作为传递数据的第一个条目时，会生成澄清的错误消息 ([GH 11587](https://github.com/pandas-dev/pandas/issues/11587))
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where `box` and `utc` arguments were ignored when passing
    a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    or `dict` of unit mappings ([GH 23760](https://github.com/pandas-dev/pandas/issues/23760))
  id: totrans-2265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中存在一个 bug，当传递一个 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 或单位映射的 `dict` 时，会忽略 `box` 和 `utc` 参数 ([GH 23760](https://github.com/pandas-dev/pandas/issues/23760))
- en: Bug in [`Series.dt`](../reference/api/pandas.Series.dt.html#pandas.Series.dt
    "pandas.Series.dt") where the cache would not update properly after an in-place
    operation ([GH 24408](https://github.com/pandas-dev/pandas/issues/24408))
  id: totrans-2266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Series.dt`中存在的错误，即在原地操作后缓存未能正确更新（[GH 24408](https://github.com/pandas-dev/pandas/issues/24408)）
- en: Bug in [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") where comparisons against an array-like object with length
    1 failed to raise `ValueError` ([GH 23078](https://github.com/pandas-dev/pandas/issues/23078))
  id: totrans-2267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")中存在的错误，与长度为1的类似数组进行比较未能引发`ValueError`（[GH 23078](https://github.com/pandas-dev/pandas/issues/23078)）
- en: Bug in `DatetimeIndex.astype()`, `PeriodIndex.astype()` and `TimedeltaIndex.astype()`
    ignoring the sign of the `dtype` for unsigned integer dtypes ([GH 24405](https://github.com/pandas-dev/pandas/issues/24405)).
  id: totrans-2268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.astype()`、`PeriodIndex.astype()`和`TimedeltaIndex.astype()`中存在的错误，忽略了无符号整数数据类型的`dtype`的符号（[GH
    24405](https://github.com/pandas-dev/pandas/issues/24405)）'
- en: Fixed bug in [`Series.max()`](../reference/api/pandas.Series.max.html#pandas.Series.max
    "pandas.Series.max") with `datetime64[ns]`-dtype failing to return `NaT` when
    nulls are present and `skipna=False` is passed ([GH 24265](https://github.com/pandas-dev/pandas/issues/24265))
  id: totrans-2269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了具有`datetime64[ns]`数据类型的[`Series.max()`](../reference/api/pandas.Series.max.html#pandas.Series.max
    "pandas.Series.max")在存在空值且传递`skipna=False`时未能返回`NaT`的错误（[GH 24265](https://github.com/pandas-dev/pandas/issues/24265)）
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where arrays of `datetime` objects containing both timezone-aware
    and timezone-naive `datetimes` would fail to raise `ValueError` ([GH 24569](https://github.com/pandas-dev/pandas/issues/24569))
  id: totrans-2270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中存在的错误，即包含既有时区感知又有时区无关的`datetime`对象数组会未能引发`ValueError`（[GH
    24569](https://github.com/pandas-dev/pandas/issues/24569)）
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") with invalid datetime format doesn’t coerce input to `NaT`
    even if `errors='coerce'` ([GH 24763](https://github.com/pandas-dev/pandas/issues/24763))
  id: totrans-2271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用无效日期时间格式的[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中，即使`errors='coerce'`也不会将输入强制转换为`NaT`的错误（[GH 24763](https://github.com/pandas-dev/pandas/issues/24763)）
- en: Timedelta
  id: totrans-2272
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时间增量
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `timedelta64[ns]` dtype division by `Timedelta`-like
    scalar incorrectly returning `timedelta64[ns]` dtype instead of `float64` dtype
    ([GH 20088](https://github.com/pandas-dev/pandas/issues/20088), [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-2273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有`timedelta64[ns]`数据类型的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")除以`Timedelta`-like标量时，错误地返回`timedelta64[ns]`数据类型而不是`float64`数据类型（[GH
    20088](https://github.com/pandas-dev/pandas/issues/20088)，[GH 22163](https://github.com/pandas-dev/pandas/issues/22163)）
- en: Bug in adding a [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    with object dtype to a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `timedelta64[ns]` dtype incorrectly raising ([GH 22390](https://github.com/pandas-dev/pandas/issues/22390))
  id: totrans-2274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将具有对象数据类型的[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")添加到具有`timedelta64[ns]`数据类型的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时出现错误地引发错误（[GH 22390](https://github.com/pandas-dev/pandas/issues/22390)）
- en: Bug in multiplying a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with numeric dtype against a `timedelta` object ([GH 22390](https://github.com/pandas-dev/pandas/issues/22390))
  id: totrans-2275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将具有数值数据类型的[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")与`timedelta`对象相乘时存在的错误（[GH
    22390](https://github.com/pandas-dev/pandas/issues/22390)）
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    with numeric dtype when adding or subtracting an array or `Series` with `timedelta64`
    dtype ([GH 22390](https://github.com/pandas-dev/pandas/issues/22390))
  id: totrans-2276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有数值数据类型的[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")中，当将数组或具有`timedelta64`数据类型的`Series`相加或相减时存在的错误（[GH
    22390](https://github.com/pandas-dev/pandas/issues/22390)）
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    with numeric dtype when multiplying or dividing an array with dtype `timedelta64`
    ([GH 22390](https://github.com/pandas-dev/pandas/issues/22390))
  id: totrans-2277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有数值数据类型的[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")中，将具有`timedelta64`数据类型的数组相乘或相除时存在的错误（[GH
    22390](https://github.com/pandas-dev/pandas/issues/22390))
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") incorrectly allowing indexing with `Timestamp` object
    ([GH 20464](https://github.com/pandas-dev/pandas/issues/20464))
  id: totrans-2278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 中的错误允许使用 `Timestamp` 对象进行索引（[GH 20464](https://github.com/pandas-dev/pandas/issues/20464))'
- en: Fixed bug where subtracting [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") from an object-dtyped array would raise `TypeError` ([GH 21980](https://github.com/pandas-dev/pandas/issues/21980))
  id: totrans-2279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了从对象数据类型的数组中减去 [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") 会引发 `TypeError` 的错误（[GH 21980](https://github.com/pandas-dev/pandas/issues/21980)）
- en: Fixed bug in adding a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with all-timedelta64[ns] dtypes to a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with all-integer dtypes returning incorrect results instead
    of raising `TypeError` ([GH 22696](https://github.com/pandas-dev/pandas/issues/22696))
  id: totrans-2280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了将所有-timedelta64[ns]数据类型的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 添加到所有整数数据类型的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 中返回不正确结果而不是引发 `TypeError` 的错误（[GH 22696](https://github.com/pandas-dev/pandas/issues/22696)）
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where adding a timezone-aware datetime scalar incorrectly
    returned a timezone-naive [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 23215](https://github.com/pandas-dev/pandas/issues/23215))
  id: totrans-2281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 中的错误，将一个带时区的 datetime 标量错误地返回为时区无关的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")（[GH 23215](https://github.com/pandas-dev/pandas/issues/23215)）'
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where adding `np.timedelta64('NaT')` incorrectly returned
    an all-`NaT` [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") instead of an all-`NaT` [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") ([GH 23215](https://github.com/pandas-dev/pandas/issues/23215))
  id: totrans-2282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 中的错误，添加 `np.timedelta64('NaT')` 会错误地返回全部为 `NaT` 的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 而不是全部为 `NaT` 的 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")（[GH 23215](https://github.com/pandas-dev/pandas/issues/23215)）
- en: Bug in [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") and [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") have inconsistencies in supported unit string ([GH 21762](https://github.com/pandas-dev/pandas/issues/21762))
  id: totrans-2283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta "pandas.Timedelta")
    和 [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") 中的错误，在支持的单位字符串上存在不一致性（[GH 21762](https://github.com/pandas-dev/pandas/issues/21762)）'
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") division where dividing by another [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") raised `TypeError` instead of returning a `Float64Index`
    ([GH 23829](https://github.com/pandas-dev/pandas/issues/23829), [GH 22631](https://github.com/pandas-dev/pandas/issues/22631))
  id: totrans-2284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 中的错误，将其除以另一个 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 会引发 `TypeError` 而不是返回 `Float64Index` 的错误（[GH 23829](https://github.com/pandas-dev/pandas/issues/23829)，[GH
    22631](https://github.com/pandas-dev/pandas/issues/22631)）'
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") comparison operations where comparing against non-`Timedelta`-like
    objects would raise `TypeError` instead of returning all-`False` for `__eq__`
    and all-`True` for `__ne__` ([GH 24056](https://github.com/pandas-dev/pandas/issues/24056))
  id: totrans-2285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 的比较操作中，与非 `Timedelta` 类似对象比较会引发 `TypeError` 而不是对于 `__eq__`
    返回全部为 `False`，对于 `__ne__` 返回全部为 `True` 的错误（[GH 24056](https://github.com/pandas-dev/pandas/issues/24056)）
- en: Bug in [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") comparisons when comparing with a `Tick` object incorrectly
    raising `TypeError` ([GH 24710](https://github.com/pandas-dev/pandas/issues/24710))
  id: totrans-2286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta "pandas.Timedelta")
    比较中的缺陷，与 `Tick` 对象比较时会不正确地引发 `TypeError` ([GH 24710](https://github.com/pandas-dev/pandas/issues/24710))'
- en: Timezones
  id: totrans-2287
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时区
- en: Bug in [`Index.shift()`](../reference/api/pandas.Index.shift.html#pandas.Index.shift
    "pandas.Index.shift") where an `AssertionError` would raise when shifting across
    DST ([GH 8616](https://github.com/pandas-dev/pandas/issues/8616))
  id: totrans-2288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Index.shift()`](../reference/api/pandas.Index.shift.html#pandas.Index.shift
    "pandas.Index.shift") 中存在缺陷，当跨越 DST 时会引发 `AssertionError` ([GH 8616](https://github.com/pandas-dev/pandas/issues/8616))
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") constructor where passing an invalid timezone offset designator
    (`Z`) would not raise a `ValueError` ([GH 8910](https://github.com/pandas-dev/pandas/issues/8910))
  id: totrans-2289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    构造函数中存在缺陷，传递无效的时区偏移标识符 (`Z`) 不会引发 `ValueError` ([GH 8910](https://github.com/pandas-dev/pandas/issues/8910))
- en: Bug in [`Timestamp.replace()`](../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace
    "pandas.Timestamp.replace") where replacing at a DST boundary would retain an
    incorrect offset ([GH 7825](https://github.com/pandas-dev/pandas/issues/7825))
  id: totrans-2290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Timestamp.replace()`](../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace
    "pandas.Timestamp.replace") 中存在缺陷，在 DST 边界处进行替换会保留不正确的偏移 ([GH 7825](https://github.com/pandas-dev/pandas/issues/7825))
- en: Bug in [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") with `datetime64[ns, tz]` data when replacing `NaT` ([GH
    11792](https://github.com/pandas-dev/pandas/issues/11792))
  id: totrans-2291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 中存在缺陷，用 `datetime64[ns, tz]` 数据替换 `NaT` 时 ([GH 11792](https://github.com/pandas-dev/pandas/issues/11792))
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") when passing different string date formats with a timezone
    offset would produce different timezone offsets ([GH 12064](https://github.com/pandas-dev/pandas/issues/12064))
  id: totrans-2292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    中传递不同的字符串日期格式与时区偏移时会产生不同的时区偏移的缺陷 ([GH 12064](https://github.com/pandas-dev/pandas/issues/12064))
- en: Bug when comparing a tz-naive [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") to a tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") which would coerce the [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") to tz-naive ([GH 12601](https://github.com/pandas-dev/pandas/issues/12601))
  id: totrans-2293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在比较 tz-naive [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 和 tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 时存在缺陷，会强制 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 转换为 tz-naive ([GH 12601](https://github.com/pandas-dev/pandas/issues/12601))
- en: Bug in [`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate") with a tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") which would cause a core dump ([GH 9243](https://github.com/pandas-dev/pandas/issues/9243))
  id: totrans-2294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.truncate()`](../reference/api/pandas.Series.truncate.html#pandas.Series.truncate
    "pandas.Series.truncate") 存在缺陷，使用 tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 会导致核心转储 ([GH 9243](https://github.com/pandas-dev/pandas/issues/9243))'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    constructor which would coerce tz-aware and tz-naive [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") to tz-aware ([GH 13051](https://github.com/pandas-dev/pandas/issues/13051))
  id: totrans-2295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    构造函数中存在缺陷，会将 tz-aware 和 tz-naive [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 转换为 tz-aware ([GH 13051](https://github.com/pandas-dev/pandas/issues/13051))
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    with `datetime64[ns, tz]` dtype that did not localize integer data correctly ([GH
    20964](https://github.com/pandas-dev/pandas/issues/20964))
  id: totrans-2296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") 存在缺陷，`datetime64[ns,
    tz]` dtype 没有正确地本地化整数数据 ([GH 20964](https://github.com/pandas-dev/pandas/issues/20964))'
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") where constructing with an integer and tz would not localize
    correctly ([GH 12619](https://github.com/pandas-dev/pandas/issues/12619))
  id: totrans-2297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 构造中的错误，使用整数和时区时无法正确本地化（[GH 12619](https://github.com/pandas-dev/pandas/issues/12619)）'
- en: Fixed bug where [`DataFrame.describe()`](../reference/api/pandas.DataFrame.describe.html#pandas.DataFrame.describe
    "pandas.DataFrame.describe") and [`Series.describe()`](../reference/api/pandas.Series.describe.html#pandas.Series.describe
    "pandas.Series.describe") on tz-aware datetimes did not show `first` and `last`
    result ([GH 21328](https://github.com/pandas-dev/pandas/issues/21328))
  id: totrans-2298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在时区感知日期时间上调用 [`DataFrame.describe()`](../reference/api/pandas.DataFrame.describe.html#pandas.DataFrame.describe
    "pandas.DataFrame.describe") 和 [`Series.describe()`](../reference/api/pandas.Series.describe.html#pandas.Series.describe
    "pandas.Series.describe") 时未显示 `first` 和 `last` 结果的错误（[GH 21328](https://github.com/pandas-dev/pandas/issues/21328)）
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") comparisons failing to raise `TypeError` when comparing
    timezone-aware `DatetimeIndex` against `np.datetime64` ([GH 22074](https://github.com/pandas-dev/pandas/issues/22074))
  id: totrans-2299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 比较中的错误，当比较时区感知的 `DatetimeIndex` 和 `np.datetime64` 时未能引发
    `TypeError` 错误（[GH 22074](https://github.com/pandas-dev/pandas/issues/22074)）'
- en: Bug in `DataFrame` assignment with a timezone-aware scalar ([GH 19843](https://github.com/pandas-dev/pandas/issues/19843))
  id: totrans-2300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame` 分配中存在的时区感知标量的错误（[GH 19843](https://github.com/pandas-dev/pandas/issues/19843)）'
- en: Bug in [`DataFrame.asof()`](../reference/api/pandas.DataFrame.asof.html#pandas.DataFrame.asof
    "pandas.DataFrame.asof") that raised a `TypeError` when attempting to compare
    tz-naive and tz-aware timestamps ([GH 21194](https://github.com/pandas-dev/pandas/issues/21194))
  id: totrans-2301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.asof()`](../reference/api/pandas.DataFrame.asof.html#pandas.DataFrame.asof
    "pandas.DataFrame.asof") 中的错误，当尝试比较时区感知和非时区感知时间戳时引发 `TypeError` 错误（[GH 21194](https://github.com/pandas-dev/pandas/issues/21194)）'
- en: Bug when constructing a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") constructed with the `replace` method across DST ([GH 18785](https://github.com/pandas-dev/pandas/issues/18785))
  id: totrans-2302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构造带有 DST 转换的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 时使用 `replace` 方法构造的 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 存在的错误（[GH 18785](https://github.com/pandas-dev/pandas/issues/18785)）
- en: Bug when setting a new value with [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") with a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with a DST transition ([GH 18308](https://github.com/pandas-dev/pandas/issues/18308),
    [GH 20724](https://github.com/pandas-dev/pandas/issues/20724))
  id: totrans-2303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用带有 DST 转换的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 的 [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 设置新值时存在的错误（[GH 18308](https://github.com/pandas-dev/pandas/issues/18308),
    [GH 20724](https://github.com/pandas-dev/pandas/issues/20724)）
- en: Bug in [`Index.unique()`](../reference/api/pandas.Index.unique.html#pandas.Index.unique
    "pandas.Index.unique") that did not re-localize tz-aware dates correctly ([GH
    21737](https://github.com/pandas-dev/pandas/issues/21737))
  id: totrans-2304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.unique()`](../reference/api/pandas.Index.unique.html#pandas.Index.unique
    "pandas.Index.unique") 中的错误，未能正确重新本地化时区感知日期（[GH 21737](https://github.com/pandas-dev/pandas/issues/21737)）'
- en: Bug when indexing a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with a DST transition ([GH 21846](https://github.com/pandas-dev/pandas/issues/21846))
  id: totrans-2305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在带有 DST 转换的 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    索引时存在的错误（[GH 21846](https://github.com/pandas-dev/pandas/issues/21846)）
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") and [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") where an `AmbiguousTimeError` or `NonExistentTimeError`
    would raise if a timezone aware timeseries ended on a DST transition ([GH 19375](https://github.com/pandas-dev/pandas/issues/19375),
    [GH 10117](https://github.com/pandas-dev/pandas/issues/10117))
  id: totrans-2306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 和 [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") 中存在的问题，即当时区感知时间序列以 DST 转换结束时，会引发 `AmbiguousTimeError`
    或 `NonExistentTimeError` 错误（[GH 19375](https://github.com/pandas-dev/pandas/issues/19375),
    [GH 10117](https://github.com/pandas-dev/pandas/issues/10117))
- en: Bug in [`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop") and [`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop") when specifying a tz-aware Timestamp key to drop from a
    [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with a DST transition ([GH 21761](https://github.com/pandas-dev/pandas/issues/21761))
  id: totrans-2307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop")和[`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop")中的一个错误，当指定一个带时区信息的`Timestamp`键从[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")中删除时，会出现夏令时转换问题（[GH 21761](https://github.com/pandas-dev/pandas/issues/21761))
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") constructor where `NaT` and `dateutil.tz.tzlocal` would
    raise an `OutOfBoundsDatetime` error ([GH 23807](https://github.com/pandas-dev/pandas/issues/23807))
  id: totrans-2308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")构造函数中的一个错误，当`NaT`和`dateutil.tz.tzlocal`同时出现时会引发`OutOfBoundsDatetime`错误（[GH
    23807](https://github.com/pandas-dev/pandas/issues/23807))
- en: Bug in [`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize") and [`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize") with `dateutil.tz.tzlocal` near a DST transition
    that would return an incorrectly localized datetime ([GH 23807](https://github.com/pandas-dev/pandas/issues/23807))
  id: totrans-2309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在夏令时转换附近使用[`DatetimeIndex.tz_localize()`](../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize
    "pandas.DatetimeIndex.tz_localize")和[`Timestamp.tz_localize()`](../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize
    "pandas.Timestamp.tz_localize")时的一个错误，会返回一个错误的本地化日期时间（[GH 23807](https://github.com/pandas-dev/pandas/issues/23807))
- en: Bug in [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") constructor where a `dateutil.tz.tzutc` timezone passed with
    a `datetime.datetime` argument would be converted to a `pytz.UTC` timezone ([GH
    23807](https://github.com/pandas-dev/pandas/issues/23807))
  id: totrans-2310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")构造函数中的一个错误，当使用`datetime.datetime`参数传递`dateutil.tz.tzutc`时，会转换为`pytz.UTC`时区（[GH
    23807](https://github.com/pandas-dev/pandas/issues/23807))
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where `utc=True` was not respected when specifying a `unit`
    and `errors='ignore'` ([GH 23758](https://github.com/pandas-dev/pandas/issues/23758))
  id: totrans-2311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中的一个错误，在指定`unit`和`errors='ignore'`时未能尊重`utc=True`（[GH 23758](https://github.com/pandas-dev/pandas/issues/23758))
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") where `utc=True` was not respected when passing a [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") ([GH 24415](https://github.com/pandas-dev/pandas/issues/24415))
  id: totrans-2312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中的一个错误，在传递[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")时未能尊重`utc=True`（[GH 24415](https://github.com/pandas-dev/pandas/issues/24415))'
- en: Bug in [`DataFrame.any()`](../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any
    "pandas.DataFrame.any") returns wrong value when `axis=1` and the data is of datetimelike
    type ([GH 23070](https://github.com/pandas-dev/pandas/issues/23070))
  id: totrans-2313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.any()`](../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any
    "pandas.DataFrame.any")中的一个错误，当`axis=1`且数据是datetimelike类型时，返回错误的值（[GH 23070](https://github.com/pandas-dev/pandas/issues/23070))
- en: Bug in [`DatetimeIndex.to_period()`](../reference/api/pandas.DatetimeIndex.to_period.html#pandas.DatetimeIndex.to_period
    "pandas.DatetimeIndex.to_period") where a timezone aware index was converted to
    UTC first before creating [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") ([GH 22905](https://github.com/pandas-dev/pandas/issues/22905))
  id: totrans-2314
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DatetimeIndex.to_period()`](../reference/api/pandas.DatetimeIndex.to_period.html#pandas.DatetimeIndex.to_period
    "pandas.DatetimeIndex.to_period")中的一个错误，当一个带时区的索引被转换为UTC时，然后创建[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")时出现问题（[GH 22905](https://github.com/pandas-dev/pandas/issues/22905))
- en: Bug in [`DataFrame.tz_localize()`](../reference/api/pandas.DataFrame.tz_localize.html#pandas.DataFrame.tz_localize
    "pandas.DataFrame.tz_localize"), [`DataFrame.tz_convert()`](../reference/api/pandas.DataFrame.tz_convert.html#pandas.DataFrame.tz_convert
    "pandas.DataFrame.tz_convert"), [`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize"), and [`Series.tz_convert()`](../reference/api/pandas.Series.tz_convert.html#pandas.Series.tz_convert
    "pandas.Series.tz_convert") where `copy=False` would mutate the original argument
    inplace ([GH 6326](https://github.com/pandas-dev/pandas/issues/6326))
  id: totrans-2315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.tz_localize()`](../reference/api/pandas.DataFrame.tz_localize.html#pandas.DataFrame.tz_localize
    "pandas.DataFrame.tz_localize")、[`DataFrame.tz_convert()`](../reference/api/pandas.DataFrame.tz_convert.html#pandas.DataFrame.tz_convert
    "pandas.DataFrame.tz_convert")、[`Series.tz_localize()`](../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize
    "pandas.Series.tz_localize") 和 [`Series.tz_convert()`](../reference/api/pandas.Series.tz_convert.html#pandas.Series.tz_convert
    "pandas.Series.tz_convert") 中的错误，其中 `copy=False` 将原始参数就地修改 ([GH 6326](https://github.com/pandas-dev/pandas/issues/6326))
- en: Bug in [`DataFrame.max()`](../reference/api/pandas.DataFrame.max.html#pandas.DataFrame.max
    "pandas.DataFrame.max") and [`DataFrame.min()`](../reference/api/pandas.DataFrame.min.html#pandas.DataFrame.min
    "pandas.DataFrame.min") with `axis=1` where a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `NaN` would be returned when all columns contained the same
    timezone ([GH 10390](https://github.com/pandas-dev/pandas/issues/10390))
  id: totrans-2316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `axis=1` 的 [`DataFrame.max()`](../reference/api/pandas.DataFrame.max.html#pandas.DataFrame.max
    "pandas.DataFrame.max") 和 [`DataFrame.min()`](../reference/api/pandas.DataFrame.min.html#pandas.DataFrame.min
    "pandas.DataFrame.min") 中的错误，当所有列包含相同的时区时，会返回一个包含 `NaN` 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") ([GH 10390](https://github.com/pandas-dev/pandas/issues/10390))
- en: Offsets
  id: totrans-2317
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 偏移
- en: Bug in `FY5253` where date offsets could incorrectly raise an `AssertionError`
    in arithmetic operations ([GH 14774](https://github.com/pandas-dev/pandas/issues/14774))
  id: totrans-2318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `FY5253` 中的错误，日期偏移可能在算术运算中错误地引发 `AssertionError` ([GH 14774](https://github.com/pandas-dev/pandas/issues/14774))
- en: Bug in `DateOffset` where keyword arguments `week` and `milliseconds` were accepted
    and ignored. Passing these will now raise `ValueError` ([GH 19398](https://github.com/pandas-dev/pandas/issues/19398))
  id: totrans-2319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DateOffset` 中的错误，接受并忽略关键字参数 `week` 和 `milliseconds`。现在传递这些将引发 `ValueError`
    ([GH 19398](https://github.com/pandas-dev/pandas/issues/19398))'
- en: Bug in adding `DateOffset` with [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") incorrectly raising `TypeError` ([GH 23215](https://github.com/pandas-dev/pandas/issues/23215))
  id: totrans-2320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    或 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 添加 `DateOffset` 时的错误，错误地引发 `TypeError` ([GH 23215](https://github.com/pandas-dev/pandas/issues/23215))
- en: Bug in comparing `DateOffset` objects with non-DateOffset objects, particularly
    strings, raising `ValueError` instead of returning `False` for equality checks
    and `True` for not-equal checks ([GH 23524](https://github.com/pandas-dev/pandas/issues/23524))
  id: totrans-2321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 `DateOffset` 对象与非 `DateOffset` 对象（尤其是字符串）进行比较的错误，在相等检查中引发 `ValueError`，而不是返回
    `False`，在不相等检查中返回 `True` ([GH 23524](https://github.com/pandas-dev/pandas/issues/23524))
- en: Numeric
  id: totrans-2322
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数值
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    `__rmatmul__` doesn’t support matrix vector multiplication ([GH 21530](https://github.com/pandas-dev/pandas/issues/21530))
  id: totrans-2323
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    中的错误，`__rmatmul__` 不支持矩阵向量乘法 ([GH 21530](https://github.com/pandas-dev/pandas/issues/21530))'
- en: Bug in [`factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize") fails with read-only array ([GH 12813](https://github.com/pandas-dev/pandas/issues/12813))
  id: totrans-2324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`factorize()`](../reference/api/pandas.factorize.html#pandas.factorize "pandas.factorize")
    中，无法处理只读数组的错误 ([GH 12813](https://github.com/pandas-dev/pandas/issues/12813))
- en: 'Fixed bug in [`unique()`](../reference/api/pandas.unique.html#pandas.unique
    "pandas.unique") handled signed zeros inconsistently: for some inputs 0.0 and
    -0.0 were treated as equal and for some inputs as different. Now they are treated
    as equal for all inputs ([GH 21866](https://github.com/pandas-dev/pandas/issues/21866))'
  id: totrans-2325
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`unique()`](../reference/api/pandas.unique.html#pandas.unique "pandas.unique")
    中的错误，在处理有符号零时不一致：对于某些输入，0.0 和 -0.0 被视为相等，对于某些输入则视为不同。现在对于所有输入，它们都被视为相等 ([GH 21866](https://github.com/pandas-dev/pandas/issues/21866))
- en: Bug in [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg"), [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") and [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") where, when supplied with a list of functions and `axis=1`
    (e.g. `df.apply(['sum', 'mean'], axis=1)`), a `TypeError` was wrongly raised.
    For all three methods such calculation are now done correctly. ([GH 16679](https://github.com/pandas-dev/pandas/issues/16679)).
  id: totrans-2326
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg")、[`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") 和 [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") 中存在错误，当提供函数列表和 `axis=1`（例如 `df.apply(['sum', 'mean'],
    axis=1)`）时，错误地引发了 `TypeError`。现在这三种方法都已经正确计算了（[GH 16679](https://github.com/pandas-dev/pandas/issues/16679)）。
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    comparison against datetime-like scalars and arrays ([GH 22074](https://github.com/pandas-dev/pandas/issues/22074))
  id: totrans-2327
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    与日期时间样式标量和数组的比较存在错误（[GH 22074](https://github.com/pandas-dev/pandas/issues/22074)）。
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") multiplication between boolean dtype and integer returning
    `object` dtype instead of integer dtype ([GH 22047](https://github.com/pandas-dev/pandas/issues/22047),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163))
  id: totrans-2328
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在布尔 dtype 和整数之间的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 乘法中，返回的是对象 dtype 而不是整数 dtype（[GH 22047](https://github.com/pandas-dev/pandas/issues/22047),
    [GH 22163](https://github.com/pandas-dev/pandas/issues/22163)）。
- en: Bug in [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") where, when supplied with a string argument and additional
    positional or keyword arguments (e.g. `df.apply('sum', min_count=1)`), a `TypeError`
    was wrongly raised ([GH 22376](https://github.com/pandas-dev/pandas/issues/22376))
  id: totrans-2329
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") 中存在错误，当提供字符串参数和额外的位置或关键字参数时（例如 `df.apply('sum', min_count=1)`），错误地引发了
    `TypeError`（[GH 22376](https://github.com/pandas-dev/pandas/issues/22376)）。
- en: Bug in [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") to extension dtype may raise `AttributeError` ([GH
    22578](https://github.com/pandas-dev/pandas/issues/22578))
  id: totrans-2330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将到扩展 dtype 的 [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") 时，可能会引发 `AttributeError`（[GH 22578](https://github.com/pandas-dev/pandas/issues/22578)）。
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `timedelta64[ns]` dtype arithmetic operations with `ndarray`
    with integer dtype incorrectly treating the narray as `timedelta64[ns]` dtype
    ([GH 23114](https://github.com/pandas-dev/pandas/issues/23114))
  id: totrans-2331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在带有 `timedelta64[ns]` dtype 的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 中，与整数 dtype 的 `ndarray` 进行算术运算时，错误地将 narray 视为 `timedelta64[ns]`
    dtype（[GH 23114](https://github.com/pandas-dev/pandas/issues/23114)）。
- en: Bug in [`Series.rpow()`](../reference/api/pandas.Series.rpow.html#pandas.Series.rpow
    "pandas.Series.rpow") with object dtype `NaN` for `1 ** NA` instead of `1` ([GH
    22922](https://github.com/pandas-dev/pandas/issues/22922)).
  id: totrans-2332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在带有对象 dtype 的 [`Series.rpow()`](../reference/api/pandas.Series.rpow.html#pandas.Series.rpow
    "pandas.Series.rpow") 中，对于 `NaN` 的 `1 ** NA` 而不是 `1` 存在错误（[GH 22922](https://github.com/pandas-dev/pandas/issues/22922)）。
- en: '[`Series.agg()`](../reference/api/pandas.Series.agg.html#pandas.Series.agg
    "pandas.Series.agg") can now handle numpy NaN-aware methods like [`numpy.nansum()`](https://numpy.org/doc/stable/reference/generated/numpy.nansum.html#numpy.nansum
    "(in NumPy v1.26)") ([GH 19629](https://github.com/pandas-dev/pandas/issues/19629))'
  id: totrans-2333
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.agg()`](../reference/api/pandas.Series.agg.html#pandas.Series.agg
    "pandas.Series.agg") 现在可以处理像 [`numpy.nansum()`](https://numpy.org/doc/stable/reference/generated/numpy.nansum.html#numpy.nansum
    "(在 NumPy v1.26 中)") 这样的 numpy NaN-aware 方法了（[GH 19629](https://github.com/pandas-dev/pandas/issues/19629)）。'
- en: Bug in [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") and [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") when `pct=True` and more than 2^(24) rows are present
    resulted in percentages greater than 1.0 ([GH 18271](https://github.com/pandas-dev/pandas/issues/18271))
  id: totrans-2334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当存在超过 2^(24) 行时，[`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank") 和 [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") 中 `pct=True` 时存在错误，导致百分比大于 1.0（[GH 18271](https://github.com/pandas-dev/pandas/issues/18271)）。
- en: Calls such as [`DataFrame.round()`](../reference/api/pandas.DataFrame.round.html#pandas.DataFrame.round
    "pandas.DataFrame.round") with a non-unique [`CategoricalIndex()`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") now return expected data. Previously, data would be
    improperly duplicated ([GH 21809](https://github.com/pandas-dev/pandas/issues/21809)).
  id: totrans-2335
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如 [`DataFrame.round()`](../reference/api/pandas.DataFrame.round.html#pandas.DataFrame.round
    "pandas.DataFrame.round") 在具有非唯一 [`CategoricalIndex()`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 的情况下的调用现在返回预期的数据。先前，数据会被错误地重复（[GH 21809](https://github.com/pandas-dev/pandas/issues/21809)）。
- en: Added `log10`, `floor` and `ceil` to the list of supported functions in [`DataFrame.eval()`](../reference/api/pandas.DataFrame.eval.html#pandas.DataFrame.eval
    "pandas.DataFrame.eval") ([GH 24139](https://github.com/pandas-dev/pandas/issues/24139),
    [GH 24353](https://github.com/pandas-dev/pandas/issues/24353))
  id: totrans-2336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 `log10`、`floor` 和 `ceil` 添加到支持的函数列表中，以在[`DataFrame.eval()`](../reference/api/pandas.DataFrame.eval.html#pandas.DataFrame.eval
    "pandas.DataFrame.eval")中使用（[GH 24139](https://github.com/pandas-dev/pandas/issues/24139),
    [GH 24353](https://github.com/pandas-dev/pandas/issues/24353))
- en: Logical operations `&, |, ^` between [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") and [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") will no longer raise `ValueError` ([GH 22092](https://github.com/pandas-dev/pandas/issues/22092))
  id: totrans-2337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 逻辑操作 `&, |, ^` 在 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 和 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    之间将不再引发 `ValueError` ([GH 22092](https://github.com/pandas-dev/pandas/issues/22092))
- en: Checking PEP 3141 numbers in [`is_scalar()`](../reference/api/pandas.api.types.is_scalar.html#pandas.api.types.is_scalar
    "pandas.api.types.is_scalar") function returns `True` ([GH 22903](https://github.com/pandas-dev/pandas/issues/22903))
  id: totrans-2338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`is_scalar()`](../reference/api/pandas.api.types.is_scalar.html#pandas.api.types.is_scalar
    "pandas.api.types.is_scalar") 函数中检查 PEP 3141 数字现在返回 `True` ([GH 22903](https://github.com/pandas-dev/pandas/issues/22903))
- en: Reduction methods like [`Series.sum()`](../reference/api/pandas.Series.sum.html#pandas.Series.sum
    "pandas.Series.sum") now accept the default value of `keepdims=False` when called
    from a NumPy ufunc, rather than raising a `TypeError`. Full support for `keepdims`
    has not been implemented ([GH 24356](https://github.com/pandas-dev/pandas/issues/24356)).
  id: totrans-2339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当从 NumPy ufunc 调用时，类似 [`Series.sum()`](../reference/api/pandas.Series.sum.html#pandas.Series.sum
    "pandas.Series.sum") 的归约方法现在接受 `keepdims=False` 的默认值，而不是引发 `TypeError`。完整支持 `keepdims`
    尚未实现 ([GH 24356](https://github.com/pandas-dev/pandas/issues/24356)).
- en: Conversion
  id: totrans-2340
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 转换
- en: Bug in [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") in which column types were unexpectedly converted
    to float ([GH 20699](https://github.com/pandas-dev/pandas/issues/20699))
  id: totrans-2341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") 中的一个 bug 导致列类型意外地转换为浮点数 ([GH 20699](https://github.com/pandas-dev/pandas/issues/20699))
- en: Bug in [`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") in which column types are not preserved and casted to
    float ([GH 24162](https://github.com/pandas-dev/pandas/issues/24162))
  id: totrans-2342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") 中存在的一个 bug，其中列类型未被保留并转换为浮点数 ([GH 24162](https://github.com/pandas-dev/pandas/issues/24162))
- en: Bug in [`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") when order of columns of dataframes doesn’t match, result
    observed is wrong in numeric values ([GH 20911](https://github.com/pandas-dev/pandas/issues/20911))
  id: totrans-2343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在数据框的列顺序不匹配时，[`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") 中的一个 bug 导致观察到的结果在数字值上是错误的 ([GH 20911](https://github.com/pandas-dev/pandas/issues/20911))
- en: Bug in [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") where converting to an extension dtype when duplicate
    column names are present causes a `RecursionError` ([GH 24704](https://github.com/pandas-dev/pandas/issues/24704))
  id: totrans-2344
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在存在重复列名时，将 [`DataFrame.astype()`](../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype
    "pandas.DataFrame.astype") 中的转换为扩展数据类型会导致 `RecursionError` 的错误（[GH 24704](https://github.com/pandas-dev/pandas/issues/24704))
- en: Strings
  id: totrans-2345
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 字符串
- en: Bug in `Index.str.partition()` was not nan-safe ([GH 23558](https://github.com/pandas-dev/pandas/issues/23558)).
  id: totrans-2346
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.str.partition()` 中的一个 bug 不是 nan 安全的 ([GH 23558](https://github.com/pandas-dev/pandas/issues/23558)).'
- en: Bug in `Index.str.split()` was not nan-safe ([GH 23677](https://github.com/pandas-dev/pandas/issues/23677)).
  id: totrans-2347
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.str.split()` 中的一个 bug 不是 nan 安全的 ([GH 23677](https://github.com/pandas-dev/pandas/issues/23677)).'
- en: Bug [`Series.str.contains()`](../reference/api/pandas.Series.str.contains.html#pandas.Series.str.contains
    "pandas.Series.str.contains") not respecting the `na` argument for a `Categorical`
    dtype `Series` ([GH 22158](https://github.com/pandas-dev/pandas/issues/22158))
  id: totrans-2348
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.contains()`](../reference/api/pandas.Series.str.contains.html#pandas.Series.str.contains
    "pandas.Series.str.contains")中的错误不尊重`Categorical`类型的`Series`的`na`参数 ([GH 22158](https://github.com/pandas-dev/pandas/issues/22158))'
- en: Bug in `Index.str.cat()` when the result contained only `NaN` ([GH 24044](https://github.com/pandas-dev/pandas/issues/24044))
  id: totrans-2349
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当结果仅包含`NaN`时，`Index.str.cat()`中存在的错误 ([GH 24044](https://github.com/pandas-dev/pandas/issues/24044))
- en: Interval
  id: totrans-2350
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 区间
- en: Bug in the [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") constructor where the `closed` parameter did not always
    override the inferred `closed` ([GH 19370](https://github.com/pandas-dev/pandas/issues/19370))
  id: totrans-2351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`IntervalIndex`构造函数中，`closed`参数并不总是覆盖推断的`closed` ([GH 19370](https://github.com/pandas-dev/pandas/issues/19370))
- en: Bug in the `IntervalIndex` repr where a trailing comma was missing after the
    list of intervals ([GH 20611](https://github.com/pandas-dev/pandas/issues/20611))
  id: totrans-2352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex`的表示中存在尾随逗号丢失的错误 ([GH 20611](https://github.com/pandas-dev/pandas/issues/20611))'
- en: Bug in [`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    where scalar arithmetic operations did not retain the `closed` value ([GH 22313](https://github.com/pandas-dev/pandas/issues/22313))
  id: totrans-2353
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")中存在的错误，标量算术运算不保留`closed`值
    ([GH 22313](https://github.com/pandas-dev/pandas/issues/22313))
- en: Bug in [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") where indexing with datetime-like values raised a `KeyError`
    ([GH 20636](https://github.com/pandas-dev/pandas/issues/20636))
  id: totrans-2354
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")中，使用类似日期时间的值进行索引会引发`KeyError` ([GH 20636](https://github.com/pandas-dev/pandas/issues/20636))
- en: Bug in `IntervalTree` where data containing `NaN` triggered a warning and resulted
    in incorrect indexing queries with [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") ([GH 23352](https://github.com/pandas-dev/pandas/issues/23352))
  id: totrans-2355
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`IntervalTree`中的错误，其中包含`NaN`的数据会触发警告，并导致使用[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")进行的不正确的索引查询 ([GH 23352](https://github.com/pandas-dev/pandas/issues/23352))
- en: Indexing
  id: totrans-2356
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 索引
- en: Bug in [`DataFrame.ne()`](../reference/api/pandas.DataFrame.ne.html#pandas.DataFrame.ne
    "pandas.DataFrame.ne") fails if columns contain column name “dtype” ([GH 22383](https://github.com/pandas-dev/pandas/issues/22383))
  id: totrans-2357
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果列包含列名“dtype”，[`DataFrame.ne()`](../reference/api/pandas.DataFrame.ne.html#pandas.DataFrame.ne
    "pandas.DataFrame.ne")会失败 ([GH 22383](https://github.com/pandas-dev/pandas/issues/22383))
- en: The traceback from a `KeyError` when asking `.loc` for a single missing label
    is now shorter and more clear ([GH 21557](https://github.com/pandas-dev/pandas/issues/21557))
  id: totrans-2358
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当请求`.loc`获取单个缺失标签时，`KeyError`的回溯现在更短更清晰了 ([GH 21557](https://github.com/pandas-dev/pandas/issues/21557))
- en: '[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") now emits a `KeyError` when a malformed string is looked
    up, which is consistent with the behavior of [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 22803](https://github.com/pandas-dev/pandas/issues/22803))'
  id: totrans-2359
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当查找的字符串格式不正确时，[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")现在会引发`KeyError`，这与[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")的行为一致 ([GH 22803](https://github.com/pandas-dev/pandas/issues/22803))
- en: When `.ix` is asked for a missing integer label in a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") with a first level of integer type, it now raises a `KeyError`,
    consistently with the case of a flat `Int64Index`, rather than falling back to
    positional indexing ([GH 21593](https://github.com/pandas-dev/pandas/issues/21593))
  id: totrans-2360
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在具有整数类型第一级的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")中请求缺失的整数标签时，`.ix`现在会引发`KeyError`，与平坦的`Int64Index`的情况一致，而不是回退到位置索引
    ([GH 21593](https://github.com/pandas-dev/pandas/issues/21593))
- en: Bug in [`Index.reindex()`](../reference/api/pandas.Index.reindex.html#pandas.Index.reindex
    "pandas.Index.reindex") when reindexing a tz-naive and tz-aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 8306](https://github.com/pandas-dev/pandas/issues/8306))
  id: totrans-2361
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当重新索引一个时区无关和时区感知的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 时，在 [`Index.reindex()`](../reference/api/pandas.Index.reindex.html#pandas.Index.reindex
    "pandas.Index.reindex") 中出现错误。([GH 8306](https://github.com/pandas-dev/pandas/issues/8306))
- en: Bug in [`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex") when reindexing an empty series with a `datetime64[ns,
    tz]` dtype ([GH 20869](https://github.com/pandas-dev/pandas/issues/20869))
  id: totrans-2362
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用 `datetime64[ns, tz]` dtype 重新索引一个空系列时，在 [`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex") 中出现错误。([GH 20869](https://github.com/pandas-dev/pandas/issues/20869))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") when setting values with `.loc` and a timezone aware [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 11365](https://github.com/pandas-dev/pandas/issues/11365))
  id: totrans-2363
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `.loc` 和一个时区感知的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 设置值时，在 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 中修复了问题。([GH 11365](https://github.com/pandas-dev/pandas/issues/11365))
- en: '`DataFrame.__getitem__` now accepts dictionaries and dictionary keys as list-likes
    of labels, consistently with `Series.__getitem__` ([GH 21294](https://github.com/pandas-dev/pandas/issues/21294))'
  id: totrans-2364
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.__getitem__` 现在接受字典和字典键作为标签的列表，与 `Series.__getitem__` 保持一致。([GH
    21294](https://github.com/pandas-dev/pandas/issues/21294))'
- en: Fixed `DataFrame[np.nan]` when columns are non-unique ([GH 21428](https://github.com/pandas-dev/pandas/issues/21428))
  id: totrans-2365
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在列不唯一时 `DataFrame[np.nan]` 的问题。([GH 21428](https://github.com/pandas-dev/pandas/issues/21428))
- en: Bug when indexing [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") with nanosecond resolution dates and timezones ([GH 11679](https://github.com/pandas-dev/pandas/issues/11679))
  id: totrans-2366
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用纳秒分辨率日期和时区索引 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 时出现错误。([GH 11679](https://github.com/pandas-dev/pandas/issues/11679))
- en: Bug where indexing with a Numpy array containing negative values would mutate
    the indexer ([GH 21867](https://github.com/pandas-dev/pandas/issues/21867))
  id: totrans-2367
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用包含负值的 Numpy 数组进行索引时，会改变索引器。([GH 21867](https://github.com/pandas-dev/pandas/issues/21867))
- en: Bug where mixed indexes wouldn’t allow integers for `.at` ([GH 19860](https://github.com/pandas-dev/pandas/issues/19860))
  id: totrans-2368
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 混合索引不允许整数用于 `.at` 时出现错误。([GH 19860](https://github.com/pandas-dev/pandas/issues/19860))
- en: '`Float64Index.get_loc` now raises `KeyError` when boolean key passed. ([GH
    19087](https://github.com/pandas-dev/pandas/issues/19087))'
  id: totrans-2369
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Float64Index.get_loc` 现在在传递布尔键时引发 `KeyError`。([GH 19087](https://github.com/pandas-dev/pandas/issues/19087))'
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") when indexing with an [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") ([GH 19977](https://github.com/pandas-dev/pandas/issues/19977))
  id: totrans-2370
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 进行索引时，在 [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 中出现错误。([GH 19977](https://github.com/pandas-dev/pandas/issues/19977))
- en: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") no
    longer mangles `None`, `NaN` and `NaT`, i.e. they are treated as three different
    keys. However, for numeric Index all three are still coerced to a `NaN` ([GH 22332](https://github.com/pandas-dev/pandas/issues/22332))'
  id: totrans-2371
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") 不再混淆
    `None`、`NaN` 和 `NaT`，即它们被视为三个不同的键。但是，对于数值索引，这三个仍然被强制转换为 `NaN`。([GH 22332](https://github.com/pandas-dev/pandas/issues/22332))'
- en: Bug in `scalar in Index` if scalar is a float while the `Index` is of integer
    dtype ([GH 22085](https://github.com/pandas-dev/pandas/issues/22085))
  id: totrans-2372
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果标量是浮点数，而 `Index` 是整数 dtype，则在 `scalar in Index` 中出现错误。([GH 22085](https://github.com/pandas-dev/pandas/issues/22085))
- en: Bug in [`MultiIndex.set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels") when levels value is not subscriptable ([GH 23273](https://github.com/pandas-dev/pandas/issues/23273))
  id: totrans-2373
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 levels 值不可索引时，在 [`MultiIndex.set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels") 中出现错误。([GH 23273](https://github.com/pandas-dev/pandas/issues/23273))
- en: Bug where setting a timedelta column by `Index` causes it to be casted to double,
    and therefore lose precision ([GH 23511](https://github.com/pandas-dev/pandas/issues/23511))
  id: totrans-2374
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在通过 `Index` 设置 timedelta 列时，会将其转换为 double，从而失去精度的 bug ([GH 23511](https://github.com/pandas-dev/pandas/issues/23511))
- en: Bug in [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") and [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") where name of the `Index` of the result was not computed
    correctly for certain cases ([GH 9943](https://github.com/pandas-dev/pandas/issues/9943),
    [GH 9862](https://github.com/pandas-dev/pandas/issues/9862))
  id: totrans-2375
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") 和 [`Index.intersection()`](../reference/api/pandas.Index.intersection.html#pandas.Index.intersection
    "pandas.Index.intersection") 中存在一个 bug，对于某些情况，结果的 `Index` 的名称计算不正确（[GH 9943](https://github.com/pandas-dev/pandas/issues/9943),
    [GH 9862](https://github.com/pandas-dev/pandas/issues/9862)）
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    slicing with boolean [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") may raise `TypeError` ([GH 22533](https://github.com/pandas-dev/pandas/issues/22533))
  id: totrans-2376
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用布尔型 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    对 `Index` 进行切片时可能会引发 `TypeError` 的 bug ([GH 22533](https://github.com/pandas-dev/pandas/issues/22533))
- en: Bug in `PeriodArray.__setitem__` when accepting slice and list-like value ([GH
    23978](https://github.com/pandas-dev/pandas/issues/23978))
  id: totrans-2377
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在接受切片和类似列表值时，`PeriodArray.__setitem__` 存在 bug ([GH 23978](https://github.com/pandas-dev/pandas/issues/23978))
- en: Bug in [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex"), [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") where indexing with `Ellipsis` would lose their `freq`
    attribute ([GH 21282](https://github.com/pandas-dev/pandas/issues/21282))
  id: totrans-2378
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 和 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 存在一个 bug，使用 `Ellipsis` 进行索引会丢失它们的 `freq` 属性（[GH 21282](https://github.com/pandas-dev/pandas/issues/21282)）
- en: Bug in `iat` where using it to assign an incompatible value would create a new
    column ([GH 23236](https://github.com/pandas-dev/pandas/issues/23236))
  id: totrans-2379
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `iat` 进行赋值时，如果赋值的值不兼容，会创建一个新列的 bug ([GH 23236](https://github.com/pandas-dev/pandas/issues/23236))
- en: Missing
  id: totrans-2380
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 缺失
- en: Bug in [`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") where a `ValueError` would raise when one column contained
    a `datetime64[ns, tz]` dtype ([GH 15522](https://github.com/pandas-dev/pandas/issues/15522))
  id: totrans-2381
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") 中存在一个 bug，当一列包含 `datetime64[ns, tz]` 类型时，会引发 `ValueError`
    ([GH 15522](https://github.com/pandas-dev/pandas/issues/15522))
- en: Bug in [`Series.hasnans()`](../reference/api/pandas.Series.hasnans.html#pandas.Series.hasnans
    "pandas.Series.hasnans") that could be incorrectly cached and return incorrect
    answers if null elements are introduced after an initial call ([GH 19700](https://github.com/pandas-dev/pandas/issues/19700))
  id: totrans-2382
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Series.hasnans()`](../reference/api/pandas.Series.hasnans.html#pandas.Series.hasnans
    "pandas.Series.hasnans") 中存在一个 bug，如果在初始调用后引入了空元素，则可能会错误地缓存和返回错误的答案 ([GH 19700](https://github.com/pandas-dev/pandas/issues/19700))
- en: '[`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") now treats all NaN-floats as equal also for `np.object_`-dtype.
    This behavior is consistent with the behavior for float64 ([GH 22119](https://github.com/pandas-dev/pandas/issues/22119))'
  id: totrans-2383
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") 现在对于 `np.object_`-dtype 也将所有 NaN-floats 视为相等。这个行为与 float64
    的行为一致 ([GH 22119](https://github.com/pandas-dev/pandas/issues/22119))'
- en: '[`unique()`](../reference/api/pandas.unique.html#pandas.unique "pandas.unique")
    no longer mangles NaN-floats and the `NaT`-object for `np.object_`-dtype, i.e.
    `NaT` is no longer coerced to a NaN-value and is treated as a different entity.
    ([GH 22295](https://github.com/pandas-dev/pandas/issues/22295))'
  id: totrans-2384
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`unique()`](../reference/api/pandas.unique.html#pandas.unique "pandas.unique")
    不再对 NaN-floats 和 `NaT`-object 进行修改，并且对于 `np.object_`-dtype，即 `NaT` 不再被强制转换为 NaN
    值，并且被视为一个不同的实体。 ([GH 22295](https://github.com/pandas-dev/pandas/issues/22295))'
- en: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    and [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    now properly handle numpy masked arrays with hardened masks. Previously, constructing
    a DataFrame or Series from a masked array with a hard mask would create a pandas
    object containing the underlying value, rather than the expected NaN. ([GH 24574](https://github.com/pandas-dev/pandas/issues/24574))'
  id: totrans-2385
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")和[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")可以正确处理带有强化掩码的numpy掩码数组。以前，从带有硬掩码的掩码数组构造DataFrame或Series会创建一个包含底层值的pandas对象，而不是预期的NaN。([GH
    24574](https://github.com/pandas-dev/pandas/issues/24574))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor where `dtype` argument was not honored when handling
    numpy masked record arrays. ([GH 24874](https://github.com/pandas-dev/pandas/issues/24874))
  id: totrans-2386
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在处理numpy掩码记录数组时，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")构造函数中的`dtype`参数未被遵守的错误。([GH 24874](https://github.com/pandas-dev/pandas/issues/24874))
- en: MultiIndex
  id: totrans-2387
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 多重索引
- en: Bug in `io.formats.style.Styler.applymap()` where `subset=` with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") slice would reduce to [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") ([GH 19861](https://github.com/pandas-dev/pandas/issues/19861))
  id: totrans-2388
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`io.formats.style.Styler.applymap()`中存在的错误，在使用[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")切片的`subset=`会被缩减为[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")（[GH 19861](https://github.com/pandas-dev/pandas/issues/19861))
- en: Removed compatibility for [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") pickles prior to version 0.8.0; compatibility with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") pickles from version 0.13 forward is maintained ([GH 21654](https://github.com/pandas-dev/pandas/issues/21654))
  id: totrans-2389
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除了对版本0.8.0之前的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") pickles的兼容性;与版本0.13之后的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") pickles的兼容性保持不变。([GH 21654](https://github.com/pandas-dev/pandas/issues/21654))
- en: '[`MultiIndex.get_loc_level()`](../reference/api/pandas.MultiIndex.get_loc_level.html#pandas.MultiIndex.get_loc_level
    "pandas.MultiIndex.get_loc_level") (and as a consequence, `.loc` on a `Series`
    or `DataFrame` with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") index) will now raise a `KeyError`, rather than returning
    an empty `slice`, if asked a label which is present in the `levels` but is unused
    ([GH 22221](https://github.com/pandas-dev/pandas/issues/22221))'
  id: totrans-2390
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.get_loc_level()`](../reference/api/pandas.MultiIndex.get_loc_level.html#pandas.MultiIndex.get_loc_level
    "pandas.MultiIndex.get_loc_level")（以及作为结果，对具有[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")索引的`Series`或`DataFrame`的`.loc`）现在将引发一个`KeyError`，而不是返回一个空的`slice`，如果询问在`levels`中存在但未使用的标签。([GH
    22221](https://github.com/pandas-dev/pandas/issues/22221))'
- en: '[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    has gained the [`MultiIndex.from_frame()`](../reference/api/pandas.MultiIndex.from_frame.html#pandas.MultiIndex.from_frame
    "pandas.MultiIndex.from_frame"), it allows constructing a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") object from a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 22420](https://github.com/pandas-dev/pandas/issues/22420))'
  id: totrans-2391
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")已经获得了[`MultiIndex.from_frame()`](../reference/api/pandas.MultiIndex.from_frame.html#pandas.MultiIndex.from_frame
    "pandas.MultiIndex.from_frame")，它允许从[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")构造一个[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")对象。([GH 22420](https://github.com/pandas-dev/pandas/issues/22420))'
- en: Fix `TypeError` in Python 3 when creating [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") in which some levels have mixed types, e.g. when some labels
    are tuples ([GH 15457](https://github.com/pandas-dev/pandas/issues/15457))
  id: totrans-2392
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Python 3中修复了当创建[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")时出现的`TypeError`，其中某些级别具有混合类型，例如当某些标签是元组时。([GH 15457](https://github.com/pandas-dev/pandas/issues/15457))
- en: IO
  id: totrans-2393
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: IO
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which a column specified with `CategoricalDtype` of boolean
    categories was not being correctly coerced from string values to booleans ([GH
    20498](https://github.com/pandas-dev/pandas/issues/20498))
  id: totrans-2394
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    中的错误，当指定了 `CategoricalDtype` 的布尔类别列时，字符串值未能正确转换为布尔值（[GH 20498](https://github.com/pandas-dev/pandas/issues/20498)）'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which unicode column names were not being properly recognized
    with Python 2.x ([GH 13253](https://github.com/pandas-dev/pandas/issues/13253))
  id: totrans-2395
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    中的错误，Python 2.x 下未正确识别 Unicode 列名（[GH 13253](https://github.com/pandas-dev/pandas/issues/13253)）'
- en: Bug in [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") when writing timezone aware data (`datetime64[ns, tz]`
    dtype) would raise a `TypeError` ([GH 9086](https://github.com/pandas-dev/pandas/issues/9086))
  id: totrans-2396
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 中的错误，当写入带有时区信息的数据（`datetime64[ns, tz]` dtype）时会引发 `TypeError`
    ([GH 9086](https://github.com/pandas-dev/pandas/issues/9086))'
- en: Bug in [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") where a naive [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") would be written as `TIMESTAMP WITH TIMEZONE` type in
    supported databases, e.g. PostgreSQL ([GH 23510](https://github.com/pandas-dev/pandas/issues/23510))
  id: totrans-2397
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 中的错误，当在支持的数据库中写入一个未经过时区处理的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 时，会被写入为 `TIMESTAMP WITH TIMEZONE` 类型，例如在 PostgreSQL 中（[GH
    23510](https://github.com/pandas-dev/pandas/issues/23510)）'
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") when `parse_cols` is specified with an empty dataset ([GH
    9208](https://github.com/pandas-dev/pandas/issues/9208))
  id: totrans-2398
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 中的错误，当使用空数据集指定 `parse_cols` 时会出错（[GH 9208](https://github.com/pandas-dev/pandas/issues/9208)）'
- en: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    no longer ignores all-whitespace `<tr>` within `<thead>` when considering the
    `skiprows` and `header` arguments. Previously, users had to decrease their `header`
    and `skiprows` values on such tables to work around the issue. ([GH 21641](https://github.com/pandas-dev/pandas/issues/21641))'
  id: totrans-2399
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html "pandas.read_html")
    在考虑 `skiprows` 和 `header` 参数时，不再忽略所有空格 `<thead>` 中的全空白 `<tr>`。以前，用户不得不降低 `header`
    和 `skiprows` 值以解决此问题。([GH 21641](https://github.com/pandas-dev/pandas/issues/21641))'
- en: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") will correctly show the deprecation warning for previously
    deprecated `sheetname` ([GH 17994](https://github.com/pandas-dev/pandas/issues/17994))'
  id: totrans-2400
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 将正确显示先前弃用的 `sheetname` 的弃用警告（[GH 17994](https://github.com/pandas-dev/pandas/issues/17994)）'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    and [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") will throw `UnicodeError` and not coredump on badly encoded
    strings ([GH 22748](https://github.com/pandas-dev/pandas/issues/22748))'
  id: totrans-2401
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    和 [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table "pandas.read_table")
    在遇到错误编码的字符串时，将抛出 `UnicodeError` 而不是导致核心转储（[GH 22748](https://github.com/pandas-dev/pandas/issues/22748)）'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    will correctly parse timezone-aware datetimes ([GH 22256](https://github.com/pandas-dev/pandas/issues/22256))'
  id: totrans-2402
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    将正确解析带有时区信息的日期时间（[GH 22256](https://github.com/pandas-dev/pandas/issues/22256)）'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which memory management was prematurely optimized for the
    C engine when the data was being read in chunks ([GH 23509](https://github.com/pandas-dev/pandas/issues/23509))
  id: totrans-2403
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    中的错误，在数据被分块读取时，当数据以 C 引擎被读取时，内存管理过早地进行了优化，导致了错误（[GH 23509](https://github.com/pandas-dev/pandas/issues/23509)）'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in unnamed columns were being improperly identified when extracting
    a multi-index ([GH 23687](https://github.com/pandas-dev/pandas/issues/23687))
  id: totrans-2404
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    存在错误，当提取多级索引时，无名列被错误地识别（[GH 23687](https://github.com/pandas-dev/pandas/issues/23687)）'
- en: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    will parse numbers in sas7bdat-files that have width less than 8 bytes correctly.
    ([GH 21616](https://github.com/pandas-dev/pandas/issues/21616))'
  id: totrans-2405
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    将正确解析宽度小于 8 字节的 sas7bdat 文件中的数字（[GH 21616](https://github.com/pandas-dev/pandas/issues/21616)）'
- en: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    will correctly parse sas7bdat files with many columns ([GH 22628](https://github.com/pandas-dev/pandas/issues/22628))'
  id: totrans-2406
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    将正确解析具有许多列的 sas7bdat 文件（[GH 22628](https://github.com/pandas-dev/pandas/issues/22628)）'
- en: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    will correctly parse sas7bdat files with data page types having also bit 7 set
    (so page type is 128 + 256 = 384) ([GH 16615](https://github.com/pandas-dev/pandas/issues/16615))'
  id: totrans-2407
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    将正确解析数据页面类型为 128 + 256 = 384 的 sas7bdat 文件（[GH 16615](https://github.com/pandas-dev/pandas/issues/16615)）'
- en: Bug in [`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas
    "pandas.read_sas") in which an incorrect error was raised on an invalid file format.
    ([GH 24548](https://github.com/pandas-dev/pandas/issues/24548))
  id: totrans-2408
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    存在错误，对无效文件格式会抛出不正确的错误（[GH 24548](https://github.com/pandas-dev/pandas/issues/24548)）'
- en: Bug in `detect_client_encoding()` where potential `IOError` goes unhandled when
    importing in a mod_wsgi process due to restricted access to stdout. ([GH 21552](https://github.com/pandas-dev/pandas/issues/21552))
  id: totrans-2409
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`detect_client_encoding()` 中存在错误，当在 mod_wsgi 进程中导入时，由于对标准输出的访问受限，潜在的 `IOError`
    未处理（[GH 21552](https://github.com/pandas-dev/pandas/issues/21552)）'
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") with `index=False` misses truncation indicators (…)
    on truncated DataFrame ([GH 15019](https://github.com/pandas-dev/pandas/issues/15019),
    [GH 22783](https://github.com/pandas-dev/pandas/issues/22783))
  id: totrans-2410
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 在 `index=False` 的情况下，截断的 DataFrame 缺失了截断指示符（…）（[GH
    15019](https://github.com/pandas-dev/pandas/issues/15019), [GH 22783](https://github.com/pandas-dev/pandas/issues/22783)）'
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") with `index=False` when both columns and row index
    are `MultiIndex` ([GH 22579](https://github.com/pandas-dev/pandas/issues/22579))
  id: totrans-2411
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 在 `index=False` 时，当列和行索引都是 `MultiIndex` 时存在错误（[GH
    22579](https://github.com/pandas-dev/pandas/issues/22579)）'
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") with `index_names=False` displaying index name ([GH
    22747](https://github.com/pandas-dev/pandas/issues/22747))
  id: totrans-2412
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 在 `index_names=False` 的情况下，显示了索引名称（[GH 22747](https://github.com/pandas-dev/pandas/issues/22747)）'
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") with `header=False` not displaying row index names
    ([GH 23788](https://github.com/pandas-dev/pandas/issues/23788))
  id: totrans-2413
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 在 `header=False` 的情况下存在错误，未显示行索引名称（[GH 23788](https://github.com/pandas-dev/pandas/issues/23788)）'
- en: Bug in [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") with `sparsify=False` that caused it to raise `TypeError`
    ([GH 22887](https://github.com/pandas-dev/pandas/issues/22887))
  id: totrans-2414
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 在 `sparsify=False` 的情况下存在错误，导致引发 `TypeError` 错误（[GH
    22887](https://github.com/pandas-dev/pandas/issues/22887)）'
- en: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") that broke column alignment when `index=False` and
    width of first column’s values is greater than the width of first column’s header
    ([GH 16839](https://github.com/pandas-dev/pandas/issues/16839), [GH 13032](https://github.com/pandas-dev/pandas/issues/13032))
  id: totrans-2415
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `index=False` 且第一列的值的宽度大于第一列的标头宽度时，导致列对齐中断的[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string")中的 bug ([GH 16839](https://github.com/pandas-dev/pandas/issues/16839),
    [GH 13032](https://github.com/pandas-dev/pandas/issues/13032))
- en: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") that caused representations of [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") to not take up the whole window ([GH 22984](https://github.com/pandas-dev/pandas/issues/22984))
  id: totrans-2416
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 导致 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    的表示形式不占据整个窗口的[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string")中的 bug ([GH 22984](https://github.com/pandas-dev/pandas/issues/22984))
- en: Bug in [`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv") where a single level MultiIndex incorrectly wrote a
    tuple. Now just the value of the index is written ([GH 19589](https://github.com/pandas-dev/pandas/issues/19589)).
  id: totrans-2417
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 单级 MultiIndex 错误地写入元组的[`DataFrame.to_csv()`](../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv
    "pandas.DataFrame.to_csv")中的 bug，现在只写入索引的值 ([GH 19589](https://github.com/pandas-dev/pandas/issues/19589)).
- en: '`HDFStore` will raise `ValueError` when the `format` kwarg is passed to the
    constructor ([GH 13291](https://github.com/pandas-dev/pandas/issues/13291))'
  id: totrans-2418
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `format` kwarg 被传递给构造函数时，`HDFStore` 会引发 `ValueError` ([GH 13291](https://github.com/pandas-dev/pandas/issues/13291))
- en: Bug in [`HDFStore.append()`](../reference/api/pandas.HDFStore.append.html#pandas.HDFStore.append
    "pandas.HDFStore.append") when appending a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with an empty string column and `min_itemsize` < 8 ([GH 12242](https://github.com/pandas-dev/pandas/issues/12242))
  id: totrans-2419
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在向具有空字符串列和 `min_itemsize` < 8 的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 添加时存在 bug 的[`HDFStore.append()`](../reference/api/pandas.HDFStore.append.html#pandas.HDFStore.append
    "pandas.HDFStore.append") ([GH 12242](https://github.com/pandas-dev/pandas/issues/12242))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which memory leaks occurred in the C engine when parsing
    `NaN` values due to insufficient cleanup on completion or error ([GH 21353](https://github.com/pandas-dev/pandas/issues/21353))
  id: totrans-2420
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在解析 `NaN` 值时，由于完成或错误时清理不足，导致 C 引擎中发生内存泄漏的[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")中的 bug ([GH 21353](https://github.com/pandas-dev/pandas/issues/21353))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which incorrect error messages were being raised when `skipfooter`
    was passed in along with `nrows`, `iterator`, or `chunksize` ([GH 23711](https://github.com/pandas-dev/pandas/issues/23711))
  id: totrans-2421
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `skipfooter` 与 `nrows`、`iterator` 或 `chunksize` 一起传递时，引发不正确错误消息的[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")中的 bug ([GH 23711](https://github.com/pandas-dev/pandas/issues/23711))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") index names were being improperly handled in the cases when
    they were not provided ([GH 23484](https://github.com/pandas-dev/pandas/issues/23484))
  id: totrans-2422
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")中存在的
    bug 是在未提供 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 索引名称时处理不当的情况 ([GH 23484](https://github.com/pandas-dev/pandas/issues/23484))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which unnecessary warnings were being raised when the dialect’s
    values conflicted with the default arguments ([GH 23761](https://github.com/pandas-dev/pandas/issues/23761))
  id: totrans-2423
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")中存在的
    bug 是在方言的值与默认参数冲突时引发不必要警告 ([GH 23761](https://github.com/pandas-dev/pandas/issues/23761))
- en: Bug in [`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html
    "pandas.read_html") in which the error message was not displaying the valid flavors
    when an invalid one was provided ([GH 23549](https://github.com/pandas-dev/pandas/issues/23549))
  id: totrans-2424
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在提供无效值时，[`read_html()`](../reference/api/pandas.read_html.html#pandas.read_html
    "pandas.read_html")中的错误消息未显示有效的 flavors 的 bug ([GH 23549](https://github.com/pandas-dev/pandas/issues/23549))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") in which extraneous header names were extracted, even though
    none were specified ([GH 11733](https://github.com/pandas-dev/pandas/issues/11733))
  id: totrans-2425
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 中即使未指定也提取了多余的标题名称的错误（[GH 11733](https://github.com/pandas-dev/pandas/issues/11733)）'
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") in which column names were not being properly converted to
    string sometimes in Python 2.x ([GH 23874](https://github.com/pandas-dev/pandas/issues/23874))
  id: totrans-2426
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 中有时未正确将列名转换为字符串的错误在 Python 2.x 中发生（[GH 23874](https://github.com/pandas-dev/pandas/issues/23874)）'
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") in which `index_col=None` was not being respected and parsing
    index columns anyway ([GH 18792](https://github.com/pandas-dev/pandas/issues/18792),
    [GH 20480](https://github.com/pandas-dev/pandas/issues/20480))
  id: totrans-2427
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 中 `index_col=None` 未被尊重且仍然解析索引列的错误（[GH 18792](https://github.com/pandas-dev/pandas/issues/18792)，[GH
    20480](https://github.com/pandas-dev/pandas/issues/20480)）'
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") in which `usecols` was not being validated for proper column
    names when passed in as a string ([GH 20480](https://github.com/pandas-dev/pandas/issues/20480))
  id: totrans-2428
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 中 `usecols` 作为字符串传递时未验证适当的列名的错误（[GH 20480](https://github.com/pandas-dev/pandas/issues/20480)）'
- en: Bug in [`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") when the resulting dict contains non-Python scalars
    in the case of numeric data ([GH 23753](https://github.com/pandas-dev/pandas/issues/23753))
  id: totrans-2429
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_dict()`](../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict
    "pandas.DataFrame.to_dict") 在数值数据情况下生成的字典包含非 Python 标量时存在错误（[GH 23753](https://github.com/pandas-dev/pandas/issues/23753)）'
- en: '[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string"), [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html"), [`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") will correctly format output when a string is passed
    as the `float_format` argument ([GH 21625](https://github.com/pandas-dev/pandas/issues/21625),
    [GH 22270](https://github.com/pandas-dev/pandas/issues/22270))'
  id: totrans-2430
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string")、[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html")、[`DataFrame.to_latex()`](../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex
    "pandas.DataFrame.to_latex") 当将字符串作为 `float_format` 参数传递时，将正确格式化输出（[GH 21625](https://github.com/pandas-dev/pandas/issues/21625)，[GH
    22270](https://github.com/pandas-dev/pandas/issues/22270)）'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") that caused it to raise `OverflowError` when trying to use
    ‘inf’ as `na_value` with integer index column ([GH 17128](https://github.com/pandas-dev/pandas/issues/17128))
  id: totrans-2431
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    尝试使用 ‘inf’ 作为整数索引列的 `na_value` 时引发 `OverflowError` 的错误（[GH 17128](https://github.com/pandas-dev/pandas/issues/17128)）'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") that caused the C engine on Python 3.6+ on Windows to improperly
    read CSV filenames with accented or special characters ([GH 15086](https://github.com/pandas-dev/pandas/issues/15086))
  id: totrans-2432
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    在 Python 3.6+ 的 Windows 上，C 引擎在不正确读取带重音符号或特殊字符的 CSV 文件名时的错误（[GH 15086](https://github.com/pandas-dev/pandas/issues/15086)）'
- en: Bug in [`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf
    "pandas.read_fwf") in which the compression type of a file was not being properly
    inferred ([GH 22199](https://github.com/pandas-dev/pandas/issues/22199))
  id: totrans-2433
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf "pandas.read_fwf")
    中文件的压缩类型无法正确推断导致的错误（[GH 22199](https://github.com/pandas-dev/pandas/issues/22199)）'
- en: Bug in `pandas.io.json.json_normalize()` that caused it to raise `TypeError`
    when two consecutive elements of `record_path` are dicts ([GH 22706](https://github.com/pandas-dev/pandas/issues/22706))
  id: totrans-2434
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.io.json.json_normalize()` 中当 `record_path` 的连续两个元素是字典时引发 `TypeError`
    的错误（[GH 22706](https://github.com/pandas-dev/pandas/issues/22706)）'
- en: Bug in [`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata"), `pandas.io.stata.StataWriter` and `pandas.io.stata.StataWriter117`
    where a exception would leave a partially written and invalid dta file ([GH 23573](https://github.com/pandas-dev/pandas/issues/23573))
  id: totrans-2435
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata")、`pandas.io.stata.StataWriter`和`pandas.io.stata.StataWriter117`中存在错误，当异常发生时，会留下部分写入的无效dta文件（[GH
    23573](https://github.com/pandas-dev/pandas/issues/23573)）。
- en: Bug in [`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata") and `pandas.io.stata.StataWriter117` that produced
    invalid files when using strLs with non-ASCII characters ([GH 23573](https://github.com/pandas-dev/pandas/issues/23573))
  id: totrans-2436
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用带有非ASCII字符的strLs时，[`DataFrame.to_stata()`](../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata
    "pandas.DataFrame.to_stata")和`pandas.io.stata.StataWriter117`会生成无效文件（[GH 23573](https://github.com/pandas-dev/pandas/issues/23573)）。
- en: Bug in `HDFStore` that caused it to raise `ValueError` when reading a Dataframe
    in Python 3 from fixed format written in Python 2 ([GH 24510](https://github.com/pandas-dev/pandas/issues/24510))
  id: totrans-2437
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Python 3中从Python 2中固定格式编写的Dataframe中读取时，`HDFStore`会导致引发`ValueError`的错误（[GH
    24510](https://github.com/pandas-dev/pandas/issues/24510)）。
- en: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") and more generally in the floating `repr` formatter.
    Zeros were not trimmed if `inf` was present in a columns while it was the case
    with NA values. Zeros are now trimmed as in the presence of NA ([GH 24861](https://github.com/pandas-dev/pandas/issues/24861)).
  id: totrans-2438
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string")和浮点`repr`格式化器中普遍存在错误。如果列中存在`inf`，则不会删除零，而NA值则会。现在，与存在NA值时一样，零已被删除（[GH
    24861](https://github.com/pandas-dev/pandas/issues/24861)）。
- en: Bug in the `repr` when truncating the number of columns and having a wide last
    column ([GH 24849](https://github.com/pandas-dev/pandas/issues/24849)).
  id: totrans-2439
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在截断列数并且最后一列宽度较宽时，`repr`中存在错误（[GH 24849](https://github.com/pandas-dev/pandas/issues/24849)）。
- en: Plotting
  id: totrans-2440
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 绘图
- en: Bug in [`DataFrame.plot.scatter()`](../reference/api/pandas.DataFrame.plot.scatter.html#pandas.DataFrame.plot.scatter
    "pandas.DataFrame.plot.scatter") and [`DataFrame.plot.hexbin()`](../reference/api/pandas.DataFrame.plot.hexbin.html#pandas.DataFrame.plot.hexbin
    "pandas.DataFrame.plot.hexbin") caused x-axis label and ticklabels to disappear
    when colorbar was on in IPython inline backend ([GH 10611](https://github.com/pandas-dev/pandas/issues/10611),
    [GH 10678](https://github.com/pandas-dev/pandas/issues/10678), and [GH 20455](https://github.com/pandas-dev/pandas/issues/20455))
  id: totrans-2441
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在IPython inline后端中启用colorbar时，[`DataFrame.plot.scatter()`](../reference/api/pandas.DataFrame.plot.scatter.html#pandas.DataFrame.plot.scatter
    "pandas.DataFrame.plot.scatter")和[`DataFrame.plot.hexbin()`](../reference/api/pandas.DataFrame.plot.hexbin.html#pandas.DataFrame.plot.hexbin
    "pandas.DataFrame.plot.hexbin")中的x轴标签和刻度标签消失了（[GH 10611](https://github.com/pandas-dev/pandas/issues/10611)，[GH
    10678](https://github.com/pandas-dev/pandas/issues/10678)，以及[GH 20455](https://github.com/pandas-dev/pandas/issues/20455)）。
- en: Bug in plotting a Series with datetimes using `matplotlib.axes.Axes.scatter()`
    ([GH 22039](https://github.com/pandas-dev/pandas/issues/22039))
  id: totrans-2442
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`matplotlib.axes.Axes.scatter()`绘制日期时间序列的图表时存在错误（[GH 22039](https://github.com/pandas-dev/pandas/issues/22039)）。
- en: Bug in [`DataFrame.plot.bar()`](../reference/api/pandas.DataFrame.plot.bar.html#pandas.DataFrame.plot.bar
    "pandas.DataFrame.plot.bar") caused bars to use multiple colors instead of a single
    one ([GH 20585](https://github.com/pandas-dev/pandas/issues/20585))
  id: totrans-2443
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.plot.bar()`](../reference/api/pandas.DataFrame.plot.bar.html#pandas.DataFrame.plot.bar
    "pandas.DataFrame.plot.bar")中的错误导致柱形图使用多种颜色而不是单一颜色（[GH 20585](https://github.com/pandas-dev/pandas/issues/20585)）。'
- en: Bug in validating color parameter caused extra color to be appended to the given
    color array. This happened to multiple plotting functions using matplotlib. ([GH
    20726](https://github.com/pandas-dev/pandas/issues/20726))
  id: totrans-2444
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 验证颜色参数时存在错误，导致额外的颜色被追加到给定的颜色数组中。这发生在使用matplotlib的多个绘图函数中（[GH 20726](https://github.com/pandas-dev/pandas/issues/20726)）。
- en: GroupBy/resample/rolling
  id: totrans-2445
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: GroupBy/resample/rolling
- en: Bug in `Rolling.min()` and `Rolling.max()` with `closed='left'`, a datetime-like
    index and only one entry in the series leading to segfault ([GH 24718](https://github.com/pandas-dev/pandas/issues/24718))
  id: totrans-2446
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`closed='left'`、类似日期时间的索引和序列中只有一个条目时，`Rolling.min()`和`Rolling.max()`存在错误，导致段错误（[GH
    24718](https://github.com/pandas-dev/pandas/issues/24718)）。
- en: Bug in `GroupBy.first()` and `GroupBy.last()` with `as_index=False` leading
    to the loss of timezone information ([GH 15884](https://github.com/pandas-dev/pandas/issues/15884))
  id: totrans-2447
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `GroupBy.first()` 和 `GroupBy.last()` 在 `as_index=False` 的情况下导致时区信息丢失的问题（[GH
    15884](https://github.com/pandas-dev/pandas/issues/15884))
- en: Bug in `DateFrame.resample()` when downsampling across a DST boundary ([GH 8531](https://github.com/pandas-dev/pandas/issues/8531))
  id: totrans-2448
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `DateFrame.resample()` 在跨越夏令时边界进行降采样时出现问题（[GH 8531](https://github.com/pandas-dev/pandas/issues/8531)）
- en: Bug in date anchoring for `DateFrame.resample()` with offset `Day` when n >
    1 ([GH 24127](https://github.com/pandas-dev/pandas/issues/24127))
  id: totrans-2449
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `DateFrame.resample()` 中使用偏移量 `Day` 进行日期定位时，当 n > 1 时出现问题（[GH 24127](https://github.com/pandas-dev/pandas/issues/24127))
- en: Bug where `ValueError` is wrongly raised when calling `SeriesGroupBy.count()`
    method of a `SeriesGroupBy` when the grouping variable only contains NaNs and
    numpy version < 1.13 ([GH 21956](https://github.com/pandas-dev/pandas/issues/21956)).
  id: totrans-2450
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当调用 `SeriesGroupBy.count()` 方法时，当分组变量仅包含 NaN 并且 numpy 版本 < 1.13 时错误地引发 `ValueError`
    的问题（[GH 21956](https://github.com/pandas-dev/pandas/issues/21956)).
- en: Multiple bugs in `Rolling.min()` with `closed='left'` and a datetime-like index
    leading to incorrect results and also segfault. ([GH 21704](https://github.com/pandas-dev/pandas/issues/21704))
  id: totrans-2451
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有 `closed='left'` 和类似日期时间索引的情况下，`Rolling.min()` 中存在多个错误导致结果不正确并且出现段错误。([GH
    21704](https://github.com/pandas-dev/pandas/issues/21704))
- en: Bug in [`Resampler.apply()`](../reference/api/pandas.core.resample.Resampler.apply.html#pandas.core.resample.Resampler.apply
    "pandas.core.resample.Resampler.apply") when passing positional arguments to applied
    func ([GH 14615](https://github.com/pandas-dev/pandas/issues/14615)).
  id: totrans-2452
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Resampler.apply()`](../reference/api/pandas.core.resample.Resampler.apply.html#pandas.core.resample.Resampler.apply
    "pandas.core.resample.Resampler.apply") 在将位置参数传递给应用函数时出现问题（[GH 14615](https://github.com/pandas-dev/pandas/issues/14615)).
- en: Bug in [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") when passing `numpy.timedelta64` to `loffset` kwarg
    ([GH 7687](https://github.com/pandas-dev/pandas/issues/7687)).
  id: totrans-2453
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") 在将 `numpy.timedelta64` 传递给 `loffset` kwarg 时出现问题（[GH
    7687](https://github.com/pandas-dev/pandas/issues/7687)）。
- en: Bug in [`Resampler.asfreq()`](../reference/api/pandas.core.resample.Resampler.asfreq.html#pandas.core.resample.Resampler.asfreq
    "pandas.core.resample.Resampler.asfreq") when frequency of `TimedeltaIndex` is
    a subperiod of a new frequency ([GH 13022](https://github.com/pandas-dev/pandas/issues/13022)).
  id: totrans-2454
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Resampler.asfreq()`](../reference/api/pandas.core.resample.Resampler.asfreq.html#pandas.core.resample.Resampler.asfreq
    "pandas.core.resample.Resampler.asfreq") 当 `TimedeltaIndex` 的频率是新频率的子周期时出现问题（[GH
    13022](https://github.com/pandas-dev/pandas/issues/13022)).
- en: Bug in [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean") when values were integral but could
    not fit inside of int64, overflowing instead. ([GH 22487](https://github.com/pandas-dev/pandas/issues/22487))
  id: totrans-2455
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean") 当值为整数但无法适应 int64 时溢出而出现问题。([GH 22487](https://github.com/pandas-dev/pandas/issues/22487))
- en: '`RollingGroupby.agg()` and `ExpandingGroupby.agg()` now support multiple aggregation
    functions as parameters ([GH 15072](https://github.com/pandas-dev/pandas/issues/15072))'
  id: totrans-2456
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RollingGroupby.agg()` 和 `ExpandingGroupby.agg()` 现在支持多个聚合函数作为参数（[GH 15072](https://github.com/pandas-dev/pandas/issues/15072))'
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") and [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") when resampling by a weekly offset (`'W'`) across a
    DST transition ([GH 9119](https://github.com/pandas-dev/pandas/issues/9119), [GH
    21459](https://github.com/pandas-dev/pandas/issues/21459))
  id: totrans-2457
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 和 [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") 在通过周偏移量（`'W'`）跨越夏令时转换进行重采样时出现问题（[GH 9119](https://github.com/pandas-dev/pandas/issues/9119),
    [GH 21459](https://github.com/pandas-dev/pandas/issues/21459))
- en: Bug in [`DataFrame.expanding()`](../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding
    "pandas.DataFrame.expanding") in which the `axis` argument was not being respected
    during aggregations ([GH 23372](https://github.com/pandas-dev/pandas/issues/23372))
  id: totrans-2458
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.expanding()`](../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding
    "pandas.DataFrame.expanding") 中在聚合过程中未能尊重 `axis` 参数的问题（[GH 23372](https://github.com/pandas-dev/pandas/issues/23372))
- en: Bug in `GroupBy.transform()` which caused missing values when the input function
    can accept a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") but renames it ([GH 23455](https://github.com/pandas-dev/pandas/issues/23455)).
  id: totrans-2459
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`GroupBy.transform()`中存在错误，当输入函数可以接受一个[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")但重命名时会导致缺失值（[GH 23455](https://github.com/pandas-dev/pandas/issues/23455)）。
- en: Bug in `GroupBy.nth()` where column order was not always preserved ([GH 20760](https://github.com/pandas-dev/pandas/issues/20760))
  id: totrans-2460
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`GroupBy.nth()`中，未始终保留列顺序时存在错误（[GH 20760](https://github.com/pandas-dev/pandas/issues/20760)）。
- en: Bug in `GroupBy.rank()` with `method='dense'` and `pct=True` when a group has
    only one member would raise a `ZeroDivisionError` ([GH 23666](https://github.com/pandas-dev/pandas/issues/23666)).
  id: totrans-2461
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当一个组只有一个成员时，在使用`method='dense'`和`pct=True`的情况下，`GroupBy.rank()`中存在错误会引发`ZeroDivisionError`（[GH
    23666](https://github.com/pandas-dev/pandas/issues/23666)）。
- en: Calling `GroupBy.rank()` with empty groups and `pct=True` was raising a `ZeroDivisionError`
    ([GH 22519](https://github.com/pandas-dev/pandas/issues/22519))
  id: totrans-2462
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用空分组调用`GroupBy.rank()`并且`pct=True`时，会引发`ZeroDivisionError`（[GH 22519](https://github.com/pandas-dev/pandas/issues/22519)）。
- en: Bug in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") when resampling `NaT` in `TimeDeltaIndex` ([GH 13223](https://github.com/pandas-dev/pandas/issues/13223)).
  id: totrans-2463
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`TimeDeltaIndex`中重新采样`NaT`时，[`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample")存在错误（[GH 13223](https://github.com/pandas-dev/pandas/issues/13223)）。
- en: Bug in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") did not respect the `observed` argument when selecting
    a column and instead always used `observed=False` ([GH 23970](https://github.com/pandas-dev/pandas/issues/23970))
  id: totrans-2464
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在选择列并且始终使用`observed=False`时，[`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby")中的错误未遵守`observed`参数（[GH 23970](https://github.com/pandas-dev/pandas/issues/23970)）。
- en: Bug in `SeriesGroupBy.pct_change()` or `DataFrameGroupBy.pct_change()` would
    previously work across groups when calculating the percent change, where it now
    correctly works per group ([GH 21200](https://github.com/pandas-dev/pandas/issues/21200),
    [GH 21235](https://github.com/pandas-dev/pandas/issues/21235)).
  id: totrans-2465
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在计算百分比变化时，`SeriesGroupBy.pct_change()`或`DataFrameGroupBy.pct_change()`之前跨组工作，现在在每个组中正确工作（[GH
    21200](https://github.com/pandas-dev/pandas/issues/21200)，[GH 21235](https://github.com/pandas-dev/pandas/issues/21235)）。
- en: Bug preventing hash table creation with very large number (2^32) of rows ([GH
    22805](https://github.com/pandas-dev/pandas/issues/22805))
  id: totrans-2466
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阻止创建非常大的行数（2^32）的哈希表时存在错误（[GH 22805](https://github.com/pandas-dev/pandas/issues/22805)）。
- en: Bug in groupby when grouping on categorical causes `ValueError` and incorrect
    grouping if `observed=True` and `nan` is present in categorical column ([GH 24740](https://github.com/pandas-dev/pandas/issues/24740),
    [GH 21151](https://github.com/pandas-dev/pandas/issues/21151)).
  id: totrans-2467
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在对分类数据进行分组时，如果`observed=True`且`nan`存在于分类列中，则会导致`ValueError`和不正确的分组（[GH 24740](https://github.com/pandas-dev/pandas/issues/24740)，[GH
    21151](https://github.com/pandas-dev/pandas/issues/21151)）。
- en: Reshaping
  id: totrans-2468
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 重塑
- en: Bug in [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") when joining resampled DataFrames with timezone aware index ([GH
    13783](https://github.com/pandas-dev/pandas/issues/13783))
  id: totrans-2469
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用具有时区感知索引的重新采样的DataFrame连接时，[`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat")存在错误（[GH 13783](https://github.com/pandas-dev/pandas/issues/13783)）。
- en: Bug in [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") when joining only `Series` the `names` argument of `concat` is
    no longer ignored ([GH 23490](https://github.com/pandas-dev/pandas/issues/23490))
  id: totrans-2470
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当仅连接`Series`时，[`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat")中的错误导致`concat`的`names`参数不再被忽略（[GH 23490](https://github.com/pandas-dev/pandas/issues/23490)）。
- en: Bug in [`Series.combine_first()`](../reference/api/pandas.Series.combine_first.html#pandas.Series.combine_first
    "pandas.Series.combine_first") with `datetime64[ns, tz]` dtype which would return
    tz-naive result ([GH 21469](https://github.com/pandas-dev/pandas/issues/21469))
  id: totrans-2471
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当返回`datetime64[ns, tz]` dtype时，[`Series.combine_first()`](../reference/api/pandas.Series.combine_first.html#pandas.Series.combine_first
    "pandas.Series.combine_first")存在错误，会返回tz-naive结果（[GH 21469](https://github.com/pandas-dev/pandas/issues/21469)）。
- en: Bug in [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") and [`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") with `datetime64[ns, tz]` dtype ([GH 21546](https://github.com/pandas-dev/pandas/issues/21546))
  id: totrans-2472
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有`datetime64[ns, tz]` dtype的[`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where")和[`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where")中的错误（[GH 21546](https://github.com/pandas-dev/pandas/issues/21546))
- en: Bug in [`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") with an empty DataFrame and empty `cond` having non-bool
    dtype ([GH 21947](https://github.com/pandas-dev/pandas/issues/21947))
  id: totrans-2473
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在空DataFrame和空`cond`具有非布尔dtype时，[`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where")中的错误（[GH 21947](https://github.com/pandas-dev/pandas/issues/21947))
- en: Bug in [`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask") and [`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask") with `list` conditionals ([GH 21891](https://github.com/pandas-dev/pandas/issues/21891))
  id: totrans-2474
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有`list`条件的[`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask")和[`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask")中的错误（[GH 21891](https://github.com/pandas-dev/pandas/issues/21891))
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") raises RecursionError when converting OutOfBounds
    `datetime64[ns, tz]` ([GH 20380](https://github.com/pandas-dev/pandas/issues/20380))
  id: totrans-2475
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace")中的错误在将OutOfBounds `datetime64[ns, tz]`转换时引发了RecursionError（[GH
    20380](https://github.com/pandas-dev/pandas/issues/20380))'
- en: '`GroupBy.rank()` now raises a `ValueError` when an invalid value is passed
    for argument `na_option` ([GH 22124](https://github.com/pandas-dev/pandas/issues/22124))'
  id: totrans-2476
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当为参数`na_option`传递无效值时，`GroupBy.rank()`现在会引发`ValueError`（[GH 22124](https://github.com/pandas-dev/pandas/issues/22124))
- en: Bug in [`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies") with Unicode attributes in Python 2 ([GH 22084](https://github.com/pandas-dev/pandas/issues/22084))
  id: totrans-2477
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Python 2中具有Unicode属性的[`get_dummies()`](../reference/api/pandas.get_dummies.html#pandas.get_dummies
    "pandas.get_dummies")中的错误（[GH 22084](https://github.com/pandas-dev/pandas/issues/22084))
- en: Bug in [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") raises `RecursionError` when replacing empty lists
    ([GH 22083](https://github.com/pandas-dev/pandas/issues/22083))
  id: totrans-2478
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在替换空列表时，[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace")引发`RecursionError`（[GH 22083](https://github.com/pandas-dev/pandas/issues/22083))
- en: Bug in [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") and [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") when dict is used as the `to_replace` value and one
    key in the dict is another key’s value, the results were inconsistent between
    using integer key and using string key ([GH 20656](https://github.com/pandas-dev/pandas/issues/20656))
  id: totrans-2479
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当字典用作`to_replace`值并且字典中的一个键是另一个键的值时，[`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace")和[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace")中的错误在使用整数键和使用字符串键时结果不一致（[GH 20656](https://github.com/pandas-dev/pandas/issues/20656))
- en: Bug in [`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") for empty `DataFrame` which incorrectly raises
    an error ([GH 20516](https://github.com/pandas-dev/pandas/issues/20516))
  id: totrans-2480
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于空`DataFrame`，[`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates")中的错误不正确地引发了错误（[GH 20516](https://github.com/pandas-dev/pandas/issues/20516))
- en: Bug in [`pandas.wide_to_long()`](../reference/api/pandas.wide_to_long.html#pandas.wide_to_long
    "pandas.wide_to_long") when a string is passed to the stubnames argument and a
    column name is a substring of that stubname ([GH 22468](https://github.com/pandas-dev/pandas/issues/22468))
  id: totrans-2481
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当将字符串传递给stubnames参数并且列名是该stubname的子字符串时，[`pandas.wide_to_long()`](../reference/api/pandas.wide_to_long.html#pandas.wide_to_long
    "pandas.wide_to_long")中的错误（[GH 22468](https://github.com/pandas-dev/pandas/issues/22468))
- en: Bug in [`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    when merging `datetime64[ns, tz]` data that contained a DST transition ([GH 18885](https://github.com/pandas-dev/pandas/issues/18885))
  id: totrans-2482
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在合并具有DST转换的`datetime64[ns, tz]`数据时出现的错误 ([GH 18885](https://github.com/pandas-dev/pandas/issues/18885))
- en: Bug in [`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") when merging on float values within defined tolerance ([GH
    22981](https://github.com/pandas-dev/pandas/issues/22981))
  id: totrans-2483
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`merge_asof()`进行合并时，当在定义的容差范围内合并浮点值时出现的错误 ([GH 22981](https://github.com/pandas-dev/pandas/issues/22981))
- en: Bug in [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") when concatenating a multicolumn DataFrame with tz-aware data
    against a DataFrame with a different number of columns ([GH 22796](https://github.com/pandas-dev/pandas/issues/22796))
  id: totrans-2484
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`pandas.concat()`进行拼接时，当拼接具有tz-aware数据的多列DataFrame与列数不同的DataFrame时出现的错误 ([GH
    22796](https://github.com/pandas-dev/pandas/issues/22796))
- en: Bug in [`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") where confusing error message raised when attempting to merge
    with missing values ([GH 23189](https://github.com/pandas-dev/pandas/issues/23189))
  id: totrans-2485
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在尝试使用merge_asof()`进行合并时，当尝试与缺失值合并时会引发混淆的错误消息 ([GH 23189](https://github.com/pandas-dev/pandas/issues/23189))
- en: Bug in [`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest") and [`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest") for dataframes that have a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") for columns ([GH 23033](https://github.com/pandas-dev/pandas/issues/23033)).
  id: totrans-2486
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")列的DataFrame上使用[`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest")和[`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest")时出现的错误 ([GH 23033](https://github.com/pandas-dev/pandas/issues/23033))
- en: Bug in [`pandas.melt()`](../reference/api/pandas.melt.html#pandas.melt "pandas.melt")
    when passing column names that are not present in `DataFrame` ([GH 23575](https://github.com/pandas-dev/pandas/issues/23575))
  id: totrans-2487
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在传递不存在于DataFrame中的列名时，使用[`pandas.melt()`](../reference/api/pandas.melt.html#pandas.melt
    "pandas.melt")出现的错误 ([GH 23575](https://github.com/pandas-dev/pandas/issues/23575))
- en: Bug in `DataFrame.append()` with a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with a dateutil timezone would raise a `TypeError` ([GH 23682](https://github.com/pandas-dev/pandas/issues/23682))
  id: totrans-2488
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")且带有dateutil时区的情况下，使用`DataFrame.append()`会引发`TypeError`
    ([GH 23682](https://github.com/pandas-dev/pandas/issues/23682))
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    construction when passing no data and `dtype=str` ([GH 22477](https://github.com/pandas-dev/pandas/issues/22477))
  id: totrans-2489
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在构造[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")时出现的错误，当没有传递数据且`dtype=str`时
    ([GH 22477](https://github.com/pandas-dev/pandas/issues/22477))
- en: Bug in [`cut()`](../reference/api/pandas.cut.html#pandas.cut "pandas.cut") with
    `bins` as an overlapping `IntervalIndex` where multiple bins were returned per
    item instead of raising a `ValueError` ([GH 23980](https://github.com/pandas-dev/pandas/issues/23980))
  id: totrans-2490
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`bins`作为重叠的`IntervalIndex`时，返回多个bin而不是引发`ValueError`的情况下，使用[`cut()`](../reference/api/pandas.cut.html#pandas.cut
    "pandas.cut")出现的错误 ([GH 23980](https://github.com/pandas-dev/pandas/issues/23980))
- en: Bug in [`pandas.concat()`](../reference/api/pandas.concat.html#pandas.concat
    "pandas.concat") when joining `Series` datetimetz with `Series` category would
    lose timezone ([GH 23816](https://github.com/pandas-dev/pandas/issues/23816))
  id: totrans-2491
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`pandas.concat()`进行连接时，将具有时区信息的`Series`与`Series`类别进行连接会丢失时区信息 ([GH 23816](https://github.com/pandas-dev/pandas/issues/23816))
- en: Bug in [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") when joining on partial MultiIndex would drop names ([GH
    20452](https://github.com/pandas-dev/pandas/issues/20452)).
  id: totrans-2492
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在部分MultiIndex上进行连接时，使用[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join")会丢失名称 ([GH 20452](https://github.com/pandas-dev/pandas/issues/20452))
- en: '[`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest") and [`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest") now returns the correct n values when keep != ‘all’
    also when tied on the first columns ([GH 22752](https://github.com/pandas-dev/pandas/issues/22752))'
  id: totrans-2493
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.nlargest()`](../reference/api/pandas.DataFrame.nlargest.html#pandas.DataFrame.nlargest
    "pandas.DataFrame.nlargest") 和 [`DataFrame.nsmallest()`](../reference/api/pandas.DataFrame.nsmallest.html#pandas.DataFrame.nsmallest
    "pandas.DataFrame.nsmallest") 现在在keep != ‘all’时返回正确的n值，同时在第一列上并列时也返回正确的值。([GH
    22752](https://github.com/pandas-dev/pandas/issues/22752))'
- en: Constructing a DataFrame with an index argument that wasn’t already an instance
    of [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") was
    broken ([GH 22227](https://github.com/pandas-dev/pandas/issues/22227)).
  id: totrans-2494
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用不是[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")实例的索引参数构造DataFrame时出现问题。([GH
    22227](https://github.com/pandas-dev/pandas/issues/22227)).
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") prevented list subclasses to be used to construction ([GH
    21226](https://github.com/pandas-dev/pandas/issues/21226))
  id: totrans-2495
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 阻止了列表子类用于构造（[GH 21226](https://github.com/pandas-dev/pandas/issues/21226))
- en: Bug in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") and [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") returning a misleading error message when the
    resulting DataFrame has more elements than int32 can handle. Now, the error message
    is improved, pointing towards the actual problem ([GH 20601](https://github.com/pandas-dev/pandas/issues/20601))
  id: totrans-2496
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") 和 [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") 中的错误，当结果DataFrame的元素超过int32可以处理的范围时，返回一个误导性的错误消息。现在，错误消息已经改进，指向实际问题。([GH
    20601](https://github.com/pandas-dev/pandas/issues/20601))'
- en: Bug in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") where a `ValueError` was raised when unstacking timezone
    aware values ([GH 18338](https://github.com/pandas-dev/pandas/issues/18338))
  id: totrans-2497
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") 中的错误，当解除堆叠时，对时区感知值引发`ValueError`。([GH 18338](https://github.com/pandas-dev/pandas/issues/18338))'
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") where timezone aware values were converted to timezone
    naive values ([GH 19420](https://github.com/pandas-dev/pandas/issues/19420))
  id: totrans-2498
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") 中的错误，将时区感知值转换为时区无关值。([GH 19420](https://github.com/pandas-dev/pandas/issues/19420))'
- en: Bug in [`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") where a `TypeError` was raised when `by_col` were timezone
    aware values ([GH 21184](https://github.com/pandas-dev/pandas/issues/21184))
  id: totrans-2499
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") 中的错误，当`by_col`为时区感知值时引发`TypeError`。([GH 21184](https://github.com/pandas-dev/pandas/issues/21184))'
- en: Bug showing an incorrect shape when throwing error during `DataFrame` construction.
    ([GH 20742](https://github.com/pandas-dev/pandas/issues/20742))
  id: totrans-2500
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrame`构造过程中抛出错误时，显示错误形状不正确的错误。([GH 20742](https://github.com/pandas-dev/pandas/issues/20742))
- en: '### Sparse'
  id: totrans-2501
  prefs: []
  type: TYPE_NORMAL
  zh: '### 稀疏'
- en: Updating a boolean, datetime, or timedelta column to be Sparse now works ([GH
    22367](https://github.com/pandas-dev/pandas/issues/22367))
  id: totrans-2502
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在可以将布尔值、日期时间或时间差列更新为稀疏列。([GH 22367](https://github.com/pandas-dev/pandas/issues/22367))
- en: Bug in `Series.to_sparse()` with Series already holding sparse data not constructing
    properly ([GH 22389](https://github.com/pandas-dev/pandas/issues/22389))
  id: totrans-2503
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.to_sparse()` 中的错误，对已持有稀疏数据的Series未能正确构造。([GH 22389](https://github.com/pandas-dev/pandas/issues/22389))'
- en: Providing a `sparse_index` to the SparseArray constructor no longer defaults
    the na-value to `np.nan` for all dtypes. The correct na_value for `data.dtype`
    is now used.
  id: totrans-2504
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为SparseArray构造函数提供`sparse_index`不再将所有数据类型的na-value默认为`np.nan`。现在使用`data.dtype`的正确na_value。
- en: Bug in `SparseArray.nbytes` under-reporting its memory usage by not including
    the size of its sparse index.
  id: totrans-2505
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.nbytes` 中的错误，未包括其稀疏索引大小，导致其内存使用量报告不准确。'
- en: Improved performance of [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift") for non-NA `fill_value`, as values are no longer converted
    to a dense array.
  id: totrans-2506
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了对非NA `fill_value`的[`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift")的性能，因为值不再转换为密集数组。
- en: Bug in `DataFrame.groupby` not including `fill_value` in the groups for non-NA
    `fill_value` when grouping by a sparse column ([GH 5078](https://github.com/pandas-dev/pandas/issues/5078))
  id: totrans-2507
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在通过稀疏列分组时，`DataFrame.groupby`中的错误未包括非NA `fill_value`在组中（[GH 5078](https://github.com/pandas-dev/pandas/issues/5078))
- en: Bug in unary inversion operator (`~`) on a `SparseSeries` with boolean values.
    The performance of this has also been improved ([GH 22835](https://github.com/pandas-dev/pandas/issues/22835))
  id: totrans-2508
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有布尔值的`SparseSeries`上的一元反转运算符(`~`)存在错误。此性能也得到了改进（[GH 22835](https://github.com/pandas-dev/pandas/issues/22835))
- en: Bug in `SparseArary.unique()` not returning the unique values ([GH 19595](https://github.com/pandas-dev/pandas/issues/19595))
  id: totrans-2509
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArary.unique()`存在错误，未返回唯一值（[GH 19595](https://github.com/pandas-dev/pandas/issues/19595))'
- en: Bug in `SparseArray.nonzero()` and `SparseDataFrame.dropna()` returning shifted/incorrect
    results ([GH 21172](https://github.com/pandas-dev/pandas/issues/21172))
  id: totrans-2510
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.nonzero()`和`SparseDataFrame.dropna()`存在错误，返回了偏移/不正确的结果（[GH 21172](https://github.com/pandas-dev/pandas/issues/21172))'
- en: Bug in [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") where dtypes would lose sparseness ([GH 23744](https://github.com/pandas-dev/pandas/issues/23744))
  id: totrans-2511
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply")中存在错误，dtype会失去稀疏性（[GH 23744](https://github.com/pandas-dev/pandas/issues/23744))
- en: Bug in [`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    when concatenating a list of [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with all-sparse values changing the `fill_value` and converting
    to a dense Series ([GH 24371](https://github.com/pandas-dev/pandas/issues/24371))
  id: totrans-2512
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")连接具有全稀疏值的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")列表时存在错误，改变`fill_value`并转换为密集Series时出现问题（[GH 24371](https://github.com/pandas-dev/pandas/issues/24371))
- en: Style
  id: totrans-2513
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 样式
- en: '[`background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient") now takes a `text_color_threshold`
    parameter to automatically lighten the text color based on the luminance of the
    background color. This improves readability with dark background colors without
    the need to limit the background colormap range. ([GH 21258](https://github.com/pandas-dev/pandas/issues/21258))'
  id: totrans-2514
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient")现在接受`text_color_threshold`参数，根据背景颜色的亮度自动调整文本颜色。这在不限制背景色彩映射范围的情况下提高了深色背景颜色的可读性。([GH
    21258](https://github.com/pandas-dev/pandas/issues/21258))'
- en: '[`background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient") now also supports tablewise
    application (in addition to rowwise and columnwise) with `axis=None` ([GH 15204](https://github.com/pandas-dev/pandas/issues/15204))'
  id: totrans-2515
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient")现在还支持表格级应用（除了行级和列级），使用`axis=None`（[GH
    15204](https://github.com/pandas-dev/pandas/issues/15204))'
- en: '[`bar()`](../reference/api/pandas.io.formats.style.Styler.bar.html#pandas.io.formats.style.Styler.bar
    "pandas.io.formats.style.Styler.bar") now also supports tablewise application
    (in addition to rowwise and columnwise) with `axis=None` and setting clipping
    range with `vmin` and `vmax` ([GH 21548](https://github.com/pandas-dev/pandas/issues/21548)
    and [GH 21526](https://github.com/pandas-dev/pandas/issues/21526)). `NaN` values
    are also handled properly.'
  id: totrans-2516
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`bar()`](../reference/api/pandas.io.formats.style.Styler.bar.html#pandas.io.formats.style.Styler.bar
    "pandas.io.formats.style.Styler.bar")现在还支持表格级应用（除了行级和列级），使用`axis=None`并使用`vmin`和`vmax`设置剪裁范围（[GH
    21548](https://github.com/pandas-dev/pandas/issues/21548)和[GH 21526](https://github.com/pandas-dev/pandas/issues/21526))。`NaN`值也得到了正确处理。'
- en: Build changes
  id: totrans-2517
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 构建更改
- en: Building pandas for development now requires `cython >= 0.28.2` ([GH 21688](https://github.com/pandas-dev/pandas/issues/21688))
  id: totrans-2518
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了开发，构建pandas现在需要`cython >= 0.28.2`（[GH 21688](https://github.com/pandas-dev/pandas/issues/21688))
- en: Testing pandas now requires `hypothesis>=3.58`. You can find [the Hypothesis
    docs here](https://hypothesis.readthedocs.io/en/latest/index.html), and a pandas-specific
    introduction [in the contributing guide](../development/contributing_codebase.html#using-hypothesis).
    ([GH 22280](https://github.com/pandas-dev/pandas/issues/22280))
  id: totrans-2519
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在测试 pandas 需要 `hypothesis>=3.58`。你可以在[这里找到 Hypothesis 文档](https://hypothesis.readthedocs.io/en/latest/index.html)，以及[pandas特定的介绍](../development/contributing_codebase.html#using-hypothesis)。([GH
    22280](https://github.com/pandas-dev/pandas/issues/22280))
- en: Building pandas on macOS now targets minimum macOS 10.9 if run on macOS 10.9
    or above ([GH 23424](https://github.com/pandas-dev/pandas/issues/23424))
  id: totrans-2520
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在在 macOS 上构建 pandas 会将最低 macOS 版本定为 10.9（如果在 macOS 10.9 或更高版本上运行）([GH 23424](https://github.com/pandas-dev/pandas/issues/23424))
- en: Other
  id: totrans-2521
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Other
- en: Bug where C variables were declared with external linkage causing import errors
    if certain other C libraries were imported before pandas. ([GH 24113](https://github.com/pandas-dev/pandas/issues/24113))
  id: totrans-2522
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了一个 bug，其中 C 变量被声明为外部链接，导致在导入 pandas 之前导入某些其他 C 库时出现导入错误。([GH 24113](https://github.com/pandas-dev/pandas/issues/24113))
- en: '## Contributors'
  id: totrans-2523
  prefs: []
  type: TYPE_NORMAL
  zh: '## 贡献者'
- en: A total of 337 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  id: totrans-2524
  prefs: []
  type: TYPE_NORMAL
  zh: 这个版本有 337 人参与了补丁的贡献。名字后面有“+”的人是首次贡献补丁的。
- en: AJ Dyka +
  id: totrans-2525
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AJ Dyka +
- en: AJ Pryor, Ph.D +
  id: totrans-2526
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AJ Pryor, Ph.D +
- en: Aaron Critchley
  id: totrans-2527
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Aaron Critchley
- en: Adam Hooper
  id: totrans-2528
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Adam Hooper
- en: Adam J. Stewart
  id: totrans-2529
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Adam J. Stewart
- en: Adam Kim
  id: totrans-2530
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Adam Kim
- en: Adam Klimont +
  id: totrans-2531
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Adam Klimont +
- en: Addison Lynch +
  id: totrans-2532
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Addison Lynch +
- en: Alan Hogue +
  id: totrans-2533
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alan Hogue +
- en: Alex Radu +
  id: totrans-2534
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Radu +
- en: Alex Rychyk
  id: totrans-2535
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Rychyk
- en: Alex Strick van Linschoten +
  id: totrans-2536
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Strick van Linschoten +
- en: Alex Volkov +
  id: totrans-2537
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alex Volkov +
- en: Alexander Buchkovsky
  id: totrans-2538
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alexander Buchkovsky
- en: Alexander Hess +
  id: totrans-2539
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alexander Hess +
- en: Alexander Ponomaroff +
  id: totrans-2540
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alexander Ponomaroff +
- en: Allison Browne +
  id: totrans-2541
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Allison Browne +
- en: Aly Sivji
  id: totrans-2542
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Aly Sivji
- en: Andrew
  id: totrans-2543
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew
- en: Andrew Gross +
  id: totrans-2544
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Gross +
- en: Andrew Spott +
  id: totrans-2545
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Spott +
- en: Andy +
  id: totrans-2546
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andy +
- en: Aniket uttam +
  id: totrans-2547
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Aniket uttam +
- en: Anjali2019 +
  id: totrans-2548
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anjali2019 +
- en: Anjana S +
  id: totrans-2549
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anjana S +
- en: Antti Kaihola +
  id: totrans-2550
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Antti Kaihola +
- en: Anudeep Tubati +
  id: totrans-2551
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anudeep Tubati +
- en: Arjun Sharma +
  id: totrans-2552
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Arjun Sharma +
- en: Armin Varshokar
  id: totrans-2553
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Armin Varshokar
- en: Artem Bogachev
  id: totrans-2554
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Artem Bogachev
- en: ArtinSarraf +
  id: totrans-2555
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ArtinSarraf +
- en: Barry Fitzgerald +
  id: totrans-2556
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Barry Fitzgerald +
- en: Bart Aelterman +
  id: totrans-2557
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bart Aelterman +
- en: Ben James +
  id: totrans-2558
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ben James +
- en: Ben Nelson +
  id: totrans-2559
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ben Nelson +
- en: Benjamin Grove +
  id: totrans-2560
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Benjamin Grove +
- en: Benjamin Rowell +
  id: totrans-2561
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Benjamin Rowell +
- en: Benoit Paquet +
  id: totrans-2562
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Benoit Paquet +
- en: Boris Lau +
  id: totrans-2563
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Boris Lau +
- en: Brett Naul
  id: totrans-2564
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brett Naul
- en: Brian Choi +
  id: totrans-2565
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brian Choi +
- en: C.A.M. Gerlach +
  id: totrans-2566
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: C.A.M. Gerlach +
- en: Carl Johan +
  id: totrans-2567
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Carl Johan +
- en: Chalmer Lowe
  id: totrans-2568
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chalmer Lowe
- en: Chang She
  id: totrans-2569
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chang She
- en: Charles David +
  id: totrans-2570
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Charles David +
- en: Cheuk Ting Ho
  id: totrans-2571
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Cheuk Ting Ho
- en: Chris
  id: totrans-2572
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris
- en: Chris Roberts +
  id: totrans-2573
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Roberts +
- en: Christopher Whelan
  id: totrans-2574
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Christopher Whelan
- en: Chu Qing Hao +
  id: totrans-2575
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chu Qing Hao +
- en: Da Cheezy Mobsta +
  id: totrans-2576
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Da Cheezy Mobsta +
- en: Damini Satya
  id: totrans-2577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Damini Satya
- en: Daniel Himmelstein
  id: totrans-2578
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Himmelstein
- en: Daniel Saxton +
  id: totrans-2579
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Saxton +
- en: Darcy Meyer +
  id: totrans-2580
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Darcy Meyer +
- en: DataOmbudsman
  id: totrans-2581
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DataOmbudsman
- en: David Arcos
  id: totrans-2582
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Arcos
- en: David Krych
  id: totrans-2583
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Krych
- en: Dean Langsam +
  id: totrans-2584
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dean Langsam +
- en: Diego Argueta +
  id: totrans-2585
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Diego Argueta +
- en: Diego Torres +
  id: totrans-2586
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Diego Torres +
- en: Dobatymo +
  id: totrans-2587
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dobatymo +
- en: Doug Latornell +
  id: totrans-2588
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Doug Latornell +
- en: Dr. Irv
  id: totrans-2589
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dr. Irv
- en: Dylan Dmitri Gray +
  id: totrans-2590
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dylan Dmitri Gray +
- en: Eric Boxer +
  id: totrans-2591
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric Boxer +
- en: Eric Chea
  id: totrans-2592
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric Chea
- en: Erik +
  id: totrans-2593
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Erik +
- en: Erik Nilsson +
  id: totrans-2594
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Erik Nilsson +
- en: Fabian Haase +
  id: totrans-2595
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fabian Haase +
- en: Fabian Retkowski
  id: totrans-2596
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fabian Retkowski
- en: Fabien Aulaire +
  id: totrans-2597
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fabien Aulaire +
- en: Fakabbir Amin +
  id: totrans-2598
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fakabbir Amin +
- en: Fei Phoon +
  id: totrans-2599
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fei Phoon +
- en: Fernando Margueirat +
  id: totrans-2600
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fernando Margueirat +
- en: Florian Müller +
  id: totrans-2601
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Florian Müller +
- en: Fábio Rosado +
  id: totrans-2602
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fábio Rosado +
- en: Gabe Fernando
  id: totrans-2603
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gabe Fernando
- en: Gabriel Reid +
  id: totrans-2604
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gabriel Reid +
- en: Giftlin Rajaiah
  id: totrans-2605
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Giftlin Rajaiah
- en: Gioia Ballin +
  id: totrans-2606
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gioia Ballin +
- en: Gjelt
  id: totrans-2607
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gjelt
- en: Gosuke Shibahara +
  id: totrans-2608
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gosuke Shibahara +
- en: Graham Inggs
  id: totrans-2609
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Graham Inggs
- en: Guillaume Gay
  id: totrans-2610
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Guillaume Gay
- en: Guillaume Lemaitre +
  id: totrans-2611
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Guillaume Lemaitre +
- en: Hannah Ferchland
  id: totrans-2612
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hannah Ferchland
- en: Haochen Wu
  id: totrans-2613
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Haochen Wu
- en: Hubert +
  id: totrans-2614
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hubert +
- en: HubertKl +
  id: totrans-2615
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: HubertKl +
- en: HyunTruth +
  id: totrans-2616
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: HyunTruth +
- en: Iain Barr
  id: totrans-2617
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Iain Barr
- en: Ignacio Vergara Kausel +
  id: totrans-2618
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ignacio Vergara Kausel +
- en: Irv Lustig +
  id: totrans-2619
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Irv Lustig +
- en: IsvenC +
  id: totrans-2620
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IsvenC +
- en: Jacopo Rota
  id: totrans-2621
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jacopo Rota
- en: Jakob Jarmar +
  id: totrans-2622
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jakob Jarmar +
- en: James Bourbeau +
  id: totrans-2623
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: James Bourbeau +
- en: James Myatt +
  id: totrans-2624
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: James Myatt +
- en: James Winegar +
  id: totrans-2625
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: James Winegar +
- en: Jan Rudolph
  id: totrans-2626
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jan Rudolph
- en: Jared Groves +
  id: totrans-2627
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jared Groves +
- en: Jason Kiley +
  id: totrans-2628
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jason Kiley +
- en: Javad Noorbakhsh +
  id: totrans-2629
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Javad Noorbakhsh +
- en: Jay Offerdahl +
  id: totrans-2630
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jay Offerdahl +
- en: Jeff Reback
  id: totrans-2631
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeff Reback
- en: Jeongmin Yu +
  id: totrans-2632
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeongmin Yu +
- en: Jeremy Schendel
  id: totrans-2633
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeremy Schendel
- en: Jerod Estapa +
  id: totrans-2634
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jerod Estapa +
- en: Jesper Dramsch +
  id: totrans-2635
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jesper Dramsch +
- en: Jim Jeon +
  id: totrans-2636
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jim Jeon +
- en: Joe Jevnik
  id: totrans-2637
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joe Jevnik
- en: Joel Nothman
  id: totrans-2638
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joel Nothman
- en: Joel Ostblom +
  id: totrans-2639
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joel Ostblom +
- en: Jordi Contestí
  id: totrans-2640
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jordi Contestí
- en: Jorge López Fueyo +
  id: totrans-2641
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jorge López Fueyo +
- en: Joris Van den Bossche
  id: totrans-2642
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Van den Bossche
- en: Jose Quinones +
  id: totrans-2643
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jose Quinones +
- en: Jose Rivera-Rubio +
  id: totrans-2644
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jose Rivera-Rubio +
- en: Josh
  id: totrans-2645
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Josh
- en: Jun +
  id: totrans-2646
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jun +
- en: Justin Zheng +
  id: totrans-2647
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Justin Zheng +
- en: Kaiqi Dong +
  id: totrans-2648
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kaiqi Dong +
- en: Kalyan Gokhale
  id: totrans-2649
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kalyan Gokhale
- en: Kang Yoosam +
  id: totrans-2650
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kang Yoosam +
- en: Karl Dunkle Werner +
  id: totrans-2651
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Karl Dunkle Werner +
- en: Karmanya Aggarwal +
  id: totrans-2652
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Karmanya Aggarwal +
- en: Kevin Markham +
  id: totrans-2653
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kevin Markham +
- en: Kevin Sheppard
  id: totrans-2654
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kevin Sheppard
- en: Kimi Li +
  id: totrans-2655
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kimi Li +
- en: Koustav Samaddar +
  id: totrans-2656
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Koustav Samaddar +
- en: Krishna +
  id: totrans-2657
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Krishna +
- en: Kristian Holsheimer +
  id: totrans-2658
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kristian Holsheimer +
- en: Ksenia Gueletina +
  id: totrans-2659
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ksenia Gueletina +
- en: Kyle Prestel +
  id: totrans-2660
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kyle Prestel +
- en: LJ +
  id: totrans-2661
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LJ +
- en: LeakedMemory +
  id: totrans-2662
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LeakedMemory +
- en: Li Jin +
  id: totrans-2663
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Li Jin +
- en: Licht Takeuchi
  id: totrans-2664
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Licht Takeuchi
- en: Luca Donini +
  id: totrans-2665
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Luca Donini +
- en: Luciano Viola +
  id: totrans-2666
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Luciano Viola +
- en: Mak Sze Chun +
  id: totrans-2667
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mak Sze Chun +
- en: Marc Garcia
  id: totrans-2668
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marc Garcia
- en: Marius Potgieter +
  id: totrans-2669
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marius Potgieter +
- en: Mark Sikora +
  id: totrans-2670
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mark Sikora +
- en: Markus Meier +
  id: totrans-2671
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Markus Meier +
- en: Marlene Silva Marchena +
  id: totrans-2672
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marlene Silva Marchena +
- en: Martin Babka +
  id: totrans-2673
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Martin Babka +
- en: MatanCohe +
  id: totrans-2674
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MatanCohe +
- en: Mateusz Woś +
  id: totrans-2675
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mateusz Woś +
- en: Mathew Topper +
  id: totrans-2676
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mathew Topper +
- en: Matt Boggess +
  id: totrans-2677
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Boggess +
- en: Matt Cooper +
  id: totrans-2678
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Cooper +
- en: Matt Williams +
  id: totrans-2679
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Williams +
- en: Matthew Gilbert
  id: totrans-2680
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Gilbert
- en: Matthew Roeschke
  id: totrans-2681
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Roeschke
- en: Max Kanter
  id: totrans-2682
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Max Kanter
- en: Michael Odintsov
  id: totrans-2683
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Odintsov
- en: Michael Silverstein +
  id: totrans-2684
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Silverstein +
- en: Michael-J-Ward +
  id: totrans-2685
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael-J-Ward +
- en: Mickaël Schoentgen +
  id: totrans-2686
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mickaël Schoentgen +
- en: Miguel Sánchez de León Peque +
  id: totrans-2687
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Miguel Sánchez de León Peque +
- en: Ming Li
  id: totrans-2688
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ming Li
- en: Mitar
  id: totrans-2689
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mitar
- en: Mitch Negus
  id: totrans-2690
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mitch Negus
- en: Monson Shao +
  id: totrans-2691
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Monson Shao +
- en: Moonsoo Kim +
  id: totrans-2692
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Moonsoo Kim +
- en: Mortada Mehyar
  id: totrans-2693
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mortada Mehyar
- en: Myles Braithwaite
  id: totrans-2694
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Myles Braithwaite
- en: Nehil Jain +
  id: totrans-2695
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nehil Jain +
- en: Nicholas Musolino +
  id: totrans-2696
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nicholas Musolino +
- en: Nicolas Dickreuter +
  id: totrans-2697
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nicolas Dickreuter +
- en: Nikhil Kumar Mengani +
  id: totrans-2698
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nikhil Kumar Mengani +
- en: Nikoleta Glynatsi +
  id: totrans-2699
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nikoleta Glynatsi +
- en: Ondrej Kokes
  id: totrans-2700
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ondrej Kokes
- en: Pablo Ambrosio +
  id: totrans-2701
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pablo Ambrosio +
- en: Pamela Wu +
  id: totrans-2702
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pamela Wu +
- en: Parfait G +
  id: totrans-2703
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Parfait G +
- en: Patrick Park +
  id: totrans-2704
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Patrick Park +
- en: Paul
  id: totrans-2705
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul
- en: Paul Ganssle
  id: totrans-2706
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul Ganssle
- en: Paul Reidy
  id: totrans-2707
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul Reidy
- en: Paul van Mulbregt +
  id: totrans-2708
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul van Mulbregt +
- en: Phillip Cloud
  id: totrans-2709
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Phillip Cloud
- en: Pietro Battiston
  id: totrans-2710
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pietro Battiston
- en: Piyush Aggarwal +
  id: totrans-2711
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Piyush Aggarwal +
- en: Prabakaran Kumaresshan +
  id: totrans-2712
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Prabakaran Kumaresshan +
- en: Pulkit Maloo
  id: totrans-2713
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pulkit Maloo
- en: Pyry Kovanen
  id: totrans-2714
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pyry Kovanen
- en: Rajib Mitra +
  id: totrans-2715
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rajib Mitra +
- en: Redonnet Louis +
  id: totrans-2716
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Redonnet Louis +
- en: Rhys Parry +
  id: totrans-2717
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rhys Parry +
- en: Rick +
  id: totrans-2718
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rick +
- en: Robin
  id: totrans-2719
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robin
- en: Roei.r +
  id: totrans-2720
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Roei.r +
- en: RomainSa +
  id: totrans-2721
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: RomainSa +
- en: Roman Imankulov +
  id: totrans-2722
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Roman Imankulov +
- en: Roman Yurchak +
  id: totrans-2723
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Roman Yurchak +
- en: Ruijing Li +
  id: totrans-2724
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ruijing Li +
- en: Ryan +
  id: totrans-2725
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ryan +
- en: Ryan Nazareth +
  id: totrans-2726
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ryan Nazareth +
- en: Rüdiger Busche +
  id: totrans-2727
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rüdiger Busche +
- en: SEUNG HOON, SHIN +
  id: totrans-2728
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SEUNG HOON, SHIN +
- en: Sandrine Pataut +
  id: totrans-2729
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sandrine Pataut +
- en: Sangwoong Yoon
  id: totrans-2730
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sangwoong Yoon
- en: Santosh Kumar +
  id: totrans-2731
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Santosh Kumar +
- en: Saurav Chakravorty +
  id: totrans-2732
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Saurav Chakravorty +
- en: Scott McAllister +
  id: totrans-2733
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Scott McAllister +
- en: Sean Chan +
  id: totrans-2734
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sean Chan +
- en: Shadi Akiki +
  id: totrans-2735
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shadi Akiki +
- en: Shengpu Tang +
  id: totrans-2736
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shengpu Tang +
- en: Shirish Kadam +
  id: totrans-2737
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shirish Kadam +
- en: Simon Hawkins +
  id: totrans-2738
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Simon Hawkins +
- en: Simon Riddell +
  id: totrans-2739
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Simon Riddell +
- en: Simone Basso
  id: totrans-2740
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Simone Basso
- en: Sinhrks
  id: totrans-2741
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sinhrks
- en: Soyoun(Rose) Kim +
  id: totrans-2742
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Soyoun(Rose) Kim +
- en: Srinivas Reddy Thatiparthy (శ్రీనివాస్ రెడ్డి తాటిపర్తి) +
  id: totrans-2743
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Srinivas Reddy Thatiparthy (శ్రీనివాస్ రెడ్డి తాటిపర్తి) +
- en: Stefaan Lippens +
  id: totrans-2744
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stefaan Lippens +
- en: Stefano Cianciulli
  id: totrans-2745
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stefano Cianciulli
- en: Stefano Miccoli +
  id: totrans-2746
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stefano Miccoli +
- en: Stephen Childs
  id: totrans-2747
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stephen Childs
- en: Stephen Pascoe
  id: totrans-2748
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stephen Pascoe
- en: Steve Baker +
  id: totrans-2749
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Steve Baker +
- en: Steve Cook +
  id: totrans-2750
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Steve Cook +
- en: Steve Dower +
  id: totrans-2751
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Steve Dower +
- en: Stéphan Taljaard +
  id: totrans-2752
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stéphan Taljaard +
- en: Sumin Byeon +
  id: totrans-2753
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sumin Byeon +
- en: Sören +
  id: totrans-2754
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sören +
- en: Tamas Nagy +
  id: totrans-2755
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tamas Nagy +
- en: Tanya Jain +
  id: totrans-2756
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tanya Jain +
- en: Tarbo Fukazawa
  id: totrans-2757
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tarbo Fukazawa
- en: Thein Oo +
  id: totrans-2758
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thein Oo +
- en: Thiago Cordeiro da Fonseca +
  id: totrans-2759
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thiago Cordeiro da Fonseca +
- en: Thierry Moisan
  id: totrans-2760
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thierry Moisan
- en: Thiviyan Thanapalasingam +
  id: totrans-2761
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thiviyan Thanapalasingam +
- en: Thomas Lentali +
  id: totrans-2762
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Lentali +
- en: Tim D. Smith +
  id: totrans-2763
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tim D. Smith +
- en: Tim Swast
  id: totrans-2764
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tim Swast
- en: Tom Augspurger
  id: totrans-2765
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tom Augspurger
- en: Tomasz Kluczkowski +
  id: totrans-2766
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tomasz Kluczkowski +
- en: Tony Tao +
  id: totrans-2767
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tony Tao +
- en: Triple0 +
  id: totrans-2768
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Triple0 +
- en: Troels Nielsen +
  id: totrans-2769
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Troels Nielsen +
- en: Tuhin Mahmud +
  id: totrans-2770
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tuhin Mahmud +
- en: Tyler Reddy +
  id: totrans-2771
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tyler Reddy +
- en: Uddeshya Singh
  id: totrans-2772
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Uddeshya Singh
- en: Uwe L. Korn +
  id: totrans-2773
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Uwe L. Korn +
- en: Vadym Barda +
  id: totrans-2774
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vadym Barda +
- en: Varad Gunjal +
  id: totrans-2775
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Varad Gunjal +
- en: Victor Maryama +
  id: totrans-2776
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Victor Maryama +
- en: Victor Villas
  id: totrans-2777
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Victor Villas
- en: Vincent La
  id: totrans-2778
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vincent La
- en: Vitória Helena +
  id: totrans-2779
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vitória Helena +
- en: Vu Le
  id: totrans-2780
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vu Le
- en: Vyom Jain +
  id: totrans-2781
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vyom Jain +
- en: Weiwen Gu +
  id: totrans-2782
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Weiwen Gu +
- en: Wenhuan
  id: totrans-2783
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wenhuan
- en: Wes Turner
  id: totrans-2784
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wes Turner
- en: Wil Tan +
  id: totrans-2785
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wil Tan +
- en: William Ayd
  id: totrans-2786
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: William Ayd
- en: Yeojin Kim +
  id: totrans-2787
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yeojin Kim +
- en: Yitzhak Andrade +
  id: totrans-2788
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yitzhak Andrade +
- en: Yuecheng Wu +
  id: totrans-2789
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yuecheng Wu +
- en: Yuliya Dovzhenko +
  id: totrans-2790
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yuliya Dovzhenko +
- en: Yury Bayda +
  id: totrans-2791
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yury Bayda +
- en: Zac Hatfield-Dodds +
  id: totrans-2792
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zac Hatfield-Dodds +
- en: aberres +
  id: totrans-2793
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: aberres +
- en: aeltanawy +
  id: totrans-2794
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: aeltanawy +
- en: ailchau +
  id: totrans-2795
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ailchau +
- en: alimcmaster1
  id: totrans-2796
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: alimcmaster1
- en: alphaCTzo7G +
  id: totrans-2797
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: alphaCTzo7G +
- en: amphy +
  id: totrans-2798
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: amphy +
- en: araraonline +
  id: totrans-2799
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: araraonline +
- en: azure-pipelines[bot] +
  id: totrans-2800
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: azure-pipelines[bot] +
- en: benarthur91 +
  id: totrans-2801
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: benarthur91 +
- en: bk521234 +
  id: totrans-2802
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: bk521234 +
- en: cgangwar11 +
  id: totrans-2803
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: cgangwar11 +
- en: chris-b1
  id: totrans-2804
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: chris-b1
- en: cxl923cc +
  id: totrans-2805
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: cxl923cc +
- en: dahlbaek +
  id: totrans-2806
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: dahlbaek +
- en: dannyhyunkim +
  id: totrans-2807
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: dannyhyunkim +
- en: darke-spirits +
  id: totrans-2808
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: darke-spirits +
- en: david-liu-brattle-1
  id: totrans-2809
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: david-liu-brattle-1
- en: davidmvalente +
  id: totrans-2810
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: davidmvalente +
- en: deflatSOCO
  id: totrans-2811
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: deflatSOCO
- en: doosik_bae +
  id: totrans-2812
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: doosik_bae +
- en: dylanchase +
  id: totrans-2813
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: dylanchase +
- en: eduardo naufel schettino +
  id: totrans-2814
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: eduardo naufel schettino +
- en: euri10 +
  id: totrans-2815
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: euri10 +
- en: evangelineliu +
  id: totrans-2816
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: evangelineliu +
- en: fengyqf +
  id: totrans-2817
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: fengyqf +
- en: fjdiod
  id: totrans-2818
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: fjdiod
- en: fl4p +
  id: totrans-2819
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: fl4p +
- en: fleimgruber +
  id: totrans-2820
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: fleimgruber +
- en: gfyoung
  id: totrans-2821
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gfyoung
- en: h-vetinari
  id: totrans-2822
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: h-vetinari
- en: harisbal +
  id: totrans-2823
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: harisbal +
- en: henriqueribeiro +
  id: totrans-2824
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: henriqueribeiro +
- en: himanshu awasthi
  id: totrans-2825
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: himanshu awasthi
- en: hongshaoyang +
  id: totrans-2826
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: hongshaoyang +
- en: igorfassen +
  id: totrans-2827
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: igorfassen +
- en: jalazbe +
  id: totrans-2828
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jalazbe +
- en: jbrockmendel
  id: totrans-2829
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jbrockmendel
- en: jh-wu +
  id: totrans-2830
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jh-wu +
- en: justinchan23 +
  id: totrans-2831
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: justinchan23 +
- en: louispotok
  id: totrans-2832
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: louispotok
- en: marcosrullan +
  id: totrans-2833
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: marcosrullan +
- en: miker985
  id: totrans-2834
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: miker985
- en: nicolab100 +
  id: totrans-2835
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: nicolab100 +
- en: nprad
  id: totrans-2836
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: nprad
- en: nsuresh +
  id: totrans-2837
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: nsuresh +
- en: ottiP
  id: totrans-2838
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ottiP
- en: pajachiet +
  id: totrans-2839
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: pajachiet +
- en: raguiar2 +
  id: totrans-2840
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: raguiar2 +
- en: ratijas +
  id: totrans-2841
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ratijas +
- en: realead +
  id: totrans-2842
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: realead +
- en: robbuckley +
  id: totrans-2843
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: robbuckley +
- en: saurav2608 +
  id: totrans-2844
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: saurav2608 +
- en: sideeye +
  id: totrans-2845
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sideeye +
- en: ssikdar1
  id: totrans-2846
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ssikdar1
- en: svenharris +
  id: totrans-2847
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: svenharris +
- en: syutbai +
  id: totrans-2848
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: syutbai +
- en: testvinder +
  id: totrans-2849
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: testvinder +
- en: thatneat
  id: totrans-2850
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: thatneat
- en: tmnhat2001
  id: totrans-2851
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tmnhat2001
- en: tomascassidy +
  id: totrans-2852
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tomascassidy +
- en: tomneep
  id: totrans-2853
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tomneep
- en: topper-123
  id: totrans-2854
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: topper-123
- en: vkk800 +
  id: totrans-2855
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: vkk800 +
- en: winlu +
  id: totrans-2856
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: winlu +
- en: ym-pett +
  id: totrans-2857
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ym-pett +
- en: yrhooke +
  id: totrans-2858
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: yrhooke +
- en: ywpark1 +
  id: totrans-2859
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ywpark1 +
- en: zertrin
  id: totrans-2860
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: zertrin
- en: zhezherun +
  id: totrans-2861
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: zhezherun +
