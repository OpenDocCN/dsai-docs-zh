- en: What’s new in 2.0.3 (June 28, 2023)
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://pandas.pydata.org/docs/whatsnew/v2.0.3.html](https://pandas.pydata.org/docs/whatsnew/v2.0.3.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: These are the changes in pandas 2.0.3\. See [Release notes](index.html#release)
    for a full changelog including other versions of pandas.
  prefs: []
  type: TYPE_NORMAL
- en: '## Fixed regressions'
  prefs: []
  type: TYPE_NORMAL
- en: Bug in `Timestamp.weekday`()` was returning incorrect results before `'0000-02-29'`
    ([GH 53738](https://github.com/pandas-dev/pandas/issues/53738))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed performance regression in merging on datetime-like columns ([GH 53231](https://github.com/pandas-dev/pandas/issues/53231))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Fixed regression when [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") creates extra space for string dtypes ([GH 52690](https://github.com/pandas-dev/pandas/issues/52690))  ##
    Bug fixes'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in `DataFrame.convert_dtype()` and `Series.convert_dtype()` when trying
    to convert [`ArrowDtype`](../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype
    "pandas.ArrowDtype") with `dtype_backend="nullable_numpy"` ([GH 53648](https://github.com/pandas-dev/pandas/issues/53648))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in `RangeIndex.union()` when using `sort=True` with another [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex
    "pandas.RangeIndex") ([GH 53490](https://github.com/pandas-dev/pandas/issues/53490))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex") when expanding a non-nanosecond datetime or timedelta
    [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    would not fill with `NaT` correctly ([GH 53497](https://github.com/pandas-dev/pandas/issues/53497))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") when defining `dtype` with `bool[pyarrow]` for the `"c"` and
    `"python"` engines ([GH 53390](https://github.com/pandas-dev/pandas/issues/53390))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`Series.str.split()`](../reference/api/pandas.Series.str.split.html#pandas.Series.str.split
    "pandas.Series.str.split") and [`Series.str.rsplit()`](../reference/api/pandas.Series.str.rsplit.html#pandas.Series.str.rsplit
    "pandas.Series.str.rsplit") with `expand=True` for [`ArrowDtype`](../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype
    "pandas.ArrowDtype") with `pyarrow.string` ([GH 53532](https://github.com/pandas-dev/pandas/issues/53532))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in indexing methods (e.g. `DataFrame.__getitem__()`) where taking the entire
    [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")/[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") would raise an `OverflowError` when Copy on Write was enabled
    and the length of the array was over the maximum size a 32-bit integer can hold
    ([GH 53616](https://github.com/pandas-dev/pandas/issues/53616))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug when constructing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with columns of an [`ArrowDtype`](../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype
    "pandas.ArrowDtype") with a `pyarrow.dictionary` type that reindexes the data
    ([GH 53617](https://github.com/pandas-dev/pandas/issues/53617))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Bug when indexing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with an [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") with a timestamp [`ArrowDtype`](../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype
    "pandas.ArrowDtype") would raise an `AttributeError` ([GH 53644](https://github.com/pandas-dev/pandas/issues/53644))  ##
    Other  ## Contributors'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A total of 13 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  prefs: []
  type: TYPE_NORMAL
- en: Conrad Mcgee Stocks +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Dominik Berger +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Joris Van den Bossche
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Luke Manley
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Lumberbot (aka Jack)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Marc Garcia
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Marco Edward Gorelli
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matthew Roeschke
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pandas Development Team
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thomas A Caswell
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thomas Li
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Xiao Yuan
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'dependabot[bot]  ## Fixed regressions'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in `Timestamp.weekday`()` was returning incorrect results before `'0000-02-29'`
    ([GH 53738](https://github.com/pandas-dev/pandas/issues/53738))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed performance regression in merging on datetime-like columns ([GH 53231](https://github.com/pandas-dev/pandas/issues/53231))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression when [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") creates extra space for string dtypes ([GH 52690](https://github.com/pandas-dev/pandas/issues/52690))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Bug fixes'
  prefs: []
  type: TYPE_NORMAL
- en: Bug in `DataFrame.convert_dtype()` and `Series.convert_dtype()` when trying
    to convert [`ArrowDtype`](../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype
    "pandas.ArrowDtype") with `dtype_backend="nullable_numpy"` ([GH 53648](https://github.com/pandas-dev/pandas/issues/53648))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in `RangeIndex.union()` when using `sort=True` with another [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex
    "pandas.RangeIndex") ([GH 53490](https://github.com/pandas-dev/pandas/issues/53490))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex") when expanding a non-nanosecond datetime or timedelta
    [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    would not fill with `NaT` correctly ([GH 53497](https://github.com/pandas-dev/pandas/issues/53497))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") when defining `dtype` with `bool[pyarrow]` for the `"c"` and
    `"python"` engines ([GH 53390](https://github.com/pandas-dev/pandas/issues/53390))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`Series.str.split()`](../reference/api/pandas.Series.str.split.html#pandas.Series.str.split
    "pandas.Series.str.split") and [`Series.str.rsplit()`](../reference/api/pandas.Series.str.rsplit.html#pandas.Series.str.rsplit
    "pandas.Series.str.rsplit") with `expand=True` for [`ArrowDtype`](../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype
    "pandas.ArrowDtype") with `pyarrow.string` ([GH 53532](https://github.com/pandas-dev/pandas/issues/53532))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in indexing methods (e.g. `DataFrame.__getitem__()`) where taking the entire
    [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")/[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") would raise an `OverflowError` when Copy on Write was enabled
    and the length of the array was over the maximum size a 32-bit integer can hold
    ([GH 53616](https://github.com/pandas-dev/pandas/issues/53616))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug when constructing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with columns of an [`ArrowDtype`](../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype
    "pandas.ArrowDtype") with a `pyarrow.dictionary` type that reindexes the data
    ([GH 53617](https://github.com/pandas-dev/pandas/issues/53617))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug when indexing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with an [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") with a timestamp [`ArrowDtype`](../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype
    "pandas.ArrowDtype") would raise an `AttributeError` ([GH 53644](https://github.com/pandas-dev/pandas/issues/53644))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Other'
  prefs: []
  type: TYPE_NORMAL
- en: '## Contributors'
  prefs: []
  type: TYPE_NORMAL
- en: A total of 13 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  prefs: []
  type: TYPE_NORMAL
- en: Conrad Mcgee Stocks +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Dominik Berger +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Joris Van den Bossche
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Luke Manley
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Lumberbot (aka Jack)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Marc Garcia
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Marco Edward Gorelli
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matthew Roeschke
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pandas Development Team
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thomas A Caswell
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thomas Li
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Xiao Yuan
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: dependabot[bot]
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
