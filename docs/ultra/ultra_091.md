# ä½¿ç”¨ Ultralytics YOLOv8 è¿›è¡Œåœè½¦ç®¡ç† ğŸš€ 

> åŸæ–‡ï¼š[`docs.ultralytics.com/guides/parking-management/`](https://docs.ultralytics.com/guides/parking-management/) 

## ä»€ä¹ˆæ˜¯åœè½¦ç®¡ç†ç³»ç»Ÿï¼Ÿ 

ä½¿ç”¨ [Ultralytics YOLOv8](https://github.com/ultralytics/ultralytics/) è¿›è¡Œåœè½¦ç®¡ç†å¯é€šè¿‡ç»„ç»‡ç©ºé—´å’Œç›‘æ§å¯ç”¨æ€§æ¥ç¡®ä¿é«˜æ•ˆä¸”å®‰å…¨çš„åœè½¦ã€‚YOLOv8 é€šè¿‡å®æ—¶è½¦è¾†æ£€æµ‹å’Œåœè½¦ä½å ç”¨æƒ…å†µçš„æ´å¯Ÿï¼Œå¯ä»¥æ”¹å–„åœè½¦åœºç®¡ç†ã€‚ 

## åœè½¦ç®¡ç†ç³»ç»Ÿçš„ä¼˜åŠ¿ï¼Ÿ 

+   **æ•ˆç‡**: åœè½¦åœºç®¡ç†ä¼˜åŒ–åœè½¦ä½çš„ä½¿ç”¨ï¼Œå¹¶å‡å°‘æ‹¥å µã€‚ 

+   **å®‰å…¨ä¸ä¿å®‰**: ä½¿ç”¨ YOLOv8 è¿›è¡Œåœè½¦ç®¡ç†é€šè¿‡ç›‘æ§å’Œå®‰å…¨æªæ–½æå‡äº†äººå‘˜å’Œè½¦è¾†çš„å®‰å…¨æ€§ã€‚ 

+   **å‡å°‘æ’æ”¾**: ä½¿ç”¨ YOLOv8 è¿›è¡Œåœè½¦ç®¡ç†å¯ä»¥æ§åˆ¶äº¤é€šæµï¼Œæœ€å°åŒ–åœè½¦åœºçš„é—²ç½®æ—¶é—´å’Œæ’æ”¾ã€‚ 

## ç°å®ä¸–ç•Œåº”ç”¨ 

| åœè½¦ç®¡ç†ç³»ç»Ÿ | åœè½¦ç®¡ç†ç³»ç»Ÿ |
| --- | --- |
| ![Ultralytics YOLOv8 ä½¿ç”¨åœè½¦åœºåˆ†æ](img/832d7cf97630ef408a7f7eb73b4b4bf6.png) | ![Ultralytics YOLOv8 ä½¿ç”¨åœè½¦ç®¡ç†çš„ä¿¯è§†å›¾](img/0b762a25dc32c40c187af4643fdf94ba.png) |
| ä½¿ç”¨ Ultralytics YOLOv8 è¿›è¡Œåœè½¦ç®¡ç†çš„èˆªæ‹è§†å›¾ | ä½¿ç”¨ Ultralytics YOLOv8 è¿›è¡Œåœè½¦ç®¡ç†çš„ä¿¯è§†å›¾ |

## åœè½¦ç®¡ç†ç³»ç»Ÿä»£ç å·¥ä½œæµç¨‹ 

### ç‚¹çš„é€‰æ‹© 

ç°åœ¨è½»æ¾é€‰æ‹©ç‚¹ 

åœ¨åœè½¦ç®¡ç†ç³»ç»Ÿä¸­ï¼Œé€‰æ‹©åœè½¦ç‚¹æ˜¯ä¸€é¡¹å…³é”®ä¸”å¤æ‚çš„ä»»åŠ¡ã€‚Ultralytics é€šè¿‡æä¾›ä¸€ä¸ªå·¥å…·æ¥å®šä¹‰åœè½¦åœºåŒºåŸŸï¼Œåç»­å¯ç”¨äºè¿›ä¸€æ­¥å¤„ç†ï¼Œä»è€Œç®€åŒ–äº†è¿™ä¸€è¿‡ç¨‹ã€‚ 

+   ä»è§†é¢‘æˆ–æ‘„åƒå¤´æµä¸­æ•è·ä¸€ä¸ªå¸§ï¼Œç”¨äºç®¡ç†åœè½¦åœºçš„ä½ç½®ã€‚ 

+   ä½¿ç”¨æä¾›çš„ä»£ç å¯åŠ¨ä¸€ä¸ªå›¾å½¢ç•Œé¢ï¼Œåœ¨é‚£é‡Œæ‚¨å¯ä»¥é€‰æ‹©ä¸€å¼ å›¾åƒï¼Œå¹¶é€šè¿‡é¼ æ ‡ç‚¹å‡»å¼€å§‹è½®å»“åŒ–åœè½¦åŒºåŸŸï¼Œä»¥åˆ›å»ºå¤šè¾¹å½¢ã€‚ 

å›¾åƒå¤§å° 

æ”¯æŒæœ€å¤§å›¾åƒå¤§å°ä¸º 1920 * 1080 

Ultralytics YOLOv8 åœè½¦æ§½æ ‡æ³¨å™¨ 

```py
`from ultralytics import solutions  solutions.ParkingPtsSelection()` 
```

+   å®šä¹‰åœè½¦åŒºåŸŸçš„å¤šè¾¹å½¢åï¼Œç‚¹å‡» `ä¿å­˜` å°†æ•°æ®å­˜å‚¨ä¸º JSON æ–‡ä»¶åˆ°æ‚¨çš„å·¥ä½œç›®å½•ä¸­ã€‚ 

![Ultralytics YOLOv8 ç‚¹é€‰æ¼”ç¤º](img/f7a4c7286b1eef2ee79cbafe4ff01eef.png) 

### Python åœè½¦ç®¡ç†ä»£ç  

ä½¿ç”¨ YOLOv8 è¿›è¡Œåœè½¦ç®¡ç†çš„ç¤ºä¾‹ 

```py
`import cv2  from ultralytics import solutions  # Path to json file, that created with above point selection app polygon_json_path = "bounding_boxes.json"  # Video capture cap = cv2.VideoCapture("Path/to/video/file.mp4") assert cap.isOpened(), "Error reading video file" w, h, fps = (int(cap.get(x)) for x in (cv2.CAP_PROP_FRAME_WIDTH, cv2.CAP_PROP_FRAME_HEIGHT, cv2.CAP_PROP_FPS))  # Video writer video_writer = cv2.VideoWriter("parking management.avi", cv2.VideoWriter_fourcc(*"mp4v"), fps, (w, h))  # Initialize parking management object management = solutions.ParkingManagement(model_path="yolov8n.pt")  while cap.isOpened():     ret, im0 = cap.read()     if not ret:         break      json_data = management.parking_regions_extraction(polygon_json_path)     results = management.model.track(im0, persist=True, show=False)      if results[0].boxes.id is not None:         boxes = results[0].boxes.xyxy.cpu().tolist()         clss = results[0].boxes.cls.cpu().tolist()         management.process_data(json_data, im0, boxes, clss)      management.display_frames(im0)     video_writer.write(im0)  cap.release() video_writer.release() cv2.destroyAllWindows()` 
```

### å¯é€‰å‚æ•° `ParkingManagement`

| åç§° | ç±»å‹ | é»˜è®¤ | æè¿° |
| --- | --- | --- | --- |
| `model_path` | `str` | `None` | YOLOv8 æ¨¡å‹çš„è·¯å¾„ã€‚  |
| `txt_color` | `tuple` | `(0, 0, 0)` | æ–‡æœ¬çš„ RGB é¢œè‰²å…ƒç»„ã€‚  |
| `bg_color` | `tuple` | `(255, 255, 255)` | èƒŒæ™¯çš„ RGB é¢œè‰²å…ƒç»„ã€‚ |
| `occupied_region_color` | `tuple` | `(0, 255, 0)` | å·²å ç”¨åŒºåŸŸçš„ RGB é¢œè‰²å…ƒç»„ã€‚  |
| `available_region_color` | `tuple` | `(0, 0, 255)` | å¯ç”¨åŒºåŸŸçš„ RGB é¢œè‰²å…ƒç»„ã€‚ |
| `margin` | `int` | `10` | æ–‡æœ¬æ˜¾ç¤ºçš„è¾¹è·ã€‚ |

### å‚æ•° `model.track`

| åç§° | ç±»å‹ | é»˜è®¤ | æè¿° |
| --- | --- | --- | --- |
| `source` | `im0` | `None` | å›¾åƒæˆ–è§†é¢‘çš„æºç›®å½•ã€‚ |
| `persist` | `bool` | `False` | åœ¨å¸§ä¹‹é—´æŒç»­è·Ÿè¸ª |
| `tracker` | `str` | `botsort.yaml` | è·Ÿè¸ªæ–¹æ³•'bytetrack'æˆ–'botsort' |
| `conf` | `float` | `0.3` | ç½®ä¿¡é˜ˆå€¼ |
| `iou` | `float` | `0.5` | IOU é˜ˆå€¼ |
| `classes` | `list` | `None` | æŒ‰ç±»åˆ«è¿‡æ»¤ç»“æœï¼Œä¾‹å¦‚ classes=0 æˆ– classes=[0,2,3] |
| `verbose` | `bool` | `True` | æ˜¾ç¤ºå¯¹è±¡è·Ÿè¸ªç»“æœ |

## å¸¸è§é—®é¢˜

### Ultralytics YOLOv8 å¦‚ä½•å¢å¼ºåœè½¦ç®¡ç†ç³»ç»Ÿï¼Ÿ

Ultralytics YOLOv8 é€šè¿‡æä¾›**å®æ—¶è½¦è¾†æ£€æµ‹**å’Œç›‘æ§ï¼Œæå¤§å¢å¼ºäº†åœè½¦ç®¡ç†ç³»ç»Ÿã€‚è¿™å¯¼è‡´åœè½¦ä½çš„ä¼˜åŒ–ä½¿ç”¨ï¼Œå‡å°‘æ‹¥å µï¼Œå¹¶é€šè¿‡æŒç»­ç›‘æ§å¢å¼ºå®‰å…¨æ€§ã€‚[åœè½¦ç®¡ç†ç³»ç»Ÿ](https://github.com/ultralytics/ultralytics)é€šè¿‡æœ‰æ•ˆçš„äº¤é€šæµç¨‹ï¼Œæœ€å°åŒ–åœè½¦åœºä¸­çš„ç©ºè½¬æ—¶é—´å’Œæ’æ”¾ï¼Œä»è€Œä¿ƒè¿›ç¯å¢ƒå¯æŒç»­æ€§ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…åœè½¦ç®¡ç†ä»£ç å·¥ä½œæµç¨‹ã€‚

### ä½¿ç”¨ Ultralytics YOLOv8 è¿›è¡Œæ™ºèƒ½åœè½¦çš„å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ

ä½¿ç”¨ Ultralytics YOLOv8 è¿›è¡Œæ™ºèƒ½åœè½¦å¯ä»¥è·å¾—å¤šä¸ªå¥½å¤„ï¼š

+   **æ•ˆç‡**ï¼šä¼˜åŒ–åœè½¦ä½çš„ä½¿ç”¨å¹¶å‡å°‘æ‹¥å µã€‚

+   **å®‰å…¨ä¸å®‰å…¨æ€§**ï¼šå¢å¼ºç›‘è§†å¹¶ç¡®ä¿è½¦è¾†å’Œè¡Œäººçš„å®‰å…¨ã€‚

+   **ç¯å¢ƒå½±å“**ï¼šé€šè¿‡å‡å°‘è½¦è¾†ç©ºè½¬æ—¶é—´æ¥å¸®åŠ©å‡å°‘æ’æ”¾ã€‚æœ‰å…³ä¼˜åŠ¿çš„æ›´å¤šç»†èŠ‚å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ã€‚

### å¦‚ä½•ä½¿ç”¨ Ultralytics YOLOv8 å®šä¹‰åœè½¦ä½ï¼Ÿ

ä½¿ç”¨ Ultralytics YOLOv8 å®šä¹‰åœè½¦ä½éå¸¸ç®€å•ï¼š

1.  ä»è§†é¢‘æˆ–æ‘„åƒå¤´æµä¸­æ•è·ä¸€å¸§ã€‚

1.  ä½¿ç”¨æä¾›çš„ä»£ç å¯åŠ¨ GUIï¼Œé€‰æ‹©å›¾åƒå¹¶ç»˜åˆ¶å¤šè¾¹å½¢ä»¥å®šä¹‰åœè½¦ä½ã€‚

1.  å°†æ ‡è®°çš„æ•°æ®ä¿å­˜ä¸º JSON æ ¼å¼ä»¥ä¾¿è¿›ä¸€æ­¥å¤„ç†ã€‚æœ‰å…³è¯¦ç»†è¯´æ˜ï¼Œè¯·æŸ¥çœ‹ç‚¹é€‰éƒ¨åˆ†çš„é€‰æ‹©ã€‚

### æˆ‘å¯ä»¥ä¸ºç‰¹å®šçš„åœè½¦ç®¡ç†éœ€æ±‚å®šåˆ¶ YOLOv8 æ¨¡å‹å—ï¼Ÿ

æ˜¯çš„ï¼ŒUltralytics YOLOv8 å…è®¸æ ¹æ®ç‰¹å®šçš„åœè½¦ç®¡ç†éœ€æ±‚è¿›è¡Œå®šåˆ¶ã€‚æ‚¨å¯ä»¥è°ƒæ•´å‚æ•°ï¼Œä¾‹å¦‚**å ç”¨å’Œå¯ç”¨åŒºåŸŸçš„é¢œè‰²**ï¼Œæ–‡æœ¬æ˜¾ç¤ºçš„è¾¹è·ç­‰ã€‚åˆ©ç”¨`ParkingManagement`ç±»çš„å¯é€‰å‚æ•°ï¼Œæ‚¨å¯ä»¥è°ƒæ•´æ¨¡å‹ä»¥æ»¡è¶³ç‰¹å®šçš„éœ€æ±‚ï¼Œç¡®ä¿æœ€å¤§çš„æ•ˆç‡å’Œæ•ˆæœã€‚

### Ultralytics YOLOv8 åœ¨åœè½¦åœºç®¡ç†ä¸­çš„ä¸€äº›çœŸå®åº”ç”¨æ˜¯ä»€ä¹ˆï¼Ÿ

Ultralytics YOLOv8 åœ¨åŒ…æ‹¬åœè½¦åœºç®¡ç†åœ¨å†…çš„å„ç§çœŸå®åº”ç”¨ä¸­è¢«ä½¿ç”¨ï¼š

+   **åœè½¦ä½æ£€æµ‹**ï¼šå‡†ç¡®è¯†åˆ«å¯ç”¨å’Œå ç”¨ç©ºé—´ã€‚

+   **ç›‘è§†**ï¼šé€šè¿‡å®æ—¶ç›‘æ§å¢å¼ºå®‰å…¨æ€§ã€‚

+   **äº¤é€šæµç®¡ç†**ï¼šé€šè¿‡é«˜æ•ˆçš„äº¤é€šå¤„ç†å‡å°‘ç©ºè½¬æ—¶é—´å’Œæ‹¥å µã€‚å¯ä»¥åœ¨çœŸå®åº”ç”¨ä¸­æ‰¾åˆ°å±•ç¤ºè¿™äº›åº”ç”¨çš„å›¾ç‰‡ã€‚
