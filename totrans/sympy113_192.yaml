- en: Expression Manipulation (Docstrings)
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://docs.sympy.org/latest/modules/physics/mechanics/api/expr_manip.html](https://docs.sympy.org/latest/modules/physics/mechanics/api/expr_manip.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: A custom subs for use on expressions derived in physics.mechanics.
  prefs: []
  type: TYPE_NORMAL
- en: 'Traverses the expression tree once, performing the subs found in sub_dicts.
    Terms inside `Derivative` expressions are ignored:'
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Note that sub_dicts can be a single dictionary, or several dictionaries:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'If smart=True (default False), also checks for conditions that may result in
    `nan`, but if simplified would yield a valid expression. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: It does this by first replacing all `tan` with `sin/cos`. Then each node is
    traversed. If the node is a fraction, subs is first evaluated on the denominator.
    If this results in 0, simplification of the entire fraction is attempted. Using
    this selective simplification, only subexpressions that result in 1/0 are targeted,
    resulting in faster performance.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Find all dynamicsymbols in expression.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**expression** : SymPy expression'
  prefs: []
  type: TYPE_NORMAL
- en: '**exclude** : iterable of dynamicsymbols, optional'
  prefs: []
  type: TYPE_NORMAL
- en: '**reference_frame** : ReferenceFrame, optional'
  prefs: []
  type: TYPE_NORMAL
- en: The frame with respect to which the dynamic symbols of the given vector is to
    be determined.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Explanation
  prefs: []
  type: TYPE_NORMAL
- en: If the optional `exclude` kwarg is used, only dynamicsymbols not in the iterable
    `exclude` are returned. If we intend to apply this function on a vector, the optional
    `reference_frame` is also used to inform about the corresponding frame with respect
    to which the dynamic symbols of the given vector is to be determined.
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
