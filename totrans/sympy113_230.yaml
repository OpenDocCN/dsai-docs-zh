- en: Utilities
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://docs.sympy.org/latest/modules/physics/optics/utils.html](https://docs.sympy.org/latest/modules/physics/optics/utils.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**Contains**'
  prefs: []
  type: TYPE_NORMAL
- en: refraction_angle
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: fresnel_coefficients
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: deviation
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: brewster_angle
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: critical_angle
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: lens_makers_formula
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: mirror_formula
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: lens_formula
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: hyperfocal_distance
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: transverse_magnification
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: This function calculates the Brewster’s angle of incidence to Medium 2 from
    Medium 1 in radians.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**medium 1** : Medium or sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Refractive index of Medium 1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**medium 2** : Medium or sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Refractive index of Medium 1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: This function calculates the critical angle of incidence (marking the onset
    of total internal) to Medium 2 from Medium 1 in radians.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**medium 1** : Medium or sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Refractive index of Medium 1.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**medium 2** : Medium or sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Refractive index of Medium 1.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: This function calculates the angle of deviation of a ray due to refraction at
    planar surface.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**incident** : Matrix, Ray3D, sequence or float'
  prefs: []
  type: TYPE_NORMAL
- en: Incident vector or angle of incidence
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**medium1** : sympy.physics.optics.medium.Medium or sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Medium 1 or its refractive index
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**medium2** : sympy.physics.optics.medium.Medium or sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Medium 2 or its refractive index
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**normal** : Matrix, Ray3D, or sequence'
  prefs: []
  type: TYPE_NORMAL
- en: Normal vector
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**plane** : Plane'
  prefs: []
  type: TYPE_NORMAL
- en: Plane of separation of the two media.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**Returns angular deviation between incident and refracted rays**'
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: This function uses Fresnel equations to calculate reflection and transmission
    coefficients. Those are obtained for both polarisations when the electric field
    vector is in the plane of incidence (labelled ‘p’) and when the electric field
    vector is perpendicular to the plane of incidence (labelled ‘s’). There are four
    real coefficients unless the incident ray reflects in total internal in which
    case there are two complex ones. Angle of incidence is the angle between the incident
    ray and the surface normal. `medium1` and `medium2` can be `Medium` or any sympifiable
    object.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**angle_of_incidence** : sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: '**medium1** : Medium or sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Medium 1 or its refractive index
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**medium2** : Medium or sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Medium 2 or its refractive index
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Returns:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Returns a list with four real Fresnel coefficients:'
  prefs: []
  type: TYPE_NORMAL
- en: '[reflection p (TM), reflection s (TE),'
  prefs: []
  type: TYPE_NORMAL
- en: transmission p (TM), transmission s (TE)]
  prefs: []
  type: TYPE_NORMAL
- en: If the ray is undergoes total internal reflection then returns a
  prefs: []
  type: TYPE_NORMAL
- en: 'list of two complex Fresnel coefficients:'
  prefs: []
  type: TYPE_NORMAL
- en: '[reflection p (TM), reflection s (TE)]'
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: References
  prefs: []
  type: TYPE_NORMAL
- en: '[[R747](#id1)]'
  prefs: []
  type: TYPE_NORMAL
- en: '[https://en.wikipedia.org/wiki/Fresnel_equations](https://en.wikipedia.org/wiki/Fresnel_equations)'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**f: sympifiable**'
  prefs: []
  type: TYPE_NORMAL
- en: Focal length of a given lens.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**N: sympifiable**'
  prefs: []
  type: TYPE_NORMAL
- en: F-number of a given lens.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**c: sympifiable**'
  prefs: []
  type: TYPE_NORMAL
- en: Circle of Confusion (CoC) of a given image format.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Example
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: This function provides one of the three parameters when two of them are supplied.
    This is valid only for paraxial rays.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**focal_length** : sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Focal length of the mirror.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**u** : sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Distance of object from the optical center on the principal axis.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**v** : sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Distance of the image from the optical center on the principal axis.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: This function calculates focal length of a lens. It follows cartesian sign convention.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**n_lens** : Medium or sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Index of refraction of lens.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**n_surr** : Medium or sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Index of reflection of surrounding.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**r1** : sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Radius of curvature of first surface.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**r2** : sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Radius of curvature of second surface.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**d** : sympifiable, optional'
  prefs: []
  type: TYPE_NORMAL
- en: Thickness of lens, default value is 0.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: This function provides one of the three parameters when two of them are supplied.
    This is valid only for paraxial rays.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**focal_length** : sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Focal length of the mirror.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**u** : sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Distance of object from the pole on the principal axis.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**v** : sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Distance of the image from the pole on the principal axis.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: This function calculates transmitted vector after refraction at planar surface.
    `medium1` and `medium2` can be `Medium` or any sympifiable object. If `incident`
    is a number then treated as angle of incidence (in radians) in which case refraction
    angle is returned.
  prefs: []
  type: TYPE_NORMAL
- en: If `incident` is an object of \(Ray3D\), \(normal\) also has to be an instance
    of \(Ray3D\) in order to get the output as a \(Ray3D\). Please note that if plane
    of separation is not provided and normal is an instance of \(Ray3D\), `normal`
    will be assumed to be intersecting incident ray at the plane of separation. This
    will not be the case when \(normal\) is a \(Matrix\) or any other sequence. If
    `incident` is an instance of \(Ray3D\) and \(plane\) has not been provided and
    `normal` is not \(Ray3D\), output will be a \(Matrix\).
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**incident** : Matrix, Ray3D, sequence or a number'
  prefs: []
  type: TYPE_NORMAL
- en: Incident vector or angle of incidence
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**medium1** : sympy.physics.optics.medium.Medium or sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Medium 1 or its refractive index
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**medium2** : sympy.physics.optics.medium.Medium or sympifiable'
  prefs: []
  type: TYPE_NORMAL
- en: Medium 2 or its refractive index
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**normal** : Matrix, Ray3D, or sequence'
  prefs: []
  type: TYPE_NORMAL
- en: Normal vector
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**plane** : Plane'
  prefs: []
  type: TYPE_NORMAL
- en: Plane of separation of the two media.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Returns:'
  prefs: []
  type: TYPE_NORMAL
- en: Returns an angle of refraction or a refracted ray depending on inputs.
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
- en: With different index of refraction of the two media
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE19]'
  prefs: []
  type: TYPE_PRE
- en: Calculates the transverse magnification upon reflection in a mirror, which is
    the ratio of the image size to the object size.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**so: sympifiable**'
  prefs: []
  type: TYPE_NORMAL
- en: Lens-object distance.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**si: sympifiable**'
  prefs: []
  type: TYPE_NORMAL
- en: Lens-image distance.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Example
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs: []
  type: TYPE_PRE
