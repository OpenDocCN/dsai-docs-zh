# `numpy.arctan2`

> 原文：[`numpy.org/doc/1.26/reference/generated/numpy.arctan2.html`](https://numpy.org/doc/1.26/reference/generated/numpy.arctan2.html)

```py
numpy.arctan2(x1, x2, /, out=None, *, where=True, casting='same_kind', order='K', dtype=None, subok=True[, signature, extobj]) = <ufunc 'arctan2'>
```

选择正确象限的`x1/x2`的元素级反正切。

选择象限（即分支），以便`arctan2(x1, x2)`是通过点(1,0)结束并通过点(*x2*, *x1*)结束的射线与起点之间的有符号弧度角（注意角色颠倒：第一个函数参数是“*y*-坐标”，第二个是“*x*-坐标”）。根据 IEEE 约定，此函数对于*x2* = +/-0 以及*x1*和/或*x2* = +/-inf 都定义了（有关特定值，请参阅注意事项）。

此函数对于复数值参数未定义；对于所谓的复数值的参数，请使用`angle`。

参数：

**x1**数组样式，实数型

*y*坐标。

**x2**数组样式，实数型

*x*坐标。如果`x1.shape != x2.shape`，它们必须可广播到一个公共形状（这将成为输出的形状）。

**out**数组样式，None 或者包含数组和 None 的元组，可选

结果存储的位置。如果提供，它必须具有输入广播到的形状。如果未提供或为 None，则返回一个新分配的数组。元组（仅作为关键字参数）必须具有与输出数量相等的长度。

**where**数组样式，可选

此条件广播至输入。在条件为 True 的位置，*out*数组将设置为 ufunc 结果。在其他位置，*out*数组将保留其原始值。请注意，如果通过默认`out=None`创建了未初始化的*out*数组，则其中条件为 False 的位置将保持未初始化状态。

****kwargs**

对于其他仅限关键字的参数，请参阅 ufunc 文档。

返回：

**角度**数组

角度数组，单位为弧度，范围为`[-pi, pi]`。如果*x1*和*x2*都是标量，则这是一个标量。

另请参见

`arctan`，`tan`，`angle`

注意事项

*arctan2*与底层 C 库的*atan2*函数相同。C 标准中定义了以下特殊值：[[1]](#r73eacd397847-1)

| *x1* | *x2* | *arctan2(x1,x2)* |
| --- | --- | --- |
| +/- 0 | +0 | +/- 0 |
| +/- 0 | -0 | +/- pi |
| > 0 | +/-inf | +0 / +pi |
| < 0 | +/-inf | -0 / -pi |
| +/-inf | +inf | +/- (pi/4) |
| +/-inf | -inf | +/- (3*pi/4) |

请注意，+0 和-0 是不同的浮点数，+inf 和-inf 也是如此。

参考文献

[1]

ISO/IEC 标准 9899:1999，“C 编程语言。”

示例

考虑不同象限中的四个点：

```py
>>> x = np.array([-1, +1, +1, -1])
>>> y = np.array([-1, -1, +1, +1])
>>> np.arctan2(y, x) * 180 / np.pi
array([-135.,  -45.,   45.,  135.]) 
```

注意参数的顺序。`arctan2` 在*x2*等于 0 以及其他几个特殊点也有定义，并在范围`[-pi, pi]`内取值：

```py
>>> np.arctan2([1., -1.], [0., 0.])
array([ 1.57079633, -1.57079633])
>>> np.arctan2([0., 0., np.inf], [+0., -0., np.inf])
array([0\.        , 3.14159265, 0.78539816]) 
```
