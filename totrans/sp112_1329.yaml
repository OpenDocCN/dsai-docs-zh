- en: scipy.stats.ansari
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.ansari.html#scipy.stats.ansari](https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.ansari.html#scipy.stats.ansari)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Perform the Ansari-Bradley test for equal scale parameters.
  prefs: []
  type: TYPE_NORMAL
- en: The Ansari-Bradley test ([[1]](#r9ee9fbb1b360-1), [[2]](#r9ee9fbb1b360-2)) is
    a non-parametric test for the equality of the scale parameter of the distributions
    from which two samples were drawn. The null hypothesis states that the ratio of
    the scale of the distribution underlying *x* to the scale of the distribution
    underlying *y* is 1.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**x, y**array_like'
  prefs: []
  type: TYPE_NORMAL
- en: Arrays of sample data.
  prefs: []
  type: TYPE_NORMAL
- en: '**alternative**{‘two-sided’, ‘less’, ‘greater’}, optional'
  prefs: []
  type: TYPE_NORMAL
- en: 'Defines the alternative hypothesis. Default is ‘two-sided’. The following options
    are available:'
  prefs: []
  type: TYPE_NORMAL
- en: '‘two-sided’: the ratio of scales is not equal to 1.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '‘less’: the ratio of scales is less than 1.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '‘greater’: the ratio of scales is greater than 1.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: New in version 1.7.0.
  prefs: []
  type: TYPE_NORMAL
- en: '**axis**int or None, default: 0'
  prefs: []
  type: TYPE_NORMAL
- en: If an int, the axis of the input along which to compute the statistic. The statistic
    of each axis-slice (e.g. row) of the input will appear in a corresponding element
    of the output. If `None`, the input will be raveled before computing the statistic.
  prefs: []
  type: TYPE_NORMAL
- en: '**nan_policy**{‘propagate’, ‘omit’, ‘raise’}'
  prefs: []
  type: TYPE_NORMAL
- en: Defines how to handle input NaNs.
  prefs: []
  type: TYPE_NORMAL
- en: '`propagate`: if a NaN is present in the axis slice (e.g. row) along which the
    statistic is computed, the corresponding entry of the output will be NaN.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`omit`: NaNs will be omitted when performing the calculation. If insufficient
    data remains in the axis slice along which the statistic is computed, the corresponding
    entry of the output will be NaN.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`raise`: if a NaN is present, a `ValueError` will be raised.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**keepdims**bool, default: False'
  prefs: []
  type: TYPE_NORMAL
- en: If this is set to True, the axes which are reduced are left in the result as
    dimensions with size one. With this option, the result will broadcast correctly
    against the input array.
  prefs: []
  type: TYPE_NORMAL
- en: 'Returns:'
  prefs: []
  type: TYPE_NORMAL
- en: '**statistic**float'
  prefs: []
  type: TYPE_NORMAL
- en: The Ansari-Bradley test statistic.
  prefs: []
  type: TYPE_NORMAL
- en: '**pvalue**float'
  prefs: []
  type: TYPE_NORMAL
- en: The p-value of the hypothesis test.
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs: []
  type: TYPE_NORMAL
- en: '[`fligner`](scipy.stats.fligner.html#scipy.stats.fligner "scipy.stats.fligner")'
  prefs: []
  type: TYPE_NORMAL
- en: A non-parametric test for the equality of k variances
  prefs: []
  type: TYPE_NORMAL
- en: '[`mood`](scipy.stats.mood.html#scipy.stats.mood "scipy.stats.mood")'
  prefs: []
  type: TYPE_NORMAL
- en: A non-parametric test for the equality of two scale parameters
  prefs: []
  type: TYPE_NORMAL
- en: Notes
  prefs: []
  type: TYPE_NORMAL
- en: The p-value given is exact when the sample sizes are both less than 55 and there
    are no ties, otherwise a normal approximation for the p-value is used.
  prefs: []
  type: TYPE_NORMAL
- en: Beginning in SciPy 1.9, `np.matrix` inputs (not recommended for new code) are
    converted to `np.ndarray` before the calculation is performed. In this case, the
    output will be a scalar or `np.ndarray` of appropriate shape rather than a 2D
    `np.matrix`. Similarly, while masked elements of masked arrays are ignored, the
    output will be a scalar or `np.ndarray` rather than a masked array with `mask=False`.
  prefs: []
  type: TYPE_NORMAL
- en: References
  prefs: []
  type: TYPE_NORMAL
- en: '[[1](#id1)]'
  prefs: []
  type: TYPE_NORMAL
- en: Ansari, A. R. and Bradley, R. A. (1960) Rank-sum tests for dispersions, Annals
    of Mathematical Statistics, 31, 1174-1189.
  prefs: []
  type: TYPE_NORMAL
- en: '[[2](#id2)]'
  prefs: []
  type: TYPE_NORMAL
- en: Sprent, Peter and N.C. Smeeton. Applied nonparametric statistical methods. 3rd
    ed. Chapman and Hall/CRC. 2001. Section 5.8.2.
  prefs: []
  type: TYPE_NORMAL
- en: '[3]'
  prefs: []
  type: TYPE_NORMAL
- en: Nathaniel E. Helwig “Nonparametric Dispersion and Equality Tests” at [http://users.stat.umn.edu/~helwig/notes/npde-Notes.pdf](http://users.stat.umn.edu/~helwig/notes/npde-Notes.pdf)
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: For these examples, we’ll create three random data sets. The first two, with
    sizes 35 and 25, are drawn from a normal distribution with mean 0 and standard
    deviation 2\. The third data set has size 25 and is drawn from a normal distribution
    with standard deviation 1.25.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: First we apply [`ansari`](#scipy.stats.ansari "scipy.stats.ansari") to *x1*
    and *x2*. These samples are drawn from the same distribution, so we expect the
    Ansari-Bradley test should not lead us to conclude that the scales of the distributions
    are different.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: With a p-value close to 1, we cannot conclude that there is a significant difference
    in the scales (as expected).
  prefs: []
  type: TYPE_NORMAL
- en: 'Now apply the test to *x1* and *x3*:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: 'The probability of observing such an extreme value of the statistic under the
    null hypothesis of equal scales is only 0.03087%. We take this as evidence against
    the null hypothesis in favor of the alternative: the scales of the distributions
    from which the samples were drawn are not equal.'
  prefs: []
  type: TYPE_NORMAL
- en: 'We can use the *alternative* parameter to perform a one-tailed test. In the
    above example, the scale of *x1* is greater than *x3* and so the ratio of scales
    of *x1* and *x3* is greater than 1\. This means that the p-value when `alternative=''greater''`
    should be near 0 and hence we should be able to reject the null hypothesis:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 'As we can see, the p-value is indeed quite low. Use of `alternative=''less''`
    should thus yield a large p-value:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
