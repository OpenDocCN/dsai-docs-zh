- en: scipy.stats.theilslopes
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.theilslopes.html#scipy.stats.theilslopes](https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.theilslopes.html#scipy.stats.theilslopes)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Computes the Theil-Sen estimator for a set of points (x, y).
  prefs: []
  type: TYPE_NORMAL
- en: '[`theilslopes`](#scipy.stats.theilslopes "scipy.stats.theilslopes") implements
    a method for robust linear regression. It computes the slope as the median of
    all slopes between paired values.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**y**array_like'
  prefs: []
  type: TYPE_NORMAL
- en: Dependent variable.
  prefs: []
  type: TYPE_NORMAL
- en: '**x**array_like or None, optional'
  prefs: []
  type: TYPE_NORMAL
- en: Independent variable. If None, use `arange(len(y))` instead.
  prefs: []
  type: TYPE_NORMAL
- en: '**alpha**float, optional'
  prefs: []
  type: TYPE_NORMAL
- en: Confidence degree between 0 and 1\. Default is 95% confidence. Note that [`alpha`](scipy.stats.alpha.html#scipy.stats.alpha
    "scipy.stats.alpha") is symmetric around 0.5, i.e. both 0.1 and 0.9 are interpreted
    as “find the 90% confidence interval”.
  prefs: []
  type: TYPE_NORMAL
- en: '**method**{‘joint’, ‘separate’}, optional'
  prefs: []
  type: TYPE_NORMAL
- en: Method to be used for computing estimate for intercept. Following methods are
    supported,
  prefs: []
  type: TYPE_NORMAL
- en: '‘joint’: Uses np.median(y - slope * x) as intercept.'
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '‘separate’: Uses np.median(y) - slope * np.median(x)'
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: as intercept.
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: The default is ‘separate’.
  prefs: []
  type: TYPE_NORMAL
- en: New in version 1.8.0.
  prefs: []
  type: TYPE_NORMAL
- en: 'Returns:'
  prefs: []
  type: TYPE_NORMAL
- en: '**result**`TheilslopesResult` instance'
  prefs: []
  type: TYPE_NORMAL
- en: 'The return value is an object with the following attributes:'
  prefs: []
  type: TYPE_NORMAL
- en: slopefloat
  prefs: []
  type: TYPE_NORMAL
- en: Theil slope.
  prefs: []
  type: TYPE_NORMAL
- en: interceptfloat
  prefs: []
  type: TYPE_NORMAL
- en: Intercept of the Theil line.
  prefs: []
  type: TYPE_NORMAL
- en: low_slopefloat
  prefs: []
  type: TYPE_NORMAL
- en: Lower bound of the confidence interval on *slope*.
  prefs: []
  type: TYPE_NORMAL
- en: high_slopefloat
  prefs: []
  type: TYPE_NORMAL
- en: Upper bound of the confidence interval on *slope*.
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs: []
  type: TYPE_NORMAL
- en: '[`siegelslopes`](scipy.stats.siegelslopes.html#scipy.stats.siegelslopes "scipy.stats.siegelslopes")'
  prefs: []
  type: TYPE_NORMAL
- en: a similar technique using repeated medians
  prefs: []
  type: TYPE_NORMAL
- en: Notes
  prefs: []
  type: TYPE_NORMAL
- en: The implementation of [`theilslopes`](#scipy.stats.theilslopes "scipy.stats.theilslopes")
    follows [[1]](#r907add447232-1). The intercept is not defined in [[1]](#r907add447232-1),
    and here it is defined as `median(y) - slope*median(x)`, which is given in [[3]](#r907add447232-3).
    Other definitions of the intercept exist in the literature such as `median(y -
    slope*x)` in [[4]](#r907add447232-4). The approach to compute the intercept can
    be determined by the parameter `method`. A confidence interval for the intercept
    is not given as this question is not addressed in [[1]](#r907add447232-1).
  prefs: []
  type: TYPE_NORMAL
- en: 'For compatibility with older versions of SciPy, the return value acts like
    a `namedtuple` of length 4, with fields `slope`, `intercept`, `low_slope`, and
    `high_slope`, so one can continue to write:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: References
  prefs: []
  type: TYPE_NORMAL
- en: '[1] ([1](#id1),[2](#id2),[3](#id5))'
  prefs: []
  type: TYPE_NORMAL
- en: P.K. Sen, “Estimates of the regression coefficient based on Kendall’s tau”,
    J. Am. Stat. Assoc., Vol. 63, pp. 1379-1389, 1968.
  prefs: []
  type: TYPE_NORMAL
- en: '[2]'
  prefs: []
  type: TYPE_NORMAL
- en: H. Theil, “A rank-invariant method of linear and polynomial regression analysis
    I, II and III”, Nederl. Akad. Wetensch., Proc. 53:, pp. 386-392, pp. 521-525,
    pp. 1397-1412, 1950.
  prefs: []
  type: TYPE_NORMAL
- en: '[[3](#id3)]'
  prefs: []
  type: TYPE_NORMAL
- en: W.L. Conover, “Practical nonparametric statistics”, 2nd ed., John Wiley and
    Sons, New York, pp. 493.
  prefs: []
  type: TYPE_NORMAL
- en: '[[4](#id4)]'
  prefs: []
  type: TYPE_NORMAL
- en: '[https://en.wikipedia.org/wiki/Theil%E2%80%93Sen_estimator](https://en.wikipedia.org/wiki/Theil%E2%80%93Sen_estimator)'
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'Compute the slope, intercept and 90% confidence interval. For comparison, also
    compute the least-squares fit with [`linregress`](scipy.stats.linregress.html#scipy.stats.linregress
    "scipy.stats.linregress"):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Plot the results. The Theil-Sen regression line is shown in red, with the dashed
    red lines illustrating the confidence interval of the slope (note that the dashed
    red lines are not the confidence interval of the regression as the confidence
    interval of the intercept is not included). The green line shows the least-squares
    fit for comparison.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '![../../_images/scipy-stats-theilslopes-1.png](../Images/28bbb632ae04ae8e3aaaba2accf01a58.png)'
  prefs: []
  type: TYPE_IMG
