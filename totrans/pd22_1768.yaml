- en: pandas.io.formats.style.Styler.format_index
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: pandas.io.formats.style.Styler.format_index
- en: 原文：[https://pandas.pydata.org/docs/reference/api/pandas.io.formats.style.Styler.format_index.html](https://pandas.pydata.org/docs/reference/api/pandas.io.formats.style.Styler.format_index.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://pandas.pydata.org/docs/reference/api/pandas.io.formats.style.Styler.format_index.html](https://pandas.pydata.org/docs/reference/api/pandas.io.formats.style.Styler.format_index.html)
- en: '[PRE0]'
  id: totrans-2
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Format the text display value of index labels or column headers.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 格式化索引标签或列标题的文本显示值。
- en: New in version 1.4.0.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 1.4.0版中的新功能。
- en: 'Parameters:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**formatter**str, callable, dict or None'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '**formatter**str, callable, dict or None'
- en: Object to define how values are displayed. See notes.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 定义值如何显示的对象。请参见注意事项。
- en: '**axis**{0, “index”, 1, “columns”}'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '**axis**{0, “index”, 1, “columns”}'
- en: Whether to apply the formatter to the index or column headers.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 是否将格式化器应用于索引或列标题。
- en: '**level**int, str, list'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '**level**int, str, list'
- en: The level(s) over which to apply the generic formatter.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 应用通用格式化器的级别。
- en: '**na_rep**str, optional'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '**na_rep**str, optional'
- en: Representation for missing values. If `na_rep` is None, no special formatting
    is applied.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 用于表示缺失值的表示。如果`na_rep`为None，则不应用特殊格式。
- en: '**precision**int, optional'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '**precision**int, optional'
- en: Floating point precision to use for display purposes, if not determined by the
    specified `formatter`.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 用于显示目的的浮点精度，如果不是由指定的`formatter`确定。
- en: '**decimal**str, default “.”'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '**decimal**str, default “.”'
- en: Character used as decimal separator for floats, complex and integers.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 用作浮点数、复数和整数的小数分隔符的字符。
- en: '**thousands**str, optional, default None'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '**thousands**str, optional, default None'
- en: Character used as thousands separator for floats, complex and integers.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 用作浮点数、复数和整数的千位分隔符的字符。
- en: '**escape**str, optional'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '**escape**str, optional'
- en: Use ‘html’ to replace the characters `&`, `<`, `>`, `'`, and `"` in cell display
    string with HTML-safe sequences. Use ‘latex’ to replace the characters `&`, `%`,
    `$`, `#`, `_`, `{`, `}`, `~`, `^`, and `\` in the cell display string with LaTeX-safe
    sequences. Escaping is done before `formatter`.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 使用‘html’将单元格显示字符串中的字符`&`、`<`、`>`、`'`和`"`替换为HTML安全序列。使用‘latex’将单元格显示字符串中的字符`&`、`%`、`$`、`#`、`_`、`{`、`}`、`~`、`^`和`\`替换为LaTeX安全序列。转义在`formatter`之前完成。
- en: '**hyperlinks**{“html”, “latex”}, optional'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '**hyperlinks**{“html”, “latex”}, optional'
- en: Convert string patterns containing [https://](https://), [http://](http://),
    [ftp://](ftp://) or www. to HTML <a> tags as clickable URL hyperlinks if “html”,
    or LaTeX href commands if “latex”.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 将包含[https://](https://)、[http://](http://)、[ftp://](ftp://)或www.的字符串模式转换为HTML
    <a>标签，作为可点击的URL超链接（如果是“html”），或者转换为LaTeX href命令（如果是“latex”）。
- en: 'Returns:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: Styler
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: Styler
- en: See also
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 另请参见
- en: '[`Styler.format`](pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format")'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '[`Styler.format`](https://pandas.pydata.org/docs/reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format")'
- en: Format the text display value of data cells.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 格式化数据单元格的文本显示值。
- en: Notes
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: This method assigns a formatting function, `formatter`, to each level label
    in the DataFrame’s index or column headers. If `formatter` is `None`, then the
    default formatter is used. If a callable then that function should take a label
    value as input and return a displayable representation, such as a string. If `formatter`
    is given as a string this is assumed to be a valid Python format specification
    and is wrapped to a callable as `string.format(x)`. If a `dict` is given, keys
    should correspond to MultiIndex level numbers or names, and values should be string
    or callable, as above.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法为DataFrame的索引或列标题中的每个级别标签分配一个格式化函数`formatter`。如果`formatter`为`None`，则使用默认格式化器。如果是可调用的，则该函数应以标签值作为输入并返回可显示的表示，例如字符串。如果`formatter`给出为字符串，则假定为有效的Python格式规范，并将其包装为可调用的`string.format(x)`。如果给出一个`dict`，键应对应于MultiIndex级别编号或名称，值应为字符串或可调用对象，如上所述。
- en: The default formatter currently expresses floats and complex numbers with the
    pandas display precision unless using the `precision` argument here. The default
    formatter does not adjust the representation of missing values unless the `na_rep`
    argument is used.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 默认格式化器当前使用pandas显示精度来表示浮点数和复数，除非在此处使用`precision`参数。默认格式化器不会调整缺失值的表示，除非使用`na_rep`参数。
- en: The `level` argument defines which levels of a MultiIndex to apply the method
    to. If the `formatter` argument is given in dict form but does not include all
    levels within the level argument then these unspecified levels will have the default
    formatter applied. Any levels in the formatter dict specifically excluded from
    the level argument will be ignored.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '`level` 参数定义了要应用该方法的 MultiIndex 的哪些级别。如果 `formatter` 参数以字典形式给出，但不包括 level 参数中的所有级别，则这些未指定的级别将应用默认的格式化程序。在
    formatter 字典中明确排除在 level 参数中的任何级别将被忽略。'
- en: When using a `formatter` string the dtypes must be compatible, otherwise a ValueError
    will be raised.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用 `formatter` 字符串时，dtype 必须兼容，否则会引发 ValueError。
- en: Warning
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: Styler.format_index is ignored when using the output format Styler.to_excel,
    since Excel and Python have inherrently different formatting structures. However,
    it is possible to use the number-format pseudo CSS attribute to force Excel permissible
    formatting. See documentation for Styler.format.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用输出格式 Styler.to_excel 时，Styler.format_index 将被忽略，因为 Excel 和 Python 有不同的格式化结构。但是，可以使用数字格式伪
    CSS 属性来强制 Excel 允许的格式化。请参阅 Styler.format 的文档。
- en: Examples
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 示例
- en: Using `na_rep` and `precision` with the default `formatter`
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `na_rep` 和 `precision` 与默认的 `formatter`
- en: '[PRE1]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Using a `formatter` specification on consistent dtypes in a level
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 在级别中使用 `formatter` 规范一致的 dtype
- en: '[PRE2]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Using the default `formatter` for unspecified levels
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 对未指定级别使用默认的 `formatter`
- en: '[PRE3]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Using a callable `formatter` function.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 使用可调用的 `formatter` 函数。
- en: '[PRE4]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Using a `formatter` with HTML `escape` and `na_rep`.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 使用带有 HTML `escape` 和 `na_rep` 的 `formatter`。
- en: '[PRE5]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Using a `formatter` with LaTeX `escape`.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 使用带有 LaTeX `escape` 的 `formatter`。
- en: '[PRE6]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
