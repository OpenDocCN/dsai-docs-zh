- en: What’s new in 1.4.1 (February 12, 2022)
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://pandas.pydata.org/docs/whatsnew/v1.4.1.html](https://pandas.pydata.org/docs/whatsnew/v1.4.1.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: These are the changes in pandas 1.4.1\. See [Release notes](index.html#release)
    for a full changelog including other versions of pandas.
  prefs: []
  type: TYPE_NORMAL
- en: '## Fixed regressions'
  prefs: []
  type: TYPE_NORMAL
- en: Regression in [`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask") with `inplace=True` and `PeriodDtype` and an incompatible
    `other` coercing to a common dtype instead of raising ([GH 45546](https://github.com/pandas-dev/pandas/issues/45546))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression in [`assert_frame_equal()`](../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal
    "pandas.testing.assert_frame_equal") not respecting `check_flags=False` ([GH 45554](https://github.com/pandas-dev/pandas/issues/45554))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") raising `ValueError` when indexing (getting values) on
    a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    with one level ([GH 45779](https://github.com/pandas-dev/pandas/issues/45779))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression in [`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") with `downcast=False` incorrectly downcasting `object`
    dtype ([GH 45603](https://github.com/pandas-dev/pandas/issues/45603))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression in [`api.types.is_bool_dtype()`](../reference/api/pandas.api.types.is_bool_dtype.html#pandas.api.types.is_bool_dtype
    "pandas.api.types.is_bool_dtype") raising an `AttributeError` when evaluating
    a categorical [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    ([GH 45615](https://github.com/pandas-dev/pandas/issues/45615))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression in [`DataFrame.iat()`](../reference/api/pandas.DataFrame.iat.html#pandas.DataFrame.iat
    "pandas.DataFrame.iat") setting values leading to not propagating correctly in
    subsequent lookups ([GH 45684](https://github.com/pandas-dev/pandas/issues/45684))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression when setting values with [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") losing [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") name if [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") was empty before ([GH 45621](https://github.com/pandas-dev/pandas/issues/45621))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression in [`join()`](../reference/api/pandas.Index.join.html#pandas.Index.join
    "pandas.Index.join") with overlapping [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") raising an `InvalidIndexError` ([GH 45661](https://github.com/pandas-dev/pandas/issues/45661))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression when setting values with [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") raising with all `False` indexer and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") on the right hand side ([GH 45778](https://github.com/pandas-dev/pandas/issues/45778))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression in [`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql
    "pandas.read_sql") with a DBAPI2 connection that is not an instance of `sqlite3.Connection`
    incorrectly requiring SQLAlchemy be installed ([GH 45660](https://github.com/pandas-dev/pandas/issues/45660))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Regression in `DateOffset` when constructing with an integer argument with
    no keywords (e.g. `pd.DateOffset(n)`) would behave like `datetime.timedelta(days=0)`
    ([GH 45643](https://github.com/pandas-dev/pandas/issues/45643), [GH 45890](https://github.com/pandas-dev/pandas/issues/45890))  ##
    Bug fixes'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed segfault in [`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") when dumping tz-aware datetimes in Python 3.10 ([GH
    42130](https://github.com/pandas-dev/pandas/issues/42130))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Stopped emitting unnecessary `FutureWarning` in [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") with sparse columns ([GH 45618](https://github.com/pandas-dev/pandas/issues/45618))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed window aggregations in [`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling") and [`Series.rolling()`](../reference/api/pandas.Series.rolling.html#pandas.Series.rolling
    "pandas.Series.rolling") to skip over unused elements ([GH 45647](https://github.com/pandas-dev/pandas/issues/45647))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed builtin highlighters in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") to be responsive to `NA` with nullable dtypes
    ([GH 45804](https://github.com/pandas-dev/pandas/issues/45804))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Bug in `apply()` with `axis=1` raising an erroneous `ValueError` ([GH 45912](https://github.com/pandas-dev/pandas/issues/45912))  ##
    Other'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Reverted performance speedup of [`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") for `method=pearson` to fix precision regression ([GH
    45640](https://github.com/pandas-dev/pandas/issues/45640), [GH 42761](https://github.com/pandas-dev/pandas/issues/42761))  ##
    Contributors'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A total of 19 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  prefs: []
  type: TYPE_NORMAL
- en: Adam Bowden +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: JHM Darbyshire
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Johannes Mueller
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: John Zangwill
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Jonas Haag
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matthew Roeschke
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: MeeseeksMachine
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pandas Development Team
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Patrick Hoefler
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Robbie Palmer +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Simon Hawkins
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thomas Li
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Tyler Reddy
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: eshirvana +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: gesoos +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: hasan-yaman
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: jbrockmendel
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: partev
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'rtpsw +  ## Fixed regressions'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression in [`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask") with `inplace=True` and `PeriodDtype` and an incompatible
    `other` coercing to a common dtype instead of raising ([GH 45546](https://github.com/pandas-dev/pandas/issues/45546))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression in [`assert_frame_equal()`](../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal
    "pandas.testing.assert_frame_equal") not respecting `check_flags=False` ([GH 45554](https://github.com/pandas-dev/pandas/issues/45554))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") raising `ValueError` when indexing (getting values) on
    a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    with one level ([GH 45779](https://github.com/pandas-dev/pandas/issues/45779))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression in [`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") with `downcast=False` incorrectly downcasting `object`
    dtype ([GH 45603](https://github.com/pandas-dev/pandas/issues/45603))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression in [`api.types.is_bool_dtype()`](../reference/api/pandas.api.types.is_bool_dtype.html#pandas.api.types.is_bool_dtype
    "pandas.api.types.is_bool_dtype") raising an `AttributeError` when evaluating
    a categorical [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    ([GH 45615](https://github.com/pandas-dev/pandas/issues/45615))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression in [`DataFrame.iat()`](../reference/api/pandas.DataFrame.iat.html#pandas.DataFrame.iat
    "pandas.DataFrame.iat") setting values leading to not propagating correctly in
    subsequent lookups ([GH 45684](https://github.com/pandas-dev/pandas/issues/45684))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression when setting values with [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") losing [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") name if [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") was empty before ([GH 45621](https://github.com/pandas-dev/pandas/issues/45621))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression in [`join()`](../reference/api/pandas.Index.join.html#pandas.Index.join
    "pandas.Index.join") with overlapping [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") raising an `InvalidIndexError` ([GH 45661](https://github.com/pandas-dev/pandas/issues/45661))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression when setting values with [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") raising with all `False` indexer and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") on the right hand side ([GH 45778](https://github.com/pandas-dev/pandas/issues/45778))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression in [`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql
    "pandas.read_sql") with a DBAPI2 connection that is not an instance of `sqlite3.Connection`
    incorrectly requiring SQLAlchemy be installed ([GH 45660](https://github.com/pandas-dev/pandas/issues/45660))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Regression in `DateOffset` when constructing with an integer argument with no
    keywords (e.g. `pd.DateOffset(n)`) would behave like `datetime.timedelta(days=0)`
    ([GH 45643](https://github.com/pandas-dev/pandas/issues/45643), [GH 45890](https://github.com/pandas-dev/pandas/issues/45890))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Bug fixes'
  prefs: []
  type: TYPE_NORMAL
- en: Fixed segfault in [`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") when dumping tz-aware datetimes in Python 3.10 ([GH
    42130](https://github.com/pandas-dev/pandas/issues/42130))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Stopped emitting unnecessary `FutureWarning` in [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") with sparse columns ([GH 45618](https://github.com/pandas-dev/pandas/issues/45618))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed window aggregations in [`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling") and [`Series.rolling()`](../reference/api/pandas.Series.rolling.html#pandas.Series.rolling
    "pandas.Series.rolling") to skip over unused elements ([GH 45647](https://github.com/pandas-dev/pandas/issues/45647))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed builtin highlighters in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") to be responsive to `NA` with nullable dtypes
    ([GH 45804](https://github.com/pandas-dev/pandas/issues/45804))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in `apply()` with `axis=1` raising an erroneous `ValueError` ([GH 45912](https://github.com/pandas-dev/pandas/issues/45912))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Other'
  prefs: []
  type: TYPE_NORMAL
- en: Reverted performance speedup of [`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") for `method=pearson` to fix precision regression ([GH
    45640](https://github.com/pandas-dev/pandas/issues/45640), [GH 42761](https://github.com/pandas-dev/pandas/issues/42761))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Contributors'
  prefs: []
  type: TYPE_NORMAL
- en: A total of 19 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  prefs: []
  type: TYPE_NORMAL
- en: Adam Bowden +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: JHM Darbyshire
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Johannes Mueller
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: John Zangwill
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Jonas Haag
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matthew Roeschke
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: MeeseeksMachine
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pandas Development Team
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Patrick Hoefler
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Robbie Palmer +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Simon Hawkins
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thomas Li
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Tyler Reddy
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: eshirvana +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: gesoos +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: hasan-yaman
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: jbrockmendel
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: partev
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: rtpsw +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
