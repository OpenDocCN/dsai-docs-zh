# NumPy C-API

> 原文：[`numpy.org/doc/1.26/reference/c-api/index.html`](https://numpy.org/doc/1.26/reference/c-api/index.html)

当心那些不愿意去理会细节的人。— *威廉·菲瑟（William Feather, Sr.）*真相在那里。— *克里斯·卡特（Chris Carter），《X 档案》*

NumPy 提供了一个 C-API，使用户能够扩展系统并访问数组对象以在其他程序中使用。真正理解 C-API 的最佳方式是阅读源代码。然而，如果你不熟悉（C）源代码，这一开始可能会让人望而生畏。请放心，随着练习，这个任务会变得更容易，你可能会惊讶于理解 C 代码的简单程度。即使你认为自己无法从头编写 C 代码，理解和修改已经编写好的源代码要比从零开始编写要容易得多。

Python 扩展特别容易理解，因为它们都具有非常相似的结构。诚然，NumPy 不是 Python 的一个琐碎扩展，可能需要更多的探索才能理解。这尤其是因为代码生成技术简化了非常相似的代码的维护，但对初学者来说可能会使代码稍微难以阅读。不过，稍加坚持，你就能理解这些代码。我希望这份关于 C-API 的指南能够帮助你熟悉使用 NumPy 进行编译级工作的过程，以便从你的代码中挤出最后一丝必要的速度。

+   Python 类型和 C 结构

    +   定义的新 Python 类型

    +   其他 C 结构

+   系统配置

    +   数据类型大小

    +   平台信息

    +   编译器指令

+   数据类型 API

    +   枚举类型

    +   定义

    +   C 类型名称

    +   Printf 格式化

+   数组 API

    +   数组结构和数据访问

    +   创建数组

    +   处理类型

    +   数组标志

    +   数组方法替代 API

    +   函数

    +   具有对象语义的辅助数据

    +   数组迭代器

    +   广播（多迭代器）

    +   邻域迭代器

    +   数组映射

    +   数组标量

    +   数据类型描述符

    +   转换工具

    +   杂项

+   数组迭代器 API

    +   数组迭代器

    +   迭代示例

    +   多次迭代示例

    +   多索引跟踪示例

    +   迭代器数据类型

    +   构造和销毁

    +   迭代函数

    +   从以前的 NumPy 迭代器转换

+   UFunc API

    +   常量

    +   宏

    +   类型

    +   函数

    +   通用函数

    +   导入 API

+   广义通用函数 API

    +   定义

    +   签名的详细信息

    +   用于实现基本函数的 C API

+   NumPy 核心库

    +   NumPy 核心数学库

+   C API 废弃

    +   背景

    +   废弃机制 NPY_NO_DEPRECATED_API

+   NumPy 中的内存管理

    +   历史概览

    +   NumPy 中可配置的内存例程（NEP 49）

    +   如果没有设置策略，则释放内存时会发生什么

    +   使用 `np.lib.tracemalloc_domain` 进行内存跟踪的示例
