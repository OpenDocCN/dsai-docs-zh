- en: What’s new in 1.3.4 (October 17, 2021)
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://pandas.pydata.org/docs/whatsnew/v1.3.4.html](https://pandas.pydata.org/docs/whatsnew/v1.3.4.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: These are the changes in pandas 1.3.4\. See [Release notes](index.html#release)
    for a full changelog including other versions of pandas.
  prefs: []
  type: TYPE_NORMAL
- en: '## Fixed regressions'
  prefs: []
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes") incorrectly converts byte strings to strings
    ([GH 43183](https://github.com/pandas-dev/pandas/issues/43183))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") and [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") were failing silently with mixed data
    types along `axis=1` and [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 43209](https://github.com/pandas-dev/pandas/issues/43209))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge") with integer and `NaN` keys failing with `outer` merge ([GH 43550](https://github.com/pandas-dev/pandas/issues/43550))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") raising `ValueError` with `method="spearman"` on 32-bit
    platforms ([GH 43588](https://github.com/pandas-dev/pandas/issues/43588))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed performance regression in `MultiIndex.equals()` ([GH 43549](https://github.com/pandas-dev/pandas/issues/43549))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed performance regression in [`DataFrameGroupBy.first()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.first.html#pandas.core.groupby.DataFrameGroupBy.first
    "pandas.core.groupby.DataFrameGroupBy.first"), [`SeriesGroupBy.first()`](../reference/api/pandas.core.groupby.SeriesGroupBy.first.html#pandas.core.groupby.SeriesGroupBy.first
    "pandas.core.groupby.SeriesGroupBy.first"), [`DataFrameGroupBy.last()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.last.html#pandas.core.groupby.DataFrameGroupBy.last
    "pandas.core.groupby.DataFrameGroupBy.last"), and [`SeriesGroupBy.last()`](../reference/api/pandas.core.groupby.SeriesGroupBy.last.html#pandas.core.groupby.SeriesGroupBy.last
    "pandas.core.groupby.SeriesGroupBy.last") with [`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype") ([GH 41596](https://github.com/pandas-dev/pandas/issues/41596))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`Series.cat.reorder_categories()`](../reference/api/pandas.Series.cat.reorder_categories.html#pandas.Series.cat.reorder_categories
    "pandas.Series.cat.reorder_categories") failing to update the categories on the
    `Series` ([GH 43232](https://github.com/pandas-dev/pandas/issues/43232))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`Series.cat.categories()`](../reference/api/pandas.Series.cat.categories.html#pandas.Series.cat.categories
    "pandas.Series.cat.categories") setter failing to update the categories on the
    `Series` ([GH 43334](https://github.com/pandas-dev/pandas/issues/43334))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") raising `UnicodeDecodeError` exception when `memory_map=True`
    ([GH 43540](https://github.com/pandas-dev/pandas/issues/43540))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrame.explode()`](../reference/api/pandas.DataFrame.explode.html#pandas.DataFrame.explode
    "pandas.DataFrame.explode") raising `AssertionError` when `column` is any scalar
    which is not a string ([GH 43314](https://github.com/pandas-dev/pandas/issues/43314))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`Series.aggregate()`](../reference/api/pandas.Series.aggregate.html#pandas.Series.aggregate
    "pandas.Series.aggregate") attempting to pass `args` and `kwargs` multiple times
    to the user supplied `func` in certain cases ([GH 43357](https://github.com/pandas-dev/pandas/issues/43357))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression when iterating over a `DataFrame.groupby.rolling` object causing
    the resulting DataFrames to have an incorrect index if the input groupings were
    not sorted ([GH 43386](https://github.com/pandas-dev/pandas/issues/43386))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Fixed regression in `DataFrame.groupby.rolling.cov()` and `DataFrame.groupby.rolling.corr()`
    computing incorrect results if the input groupings were not sorted ([GH 43386](https://github.com/pandas-dev/pandas/issues/43386))  ##
    Bug fixes'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in `pandas.DataFrame.groupby.rolling()` and [`pandas.api.indexers.FixedForwardWindowIndexer`](../reference/api/pandas.api.indexers.FixedForwardWindowIndexer.html#pandas.api.indexers.FixedForwardWindowIndexer
    "pandas.api.indexers.FixedForwardWindowIndexer") leading to segfaults and window
    endpoints being mixed across groups ([GH 43267](https://github.com/pandas-dev/pandas/issues/43267))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean") and [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean") with datetimelike values including `NaT`
    values returning incorrect results ([GH 43132](https://github.com/pandas-dev/pandas/issues/43132))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`Series.aggregate()`](../reference/api/pandas.Series.aggregate.html#pandas.Series.aggregate
    "pandas.Series.aggregate") not passing the first `args` to the user supplied `func`
    in certain cases ([GH 43357](https://github.com/pandas-dev/pandas/issues/43357))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Fixed memory leaks in `Series.rolling.quantile()` and `Series.rolling.median()`
    ([GH 43339](https://github.com/pandas-dev/pandas/issues/43339))  ## Other'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The minimum version of Cython needed to compile pandas is now `0.29.24` ([GH
    43729](https://github.com/pandas-dev/pandas/issues/43729))  ## Contributors'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A total of 17 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  prefs: []
  type: TYPE_NORMAL
- en: Alexey Györi +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: DSM
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Irv Lustig
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Jeff Reback
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Julien de la Bruère-T +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matthew Zeitlin
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: MeeseeksMachine
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pandas Development Team
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Patrick Hoefler
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Richard Shadrach
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Shoham Debnath
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Simon Hawkins
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thomas Li
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: aptalca +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: jbrockmendel
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: michal-gh +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'realead  ## Fixed regressions'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes") incorrectly converts byte strings to strings
    ([GH 43183](https://github.com/pandas-dev/pandas/issues/43183))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") and [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") were failing silently with mixed data
    types along `axis=1` and [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 43209](https://github.com/pandas-dev/pandas/issues/43209))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge") with integer and `NaN` keys failing with `outer` merge ([GH 43550](https://github.com/pandas-dev/pandas/issues/43550))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") raising `ValueError` with `method="spearman"` on 32-bit
    platforms ([GH 43588](https://github.com/pandas-dev/pandas/issues/43588))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed performance regression in `MultiIndex.equals()` ([GH 43549](https://github.com/pandas-dev/pandas/issues/43549))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed performance regression in [`DataFrameGroupBy.first()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.first.html#pandas.core.groupby.DataFrameGroupBy.first
    "pandas.core.groupby.DataFrameGroupBy.first"), [`SeriesGroupBy.first()`](../reference/api/pandas.core.groupby.SeriesGroupBy.first.html#pandas.core.groupby.SeriesGroupBy.first
    "pandas.core.groupby.SeriesGroupBy.first"), [`DataFrameGroupBy.last()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.last.html#pandas.core.groupby.DataFrameGroupBy.last
    "pandas.core.groupby.DataFrameGroupBy.last"), and [`SeriesGroupBy.last()`](../reference/api/pandas.core.groupby.SeriesGroupBy.last.html#pandas.core.groupby.SeriesGroupBy.last
    "pandas.core.groupby.SeriesGroupBy.last") with [`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype") ([GH 41596](https://github.com/pandas-dev/pandas/issues/41596))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`Series.cat.reorder_categories()`](../reference/api/pandas.Series.cat.reorder_categories.html#pandas.Series.cat.reorder_categories
    "pandas.Series.cat.reorder_categories") failing to update the categories on the
    `Series` ([GH 43232](https://github.com/pandas-dev/pandas/issues/43232))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`Series.cat.categories()`](../reference/api/pandas.Series.cat.categories.html#pandas.Series.cat.categories
    "pandas.Series.cat.categories") setter failing to update the categories on the
    `Series` ([GH 43334](https://github.com/pandas-dev/pandas/issues/43334))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") raising `UnicodeDecodeError` exception when `memory_map=True`
    ([GH 43540](https://github.com/pandas-dev/pandas/issues/43540))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrame.explode()`](../reference/api/pandas.DataFrame.explode.html#pandas.DataFrame.explode
    "pandas.DataFrame.explode") raising `AssertionError` when `column` is any scalar
    which is not a string ([GH 43314](https://github.com/pandas-dev/pandas/issues/43314))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`Series.aggregate()`](../reference/api/pandas.Series.aggregate.html#pandas.Series.aggregate
    "pandas.Series.aggregate") attempting to pass `args` and `kwargs` multiple times
    to the user supplied `func` in certain cases ([GH 43357](https://github.com/pandas-dev/pandas/issues/43357))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression when iterating over a `DataFrame.groupby.rolling` object causing
    the resulting DataFrames to have an incorrect index if the input groupings were
    not sorted ([GH 43386](https://github.com/pandas-dev/pandas/issues/43386))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in `DataFrame.groupby.rolling.cov()` and `DataFrame.groupby.rolling.corr()`
    computing incorrect results if the input groupings were not sorted ([GH 43386](https://github.com/pandas-dev/pandas/issues/43386))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Bug fixes'
  prefs: []
  type: TYPE_NORMAL
- en: Fixed bug in `pandas.DataFrame.groupby.rolling()` and [`pandas.api.indexers.FixedForwardWindowIndexer`](../reference/api/pandas.api.indexers.FixedForwardWindowIndexer.html#pandas.api.indexers.FixedForwardWindowIndexer
    "pandas.api.indexers.FixedForwardWindowIndexer") leading to segfaults and window
    endpoints being mixed across groups ([GH 43267](https://github.com/pandas-dev/pandas/issues/43267))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean") and [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean") with datetimelike values including `NaT`
    values returning incorrect results ([GH 43132](https://github.com/pandas-dev/pandas/issues/43132))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug in [`Series.aggregate()`](../reference/api/pandas.Series.aggregate.html#pandas.Series.aggregate
    "pandas.Series.aggregate") not passing the first `args` to the user supplied `func`
    in certain cases ([GH 43357](https://github.com/pandas-dev/pandas/issues/43357))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed memory leaks in `Series.rolling.quantile()` and `Series.rolling.median()`
    ([GH 43339](https://github.com/pandas-dev/pandas/issues/43339))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Other'
  prefs: []
  type: TYPE_NORMAL
- en: The minimum version of Cython needed to compile pandas is now `0.29.24` ([GH
    43729](https://github.com/pandas-dev/pandas/issues/43729))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Contributors'
  prefs: []
  type: TYPE_NORMAL
- en: A total of 17 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  prefs: []
  type: TYPE_NORMAL
- en: Alexey Györi +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: DSM
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Irv Lustig
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Jeff Reback
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Julien de la Bruère-T +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matthew Zeitlin
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: MeeseeksMachine
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pandas Development Team
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Patrick Hoefler
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Richard Shadrach
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Shoham Debnath
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Simon Hawkins
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thomas Li
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: aptalca +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: jbrockmendel
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: michal-gh +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: realead
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
