- en: What’s new in 1.3.3 (September 12, 2021)
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://pandas.pydata.org/docs/whatsnew/v1.3.3.html](https://pandas.pydata.org/docs/whatsnew/v1.3.3.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: These are the changes in pandas 1.3.3\. See [Release notes](index.html#release)
    for a full changelog including other versions of pandas.
  prefs: []
  type: TYPE_NORMAL
- en: '## Fixed regressions'
  prefs: []
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor failing to broadcast for defined [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") and len one list of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") ([GH 42810](https://github.com/pandas-dev/pandas/issues/42810))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") and [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") incorrectly raising in some cases ([GH
    42390](https://github.com/pandas-dev/pandas/issues/42390))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") and [`SeriesGroupBy.apply()`](../reference/api/pandas.core.groupby.SeriesGroupBy.apply.html#pandas.core.groupby.SeriesGroupBy.apply
    "pandas.core.groupby.SeriesGroupBy.apply") where `nan` values were dropped even
    with `dropna=False` ([GH 43205](https://github.com/pandas-dev/pandas/issues/43205))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrameGroupBy.quantile()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile
    "pandas.core.groupby.DataFrameGroupBy.quantile") and [`SeriesGroupBy.quantile()`](../reference/api/pandas.core.groupby.SeriesGroupBy.quantile.html#pandas.core.groupby.SeriesGroupBy.quantile
    "pandas.core.groupby.SeriesGroupBy.quantile") which were failing with `pandas.NA`
    ([GH 42849](https://github.com/pandas-dev/pandas/issues/42849))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge") where `on` columns with `ExtensionDtype` or `bool` data types
    were cast to `object` in `right` and `outer` merge ([GH 40073](https://github.com/pandas-dev/pandas/issues/40073))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in `RangeIndex.where()` and `RangeIndex.putmask()` raising
    `AssertionError` when result did not represent a [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex
    "pandas.RangeIndex") ([GH 43240](https://github.com/pandas-dev/pandas/issues/43240))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`read_parquet()`](../reference/api/pandas.read_parquet.html#pandas.read_parquet
    "pandas.read_parquet") where the `fastparquet` engine would not work properly
    with fastparquet 0.7.0 ([GH 43075](https://github.com/pandas-dev/pandas/issues/43075))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in `DataFrame.loc.__setitem__()` raising `ValueError` when
    setting array as cell value ([GH 43422](https://github.com/pandas-dev/pandas/issues/43422))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in `is_list_like()` where objects with `__iter__` set to `None`
    would be identified as iterable ([GH 43373](https://github.com/pandas-dev/pandas/issues/43373))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in `DataFrame.__getitem__()` raising error for slice of [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") when index is non monotonic ([GH 43223](https://github.com/pandas-dev/pandas/issues/43223))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`Resampler.aggregate()`](../reference/api/pandas.core.resample.Resampler.aggregate.html#pandas.core.resample.Resampler.aggregate
    "pandas.core.resample.Resampler.aggregate") when used after column selection would
    raise if `func` is a list of aggregation functions ([GH 42905](https://github.com/pandas-dev/pandas/issues/42905))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") where Kendall correlation would produce incorrect results
    for columns with repeated values ([GH 43401](https://github.com/pandas-dev/pandas/issues/43401))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") where aggregation on columns with object types dropped
    results on those columns ([GH 42395](https://github.com/pandas-dev/pandas/issues/42395),
    [GH 43108](https://github.com/pandas-dev/pandas/issues/43108))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") raising `TypeError` when filling `float` `Series` with
    list-like fill value having a dtype which couldn’t cast lostlessly (like `float32`
    filled with `float64`) ([GH 43424](https://github.com/pandas-dev/pandas/issues/43424))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") raising `AttributeError` when the file handle is an `tempfile.SpooledTemporaryFile`
    object ([GH 43439](https://github.com/pandas-dev/pandas/issues/43439))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Fixed performance regression in [`core.window.ewm.ExponentialMovingWindow.mean()`](../reference/api/pandas.core.window.ewm.ExponentialMovingWindow.mean.html#pandas.core.window.ewm.ExponentialMovingWindow.mean
    "pandas.core.window.ewm.ExponentialMovingWindow.mean") ([GH 42333](https://github.com/pandas-dev/pandas/issues/42333))  ##
    Performance improvements'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Performance improvement for `DataFrame.__setitem__()` when the key or value
    is not a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame"), or key is not list-like ([GH 43274](https://github.com/pandas-dev/pandas/issues/43274))  ##
    Bug fixes'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Fixed bug in [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") and [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") with `engine="numba"` where
    `index` data was not being correctly passed into `func` ([GH 43133](https://github.com/pandas-dev/pandas/issues/43133))  ##
    Contributors'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A total of 18 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  prefs: []
  type: TYPE_NORMAL
- en: Ali McMaster
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Irv Lustig
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matthew Roeschke
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matthew Zeitlin
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: MeeseeksMachine
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pandas Development Team
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Patrick Hoefler
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Prerana Chakraborty +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Richard Shadrach
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Shoham Debnath
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Simon Hawkins
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thomas Li
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Torsten Wörtwein
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Zach Rait +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: aiudirog +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: attack68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: jbrockmendel
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'suoniq +  ## Fixed regressions'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor failing to broadcast for defined [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") and len one list of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") ([GH 42810](https://github.com/pandas-dev/pandas/issues/42810))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") and [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") incorrectly raising in some cases ([GH
    42390](https://github.com/pandas-dev/pandas/issues/42390))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") and [`SeriesGroupBy.apply()`](../reference/api/pandas.core.groupby.SeriesGroupBy.apply.html#pandas.core.groupby.SeriesGroupBy.apply
    "pandas.core.groupby.SeriesGroupBy.apply") where `nan` values were dropped even
    with `dropna=False` ([GH 43205](https://github.com/pandas-dev/pandas/issues/43205))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrameGroupBy.quantile()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile
    "pandas.core.groupby.DataFrameGroupBy.quantile") and [`SeriesGroupBy.quantile()`](../reference/api/pandas.core.groupby.SeriesGroupBy.quantile.html#pandas.core.groupby.SeriesGroupBy.quantile
    "pandas.core.groupby.SeriesGroupBy.quantile") which were failing with `pandas.NA`
    ([GH 42849](https://github.com/pandas-dev/pandas/issues/42849))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge") where `on` columns with `ExtensionDtype` or `bool` data types
    were cast to `object` in `right` and `outer` merge ([GH 40073](https://github.com/pandas-dev/pandas/issues/40073))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in `RangeIndex.where()` and `RangeIndex.putmask()` raising
    `AssertionError` when result did not represent a [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex
    "pandas.RangeIndex") ([GH 43240](https://github.com/pandas-dev/pandas/issues/43240))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`read_parquet()`](../reference/api/pandas.read_parquet.html#pandas.read_parquet
    "pandas.read_parquet") where the `fastparquet` engine would not work properly
    with fastparquet 0.7.0 ([GH 43075](https://github.com/pandas-dev/pandas/issues/43075))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in `DataFrame.loc.__setitem__()` raising `ValueError` when
    setting array as cell value ([GH 43422](https://github.com/pandas-dev/pandas/issues/43422))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in `is_list_like()` where objects with `__iter__` set to `None`
    would be identified as iterable ([GH 43373](https://github.com/pandas-dev/pandas/issues/43373))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in `DataFrame.__getitem__()` raising error for slice of [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") when index is non monotonic ([GH 43223](https://github.com/pandas-dev/pandas/issues/43223))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`Resampler.aggregate()`](../reference/api/pandas.core.resample.Resampler.aggregate.html#pandas.core.resample.Resampler.aggregate
    "pandas.core.resample.Resampler.aggregate") when used after column selection would
    raise if `func` is a list of aggregation functions ([GH 42905](https://github.com/pandas-dev/pandas/issues/42905))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") where Kendall correlation would produce incorrect results
    for columns with repeated values ([GH 43401](https://github.com/pandas-dev/pandas/issues/43401))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") where aggregation on columns with object types dropped
    results on those columns ([GH 42395](https://github.com/pandas-dev/pandas/issues/42395),
    [GH 43108](https://github.com/pandas-dev/pandas/issues/43108))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") raising `TypeError` when filling `float` `Series` with
    list-like fill value having a dtype which couldn’t cast lostlessly (like `float32`
    filled with `float64`) ([GH 43424](https://github.com/pandas-dev/pandas/issues/43424))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") raising `AttributeError` when the file handle is an `tempfile.SpooledTemporaryFile`
    object ([GH 43439](https://github.com/pandas-dev/pandas/issues/43439))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed performance regression in [`core.window.ewm.ExponentialMovingWindow.mean()`](../reference/api/pandas.core.window.ewm.ExponentialMovingWindow.mean.html#pandas.core.window.ewm.ExponentialMovingWindow.mean
    "pandas.core.window.ewm.ExponentialMovingWindow.mean") ([GH 42333](https://github.com/pandas-dev/pandas/issues/42333))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Performance improvements'
  prefs: []
  type: TYPE_NORMAL
- en: Performance improvement for `DataFrame.__setitem__()` when the key or value
    is not a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame"), or key is not list-like ([GH 43274](https://github.com/pandas-dev/pandas/issues/43274))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Bug fixes'
  prefs: []
  type: TYPE_NORMAL
- en: Fixed bug in [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") and [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") with `engine="numba"` where
    `index` data was not being correctly passed into `func` ([GH 43133](https://github.com/pandas-dev/pandas/issues/43133))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Contributors'
  prefs: []
  type: TYPE_NORMAL
- en: A total of 18 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  prefs: []
  type: TYPE_NORMAL
- en: Ali McMaster
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Irv Lustig
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matthew Roeschke
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matthew Zeitlin
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: MeeseeksMachine
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pandas Development Team
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Patrick Hoefler
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Prerana Chakraborty +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Richard Shadrach
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Shoham Debnath
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Simon Hawkins
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thomas Li
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Torsten Wörtwein
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Zach Rait +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: aiudirog +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: attack68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: jbrockmendel
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: suoniq +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
