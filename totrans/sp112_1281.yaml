- en: scipy.stats.differential_entropy
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.differential_entropy.html#scipy.stats.differential_entropy](https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.differential_entropy.html#scipy.stats.differential_entropy)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Given a sample of a distribution, estimate the differential entropy.
  prefs: []
  type: TYPE_NORMAL
- en: Several estimation methods are available using the *method* parameter. By default,
    a method is selected based the size of the sample.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**values**sequence'
  prefs: []
  type: TYPE_NORMAL
- en: Sample from a continuous distribution.
  prefs: []
  type: TYPE_NORMAL
- en: '**window_length**int, optional'
  prefs: []
  type: TYPE_NORMAL
- en: Window length for computing Vasicek estimate. Must be an integer between 1 and
    half of the sample size. If `None` (the default), it uses the heuristic value
  prefs: []
  type: TYPE_NORMAL
- en: \[\left \lfloor \sqrt{n} + 0.5 \right \rfloor\]
  prefs: []
  type: TYPE_NORMAL
- en: where \(n\) is the sample size. This heuristic was originally proposed in [[2]](#raf58c91bd86c-2)
    and has become common in the literature.
  prefs: []
  type: TYPE_NORMAL
- en: '**base**float, optional'
  prefs: []
  type: TYPE_NORMAL
- en: The logarithmic base to use, defaults to `e` (natural logarithm).
  prefs: []
  type: TYPE_NORMAL
- en: '**axis**int or None, default: 0'
  prefs: []
  type: TYPE_NORMAL
- en: If an int, the axis of the input along which to compute the statistic. The statistic
    of each axis-slice (e.g. row) of the input will appear in a corresponding element
    of the output. If `None`, the input will be raveled before computing the statistic.
  prefs: []
  type: TYPE_NORMAL
- en: '**method**{‘vasicek’, ‘van es’, ‘ebrahimi’, ‘correa’, ‘auto’}, optional'
  prefs: []
  type: TYPE_NORMAL
- en: The method used to estimate the differential entropy from the sample. Default
    is `'auto'`. See Notes for more information.
  prefs: []
  type: TYPE_NORMAL
- en: '**nan_policy**{‘propagate’, ‘omit’, ‘raise’}'
  prefs: []
  type: TYPE_NORMAL
- en: Defines how to handle input NaNs.
  prefs: []
  type: TYPE_NORMAL
- en: '`propagate`: if a NaN is present in the axis slice (e.g. row) along which the
    statistic is computed, the corresponding entry of the output will be NaN.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`omit`: NaNs will be omitted when performing the calculation. If insufficient
    data remains in the axis slice along which the statistic is computed, the corresponding
    entry of the output will be NaN.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`raise`: if a NaN is present, a `ValueError` will be raised.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**keepdims**bool, default: False'
  prefs: []
  type: TYPE_NORMAL
- en: If this is set to True, the axes which are reduced are left in the result as
    dimensions with size one. With this option, the result will broadcast correctly
    against the input array.
  prefs: []
  type: TYPE_NORMAL
- en: 'Returns:'
  prefs: []
  type: TYPE_NORMAL
- en: '**entropy**float'
  prefs: []
  type: TYPE_NORMAL
- en: The calculated differential entropy.
  prefs: []
  type: TYPE_NORMAL
- en: Notes
  prefs: []
  type: TYPE_NORMAL
- en: This function will converge to the true differential entropy in the limit
  prefs: []
  type: TYPE_NORMAL
- en: \[n \to \infty, \quad m \to \infty, \quad \frac{m}{n} \to 0\]
  prefs: []
  type: TYPE_NORMAL
- en: The optimal choice of `window_length` for a given sample size depends on the
    (unknown) distribution. Typically, the smoother the density of the distribution,
    the larger the optimal value of `window_length` [[1]](#raf58c91bd86c-1).
  prefs: []
  type: TYPE_NORMAL
- en: The following options are available for the *method* parameter.
  prefs: []
  type: TYPE_NORMAL
- en: '`''vasicek''` uses the estimator presented in [[1]](#raf58c91bd86c-1). This
    is one of the first and most influential estimators of differential entropy.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`''van es''` uses the bias-corrected estimator presented in [[3]](#raf58c91bd86c-3),
    which is not only consistent but, under some conditions, asymptotically normal.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`''ebrahimi''` uses an estimator presented in [[4]](#raf58c91bd86c-4), which
    was shown in simulation to have smaller bias and mean squared error than the Vasicek
    estimator.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`''correa''` uses the estimator presented in [[5]](#raf58c91bd86c-5) based
    on local linear regression. In a simulation study, it had consistently smaller
    mean square error than the Vasiceck estimator, but it is more expensive to compute.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`''auto''` selects the method automatically (default). Currently, this selects
    `''van es''` for very small samples (<10), `''ebrahimi''` for moderate sample
    sizes (11-1000), and `''vasicek''` for larger samples, but this behavior is subject
    to change in future versions.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: All estimators are implemented as described in [[6]](#raf58c91bd86c-6).
  prefs: []
  type: TYPE_NORMAL
- en: Beginning in SciPy 1.9, `np.matrix` inputs (not recommended for new code) are
    converted to `np.ndarray` before the calculation is performed. In this case, the
    output will be a scalar or `np.ndarray` of appropriate shape rather than a 2D
    `np.matrix`. Similarly, while masked elements of masked arrays are ignored, the
    output will be a scalar or `np.ndarray` rather than a masked array with `mask=False`.
  prefs: []
  type: TYPE_NORMAL
- en: References
  prefs: []
  type: TYPE_NORMAL
- en: '[1] ([1](#id2),[2](#id3))'
  prefs: []
  type: TYPE_NORMAL
- en: 'Vasicek, O. (1976). A test for normality based on sample entropy. Journal of
    the Royal Statistical Society: Series B (Methodological), 38(1), 54-59.'
  prefs: []
  type: TYPE_NORMAL
- en: '[[2](#id1)]'
  prefs: []
  type: TYPE_NORMAL
- en: Crzcgorzewski, P., & Wirczorkowski, R. (1999). Entropy-based goodness-of-fit
    test for exponentiality. Communications in Statistics-Theory and Methods, 28(5),
    1183-1202.
  prefs: []
  type: TYPE_NORMAL
- en: '[[3](#id4)]'
  prefs: []
  type: TYPE_NORMAL
- en: Van Es, B. (1992). Estimating functionals related to a density by a class of
    statistics based on spacings. Scandinavian Journal of Statistics, 61-72.
  prefs: []
  type: TYPE_NORMAL
- en: '[[4](#id5)]'
  prefs: []
  type: TYPE_NORMAL
- en: Ebrahimi, N., Pflughoeft, K., & Soofi, E. S. (1994). Two measures of sample
    entropy. Statistics & Probability Letters, 20(3), 225-234.
  prefs: []
  type: TYPE_NORMAL
- en: '[[5](#id6)]'
  prefs: []
  type: TYPE_NORMAL
- en: Correa, J. C. (1995). A new estimator of entropy. Communications in Statistics-Theory
    and Methods, 24(10), 2439-2449.
  prefs: []
  type: TYPE_NORMAL
- en: '[[6](#id7)]'
  prefs: []
  type: TYPE_NORMAL
- en: Noughabi, H. A. (2015). Entropy Estimation Using Numerical Methods. Annals of
    Data Science, 2(2), 231-241. [https://link.springer.com/article/10.1007/s40745-015-0045-9](https://link.springer.com/article/10.1007/s40745-015-0045-9)
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Entropy of a standard normal distribution:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'Compare with the true entropy:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: For several sample sizes between 5 and 1000, compare the accuracy of the `'vasicek'`,
    `'van es'`, and `'ebrahimi'` methods. Specifically, compare the root mean squared
    error (over 1000 trials) between the estimate and the true differential entropy
    of the distribution.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '![../../_images/scipy-stats-differential_entropy-1.png](../Images/63ebbb7c813924ccef260ee2ad5fb94b.png)'
  prefs: []
  type: TYPE_IMG
