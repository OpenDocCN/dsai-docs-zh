- en: scipy.stats.shapiro
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: scipy.stats.shapiro
- en: Original text：[https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.shapiro.html#scipy.stats.shapiro](https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.shapiro.html#scipy.stats.shapiro)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文链接：[https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.shapiro.html#scipy.stats.shapiro](https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.shapiro.html#scipy.stats.shapiro)
- en: '[PRE0]'
  id: totrans-2
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Perform the Shapiro-Wilk test for normality.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 执行Shapiro-Wilk正态性检验。
- en: The Shapiro-Wilk test tests the null hypothesis that the data was drawn from
    a normal distribution.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '**Shapiro-Wilk测试**检验的零假设是数据来自正态分布。'
- en: 'Parameters:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 参数：
- en: '**x**array_like'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '**x**array_like'
- en: Array of sample data.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 样本数据数组。
- en: 'Returns:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 返回：
- en: '**statistic**float'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '**统计量**float'
- en: The test statistic.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 检验统计量。
- en: '**p-value**float'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '**P值**float'
- en: The p-value for the hypothesis test.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 假设检验的P值。
- en: See also
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 另请参见
- en: '[`anderson`](scipy.stats.anderson.html#scipy.stats.anderson "scipy.stats.anderson")'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[`anderson`](scipy.stats.anderson.html#scipy.stats.anderson "scipy.stats.anderson")'
- en: The Anderson-Darling test for normality
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: Anderson-Darling正态性检验
- en: '[`kstest`](scipy.stats.kstest.html#scipy.stats.kstest "scipy.stats.kstest")'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[`kstest`](scipy.stats.kstest.html#scipy.stats.kstest "scipy.stats.kstest")'
- en: The Kolmogorov-Smirnov test for goodness of fit.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: Kolmogorov-Smirnov拟合优度检验。
- en: Notes
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 注意事项
- en: The algorithm used is described in [[4]](#r06d6d75f824a-4) but censoring parameters
    as described are not implemented. For N > 5000 the W test statistic is accurate,
    but the p-value may not be.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 描述的算法见[[4]](#r06d6d75f824a-4)，但未实现所述的参数审查。对于N > 5000，W测试统计量是准确的，但P值可能不准确。
- en: References
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 参考文献
- en: '[[1](#id9)]'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '[[1](#id9)]'
- en: '[https://www.itl.nist.gov/div898/handbook/prc/section2/prc213.htm](https://www.itl.nist.gov/div898/handbook/prc/section2/prc213.htm)
    [DOI:10.18434/M32189](https://doi.org/10.18434/M32189)'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://www.itl.nist.gov/div898/handbook/prc/section2/prc213.htm](https://www.itl.nist.gov/div898/handbook/prc/section2/prc213.htm)
    [DOI:10.18434/M32189](https://doi.org/10.18434/M32189)'
- en: '[2] ([1](#id8),[2](#id10))'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '[2] ([1](#id8),[2](#id10))'
- en: Shapiro, S. S. & Wilk, M.B, “An analysis of variance test for normality (complete
    samples)”, Biometrika, 1965, Vol. 52, pp. 591-611, [DOI:10.2307/2333709](https://doi.org/10.2307/2333709)
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: Shapiro, S. S. & Wilk, M.B, “方差分析正态性检验（完全样本）”，1965年，《生物统计学》，第52卷，第591-611页，[DOI:10.2307/2333709](https://doi.org/10.2307/2333709)
- en: '[3]'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '[3]'
- en: Razali, N. M. & Wah, Y. B., “Power comparisons of Shapiro-Wilk, Kolmogorov-Smirnov,
    Lilliefors and Anderson-Darling tests”, Journal of Statistical Modeling and Analytics,
    2011, Vol. 2, pp. 21-33.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: Razali, N. M. & Wah, Y. B., “Shapiro-Wilk、Kolmogorov-Smirnov、Lilliefors和Anderson-Darling测试的功效比较”，2011年，《统计建模与分析杂志》，第2卷，第21-33页。
- en: '[[4](#id1)]'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '[[4](#id1)]'
- en: 'Royston P., “Remark AS R94: A Remark on Algorithm AS 181: The W-test for Normality”,
    1995, Applied Statistics, Vol. 44, [DOI:10.2307/2986146](https://doi.org/10.2307/2986146)'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 'Royston P., “备注AS R94: 关于算法AS 181的备注：W-测试用于正态性”，1995年，《应用统计学》，第44卷，[DOI:10.2307/2986146](https://doi.org/10.2307/2986146)'
- en: '[[5](#id11)]'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '[[5](#id11)]'
- en: 'Phipson B., and Smyth, G. K., “Permutation P-values Should Never Be Zero: Calculating
    Exact P-values When Permutations Are Randomly Drawn”, Statistical Applications
    in Genetics and Molecular Biology, 2010, Vol.9, [DOI:10.2202/1544-6115.1585](https://doi.org/10.2202/1544-6115.1585)'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: Phipson B., and Smyth, G. K., “当排列随机抽取时，置换P值不应为零：计算精确P值”，2010年，《统计应用于遗传学和分子生物学》，第9卷，[DOI:10.2202/1544-6115.1585](https://doi.org/10.2202/1544-6115.1585)
- en: '[6]'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '[6]'
- en: Panagiotakos, D. B., “The value of p-value in biomedical research”, The Open
    Cardiovascular Medicine Journal, 2008, Vol.2, pp. 97-99, [DOI:10.2174/1874192400802010097](https://doi.org/10.2174/1874192400802010097)
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: Panagiotakos, D. B., “在生物医学研究中P值的价值”，《开放心血管医学杂志》，2008年，第2卷，第97-99页，[DOI:10.2174/1874192400802010097](https://doi.org/10.2174/1874192400802010097)
- en: Examples
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 示例
- en: Suppose we wish to infer from measurements whether the weights of adult human
    males in a medical study are not normally distributed [[2]](#r06d6d75f824a-2).
    The weights (lbs) are recorded in the array `x` below.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们希望根据测量数据推断医学研究中成年男性体重是否不服从正态分布[[2]](#r06d6d75f824a-2)。以下是记录在数组`x`中的成年男性体重（磅）。
- en: '[PRE1]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The normality test of [[1]](#r06d6d75f824a-1) and [[2]](#r06d6d75f824a-2) begins
    by computing a statistic based on the relationship between the observations and
    the expected order statistics of a normal distribution.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '[[1]](#r06d6d75f824a-1)和[[2]](#r06d6d75f824a-2)的正态性检验首先基于观测值与正态分布的预期顺序统计量之间的关系计算统计量。'
- en: '[PRE2]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The value of this statistic tends to be high (close to 1) for samples drawn
    from a normal distribution.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 该统计量的值对于从正态分布中抽取的样本趋于高（接近1）。
- en: 'The test is performed by comparing the observed value of the statistic against
    the null distribution: the distribution of statistic values formed under the null
    hypothesis that the weights were drawn from a normal distribution. For this normality
    test, the null distribution is not easy to calculate exactly, so it is usually
    approximated by Monte Carlo methods, that is, drawing many samples of the same
    size as `x` from a normal distribution and computing the values of the statistic
    for each.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 该检验通过比较统计量的观察值与零分布进行：统计值形成的分布在零假设下，即权重是从正态分布中抽取的。对于这个正态性检验，零分布不容易精确计算，因此通常通过蒙特卡罗方法来近似，即从一个与`x`相同大小的正态分布中抽取许多样本，并计算每个统计量的值。
- en: '[PRE3]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '![../../_images/scipy-stats-shapiro-1_00_00.png](../Images/c69619e66cf8e54d0e9ccb50d369a0ac.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![../../_images/scipy-stats-shapiro-1_00_00.png](../Images/c69619e66cf8e54d0e9ccb50d369a0ac.png)'
- en: 'The comparison is quantified by the p-value: the proportion of values in the
    null distribution less than or equal to the observed value of the statistic.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 比较由p值量化：零分布中小于或等于统计量观察值的值的比例。
- en: '[PRE4]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'If the p-value is “small” - that is, if there is a low probability of sampling
    data from a normally distributed population that produces such an extreme value
    of the statistic - this may be taken as evidence against the null hypothesis in
    favor of the alternative: the weights were not drawn from a normal distribution.
    Note that:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 如果p值“小” - 即从一个正态分布的总体中抽样数据，使得统计量的极端值的概率很低 - 这可能被视为反对零假设，支持备选假设：权重并非来自正态分布。注意：
- en: The inverse is not true; that is, the test is not used to provide evidence *for*
    the null hypothesis.
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 逆反是不成立的；也就是说，该检验并不用于为零假设提供证据。
- en: The threshold for values that will be considered “small” is a choice that should
    be made before the data is analyzed [[5]](#r06d6d75f824a-5) with consideration
    of the risks of both false positives (incorrectly rejecting the null hypothesis)
    and false negatives (failure to reject a false null hypothesis).
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 被视为“小”的值的阈值是在分析数据之前应作出的选择，考虑到假阳性（错误拒绝零假设）和假阴性（未能拒绝虚假的零假设）的风险 [[5]](#r06d6d75f824a-5)。
- en: '![../../_images/scipy-stats-shapiro-1_01_00.png](../Images/86073e4c1a2a04bffe8e17860f42791a.png)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![../../_images/scipy-stats-shapiro-1_01_00.png](../Images/86073e4c1a2a04bffe8e17860f42791a.png)'
