- en: What’s new in 1.3.0 (July 2, 2021)
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 1.3.0中的新内容（2021年7月2日）
- en: 原文：[https://pandas.pydata.org/docs/whatsnew/v1.3.0.html](https://pandas.pydata.org/docs/whatsnew/v1.3.0.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://pandas.pydata.org/docs/whatsnew/v1.3.0.html](https://pandas.pydata.org/docs/whatsnew/v1.3.0.html)
- en: These are the changes in pandas 1.3.0\. See [Release notes](index.html#release)
    for a full changelog including other versions of pandas.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是pandas 1.3.0的变化。 有关包括pandas其他版本的完整更改日志，请参阅[Release notes](index.html#release)。
- en: Warning
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: When reading new Excel 2007+ (`.xlsx`) files, the default argument `engine=None`
    to [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") will now result in using the [openpyxl](https://openpyxl.readthedocs.io/en/stable/)
    engine in all cases when the option `io.excel.xlsx.reader` is set to `"auto"`.
    Previously, some cases would use the [xlrd](https://xlrd.readthedocs.io/en/latest/)
    engine instead. See [What’s new 1.2.0](v1.2.0.html#whatsnew-120) for background
    on this change.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 当读取新的Excel 2007+（`.xlsx`）文件时，默认参数`engine=None`将在选项`io.excel.xlsx.reader`设置为`"auto"`时在所有情况下使用[openpyxl](https://openpyxl.readthedocs.io/en/stable/)引擎。
    以前，某些情况下将使用[xlrd](https://xlrd.readthedocs.io/en/latest/)引擎。 有关此更改的背景，请参阅[What’s
    new 1.2.0](v1.2.0.html#whatsnew-120)。
- en: '## Enhancements'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '## Enhancements'
- en: '### Custom HTTP(s) headers when reading csv or json files'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '### 读取csv或json文件时自定义HTTP(s)标头'
- en: 'When reading from a remote URL that is not handled by fsspec (e.g. HTTP and
    HTTPS) the dictionary passed to `storage_options` will be used to create the headers
    included in the request. This can be used to control the User-Agent header or
    send other custom headers ([GH 36688](https://github.com/pandas-dev/pandas/issues/36688)).
    For example:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 当从未由fsspec处理的远程URL（例如HTTP和HTTPS）读取时，将使用传递给`storage_options`的字典来创建包含在请求中的标头。
    这可用于控制User-Agent标头或发送其他自定义标头（[GH 36688](https://github.com/pandas-dev/pandas/issues/36688)）。例如：
- en: '[PRE0]  ### Read and write XML documents'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE0]  ### 读写XML文档'
- en: We added I/O support to read and render shallow versions of [XML](https://www.w3.org/standards/xml/core)
    documents with [`read_xml()`](../reference/api/pandas.read_xml.html#pandas.read_xml
    "pandas.read_xml") and [`DataFrame.to_xml()`](../reference/api/pandas.DataFrame.to_xml.html#pandas.DataFrame.to_xml
    "pandas.DataFrame.to_xml"). Using [lxml](https://lxml.de) as parser, both XPath
    1.0 and XSLT 1.0 are available. ([GH 27554](https://github.com/pandas-dev/pandas/issues/27554))
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 我们添加了对使用[`read_xml()`](../reference/api/pandas.read_xml.html#pandas.read_xml
    "pandas.read_xml")和[`DataFrame.to_xml()`](../reference/api/pandas.DataFrame.to_xml.html#pandas.DataFrame.to_xml
    "pandas.DataFrame.to_xml")读取和呈现浅版本的[XML](https://www.w3.org/standards/xml/core)文档的I/O支持。
    使用[lxml](https://lxml.de)作为解析器，XPath 1.0和XSLT 1.0都可用（[GH 27554](https://github.com/pandas-dev/pandas/issues/27554)）。
- en: '[PRE1]'
  id: totrans-10
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'For more, see [Writing XML](../user_guide/io.html#io-xml) in the user guide
    on IO tools.  ### Styler enhancements'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '更多内容，请参阅IO工具用户指南中的[Writing XML](../user_guide/io.html#io-xml)。  ### Styler增强'
- en: We provided some focused development on [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler"). See also the [Styler documentation](../user_guide/style.html)
    which has been revised and improved ([GH 39720](https://github.com/pandas-dev/pandas/issues/39720),
    [GH 39317](https://github.com/pandas-dev/pandas/issues/39317), [GH 40493](https://github.com/pandas-dev/pandas/issues/40493)).
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler")上进行了一些重点开发。请参阅已修订和改进的[Styler文档](../user_guide/style.html)（[GH
    39720](https://github.com/pandas-dev/pandas/issues/39720), [GH 39317](https://github.com/pandas-dev/pandas/issues/39317),
    [GH 40493](https://github.com/pandas-dev/pandas/issues/40493))。
- en: The method [`Styler.set_table_styles()`](../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles
    "pandas.io.formats.style.Styler.set_table_styles") can now accept more natural
    CSS language for arguments, such as `'color:red;'` instead of `[('color', 'red')]`
    ([GH 39563](https://github.com/pandas-dev/pandas/issues/39563))
  id: totrans-13
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法[`Styler.set_table_styles()`](../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles
    "pandas.io.formats.style.Styler.set_table_styles")现在可以接受更自然的CSS语言作为参数，例如`'color:red;'`而不是`[('color',
    'red')]`（[GH 39563](https://github.com/pandas-dev/pandas/issues/39563)）。
- en: ''
  id: totrans-14
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-15
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: The methods [`Styler.highlight_null()`](../reference/api/pandas.io.formats.style.Styler.highlight_null.html#pandas.io.formats.style.Styler.highlight_null
    "pandas.io.formats.style.Styler.highlight_null"), [`Styler.highlight_min()`](../reference/api/pandas.io.formats.style.Styler.highlight_min.html#pandas.io.formats.style.Styler.highlight_min
    "pandas.io.formats.style.Styler.highlight_min"), and [`Styler.highlight_max()`](../reference/api/pandas.io.formats.style.Styler.highlight_max.html#pandas.io.formats.style.Styler.highlight_max
    "pandas.io.formats.style.Styler.highlight_max") now allow custom CSS highlighting
    instead of the default background coloring ([GH 40242](https://github.com/pandas-dev/pandas/issues/40242))
  id: totrans-16
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法 [`Styler.highlight_null()`](../reference/api/pandas.io.formats.style.Styler.highlight_null.html#pandas.io.formats.style.Styler.highlight_null
    "pandas.io.formats.style.Styler.highlight_null")、[`Styler.highlight_min()`](../reference/api/pandas.io.formats.style.Styler.highlight_min.html#pandas.io.formats.style.Styler.highlight_min
    "pandas.io.formats.style.Styler.highlight_min") 和 [`Styler.highlight_max()`](../reference/api/pandas.io.formats.style.Styler.highlight_max.html#pandas.io.formats.style.Styler.highlight_max
    "pandas.io.formats.style.Styler.highlight_max") 现在允许自定义 CSS 高亮而不是默认的背景着色（[GH 40242](https://github.com/pandas-dev/pandas/issues/40242)）
- en: ''
  id: totrans-17
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-18
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '[`Styler.apply()`](../reference/api/pandas.io.formats.style.Styler.apply.html#pandas.io.formats.style.Styler.apply
    "pandas.io.formats.style.Styler.apply") now accepts functions that return an `ndarray`
    when `axis=None`, making it now consistent with the `axis=0` and `axis=1` behavior
    ([GH 39359](https://github.com/pandas-dev/pandas/issues/39359))'
  id: totrans-19
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.apply()`](../reference/api/pandas.io.formats.style.Styler.apply.html#pandas.io.formats.style.Styler.apply
    "pandas.io.formats.style.Styler.apply") 现在接受在 `axis=None` 时返回 `ndarray` 的函数，使其与
    `axis=0` 和 `axis=1` 的行为一致（[GH 39359](https://github.com/pandas-dev/pandas/issues/39359)）'
- en: ''
  id: totrans-20
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-21
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: When incorrectly formatted CSS is given via [`Styler.apply()`](../reference/api/pandas.io.formats.style.Styler.apply.html#pandas.io.formats.style.Styler.apply
    "pandas.io.formats.style.Styler.apply") or `Styler.applymap()`, an error is now
    raised upon rendering ([GH 39660](https://github.com/pandas-dev/pandas/issues/39660))
  id: totrans-22
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当通过 [`Styler.apply()`](../reference/api/pandas.io.formats.style.Styler.apply.html#pandas.io.formats.style.Styler.apply
    "pandas.io.formats.style.Styler.apply") 或 `Styler.applymap()` 提供格式不正确的 CSS 时，在渲染时现在会引发错误（[GH
    39660](https://github.com/pandas-dev/pandas/issues/39660)）
- en: ''
  id: totrans-23
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-24
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '[`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format") now accepts the keyword argument `escape`
    for optional HTML and LaTeX escaping ([GH 40388](https://github.com/pandas-dev/pandas/issues/40388),
    [GH 41619](https://github.com/pandas-dev/pandas/issues/41619))'
  id: totrans-25
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format") 现在接受关键字参数 `escape` 用于可选的 HTML 和 LaTeX
    转义（[GH 40388](https://github.com/pandas-dev/pandas/issues/40388), [GH 41619](https://github.com/pandas-dev/pandas/issues/41619)）'
- en: ''
  id: totrans-26
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-27
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '[`Styler.background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient") has gained the argument
    `gmap` to supply a specific gradient map for shading ([GH 22727](https://github.com/pandas-dev/pandas/issues/22727))'
  id: totrans-28
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient") 增加了参数 `gmap` 来提供特定的渐变映射进行着色（[GH
    22727](https://github.com/pandas-dev/pandas/issues/22727)）'
- en: ''
  id: totrans-29
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-30
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '[`Styler.clear()`](../reference/api/pandas.io.formats.style.Styler.clear.html#pandas.io.formats.style.Styler.clear
    "pandas.io.formats.style.Styler.clear") now clears `Styler.hidden_index` and `Styler.hidden_columns`
    as well ([GH 40484](https://github.com/pandas-dev/pandas/issues/40484))'
  id: totrans-31
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.clear()`](../reference/api/pandas.io.formats.style.Styler.clear.html#pandas.io.formats.style.Styler.clear
    "pandas.io.formats.style.Styler.clear") 现在还清除了 `Styler.hidden_index` 和 `Styler.hidden_columns`（[GH
    40484](https://github.com/pandas-dev/pandas/issues/40484)）'
- en: ''
  id: totrans-32
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-33
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.highlight_between()`](../reference/api/pandas.io.formats.style.Styler.highlight_between.html#pandas.io.formats.style.Styler.highlight_between
    "pandas.io.formats.style.Styler.highlight_between") ([GH 39821](https://github.com/pandas-dev/pandas/issues/39821))
  id: totrans-34
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法 [`Styler.highlight_between()`](../reference/api/pandas.io.formats.style.Styler.highlight_between.html#pandas.io.formats.style.Styler.highlight_between
    "pandas.io.formats.style.Styler.highlight_between")（[GH 39821](https://github.com/pandas-dev/pandas/issues/39821)）
- en: ''
  id: totrans-35
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-36
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.highlight_quantile()`](../reference/api/pandas.io.formats.style.Styler.highlight_quantile.html#pandas.io.formats.style.Styler.highlight_quantile
    "pandas.io.formats.style.Styler.highlight_quantile") ([GH 40926](https://github.com/pandas-dev/pandas/issues/40926))
  id: totrans-37
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法 [`Styler.highlight_quantile()`](../reference/api/pandas.io.formats.style.Styler.highlight_quantile.html#pandas.io.formats.style.Styler.highlight_quantile
    "pandas.io.formats.style.Styler.highlight_quantile")（[GH 40926](https://github.com/pandas-dev/pandas/issues/40926)）
- en: ''
  id: totrans-38
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-39
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.text_gradient()`](../reference/api/pandas.io.formats.style.Styler.text_gradient.html#pandas.io.formats.style.Styler.text_gradient
    "pandas.io.formats.style.Styler.text_gradient") ([GH 41098](https://github.com/pandas-dev/pandas/issues/41098))
  id: totrans-40
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法 [`Styler.text_gradient()`](../reference/api/pandas.io.formats.style.Styler.text_gradient.html#pandas.io.formats.style.Styler.text_gradient
    "pandas.io.formats.style.Styler.text_gradient") ([GH 41098](https://github.com/pandas-dev/pandas/issues/41098))
- en: ''
  id: totrans-41
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-42
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.set_tooltips()`](../reference/api/pandas.io.formats.style.Styler.set_tooltips.html#pandas.io.formats.style.Styler.set_tooltips
    "pandas.io.formats.style.Styler.set_tooltips") to allow hover tooltips; this can
    be used enhance interactive displays ([GH 21266](https://github.com/pandas-dev/pandas/issues/21266),
    [GH 40284](https://github.com/pandas-dev/pandas/issues/40284))
  id: totrans-43
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法 [`Styler.set_tooltips()`](../reference/api/pandas.io.formats.style.Styler.set_tooltips.html#pandas.io.formats.style.Styler.set_tooltips
    "pandas.io.formats.style.Styler.set_tooltips")，以允许悬停工具提示；这可以增强交互式显示 ([GH 21266](https://github.com/pandas-dev/pandas/issues/21266),
    [GH 40284](https://github.com/pandas-dev/pandas/issues/40284))
- en: ''
  id: totrans-44
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-45
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the parameter `precision` to the method [`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format") to control the display of floating point
    numbers ([GH 40134](https://github.com/pandas-dev/pandas/issues/40134))
  id: totrans-46
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了参数 `precision` 到方法 [`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format") 以控制浮点数的显示 ([GH 40134](https://github.com/pandas-dev/pandas/issues/40134))
- en: ''
  id: totrans-47
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-48
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") rendered HTML output now follows the [w3 HTML
    Style Guide](https://www.w3schools.com/html/html5_syntax.asp) ([GH 39626](https://github.com/pandas-dev/pandas/issues/39626))'
  id: totrans-49
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 渲染的 HTML 输出现在遵循 [w3 HTML Style Guide](https://www.w3schools.com/html/html5_syntax.asp)
    ([GH 39626](https://github.com/pandas-dev/pandas/issues/39626))'
- en: ''
  id: totrans-50
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-51
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Many features of the [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") class are now either partially or fully usable
    on a DataFrame with a non-unique indexes or columns ([GH 41143](https://github.com/pandas-dev/pandas/issues/41143))
  id: totrans-52
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 类的许多功能现在部分或完全可用于具有非唯一索引或列的 DataFrame ([GH 41143](https://github.com/pandas-dev/pandas/issues/41143))'
- en: ''
  id: totrans-53
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-54
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: One has greater control of the display through separate sparsification of the
    index or columns using the [new styler options](../user_guide/options.html#options-available),
    which are also usable via [`option_context()`](../reference/api/pandas.option_context.html#pandas.option_context
    "pandas.option_context") ([GH 41142](https://github.com/pandas-dev/pandas/issues/41142))
  id: totrans-55
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过分别对索引或列进行稀疏化使用 [new styler options](../user_guide/options.html#options-available)，可更好地控制显示，这些选项也可以通过
    [`option_context()`](../reference/api/pandas.option_context.html#pandas.option_context
    "pandas.option_context") 使用 ([GH 41142](https://github.com/pandas-dev/pandas/issues/41142))
- en: ''
  id: totrans-56
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-57
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the option `styler.render.max_elements` to avoid browser overload when
    styling large DataFrames ([GH 40712](https://github.com/pandas-dev/pandas/issues/40712))
  id: totrans-58
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了选项 `styler.render.max_elements`，以避免对大型 DataFrame 进行样式设置时浏览器过载 ([GH 40712](https://github.com/pandas-dev/pandas/issues/40712))
- en: ''
  id: totrans-59
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-60
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.to_latex()`](../reference/api/pandas.io.formats.style.Styler.to_latex.html#pandas.io.formats.style.Styler.to_latex
    "pandas.io.formats.style.Styler.to_latex") ([GH 21673](https://github.com/pandas-dev/pandas/issues/21673),
    [GH 42320](https://github.com/pandas-dev/pandas/issues/42320)), which also allows
    some limited CSS conversion ([GH 40731](https://github.com/pandas-dev/pandas/issues/40731))
  id: totrans-61
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法 [`Styler.to_latex()`](../reference/api/pandas.io.formats.style.Styler.to_latex.html#pandas.io.formats.style.Styler.to_latex
    "pandas.io.formats.style.Styler.to_latex") ([GH 21673](https://github.com/pandas-dev/pandas/issues/21673),
    [GH 42320](https://github.com/pandas-dev/pandas/issues/42320))，这也允许一些有限的 CSS 转换
    ([GH 40731](https://github.com/pandas-dev/pandas/issues/40731))
- en: ''
  id: totrans-62
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-63
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.to_html()`](../reference/api/pandas.io.formats.style.Styler.to_html.html#pandas.io.formats.style.Styler.to_html
    "pandas.io.formats.style.Styler.to_html") ([GH 13379](https://github.com/pandas-dev/pandas/issues/13379))
  id: totrans-64
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法 [`Styler.to_html()`](../reference/api/pandas.io.formats.style.Styler.to_html.html#pandas.io.formats.style.Styler.to_html
    "pandas.io.formats.style.Styler.to_html") ([GH 13379](https://github.com/pandas-dev/pandas/issues/13379))
- en: ''
  id: totrans-65
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-66
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Added the method [`Styler.set_sticky()`](../reference/api/pandas.io.formats.style.Styler.set_sticky.html#pandas.io.formats.style.Styler.set_sticky
    "pandas.io.formats.style.Styler.set_sticky") to make index and column headers
    permanently visible in scrolling HTML frames ([GH 29072](https://github.com/pandas-dev/pandas/issues/29072))  ###
    DataFrame constructor honors `copy=False` with dict'
  id: totrans-67
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '添加了方法 [`Styler.set_sticky()`](../reference/api/pandas.io.formats.style.Styler.set_sticky.html#pandas.io.formats.style.Styler.set_sticky
    "pandas.io.formats.style.Styler.set_sticky")，以使索引和列标题在滚动 HTML 框架中永久可见 ([GH 29072](https://github.com/pandas-dev/pandas/issues/29072))  ###
    DataFrame 构造函数遵循 `copy=False`'
- en: When passing a dictionary to [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `copy=False`, a copy will no longer be made ([GH 32960](https://github.com/pandas-dev/pandas/issues/32960)).
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 当将字典传递给 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 且 `copy=False` 时，将不再进行复制 ([GH 32960](https://github.com/pandas-dev/pandas/issues/32960))。
- en: '[PRE2]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '`df["A"]` remains a view on `arr`:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '`df["A"]` 仍然是 `arr` 的视图：'
- en: '[PRE3]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The default behavior when not passing `copy` will remain unchanged, i.e. a
    copy will be made.  ### PyArrow backed string data type'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 当未传递 `copy` 参数时，默认行为将保持不变，即会进行复制。### 基于 PyArrow 的字符串数据类型
- en: We’ve enhanced the [`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype"), an extension type dedicated to string data. ([GH 39908](https://github.com/pandas-dev/pandas/issues/39908))
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 我们增强了专门用于字符串数据的[`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype")，这是一个扩展类型。 ([GH 39908](https://github.com/pandas-dev/pandas/issues/39908))
- en: It is now possible to specify a `storage` keyword option to [`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype"). Use pandas options or specify the dtype using `dtype='string[pyarrow]'`
    to allow the StringArray to be backed by a PyArrow array instead of a NumPy array
    of Python objects.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 现在可以通过指定 `storage` 关键字选项给 [`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype") 添加特性。使用 pandas 选项或使用 `dtype='string[pyarrow]'` 指定 dtype，可以使
    StringArray 由 PyArrow 数组而不是由 NumPy 数组或 Python 对象支持。
- en: The PyArrow backed StringArray requires pyarrow 1.0.0 or greater to be installed.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: PyArrow 支持的 StringArray 需要安装 pyarrow 1.0.0 或更高版本。
- en: Warning
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: '`string[pyarrow]` is currently considered experimental. The implementation
    and parts of the API may change without warning.'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '`string[pyarrow]` 目前被视为实验性功能。实现和部分 API 可能会在无警告的情况下发生更改。'
- en: '[PRE4]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: You can use the alias `"string[pyarrow]"` as well.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可以使用别名 `"string[pyarrow]"`。
- en: '[PRE5]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: You can also create a PyArrow backed string array using pandas options.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以使用 pandas 选项创建基于 PyArrow 的字符串数组。
- en: '[PRE6]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The usual string accessor methods work. Where appropriate, the return type of
    the Series or columns of a DataFrame will also have string dtype.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 通常的字符串访问器方法有效。在适当的情况下，DataFrame 的 Series 或列的返回类型也将具有字符串 dtype。
- en: '[PRE7]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: String accessor methods returning integers will return a value with [`Int64Dtype`](../reference/api/pandas.Int64Dtype.html#pandas.Int64Dtype
    "pandas.Int64Dtype")
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 返回整数的字符串访问器方法将返回具有 [`Int64Dtype`](../reference/api/pandas.Int64Dtype.html#pandas.Int64Dtype
    "pandas.Int64Dtype") 的值。
- en: '[PRE8]  ### Centered datetime-like rolling windows'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE8]  ### 居中的日期时间滚动窗口'
- en: 'When performing rolling calculations on DataFrame and Series objects with a
    datetime-like index, a centered datetime-like window can now be used ([GH 38780](https://github.com/pandas-dev/pandas/issues/38780)).
    For example:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在 DataFrame 和 Series 对象上执行滚动计算时，现在可以使用居中的日期时间窗口 ([GH 38780](https://github.com/pandas-dev/pandas/issues/38780))。例如：
- en: '[PRE9]  ### Other enhancements'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE9]  ### 其他增强'
- en: '[`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling"), [`Series.rolling()`](../reference/api/pandas.Series.rolling.html#pandas.Series.rolling
    "pandas.Series.rolling"), [`DataFrame.expanding()`](../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding
    "pandas.DataFrame.expanding"), and [`Series.expanding()`](../reference/api/pandas.Series.expanding.html#pandas.Series.expanding
    "pandas.Series.expanding") now support a `method` argument with a `''table''`
    option that performs the windowing operation over an entire [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame"). See [Window Overview](../user_guide/window.html#window-overview)
    for performance and functional benefits ([GH 15095](https://github.com/pandas-dev/pandas/issues/15095),
    [GH 38995](https://github.com/pandas-dev/pandas/issues/38995))'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling")、[`Series.rolling()`](../reference/api/pandas.Series.rolling.html#pandas.Series.rolling
    "pandas.Series.rolling")、[`DataFrame.expanding()`](../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding
    "pandas.DataFrame.expanding") 和 [`Series.expanding()`](../reference/api/pandas.Series.expanding.html#pandas.Series.expanding
    "pandas.Series.expanding") 现在支持 `method` 参数，并提供了一个 `''table''` 选项，可对整个 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 执行窗口操作。参见[窗口概述](../user_guide/window.html#window-overview)以获取性能和功能上的优势（[GH
    15095](https://github.com/pandas-dev/pandas/issues/15095)，[GH 38995](https://github.com/pandas-dev/pandas/issues/38995)）'
- en: '`ExponentialMovingWindow` now support a `online` method that can perform `mean`
    calculations in an online fashion. See [Window Overview](../user_guide/window.html#window-overview)
    ([GH 41673](https://github.com/pandas-dev/pandas/issues/41673))'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExponentialMovingWindow` 现在支持一个 `online` 方法，可以以在线方式执行 `mean` 计算。参见[窗口概述](../user_guide/window.html#window-overview)（[GH
    41673](https://github.com/pandas-dev/pandas/issues/41673)）'
- en: Added [`MultiIndex.dtypes()`](../reference/api/pandas.MultiIndex.dtypes.html#pandas.MultiIndex.dtypes
    "pandas.MultiIndex.dtypes") ([GH 37062](https://github.com/pandas-dev/pandas/issues/37062))
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了 [`MultiIndex.dtypes()`](../reference/api/pandas.MultiIndex.dtypes.html#pandas.MultiIndex.dtypes
    "pandas.MultiIndex.dtypes")（[GH 37062](https://github.com/pandas-dev/pandas/issues/37062)）
- en: Added `end` and `end_day` options for the `origin` argument in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") ([GH 37804](https://github.com/pandas-dev/pandas/issues/37804))
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 的 `origin` 参数中添加了 `end` 和 `end_day` 选项（[GH 37804](https://github.com/pandas-dev/pandas/issues/37804)）
- en: Improved error message when `usecols` and `names` do not match for [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and `engine="c"` ([GH 29042](https://github.com/pandas-dev/pandas/issues/29042))
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    和 `engine="c"` 时，当 `usecols` 和 `names` 不匹配时，改进了错误消息（[GH 29042](https://github.com/pandas-dev/pandas/issues/29042)）
- en: Improved consistency of error messages when passing an invalid `win_type` argument
    in [Window methods](../reference/window.html#api-window) ([GH 15969](https://github.com/pandas-dev/pandas/issues/15969))
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [窗口方法](../reference/window.html#api-window) 中传递无效的 `win_type` 参数时，改进了错误消息的一致性（[GH
    15969](https://github.com/pandas-dev/pandas/issues/15969)）
- en: '[`read_sql_query()`](../reference/api/pandas.read_sql_query.html#pandas.read_sql_query
    "pandas.read_sql_query") now accepts a `dtype` argument to cast the columnar data
    from the SQL database based on user input ([GH 10285](https://github.com/pandas-dev/pandas/issues/10285))'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在 [`read_sql_query()`](../reference/api/pandas.read_sql_query.html#pandas.read_sql_query
    "pandas.read_sql_query") 接受一个 `dtype` 参数，根据用户输入来转换 SQL 数据库中的列数据（[GH 10285](https://github.com/pandas-dev/pandas/issues/10285)）
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    now raising `ParserWarning` if length of header or given names does not match
    length of data when `usecols` is not specified ([GH 21768](https://github.com/pandas-dev/pandas/issues/21768))'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `usecols` 未指定时，在 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中如果标题或给定的名称长度与数据长度不匹配，则会引发 `ParserWarning`（[GH 21768](https://github.com/pandas-dev/pandas/issues/21768)）
- en: Improved integer type mapping from pandas to SQLAlchemy when using [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") ([GH 35076](https://github.com/pandas-dev/pandas/issues/35076))
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 时，将 pandas 到 SQLAlchemy 的整数类型映射进行了改进（[GH 35076](https://github.com/pandas-dev/pandas/issues/35076)）
- en: '[`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric") now supports downcasting of nullable `ExtensionDtype` objects
    ([GH 33013](https://github.com/pandas-dev/pandas/issues/33013))'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric")现在支持可空`ExtensionDtype`对象的降级转换（[GH 33013](https://github.com/pandas-dev/pandas/issues/33013))'
- en: Added support for dict-like names in `MultiIndex.set_names` and `MultiIndex.rename`
    ([GH 20421](https://github.com/pandas-dev/pandas/issues/20421))
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`MultiIndex.set_names`和`MultiIndex.rename`中添加了对类似字典的名称的支持（[GH 20421](https://github.com/pandas-dev/pandas/issues/20421)）
- en: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") can now auto-detect .xlsb files and older .xls files ([GH
    35416](https://github.com/pandas-dev/pandas/issues/35416), [GH 41225](https://github.com/pandas-dev/pandas/issues/41225))'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")现在可以自动检测 .xlsb 文件和旧版 .xls 文件（[GH 35416](https://github.com/pandas-dev/pandas/issues/35416),
    [GH 41225](https://github.com/pandas-dev/pandas/issues/41225)）'
- en: '[`ExcelWriter`](../reference/api/pandas.ExcelWriter.html#pandas.ExcelWriter
    "pandas.ExcelWriter") now accepts an `if_sheet_exists` parameter to control the
    behavior of append mode when writing to existing sheets ([GH 40230](https://github.com/pandas-dev/pandas/issues/40230))'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ExcelWriter`](../reference/api/pandas.ExcelWriter.html#pandas.ExcelWriter
    "pandas.ExcelWriter")现在接受一个`if_sheet_exists`参数，用于控制在写入现有工作表时附加模式的行为（[GH 40230](https://github.com/pandas-dev/pandas/issues/40230)）'
- en: '[`Rolling.sum()`](../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum
    "pandas.core.window.rolling.Rolling.sum"), [`Expanding.sum()`](../reference/api/pandas.core.window.expanding.Expanding.sum.html#pandas.core.window.expanding.Expanding.sum
    "pandas.core.window.expanding.Expanding.sum"), [`Rolling.mean()`](../reference/api/pandas.core.window.rolling.Rolling.mean.html#pandas.core.window.rolling.Rolling.mean
    "pandas.core.window.rolling.Rolling.mean"), [`Expanding.mean()`](../reference/api/pandas.core.window.expanding.Expanding.mean.html#pandas.core.window.expanding.Expanding.mean
    "pandas.core.window.expanding.Expanding.mean"), [`ExponentialMovingWindow.mean()`](../reference/api/pandas.core.window.ewm.ExponentialMovingWindow.mean.html#pandas.core.window.ewm.ExponentialMovingWindow.mean
    "pandas.core.window.ewm.ExponentialMovingWindow.mean"), [`Rolling.median()`](../reference/api/pandas.core.window.rolling.Rolling.median.html#pandas.core.window.rolling.Rolling.median
    "pandas.core.window.rolling.Rolling.median"), [`Expanding.median()`](../reference/api/pandas.core.window.expanding.Expanding.median.html#pandas.core.window.expanding.Expanding.median
    "pandas.core.window.expanding.Expanding.median"), [`Rolling.max()`](../reference/api/pandas.core.window.rolling.Rolling.max.html#pandas.core.window.rolling.Rolling.max
    "pandas.core.window.rolling.Rolling.max"), [`Expanding.max()`](../reference/api/pandas.core.window.expanding.Expanding.max.html#pandas.core.window.expanding.Expanding.max
    "pandas.core.window.expanding.Expanding.max"), [`Rolling.min()`](../reference/api/pandas.core.window.rolling.Rolling.min.html#pandas.core.window.rolling.Rolling.min
    "pandas.core.window.rolling.Rolling.min"), and [`Expanding.min()`](../reference/api/pandas.core.window.expanding.Expanding.min.html#pandas.core.window.expanding.Expanding.min
    "pandas.core.window.expanding.Expanding.min") now support [Numba](http://numba.pydata.org/)
    execution with the `engine` keyword ([GH 38895](https://github.com/pandas-dev/pandas/issues/38895),
    [GH 41267](https://github.com/pandas-dev/pandas/issues/41267))'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Rolling.sum()`](../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum
    "pandas.core.window.rolling.Rolling.sum")、[`Expanding.sum()`](../reference/api/pandas.core.window.expanding.Expanding.sum.html#pandas.core.window.expanding.Expanding.sum
    "pandas.core.window.expanding.Expanding.sum")、[`Rolling.mean()`](../reference/api/pandas.core.window.rolling.Rolling.mean.html#pandas.core.window.rolling.Rolling.mean
    "pandas.core.window.rolling.Rolling.mean")、[`Expanding.mean()`](../reference/api/pandas.core.window.expanding.Expanding.mean.html#pandas.core.window.expanding.Expanding.mean
    "pandas.core.window.expanding.Expanding.mean")、[`ExponentialMovingWindow.mean()`](../reference/api/pandas.core.window.ewm.ExponentialMovingWindow.mean.html#pandas.core.window.ewm.ExponentialMovingWindow.mean
    "pandas.core.window.ewm.ExponentialMovingWindow.mean")、[`Rolling.median()`](../reference/api/pandas.core.window.rolling.Rolling.median.html#pandas.core.window.rolling.Rolling.median
    "pandas.core.window.rolling.Rolling.median")、[`Expanding.median()`](../reference/api/pandas.core.window.expanding.Expanding.median.html#pandas.core.window.expanding.Expanding.median
    "pandas.core.window.expanding.Expanding.median")、[`Rolling.max()`](../reference/api/pandas.core.window.rolling.Rolling.max.html#pandas.core.window.rolling.Rolling.max
    "pandas.core.window.rolling.Rolling.max")、[`Expanding.max()`](../reference/api/pandas.core.window.expanding.Expanding.max.html#pandas.core.window.expanding.Expanding.max
    "pandas.core.window.expanding.Expanding.max")、[`Rolling.min()`](../reference/api/pandas.core.window.rolling.Rolling.min.html#pandas.core.window.rolling.Rolling.min
    "pandas.core.window.rolling.Rolling.min")和[`Expanding.min()`](../reference/api/pandas.core.window.expanding.Expanding.min.html#pandas.core.window.expanding.Expanding.min
    "pandas.core.window.expanding.Expanding.min")现在支持使用 `engine` 关键字进行 [Numba](http://numba.pydata.org/)
    执行（[GH 38895](https://github.com/pandas-dev/pandas/issues/38895), [GH 41267](https://github.com/pandas-dev/pandas/issues/41267))'
- en: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") can now accept NumPy unary operators as strings, e.g.
    `df.apply("sqrt")`, which was already the case for [`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply") ([GH 39116](https://github.com/pandas-dev/pandas/issues/39116))'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply")现在可以接受 NumPy 一元运算符作为字符串，例如`df.apply("sqrt")`，这在 [`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply")中已经存在（[GH 39116](https://github.com/pandas-dev/pandas/issues/39116)）'
- en: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") can now accept non-callable DataFrame properties as
    strings, e.g. `df.apply("size")`, which was already the case for [`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply") ([GH 39116](https://github.com/pandas-dev/pandas/issues/39116))'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply")现在可以接受非可调用 DataFrame 属性作为字符串，例如`df.apply("size")`，这在
    [`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply")中已经存在（[GH 39116](https://github.com/pandas-dev/pandas/issues/39116)）'
- en: '[`DataFrame.applymap()`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap") can now accept kwargs to pass on to the user-provided
    `func` ([GH 39987](https://github.com/pandas-dev/pandas/issues/39987))'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.applymap()`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap")现在可以接受kwargs以传递给用户提供的`func`（[GH 39987](https://github.com/pandas-dev/pandas/issues/39987))'
- en: Passing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") indexer to `iloc` is now disallowed for `Series.__getitem__()`
    and `DataFrame.__getitem__()` ([GH 39004](https://github.com/pandas-dev/pandas/issues/39004))
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，对于`Series.__getitem__()`和`DataFrame.__getitem__()`，不允许将[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")索引器传递给`iloc`（[GH 39004](https://github.com/pandas-dev/pandas/issues/39004))
- en: '[`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply") can now accept list-like or dictionary-like arguments that
    aren’t lists or dictionaries, e.g. `ser.apply(np.array(["sum", "mean"]))`, which
    was already the case for [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") ([GH 39140](https://github.com/pandas-dev/pandas/issues/39140))'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply")现在可以接受类似列表或字典的参数，而不是列表或字典，例如`ser.apply(np.array(["sum",
    "mean"]))`，这在[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply")中已经存在（[GH 39140](https://github.com/pandas-dev/pandas/issues/39140))'
- en: '[`DataFrame.plot.scatter()`](../reference/api/pandas.DataFrame.plot.scatter.html#pandas.DataFrame.plot.scatter
    "pandas.DataFrame.plot.scatter") can now accept a categorical column for the argument
    `c` ([GH 12380](https://github.com/pandas-dev/pandas/issues/12380), [GH 31357](https://github.com/pandas-dev/pandas/issues/31357))'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.plot.scatter()`](../reference/api/pandas.DataFrame.plot.scatter.html#pandas.DataFrame.plot.scatter
    "pandas.DataFrame.plot.scatter")现在可以接受一个分类列作为参数`c`（[GH 12380](https://github.com/pandas-dev/pandas/issues/12380),
    [GH 31357](https://github.com/pandas-dev/pandas/issues/31357))'
- en: '[`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") now raises a helpful error message when the Series has a
    [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    and the indexer has too many dimensions ([GH 35349](https://github.com/pandas-dev/pandas/issues/35349))'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当Series具有[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")且索引器具有太多维度时，现在对于[`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc")会提出一个有用的错误消息（[GH 35349](https://github.com/pandas-dev/pandas/issues/35349))
- en: '[`read_stata()`](../reference/api/pandas.read_stata.html#pandas.read_stata
    "pandas.read_stata") now supports reading data from compressed files ([GH 26599](https://github.com/pandas-dev/pandas/issues/26599))'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_stata()`](../reference/api/pandas.read_stata.html#pandas.read_stata
    "pandas.read_stata")现在支持从压缩文件中读取数据（[GH 26599](https://github.com/pandas-dev/pandas/issues/26599))'
- en: Added support for parsing `ISO 8601`-like timestamps with negative signs to
    [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta "pandas.Timedelta")
    ([GH 37172](https://github.com/pandas-dev/pandas/issues/37172))
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增加了对从压缩文件读取数据的`ISO 8601`类似时间戳的解析支持到[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")中（[GH 37172](https://github.com/pandas-dev/pandas/issues/37172))
- en: Added support for unary operators in `FloatingArray` ([GH 38749](https://github.com/pandas-dev/pandas/issues/38749))
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`FloatingArray`中增加了对一元运算符的支持（[GH 38749](https://github.com/pandas-dev/pandas/issues/38749))
- en: '[`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex "pandas.RangeIndex")
    can now be constructed by passing a `range` object directly e.g. `pd.RangeIndex(range(3))`
    ([GH 12067](https://github.com/pandas-dev/pandas/issues/12067))'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex "pandas.RangeIndex")现在可以直接通过传递`range`对象来构造，例如`pd.RangeIndex(range(3))`（[GH
    12067](https://github.com/pandas-dev/pandas/issues/12067))'
- en: '[`Series.round()`](../reference/api/pandas.Series.round.html#pandas.Series.round
    "pandas.Series.round") and [`DataFrame.round()`](../reference/api/pandas.DataFrame.round.html#pandas.DataFrame.round
    "pandas.DataFrame.round") now work with nullable integer and floating dtypes ([GH
    38844](https://github.com/pandas-dev/pandas/issues/38844))'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.round()`](../reference/api/pandas.Series.round.html#pandas.Series.round
    "pandas.Series.round")和[`DataFrame.round()`](../reference/api/pandas.DataFrame.round.html#pandas.DataFrame.round
    "pandas.DataFrame.round")现在可以处理可空整数和浮点类型（[GH 38844](https://github.com/pandas-dev/pandas/issues/38844))'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    and [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json "pandas.read_json")
    expose the argument `encoding_errors` to control how encoding errors are handled
    ([GH 39450](https://github.com/pandas-dev/pandas/issues/39450))'
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    和 [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json "pandas.read_json")
    提供参数 `encoding_errors` 来控制如何处理编码错误（[GH 39450](https://github.com/pandas-dev/pandas/issues/39450))'
- en: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), and [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") use Kleene logic with nullable data types
    ([GH 37506](https://github.com/pandas-dev/pandas/issues/37506))'
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), 和 [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") 在使用具有可空数据类型的 Kleene 逻辑（[GH 37506](https://github.com/pandas-dev/pandas/issues/37506))'
- en: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), and [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") return a `BooleanDtype` for columns with
    nullable data types ([GH 33449](https://github.com/pandas-dev/pandas/issues/33449))'
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), 和 [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") 返回一个 `BooleanDtype`，用于具有可空数据类型的列（[GH
    33449](https://github.com/pandas-dev/pandas/issues/33449))'
- en: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), and [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") raising with `object` data containing
    `pd.NA` even when `skipna=True` ([GH 37501](https://github.com/pandas-dev/pandas/issues/37501))'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), 和 [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") 在包含 `pd.NA` 的 `object` 数据上即使 `skipna=True`
    也会引发异常（[GH 37501](https://github.com/pandas-dev/pandas/issues/37501))'
- en: '[`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") and [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") now supports object-dtype data ([GH
    38278](https://github.com/pandas-dev/pandas/issues/38278))'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") 和 [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") 现在支持对象 dtype 数据（[GH 38278](https://github.com/pandas-dev/pandas/issues/38278))'
- en: Constructing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with the `data` argument being a Python iterable that is *not*
    a NumPy `ndarray` consisting of NumPy scalars will now result in a dtype with
    a precision the maximum of the NumPy scalars; this was already the case when `data`
    is a NumPy `ndarray` ([GH 40908](https://github.com/pandas-dev/pandas/issues/40908))
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`data`参数是不是由 NumPy `ndarray` 组成的 Python 可迭代对象时，构造 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 或 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 将会得到一个精度为 NumPy 标量的最大值的 dtype；当`data`是 NumPy `ndarray` 时已经是这种情况了（[GH
    40908](https://github.com/pandas-dev/pandas/issues/40908))
- en: Add keyword `sort` to [`pivot_table()`](../reference/api/pandas.pivot_table.html#pandas.pivot_table
    "pandas.pivot_table") to allow non-sorting of the result ([GH 39143](https://github.com/pandas-dev/pandas/issues/39143))
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`pivot_table()`](../reference/api/pandas.pivot_table.html#pandas.pivot_table
    "pandas.pivot_table") 中添加关键字`sort`，以允许结果不排序（[GH 39143](https://github.com/pandas-dev/pandas/issues/39143))
- en: Add keyword `dropna` to [`DataFrame.value_counts()`](../reference/api/pandas.DataFrame.value_counts.html#pandas.DataFrame.value_counts
    "pandas.DataFrame.value_counts") to allow counting rows that include `NA` values
    ([GH 41325](https://github.com/pandas-dev/pandas/issues/41325))
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.value_counts()`](../reference/api/pandas.DataFrame.value_counts.html#pandas.DataFrame.value_counts
    "pandas.DataFrame.value_counts") 中添加关键字`dropna`，以允许计算包含`NA`值的行数（[GH 41325](https://github.com/pandas-dev/pandas/issues/41325))
- en: '[`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") will now cast results to `PeriodDtype` where possible
    instead of `object` dtype ([GH 41526](https://github.com/pandas-dev/pandas/issues/41526))'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 现在将结果转换为`PeriodDtype`，而不是`object` dtype（[GH 41526](https://github.com/pandas-dev/pandas/issues/41526))'
- en: Improved error message in `corr` and `cov` methods on `Rolling`, `Expanding`,
    and `ExponentialMovingWindow` when `other` is not a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") ([GH 41741](https://github.com/pandas-dev/pandas/issues/41741))
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Rolling`、`Expanding`和`ExponentialMovingWindow`的`corr`和`cov`方法中，当`other`不是[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 或 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 时，改进了错误消息（[GH 41741](https://github.com/pandas-dev/pandas/issues/41741))
- en: '[`Series.between()`](../reference/api/pandas.Series.between.html#pandas.Series.between
    "pandas.Series.between") can now accept `left` or `right` as arguments to `inclusive`
    to include only the left or right boundary ([GH 40245](https://github.com/pandas-dev/pandas/issues/40245))'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.between()`](../reference/api/pandas.Series.between.html#pandas.Series.between
    "pandas.Series.between") 现在可以接受`left`或`right`作为`inclusive`参数，以仅包括左侧或右侧边界（[GH 40245](https://github.com/pandas-dev/pandas/issues/40245))'
- en: '[`DataFrame.explode()`](../reference/api/pandas.DataFrame.explode.html#pandas.DataFrame.explode
    "pandas.DataFrame.explode") now supports exploding multiple columns. Its `column`
    argument now also accepts a list of str or tuples for exploding on multiple columns
    at the same time ([GH 39240](https://github.com/pandas-dev/pandas/issues/39240))'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.explode()`](../reference/api/pandas.DataFrame.explode.html#pandas.DataFrame.explode
    "pandas.DataFrame.explode") 现在支持同时爆炸多列。其`column`参数现在也接受字符串列表或元组，以同时在多列上爆炸（[GH
    39240](https://github.com/pandas-dev/pandas/issues/39240))'
- en: '[`DataFrame.sample()`](../reference/api/pandas.DataFrame.sample.html#pandas.DataFrame.sample
    "pandas.DataFrame.sample") now accepts the `ignore_index` argument to reset the
    index after sampling, similar to [`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") and [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") ([GH 38581](https://github.com/pandas-dev/pandas/issues/38581))  ##
    Notable bug fixes'
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.sample()`](../reference/api/pandas.DataFrame.sample.html#pandas.DataFrame.sample
    "pandas.DataFrame.sample") 现在接受 `ignore_index` 参数，在采样后重置索引，类似于 [`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") 和 [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") ([GH 38581](https://github.com/pandas-dev/pandas/issues/38581))  ##
    显著的错误修复'
- en: These are bug fixes that might have notable behavior changes.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是可能具有显著行为变化的错误修复。
- en: '### `Categorical.unique` now always maintains same dtype as original'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '### `Categorical.unique` 现在始终保持与原始数据类型相同'
- en: Previously, when calling `Categorical.unique()` with categorical data, unused
    categories in the new array would be removed, making the dtype of the new array
    different than the original ([GH 18291](https://github.com/pandas-dev/pandas/issues/18291))
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，使用分类数据调用 `Categorical.unique()` 时，新数组中未使用的类别将被移除，使得新数组的数据类型与原始数据类型不同 ([GH
    18291](https://github.com/pandas-dev/pandas/issues/18291))
- en: 'As an example of this, given:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 举例来说，给定：
- en: '[PRE10]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '*Previous behavior*:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前行为*:'
- en: '[PRE11]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '*New behavior*:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE12]  ### Preserve dtypes in [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first")'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE12]  ### 在 [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") 中保留数据类型'
- en: '[`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") will now preserve dtypes ([GH 7509](https://github.com/pandas-dev/pandas/issues/7509))'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") 现在会保留数据类型 ([GH 7509](https://github.com/pandas-dev/pandas/issues/7509))'
- en: '[PRE13]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '*Previous behavior*:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前行为*:'
- en: '[PRE14]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '*New behavior*:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE15]  ### Groupby methods agg and transform no longer changes return dtype
    for callables'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE15]  ### Groupby 方法 agg 和 transform 不再改变可调用函数的返回数据类型'
- en: Previously the methods [`DataFrameGroupBy.aggregate()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html#pandas.core.groupby.DataFrameGroupBy.aggregate
    "pandas.core.groupby.DataFrameGroupBy.aggregate"), [`SeriesGroupBy.aggregate()`](../reference/api/pandas.core.groupby.SeriesGroupBy.aggregate.html#pandas.core.groupby.SeriesGroupBy.aggregate
    "pandas.core.groupby.SeriesGroupBy.aggregate"), [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform"), and [`SeriesGroupBy.transform()`](../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform
    "pandas.core.groupby.SeriesGroupBy.transform") might cast the result dtype when
    the argument `func` is callable, possibly leading to undesirable results ([GH
    21240](https://github.com/pandas-dev/pandas/issues/21240)). The cast would occur
    if the result is numeric and casting back to the input dtype does not change any
    values as measured by `np.allclose`. Now no such casting occurs.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，方法 [`DataFrameGroupBy.aggregate()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html#pandas.core.groupby.DataFrameGroupBy.aggregate
    "pandas.core.groupby.DataFrameGroupBy.aggregate")、[`SeriesGroupBy.aggregate()`](../reference/api/pandas.core.groupby.SeriesGroupBy.aggregate.html#pandas.core.groupby.SeriesGroupBy.aggregate
    "pandas.core.groupby.SeriesGroupBy.aggregate")、[`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") 和 [`SeriesGroupBy.transform()`](../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform
    "pandas.core.groupby.SeriesGroupBy.transform") 可能会在参数 `func` 是可调用函数时转换结果数据类型，可能导致不良结果
    ([GH 21240](https://github.com/pandas-dev/pandas/issues/21240))。如果结果是数值型且转换回输入数据类型不会改变任何值（通过
    `np.allclose` 测量），则会发生转换。现在不再发生此类转换。
- en: '[PRE16]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '*Previous behavior*:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前行为*:'
- en: '[PRE17]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '*New behavior*:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE18]  ### `float` result for [`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean"), [`DataFrameGroupBy.median()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.median.html#pandas.core.groupby.DataFrameGroupBy.median
    "pandas.core.groupby.DataFrameGroupBy.median"), and `GDataFrameGroupBy.var()`,
    [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean"), [`SeriesGroupBy.median()`](../reference/api/pandas.core.groupby.SeriesGroupBy.median.html#pandas.core.groupby.SeriesGroupBy.median
    "pandas.core.groupby.SeriesGroupBy.median"), and [`SeriesGroupBy.var()`](../reference/api/pandas.core.groupby.SeriesGroupBy.var.html#pandas.core.groupby.SeriesGroupBy.var
    "pandas.core.groupby.SeriesGroupBy.var")'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE18]  ### [`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean")、[`DataFrameGroupBy.median()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.median.html#pandas.core.groupby.DataFrameGroupBy.median
    "pandas.core.groupby.DataFrameGroupBy.median") 和 `GDataFrameGroupBy.var()`、[`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean")、[`SeriesGroupBy.median()`](../reference/api/pandas.core.groupby.SeriesGroupBy.median.html#pandas.core.groupby.SeriesGroupBy.median
    "pandas.core.groupby.SeriesGroupBy.median") 和 [`SeriesGroupBy.var()`](../reference/api/pandas.core.groupby.SeriesGroupBy.var.html#pandas.core.groupby.SeriesGroupBy.var
    "pandas.core.groupby.SeriesGroupBy.var") 的返回结果现在为 `float`'
- en: Previously, these methods could result in different dtypes depending on the
    input values. Now, these methods will always return a float dtype. ([GH 41137](https://github.com/pandas-dev/pandas/issues/41137))
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，这些方法可能会根据输入值的不同而产生不同的数据类型。现在，这些方法将始终返回浮点数据类型。([GH 41137](https://github.com/pandas-dev/pandas/issues/41137))
- en: '[PRE19]'
  id: totrans-150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '*Previous behavior*:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*:'
- en: '[PRE20]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: '*New behavior*:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE21]  ### Try operating inplace when setting values with `loc` and `iloc`'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE21]  ### 尝试使用 `loc` 和 `iloc` 设置值时进行原地操作'
- en: When setting an entire column using `loc` or `iloc`, pandas will try to insert
    the values into the existing data rather than create an entirely new array.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `loc` 或 `iloc` 设置整个列时，pandas 会尝试将值插入现有数据而不是创建全新的数组。
- en: '[PRE22]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: In both the new and old behavior, the data in `values` is overwritten, but in
    the old behavior the dtype of `df["A"]` changed to `int64`.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 在新旧行为中，`values` 中的数据被覆盖，但在旧行为中 `df["A"]` 的数据类型变为 `int64`。
- en: '*Previous behavior*:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*:'
- en: '[PRE23]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: In pandas 1.3.0, `df` continues to share data with `values`
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 在 pandas 1.3.0 中，`df` 仍与 `values` 共享数据
- en: '*New behavior*:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE24]  ### Never operate inplace when setting `frame[keys] = values`'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE24]  ### 当设置 `frame[keys] = values` 时永不原地操作'
- en: When setting multiple columns using `frame[keys] = values` new arrays will replace
    pre-existing arrays for these keys, which will *not* be over-written ([GH 39510](https://github.com/pandas-dev/pandas/issues/39510)).
    As a result, the columns will retain the dtype(s) of `values`, never casting to
    the dtypes of the existing arrays.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `frame[keys] = values` 设置多列时，新的数组将替换这些键的预先存在的数组，这些数组 *不会* 被覆盖 ([GH 39510](https://github.com/pandas-dev/pandas/issues/39510))。因此，列将保留
    `values` 的数据类型，而不会转换为现有数组的数据类型。
- en: '[PRE25]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'In the old behavior, `5` was cast to `float64` and inserted into the existing
    array backing `df`:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 在旧的行为中，`5` 被转换为 `float64` 并插入到现有数组 `df` 中：
- en: '*Previous behavior*:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*:'
- en: '[PRE26]'
  id: totrans-167
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'In the new behavior, we get a new array, and retain an integer-dtyped `5`:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 在新行为中，我们得到一个新的数组，并保留一个整型的 `5`：
- en: '*New behavior*:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE27]  ### Consistent casting with setting into Boolean Series'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE27]  ### 设置非布尔值到布尔类型的 Series 时进行一致的转换'
- en: Setting non-boolean values into a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `dtype=bool` now consistently casts to `dtype=object` ([GH
    38709](https://github.com/pandas-dev/pandas/issues/38709))
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 将非布尔值设置到具有 `dtype=bool` 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 中现在始终转换为 `dtype=object` ([GH 38709](https://github.com/pandas-dev/pandas/issues/38709))
- en: '[PRE28]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: '*Previous behavior*:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*:'
- en: '[PRE29]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: '*New behavior*:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE30]  ### DataFrameGroupBy.rolling and SeriesGroupBy.rolling no longer return
    grouped-by column in values'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE30]  ### DataFrameGroupBy.rolling 和 SeriesGroupBy.rolling 不再返回分组列的值'
- en: The group-by column will now be dropped from the result of a `groupby.rolling`
    operation ([GH 32262](https://github.com/pandas-dev/pandas/issues/32262))
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 分组列现在会从 `groupby.rolling` 操作的结果中删除 ([GH 32262](https://github.com/pandas-dev/pandas/issues/32262))
- en: '[PRE31]'
  id: totrans-178
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: '*Previous behavior*:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*:'
- en: '[PRE32]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: '*New behavior*:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE33]  ### Removed artificial truncation in rolling variance and standard
    deviation'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE33]  ### 移除了滚动方差和标准差的人为截断'
- en: '[`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") and [`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") will no longer artificially truncate
    results that are less than `~1e-8` and `~1e-15` respectively to zero ([GH 37051](https://github.com/pandas-dev/pandas/issues/37051),
    [GH 40448](https://github.com/pandas-dev/pandas/issues/40448), [GH 39872](https://github.com/pandas-dev/pandas/issues/39872)).'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: '[`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") 和 [`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") 将不再将小于 `~1e-8` 和 `~1e-15` 的结果人为截断为零
    ([GH 37051](https://github.com/pandas-dev/pandas/issues/37051), [GH 40448](https://github.com/pandas-dev/pandas/issues/40448),
    [GH 39872](https://github.com/pandas-dev/pandas/issues/39872))。'
- en: However, floating point artifacts may now exist in the results when rolling
    over larger values.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 但是，当数值较大时，可能会在结果中存在浮点数残留。
- en: '[PRE34]  ### DataFrameGroupBy.rolling and SeriesGroupBy.rolling with MultiIndex
    no longer drop levels in the result'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE34]  ### DataFrameGroupBy.rolling 和 SeriesGroupBy.rolling �� MultiIndex
    中不再删除结果中的级别'
- en: '`DataFrameGroupBy.rolling()` and `SeriesGroupBy.rolling()` will no longer drop
    levels of a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") in the result. This can lead to a perceived duplication of
    levels in the resulting [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex"), but this change restores the behavior that was present in
    version 1.1.3 ([GH 38787](https://github.com/pandas-dev/pandas/issues/38787),
    [GH 38523](https://github.com/pandas-dev/pandas/issues/38523)).'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy.rolling()` 和 `SeriesGroupBy.rolling()` 将不再在结果中删除具有 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 的级别。这可能导致在生成的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 中出现级别的重复，但此更改恢复了版本 1.1.3 中存在的行为 ([GH 38787](https://github.com/pandas-dev/pandas/issues/38787),
    [GH 38523](https://github.com/pandas-dev/pandas/issues/38523))。'
- en: '[PRE35]'
  id: totrans-187
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: '*Previous behavior*:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*:'
- en: '[PRE36]'
  id: totrans-189
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: '*New behavior*:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*:'
- en: '[PRE37]  ## Backwards incompatible API changes'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE37]  ## 不兼容的 API 更改'
- en: '### Increased minimum versions for dependencies'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '### 增加了依赖项的最低版本'
- en: 'Some minimum supported versions of dependencies were updated. If installed,
    we now require:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 一些依赖项的最低支持版本已更新。如果已安装，我们现在需要：
- en: '| Package | Minimum Version | Required | Changed |'
  id: totrans-194
  prefs: []
  type: TYPE_TB
  zh: '| Package | Minimum Version | Required | Changed |'
- en: '| --- | --- | --- | --- |'
  id: totrans-195
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| numpy | 1.17.3 | X | X |'
  id: totrans-196
  prefs: []
  type: TYPE_TB
  zh: '| numpy | 1.17.3 | X | X |'
- en: '| pytz | 2017.3 | X |  |'
  id: totrans-197
  prefs: []
  type: TYPE_TB
  zh: '| pytz | 2017.3 | X |  |'
- en: '| python-dateutil | 2.7.3 | X |  |'
  id: totrans-198
  prefs: []
  type: TYPE_TB
  zh: '| python-dateutil | 2.7.3 | X |  |'
- en: '| bottleneck | 1.2.1 |  |  |'
  id: totrans-199
  prefs: []
  type: TYPE_TB
  zh: '| bottleneck | 1.2.1 |  |  |'
- en: '| numexpr | 2.7.0 |  | X |'
  id: totrans-200
  prefs: []
  type: TYPE_TB
  zh: '| numexpr | 2.7.0 |  | X |'
- en: '| pytest (dev) | 6.0 |  | X |'
  id: totrans-201
  prefs: []
  type: TYPE_TB
  zh: '| pytest (dev) | 6.0 |  | X |'
- en: '| mypy (dev) | 0.812 |  | X |'
  id: totrans-202
  prefs: []
  type: TYPE_TB
  zh: '| mypy (dev) | 0.812 |  | X |'
- en: '| setuptools | 38.6.0 |  | X |'
  id: totrans-203
  prefs: []
  type: TYPE_TB
  zh: '| setuptools | 38.6.0 |  | X |'
- en: For [optional libraries](https://pandas.pydata.org/docs/getting_started/install.html)
    the general recommendation is to use the latest version. The following table lists
    the lowest version per library that is currently being tested throughout the development
    of pandas. Optional libraries below the lowest tested version may still work,
    but are not considered supported.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 对于[可选库](https://pandas.pydata.org/docs/getting_started/install.html)，一般建议使用最新版本。以下表格列出了在
    pandas 开发过程中当前正在测试的每个库的最低版本。低于最低测试版本的可选库可能仍然可用，但不被视为受支持。
- en: '| Package | Minimum Version | Changed |'
  id: totrans-205
  prefs: []
  type: TYPE_TB
  zh: '| Package | Minimum Version | Changed |'
- en: '| --- | --- | --- |'
  id: totrans-206
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| beautifulsoup4 | 4.6.0 |  |'
  id: totrans-207
  prefs: []
  type: TYPE_TB
  zh: '| beautifulsoup4 | 4.6.0 |  |'
- en: '| fastparquet | 0.4.0 | X |'
  id: totrans-208
  prefs: []
  type: TYPE_TB
  zh: '| fastparquet | 0.4.0 | X |'
- en: '| fsspec | 0.7.4 |  |'
  id: totrans-209
  prefs: []
  type: TYPE_TB
  zh: '| fsspec | 0.7.4 |  |'
- en: '| gcsfs | 0.6.0 |  |'
  id: totrans-210
  prefs: []
  type: TYPE_TB
  zh: '| gcsfs | 0.6.0 |  |'
- en: '| lxml | 4.3.0 |  |'
  id: totrans-211
  prefs: []
  type: TYPE_TB
  zh: '| lxml | 4.3.0 |  |'
- en: '| matplotlib | 2.2.3 |  |'
  id: totrans-212
  prefs: []
  type: TYPE_TB
  zh: '| matplotlib | 2.2.3 |  |'
- en: '| numba | 0.46.0 |  |'
  id: totrans-213
  prefs: []
  type: TYPE_TB
  zh: '| numba | 0.46.0 |  |'
- en: '| openpyxl | 3.0.0 | X |'
  id: totrans-214
  prefs: []
  type: TYPE_TB
  zh: '| openpyxl | 3.0.0 | X |'
- en: '| pyarrow | 0.17.0 | X |'
  id: totrans-215
  prefs: []
  type: TYPE_TB
  zh: '| pyarrow | 0.17.0 | X |'
- en: '| pymysql | 0.8.1 | X |'
  id: totrans-216
  prefs: []
  type: TYPE_TB
  zh: '| pymysql | 0.8.1 | X |'
- en: '| pytables | 3.5.1 |  |'
  id: totrans-217
  prefs: []
  type: TYPE_TB
  zh: '| pytables | 3.5.1 |  |'
- en: '| s3fs | 0.4.0 |  |'
  id: totrans-218
  prefs: []
  type: TYPE_TB
  zh: '| s3fs | 0.4.0 |  |'
- en: '| scipy | 1.2.0 |  |'
  id: totrans-219
  prefs: []
  type: TYPE_TB
  zh: '| scipy | 1.2.0 |  |'
- en: '| sqlalchemy | 1.3.0 | X |'
  id: totrans-220
  prefs: []
  type: TYPE_TB
  zh: '| sqlalchemy | 1.3.0 | X |'
- en: '| tabulate | 0.8.7 | X |'
  id: totrans-221
  prefs: []
  type: TYPE_TB
  zh: '| tabulate | 0.8.7 | X |'
- en: '| xarray | 0.12.0 |  |'
  id: totrans-222
  prefs: []
  type: TYPE_TB
  zh: '| xarray | 0.12.0 |  |'
- en: '| xlrd | 1.2.0 |  |'
  id: totrans-223
  prefs: []
  type: TYPE_TB
  zh: '| xlrd | 1.2.0 |  |'
- en: '| xlsxwriter | 1.0.2 |  |'
  id: totrans-224
  prefs: []
  type: TYPE_TB
  zh: '| xlsxwriter | 1.0.2 |  |'
- en: '| xlwt | 1.3.0 |  |'
  id: totrans-225
  prefs: []
  type: TYPE_TB
  zh: '| xlwt | 1.3.0 |  |'
- en: '| pandas-gbq | 0.12.0 |  |'
  id: totrans-226
  prefs: []
  type: TYPE_TB
  zh: '| pandas-gbq | 0.12.0 |  |'
- en: 'See [Dependencies](../getting_started/install.html#install-dependencies) and
    [Optional dependencies](../getting_started/install.html#install-optional-dependencies)
    for more.  ### Other API changes'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: '有关更多信息，请参阅[依赖项](../getting_started/install.html#install-dependencies)和[可选依赖项](../getting_started/install.html#install-optional-dependencies)  ###
    其他 API 更改'
- en: Partially initialized [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") objects (i.e. those with `categories=None`) will no
    longer compare as equal to fully initialized dtype objects ([GH 38516](https://github.com/pandas-dev/pandas/issues/38516))
  id: totrans-228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 部分初始化的 [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") 对象（即`categories=None`的对象）将不再等同于完全初始化的 dtype 对象 ([GH
    38516](https://github.com/pandas-dev/pandas/issues/38516))
- en: Accessing `_constructor_expanddim` on a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and `_constructor_sliced` on a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") now raise an `AttributeError`. Previously a `NotImplementedError`
    was raised ([GH 38782](https://github.com/pandas-dev/pandas/issues/38782))
  id: totrans-229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    上访问 `_constructor_expanddim`，在 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 上访问 `_constructor_sliced` 现在会引发 `AttributeError`。 以前会引发 `NotImplementedError`
    ([GH 38782](https://github.com/pandas-dev/pandas/issues/38782))
- en: Added new `engine` and `**engine_kwargs` parameters to [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") to support other future “SQL engines”. Currently we
    still only use `SQLAlchemy` under the hood, but more engines are planned to be
    supported such as [turbodbc](https://turbodbc.readthedocs.io/en/latest/) ([GH
    36893](https://github.com/pandas-dev/pandas/issues/36893))
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了新的 `engine` 和 `**engine_kwargs` 参数到 [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 来支持其他未来的“SQL 引擎”。 目前我们仍然只在底层使用`SQLAlchemy`，但计划支持更多的引擎，例如
    [turbodbc](https://turbodbc.readthedocs.io/en/latest/) ([GH 36893](https://github.com/pandas-dev/pandas/issues/36893))
- en: Removed redundant `freq` from [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") string representation ([GH 41653](https://github.com/pandas-dev/pandas/issues/41653))
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 字符串表示中删除了多余的 `freq` ([GH 41653](https://github.com/pandas-dev/pandas/issues/41653))
- en: '`ExtensionDtype.construct_array_type()` is now a required method instead of
    an optional one for `ExtensionDtype` subclasses ([GH 24860](https://github.com/pandas-dev/pandas/issues/24860))'
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExtensionDtype.construct_array_type()` 现在是 `ExtensionDtype` 子类的必需方法，而不是可选的方法
    ([GH 24860](https://github.com/pandas-dev/pandas/issues/24860))'
- en: 'Calling `hash` on non-hashable pandas objects will now raise `TypeError` with
    the built-in error message (e.g. `unhashable type: ''Series''`). Previously it
    would raise a custom message such as `''Series'' objects are mutable, thus they
    cannot be hashed`. Furthermore, `isinstance(<Series>, abc.collections.Hashable)`
    will now return `False` ([GH 40013](https://github.com/pandas-dev/pandas/issues/40013))'
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '在非可哈希的 pandas 对象上调用 `hash` 现在将引发 `TypeError` 并显示内置错误消息（例如`unhashable type:
    ''Series''`）。 以前会引发一个自定义消息，例如 `''Series'' 对象是可变的，因此不能被哈希`。 此外，`isinstance(<Series>,
    abc.collections.Hashable)` 现在将返回 `False` ([GH 40013](https://github.com/pandas-dev/pandas/issues/40013))'
- en: '[`Styler.from_custom_template()`](../reference/api/pandas.io.formats.style.Styler.from_custom_template.html#pandas.io.formats.style.Styler.from_custom_template
    "pandas.io.formats.style.Styler.from_custom_template") now has two new arguments
    for template names, and removed the old `name`, due to template inheritance having
    been introducing for better parsing ([GH 42053](https://github.com/pandas-dev/pandas/issues/42053)).
    Subclassing modifications to Styler attributes are also needed.  ### Build'
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.from_custom_template()`](../reference/api/pandas.io.formats.style.Styler.from_custom_template.html#pandas.io.formats.style.Styler.from_custom_template
    "pandas.io.formats.style.Styler.from_custom_template") 现在有两个新参数用于模板名称，并删除了旧的 `name`，因为引入了模板继承以更好地解析
    ([GH 42053](https://github.com/pandas-dev/pandas/issues/42053))。 还需要对 Styler 属性进行子类修改。  ###
    构建'
- en: 'Documentation in `.pptx` and `.pdf` formats are no longer included in wheels
    or source distributions. ([GH 30741](https://github.com/pandas-dev/pandas/issues/30741))  ##
    Deprecations'
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.pptx` 和 `.pdf` 格式的文档已不再包含在轮子或源分发中。 ([GH 30741](https://github.com/pandas-dev/pandas/issues/30741))  ##
    弃用功能'
- en: '### Deprecated dropping nuisance columns in DataFrame reductions and DataFrameGroupBy
    operations'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在 DataFrame reductions 和 DataFrameGroupBy 操作中弃用删除 DataFrame 中的无用列'
- en: Calling a reduction (e.g. `.min`, `.max`, `.sum`) on a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `numeric_only=None` (the default), columns where the
    reduction raises a `TypeError` are silently ignored and dropped from the result.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 在具有 `numeric_only=None`（默认值）的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 上调用归约（例如 `.min`, `.max`, `.sum`），如果归约引发 `TypeError`，则会被静默地忽略并从结果中删除。
- en: This behavior is deprecated. In a future version, the `TypeError` will be raised,
    and users will need to select only valid columns before calling the function.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 此行为已废弃。在将来的版本中，将会引发 `TypeError`，用户在调用函数之前需要选择有效的列。
- en: 'For example:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 例如：
- en: '[PRE38]'
  id: totrans-240
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: '*Old behavior*:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: '*旧行为*：'
- en: '[PRE39]'
  id: totrans-242
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: '*Future behavior*:'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '*未来行为*：'
- en: '[PRE40]'
  id: totrans-244
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: Similarly, when applying a function to `DataFrameGroupBy`, columns on which
    the function raises `TypeError` are currently silently ignored and dropped from
    the result.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 类似地，当对 `DataFrameGroupBy` 应用函数时，函数引发 `TypeError` 的列目前会被静默地忽略并从结果中删除。
- en: This behavior is deprecated. In a future version, the `TypeError` will be raised,
    and users will need to select only valid columns before calling the function.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 此行为已废弃。在将来的版本中，将会引发 `TypeError`，用户在调用函数之前需要选择有效的列。
- en: 'For example:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 例如：
- en: '[PRE41]'
  id: totrans-248
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: '*Old behavior*:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: '*旧行为*：'
- en: '[PRE42]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: '*Future behavior*:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: '*未来行为*：'
- en: '[PRE43]  ### Other Deprecations'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE43]  ### 其他废弃功能'
- en: Deprecated allowing scalars to be passed to the [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") constructor ([GH 38433](https://github.com/pandas-dev/pandas/issues/38433))
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃允许标量传递给 [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") 构造函数 ([GH 38433](https://github.com/pandas-dev/pandas/issues/38433))
- en: Deprecated constructing [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") without passing list-like data ([GH 38944](https://github.com/pandas-dev/pandas/issues/38944))
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃构造 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 时未传递类似列表的数据 ([GH 38944](https://github.com/pandas-dev/pandas/issues/38944))
- en: Deprecated allowing subclass-specific keyword arguments in the [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") constructor, use the specific subclass directly instead ([GH 14093](https://github.com/pandas-dev/pandas/issues/14093),
    [GH 21311](https://github.com/pandas-dev/pandas/issues/21311), [GH 22315](https://github.com/pandas-dev/pandas/issues/22315),
    [GH 26974](https://github.com/pandas-dev/pandas/issues/26974))
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃允许子类特定关键字参数在 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    构造函数中使用，直接使用特定的子类代替 ([GH 14093](https://github.com/pandas-dev/pandas/issues/14093),
    [GH 21311](https://github.com/pandas-dev/pandas/issues/21311), [GH 22315](https://github.com/pandas-dev/pandas/issues/22315),
    [GH 26974](https://github.com/pandas-dev/pandas/issues/26974))
- en: Deprecated the `astype()` method of datetimelike (`timedelta64[ns]`, `datetime64[ns]`,
    `Datetime64TZDtype`, `PeriodDtype`) to convert to integer dtypes, use `values.view(...)`
    instead ([GH 38544](https://github.com/pandas-dev/pandas/issues/38544)). This
    deprecation was later reverted in pandas 1.4.0.
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃日期时间类 (`timedelta64[ns]`, `datetime64[ns]`, `Datetime64TZDtype`, `PeriodDtype`)
    的 `astype()` 方法将转换为整数类型，应改用 `values.view(...)` ([GH 38544](https://github.com/pandas-dev/pandas/issues/38544))。此废弃功能在
    pandas 1.4.0 中被撤销。
- en: Deprecated `MultiIndex.is_lexsorted()` and `MultiIndex.lexsort_depth()`, use
    `MultiIndex.is_monotonic_increasing()` instead ([GH 32259](https://github.com/pandas-dev/pandas/issues/32259))
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃 `MultiIndex.is_lexsorted()` 和 `MultiIndex.lexsort_depth()`，请使用 `MultiIndex.is_monotonic_increasing()`
    代替 ([GH 32259](https://github.com/pandas-dev/pandas/issues/32259))
- en: Deprecated keyword `try_cast` in [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where"), [`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask"), [`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where"), [`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask"); cast results manually if desired ([GH 38836](https://github.com/pandas-dev/pandas/issues/38836))
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃关键字 `try_cast` 在 [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where")、[`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask")、[`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where")、[`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask") 中；如果需要，手动转换结果 ([GH 38836](https://github.com/pandas-dev/pandas/issues/38836))
- en: Deprecated comparison of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") objects with `datetime.date` objects. Instead of e.g. `ts
    <= mydate` use `ts <= pd.Timestamp(mydate)` or `ts.date() <= mydate` ([GH 36131](https://github.com/pandas-dev/pandas/issues/36131))
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用对[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")对象与`datetime.date`对象的比较。不要再使用例如`ts
    <= mydate`，而是使用`ts <= pd.Timestamp(mydate)`或`ts.date() <= mydate` ([GH 36131](https://github.com/pandas-dev/pandas/issues/36131))
- en: Deprecated `Rolling.win_type` returning `"freq"` ([GH 38963](https://github.com/pandas-dev/pandas/issues/38963))
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用`Rolling.win_type`返回`"freq"` ([GH 38963](https://github.com/pandas-dev/pandas/issues/38963))
- en: Deprecated `Rolling.is_datetimelike` ([GH 38963](https://github.com/pandas-dev/pandas/issues/38963))
  id: totrans-261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用`Rolling.is_datetimelike` ([GH 38963](https://github.com/pandas-dev/pandas/issues/38963))
- en: Deprecated [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") indexer for `Series.__setitem__()` and `DataFrame.__setitem__()`
    ([GH 39004](https://github.com/pandas-dev/pandas/issues/39004))
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")索引器用于`Series.__setitem__()`和`DataFrame.__setitem__()`
    ([GH 39004](https://github.com/pandas-dev/pandas/issues/39004))
- en: Deprecated `ExponentialMovingWindow.vol()` ([GH 39220](https://github.com/pandas-dev/pandas/issues/39220))
  id: totrans-263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用`ExponentialMovingWindow.vol()` ([GH 39220](https://github.com/pandas-dev/pandas/issues/39220))
- en: Using `.astype` to convert between `datetime64[ns]` dtype and [`DatetimeTZDtype`](../reference/api/pandas.DatetimeTZDtype.html#pandas.DatetimeTZDtype
    "pandas.DatetimeTZDtype") is deprecated and will raise in a future version, use
    `obj.tz_localize` or `obj.dt.tz_localize` instead ([GH 38622](https://github.com/pandas-dev/pandas/issues/38622))
  id: totrans-264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`.astype`在`datetime64[ns]` dtype和[`DatetimeTZDtype`](../reference/api/pandas.DatetimeTZDtype.html#pandas.DatetimeTZDtype
    "pandas.DatetimeTZDtype")之间进行转换已被弃用，并且将在将来版本中引发警告，应该使用`obj.tz_localize`或`obj.dt.tz_localize`代替
    ([GH 38622](https://github.com/pandas-dev/pandas/issues/38622))
- en: Deprecated casting `datetime.date` objects to `datetime64` when used as `fill_value`
    in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack"), [`DataFrame.shift()`](../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift
    "pandas.DataFrame.shift"), [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift"), and [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex"), pass `pd.Timestamp(dateobj)` instead ([GH 39767](https://github.com/pandas-dev/pandas/issues/39767))
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")、[`DataFrame.shift()`](../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift
    "pandas.DataFrame.shift")、[`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift")和[`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex")中，将`datetime.date`对象强制转换为`datetime64`作为`fill_value`已经被弃用，应该传递`pd.Timestamp(dateobj)`
    ([GH 39767](https://github.com/pandas-dev/pandas/issues/39767))
- en: Deprecated `Styler.set_na_rep()` and `Styler.set_precision()` in favor of [`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format") with `na_rep` and `precision` as existing
    and new input arguments respectively ([GH 40134](https://github.com/pandas-dev/pandas/issues/40134),
    [GH 40425](https://github.com/pandas-dev/pandas/issues/40425))
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用`Styler.set_na_rep()`和`Styler.set_precision()`，建议使用带有`na_rep`和`precision`的[`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format")，分别作为现有和新的输入参数 ([GH 40134](https://github.com/pandas-dev/pandas/issues/40134),
    [GH 40425](https://github.com/pandas-dev/pandas/issues/40425))
- en: Deprecated `Styler.where()` in favor of using an alternative formulation with
    `Styler.applymap()` ([GH 40821](https://github.com/pandas-dev/pandas/issues/40821))
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用`Styler.where()`，建议使用`Styler.applymap()`的另一种形式 ([GH 40821](https://github.com/pandas-dev/pandas/issues/40821))
- en: Deprecated allowing partial failure in [`Series.transform()`](../reference/api/pandas.Series.transform.html#pandas.Series.transform
    "pandas.Series.transform") and [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") when `func` is list-like or dict-like and raises
    anything but `TypeError`; `func` raising anything but a `TypeError` will raise
    in a future version ([GH 40211](https://github.com/pandas-dev/pandas/issues/40211))
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用在[`Series.transform()`](../reference/api/pandas.Series.transform.html#pandas.Series.transform
    "pandas.Series.transform")和[`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform")中允许部分失败，当`func`类似于列表或字典且引发除`TypeError`之外的异常时；当`func`引发除`TypeError`之外的异常时，将在将来的版本中引发警告
    ([GH 40211](https://github.com/pandas-dev/pandas/issues/40211))
- en: Deprecated arguments `error_bad_lines` and `warn_bad_lines` in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") in favor of argument `on_bad_lines` ([GH 15122](https://github.com/pandas-dev/pandas/issues/15122))
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")和[`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table")中`error_bad_lines`和`warn_bad_lines`参数，而采用`on_bad_lines`参数（[GH
    15122](https://github.com/pandas-dev/pandas/issues/15122)）
- en: 'Deprecated support for `np.ma.mrecords.MaskedRecords` in the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor, pass `{name: data[name] for name in data.dtype.names}`
    instead ([GH 40363](https://github.com/pandas-dev/pandas/issues/40363))'
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '弃用了在[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")构造函数中支持`np.ma.mrecords.MaskedRecords`的方式，应传入`{name:
    data[name] for name in data.dtype.names}`（[GH 40363](https://github.com/pandas-dev/pandas/issues/40363)）'
- en: Deprecated using [`merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge"), [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge"), and [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") on a different number of levels ([GH 34862](https://github.com/pandas-dev/pandas/issues/34862))
  id: totrans-271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了在不同层级上使用[`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")、[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge")和[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join")，导致不同层级的数量不同（[GH 34862](https://github.com/pandas-dev/pandas/issues/34862)）
- en: Deprecated the use of `**kwargs` in [`ExcelWriter`](../reference/api/pandas.ExcelWriter.html#pandas.ExcelWriter
    "pandas.ExcelWriter"); use the keyword argument `engine_kwargs` instead ([GH 40430](https://github.com/pandas-dev/pandas/issues/40430))
  id: totrans-272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了在[`ExcelWriter`](../reference/api/pandas.ExcelWriter.html#pandas.ExcelWriter
    "pandas.ExcelWriter")中使用`**kwargs`的方式；改用关键字参数`engine_kwargs`代替（[GH 40430](https://github.com/pandas-dev/pandas/issues/40430)）
- en: Deprecated the `level` keyword for [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") aggregations; use groupby instead ([GH 39983](https://github.com/pandas-dev/pandas/issues/39983))
  id: totrans-273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")和[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")聚合中的`level`关键字；应使用groupby代替（[GH 39983](https://github.com/pandas-dev/pandas/issues/39983)）
- en: Deprecated the `inplace` parameter of `Categorical.remove_categories()`, `Categorical.add_categories()`,
    `Categorical.reorder_categories()`, `Categorical.rename_categories()`, `Categorical.set_categories()`
    and will be removed in a future version ([GH 37643](https://github.com/pandas-dev/pandas/issues/37643))
  id: totrans-274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了`Categorical.remove_categories()`、`Categorical.add_categories()`、`Categorical.reorder_categories()`、`Categorical.rename_categories()`、`Categorical.set_categories()`的`inplace`参数，并将在将来的版本中移除（[GH
    37643](https://github.com/pandas-dev/pandas/issues/37643)）
- en: Deprecated [`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    producing duplicated columns through the `suffixes` keyword and already existing
    columns ([GH 22818](https://github.com/pandas-dev/pandas/issues/22818))
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了通过`suffixes`关键字在[`merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge")中生成重复列的方式，并且存在已有列（[GH 22818](https://github.com/pandas-dev/pandas/issues/22818)）
- en: Deprecated setting `Categorical._codes`, create a new [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") with the desired codes instead ([GH 40606](https://github.com/pandas-dev/pandas/issues/40606))
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了设置`Categorical._codes`的方法，应创建一个新的[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")并传入所需的代码（[GH 40606](https://github.com/pandas-dev/pandas/issues/40606)）
- en: Deprecated the `convert_float` optional argument in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") and [`ExcelFile.parse()`](../reference/api/pandas.ExcelFile.parse.html#pandas.ExcelFile.parse
    "pandas.ExcelFile.parse") ([GH 41127](https://github.com/pandas-dev/pandas/issues/41127))
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了在[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")和[`ExcelFile.parse()`](../reference/api/pandas.ExcelFile.parse.html#pandas.ExcelFile.parse
    "pandas.ExcelFile.parse")中的`convert_float`可选参数（[GH 41127](https://github.com/pandas-dev/pandas/issues/41127)）
- en: Deprecated behavior of `DatetimeIndex.union()` with mixed timezones; in a future
    version both will be cast to UTC instead of object dtype ([GH 39328](https://github.com/pandas-dev/pandas/issues/39328))
  id: totrans-278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了`DatetimeIndex.union()`的混合时区行为；在将来的版本中，两者将被转换为UTC而不是对象数据类型（[GH 39328](https://github.com/pandas-dev/pandas/issues/39328)）
- en: Deprecated using `usecols` with out of bounds indices for [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") with `engine="c"` ([GH 25623](https://github.com/pandas-dev/pandas/issues/25623))
  id: totrans-279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于使用`engine="c"`的[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")，弃用了对超出边界索引使用`usecols`的特殊处理（[GH 25623](https://github.com/pandas-dev/pandas/issues/25623)）
- en: 'Deprecated special treatment of lists with first element a Categorical in the
    [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    constructor; pass as `pd.DataFrame({col: categorical, ...})` instead ([GH 38845](https://github.com/pandas-dev/pandas/issues/38845))'
  id: totrans-280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '弃用了在[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")构造函数中具有首个元素为分类的列表的特殊处理；改为传递`pd.DataFrame({col:
    categorical, ...})`（[GH 38845](https://github.com/pandas-dev/pandas/issues/38845)）'
- en: Deprecated behavior of [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor when a `dtype` is passed and the data cannot be
    cast to that dtype. In a future version, this will raise instead of being silently
    ignored ([GH 24435](https://github.com/pandas-dev/pandas/issues/24435))
  id: totrans-281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递`dtype`并且数据无法转换为该dtype时，弃用了[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")构造函数的行为。在未来的版本中，这将引发异常而不是被静默忽略（[GH 24435](https://github.com/pandas-dev/pandas/issues/24435)）
- en: Deprecated the `Timestamp.freq` attribute. For the properties that use it (`is_month_start`,
    `is_month_end`, `is_quarter_start`, `is_quarter_end`, `is_year_start`, `is_year_end`),
    when you have a `freq`, use e.g. `freq.is_month_start(ts)` ([GH 15146](https://github.com/pandas-dev/pandas/issues/15146))
  id: totrans-282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了`Timestamp.freq`属性。对于使用它的属性（`is_month_start`、`is_month_end`、`is_quarter_start`、`is_quarter_end`、`is_year_start`、`is_year_end`），当你有一个`freq`时，使用例如`freq.is_month_start(ts)`（[GH
    15146](https://github.com/pandas-dev/pandas/issues/15146)）
- en: Deprecated construction of [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `DatetimeTZDtype` data and `datetime64[ns]` dtype. Use
    `Series(data).dt.tz_localize(None)` instead ([GH 41555](https://github.com/pandas-dev/pandas/issues/41555),
    [GH 33401](https://github.com/pandas-dev/pandas/issues/33401))
  id: totrans-283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`DatetimeTZDtype`数据和`datetime64[ns]` dtype构造[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")或[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")已被弃用。使用`Series(data).dt.tz_localize(None)`代替（[GH 41555](https://github.com/pandas-dev/pandas/issues/41555)，[GH
    33401](https://github.com/pandas-dev/pandas/issues/33401)）
- en: Deprecated behavior of [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") construction with large-integer values and small-integer dtype
    silently overflowing; use `Series(data).astype(dtype)` instead ([GH 41734](https://github.com/pandas-dev/pandas/issues/41734))
  id: totrans-284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`Series`构造中使用大整数值和小整数dtype导致静默溢出时，弃用了该行为；改为使用`Series(data).astype(dtype)`（[GH
    41734](https://github.com/pandas-dev/pandas/issues/41734)）
- en: Deprecated behavior of [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") construction with floating data and integer dtype casting
    even when lossy; in a future version this will remain floating, matching [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") behavior ([GH 41770](https://github.com/pandas-dev/pandas/issues/41770))
  id: totrans-285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了浮点数据和整数dtype转换的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")构造行为，即使是损失性的；在未来的版本中，这将保持浮点型，与[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")的行为一致（[GH 41770](https://github.com/pandas-dev/pandas/issues/41770)）
- en: Deprecated inference of `timedelta64[ns]`, `datetime64[ns]`, or `DatetimeTZDtype`
    dtypes in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    construction when data containing strings is passed and no `dtype` is passed ([GH
    33558](https://github.com/pandas-dev/pandas/issues/33558))
  id: totrans-286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递包含字符串的数据且没有传递`dtype`时，弃用了对[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")构造中的`timedelta64[ns]`、`datetime64[ns]`或`DatetimeTZDtype` dtype的推断行为（[GH
    33558](https://github.com/pandas-dev/pandas/issues/33558)）
- en: In a future version, constructing [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` data and `DatetimeTZDtype` will treat
    the data as wall-times instead of as UTC times (matching DatetimeIndex behavior).
    To treat the data as UTC times, use `pd.Series(data).dt.tz_localize("UTC").dt.tz_convert(dtype.tz)`
    or `pd.Series(data.view("int64"), dtype=dtype)` ([GH 33401](https://github.com/pandas-dev/pandas/issues/33401))
  id: totrans-287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将来的版本中，使用 `datetime64[ns]` 数据和 `DatetimeTZDtype` 构造 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 将把数据视为壁钟时间而不是 UTC 时间（匹配 DatetimeIndex 行为）。要将数据视为 UTC 时间，请使用
    `pd.Series(data).dt.tz_localize("UTC").dt.tz_convert(dtype.tz)` 或 `pd.Series(data.view("int64"),
    dtype=dtype)`（[GH 33401](https://github.com/pandas-dev/pandas/issues/33401)）
- en: Deprecated passing lists as `key` to [`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs") and [`Series.xs()`](../reference/api/pandas.Series.xs.html#pandas.Series.xs
    "pandas.Series.xs") ([GH 41760](https://github.com/pandas-dev/pandas/issues/41760))
  id: totrans-288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃了将列表作为 `key` 传递给 [`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs") 和 [`Series.xs()`](../reference/api/pandas.Series.xs.html#pandas.Series.xs
    "pandas.Series.xs") 的方式（[GH 41760](https://github.com/pandas-dev/pandas/issues/41760)）
- en: Deprecated boolean arguments of `inclusive` in [`Series.between()`](../reference/api/pandas.Series.between.html#pandas.Series.between
    "pandas.Series.between") to have `{"left", "right", "neither", "both"}` as standard
    argument values ([GH 40628](https://github.com/pandas-dev/pandas/issues/40628))
  id: totrans-289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃了在 [`Series.between()`](../reference/api/pandas.Series.between.html#pandas.Series.between
    "pandas.Series.between") 中使用布尔参数作为标准参数值 `{"left", "right", "neither", "both"}`（[GH
    40628](https://github.com/pandas-dev/pandas/issues/40628)）
- en: 'Deprecated passing arguments as positional for all of the following, with exceptions
    noted ([GH 41485](https://github.com/pandas-dev/pandas/issues/41485)):'
  id: totrans-290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃了对以下所有内容使用位置参数传递的方式，特殊情况除外（[GH 41485](https://github.com/pandas-dev/pandas/issues/41485)）：
- en: '[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    (other than `objs`)'
  id: totrans-291
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")（除了
    `objs`）'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    (other than `filepath_or_buffer`)'
  id: totrans-292
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")（除了
    `filepath_or_buffer`）'
- en: '[`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") (other than `filepath_or_buffer`)'
  id: totrans-293
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table")（除了 `filepath_or_buffer`）'
- en: '[`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") and [`Series.clip()`](../reference/api/pandas.Series.clip.html#pandas.Series.clip
    "pandas.Series.clip") (other than `upper` and `lower`)'
  id: totrans-294
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") 和 [`Series.clip()`](../reference/api/pandas.Series.clip.html#pandas.Series.clip
    "pandas.Series.clip")（除了 `upper` 和 `lower`）'
- en: '[`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") (except for `subset`), [`Series.drop_duplicates()`](../reference/api/pandas.Series.drop_duplicates.html#pandas.Series.drop_duplicates
    "pandas.Series.drop_duplicates"), [`Index.drop_duplicates()`](../reference/api/pandas.Index.drop_duplicates.html#pandas.Index.drop_duplicates
    "pandas.Index.drop_duplicates") and `MultiIndex.drop_duplicates()`'
  id: totrans-295
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates")（除了 `subset`）、[`Series.drop_duplicates()`](../reference/api/pandas.Series.drop_duplicates.html#pandas.Series.drop_duplicates
    "pandas.Series.drop_duplicates")、[`Index.drop_duplicates()`](../reference/api/pandas.Index.drop_duplicates.html#pandas.Index.drop_duplicates
    "pandas.Index.drop_duplicates") 和 `MultiIndex.drop_duplicates()`'
- en: '[`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop") (other than `labels`) and [`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop")'
  id: totrans-296
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop")（除了 `labels`）和 [`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop")'
- en: '[`DataFrame.dropna()`](../reference/api/pandas.DataFrame.dropna.html#pandas.DataFrame.dropna
    "pandas.DataFrame.dropna") and [`Series.dropna()`](../reference/api/pandas.Series.dropna.html#pandas.Series.dropna
    "pandas.Series.dropna")'
  id: totrans-297
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.dropna()`](../reference/api/pandas.DataFrame.dropna.html#pandas.DataFrame.dropna
    "pandas.DataFrame.dropna") 和 [`Series.dropna()`](../reference/api/pandas.Series.dropna.html#pandas.Series.dropna
    "pandas.Series.dropna")'
- en: '[`DataFrame.ffill()`](../reference/api/pandas.DataFrame.ffill.html#pandas.DataFrame.ffill
    "pandas.DataFrame.ffill"), [`Series.ffill()`](../reference/api/pandas.Series.ffill.html#pandas.Series.ffill
    "pandas.Series.ffill"), [`DataFrame.bfill()`](../reference/api/pandas.DataFrame.bfill.html#pandas.DataFrame.bfill
    "pandas.DataFrame.bfill"), and [`Series.bfill()`](../reference/api/pandas.Series.bfill.html#pandas.Series.bfill
    "pandas.Series.bfill")'
  id: totrans-298
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.ffill()`](../reference/api/pandas.DataFrame.ffill.html#pandas.DataFrame.ffill
    "pandas.DataFrame.ffill"), [`Series.ffill()`](../reference/api/pandas.Series.ffill.html#pandas.Series.ffill
    "pandas.Series.ffill"), [`DataFrame.bfill()`](../reference/api/pandas.DataFrame.bfill.html#pandas.DataFrame.bfill
    "pandas.DataFrame.bfill") 和 [`Series.bfill()`](../reference/api/pandas.Series.bfill.html#pandas.Series.bfill
    "pandas.Series.bfill")'
- en: '[`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") and [`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") (apart from `value`)'
  id: totrans-299
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") 和 [`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") （除了 `value`）'
- en: '[`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate") and [`Series.interpolate()`](../reference/api/pandas.Series.interpolate.html#pandas.Series.interpolate
    "pandas.Series.interpolate") (other than `method`)'
  id: totrans-300
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate") 和 [`Series.interpolate()`](../reference/api/pandas.Series.interpolate.html#pandas.Series.interpolate
    "pandas.Series.interpolate") （除了 `method`）'
- en: '[`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask") and [`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask") (other than `cond` and `other`)'
  id: totrans-301
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask") 和 [`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask") （除了 `cond` 和 `other`）'
- en: '[`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") (other than `level`) and [`Series.reset_index()`](../reference/api/pandas.Series.reset_index.html#pandas.Series.reset_index
    "pandas.Series.reset_index")'
  id: totrans-302
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") （除了 `level`） 和 [`Series.reset_index()`](../reference/api/pandas.Series.reset_index.html#pandas.Series.reset_index
    "pandas.Series.reset_index")'
- en: '[`DataFrame.set_axis()`](../reference/api/pandas.DataFrame.set_axis.html#pandas.DataFrame.set_axis
    "pandas.DataFrame.set_axis") and [`Series.set_axis()`](../reference/api/pandas.Series.set_axis.html#pandas.Series.set_axis
    "pandas.Series.set_axis") (other than `labels`)'
  id: totrans-303
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.set_axis()`](../reference/api/pandas.DataFrame.set_axis.html#pandas.DataFrame.set_axis
    "pandas.DataFrame.set_axis") 和 [`Series.set_axis()`](../reference/api/pandas.Series.set_axis.html#pandas.Series.set_axis
    "pandas.Series.set_axis") （除了 `labels`）'
- en: '[`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index") (other than `keys`)'
  id: totrans-304
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index") （除了 `keys`）'
- en: '[`DataFrame.sort_index()`](../reference/api/pandas.DataFrame.sort_index.html#pandas.DataFrame.sort_index
    "pandas.DataFrame.sort_index") and [`Series.sort_index()`](../reference/api/pandas.Series.sort_index.html#pandas.Series.sort_index
    "pandas.Series.sort_index")'
  id: totrans-305
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.sort_index()`](../reference/api/pandas.DataFrame.sort_index.html#pandas.DataFrame.sort_index
    "pandas.DataFrame.sort_index") 和 [`Series.sort_index()`](../reference/api/pandas.Series.sort_index.html#pandas.Series.sort_index
    "pandas.Series.sort_index")'
- en: '[`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") (other than `by`) and [`Series.sort_values()`](../reference/api/pandas.Series.sort_values.html#pandas.Series.sort_values
    "pandas.Series.sort_values")'
  id: totrans-306
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") （除了 `by`） 和 [`Series.sort_values()`](../reference/api/pandas.Series.sort_values.html#pandas.Series.sort_values
    "pandas.Series.sort_values")'
- en: '[`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") and [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") (other than `cond` and `other`)'
  id: totrans-307
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") 和 [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") （除了 `cond` 和 `other`）'
- en: '[`Index.set_names()`](../reference/api/pandas.Index.set_names.html#pandas.Index.set_names
    "pandas.Index.set_names") and `MultiIndex.set_names()` (except for `names`)'
  id: totrans-308
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.set_names()`](../reference/api/pandas.Index.set_names.html#pandas.Index.set_names
    "pandas.Index.set_names") 和 `MultiIndex.set_names()`（除了 `names`）'
- en: '[`MultiIndex.codes()`](../reference/api/pandas.MultiIndex.codes.html#pandas.MultiIndex.codes
    "pandas.MultiIndex.codes") (except for `codes`)'
  id: totrans-309
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.codes()`](../reference/api/pandas.MultiIndex.codes.html#pandas.MultiIndex.codes
    "pandas.MultiIndex.codes")（除了 `codes`）'
- en: '[`MultiIndex.set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels") (except for `levels`)'
  id: totrans-310
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels")（除了 `levels`）'
- en: '`Resampler.interpolate()` (other than `method`)  ## Performance improvements'
  id: totrans-311
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Resampler.interpolate()`（除了 `method`）## 性能改进'
- en: Performance improvement in `IntervalIndex.isin()` ([GH 38353](https://github.com/pandas-dev/pandas/issues/38353))
  id: totrans-312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.isin()` 的性能改进（[GH 38353](https://github.com/pandas-dev/pandas/issues/38353)）'
- en: Performance improvement in [`Series.mean()`](../reference/api/pandas.Series.mean.html#pandas.Series.mean
    "pandas.Series.mean") for nullable data types ([GH 34814](https://github.com/pandas-dev/pandas/issues/34814))
  id: totrans-313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.mean()`](../reference/api/pandas.Series.mean.html#pandas.Series.mean
    "pandas.Series.mean") 可空数据类型的性能改进（[GH 34814](https://github.com/pandas-dev/pandas/issues/34814)）'
- en: Performance improvement in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") for nullable data types ([GH 38340](https://github.com/pandas-dev/pandas/issues/38340))
  id: totrans-314
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") 可空数据类型的性能改进（[GH 38340](https://github.com/pandas-dev/pandas/issues/38340)）'
- en: Performance improvement in [`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") with `method="pad"` or `method="backfill"` for nullable
    floating and nullable integer dtypes ([GH 39953](https://github.com/pandas-dev/pandas/issues/39953))
  id: totrans-315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") 在可为空的浮点数和可为空的整数数据类型下，使用 `method="pad"` 或 `method="backfill"`
    的性能改进（[GH 39953](https://github.com/pandas-dev/pandas/issues/39953)）'
- en: Performance improvement in [`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") for `method=kendall` ([GH 28329](https://github.com/pandas-dev/pandas/issues/28329))
  id: totrans-316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") 在 `method=kendall` 下的性能改进（[GH 28329](https://github.com/pandas-dev/pandas/issues/28329)）'
- en: Performance improvement in [`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") for `method=spearman` ([GH 40956](https://github.com/pandas-dev/pandas/issues/40956),
    [GH 41885](https://github.com/pandas-dev/pandas/issues/41885))
  id: totrans-317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") 在 `method=spearman` 下的性能改进（[GH 40956](https://github.com/pandas-dev/pandas/issues/40956),
    [GH 41885](https://github.com/pandas-dev/pandas/issues/41885)）'
- en: Performance improvement in [`Rolling.corr()`](../reference/api/pandas.core.window.rolling.Rolling.corr.html#pandas.core.window.rolling.Rolling.corr
    "pandas.core.window.rolling.Rolling.corr") and [`Rolling.cov()`](../reference/api/pandas.core.window.rolling.Rolling.cov.html#pandas.core.window.rolling.Rolling.cov
    "pandas.core.window.rolling.Rolling.cov") ([GH 39388](https://github.com/pandas-dev/pandas/issues/39388))
  id: totrans-318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Rolling.corr()`](../reference/api/pandas.core.window.rolling.Rolling.corr.html#pandas.core.window.rolling.Rolling.corr
    "pandas.core.window.rolling.Rolling.corr") 和 [`Rolling.cov()`](../reference/api/pandas.core.window.rolling.Rolling.cov.html#pandas.core.window.rolling.Rolling.cov
    "pandas.core.window.rolling.Rolling.cov") 的性能改进（[GH 39388](https://github.com/pandas-dev/pandas/issues/39388)）'
- en: Performance improvement in `RollingGroupby.corr()`, `ExpandingGroupby.corr()`,
    `ExpandingGroupby.corr()` and `ExpandingGroupby.cov()` ([GH 39591](https://github.com/pandas-dev/pandas/issues/39591))
  id: totrans-319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RollingGroupby.corr()`、`ExpandingGroupby.corr()`、`ExpandingGroupby.corr()`
    和 `ExpandingGroupby.cov()` 的性能改进（[GH 39591](https://github.com/pandas-dev/pandas/issues/39591)）'
- en: Performance improvement in [`unique()`](../reference/api/pandas.unique.html#pandas.unique
    "pandas.unique") for object data type ([GH 37615](https://github.com/pandas-dev/pandas/issues/37615))
  id: totrans-320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`unique()`](../reference/api/pandas.unique.html#pandas.unique "pandas.unique")
    对象数据类型的性能改进（[GH 37615](https://github.com/pandas-dev/pandas/issues/37615)）'
- en: Performance improvement in [`json_normalize()`](../reference/api/pandas.json_normalize.html#pandas.json_normalize
    "pandas.json_normalize") for basic cases (including separators) ([GH 40035](https://github.com/pandas-dev/pandas/issues/40035)
    [GH 15621](https://github.com/pandas-dev/pandas/issues/15621))
  id: totrans-321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`json_normalize()`](../reference/api/pandas.json_normalize.html#pandas.json_normalize
    "pandas.json_normalize") 在基本情况下（包括分隔符）的性能改进（[GH 40035](https://github.com/pandas-dev/pandas/issues/40035)
    [GH 15621](https://github.com/pandas-dev/pandas/issues/15621)）'
- en: Performance improvement in `ExpandingGroupby` aggregation methods ([GH 39664](https://github.com/pandas-dev/pandas/issues/39664))
  id: totrans-322
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExpandingGroupby` 聚合方法的性能改进（[GH 39664](https://github.com/pandas-dev/pandas/issues/39664)）'
- en: Performance improvement in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") where render times are more than 50% reduced
    and now matches [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") ([GH 39972](https://github.com/pandas-dev/pandas/issues/39972)
    [GH 39952](https://github.com/pandas-dev/pandas/issues/39952), [GH 40425](https://github.com/pandas-dev/pandas/issues/40425))
  id: totrans-323
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 中的性能改进，渲染时间减少了超过 50%，现在与 [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") 相匹配 ([GH 39972](https://github.com/pandas-dev/pandas/issues/39972)
    [GH 39952](https://github.com/pandas-dev/pandas/issues/39952), [GH 40425](https://github.com/pandas-dev/pandas/issues/40425))
- en: The method [`Styler.set_td_classes()`](../reference/api/pandas.io.formats.style.Styler.set_td_classes.html#pandas.io.formats.style.Styler.set_td_classes
    "pandas.io.formats.style.Styler.set_td_classes") is now as performant as [`Styler.apply()`](../reference/api/pandas.io.formats.style.Styler.apply.html#pandas.io.formats.style.Styler.apply
    "pandas.io.formats.style.Styler.apply") and `Styler.applymap()`, and even more
    so in some cases ([GH 40453](https://github.com/pandas-dev/pandas/issues/40453))
  id: totrans-324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法 [`Styler.set_td_classes()`](../reference/api/pandas.io.formats.style.Styler.set_td_classes.html#pandas.io.formats.style.Styler.set_td_classes
    "pandas.io.formats.style.Styler.set_td_classes") 现在与 [`Styler.apply()`](../reference/api/pandas.io.formats.style.Styler.apply.html#pandas.io.formats.style.Styler.apply
    "pandas.io.formats.style.Styler.apply") 和 `Styler.applymap()` 一样高效，甚至在某些情况下更高效
    ([GH 40453](https://github.com/pandas-dev/pandas/issues/40453))
- en: Performance improvement in [`ExponentialMovingWindow.mean()`](../reference/api/pandas.core.window.ewm.ExponentialMovingWindow.mean.html#pandas.core.window.ewm.ExponentialMovingWindow.mean
    "pandas.core.window.ewm.ExponentialMovingWindow.mean") with `times` ([GH 39784](https://github.com/pandas-dev/pandas/issues/39784))
  id: totrans-325
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在带有 `times` 参数的 [`ExponentialMovingWindow.mean()`](../reference/api/pandas.core.window.ewm.ExponentialMovingWindow.mean.html#pandas.core.window.ewm.ExponentialMovingWindow.mean
    "pandas.core.window.ewm.ExponentialMovingWindow.mean") 中的性能改进 ([GH 39784](https://github.com/pandas-dev/pandas/issues/39784))
- en: Performance improvement in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") and [`SeriesGroupBy.apply()`](../reference/api/pandas.core.groupby.SeriesGroupBy.apply.html#pandas.core.groupby.SeriesGroupBy.apply
    "pandas.core.groupby.SeriesGroupBy.apply") when requiring the Python fallback
    implementation ([GH 40176](https://github.com/pandas-dev/pandas/issues/40176))
  id: totrans-326
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在需要 Python 回退实现时的 [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") 和 [`SeriesGroupBy.apply()`](../reference/api/pandas.core.groupby.SeriesGroupBy.apply.html#pandas.core.groupby.SeriesGroupBy.apply
    "pandas.core.groupby.SeriesGroupBy.apply") 中的性能改进 ([GH 40176](https://github.com/pandas-dev/pandas/issues/40176))
- en: Performance improvement in the conversion of a PyArrow Boolean array to a pandas
    nullable Boolean array ([GH 41051](https://github.com/pandas-dev/pandas/issues/41051))
  id: totrans-327
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将 PyArrow 布尔数组转换为 pandas 可空布尔数组时的性能改进 ([GH 41051](https://github.com/pandas-dev/pandas/issues/41051))
- en: Performance improvement for concatenation of data with type [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") ([GH 40193](https://github.com/pandas-dev/pandas/issues/40193))
  id: totrans-328
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据拼接性能改进，对于 [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") 类型的数据拼接 ([GH 40193](https://github.com/pandas-dev/pandas/issues/40193))
- en: Performance improvement in [`DataFrameGroupBy.cummin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummin.html#pandas.core.groupby.DataFrameGroupBy.cummin
    "pandas.core.groupby.DataFrameGroupBy.cummin"), [`SeriesGroupBy.cummin()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummin.html#pandas.core.groupby.SeriesGroupBy.cummin
    "pandas.core.groupby.SeriesGroupBy.cummin"), [`DataFrameGroupBy.cummax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummax.html#pandas.core.groupby.DataFrameGroupBy.cummax
    "pandas.core.groupby.DataFrameGroupBy.cummax"), and [`SeriesGroupBy.cummax()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummax.html#pandas.core.groupby.SeriesGroupBy.cummax
    "pandas.core.groupby.SeriesGroupBy.cummax") with nullable data types ([GH 37493](https://github.com/pandas-dev/pandas/issues/37493))
  id: totrans-329
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有可空数据类型的[`DataFrameGroupBy.cummin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummin.html#pandas.core.groupby.DataFrameGroupBy.cummin
    "pandas.core.groupby.DataFrameGroupBy.cummin")、[`SeriesGroupBy.cummin()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummin.html#pandas.core.groupby.SeriesGroupBy.cummin
    "pandas.core.groupby.SeriesGroupBy.cummin")、[`DataFrameGroupBy.cummax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummax.html#pandas.core.groupby.DataFrameGroupBy.cummax
    "pandas.core.groupby.DataFrameGroupBy.cummax")和[`SeriesGroupBy.cummax()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummax.html#pandas.core.groupby.SeriesGroupBy.cummax
    "pandas.core.groupby.SeriesGroupBy.cummax")中的性能改进 ([GH 37493](https://github.com/pandas-dev/pandas/issues/37493))
- en: Performance improvement in [`Series.nunique()`](../reference/api/pandas.Series.nunique.html#pandas.Series.nunique
    "pandas.Series.nunique") with nan values ([GH 40865](https://github.com/pandas-dev/pandas/issues/40865))
  id: totrans-330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有nan值的[`Series.nunique()`](../reference/api/pandas.Series.nunique.html#pandas.Series.nunique
    "pandas.Series.nunique")中的性能改进 ([GH 40865](https://github.com/pandas-dev/pandas/issues/40865))
- en: Performance improvement in [`DataFrame.transpose()`](../reference/api/pandas.DataFrame.transpose.html#pandas.DataFrame.transpose
    "pandas.DataFrame.transpose"), [`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack") with `DatetimeTZDtype` ([GH 40149](https://github.com/pandas-dev/pandas/issues/40149))
  id: totrans-331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有`DatetimeTZDtype`的[`DataFrame.transpose()`](../reference/api/pandas.DataFrame.transpose.html#pandas.DataFrame.transpose
    "pandas.DataFrame.transpose")、[`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack")中的性能改进 ([GH 40149](https://github.com/pandas-dev/pandas/issues/40149))
- en: 'Performance improvement in [`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot") and [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") with entry point lazy loading ([GH 41492](https://github.com/pandas-dev/pandas/issues/41492))  ##
    Bug fixes'
  id: totrans-332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '在懒加载入口点中的[`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot")和[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot")中的性能改进 ([GH 41492](https://github.com/pandas-dev/pandas/issues/41492))  ##
    Bug fixes'
- en: Categorical
  id: totrans-333
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分类
- en: Bug in [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") incorrectly failing to raise `TypeError` when scalar
    data is passed ([GH 38614](https://github.com/pandas-dev/pandas/issues/38614))
  id: totrans-334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当标量数据被传递时，[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")中的错误不正确地未引发`TypeError`（[GH 38614](https://github.com/pandas-dev/pandas/issues/38614))
- en: Bug in `CategoricalIndex.reindex` failed when the [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") passed was not categorical but whose values were all labels in
    the category ([GH 28690](https://github.com/pandas-dev/pandas/issues/28690))
  id: totrans-335
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递的[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")不是分类的，但其值都是类别中的标签时，`CategoricalIndex.reindex`中的错误（[GH
    28690](https://github.com/pandas-dev/pandas/issues/28690))
- en: Bug where constructing a [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") from an object-dtype array of `date` objects did not round-trip
    correctly with `astype` ([GH 38552](https://github.com/pandas-dev/pandas/issues/38552))
  id: totrans-336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从`date`对象的对象类型数组构造[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")时，未能正确进行往返处理，即未能正确使用`astype`进行往返处理 ([GH 38552](https://github.com/pandas-dev/pandas/issues/38552))
- en: Bug in constructing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") from an `ndarray` and a [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") ([GH 38857](https://github.com/pandas-dev/pandas/issues/38857))
  id: totrans-337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从`ndarray`和[`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype")构造[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")中存在的错误（[GH 38857](https://github.com/pandas-dev/pandas/issues/38857))
- en: Bug in setting categorical values into an object-dtype column in a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 39136](https://github.com/pandas-dev/pandas/issues/39136))
  id: totrans-338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将分类值设置到 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 的对象 dtype 列中时出现错误 ([GH 39136](https://github.com/pandas-dev/pandas/issues/39136))
- en: Bug in [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") was raising an `IndexError` when the new index contained
    duplicates and the old index was a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") ([GH 38906](https://github.com/pandas-dev/pandas/issues/38906))
  id: totrans-339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") 时出现了一个错误，当新索引包含重复项且旧索引是一个 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 时，会引发 `IndexError` ([GH 38906](https://github.com/pandas-dev/pandas/issues/38906))
- en: Bug in `Categorical.fillna()` with a tuple-like category raising `NotImplementedError`
    instead of `ValueError` when filling with a non-category tuple ([GH 41914](https://github.com/pandas-dev/pandas/issues/41914))
  id: totrans-340
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `Categorical.fillna()` 时，当用非分类元组填充时，会引发 `NotImplementedError` 而不是 `ValueError`
    ([GH 41914](https://github.com/pandas-dev/pandas/issues/41914))
- en: Datetimelike
  id: totrans-341
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Datetimelike
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") constructors sometimes dropping nanoseconds from [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") (resp. [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")) `data`, with `dtype=datetime64[ns]` (resp. `timedelta64[ns]`)
    ([GH 38032](https://github.com/pandas-dev/pandas/issues/38032))
  id: totrans-342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    和 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    构造函数中，有时会从 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")（或 [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")）的 `data` 中删除纳秒，其 `dtype` 为 `datetime64[ns]`（或 `timedelta64[ns]`）
    ([GH 38032](https://github.com/pandas-dev/pandas/issues/38032))
- en: Bug in [`DataFrame.first()`](../reference/api/pandas.DataFrame.first.html#pandas.DataFrame.first
    "pandas.DataFrame.first") and [`Series.first()`](../reference/api/pandas.Series.first.html#pandas.Series.first
    "pandas.Series.first") with an offset of one month returning an incorrect result
    when the first day is the last day of a month ([GH 29623](https://github.com/pandas-dev/pandas/issues/29623))
  id: totrans-343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 [`DataFrame.first()`](../reference/api/pandas.DataFrame.first.html#pandas.DataFrame.first
    "pandas.DataFrame.first") 和 [`Series.first()`](../reference/api/pandas.Series.first.html#pandas.Series.first
    "pandas.Series.first") 时出现错误，当偏移量为一个月时，当第一天是月份的最后一天时返回错误的结果 ([GH 29623](https://github.com/pandas-dev/pandas/issues/29623))
- en: Bug in constructing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with mismatched `datetime64` data and `timedelta64` dtype, or
    vice-versa, failing to raise a `TypeError` ([GH 38575](https://github.com/pandas-dev/pandas/issues/38575),
    [GH 38764](https://github.com/pandas-dev/pandas/issues/38764), [GH 38792](https://github.com/pandas-dev/pandas/issues/38792))
  id: totrans-344
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在构建一个含有不匹配的 `datetime64` 数据和 `timedelta64` dtype 的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 或 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 时出现错误，或者反之，未能引发 `TypeError` ([GH 38575](https://github.com/pandas-dev/pandas/issues/38575),
    [GH 38764](https://github.com/pandas-dev/pandas/issues/38764), [GH 38792](https://github.com/pandas-dev/pandas/issues/38792))
- en: Bug in constructing a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a `datetime` object out of bounds for `datetime64[ns]`
    dtype or a `timedelta` object out of bounds for `timedelta64[ns]` dtype ([GH 38792](https://github.com/pandas-dev/pandas/issues/38792),
    [GH 38965](https://github.com/pandas-dev/pandas/issues/38965))
  id: totrans-345
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `datetime64[ns]` dtype 类型的 `datetime` 对象或 `timedelta64[ns]` dtype 类型的 `timedelta`
    对象构建 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    时出现错误，超出范围 ([GH 38792](https://github.com/pandas-dev/pandas/issues/38792), [GH
    38965](https://github.com/pandas-dev/pandas/issues/38965))
- en: Bug in `DatetimeIndex.intersection()`, `DatetimeIndex.symmetric_difference()`,
    `PeriodIndex.intersection()`, `PeriodIndex.symmetric_difference()` always returning
    object-dtype when operating with [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") ([GH 38741](https://github.com/pandas-dev/pandas/issues/38741))
  id: totrans-346
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DatetimeIndex.intersection()`, `DatetimeIndex.symmetric_difference()`, `PeriodIndex.intersection()`,
    `PeriodIndex.symmetric_difference()` 中存在 Bug，当与 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 进行操作时，始终返回对象类型 ([GH 38741](https://github.com/pandas-dev/pandas/issues/38741))
- en: Bug in `DatetimeIndex.intersection()` giving incorrect results with non-Tick
    frequencies with `n != 1` ([GH 42104](https://github.com/pandas-dev/pandas/issues/42104))
  id: totrans-347
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DatetimeIndex.intersection()` 中存在 Bug，当频率为非 Tick 时，`n != 1` 时返回错误结果 ([GH
    42104](https://github.com/pandas-dev/pandas/issues/42104))
- en: Bug in [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") incorrectly casting `datetime64` values to `int64` ([GH
    37682](https://github.com/pandas-dev/pandas/issues/37682))
  id: totrans-348
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") 中存在 Bug，错误地将 `datetime64` 值转换为 `int64` ([GH 37682](https://github.com/pandas-dev/pandas/issues/37682))
- en: Bug in [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") incorrectly typecasting `datetime` object to `Timestamp`
    ([GH 38878](https://github.com/pandas-dev/pandas/issues/38878))
  id: totrans-349
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") 中的 Bug 错误地将 `datetime` 对象类型转换为 `Timestamp` ([GH 38878](https://github.com/pandas-dev/pandas/issues/38878))'
- en: Bug in comparisons between [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") object and `datetime64` objects just outside the implementation
    bounds for nanosecond `datetime64` ([GH 39221](https://github.com/pandas-dev/pandas/issues/39221))
  id: totrans-350
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Timestamp` 对象和纳秒 `datetime64` 实现边界外的 `datetime64` 对象之间的比较中存在 Bug ([GH 39221](https://github.com/pandas-dev/pandas/issues/39221))
- en: Bug in [`Timestamp.round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round"), [`Timestamp.floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor"), [`Timestamp.ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil") for values near the implementation bounds of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") ([GH 39244](https://github.com/pandas-dev/pandas/issues/39244))
  id: totrans-351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Timestamp.round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round"), [`Timestamp.floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor"), [`Timestamp.ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil") 的实现边界附近的值中存在 Bug，导致 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 错误地舍入为 `Timestamp` ([GH 39244](https://github.com/pandas-dev/pandas/issues/39244))
- en: Bug in [`Timedelta.round()`](../reference/api/pandas.Timedelta.round.html#pandas.Timedelta.round
    "pandas.Timedelta.round"), [`Timedelta.floor()`](../reference/api/pandas.Timedelta.floor.html#pandas.Timedelta.floor
    "pandas.Timedelta.floor"), [`Timedelta.ceil()`](../reference/api/pandas.Timedelta.ceil.html#pandas.Timedelta.ceil
    "pandas.Timedelta.ceil") for values near the implementation bounds of [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") ([GH 38964](https://github.com/pandas-dev/pandas/issues/38964))
  id: totrans-352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Timedelta.round()`](../reference/api/pandas.Timedelta.round.html#pandas.Timedelta.round
    "pandas.Timedelta.round"), [`Timedelta.floor()`](../reference/api/pandas.Timedelta.floor.html#pandas.Timedelta.floor
    "pandas.Timedelta.floor"), [`Timedelta.ceil()`](../reference/api/pandas.Timedelta.ceil.html#pandas.Timedelta.ceil
    "pandas.Timedelta.ceil") 的实现边界附近的值中存在 Bug，导致 [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") 错误地舍入为 `Timestamp` ([GH 38964](https://github.com/pandas-dev/pandas/issues/38964))
- en: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") incorrectly creating [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") containing `NaT` instead of raising `OutOfBoundsDatetime`
    in corner cases ([GH 24124](https://github.com/pandas-dev/pandas/issues/24124))
  id: totrans-353
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") 中存在 Bug，在极端情况下，错误地创建包含 `NaT` 的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 而不是引发 `OutOfBoundsDatetime` ([GH 24124](https://github.com/pandas-dev/pandas/issues/24124))
- en: Bug in [`infer_freq()`](../reference/api/pandas.infer_freq.html#pandas.infer_freq
    "pandas.infer_freq") incorrectly fails to infer ‘H’ frequency of [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") if the latter has a timezone and crosses DST boundaries
    ([GH 39556](https://github.com/pandas-dev/pandas/issues/39556))
  id: totrans-354
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`infer_freq()`](../reference/api/pandas.infer_freq.html#pandas.infer_freq
    "pandas.infer_freq") 错误地未能推断带有时区且跨越 DST 边界的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 的 ‘H’ 频率的 Bug（[GH 39556](https://github.com/pandas-dev/pandas/issues/39556)）'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    backed by `DatetimeArray` or `TimedeltaArray` sometimes failing to set the array’s
    `freq` to `None` ([GH 41425](https://github.com/pandas-dev/pandas/issues/41425))
  id: totrans-355
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由 `DatetimeArray` 或 `TimedeltaArray` 支持的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 有时无法将数组的 `freq` 设置为 `None` 的 Bug（[GH 41425](https://github.com/pandas-dev/pandas/issues/41425)）
- en: Timedelta
  id: totrans-356
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时间差
- en: Bug in constructing [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") from `np.timedelta64` objects with non-nanosecond units that
    are out of bounds for `timedelta64[ns]` ([GH 38965](https://github.com/pandas-dev/pandas/issues/38965))
  id: totrans-357
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由非纳秒单位的 `np.timedelta64` 对象构造 [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") 时出现 Bug，该单位超出了 `timedelta64[ns]` 的边界（[GH 38965](https://github.com/pandas-dev/pandas/issues/38965)）
- en: Bug in constructing a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") incorrectly accepting `np.datetime64("NaT")` objects
    ([GH 39462](https://github.com/pandas-dev/pandas/issues/39462))
  id: totrans-358
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构造 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 时的 Bug，错误地接受了 `np.datetime64("NaT")` 对象（[GH 39462](https://github.com/pandas-dev/pandas/issues/39462)）
- en: Bug in constructing [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") from an input string with only symbols and no digits failed
    to raise an error ([GH 39710](https://github.com/pandas-dev/pandas/issues/39710))
  id: totrans-359
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从仅包含符号而没有数字的输入字符串构造 [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") 时出现 Bug 未能引发错误（[GH 39710](https://github.com/pandas-dev/pandas/issues/39710)）
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") and [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") failing to raise when passed non-nanosecond `timedelta64`
    arrays that overflow when converting to `timedelta64[ns]` ([GH 40008](https://github.com/pandas-dev/pandas/issues/40008))
  id: totrans-360
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构造 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 和 [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") 时，当传递非纳秒 `timedelta64` 数组并在转换为 `timedelta64[ns]` 时溢出时未能引发
    Bug（[GH 40008](https://github.com/pandas-dev/pandas/issues/40008)）
- en: Timezones
  id: totrans-361
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时区
- en: Bug in different `tzinfo` objects representing UTC not being treated as equivalent
    ([GH 39216](https://github.com/pandas-dev/pandas/issues/39216))
  id: totrans-362
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不同的 `tzinfo` 对象表示 UTC 未被视为等价的 Bug（[GH 39216](https://github.com/pandas-dev/pandas/issues/39216)）
- en: Bug in `dateutil.tz.gettz("UTC")` not being recognized as equivalent to other
    UTC-representing tzinfos ([GH 39276](https://github.com/pandas-dev/pandas/issues/39276))
  id: totrans-363
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `dateutil.tz.gettz("UTC")` 未被识别为等同于其他表示 UTC 的 `tzinfos` 的 Bug（[GH 39276](https://github.com/pandas-dev/pandas/issues/39276)）
- en: Numeric
  id: totrans-364
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数值
- en: Bug in [`DataFrame.quantile()`](../reference/api/pandas.DataFrame.quantile.html#pandas.DataFrame.quantile
    "pandas.DataFrame.quantile"), [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") causing incorrect subsequent indexing behavior
    ([GH 38351](https://github.com/pandas-dev/pandas/issues/38351))
  id: totrans-365
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.quantile()`](../reference/api/pandas.DataFrame.quantile.html#pandas.DataFrame.quantile
    "pandas.DataFrame.quantile") 和 [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") 中的 Bug 导致了不正确的后续索引行为（[GH 38351](https://github.com/pandas-dev/pandas/issues/38351)）'
- en: Bug in [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") raising an [`IndexError`](https://docs.python.org/3/library/exceptions.html#IndexError
    "(in Python v3.12)") for empty `by` ([GH 40258](https://github.com/pandas-dev/pandas/issues/40258))
  id: totrans-366
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") 中的 Bug，在空 `by` 时引发了 [`IndexError`](https://docs.python.org/3/library/exceptions.html#IndexError
    "(in Python v3.12)")（[GH 40258](https://github.com/pandas-dev/pandas/issues/40258)")'
- en: Bug in [`DataFrame.select_dtypes()`](../reference/api/pandas.DataFrame.select_dtypes.html#pandas.DataFrame.select_dtypes
    "pandas.DataFrame.select_dtypes") with `include=np.number` would drop numeric
    `ExtensionDtype` columns ([GH 35340](https://github.com/pandas-dev/pandas/issues/35340))
  id: totrans-367
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.select_dtypes()`](../reference/api/pandas.DataFrame.select_dtypes.html#pandas.DataFrame.select_dtypes
    "pandas.DataFrame.select_dtypes") 在 `include=np.number` 时会丢弃数值型 `ExtensionDtype`
    列（[GH 35340](https://github.com/pandas-dev/pandas/issues/35340))'
- en: Bug in [`DataFrame.mode()`](../reference/api/pandas.DataFrame.mode.html#pandas.DataFrame.mode
    "pandas.DataFrame.mode") and [`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode") not keeping consistent integer [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") for empty input ([GH 33321](https://github.com/pandas-dev/pandas/issues/33321))
  id: totrans-368
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.mode()`](../reference/api/pandas.DataFrame.mode.html#pandas.DataFrame.mode
    "pandas.DataFrame.mode") 和 [`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode") 在空输入时未保持一致的整数 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 存在错误（[GH 33321](https://github.com/pandas-dev/pandas/issues/33321))'
- en: Bug in [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") when the DataFrame contained `np.inf` ([GH 32593](https://github.com/pandas-dev/pandas/issues/32593))
  id: totrans-369
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") 在 DataFrame 包含 `np.inf` 时存在错误（[GH 32593](https://github.com/pandas-dev/pandas/issues/32593))'
- en: Bug in [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") with `axis=0` and columns holding incomparable types
    raising an `IndexError` ([GH 38932](https://github.com/pandas-dev/pandas/issues/38932))
  id: totrans-370
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") 存在错误，当 `axis=0` 并且列包含不可比较的类型时会引发 `IndexError`（[GH 38932](https://github.com/pandas-dev/pandas/issues/38932))'
- en: Bug in [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank"), [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank"), [`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank"), and [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") treating the most negative `int64` value
    as missing ([GH 32859](https://github.com/pandas-dev/pandas/issues/32859))
  id: totrans-371
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank")、[`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank")、[`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") 和 [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") 处理最负的 `int64` 值为缺失值存在错误（[GH 32859](https://github.com/pandas-dev/pandas/issues/32859))'
- en: Bug in [`DataFrame.select_dtypes()`](../reference/api/pandas.DataFrame.select_dtypes.html#pandas.DataFrame.select_dtypes
    "pandas.DataFrame.select_dtypes") different behavior between Windows and Linux
    with `include="int"` ([GH 36596](https://github.com/pandas-dev/pandas/issues/36596))
  id: totrans-372
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.select_dtypes()`](../reference/api/pandas.DataFrame.select_dtypes.html#pandas.DataFrame.select_dtypes
    "pandas.DataFrame.select_dtypes") 在 Windows 和 Linux 中 `include="int"` 时存在不同的行为（[GH
    36596](https://github.com/pandas-dev/pandas/issues/36596))'
- en: Bug in [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") and [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg") when passed the argument `func="size"` would operate on
    the entire `DataFrame` instead of rows or columns ([GH 39934](https://github.com/pandas-dev/pandas/issues/39934))
  id: totrans-373
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") 和 [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg") 在传递参数 `func="size"` 时存在错误，会操作整个 `DataFrame` 而不是行或列（[GH
    39934](https://github.com/pandas-dev/pandas/issues/39934))'
- en: Bug in [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") would raise a `SpecificationError` when passed a
    dictionary and columns were missing; will now raise a `KeyError` instead ([GH
    40004](https://github.com/pandas-dev/pandas/issues/40004))
  id: totrans-374
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") 在传递字典且列丢失时会引发 `SpecificationError`；现在会引发 `KeyError`（[GH
    40004](https://github.com/pandas-dev/pandas/issues/40004))'
- en: Bug in [`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") and [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") giving incorrect results with `pct=True`
    and equal values between consecutive groups ([GH 40518](https://github.com/pandas-dev/pandas/issues/40518))
  id: totrans-375
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `pct=True` 且连续组之间存在相等值时，[`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") 和 [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") 会给出错误的结果（[GH 40518](https://github.com/pandas-dev/pandas/issues/40518))
- en: Bug in [`Series.count()`](../reference/api/pandas.Series.count.html#pandas.Series.count
    "pandas.Series.count") would result in an `int32` result on 32-bit platforms when
    argument `level=None` ([GH 40908](https://github.com/pandas-dev/pandas/issues/40908))
  id: totrans-376
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在参数 `level=None` 时，[`Series.count()`](../reference/api/pandas.Series.count.html#pandas.Series.count
    "pandas.Series.count") 在 32 位平台上会返回 `int32` 结果（[GH 40908](https://github.com/pandas-dev/pandas/issues/40908))
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    and [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    reductions with methods `any` and `all` not returning Boolean results for object
    data ([GH 12863](https://github.com/pandas-dev/pandas/issues/12863), [GH 35450](https://github.com/pandas-dev/pandas/issues/35450),
    [GH 27709](https://github.com/pandas-dev/pandas/issues/27709))
  id: totrans-377
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在对象数据上使用方法 `any` 和 `all` 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 和 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 缩减操作不会返回布尔结果（[GH 12863](https://github.com/pandas-dev/pandas/issues/12863),
    [GH 35450](https://github.com/pandas-dev/pandas/issues/35450), [GH 27709](https://github.com/pandas-dev/pandas/issues/27709))
- en: Bug in [`Series.clip()`](../reference/api/pandas.Series.clip.html#pandas.Series.clip
    "pandas.Series.clip") would fail if the Series contains NA values and has nullable
    int or float as a data type ([GH 40851](https://github.com/pandas-dev/pandas/issues/40851))
  id: totrans-378
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在包含 NA 值且数据类型为可空整数或浮点数的 Series 上使用 [`Series.clip()`](../reference/api/pandas.Series.clip.html#pandas.Series.clip
    "pandas.Series.clip") 会失败（[GH 40851](https://github.com/pandas-dev/pandas/issues/40851))
- en: Bug in `UInt64Index.where()` and `UInt64Index.putmask()` with an `np.int64`
    dtype `other` incorrectly raising `TypeError` ([GH 41974](https://github.com/pandas-dev/pandas/issues/41974))
  id: totrans-379
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `np.int64` 数据类型的 `other` 上使用 `UInt64Index.where()` 和 `UInt64Index.putmask()`
    会错误地引发 `TypeError`（[GH 41974](https://github.com/pandas-dev/pandas/issues/41974))
- en: Bug in [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg") not sorting the aggregated axis in the order of the provided
    aggregation functions when one or more aggregation function fails to produce results
    ([GH 33634](https://github.com/pandas-dev/pandas/issues/33634))
  id: totrans-380
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在提供的聚合函数的顺序中，[`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg") 不会对聚合轴进行排序，当一个或多个聚合函数未能产生结果时（[GH 33634](https://github.com/pandas-dev/pandas/issues/33634))
- en: Bug in [`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") not interpreting missing values as no threshold ([GH
    40420](https://github.com/pandas-dev/pandas/issues/40420))
  id: totrans-381
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在缺失值上使用 [`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") 不会将其解释为无阈值（[GH 40420](https://github.com/pandas-dev/pandas/issues/40420))
- en: Conversion
  id: totrans-382
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 转换
- en: Bug in [`Series.to_dict()`](../reference/api/pandas.Series.to_dict.html#pandas.Series.to_dict
    "pandas.Series.to_dict") with `orient='records'` now returns Python native types
    ([GH 25969](https://github.com/pandas-dev/pandas/issues/25969))
  id: totrans-383
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`orient='records'`参数时，[`Series.to_dict()`](../reference/api/pandas.Series.to_dict.html#pandas.Series.to_dict
    "pandas.Series.to_dict") 存在的问题，现在返回 Python 本机类型（[GH 25969](https://github.com/pandas-dev/pandas/issues/25969))
- en: Bug in [`Series.view()`](../reference/api/pandas.Series.view.html#pandas.Series.view
    "pandas.Series.view") and [`Index.view()`](../reference/api/pandas.Index.view.html#pandas.Index.view
    "pandas.Index.view") when converting between datetime-like (`datetime64[ns]`,
    `datetime64[ns, tz]`, `timedelta64`, `period`) dtypes ([GH 39788](https://github.com/pandas-dev/pandas/issues/39788))
  id: totrans-384
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在转换日期时间类（`datetime64[ns]`、`datetime64[ns, tz]`、`timedelta64`、`period`）数据类型时，[`Series.view()`](../reference/api/pandas.Series.view.html#pandas.Series.view
    "pandas.Series.view") 和 [`Index.view()`](../reference/api/pandas.Index.view.html#pandas.Index.view
    "pandas.Index.view") 存在的问题（[GH 39788](https://github.com/pandas-dev/pandas/issues/39788))
- en: Bug in creating a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") from an empty `np.recarray` not retaining the original dtypes
    ([GH 40121](https://github.com/pandas-dev/pandas/issues/40121))
  id: totrans-385
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从空的`np.recarray`创建[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")未保留原始dtypes的错误（[GH 40121](https://github.com/pandas-dev/pandas/issues/40121))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") failing to raise a `TypeError` when constructing from a `frozenset`
    ([GH 40163](https://github.com/pandas-dev/pandas/issues/40163))
  id: totrans-386
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从`frozenset`构造时，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")未能引发`TypeError`的错误（[GH 40163](https://github.com/pandas-dev/pandas/issues/40163))
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    construction silently ignoring a passed `dtype` when the data cannot be cast to
    that dtype ([GH 21311](https://github.com/pandas-dev/pandas/issues/21311))
  id: totrans-387
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当数据无法转换为该dtype时，[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")构造默默地忽略传递的`dtype`的错误（[GH
    21311](https://github.com/pandas-dev/pandas/issues/21311))
- en: Bug in `StringArray.astype()` falling back to NumPy and raising when converting
    to `dtype='categorical'` ([GH 40450](https://github.com/pandas-dev/pandas/issues/40450))
  id: totrans-388
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当转换为`dtype='categorical'`时，`StringArray.astype()`返回到NumPy并在转换时引发错误的错误（[GH 40450](https://github.com/pandas-dev/pandas/issues/40450))
- en: Bug in [`factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize") where, when given an array with a numeric NumPy dtype lower
    than int64, uint64 and float64, the unique values did not keep their original
    dtype ([GH 41132](https://github.com/pandas-dev/pandas/issues/41132))
  id: totrans-389
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当给定一个数字NumPy dtype低于int64、uint64和float64的数组时，[`factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize")中的错误是唯一值未保持其原始dtype（[GH 41132](https://github.com/pandas-dev/pandas/issues/41132))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") construction with a dictionary containing an array-like with
    `ExtensionDtype` and `copy=True` failing to make a copy ([GH 38939](https://github.com/pandas-dev/pandas/issues/38939))
  id: totrans-390
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建包含`ExtensionDtype`和`copy=True`的字典的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")构造中出现的错误，未能复制失败（[GH 38939](https://github.com/pandas-dev/pandas/issues/38939))
- en: Bug in [`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut "pandas.qcut")
    raising error when taking `Float64DType` as input ([GH 40730](https://github.com/pandas-dev/pandas/issues/40730))
  id: totrans-391
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将`Float64DType`作为输入时，[`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut
    "pandas.qcut")引发错误（[GH 40730](https://github.com/pandas-dev/pandas/issues/40730))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") construction with `datetime64[ns]` data and `dtype=object` resulting
    in `datetime` objects instead of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") objects ([GH 41599](https://github.com/pandas-dev/pandas/issues/41599))
  id: totrans-392
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`datetime64[ns]`数据和`dtype=object`构造[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")和[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时出现的错误，结果是`datetime`对象而不是[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")对象（[GH 41599](https://github.com/pandas-dev/pandas/issues/41599))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") construction with `timedelta64[ns]` data and `dtype=object` resulting
    in `np.timedelta64` objects instead of [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") objects ([GH 41599](https://github.com/pandas-dev/pandas/issues/41599))
  id: totrans-393
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`timedelta64[ns]`数据和`dtype=object`构造[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")和[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时出现的错误，结果是`np.timedelta64`对象而不是[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")对象（[GH 41599](https://github.com/pandas-dev/pandas/issues/41599))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") construction when given a two-dimensional object-dtype `np.ndarray`
    of [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    or [`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    objects failing to cast to [`PeriodDtype`](../reference/api/pandas.PeriodDtype.html#pandas.PeriodDtype
    "pandas.PeriodDtype") or [`IntervalDtype`](../reference/api/pandas.IntervalDtype.html#pandas.IntervalDtype
    "pandas.IntervalDtype"), respectively ([GH 41812](https://github.com/pandas-dev/pandas/issues/41812))
  id: totrans-394
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当给定一个需要分别转换为 [`PeriodDtype`](../reference/api/pandas.PeriodDtype.html#pandas.PeriodDtype
    "pandas.PeriodDtype") 或 [`IntervalDtype`](../reference/api/pandas.IntervalDtype.html#pandas.IntervalDtype
    "pandas.IntervalDtype") 的 [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") 或 [`Interval`](../reference/api/pandas.Interval.html#pandas.Interval
    "pandas.Interval") 对象的二维对象-dtype `np.ndarray` 时，在 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 构造时存在的 bug ([GH 41812](https://github.com/pandas-dev/pandas/issues/41812))
- en: Bug in constructing a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") from a list and a `PandasDtype` ([GH 39357](https://github.com/pandas-dev/pandas/issues/39357))
  id: totrans-395
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过列表和一个 `PandasDtype` 构建 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 时存在的 bug（[GH 39357](https://github.com/pandas-dev/pandas/issues/39357)）
- en: Bug in creating a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") from a `range` object that does not fit in the bounds of `int64`
    dtype ([GH 30173](https://github.com/pandas-dev/pandas/issues/30173))
  id: totrans-396
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    时存在的一个 bug，来自一个不适合于 `int64` dtype 边界的 `range` 对象（[GH 30173](https://github.com/pandas-dev/pandas/issues/30173)）
- en: Bug in creating a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") from a `dict` with all-tuple keys and an [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") that requires reindexing ([GH 41707](https://github.com/pandas-dev/pandas/issues/41707))
  id: totrans-397
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过一个所有键都是元组且需要重新索引的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 和一个 `dict` 构建 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 时存在的 bug（[GH 41707](https://github.com/pandas-dev/pandas/issues/41707)）
- en: Bug in [`infer_dtype()`](../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype
    "pandas.api.types.infer_dtype") not recognizing Series, Index, or array with a
    Period dtype ([GH 23553](https://github.com/pandas-dev/pandas/issues/23553))
  id: totrans-398
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在识别 Series、Index 或具有 Period dtype 的数组时，在 [`infer_dtype()`](../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype
    "pandas.api.types.infer_dtype") 中存在的 bug（[GH 23553](https://github.com/pandas-dev/pandas/issues/23553)）
- en: Bug in [`infer_dtype()`](../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype
    "pandas.api.types.infer_dtype") raising an error for general [`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray") objects. It will now return `"unknown-array"`
    instead of raising ([GH 37367](https://github.com/pandas-dev/pandas/issues/37367))
  id: totrans-399
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在对一般的 [`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray") 对象调用 [`infer_dtype()`](../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype
    "pandas.api.types.infer_dtype") 时出现的 bug，将会返回 `"unknown-array"` 而不是报错（[GH 37367](https://github.com/pandas-dev/pandas/issues/37367)）
- en: Bug in [`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes") incorrectly raised a `ValueError` when called
    on an empty DataFrame ([GH 40393](https://github.com/pandas-dev/pandas/issues/40393))
  id: totrans-400
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在空 DataFrame 上调用 [`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes") 时出现的 bug，错误地引发了 `ValueError`（[GH 40393](https://github.com/pandas-dev/pandas/issues/40393)）
- en: Strings
  id: totrans-401
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 字符串
- en: Bug in the conversion from `pyarrow.ChunkedArray` to [`StringArray`](../reference/api/pandas.arrays.StringArray.html#pandas.arrays.StringArray
    "pandas.arrays.StringArray") when the original had zero chunks ([GH 41040](https://github.com/pandas-dev/pandas/issues/41040))
  id: totrans-402
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当原始对象没有任何 chunk 时，从 `pyarrow.ChunkedArray` 转换为 [`StringArray`](../reference/api/pandas.arrays.StringArray.html#pandas.arrays.StringArray
    "pandas.arrays.StringArray") 时存在的 bug（[GH 41040](https://github.com/pandas-dev/pandas/issues/41040)）
- en: Bug in [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") and [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") ignoring replacements with `regex=True` for `StringDType`
    data ([GH 41333](https://github.com/pandas-dev/pandas/issues/41333), [GH 35977](https://github.com/pandas-dev/pandas/issues/35977))
  id: totrans-403
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 和 [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 中的一个 bug，对于 `StringDType` 数据，使用 `regex=True` 忽略了替换（[GH
    41333](https://github.com/pandas-dev/pandas/issues/41333)，[GH 35977](https://github.com/pandas-dev/pandas/issues/35977))'
- en: Bug in [`Series.str.extract()`](../reference/api/pandas.Series.str.extract.html#pandas.Series.str.extract
    "pandas.Series.str.extract") with [`StringArray`](../reference/api/pandas.arrays.StringArray.html#pandas.arrays.StringArray
    "pandas.arrays.StringArray") returning object dtype for an empty [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 41441](https://github.com/pandas-dev/pandas/issues/41441))
  id: totrans-404
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.extract()`](../reference/api/pandas.Series.str.extract.html#pandas.Series.str.extract
    "pandas.Series.str.extract") 中的一个 bug，使用 [`StringArray`](../reference/api/pandas.arrays.StringArray.html#pandas.arrays.StringArray
    "pandas.arrays.StringArray") 返回空的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 时返回 object dtype（[GH 41441](https://github.com/pandas-dev/pandas/issues/41441))'
- en: Bug in [`Series.str.replace()`](../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace
    "pandas.Series.str.replace") where the `case` argument was ignored when `regex=False`
    ([GH 41602](https://github.com/pandas-dev/pandas/issues/41602))
  id: totrans-405
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.replace()`](../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace
    "pandas.Series.str.replace") 中的一个 bug，在 `regex=False` 时忽略了 `case` 参数（[GH 41602](https://github.com/pandas-dev/pandas/issues/41602))'
- en: Interval
  id: totrans-406
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 区间
- en: Bug in `IntervalIndex.intersection()` and `IntervalIndex.symmetric_difference()`
    always returning object-dtype when operating with [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") ([GH 38653](https://github.com/pandas-dev/pandas/issues/38653),
    [GH 38741](https://github.com/pandas-dev/pandas/issues/38741))
  id: totrans-407
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当与 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 进行操作时，`IntervalIndex.intersection()` 和 `IntervalIndex.symmetric_difference()`
    中的一个 bug 总是返回 object-dtype（[GH 38653](https://github.com/pandas-dev/pandas/issues/38653)，[GH
    38741](https://github.com/pandas-dev/pandas/issues/38741))
- en: Bug in `IntervalIndex.intersection()` returning duplicates when at least one
    of the [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    objects have duplicates which are present in the other ([GH 38743](https://github.com/pandas-dev/pandas/issues/38743))
  id: totrans-408
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当至少一个 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    对象具有在另一个对象中存在的重复项时，`IntervalIndex.intersection()` 中的一个 bug 返回重复项（[GH 38743](https://github.com/pandas-dev/pandas/issues/38743))
- en: '`IntervalIndex.union()`, `IntervalIndex.intersection()`, `IntervalIndex.difference()`,
    and `IntervalIndex.symmetric_difference()` now cast to the appropriate dtype instead
    of raising a `TypeError` when operating with another [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") with incompatible dtype ([GH 39267](https://github.com/pandas-dev/pandas/issues/39267))'
  id: totrans-409
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.union()`、`IntervalIndex.intersection()`、`IntervalIndex.difference()`
    和 `IntervalIndex.symmetric_difference()` 现在在与不兼容 dtype 的另一个 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 进行操作时，会转换为适当的 dtype 而不是引发 `TypeError`（[GH 39267](https://github.com/pandas-dev/pandas/issues/39267))'
- en: '`PeriodIndex.union()`, `PeriodIndex.intersection()`, `PeriodIndex.symmetric_difference()`,
    `PeriodIndex.difference()` now cast to object dtype instead of raising `IncompatibleFrequency`
    when operating with another [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") with incompatible dtype ([GH 39306](https://github.com/pandas-dev/pandas/issues/39306))'
  id: totrans-410
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PeriodIndex.union()`、`PeriodIndex.intersection()`、`PeriodIndex.symmetric_difference()`、`PeriodIndex.difference()`
    现在在与不兼容 dtype 的另一个 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 进行操作时，会转换为 object dtype 而不是引发 `IncompatibleFrequency`（[GH
    39306](https://github.com/pandas-dev/pandas/issues/39306))'
- en: Bug in `IntervalIndex.is_monotonic()`, [`IntervalIndex.get_loc()`](../reference/api/pandas.IntervalIndex.get_loc.html#pandas.IntervalIndex.get_loc
    "pandas.IntervalIndex.get_loc"), `IntervalIndex.get_indexer_for()`, and `IntervalIndex.__contains__()`
    when NA values are present ([GH 41831](https://github.com/pandas-dev/pandas/issues/41831))
  id: totrans-411
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当存在 NA 值时，`IntervalIndex.is_monotonic()`、[`IntervalIndex.get_loc()`](../reference/api/pandas.IntervalIndex.get_loc.html#pandas.IntervalIndex.get_loc
    "pandas.IntervalIndex.get_loc")、`IntervalIndex.get_indexer_for()` 和 `IntervalIndex.__contains__()`
    中的一个 bug（[GH 41831](https://github.com/pandas-dev/pandas/issues/41831))
- en: Indexing
  id: totrans-412
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 索引
- en: Bug in [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") and `MultiIndex.union()` dropping duplicate `Index` values
    when `Index` was not monotonic or `sort` was set to `False` ([GH 36289](https://github.com/pandas-dev/pandas/issues/36289),
    [GH 31326](https://github.com/pandas-dev/pandas/issues/31326), [GH 40862](https://github.com/pandas-dev/pandas/issues/40862))
  id: totrans-413
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") 和 `MultiIndex.union()` 当 `Index` 不是单调的或 `sort` 设置为 `False`
    时，丢弃重复的 `Index` 值 ([GH 36289](https://github.com/pandas-dev/pandas/issues/36289),
    [GH 31326](https://github.com/pandas-dev/pandas/issues/31326), [GH 40862](https://github.com/pandas-dev/pandas/issues/40862))
- en: Bug in `CategoricalIndex.get_indexer()` failing to raise `InvalidIndexError`
    when non-unique ([GH 38372](https://github.com/pandas-dev/pandas/issues/38372))
  id: totrans-414
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `CategoricalIndex.get_indexer()` 在非唯一时未能引发 `InvalidIndexError` ([GH 38372](https://github.com/pandas-dev/pandas/issues/38372))
- en: Bug in [`IntervalIndex.get_indexer()`](../reference/api/pandas.IntervalIndex.get_indexer.html#pandas.IntervalIndex.get_indexer
    "pandas.IntervalIndex.get_indexer") when `target` has `CategoricalDtype` and both
    the index and the target contain NA values ([GH 41934](https://github.com/pandas-dev/pandas/issues/41934))
  id: totrans-415
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`IntervalIndex.get_indexer()`](../reference/api/pandas.IntervalIndex.get_indexer.html#pandas.IntervalIndex.get_indexer
    "pandas.IntervalIndex.get_indexer") 当 `target` 具有 `CategoricalDtype`，且索引和目标均包含
    NA 值时 ([GH 41934](https://github.com/pandas-dev/pandas/issues/41934))
- en: Bug in [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") raising a `ValueError` when input was filtered with a Boolean
    list and values to set were a list with lower dimension ([GH 20438](https://github.com/pandas-dev/pandas/issues/20438))
  id: totrans-416
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") 当输入被布尔列表过滤并且要设置的值是具有较低维度的列表时，引发 `ValueError` ([GH 20438](https://github.com/pandas-dev/pandas/issues/20438))
- en: Bug in inserting many new columns into a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") causing incorrect subsequent indexing behavior ([GH 38380](https://github.com/pandas-dev/pandas/issues/38380))
  id: totrans-417
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in 向 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 插入许多新列时，导致不正确的后续索引行为 ([GH 38380](https://github.com/pandas-dev/pandas/issues/38380))
- en: Bug in `DataFrame.__setitem__()` raising a `ValueError` when setting multiple
    values to duplicate columns ([GH 15695](https://github.com/pandas-dev/pandas/issues/15695))
  id: totrans-418
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `DataFrame.__setitem__()` 当将多个值设置为重复列时引发 `ValueError` ([GH 15695](https://github.com/pandas-dev/pandas/issues/15695))
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc"), [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc"), `DataFrame.__getitem__()` and `Series.__getitem__()` returning
    incorrect elements for non-monotonic [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") for string slices ([GH 33146](https://github.com/pandas-dev/pandas/issues/33146))
  id: totrans-419
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc"), [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc"), `DataFrame.__getitem__()` 和 `Series.__getitem__()` 返回非单调
    [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 的字符串切片的不正确元素 ([GH 33146](https://github.com/pandas-dev/pandas/issues/33146))
- en: Bug in [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") and [`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex") with timezone aware indexes raising a `TypeError` for
    `method="ffill"` and `method="bfill"` and specified `tolerance` ([GH 38566](https://github.com/pandas-dev/pandas/issues/38566))
  id: totrans-420
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") 和 [`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex") 在具有时区感知索引的情况下，对于 `method="ffill"` 和 `method="bfill"`
    以及指定的 `tolerance` 引发 `TypeError` ([GH 38566](https://github.com/pandas-dev/pandas/issues/38566))
- en: Bug in [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") with `datetime64[ns]` or `timedelta64[ns]` incorrectly
    casting to integers when the `fill_value` requires casting to object dtype ([GH
    39755](https://github.com/pandas-dev/pandas/issues/39755))
  id: totrans-421
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") 在 `datetime64[ns]` 或 `timedelta64[ns]` 的情况下，当 `fill_value`
    需要转换为对象 dtype 时，错误地转换为整数 ([GH 39755](https://github.com/pandas-dev/pandas/issues/39755))
- en: Bug in `DataFrame.__setitem__()` raising a `ValueError` when setting on an empty
    [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    using specified columns and a nonempty [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") value ([GH 38831](https://github.com/pandas-dev/pandas/issues/38831))
  id: totrans-422
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用指定列和非空[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")值在空[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")上设置时，`DataFrame.__setitem__()`引发`ValueError`的错误（[GH 38831](https://github.com/pandas-dev/pandas/issues/38831)）
- en: Bug in `DataFrame.loc.__setitem__()` raising a `ValueError` when operating on
    a unique column when the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") has duplicate columns ([GH 38521](https://github.com/pandas-dev/pandas/issues/38521))
  id: totrans-423
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")具有重复列时，对唯一列进行操作时，`DataFrame.loc.__setitem__()`引发`ValueError`的错误（[GH
    38521](https://github.com/pandas-dev/pandas/issues/38521)）
- en: Bug in `DataFrame.iloc.__setitem__()` and `DataFrame.loc.__setitem__()` with
    mixed dtypes when setting with a dictionary value ([GH 38335](https://github.com/pandas-dev/pandas/issues/38335))
  id: totrans-424
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用字典值设置混合dtype时，`DataFrame.iloc.__setitem__()`和`DataFrame.loc.__setitem__()`的错误（[GH
    38335](https://github.com/pandas-dev/pandas/issues/38335)）
- en: Bug in `Series.loc.__setitem__()` and `DataFrame.loc.__setitem__()` raising
    `KeyError` when provided a Boolean generator ([GH 39614](https://github.com/pandas-dev/pandas/issues/39614))
  id: totrans-425
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当提供布尔生成器时，`Series.loc.__setitem__()`和`DataFrame.loc.__setitem__()`引发`KeyError`的错误（[GH
    39614](https://github.com/pandas-dev/pandas/issues/39614)）
- en: Bug in [`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") and [`DataFrame.iloc()`](../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc
    "pandas.DataFrame.iloc") raising a `KeyError` when provided a generator ([GH 39614](https://github.com/pandas-dev/pandas/issues/39614))
  id: totrans-426
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当提供生成器时，[`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc")和[`DataFrame.iloc()`](../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc
    "pandas.DataFrame.iloc")引发`KeyError`的错误（[GH 39614](https://github.com/pandas-dev/pandas/issues/39614)）
- en: Bug in `DataFrame.__setitem__()` not raising a `ValueError` when the right hand
    side is a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with wrong number of columns ([GH 38604](https://github.com/pandas-dev/pandas/issues/38604))
  id: totrans-427
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当右侧是具有错误列数的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")时，`DataFrame.__setitem__()`未引发`ValueError`的错误（[GH 38604](https://github.com/pandas-dev/pandas/issues/38604)）
- en: Bug in `Series.__setitem__()` raising a `ValueError` when setting a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with a scalar indexer ([GH 38303](https://github.com/pandas-dev/pandas/issues/38303))
  id: totrans-428
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用标量索引器设置[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")时，`Series.__setitem__()`引发`ValueError`的错误（[GH
    38303](https://github.com/pandas-dev/pandas/issues/38303)）
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") dropping levels of a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") when the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") used as input has only one row ([GH 10521](https://github.com/pandas-dev/pandas/issues/10521))
  id: totrans-429
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当作为输入的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")只有一行时，[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc")删除[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")的级别的错误（[GH 10521](https://github.com/pandas-dev/pandas/issues/10521)）
- en: Bug in `DataFrame.__getitem__()` and `Series.__getitem__()` always raising `KeyError`
    when slicing with existing strings where the [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") has milliseconds ([GH 33589](https://github.com/pandas-dev/pandas/issues/33589))
  id: totrans-430
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用现有字符串进行切片时，`DataFrame.__getitem__()`和`Series.__getitem__()`始终引发`KeyError`的错误，其中[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")具有毫秒值（[GH 33589](https://github.com/pandas-dev/pandas/issues/33589)）
- en: Bug in setting `timedelta64` or `datetime64` values into numeric [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") failing to cast to object dtype ([GH 39086](https://github.com/pandas-dev/pandas/issues/39086),
    [GH 39619](https://github.com/pandas-dev/pandas/issues/39619))
  id: totrans-431
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将`timedelta64`或`datetime64`值设置到数值[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时出现的错误，无法转换为对象dtype（[GH 39086](https://github.com/pandas-dev/pandas/issues/39086)，[GH
    39619](https://github.com/pandas-dev/pandas/issues/39619)）
- en: Bug in setting [`Interval`](../reference/api/pandas.Interval.html#pandas.Interval
    "pandas.Interval") values into a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with mismatched [`IntervalDtype`](../reference/api/pandas.IntervalDtype.html#pandas.IntervalDtype
    "pandas.IntervalDtype") incorrectly casting the new values to the existing dtype
    ([GH 39120](https://github.com/pandas-dev/pandas/issues/39120))
  id: totrans-432
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在向具有不匹配的 [`IntervalDtype`](../reference/api/pandas.IntervalDtype.html#pandas.IntervalDtype
    "pandas.IntervalDtype") 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 中设置 [`Interval`](../reference/api/pandas.Interval.html#pandas.Interval
    "pandas.Interval") 值时的错误，错误地将新值强制转换为现有的 dtype（[GH 39120](https://github.com/pandas-dev/pandas/issues/39120)）
- en: Bug in setting `datetime64` values into a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with integer-dtype incorrectly casting the datetime64 values
    to integers ([GH 39266](https://github.com/pandas-dev/pandas/issues/39266))
  id: totrans-433
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将 `datetime64` 值设置到具有整数 dtype 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 中时的错误，错误地将 datetime64 值转换为整数（[GH 39266](https://github.com/pandas-dev/pandas/issues/39266)）
- en: Bug in setting `np.datetime64("NaT")` into a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `Datetime64TZDtype` incorrectly treating the timezone-naive
    value as timezone-aware ([GH 39769](https://github.com/pandas-dev/pandas/issues/39769))
  id: totrans-434
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将 `np.datetime64("NaT")` 设置到具有 `Datetime64TZDtype` 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 中时的错误，错误地将时区不可感知的值视为时区感知的（[GH 39769](https://github.com/pandas-dev/pandas/issues/39769)）
- en: Bug in [`Index.get_loc()`](../reference/api/pandas.Index.get_loc.html#pandas.Index.get_loc
    "pandas.Index.get_loc") not raising `KeyError` when `key=NaN` and `method` is
    specified but `NaN` is not in the [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") ([GH 39382](https://github.com/pandas-dev/pandas/issues/39382))
  id: totrans-435
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `key=NaN` 并且指定了 `method` 但 `NaN` 不在 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 中时，[`Index.get_loc()`](../reference/api/pandas.Index.get_loc.html#pandas.Index.get_loc
    "pandas.Index.get_loc") 中的错误未引发 `KeyError`（[GH 39382](https://github.com/pandas-dev/pandas/issues/39382)）
- en: Bug in `DatetimeIndex.insert()` when inserting `np.datetime64("NaT")` into a
    timezone-aware index incorrectly treating the timezone-naive value as timezone-aware
    ([GH 39769](https://github.com/pandas-dev/pandas/issues/39769))
  id: totrans-436
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.insert()` 在向时区感知的索引中插入 `np.datetime64("NaT")` 时存在的错误，错误地将时区不可感知的值视为时区感知的（[GH
    39769](https://github.com/pandas-dev/pandas/issues/39769)）'
- en: Bug in incorrectly raising in [`Index.insert()`](../reference/api/pandas.Index.insert.html#pandas.Index.insert
    "pandas.Index.insert"), when setting a new column that cannot be held in the existing
    `frame.columns`, or in [`Series.reset_index()`](../reference/api/pandas.Series.reset_index.html#pandas.Series.reset_index
    "pandas.Series.reset_index") or [`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") instead of casting to a compatible dtype ([GH
    39068](https://github.com/pandas-dev/pandas/issues/39068))
  id: totrans-437
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Index.insert()`](../reference/api/pandas.Index.insert.html#pandas.Index.insert
    "pandas.Index.insert") 中的错误，当设置一个无法容纳在现有 `frame.columns` 中的新列时，或者在 [`Series.reset_index()`](../reference/api/pandas.Series.reset_index.html#pandas.Series.reset_index
    "pandas.Series.reset_index") 或 [`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") 中的错误，未将其转换为兼容的 dtype 而是错误地引发异常（[GH 39068](https://github.com/pandas-dev/pandas/issues/39068)）
- en: Bug in `RangeIndex.append()` where a single object of length 1 was concatenated
    incorrectly ([GH 39401](https://github.com/pandas-dev/pandas/issues/39401))
  id: totrans-438
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `RangeIndex.append()` 中的错误，将长度为 1 的单个对象错误地连接起来（[GH 39401](https://github.com/pandas-dev/pandas/issues/39401)）
- en: Bug in `RangeIndex.astype()` where when converting to [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex"), the categories became a `Int64Index` instead of a
    [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex "pandas.RangeIndex")
    ([GH 41263](https://github.com/pandas-dev/pandas/issues/41263))
  id: totrans-439
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `RangeIndex.astype()` 中的错误，当转换为 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 时，类别变成了 `Int64Index` 而不是 [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex
    "pandas.RangeIndex")（[GH 41263](https://github.com/pandas-dev/pandas/issues/41263)）
- en: Bug in setting `numpy.timedelta64` values into an object-dtype [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") using a Boolean indexer ([GH 39488](https://github.com/pandas-dev/pandas/issues/39488))
  id: totrans-440
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用布尔索引器将 `numpy.timedelta64` 值设置到对象 dtype 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 中时的错误（[GH 39488](https://github.com/pandas-dev/pandas/issues/39488)）
- en: Bug in setting numeric values into a into a boolean-dtypes [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") using `at` or `iat` failing to cast to object-dtype ([GH 39582](https://github.com/pandas-dev/pandas/issues/39582))
  id: totrans-441
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`at`或`iat`将数值值设置为布尔类型[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时，失败将其转换为对象类型（[GH 39582](https://github.com/pandas-dev/pandas/issues/39582)）
- en: Bug in `DataFrame.__setitem__()` and `DataFrame.iloc.__setitem__()` raising
    `ValueError` when trying to index with a row-slice and setting a list as values
    ([GH 40440](https://github.com/pandas-dev/pandas/issues/40440))
  id: totrans-442
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在尝试使用行切片索引并将列表设置为值时，`DataFrame.__setitem__()`和`DataFrame.iloc.__setitem__()`会引发`ValueError`的错误（[GH
    40440](https://github.com/pandas-dev/pandas/issues/40440)）
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") not raising `KeyError` when the key was not found in [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") and the levels were not fully specified ([GH 41170](https://github.com/pandas-dev/pandas/issues/41170))
  id: totrans-443
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc")中，当在[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")中未找到键且级��未完全指定时，未引发`KeyError`的错误（[GH 41170](https://github.com/pandas-dev/pandas/issues/41170)）
- en: Bug in `DataFrame.loc.__setitem__()` when setting-with-expansion incorrectly
    raising when the index in the expanding axis contained duplicates ([GH 40096](https://github.com/pandas-dev/pandas/issues/40096))
  id: totrans-444
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在设置扩展时，`DataFrame.loc.__setitem__()`中的错误会在扩展轴中的索引包含重复项时错误地引发异常（[GH 40096](https://github.com/pandas-dev/pandas/issues/40096)）
- en: Bug in `DataFrame.loc.__getitem__()` with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") casting to float when at least one index column has float
    dtype and we retrieve a scalar ([GH 41369](https://github.com/pandas-dev/pandas/issues/41369))
  id: totrans-445
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")时，`DataFrame.loc.__getitem__()`中的错误会在至少一个索引列具有浮点类型且我们检索标量时转换为浮点数时引发异常（[GH
    41369](https://github.com/pandas-dev/pandas/issues/41369)）
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") incorrectly matching non-Boolean index elements ([GH 20432](https://github.com/pandas-dev/pandas/issues/20432))
  id: totrans-446
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc")中的错误匹配非布尔索引元素（[GH 20432](https://github.com/pandas-dev/pandas/issues/20432)）
- en: Bug in indexing with `np.nan` on a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") incorrectly raising `KeyError` when `np.nan` keys are
    present ([GH 41933](https://github.com/pandas-dev/pandas/issues/41933))
  id: totrans-447
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")或[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")上使用`np.nan`进行索引时，当存在`np.nan`键时错误地引发`KeyError`（[GH 41933](https://github.com/pandas-dev/pandas/issues/41933)）
- en: Bug in `Series.__delitem__()` with `ExtensionDtype` incorrectly casting to `ndarray`
    ([GH 40386](https://github.com/pandas-dev/pandas/issues/40386))
  id: totrans-448
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`ExtensionDtype`的`Series.__delitem__()`中的错误会错误地转换为`ndarray`（[GH 40386](https://github.com/pandas-dev/pandas/issues/40386)）
- en: Bug in [`DataFrame.at()`](../reference/api/pandas.DataFrame.at.html#pandas.DataFrame.at
    "pandas.DataFrame.at") with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") returning incorrect results when passed integer keys
    ([GH 41846](https://github.com/pandas-dev/pandas/issues/41846))
  id: totrans-449
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")时，[`DataFrame.at()`](../reference/api/pandas.DataFrame.at.html#pandas.DataFrame.at
    "pandas.DataFrame.at")中的错误会在传递整数键时返回不正确的结果（[GH 41846](https://github.com/pandas-dev/pandas/issues/41846)）
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") returning a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") in the wrong order if an indexer has duplicates ([GH 40978](https://github.com/pandas-dev/pandas/issues/40978))
  id: totrans-450
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有重复索引器的情况下，[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc")返回的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")顺序错误（[GH 40978](https://github.com/pandas-dev/pandas/issues/40978)）
- en: Bug in `DataFrame.__setitem__()` raising a `TypeError` when using a `str` subclass
    as the column name with a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 37366](https://github.com/pandas-dev/pandas/issues/37366))
  id: totrans-451
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 时，`DataFrame.__setitem__()` 在使用 `str` 子类作为列名时引发 `TypeError`
    的 Bug（[GH 37366](https://github.com/pandas-dev/pandas/issues/37366）
- en: Bug in `PeriodIndex.get_loc()` failing to raise a `KeyError` when given a [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") with a mismatched `freq` ([GH 41670](https://github.com/pandas-dev/pandas/issues/41670))
  id: totrans-452
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PeriodIndex.get_loc()` 中的 Bug 在给定具有不匹配 `freq` 的 [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") 时未能引发 `KeyError`（[GH 41670](https://github.com/pandas-dev/pandas/issues/41670)）'
- en: Bug `.loc.__getitem__` with a `UInt64Index` and negative-integer keys raising
    `OverflowError` instead of `KeyError` in some cases, wrapping around to positive
    integers in others ([GH 41777](https://github.com/pandas-dev/pandas/issues/41777))
  id: totrans-453
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `UInt64Index` 和负整数键时，Bug `.loc.__getitem__` 在某些情况下引发 `OverflowError` 而不是
    `KeyError`，在其他情况下则转换为正整数（[GH 41777](https://github.com/pandas-dev/pandas/issues/41777)）
- en: Bug in [`Index.get_indexer()`](../reference/api/pandas.Index.get_indexer.html#pandas.Index.get_indexer
    "pandas.Index.get_indexer") failing to raise `ValueError` in some cases with invalid
    `method`, `limit`, or `tolerance` arguments ([GH 41918](https://github.com/pandas-dev/pandas/issues/41918))
  id: totrans-454
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.get_indexer()`](../reference/api/pandas.Index.get_indexer.html#pandas.Index.get_indexer
    "pandas.Index.get_indexer") 中的错误在某些情况下未能因无效的 `method`、`limit` 或 `tolerance` 参数而引发
    `ValueError`（[GH 41918](https://github.com/pandas-dev/pandas/issues/41918)）'
- en: Bug when slicing a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") when passing an invalid string raising `ValueError` instead
    of a `TypeError` ([GH 41821](https://github.com/pandas-dev/pandas/issues/41821))
  id: totrans-455
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用无效字符串切片 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    时，[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 引发 `ValueError` 而不是 `TypeError` 的 Bug（[GH 41821](https://github.com/pandas-dev/pandas/issues/41821)）
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    constructor sometimes silently ignoring a specified `dtype` ([GH 38879](https://github.com/pandas-dev/pandas/issues/38879))
  id: totrans-456
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") 构造函数中的错误有时会悄悄地忽略指定的
    `dtype`，导致问题（[GH 38879](https://github.com/pandas-dev/pandas/issues/38879)）'
- en: '[`Index.where()`](../reference/api/pandas.Index.where.html#pandas.Index.where
    "pandas.Index.where") behavior now mirrors [`Index.putmask()`](../reference/api/pandas.Index.putmask.html#pandas.Index.putmask
    "pandas.Index.putmask") behavior, i.e. `index.where(mask, other)` matches `index.putmask(~mask,
    other)` ([GH 39412](https://github.com/pandas-dev/pandas/issues/39412))'
  id: totrans-457
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.where()`](../reference/api/pandas.Index.where.html#pandas.Index.where
    "pandas.Index.where") 的行为现在与 [`Index.putmask()`](../reference/api/pandas.Index.putmask.html#pandas.Index.putmask
    "pandas.Index.putmask") 的行为相匹配，即 `index.where(mask, other)` 与 `index.putmask(~mask,
    other)` 相匹配（[GH 39412](https://github.com/pandas-dev/pandas/issues/39412)）'
- en: Missing
  id: totrans-458
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 缺失
- en: Bug in [`Grouper`](../reference/api/pandas.Grouper.html#pandas.Grouper "pandas.Grouper")
    did not correctly propagate the `dropna` argument; [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") now correctly handles missing
    values for `dropna=True` ([GH 35612](https://github.com/pandas-dev/pandas/issues/35612))
  id: totrans-459
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Grouper`](../reference/api/pandas.Grouper.html#pandas.Grouper "pandas.Grouper")
    中的错误未正确传播 `dropna` 参数；[`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") 现在正确处理了 `dropna=True` 的缺失值（[GH
    35612](https://github.com/pandas-dev/pandas/issues/35612)）'
- en: Bug in [`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna"),
    [`Series.isna()`](../reference/api/pandas.Series.isna.html#pandas.Series.isna
    "pandas.Series.isna"), [`Index.isna()`](../reference/api/pandas.Index.isna.html#pandas.Index.isna
    "pandas.Index.isna"), [`DataFrame.isna()`](../reference/api/pandas.DataFrame.isna.html#pandas.DataFrame.isna
    "pandas.DataFrame.isna"), and the corresponding `notna` functions not recognizing
    `Decimal("NaN")` objects ([GH 39409](https://github.com/pandas-dev/pandas/issues/39409))
  id: totrans-460
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna")、[`Series.isna()`](../reference/api/pandas.Series.isna.html#pandas.Series.isna
    "pandas.Series.isna")、[`Index.isna()`](../reference/api/pandas.Index.isna.html#pandas.Index.isna
    "pandas.Index.isna")、[`DataFrame.isna()`](../reference/api/pandas.DataFrame.isna.html#pandas.DataFrame.isna
    "pandas.DataFrame.isna")中的bug，以及相应的`notna`函数不识别`Decimal("NaN")`对象（[GH 39409](https://github.com/pandas-dev/pandas/issues/39409)）'
- en: Bug in [`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") not accepting a dictionary for the `downcast` keyword
    ([GH 40809](https://github.com/pandas-dev/pandas/issues/40809))
  id: totrans-461
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna")中的bug，不接受字典作为`downcast`关键字（[GH 40809](https://github.com/pandas-dev/pandas/issues/40809)）'
- en: Bug in [`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna")
    not returning a copy of the mask for nullable types, causing any subsequent mask
    modification to change the original array ([GH 40935](https://github.com/pandas-dev/pandas/issues/40935))
  id: totrans-462
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna")中的bug，不返回可空类型的掩码副本，导致任何后续掩码修改都会更改原始数组（[GH
    40935](https://github.com/pandas-dev/pandas/issues/40935)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") construction with float data containing `NaN` and an integer
    `dtype` casting instead of retaining the `NaN` ([GH 26919](https://github.com/pandas-dev/pandas/issues/26919))
  id: totrans-463
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")构造中的bug，当包含`NaN`的浮点数据和整数`dtype`时，转换而不是保留`NaN`（[GH
    26919](https://github.com/pandas-dev/pandas/issues/26919)）'
- en: Bug in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") and `MultiIndex.isin()` didn’t treat all nans as equivalent
    if they were in tuples ([GH 41836](https://github.com/pandas-dev/pandas/issues/41836))
  id: totrans-464
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin")和`MultiIndex.isin()`中的bug，如果它们位于元组中，则不会将所有NaN视为等效（[GH 41836](https://github.com/pandas-dev/pandas/issues/41836)）'
- en: MultiIndex
  id: totrans-465
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 多重索引
- en: Bug in [`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop") raising a `TypeError` when the [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") is non-unique and `level` is not provided ([GH 36293](https://github.com/pandas-dev/pandas/issues/36293))
  id: totrans-466
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop")中的bug，在[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")不唯一且未提供`level`时引发`TypeError`（[GH 36293](https://github.com/pandas-dev/pandas/issues/36293)）'
- en: Bug in `MultiIndex.intersection()` duplicating `NaN` in the result ([GH 38623](https://github.com/pandas-dev/pandas/issues/38623))
  id: totrans-467
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.intersection()`中的bug，在结果中重复`NaN`（[GH 38623](https://github.com/pandas-dev/pandas/issues/38623)）'
- en: Bug in `MultiIndex.equals()` incorrectly returning `True` when the [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") contained `NaN` even when they are differently ordered ([GH
    38439](https://github.com/pandas-dev/pandas/issues/38439))
  id: totrans-468
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.equals()`中的bug，当[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")包含`NaN`时错误地返回`True`，即使它们的顺序不同（[GH 38439](https://github.com/pandas-dev/pandas/issues/38439)）'
- en: Bug in `MultiIndex.intersection()` always returning an empty result when intersecting
    with [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") ([GH 38653](https://github.com/pandas-dev/pandas/issues/38653))
  id: totrans-469
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.intersection()`中的bug，当与[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")相交时，总是返回空结果（[GH 38653](https://github.com/pandas-dev/pandas/issues/38653)）'
- en: Bug in `MultiIndex.difference()` incorrectly raising `TypeError` when indexes
    contain non-sortable entries ([GH 41915](https://github.com/pandas-dev/pandas/issues/41915))
  id: totrans-470
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.difference()`中的bug，当索引包含不可排序的条目时错误地引发`TypeError`（[GH 41915](https://github.com/pandas-dev/pandas/issues/41915)）'
- en: Bug in `MultiIndex.reindex()` raising a `ValueError` when used on an empty [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") and indexing only a specific level ([GH 41170](https://github.com/pandas-dev/pandas/issues/41170))
  id: totrans-471
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.reindex()` 存在 Bug，在空的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 上使用时，只对特定级别进行索引时会引发 `ValueError` ([GH 41170](https://github.com/pandas-dev/pandas/issues/41170))'
- en: Bug in `MultiIndex.reindex()` raising `TypeError` when reindexing against a
    flat [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    ([GH 41707](https://github.com/pandas-dev/pandas/issues/41707))
  id: totrans-472
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MultiIndex.reindex()` 存在 Bug，当重新对平坦的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 重新索引时引发 `TypeError` ([GH 41707](https://github.com/pandas-dev/pandas/issues/41707))'
- en: I/O
  id: totrans-473
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: I/O
- en: Bug in `Index.__repr__()` when `display.max_seq_items=1` ([GH 38415](https://github.com/pandas-dev/pandas/issues/38415))
  id: totrans-474
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.__repr__()` 存在 Bug，当 `display.max_seq_items=1` 时 ([GH 38415](https://github.com/pandas-dev/pandas/issues/38415))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") not recognizing scientific notation if the argument `decimal`
    is set and `engine="python"` ([GH 31920](https://github.com/pandas-dev/pandas/issues/31920))
  id: totrans-475
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    存在 Bug，在参数 `decimal` 设置为科学计数法且 `engine="python"` 时无法识别科学计数法 ([GH 31920](https://github.com/pandas-dev/pandas/issues/31920))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") interpreting `NA` value as comment, when `NA` does contain
    the comment string fixed for `engine="python"` ([GH 34002](https://github.com/pandas-dev/pandas/issues/34002))
  id: totrans-476
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    在解释 `NA` 值为注释时存在 Bug，当 `NA` 包含注释字符串时，对 `engine="python"` 进行了修复（[GH 34002](https://github.com/pandas-dev/pandas/issues/34002))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") raising an `IndexError` with multiple header columns and `index_col`
    is specified when the file has no data rows ([GH 38292](https://github.com/pandas-dev/pandas/issues/38292))
  id: totrans-477
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    存在 Bug，当具有多个标题列且指定了 `index_col` 时，文件没有数据行时引发 `IndexError` ([GH 38292](https://github.com/pandas-dev/pandas/issues/38292))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") not accepting `usecols` with a different length than `names`
    for `engine="python"` ([GH 16469](https://github.com/pandas-dev/pandas/issues/16469))
  id: totrans-478
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    存在 Bug，在 `engine="python"` 的情况下，`usecols` 的长度与 `names` 不同时不被接受 ([GH 16469](https://github.com/pandas-dev/pandas/issues/16469))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") returning object dtype when `delimiter=","` with `usecols`
    and `parse_dates` specified for `engine="python"` ([GH 35873](https://github.com/pandas-dev/pandas/issues/35873))
  id: totrans-479
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    存在 Bug，在指定 `delimiter=","`、`usecols` 和 `parse_dates` 时，返回对象 dtype，对于 `engine="python"`
    的情况 ([GH 35873](https://github.com/pandas-dev/pandas/issues/35873))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") raising a `TypeError` when `names` and `parse_dates` is specified
    for `engine="c"` ([GH 33699](https://github.com/pandas-dev/pandas/issues/33699))
  id: totrans-480
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    存在 Bug，在 `engine="c"` 的情况下指定 `names` 和 `parse_dates` 会引发 `TypeError` ([GH 33699](https://github.com/pandas-dev/pandas/issues/33699))'
- en: Bug in [`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") and [`DataFrame.to_clipboard()`](../reference/api/pandas.DataFrame.to_clipboard.html#pandas.DataFrame.to_clipboard
    "pandas.DataFrame.to_clipboard") not working in WSL ([GH 38527](https://github.com/pandas-dev/pandas/issues/38527))
  id: totrans-481
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") 和 [`DataFrame.to_clipboard()`](../reference/api/pandas.DataFrame.to_clipboard.html#pandas.DataFrame.to_clipboard
    "pandas.DataFrame.to_clipboard") 在 WSL 中无法正常工作的 Bug ([GH 38527](https://github.com/pandas-dev/pandas/issues/38527))'
- en: Allow custom error values for the `parse_dates` argument of [`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql
    "pandas.read_sql"), [`read_sql_query()`](../reference/api/pandas.read_sql_query.html#pandas.read_sql_query
    "pandas.read_sql_query") and [`read_sql_table()`](../reference/api/pandas.read_sql_table.html#pandas.read_sql_table
    "pandas.read_sql_table") ([GH 35185](https://github.com/pandas-dev/pandas/issues/35185))
  id: totrans-482
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许为 [`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql "pandas.read_sql")、[`read_sql_query()`](../reference/api/pandas.read_sql_query.html#pandas.read_sql_query
    "pandas.read_sql_query") 和 [`read_sql_table()`](../reference/api/pandas.read_sql_table.html#pandas.read_sql_table
    "pandas.read_sql_table") 的 `parse_dates` 参数设置自定义错误值 ([GH 35185](https://github.com/pandas-dev/pandas/issues/35185))
- en: Bug in [`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf") and [`Series.to_hdf()`](../reference/api/pandas.Series.to_hdf.html#pandas.Series.to_hdf
    "pandas.Series.to_hdf") raising a `KeyError` when trying to apply for subclasses
    of `DataFrame` or `Series` ([GH 33748](https://github.com/pandas-dev/pandas/issues/33748))
  id: totrans-483
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当尝试应用于`DataFrame`或`Series`的子类时，[`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf")和[`Series.to_hdf()`](../reference/api/pandas.Series.to_hdf.html#pandas.Series.to_hdf
    "pandas.Series.to_hdf")存在一个bug，导致`KeyError`（[GH 33748](https://github.com/pandas-dev/pandas/issues/33748))
- en: Bug in [`HDFStore.put()`](../reference/api/pandas.HDFStore.put.html#pandas.HDFStore.put
    "pandas.HDFStore.put") raising a wrong `TypeError` when saving a DataFrame with
    non-string dtype ([GH 34274](https://github.com/pandas-dev/pandas/issues/34274))
  id: totrans-484
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在保存具有非字符串dtype的DataFrame时，[`HDFStore.put()`](../reference/api/pandas.HDFStore.put.html#pandas.HDFStore.put
    "pandas.HDFStore.put")存在一个bug，导致错误的`TypeError`（[GH 34274](https://github.com/pandas-dev/pandas/issues/34274))
- en: Bug in [`json_normalize()`](../reference/api/pandas.json_normalize.html#pandas.json_normalize
    "pandas.json_normalize") resulting in the first element of a generator object
    not being included in the returned DataFrame ([GH 35923](https://github.com/pandas-dev/pandas/issues/35923))
  id: totrans-485
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`json_normalize()`](../reference/api/pandas.json_normalize.html#pandas.json_normalize
    "pandas.json_normalize")中存在一个bug，导致生成器对象的第一个元素不包含在返回的DataFrame中（[GH 35923](https://github.com/pandas-dev/pandas/issues/35923))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") applying the thousands separator to date columns when the column
    should be parsed for dates and `usecols` is specified for `engine="python"` ([GH
    39365](https://github.com/pandas-dev/pandas/issues/39365))
  id: totrans-486
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在应该解析日期列并且对`engine="python"`指定了`usecols`时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")存在一个bug，将千位分隔符应用于日期列（[GH 39365](https://github.com/pandas-dev/pandas/issues/39365))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") forward filling [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") names when multiple header and index columns are specified
    ([GH 34673](https://github.com/pandas-dev/pandas/issues/34673))
  id: totrans-487
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在指定多个标题和索引列时，[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")存在一个bug，前向填充[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")名称（[GH 34673](https://github.com/pandas-dev/pandas/issues/34673))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") not respecting [`set_option()`](../reference/api/pandas.set_option.html#pandas.set_option
    "pandas.set_option") ([GH 34252](https://github.com/pandas-dev/pandas/issues/34252))
  id: totrans-488
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")中存在一个bug，未遵守[`set_option()`](../reference/api/pandas.set_option.html#pandas.set_option
    "pandas.set_option")（[GH 34252](https://github.com/pandas-dev/pandas/issues/34252))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") not switching `true_values` and `false_values` for nullable
    Boolean dtype ([GH 34655](https://github.com/pandas-dev/pandas/issues/34655))
  id: totrans-489
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在可空布尔dtype上，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")存在一个bug，未切换`true_values`和`false_values`（[GH 34655](https://github.com/pandas-dev/pandas/issues/34655))
- en: Bug in [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") when `orient="split"` not maintaining a numeric string index
    ([GH 28556](https://github.com/pandas-dev/pandas/issues/28556))
  id: totrans-490
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`orient="split"`时，[`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json")存在一个bug，未能保持数字字符串索引（[GH 28556](https://github.com/pandas-dev/pandas/issues/28556))
- en: '[`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql "pandas.read_sql")
    returned an empty generator if `chunksize` was non-zero and the query returned
    no results. Now returns a generator with a single empty DataFrame ([GH 34411](https://github.com/pandas-dev/pandas/issues/34411))'
  id: totrans-491
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果`chunksize`为非零且查询未返回结果，则[`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql
    "pandas.read_sql")将返回一个空生成器。现在返回一个包含单个空DataFrame的生成器（[GH 34411](https://github.com/pandas-dev/pandas/issues/34411))
- en: Bug in [`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf
    "pandas.read_hdf") returning unexpected records when filtering on categorical
    string columns using the `where` parameter ([GH 39189](https://github.com/pandas-dev/pandas/issues/39189))
  id: totrans-492
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`where`参数时，[`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf
    "pandas.read_hdf")存在一个bug，当在分类字符串列上进行过滤时，返回意外记录（[GH 39189](https://github.com/pandas-dev/pandas/issues/39189))
- en: Bug in [`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas
    "pandas.read_sas") raising a `ValueError` when `datetimes` were null ([GH 39725](https://github.com/pandas-dev/pandas/issues/39725))
  id: totrans-493
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas
    "pandas.read_sas") 在`datetimes`为null时引发`ValueError`（[GH 39725](https://github.com/pandas-dev/pandas/issues/39725)）
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") dropping empty values from single-column spreadsheets ([GH
    39808](https://github.com/pandas-dev/pandas/issues/39808))
  id: totrans-494
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 从单列电子表格中删除空值（[GH 39808](https://github.com/pandas-dev/pandas/issues/39808)）
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") loading trailing empty rows/columns for some filetypes ([GH
    41167](https://github.com/pandas-dev/pandas/issues/41167))
  id: totrans-495
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 对某些文件类型加载尾随的空行/列（[GH 41167](https://github.com/pandas-dev/pandas/issues/41167)）
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") raising an `AttributeError` when the excel file had a `MultiIndex`
    header followed by two empty rows and no index ([GH 40442](https://github.com/pandas-dev/pandas/issues/40442))
  id: totrans-496
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 当excel文件具有`MultiIndex`标题后跟两个空行且没有索引时，引发`AttributeError`（[GH
    40442](https://github.com/pandas-dev/pandas/issues/40442)）
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel"), [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv"), [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table"), [`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf
    "pandas.read_fwf"), and [`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") where one blank row after a `MultiIndex` header with
    no index would be dropped ([GH 40442](https://github.com/pandas-dev/pandas/issues/40442))
  id: totrans-497
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")，[`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table")，[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf
    "pandas.read_fwf")和[`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") 在`MultiIndex`标题后的一个空行会被删除（[GH 40442](https://github.com/pandas-dev/pandas/issues/40442)）
- en: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") misplacing the truncation column when `index=False`
    ([GH 40904](https://github.com/pandas-dev/pandas/issues/40904))
  id: totrans-498
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") 当`index=False`时，错位截断列（[GH 40904](https://github.com/pandas-dev/pandas/issues/40904)）
- en: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") adding an extra dot and misaligning the truncation
    row when `index=False` ([GH 40904](https://github.com/pandas-dev/pandas/issues/40904))
  id: totrans-499
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") 当`index=False`时，添加额外的点并错位截断行（[GH 40904](https://github.com/pandas-dev/pandas/issues/40904)）
- en: Bug in [`read_orc()`](../reference/api/pandas.read_orc.html#pandas.read_orc
    "pandas.read_orc") always raising an `AttributeError` ([GH 40918](https://github.com/pandas-dev/pandas/issues/40918))
  id: totrans-500
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_orc()`](../reference/api/pandas.read_orc.html#pandas.read_orc
    "pandas.read_orc") 总是引发`AttributeError`（[GH 40918](https://github.com/pandas-dev/pandas/issues/40918)）
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") silently ignoring `prefix` if `names` and `prefix` are defined,
    now raising a `ValueError` ([GH 39123](https://github.com/pandas-dev/pandas/issues/39123))
  id: totrans-501
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 和 [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") 如果定义了`names`和`prefix`，则静默忽略`prefix`，现在引发`ValueError`（[GH
    39123](https://github.com/pandas-dev/pandas/issues/39123)）
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") not respecting the dtype for a duplicated column name when
    `mangle_dupe_cols` is set to `True` ([GH 35211](https://github.com/pandas-dev/pandas/issues/35211))
  id: totrans-502
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 和 [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 当`mangle_dupe_cols`设置为`True`时，不尊重重复列名的dtype��[GH 35211](https://github.com/pandas-dev/pandas/issues/35211)）
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") silently ignoring `sep` if `delimiter` and `sep` are defined,
    now raising a `ValueError` ([GH 39823](https://github.com/pandas-dev/pandas/issues/39823))
  id: totrans-503
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `delimiter` 和 `sep` 定义但 `sep` 被静默忽略时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 现在会引发 `ValueError`（[GH 39823](https://github.com/pandas-dev/pandas/issues/39823)）
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") misinterpreting arguments when `sys.setprofile` had been
    previously called ([GH 41069](https://github.com/pandas-dev/pandas/issues/41069))
  id: totrans-504
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当之前调用了 `sys.setprofile` 时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 和 [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") 对参数的解释出现错误（[GH 41069](https://github.com/pandas-dev/pandas/issues/41069)）
- en: Bug in the conversion from PyArrow to pandas (e.g. for reading Parquet) with
    nullable dtypes and a PyArrow array whose data buffer size is not a multiple of
    the dtype size ([GH 40896](https://github.com/pandas-dev/pandas/issues/40896))
  id: totrans-505
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在从 PyArrow 转换到 pandas（例如，用于读取 Parquet）时存在 bug，可空数据类型和 PyArrow 数组的数据缓冲区大小不是 dtype
    大小的倍数时会出现问题（[GH 40896](https://github.com/pandas-dev/pandas/issues/40896)）
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") would raise an error when pandas could not determine the
    file type even though the user specified the `engine` argument ([GH 41225](https://github.com/pandas-dev/pandas/issues/41225))
  id: totrans-506
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 pandas 无法确定文件类型但用户指定了 `engine` 参数时，[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 会引发错误（[GH 41225](https://github.com/pandas-dev/pandas/issues/41225)）
- en: Bug in [`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") copying from an excel file shifts values into the wrong
    column if there are null values in first column ([GH 41108](https://github.com/pandas-dev/pandas/issues/41108))
  id: totrans-507
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在 excel 文件中复制时，如果第一列存在空值，则[`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") 中的 bug 会将值移到错误的列中（[GH 41108](https://github.com/pandas-dev/pandas/issues/41108)）
- en: Bug in [`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf") and [`Series.to_hdf()`](../reference/api/pandas.Series.to_hdf.html#pandas.Series.to_hdf
    "pandas.Series.to_hdf") raising a `TypeError` when trying to append a string column
    to an incompatible column ([GH 41897](https://github.com/pandas-dev/pandas/issues/41897))
  id: totrans-508
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当尝试将不兼容的列附加到字符串列时，[`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf") 和 [`Series.to_hdf()`](../reference/api/pandas.Series.to_hdf.html#pandas.Series.to_hdf
    "pandas.Series.to_hdf") 会引发 `TypeError`（[GH 41897](https://github.com/pandas-dev/pandas/issues/41897)）
- en: Period
  id: totrans-509
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 周期
- en: Comparisons of [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") objects or [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index"), [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series"), or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with mismatched `PeriodDtype` now behave like other mismatched-type
    comparisons, returning `False` for equals, `True` for not-equal, and raising `TypeError`
    for inequality checks ([GH 39274](https://github.com/pandas-dev/pandas/issues/39274))
  id: totrans-510
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    对象或 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")、[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 之间的比较，如果 `PeriodDtype` 不匹配，现在会像其他不匹配类型的比较一样，对于相等返回 `False`，对于不相等返回
    `True`，对于不相等的检查引发 `TypeError`（[GH 39274](https://github.com/pandas-dev/pandas/issues/39274)）'
- en: Plotting
  id: totrans-511
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 绘图
- en: Bug in [`plotting.scatter_matrix()`](../reference/api/pandas.plotting.scatter_matrix.html#pandas.plotting.scatter_matrix
    "pandas.plotting.scatter_matrix") raising when 2d `ax` argument passed ([GH 16253](https://github.com/pandas-dev/pandas/issues/16253))
  id: totrans-512
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在传递 2D `ax` 参数时，[`plotting.scatter_matrix()`](../reference/api/pandas.plotting.scatter_matrix.html#pandas.plotting.scatter_matrix
    "pandas.plotting.scatter_matrix") 报错（[GH 16253](https://github.com/pandas-dev/pandas/issues/16253)）
- en: Prevent warnings when Matplotlib’s `constrained_layout` is enabled ([GH 25261](https://github.com/pandas-dev/pandas/issues/25261))
  id: totrans-513
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 Matplotlib 的 `constrained_layout` 启用时，防止出现警告（[GH 25261](https://github.com/pandas-dev/pandas/issues/25261)）
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") was showing the wrong colors in the legend if the function
    was called repeatedly and some calls used `yerr` while others didn’t ([GH 39522](https://github.com/pandas-dev/pandas/issues/39522))
  id: totrans-514
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 中的一个错误，如果该函数被重复调用，有些调用使用了`yerr`，而其他调用则没有，图例中显示的颜色是错误的（[GH
    39522](https://github.com/pandas-dev/pandas/issues/39522))'
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") was showing the wrong colors in the legend if the function
    was called repeatedly and some calls used `secondary_y` and others use `legend=False`
    ([GH 40044](https://github.com/pandas-dev/pandas/issues/40044))
  id: totrans-515
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 中的一个错误，如果该函数被重复调用，有些调用使用了`secondary_y`，而其他调用使用了`legend=False`，则图例中显示的颜色是错误的（[GH
    40044](https://github.com/pandas-dev/pandas/issues/40044))'
- en: Bug in [`DataFrame.plot.box()`](../reference/api/pandas.DataFrame.plot.box.html#pandas.DataFrame.plot.box
    "pandas.DataFrame.plot.box") when `dark_background` theme was selected, caps or
    min/max markers for the plot were not visible ([GH 40769](https://github.com/pandas-dev/pandas/issues/40769))
  id: totrans-516
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.plot.box()`](../reference/api/pandas.DataFrame.plot.box.html#pandas.DataFrame.plot.box
    "pandas.DataFrame.plot.box") 中的一个错误，当选择了`dark_background`主题时，图中的上限或下限标记不可见（[GH
    40769](https://github.com/pandas-dev/pandas/issues/40769))'
- en: Groupby/resample/rolling
  id: totrans-517
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Groupby/resample/rolling
- en: Bug in [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") and [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") with [`PeriodDtype`](../reference/api/pandas.PeriodDtype.html#pandas.PeriodDtype
    "pandas.PeriodDtype") columns incorrectly casting results too aggressively ([GH
    38254](https://github.com/pandas-dev/pandas/issues/38254))
  id: totrans-518
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") 和 [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") 中的一个错误，即对 [`PeriodDtype`](../reference/api/pandas.PeriodDtype.html#pandas.PeriodDtype
    "pandas.PeriodDtype") 类型的列错误地过于激进地进行了转换（[GH 38254](https://github.com/pandas-dev/pandas/issues/38254))'
- en: Bug in [`SeriesGroupBy.value_counts()`](../reference/api/pandas.core.groupby.SeriesGroupBy.value_counts.html#pandas.core.groupby.SeriesGroupBy.value_counts
    "pandas.core.groupby.SeriesGroupBy.value_counts") where unobserved categories
    in a grouped categorical Series were not tallied ([GH 38672](https://github.com/pandas-dev/pandas/issues/38672))
  id: totrans-519
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`SeriesGroupBy.value_counts()`](../reference/api/pandas.core.groupby.SeriesGroupBy.value_counts.html#pandas.core.groupby.SeriesGroupBy.value_counts
    "pandas.core.groupby.SeriesGroupBy.value_counts") 中的一个错误，即在分组的分类序列中未观察到的类别未被计入（[GH
    38672](https://github.com/pandas-dev/pandas/issues/38672))'
- en: Bug in [`SeriesGroupBy.value_counts()`](../reference/api/pandas.core.groupby.SeriesGroupBy.value_counts.html#pandas.core.groupby.SeriesGroupBy.value_counts
    "pandas.core.groupby.SeriesGroupBy.value_counts") where an error was raised on
    an empty Series ([GH 39172](https://github.com/pandas-dev/pandas/issues/39172))
  id: totrans-520
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`SeriesGroupBy.value_counts()`](../reference/api/pandas.core.groupby.SeriesGroupBy.value_counts.html#pandas.core.groupby.SeriesGroupBy.value_counts
    "pandas.core.groupby.SeriesGroupBy.value_counts") 中的一个错误，即在空的序列上引发了错误（[GH 39172](https://github.com/pandas-dev/pandas/issues/39172))'
- en: Bug in `GroupBy.indices()` would contain non-existent indices when null values
    were present in the groupby keys ([GH 9304](https://github.com/pandas-dev/pandas/issues/9304))
  id: totrans-521
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`GroupBy.indices()` 中的一个错误，即在分组键中存在空值时，会包含不存在的索引（[GH 9304](https://github.com/pandas-dev/pandas/issues/9304))'
- en: Fixed bug in [`DataFrameGroupBy.sum()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.sum.html#pandas.core.groupby.DataFrameGroupBy.sum
    "pandas.core.groupby.DataFrameGroupBy.sum") and [`SeriesGroupBy.sum()`](../reference/api/pandas.core.groupby.SeriesGroupBy.sum.html#pandas.core.groupby.SeriesGroupBy.sum
    "pandas.core.groupby.SeriesGroupBy.sum") causing a loss of precision by now using
    Kahan summation ([GH 38778](https://github.com/pandas-dev/pandas/issues/38778))
  id: totrans-522
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`DataFrameGroupBy.sum()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.sum.html#pandas.core.groupby.DataFrameGroupBy.sum
    "pandas.core.groupby.DataFrameGroupBy.sum") 和 [`SeriesGroupBy.sum()`](../reference/api/pandas.core.groupby.SeriesGroupBy.sum.html#pandas.core.groupby.SeriesGroupBy.sum
    "pandas.core.groupby.SeriesGroupBy.sum") 中的一个错误，通过使用 Kahan 求和现在可以避免精度丢失（[GH 38778](https://github.com/pandas-dev/pandas/issues/38778))
- en: Fixed bug in [`DataFrameGroupBy.cumsum()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cumsum.html#pandas.core.groupby.DataFrameGroupBy.cumsum
    "pandas.core.groupby.DataFrameGroupBy.cumsum"), [`SeriesGroupBy.cumsum()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cumsum.html#pandas.core.groupby.SeriesGroupBy.cumsum
    "pandas.core.groupby.SeriesGroupBy.cumsum"), [`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean"), and [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean") causing loss of precision through using
    Kahan summation ([GH 38934](https://github.com/pandas-dev/pandas/issues/38934))
  id: totrans-523
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`DataFrameGroupBy.cumsum()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cumsum.html#pandas.core.groupby.DataFrameGroupBy.cumsum
    "pandas.core.groupby.DataFrameGroupBy.cumsum")、[`SeriesGroupBy.cumsum()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cumsum.html#pandas.core.groupby.SeriesGroupBy.cumsum
    "pandas.core.groupby.SeriesGroupBy.cumsum")、[`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean") 和 [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean") 中的 Bug，通过使用 Kahan 求和导致精度丢失（[GH 38934](https://github.com/pandas-dev/pandas/issues/38934)）
- en: Bug in [`Resampler.aggregate()`](../reference/api/pandas.core.resample.Resampler.aggregate.html#pandas.core.resample.Resampler.aggregate
    "pandas.core.resample.Resampler.aggregate") and [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") raising a `TypeError` instead of `SpecificationError`
    when missing keys had mixed dtypes ([GH 39025](https://github.com/pandas-dev/pandas/issues/39025))
  id: totrans-524
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Resampler.aggregate()`](../reference/api/pandas.core.resample.Resampler.aggregate.html#pandas.core.resample.Resampler.aggregate
    "pandas.core.resample.Resampler.aggregate") 和 [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") 中的 Bug，在缺少键具有混合数据类型时抛出 `TypeError` 而不是 `SpecificationError`（[GH
    39025](https://github.com/pandas-dev/pandas/issues/39025)）'
- en: Bug in [`DataFrameGroupBy.idxmin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.idxmin.html#pandas.core.groupby.DataFrameGroupBy.idxmin
    "pandas.core.groupby.DataFrameGroupBy.idxmin") and [`DataFrameGroupBy.idxmax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.idxmax.html#pandas.core.groupby.DataFrameGroupBy.idxmax
    "pandas.core.groupby.DataFrameGroupBy.idxmax") with `ExtensionDtype` columns ([GH
    38733](https://github.com/pandas-dev/pandas/issues/38733))
  id: totrans-525
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.idxmin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.idxmin.html#pandas.core.groupby.DataFrameGroupBy.idxmin
    "pandas.core.groupby.DataFrameGroupBy.idxmin") 和 [`DataFrameGroupBy.idxmax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.idxmax.html#pandas.core.groupby.DataFrameGroupBy.idxmax
    "pandas.core.groupby.DataFrameGroupBy.idxmax") 中的 Bug，涉及 `ExtensionDtype` 列（[GH
    38733](https://github.com/pandas-dev/pandas/issues/38733)）'
- en: Bug in [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") would raise when the index was a [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") consisting of `NaT` ([GH 39227](https://github.com/pandas-dev/pandas/issues/39227))
  id: totrans-526
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") 中的 Bug，当索引是由 `NaT` 组成的 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 时会引发异常（[GH 39227](https://github.com/pandas-dev/pandas/issues/39227)）'
- en: Bug in `RollingGroupby.corr()` and `ExpandingGroupby.corr()` where the groupby
    column would return `0` instead of `np.nan` when providing `other` that was longer
    than each group ([GH 39591](https://github.com/pandas-dev/pandas/issues/39591))
  id: totrans-527
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RollingGroupby.corr()` 和 `ExpandingGroupby.corr()` 中的 Bug，当提供的 `other` 长度大于每个组时，分组列会返回
    `0` 而不是 `np.nan`（[GH 39591](https://github.com/pandas-dev/pandas/issues/39591)）'
- en: Bug in `ExpandingGroupby.corr()` and `ExpandingGroupby.cov()` where `1` would
    be returned instead of `np.nan` when providing `other` that was longer than each
    group ([GH 39591](https://github.com/pandas-dev/pandas/issues/39591))
  id: totrans-528
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExpandingGroupby.corr()` 和 `ExpandingGroupby.cov()` 中的 Bug，当提供的 `other` 长度大于每个组时，会返回
    `1` 而不是 `np.nan`（[GH 39591](https://github.com/pandas-dev/pandas/issues/39591)）'
- en: Bug in [`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean"), [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean"), [`DataFrameGroupBy.median()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.median.html#pandas.core.groupby.DataFrameGroupBy.median
    "pandas.core.groupby.DataFrameGroupBy.median"), [`SeriesGroupBy.median()`](../reference/api/pandas.core.groupby.SeriesGroupBy.median.html#pandas.core.groupby.SeriesGroupBy.median
    "pandas.core.groupby.SeriesGroupBy.median"), and [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") not propagating metadata ([GH 28283](https://github.com/pandas-dev/pandas/issues/28283))
  id: totrans-529
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean")、[`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean")、[`DataFrameGroupBy.median()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.median.html#pandas.core.groupby.DataFrameGroupBy.median
    "pandas.core.groupby.DataFrameGroupBy.median")、[`SeriesGroupBy.median()`](../reference/api/pandas.core.groupby.SeriesGroupBy.median.html#pandas.core.groupby.SeriesGroupBy.median
    "pandas.core.groupby.SeriesGroupBy.median") 和 [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") 中的 Bug，未传播元数据（[GH 28283](https://github.com/pandas-dev/pandas/issues/28283))'
- en: Bug in [`Series.rolling()`](../reference/api/pandas.Series.rolling.html#pandas.Series.rolling
    "pandas.Series.rolling") and [`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling") not calculating window bounds correctly when window
    is an offset and dates are in descending order ([GH 40002](https://github.com/pandas-dev/pandas/issues/40002))
  id: totrans-530
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.rolling()`](../reference/api/pandas.Series.rolling.html#pandas.Series.rolling
    "pandas.Series.rolling") 和 [`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling") 中的 Bug，在窗口是偏移量且日期按降序排列时，未正确计算窗口边界（[GH 40002](https://github.com/pandas-dev/pandas/issues/40002))'
- en: Bug in [`Series.groupby()`](../reference/api/pandas.Series.groupby.html#pandas.Series.groupby
    "pandas.Series.groupby") and [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") on an empty `Series` or `DataFrame` would lose index,
    columns, and/or data types when directly using the methods `idxmax`, `idxmin`,
    `mad`, `min`, `max`, `sum`, `prod`, and `skew` or using them through `apply`,
    `aggregate`, or `resample` ([GH 26411](https://github.com/pandas-dev/pandas/issues/26411))
  id: totrans-531
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.groupby()`](../reference/api/pandas.Series.groupby.html#pandas.Series.groupby
    "pandas.Series.groupby") 和 [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 中的 Bug，在空`Series`或`DataFrame`上直接使用`idxmax`、`idxmin`、`mad`、`min`、`max`、`sum`、`prod`和`skew`方法，或通过`apply`、`aggregate`或`resample`使用时，会丢失索引、列和/或数据类型（[GH
    26411](https://github.com/pandas-dev/pandas/issues/26411))'
- en: Bug in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") and [`SeriesGroupBy.apply()`](../reference/api/pandas.core.groupby.SeriesGroupBy.apply.html#pandas.core.groupby.SeriesGroupBy.apply
    "pandas.core.groupby.SeriesGroupBy.apply") where a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") would be created instead of an [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") when used on a `RollingGroupby` object ([GH 39732](https://github.com/pandas-dev/pandas/issues/39732))
  id: totrans-532
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") 和 [`SeriesGroupBy.apply()`](../reference/api/pandas.core.groupby.SeriesGroupBy.apply.html#pandas.core.groupby.SeriesGroupBy.apply
    "pandas.core.groupby.SeriesGroupBy.apply") 中的 Bug，在`RollingGroupby`对象上使用时，会创建一个
    [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    而不是一个 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")（[GH
    39732](https://github.com/pandas-dev/pandas/issues/39732))'
- en: Bug in [`DataFrameGroupBy.sample()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.sample.html#pandas.core.groupby.DataFrameGroupBy.sample
    "pandas.core.groupby.DataFrameGroupBy.sample") where an error was raised when
    `weights` was specified and the index was an `Int64Index` ([GH 39927](https://github.com/pandas-dev/pandas/issues/39927))
  id: totrans-533
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.sample()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.sample.html#pandas.core.groupby.DataFrameGroupBy.sample
    "pandas.core.groupby.DataFrameGroupBy.sample") 中的 Bug，在指定`weights`且索引为`Int64Index`时会引发错误（[GH
    39927](https://github.com/pandas-dev/pandas/issues/39927))'
- en: Bug in [`DataFrameGroupBy.aggregate()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html#pandas.core.groupby.DataFrameGroupBy.aggregate
    "pandas.core.groupby.DataFrameGroupBy.aggregate") and [`Resampler.aggregate()`](../reference/api/pandas.core.resample.Resampler.aggregate.html#pandas.core.resample.Resampler.aggregate
    "pandas.core.resample.Resampler.aggregate") would sometimes raise a `SpecificationError`
    when passed a dictionary and columns were missing; will now always raise a `KeyError`
    instead ([GH 40004](https://github.com/pandas-dev/pandas/issues/40004))
  id: totrans-534
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrameGroupBy.aggregate()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html#pandas.core.groupby.DataFrameGroupBy.aggregate
    "pandas.core.groupby.DataFrameGroupBy.aggregate")和[`Resampler.aggregate()`](../reference/api/pandas.core.resample.Resampler.aggregate.html#pandas.core.resample.Resampler.aggregate
    "pandas.core.resample.Resampler.aggregate")中的一个错误，有时会在传递字典并且缺少列时引发`SpecificationError`，现在将始终引发`KeyError`（[GH
    40004](https://github.com/pandas-dev/pandas/issues/40004)）
- en: Bug in [`DataFrameGroupBy.sample()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.sample.html#pandas.core.groupby.DataFrameGroupBy.sample
    "pandas.core.groupby.DataFrameGroupBy.sample") where column selection was not
    applied before computing the result ([GH 39928](https://github.com/pandas-dev/pandas/issues/39928))
  id: totrans-535
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrameGroupBy.sample()`中的一个错误，计算结果之前未应用列选择（[GH 39928](https://github.com/pandas-dev/pandas/issues/39928)）
- en: Bug in `ExponentialMovingWindow` when calling `__getitem__` would incorrectly
    raise a `ValueError` when providing `times` ([GH 40164](https://github.com/pandas-dev/pandas/issues/40164))
  id: totrans-536
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在调用`__getitem__`时，`ExponentialMovingWindow`中提供`times`会错误地引发`ValueError`的错误（[GH
    40164](https://github.com/pandas-dev/pandas/issues/40164)）
- en: Bug in `ExponentialMovingWindow` when calling `__getitem__` would not retain
    `com`, `span`, `alpha` or `halflife` attributes ([GH 40164](https://github.com/pandas-dev/pandas/issues/40164))
  id: totrans-537
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在调用`__getitem__`时，`ExponentialMovingWindow`不会保留`com`、`span`、`alpha`或`halflife`属性（[GH
    40164](https://github.com/pandas-dev/pandas/issues/40164)）
- en: '`ExponentialMovingWindow` now raises a `NotImplementedError` when specifying
    `times` with `adjust=False` due to an incorrect calculation ([GH 40098](https://github.com/pandas-dev/pandas/issues/40098))'
  id: totrans-538
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用`adjust=False`指定`times`时，`ExponentialMovingWindow`现在会引发`NotImplementedError`，因为计算不正确（[GH
    40098](https://github.com/pandas-dev/pandas/issues/40098)）
- en: Bug in `ExponentialMovingWindowGroupby.mean()` where the `times` argument was
    ignored when `engine='numba'` ([GH 40951](https://github.com/pandas-dev/pandas/issues/40951))
  id: totrans-539
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`ExponentialMovingWindowGroupby.mean()`中的一个错误，当`engine='numba'`时，会忽略`times`参数（[GH
    40951](https://github.com/pandas-dev/pandas/issues/40951)）
- en: Bug in `ExponentialMovingWindowGroupby.mean()` where the wrong times were used
    the in case of multiple groups ([GH 40951](https://github.com/pandas-dev/pandas/issues/40951))
  id: totrans-540
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`ExponentialMovingWindowGroupby.mean()`中的一个错误，当存在多个分组时使用了错误的时间（[GH 40951](https://github.com/pandas-dev/pandas/issues/40951)）
- en: Bug in `ExponentialMovingWindowGroupby` where the times vector and values became
    out of sync for non-trivial groups ([GH 40951](https://github.com/pandas-dev/pandas/issues/40951))
  id: totrans-541
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExponentialMovingWindowGroupby`中的一个错误，导致非平凡分组的时间向量和数值不同步（[GH 40951](https://github.com/pandas-dev/pandas/issues/40951)）'
- en: Bug in [`Series.asfreq()`](../reference/api/pandas.Series.asfreq.html#pandas.Series.asfreq
    "pandas.Series.asfreq") and [`DataFrame.asfreq()`](../reference/api/pandas.DataFrame.asfreq.html#pandas.DataFrame.asfreq
    "pandas.DataFrame.asfreq") dropping rows when the index was not sorted ([GH 39805](https://github.com/pandas-dev/pandas/issues/39805))
  id: totrans-542
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Series.asfreq()`](../reference/api/pandas.Series.asfreq.html#pandas.Series.asfreq
    "pandas.Series.asfreq")和[`DataFrame.asfreq()`](../reference/api/pandas.DataFrame.asfreq.html#pandas.DataFrame.asfreq
    "pandas.DataFrame.asfreq")中的一个错误，当索引未排序时会丢失行（[GH 39805](https://github.com/pandas-dev/pandas/issues/39805)）
- en: Bug in aggregation functions for [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") not respecting `numeric_only` argument when `level` keyword
    was given ([GH 40660](https://github.com/pandas-dev/pandas/issues/40660))
  id: totrans-543
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在对[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")进行聚合函数时，当给定`level`关键字参数时，不遵守`numeric_only`参数的错误（[GH
    40660](https://github.com/pandas-dev/pandas/issues/40660)）
- en: Bug in [`SeriesGroupBy.aggregate()`](../reference/api/pandas.core.groupby.SeriesGroupBy.aggregate.html#pandas.core.groupby.SeriesGroupBy.aggregate
    "pandas.core.groupby.SeriesGroupBy.aggregate") where using a user-defined function
    to aggregate a Series with an object-typed [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") causes an incorrect [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") shape ([GH 40014](https://github.com/pandas-dev/pandas/issues/40014))
  id: totrans-544
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`SeriesGroupBy.aggregate()`](../reference/api/pandas.core.groupby.SeriesGroupBy.aggregate.html#pandas.core.groupby.SeriesGroupBy.aggregate
    "pandas.core.groupby.SeriesGroupBy.aggregate")中存在的一个 bug，使用用户定义的函数来聚合具有对象类型[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")的 Series 会导致不正确的[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")形状（[GH 40014](https://github.com/pandas-dev/pandas/issues/40014))
- en: Bug in `RollingGroupby` where `as_index=False` argument in `groupby` was ignored
    ([GH 39433](https://github.com/pandas-dev/pandas/issues/39433))
  id: totrans-545
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`RollingGroupby`中存在的一个 bug，`groupby`中的`as_index=False`参数被忽略了（[GH 39433](https://github.com/pandas-dev/pandas/issues/39433))
- en: Bug in [`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all") and [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") raising a `ValueError` when using with
    nullable type columns holding `NA` even with `skipna=True` ([GH 40585](https://github.com/pandas-dev/pandas/issues/40585))
  id: totrans-546
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any")、[`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any")、[`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all")和[`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all")中存在的一个 bug，当在持有`NA`的可空类型列上使用时，即使`skipna=True`也会引发`ValueError`（[GH
    40585](https://github.com/pandas-dev/pandas/issues/40585))
- en: Bug in [`DataFrameGroupBy.cummin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummin.html#pandas.core.groupby.DataFrameGroupBy.cummin
    "pandas.core.groupby.DataFrameGroupBy.cummin"), [`SeriesGroupBy.cummin()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummin.html#pandas.core.groupby.SeriesGroupBy.cummin
    "pandas.core.groupby.SeriesGroupBy.cummin"), [`DataFrameGroupBy.cummax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummax.html#pandas.core.groupby.DataFrameGroupBy.cummax
    "pandas.core.groupby.DataFrameGroupBy.cummax") and [`SeriesGroupBy.cummax()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummax.html#pandas.core.groupby.SeriesGroupBy.cummax
    "pandas.core.groupby.SeriesGroupBy.cummax") incorrectly rounding integer values
    near the `int64` implementations bounds ([GH 40767](https://github.com/pandas-dev/pandas/issues/40767))
  id: totrans-547
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrameGroupBy.cummin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummin.html#pandas.core.groupby.DataFrameGroupBy.cummin
    "pandas.core.groupby.DataFrameGroupBy.cummin")、[`SeriesGroupBy.cummin()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummin.html#pandas.core.groupby.SeriesGroupBy.cummin
    "pandas.core.groupby.SeriesGroupBy.cummin")、[`DataFrameGroupBy.cummax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummax.html#pandas.core.groupby.DataFrameGroupBy.cummax
    "pandas.core.groupby.DataFrameGroupBy.cummax")和[`SeriesGroupBy.cummax()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummax.html#pandas.core.groupby.SeriesGroupBy.cummax
    "pandas.core.groupby.SeriesGroupBy.cummax")中存在的一个 bug，会在`int64`实现边界附近不正确地四舍五入整数值（[GH
    40767](https://github.com/pandas-dev/pandas/issues/40767))
- en: Bug in [`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") and [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") with nullable dtypes incorrectly raising
    a `TypeError` ([GH 41010](https://github.com/pandas-dev/pandas/issues/41010))
  id: totrans-548
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank")和[`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank")中存在的一个 bug，具有可空 dtypes 的情况下不正确地引发`TypeError`（[GH
    41010](https://github.com/pandas-dev/pandas/issues/41010))
- en: Bug in [`DataFrameGroupBy.cummin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummin.html#pandas.core.groupby.DataFrameGroupBy.cummin
    "pandas.core.groupby.DataFrameGroupBy.cummin"), [`SeriesGroupBy.cummin()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummin.html#pandas.core.groupby.SeriesGroupBy.cummin
    "pandas.core.groupby.SeriesGroupBy.cummin"), [`DataFrameGroupBy.cummax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummax.html#pandas.core.groupby.DataFrameGroupBy.cummax
    "pandas.core.groupby.DataFrameGroupBy.cummax") and [`SeriesGroupBy.cummax()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummax.html#pandas.core.groupby.SeriesGroupBy.cummax
    "pandas.core.groupby.SeriesGroupBy.cummax") computing wrong result with nullable
    data types too large to roundtrip when casting to float ([GH 37493](https://github.com/pandas-dev/pandas/issues/37493))
  id: totrans-549
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`DataFrameGroupBy.cummin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummin.html#pandas.core.groupby.DataFrameGroupBy.cummin
    "pandas.core.groupby.DataFrameGroupBy.cummin")、[`SeriesGroupBy.cummin()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummin.html#pandas.core.groupby.SeriesGroupBy.cummin
    "pandas.core.groupby.SeriesGroupBy.cummin")、[`DataFrameGroupBy.cummax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummax.html#pandas.core.groupby.DataFrameGroupBy.cummax
    "pandas.core.groupby.DataFrameGroupBy.cummax") 和 [`SeriesGroupBy.cummax()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummax.html#pandas.core.groupby.SeriesGroupBy.cummax
    "pandas.core.groupby.SeriesGroupBy.cummax") 时存在一个 bug，当将可为空的数据类型转换为浮点数时，太大而无法往返时，计算结果错误（[GH
    37493](https://github.com/pandas-dev/pandas/issues/37493)）
- en: Bug in [`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling") returning mean zero for all `NaN` window with `min_periods=0`
    if calculation is not numerical stable ([GH 41053](https://github.com/pandas-dev/pandas/issues/41053))
  id: totrans-550
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling")时存在一个 bug，如果计算不是数值稳定的，并且 `min_periods=0` 时，对所有 `NaN`
    窗口返回的均值都为零（[GH 41053](https://github.com/pandas-dev/pandas/issues/41053)）
- en: Bug in [`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling") returning sum not zero for all `NaN` window with `min_periods=0`
    if calculation is not numerical stable ([GH 41053](https://github.com/pandas-dev/pandas/issues/41053))
  id: totrans-551
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling")时存在一个 bug，如果计算不是数值稳定的，并且 `min_periods=0` 时，对所有 `NaN`
    窗口返回的总和不为零（[GH 41053](https://github.com/pandas-dev/pandas/issues/41053)）
- en: Bug in [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") failing to retain ordered [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") on order-preserving aggregations ([GH 41147](https://github.com/pandas-dev/pandas/issues/41147))
  id: totrans-552
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg")时存在一个 bug，对保持有序的 [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") 进行聚合时无法保留顺序，导致聚合失败（[GH 41147](https://github.com/pandas-dev/pandas/issues/41147)）
- en: Bug in [`DataFrameGroupBy.min()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.min.html#pandas.core.groupby.DataFrameGroupBy.min
    "pandas.core.groupby.DataFrameGroupBy.min"), [`SeriesGroupBy.min()`](../reference/api/pandas.core.groupby.SeriesGroupBy.min.html#pandas.core.groupby.SeriesGroupBy.min
    "pandas.core.groupby.SeriesGroupBy.min"), [`DataFrameGroupBy.max()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.max.html#pandas.core.groupby.DataFrameGroupBy.max
    "pandas.core.groupby.DataFrameGroupBy.max") and [`SeriesGroupBy.max()`](../reference/api/pandas.core.groupby.SeriesGroupBy.max.html#pandas.core.groupby.SeriesGroupBy.max
    "pandas.core.groupby.SeriesGroupBy.max") with multiple object-dtype columns and
    `numeric_only=False` incorrectly raising a `ValueError` ([GH 41111](https://github.com/pandas-dev/pandas/issues/41111))
  id: totrans-553
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`DataFrameGroupBy.min()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.min.html#pandas.core.groupby.DataFrameGroupBy.min
    "pandas.core.groupby.DataFrameGroupBy.min")、[`SeriesGroupBy.min()`](../reference/api/pandas.core.groupby.SeriesGroupBy.min.html#pandas.core.groupby.SeriesGroupBy.min
    "pandas.core.groupby.SeriesGroupBy.min")、[`DataFrameGroupBy.max()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.max.html#pandas.core.groupby.DataFrameGroupBy.max
    "pandas.core.groupby.DataFrameGroupBy.max") 和 [`SeriesGroupBy.max()`](../reference/api/pandas.core.groupby.SeriesGroupBy.max.html#pandas.core.groupby.SeriesGroupBy.max
    "pandas.core.groupby.SeriesGroupBy.max") 时存在一个 bug，对多个对象类型列且 `numeric_only=False`
    时，错误地引发 `ValueError`（[GH 41111](https://github.com/pandas-dev/pandas/issues/41111)）
- en: Bug in [`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") with the GroupBy object’s `axis=0`
    and the `rank` method’s keyword `axis=1` ([GH 41320](https://github.com/pandas-dev/pandas/issues/41320))
  id: totrans-554
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") 存在 bug，当 GroupBy 对象的 `axis=0` 并且
    `rank` 方法的关键字 `axis=1` 时（[GH 41320](https://github.com/pandas-dev/pandas/issues/41320)）'
- en: Bug in `DataFrameGroupBy.__getitem__()` with non-unique columns incorrectly
    returning a malformed `SeriesGroupBy` instead of `DataFrameGroupBy` ([GH 41427](https://github.com/pandas-dev/pandas/issues/41427))
  id: totrans-555
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy.__getitem__()` 存在 bug，当列不唯一时，错误返回一个格式不正确的 `SeriesGroupBy`
    而不是 `DataFrameGroupBy`（[GH 41427](https://github.com/pandas-dev/pandas/issues/41427)）'
- en: Bug in [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") with non-unique columns incorrectly
    raising an `AttributeError` ([GH 41427](https://github.com/pandas-dev/pandas/issues/41427))
  id: totrans-556
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") 中存在 bug，当列不唯一时，错误地引发 `AttributeError`（[GH
    41427](https://github.com/pandas-dev/pandas/issues/41427)）'
- en: Bug in [`Resampler.apply()`](../reference/api/pandas.core.resample.Resampler.apply.html#pandas.core.resample.Resampler.apply
    "pandas.core.resample.Resampler.apply") with non-unique columns incorrectly dropping
    duplicated columns ([GH 41445](https://github.com/pandas-dev/pandas/issues/41445))
  id: totrans-557
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Resampler.apply()`](../reference/api/pandas.core.resample.Resampler.apply.html#pandas.core.resample.Resampler.apply
    "pandas.core.resample.Resampler.apply") 中存在 bug，当列不唯一时，错误地丢弃了重复的列（[GH 41445](https://github.com/pandas-dev/pandas/issues/41445)）'
- en: Bug in [`Series.groupby()`](../reference/api/pandas.Series.groupby.html#pandas.Series.groupby
    "pandas.Series.groupby") aggregations incorrectly returning empty [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") instead of raising `TypeError` on aggregations that are invalid
    for its dtype, e.g. `.prod` with `datetime64[ns]` dtype ([GH 41342](https://github.com/pandas-dev/pandas/issues/41342))
  id: totrans-558
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.groupby()`](../reference/api/pandas.Series.groupby.html#pandas.Series.groupby
    "pandas.Series.groupby") 的聚合操作错误地返回空的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 而不是在其 dtype 无效的聚合操作上引发 `TypeError`，例如，使用 `datetime64[ns]` dtype
    的 `.prod`（[GH 41342](https://github.com/pandas-dev/pandas/issues/41342)）'
- en: Bug in `DataFrameGroupBy` aggregations incorrectly failing to drop columns with
    invalid dtypes for that aggregation when there are no valid columns ([GH 41291](https://github.com/pandas-dev/pandas/issues/41291))
  id: totrans-559
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy` 的聚合操作在没有有效列时错误地未能删除该聚合的无效 dtype 的列（[GH 41291](https://github.com/pandas-dev/pandas/issues/41291)）'
- en: Bug in `DataFrame.rolling.__iter__()` where `on` was not assigned to the index
    of the resulting objects ([GH 40373](https://github.com/pandas-dev/pandas/issues/40373))
  id: totrans-560
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.rolling.__iter__()` 中存在 bug，未将 `on` 分配给结果对象的索引（[GH 40373](https://github.com/pandas-dev/pandas/issues/40373)）'
- en: Bug in [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") and [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") with `engine="numba"` where `*args`
    were being cached with the user passed function ([GH 41647](https://github.com/pandas-dev/pandas/issues/41647))
  id: totrans-561
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") 和 [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") 中存在 bug，使用 `engine="numba"` 时，`*args`
    与用户传递的函数一起被缓存（[GH 41647](https://github.com/pandas-dev/pandas/issues/41647)）'
- en: Bug in `DataFrameGroupBy` methods `agg`, `transform`, `sum`, `bfill`, `ffill`,
    `pad`, `pct_change`, `shift`, `ohlc` dropping `.columns.names` ([GH 41497](https://github.com/pandas-dev/pandas/issues/41497))
  id: totrans-562
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy` 方法 `agg`、`transform`、`sum`、`bfill`、`ffill`、`pad`、`pct_change`、`shift`、`ohlc`
    丢失了 `.columns.names`（[GH 41497](https://github.com/pandas-dev/pandas/issues/41497)）'
- en: Reshaping
  id: totrans-563
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 重塑
- en: Bug in [`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    raising error when performing an inner join with partial index and `right_index=True`
    when there was no overlap between indices ([GH 33814](https://github.com/pandas-dev/pandas/issues/33814))
  id: totrans-564
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    在部分索引上执行内连接并且 `right_index=True` 时，当索引之间没有重叠时，引发错误（[GH 33814](https://github.com/pandas-dev/pandas/issues/33814)）'
- en: Bug in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") with missing levels led to incorrect index names ([GH
    37510](https://github.com/pandas-dev/pandas/issues/37510))
  id: totrans-565
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在缺少级别的情况下，[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")中的错误导致索引名称不正确（[GH 37510](https://github.com/pandas-dev/pandas/issues/37510))
- en: Bug in [`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") propagating the right Index with `left_index=True` and `right_on`
    specification instead of left Index ([GH 33463](https://github.com/pandas-dev/pandas/issues/33463))
  id: totrans-566
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`left_index=True`和`right_on`规范下，[`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof")传播正确的索引而不是左索引（[GH 33463](https://github.com/pandas-dev/pandas/issues/33463))
- en: Bug in [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") on a DataFrame with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") returned the wrong result when one of both indexes had only
    one level ([GH 36909](https://github.com/pandas-dev/pandas/issues/36909))
  id: totrans-567
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当一个或两个索引只有一个级别时，具有[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")的DataFrame在[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join")上返回错误结果（[GH 36909](https://github.com/pandas-dev/pandas/issues/36909))
- en: '[`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") now raises a `ValueError` instead of a cryptic `TypeError`
    in case of non-numerical merge columns ([GH 29130](https://github.com/pandas-dev/pandas/issues/29130))'
  id: totrans-568
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在非数值合并列的情况下，[`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof")现在会引发`ValueError`而不是晦涩的`TypeError`（[GH 29130](https://github.com/pandas-dev/pandas/issues/29130))
- en: Bug in [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") not assigning values correctly when the DataFrame had
    a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    where at least one dimension had dtype `Categorical` with non-alphabetically sorted
    categories ([GH 38502](https://github.com/pandas-dev/pandas/issues/38502))
  id: totrans-569
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当DataFrame具有至少一个维度具有非按字母顺序排序的`Categorical`类别的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")时，[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join")中的错误未正确分配值（[GH 38502](https://github.com/pandas-dev/pandas/issues/38502))
- en: '[`Series.value_counts()`](../reference/api/pandas.Series.value_counts.html#pandas.Series.value_counts
    "pandas.Series.value_counts") and [`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode") now return consistent keys in original order ([GH 12679](https://github.com/pandas-dev/pandas/issues/12679),
    [GH 11227](https://github.com/pandas-dev/pandas/issues/11227) and [GH 39007](https://github.com/pandas-dev/pandas/issues/39007))'
  id: totrans-570
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.value_counts()`](../reference/api/pandas.Series.value_counts.html#pandas.Series.value_counts
    "pandas.Series.value_counts")和[`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode")现在以原始顺序返回一致的键（[GH 12679](https://github.com/pandas-dev/pandas/issues/12679)，[GH
    11227](https://github.com/pandas-dev/pandas/issues/11227)和[GH 39007](https://github.com/pandas-dev/pandas/issues/39007))'
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") not handling `NaN` in [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") columns correctly ([GH 39481](https://github.com/pandas-dev/pandas/issues/39481))
  id: totrans-571
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack")中的错误未正确处理[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")列中的`NaN`（[GH 39481](https://github.com/pandas-dev/pandas/issues/39481))'
- en: Bug in [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") would give incorrect results when the argument `func`
    was a string, `axis=1`, and the axis argument was not supported; now raises a
    `ValueError` instead ([GH 39211](https://github.com/pandas-dev/pandas/issues/39211))
  id: totrans-572
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当参数`func`为字符串，`axis=1`，且不支持轴参数时，[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply")中的错误会导致结果不正确；现在会引发`ValueError`（[GH 39211](https://github.com/pandas-dev/pandas/issues/39211))
- en: Bug in [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") not reshaping the index correctly after sorting
    on columns when `ignore_index=True` ([GH 39464](https://github.com/pandas-dev/pandas/issues/39464))
  id: totrans-573
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`ignore_index=True`时，[`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values")在按列排序后未正确重塑索引（[GH 39464](https://github.com/pandas-dev/pandas/issues/39464))
- en: Bug in `DataFrame.append()` returning incorrect dtypes with combinations of
    `ExtensionDtype` dtypes ([GH 39454](https://github.com/pandas-dev/pandas/issues/39454))
  id: totrans-574
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.append()`中的错误，在`ExtensionDtype`数据类型的组合中返回不正确的数据类型（[GH 39454](https://github.com/pandas-dev/pandas/issues/39454))'
- en: Bug in `DataFrame.append()` returning incorrect dtypes when used with combinations
    of `datetime64` and `timedelta64` dtypes ([GH 39574](https://github.com/pandas-dev/pandas/issues/39574))
  id: totrans-575
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.append()`中的错误，在`datetime64`和`timedelta64`数据类型的组合中返回不正确的数据类型（[GH
    39574](https://github.com/pandas-dev/pandas/issues/39574))'
- en: Bug in `DataFrame.append()` with a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") and appending a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") whose [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") is not a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 41707](https://github.com/pandas-dev/pandas/issues/41707))
  id: totrans-576
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.append()`中的错误，在带有[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")中，追加一个[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")不是[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时（[GH 41707](https://github.com/pandas-dev/pandas/issues/41707))'
- en: Bug in [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") returning a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") for a single value when operating on an empty DataFrame ([GH
    13483](https://github.com/pandas-dev/pandas/issues/13483))
  id: totrans-577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table")中的错误，在空DataFrame上操作时返回一个单个值的[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")（[GH 13483](https://github.com/pandas-dev/pandas/issues/13483))'
- en: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") can
    now be passed to the [`numpy.all()`](https://numpy.org/doc/stable/reference/generated/numpy.all.html#numpy.all
    "(in NumPy v1.26)") function ([GH 40180](https://github.com/pandas-dev/pandas/issues/40180))'
  id: totrans-578
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")现在可以传递给[`numpy.all()`](https://numpy.org/doc/stable/reference/generated/numpy.all.html#numpy.all
    "(在NumPy v1.26中)")函数（[GH 40180](https://github.com/pandas-dev/pandas/issues/40180))'
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") not preserving `CategoricalDtype` in a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 36991](https://github.com/pandas-dev/pandas/issues/36991))
  id: totrans-579
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack")中的错误，在[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")中不保留`CategoricalDtype`（[GH 36991](https://github.com/pandas-dev/pandas/issues/36991))'
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") raising an error when the input sequence contained unhashable
    items ([GH 39756](https://github.com/pandas-dev/pandas/issues/39756))
  id: totrans-580
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中的错误，在输入序列包含不可哈希项时引发错误（[GH 39756](https://github.com/pandas-dev/pandas/issues/39756))'
- en: Bug in [`Series.explode()`](../reference/api/pandas.Series.explode.html#pandas.Series.explode
    "pandas.Series.explode") preserving the index when `ignore_index` was `True` and
    values were scalars ([GH 40487](https://github.com/pandas-dev/pandas/issues/40487))
  id: totrans-581
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.explode()`](../reference/api/pandas.Series.explode.html#pandas.Series.explode
    "pandas.Series.explode")中的错误，在`ignore_index`为`True`且值为标量��保留索引（[GH 40487](https://github.com/pandas-dev/pandas/issues/40487))'
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") raising a `ValueError` when [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") contains `None` and `NaT` and has more than 50 elements ([GH
    39882](https://github.com/pandas-dev/pandas/issues/39882))
  id: totrans-582
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中的错误，在[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")包含`None`和`NaT`且元素超过50个时引发`ValueError`（[GH 39882](https://github.com/pandas-dev/pandas/issues/39882))'
- en: Bug in [`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack") and [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") with object-dtype values containing timezone-aware
    datetime objects incorrectly raising `TypeError` ([GH 41875](https://github.com/pandas-dev/pandas/issues/41875))
  id: totrans-583
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当包含时区感知的日期时间对象的对象 dtype 值不正确地引发 `TypeError` 时，`Series.unstack()` 和 `DataFrame.unstack()`
    中的 bug（[GH 41875](https://github.com/pandas-dev/pandas/issues/41875))
- en: Bug in [`DataFrame.melt()`](../reference/api/pandas.DataFrame.melt.html#pandas.DataFrame.melt
    "pandas.DataFrame.melt") raising `InvalidIndexError` when [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") has duplicate columns used as `value_vars` ([GH 41951](https://github.com/pandas-dev/pandas/issues/41951))
  id: totrans-584
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrame.melt()` 中，当 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 有用作 `value_vars` 的重复列时抛出 `InvalidIndexError` 的 bug（[GH 41951](https://github.com/pandas-dev/pandas/issues/41951))
- en: Sparse
  id: totrans-585
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Sparse
- en: Bug in [`DataFrame.sparse.to_coo()`](../reference/api/pandas.DataFrame.sparse.to_coo.html#pandas.DataFrame.sparse.to_coo
    "pandas.DataFrame.sparse.to_coo") raising a `KeyError` with columns that are a
    numeric [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    without a `0` ([GH 18414](https://github.com/pandas-dev/pandas/issues/18414))
  id: totrans-586
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrame.sparse.to_coo()` 中，当列是一个没有 `0` 的数值 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 时抛出 `KeyError` 的 bug（[GH 18414](https://github.com/pandas-dev/pandas/issues/18414))
- en: Bug in `SparseArray.astype()` with `copy=False` producing incorrect results
    when going from integer dtype to floating dtype ([GH 34456](https://github.com/pandas-dev/pandas/issues/34456))
  id: totrans-587
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `copy=False` 时，`SparseArray.astype()` 从整数 dtype 转换为浮点 dtype 时产生不正确结果的 bug（[GH
    34456](https://github.com/pandas-dev/pandas/issues/34456))
- en: Bug in `SparseArray.max()` and `SparseArray.min()` would always return an empty
    result ([GH 40921](https://github.com/pandas-dev/pandas/issues/40921))
  id: totrans-588
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.max()` 和 `SparseArray.min()` 始终返回空结果的 bug（[GH 40921](https://github.com/pandas-dev/pandas/issues/40921))'
- en: ExtensionArray
  id: totrans-589
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ExtensionArray
- en: Bug in [`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") when `other` is a Series with an `ExtensionDtype` ([GH
    38729](https://github.com/pandas-dev/pandas/issues/38729))
  id: totrans-590
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrame.where()` 中，当 `other` 是一个带有 `ExtensionDtype` 的 Series 时出现的 bug（[GH
    38729](https://github.com/pandas-dev/pandas/issues/38729))
- en: Fixed bug where [`Series.idxmax()`](../reference/api/pandas.Series.idxmax.html#pandas.Series.idxmax
    "pandas.Series.idxmax"), [`Series.idxmin()`](../reference/api/pandas.Series.idxmin.html#pandas.Series.idxmin
    "pandas.Series.idxmin"), [`Series.argmax()`](../reference/api/pandas.Series.argmax.html#pandas.Series.argmax
    "pandas.Series.argmax"), and [`Series.argmin()`](../reference/api/pandas.Series.argmin.html#pandas.Series.argmin
    "pandas.Series.argmin") would fail when the underlying data is an `ExtensionArray`
    ([GH 32749](https://github.com/pandas-dev/pandas/issues/32749), [GH 33719](https://github.com/pandas-dev/pandas/issues/33719),
    [GH 36566](https://github.com/pandas-dev/pandas/issues/36566))
  id: totrans-591
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当底层数据为 `ExtensionArray` 时 [`Series.idxmax()`](../reference/api/pandas.Series.idxmax.html#pandas.Series.idxmax
    "pandas.Series.idxmax")、[`Series.idxmin()`](../reference/api/pandas.Series.idxmin.html#pandas.Series.idxmin
    "pandas.Series.idxmin")、[`Series.argmax()`](../reference/api/pandas.Series.argmax.html#pandas.Series.argmax
    "pandas.Series.argmax") 和 [`Series.argmin()`](../reference/api/pandas.Series.argmin.html#pandas.Series.argmin
    "pandas.Series.argmin") 会失败的 bug（[GH 32749](https://github.com/pandas-dev/pandas/issues/32749)、[GH
    33719](https://github.com/pandas-dev/pandas/issues/33719)、[GH 36566](https://github.com/pandas-dev/pandas/issues/36566))
- en: Fixed bug where some properties of subclasses of `PandasExtensionDtype` where
    improperly cached ([GH 40329](https://github.com/pandas-dev/pandas/issues/40329))
  id: totrans-592
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 `PandasExtensionDtype` 的子类的一些属性被错误地缓存的 bug（[GH 40329](https://github.com/pandas-dev/pandas/issues/40329))
- en: Bug in [`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask") where masking a DataFrame with an `ExtensionDtype` raises
    a `ValueError` ([GH 40941](https://github.com/pandas-dev/pandas/issues/40941))
  id: totrans-593
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrame.mask()` 中，使用 `ExtensionDtype` 遮盖 DataFrame 时引发 `ValueError` 的 bug（[GH
    40941](https://github.com/pandas-dev/pandas/issues/40941))
- en: Styler
  id: totrans-594
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Styler
- en: Bug in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") where the `subset` argument in methods raised
    an error for some valid MultiIndex slices ([GH 33562](https://github.com/pandas-dev/pandas/issues/33562))
  id: totrans-595
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 中的 `subset` 参数在某些有效的 MultiIndex 切片上引发错误（[GH
    33562](https://github.com/pandas-dev/pandas/issues/33562)）'
- en: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") rendered HTML output has seen minor alterations
    to support w3 good code standards ([GH 39626](https://github.com/pandas-dev/pandas/issues/39626))'
  id: totrans-596
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 渲染的 HTML 输出已进行微小更改，以支持 w3 的良好代码标准（[GH 39626](https://github.com/pandas-dev/pandas/issues/39626)）'
- en: Bug in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") where rendered HTML was missing a column class
    identifier for certain header cells ([GH 39716](https://github.com/pandas-dev/pandas/issues/39716))
  id: totrans-597
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 中，渲染的 HTML 缺少某些标题单元格的列类标识符（[GH 39716](https://github.com/pandas-dev/pandas/issues/39716)）
- en: Bug in [`Styler.background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient") where text-color was not
    determined correctly ([GH 39888](https://github.com/pandas-dev/pandas/issues/39888))
  id: totrans-598
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Styler.background_gradient()` 中存在错误，文本颜色未正确确定（[GH 39888](https://github.com/pandas-dev/pandas/issues/39888)）
- en: Bug in [`Styler.set_table_styles()`](../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles
    "pandas.io.formats.style.Styler.set_table_styles") where multiple elements in
    CSS-selectors of the `table_styles` argument were not correctly added ([GH 34061](https://github.com/pandas-dev/pandas/issues/34061))
  id: totrans-599
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Styler.set_table_styles()` 中存在错误，`table_styles` 参数中 CSS 选择器的多个元素未正确添加（[GH
    34061](https://github.com/pandas-dev/pandas/issues/34061)）
- en: Bug in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") where copying from Jupyter dropped the top left
    cell and misaligned headers ([GH 12147](https://github.com/pandas-dev/pandas/issues/12147))
  id: totrans-600
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Jupyter 中复制时，[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 存在错误，导致顶部左侧单元格丢失并且标题对齐不正确（[GH 12147](https://github.com/pandas-dev/pandas/issues/12147)）
- en: Bug in `Styler.where` where `kwargs` were not passed to the applicable callable
    ([GH 40845](https://github.com/pandas-dev/pandas/issues/40845))
  id: totrans-601
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Styler.where` 中存在错误，`kwargs` 未传递到适用的可调用函数中（[GH 40845](https://github.com/pandas-dev/pandas/issues/40845)）
- en: Bug in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") causing CSS to duplicate on multiple renders
    ([GH 39395](https://github.com/pandas-dev/pandas/issues/39395), [GH 40334](https://github.com/pandas-dev/pandas/issues/40334))
  id: totrans-602
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 中的错误导致 CSS 在多次渲染时重复出现（[GH 39395](https://github.com/pandas-dev/pandas/issues/39395),
    [GH 40334](https://github.com/pandas-dev/pandas/issues/40334)）'
- en: Other
  id: totrans-603
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 其他
- en: '`inspect.getmembers(Series)` no longer raises an `AbstractMethodError` ([GH
    38782](https://github.com/pandas-dev/pandas/issues/38782))'
  id: totrans-604
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`inspect.getmembers(Series)` 不再引发 `AbstractMethodError`（[GH 38782](https://github.com/pandas-dev/pandas/issues/38782)）'
- en: Bug in [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") with numeric dtype and `other=None` not casting to `nan`
    ([GH 39761](https://github.com/pandas-dev/pandas/issues/39761))
  id: totrans-605
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Series.where()` 中存在错误，数值类型且 `other=None` 时未转换为 `nan`（[GH 39761](https://github.com/pandas-dev/pandas/issues/39761)）
- en: Bug in [`assert_series_equal()`](../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal
    "pandas.testing.assert_series_equal"), [`assert_frame_equal()`](../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal
    "pandas.testing.assert_frame_equal"), [`assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal") and [`assert_extension_array_equal()`](../reference/api/pandas.testing.assert_extension_array_equal.html#pandas.testing.assert_extension_array_equal
    "pandas.testing.assert_extension_array_equal") incorrectly raising when an attribute
    has an unrecognized NA type ([GH 39461](https://github.com/pandas-dev/pandas/issues/39461))
  id: totrans-606
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当属性具有未识别的 NA 类型时，[`assert_series_equal()`](../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal
    "pandas.testing.assert_series_equal")、[`assert_frame_equal()`](../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal
    "pandas.testing.assert_frame_equal")、[`assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal") 和 [`assert_extension_array_equal()`](../reference/api/pandas.testing.assert_extension_array_equal.html#pandas.testing.assert_extension_array_equal
    "pandas.testing.assert_extension_array_equal") 不正确地引发异常的问题（[GH 39461](https://github.com/pandas-dev/pandas/issues/39461)）
- en: Bug in [`assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal") with `exact=True` not raising when comparing
    [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") instances with `Int64Index` and `RangeIndex` categories
    ([GH 41263](https://github.com/pandas-dev/pandas/issues/41263))
  id: totrans-607
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal") 在使用 `exact=True` 时未能在比较 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 实例与 `Int64Index` 和 `RangeIndex` 类别时引发错误的问题（[GH 41263](https://github.com/pandas-dev/pandas/issues/41263)）
- en: Bug in [`DataFrame.equals()`](../reference/api/pandas.DataFrame.equals.html#pandas.DataFrame.equals
    "pandas.DataFrame.equals"), [`Series.equals()`](../reference/api/pandas.Series.equals.html#pandas.Series.equals
    "pandas.Series.equals"), and [`Index.equals()`](../reference/api/pandas.Index.equals.html#pandas.Index.equals
    "pandas.Index.equals") with object-dtype containing `np.datetime64("NaT")` or
    `np.timedelta64("NaT")` ([GH 39650](https://github.com/pandas-dev/pandas/issues/39650))
  id: totrans-608
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`DataFrame.equals()`](../reference/api/pandas.DataFrame.equals.html#pandas.DataFrame.equals
    "pandas.DataFrame.equals")、[`Series.equals()`](../reference/api/pandas.Series.equals.html#pandas.Series.equals
    "pandas.Series.equals") 和 [`Index.equals()`](../reference/api/pandas.Index.equals.html#pandas.Index.equals
    "pandas.Index.equals") 在包含 `np.datetime64("NaT")` 或 `np.timedelta64("NaT")` 的对象
    dtype 时的问题（[GH 39650](https://github.com/pandas-dev/pandas/issues/39650)）
- en: Bug in [`show_versions()`](../reference/api/pandas.show_versions.html#pandas.show_versions
    "pandas.show_versions") where console JSON output was not proper JSON ([GH 39701](https://github.com/pandas-dev/pandas/issues/39701))
  id: totrans-609
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`show_versions()`](../reference/api/pandas.show_versions.html#pandas.show_versions
    "pandas.show_versions") 中控制台 JSON 输出不是正确的 JSON 的问题（[GH 39701](https://github.com/pandas-dev/pandas/issues/39701)）
- en: pandas can now compile on z/OS when using [xlc](https://www.ibm.com/products/xl-cpp-compiler-zos)
    ([GH 35826](https://github.com/pandas-dev/pandas/issues/35826))
  id: totrans-610
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用 [xlc](https://www.ibm.com/products/xl-cpp-compiler-zos) 时，pandas 现在可以在 z/OS
    上编译了（[GH 35826](https://github.com/pandas-dev/pandas/issues/35826)）
- en: 'Bug in [`pandas.util.hash_pandas_object()`](../reference/api/pandas.util.hash_pandas_object.html#pandas.util.hash_pandas_object
    "pandas.util.hash_pandas_object") not recognizing `hash_key`, `encoding` and `categorize`
    when the input object type is a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 41404](https://github.com/pandas-dev/pandas/issues/41404))  ##
    Contributors'
  id: totrans-611
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '修复了当输入对象类型为 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 时，[`pandas.util.hash_pandas_object()`](../reference/api/pandas.util.hash_pandas_object.html#pandas.util.hash_pandas_object
    "pandas.util.hash_pandas_object") 未能识别 `hash_key`、`encoding` 和 `categorize` 的问题（[GH
    41404](https://github.com/pandas-dev/pandas/issues/41404))  ## 贡献者'
- en: A total of 251 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  id: totrans-612
  prefs: []
  type: TYPE_NORMAL
  zh: 总共有 251 人为这个版本贡献了补丁。名字旁边带有“+”的人是第一次贡献补丁的。
- en: Abhishek R +
  id: totrans-613
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Abhishek R +
- en: Ada Draginda
  id: totrans-614
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ada Draginda
- en: Adam J. Stewart
  id: totrans-615
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Adam J. Stewart
- en: Adam Turner +
  id: totrans-616
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Adam Turner +
- en: Aidan Feldman +
  id: totrans-617
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Aidan Feldman +
- en: Ajitesh Singh +
  id: totrans-618
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ajitesh Singh +
- en: Akshat Jain +
  id: totrans-619
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Akshat Jain +
- en: Albert Villanova del Moral
  id: totrans-620
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Albert Villanova del Moral
- en: Alexandre Prince-Levasseur +
  id: totrans-621
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alexandre Prince-Levasseur +
- en: Andrew Hawyrluk +
  id: totrans-622
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Hawyrluk +
- en: Andrew Wieteska
  id: totrans-623
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Wieteska
- en: AnglinaBhambra +
  id: totrans-624
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AnglinaBhambra +
- en: Ankush Dua +
  id: totrans-625
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ankush Dua +
- en: Anna Daglis
  id: totrans-626
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anna Daglis
- en: Ashlan Parker +
  id: totrans-627
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ashlan Parker +
- en: Ashwani +
  id: totrans-628
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ashwani +
- en: Avinash Pancham
  id: totrans-629
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Avinash Pancham
- en: Ayushman Kumar +
  id: totrans-630
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ayushman Kumar +
- en: BeanNan
  id: totrans-631
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: BeanNan
- en: Benoît Vinot
  id: totrans-632
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Benoît Vinot
- en: Bharat Raghunathan
  id: totrans-633
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bharat Raghunathan
- en: Bijay Regmi +
  id: totrans-634
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bijay Regmi +
- en: Bobin Mathew +
  id: totrans-635
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bobin Mathew +
- en: Bogdan Pilyavets +
  id: totrans-636
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bogdan Pilyavets +
- en: Brian Hulette +
  id: totrans-637
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brian Hulette +
- en: Brian Sun +
  id: totrans-638
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brian Sun +
- en: Brock +
  id: totrans-639
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brock +
- en: Bryan Cutler
  id: totrans-640
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bryan Cutler
- en: Caleb +
  id: totrans-641
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Caleb +
- en: Calvin Ho +
  id: totrans-642
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Calvin Ho +
- en: Chathura Widanage +
  id: totrans-643
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chathura Widanage +
- en: Chinmay Rane +
  id: totrans-644
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chinmay Rane +
- en: Chris Lynch
  id: totrans-645
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Lynch
- en: Chris Withers
  id: totrans-646
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Withers
- en: Christos Petropoulos
  id: totrans-647
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Christos Petropoulos
- en: Corentin Girard +
  id: totrans-648
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Corentin Girard +
- en: DaPy15 +
  id: totrans-649
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DaPy15 +
- en: Damodara Puddu +
  id: totrans-650
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Damodara Puddu +
- en: Daniel Hrisca
  id: totrans-651
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Hrisca
- en: Daniel Saxton
  id: totrans-652
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Saxton
- en: DanielFEvans
  id: totrans-653
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DanielFEvans
- en: Dare Adewumi +
  id: totrans-654
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dare Adewumi +
- en: Dave Willmer
  id: totrans-655
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dave Willmer
- en: David Schlachter +
  id: totrans-656
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Schlachter +
- en: David-dmh +
  id: totrans-657
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David-dmh +
- en: Deepang Raval +
  id: totrans-658
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Deepang Raval +
- en: Doris Lee +
  id: totrans-659
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Doris Lee +
- en: Dr. Jan-Philip Gehrcke +
  id: totrans-660
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dr. Jan-Philip Gehrcke +
- en: DriesS +
  id: totrans-661
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DriesS +
- en: Dylan Percy
  id: totrans-662
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dylan Percy
- en: Erfan Nariman
  id: totrans-663
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Erfan Nariman
- en: Eric Leung
  id: totrans-664
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric Leung
- en: EricLeer +
  id: totrans-665
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: EricLeer +
- en: Eve
  id: totrans-666
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eve
- en: Fangchen Li
  id: totrans-667
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fangchen Li
- en: Felix Divo
  id: totrans-668
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Felix Divo
- en: Florian Jetter
  id: totrans-669
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Florian Jetter
- en: Fred Reiss
  id: totrans-670
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fred Reiss
- en: GFJ138 +
  id: totrans-671
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GFJ138 +
- en: Gaurav Sheni +
  id: totrans-672
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gaurav Sheni +
- en: Geoffrey B. Eisenbarth +
  id: totrans-673
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Geoffrey B. Eisenbarth +
- en: Gesa Stupperich +
  id: totrans-674
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gesa Stupperich +
- en: Griffin Ansel +
  id: totrans-675
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Griffin Ansel +
- en: Gustavo C. Maciel +
  id: totrans-676
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gustavo C. Maciel +
- en: Heidi +
  id: totrans-677
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Heidi +
- en: Henry +
  id: totrans-678
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Henry +
- en: Hung-Yi Wu +
  id: totrans-679
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hung-Yi Wu +
- en: Ian Ozsvald +
  id: totrans-680
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ian Ozsvald +
- en: Irv Lustig
  id: totrans-681
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Irv Lustig
- en: Isaac Chung +
  id: totrans-682
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Isaac Chung +
- en: Isaac Virshup
  id: totrans-683
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Isaac Virshup
- en: JHM Darbyshire (MBP) +
  id: totrans-684
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: JHM Darbyshire (MBP) +
- en: JHM Darbyshire (iMac) +
  id: totrans-685
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: JHM Darbyshire (iMac) +
- en: Jack Liu +
  id: totrans-686
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jack Liu +
- en: James Lamb +
  id: totrans-687
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: James Lamb +
- en: Jeet Parekh
  id: totrans-688
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeet Parekh
- en: Jeff Reback
  id: totrans-689
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeff Reback
- en: Jiezheng2018 +
  id: totrans-690
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jiezheng2018 +
- en: Jody Klymak
  id: totrans-691
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jody Klymak
- en: Johan Kåhrström +
  id: totrans-692
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Johan Kåhrström +
- en: John McGuigan
  id: totrans-693
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: John McGuigan
- en: Joris Van den Bossche
  id: totrans-694
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Van den Bossche
- en: Jose
  id: totrans-695
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jose
- en: JoseNavy
  id: totrans-696
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: JoseNavy
- en: Josh Dimarsky
  id: totrans-697
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Josh Dimarsky
- en: Josh Friedlander
  id: totrans-698
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Josh Friedlander
- en: Joshua Klein +
  id: totrans-699
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joshua Klein +
- en: Julia Signell
  id: totrans-700
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Julia Signell
- en: Julian Schnitzler +
  id: totrans-701
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Julian Schnitzler +
- en: Kaiqi Dong
  id: totrans-702
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kaiqi Dong
- en: Kasim Panjri +
  id: totrans-703
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kasim Panjri +
- en: Katie Smith +
  id: totrans-704
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Katie Smith +
- en: Kelly +
  id: totrans-705
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kelly +
- en: Kenil +
  id: totrans-706
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kenil +
- en: Keppler, Kyle +
  id: totrans-707
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Keppler, Kyle +
- en: Kevin Sheppard
  id: totrans-708
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kevin Sheppard
- en: Khor Chean Wei +
  id: totrans-709
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Khor Chean Wei +
- en: Kiley Hewitt +
  id: totrans-710
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kiley Hewitt +
- en: Larry Wong +
  id: totrans-711
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Larry Wong +
- en: Lightyears +
  id: totrans-712
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lightyears +
- en: Lucas Holtz +
  id: totrans-713
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lucas Holtz +
- en: Lucas Rodés-Guirao
  id: totrans-714
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lucas Rodés-Guirao
- en: Lucky Sivagurunathan +
  id: totrans-715
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lucky Sivagurunathan +
- en: Luis Pinto
  id: totrans-716
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Luis Pinto
- en: Maciej Kos +
  id: totrans-717
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maciej Kos +
- en: Marc Garcia
  id: totrans-718
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marc Garcia
- en: Marco Edward Gorelli +
  id: totrans-719
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marco Edward Gorelli +
- en: Marco Gorelli
  id: totrans-720
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marco Gorelli
- en: MarcoGorelli +
  id: totrans-721
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MarcoGorelli +
- en: Mark Graham
  id: totrans-722
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mark Graham
- en: Martin Dengler +
  id: totrans-723
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Martin Dengler +
- en: Martin Grigorov +
  id: totrans-724
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Martin Grigorov +
- en: Marty Rudolf +
  id: totrans-725
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marty Rudolf +
- en: Matt Roeschke
  id: totrans-726
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Roeschke
- en: Matthew Roeschke
  id: totrans-727
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Roeschke
- en: Matthew Zeitlin
  id: totrans-728
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Zeitlin
- en: Max Bolingbroke
  id: totrans-729
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Max Bolingbroke
- en: Maxim Ivanov
  id: totrans-730
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maxim Ivanov
- en: Maxim Kupfer +
  id: totrans-731
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maxim Kupfer +
- en: Mayur +
  id: totrans-732
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mayur +
- en: MeeseeksMachine
  id: totrans-733
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MeeseeksMachine
- en: Micael Jarniac
  id: totrans-734
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Micael Jarniac
- en: Michael Hsieh +
  id: totrans-735
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Hsieh +
- en: Michel de Ruiter +
  id: totrans-736
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michel de Ruiter +
- en: Mike Roberts +
  id: totrans-737
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mike Roberts +
- en: Miroslav Šedivý
  id: totrans-738
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Miroslav Šedivý
- en: Mohammad Jafar Mashhadi
  id: totrans-739
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mohammad Jafar Mashhadi
- en: Morisa Manzella +
  id: totrans-740
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Morisa Manzella +
- en: Mortada Mehyar
  id: totrans-741
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mortada Mehyar
- en: Muktan +
  id: totrans-742
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Muktan +
- en: Naveen Agrawal +
  id: totrans-743
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Naveen Agrawal +
- en: Noah
  id: totrans-744
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Noah
- en: Nofar Mishraki +
  id: totrans-745
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nofar Mishraki +
- en: Oleh Kozynets
  id: totrans-746
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Oleh Kozynets
- en: Olga Matoula +
  id: totrans-747
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Olga Matoula +
- en: Oli +
  id: totrans-748
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Oli +
- en: Omar Afifi
  id: totrans-749
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Omar Afifi
- en: Omer Ozarslan +
  id: totrans-750
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Omer Ozarslan +
- en: Owen Lamont +
  id: totrans-751
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Owen Lamont +
- en: Ozan Öğreden +
  id: totrans-752
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ozan Öğreden +
- en: Pandas Development Team
  id: totrans-753
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pandas 开发团队
- en: Paolo Lammens
  id: totrans-754
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paolo Lammens
- en: Parfait Gasana +
  id: totrans-755
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Parfait Gasana +
- en: Patrick Hoefler
  id: totrans-756
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Patrick Hoefler
- en: Paul McCarthy +
  id: totrans-757
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul McCarthy +
- en: Paulo S. Costa +
  id: totrans-758
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paulo S. Costa +
- en: Pav A
  id: totrans-759
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pav A
- en: Peter
  id: totrans-760
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Peter
- en: Pradyumna Rahul +
  id: totrans-761
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pradyumna Rahul +
- en: Punitvara +
  id: totrans-762
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Punitvara +
- en: QP Hou +
  id: totrans-763
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: QP Hou +
- en: Rahul Chauhan
  id: totrans-764
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rahul Chauhan
- en: Rahul Sathanapalli
  id: totrans-765
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rahul Sathanapalli
- en: Richard Shadrach
  id: totrans-766
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Richard Shadrach
- en: Robert Bradshaw
  id: totrans-767
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robert Bradshaw
- en: Robin to Roxel
  id: totrans-768
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robin to Roxel
- en: Rohit Gupta
  id: totrans-769
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rohit Gupta
- en: Sam Purkis +
  id: totrans-770
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sam Purkis +
- en: Samuel GIFFARD +
  id: totrans-771
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Samuel GIFFARD +
- en: Sean M. Law +
  id: totrans-772
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sean M. Law +
- en: Shahar Naveh +
  id: totrans-773
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shahar Naveh +
- en: ShaharNaveh +
  id: totrans-774
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ShaharNaveh +
- en: Shiv Gupta +
  id: totrans-775
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shiv Gupta +
- en: Shrey Dixit +
  id: totrans-776
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shrey Dixit +
- en: Shudong Yang +
  id: totrans-777
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shudong Yang +
- en: Simon Boehm +
  id: totrans-778
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Simon Boehm +
- en: Simon Hawkins
  id: totrans-779
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Simon Hawkins
- en: Sioned Baker +
  id: totrans-780
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sioned Baker +
- en: Stefan Mejlgaard +
  id: totrans-781
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stefan Mejlgaard +
- en: Steven Pitman +
  id: totrans-782
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Steven Pitman +
- en: Steven Schaerer +
  id: totrans-783
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Steven Schaerer +
- en: Stéphane Guillou +
  id: totrans-784
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stéphane Guillou +
- en: TLouf +
  id: totrans-785
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: TLouf +
- en: Tegar D Pratama +
  id: totrans-786
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tegar D Pratama +
- en: Terji Petersen
  id: totrans-787
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Terji Petersen
- en: Theodoros Nikolaou +
  id: totrans-788
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Theodoros Nikolaou +
- en: Thomas Dickson
  id: totrans-789
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Dickson
- en: Thomas Li
  id: totrans-790
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Li
- en: Thomas Smith
  id: totrans-791
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Smith
- en: Thomas Yu +
  id: totrans-792
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Yu +
- en: ThomasBlauthQC +
  id: totrans-793
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ThomasBlauthQC +
- en: Tim Hoffmann
  id: totrans-794
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tim Hoffmann
- en: Tom Augspurger
  id: totrans-795
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tom Augspurger
- en: Torsten Wörtwein
  id: totrans-796
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Torsten Wörtwein
- en: Tyler Reddy
  id: totrans-797
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tyler Reddy
- en: UrielMaD
  id: totrans-798
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: UrielMaD
- en: Uwe L. Korn
  id: totrans-799
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Uwe L. Korn
- en: Venaturum +
  id: totrans-800
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Venaturum +
- en: VirosaLi
  id: totrans-801
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VirosaLi
- en: Vladimir Podolskiy
  id: totrans-802
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vladimir Podolski
- en: Vyom Pathak +
  id: totrans-803
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vyom Pathak +
- en: WANG Aiyong
  id: totrans-804
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WANG Aiyong
- en: Waltteri Koskinen +
  id: totrans-805
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Waltteri Koskinen +
- en: Wenjun Si +
  id: totrans-806
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wenjun Si +
- en: William Ayd
  id: totrans-807
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: William Ayd
- en: Yeshwanth N +
  id: totrans-808
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yeshwanth N +
- en: Yuanhao Geng
  id: totrans-809
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yuanhao Geng
- en: Zito Relova +
  id: totrans-810
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zito Relova +
- en: aflah02 +
  id: totrans-811
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: aflah02 +
- en: arredond +
  id: totrans-812
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: arredond +
- en: attack68
  id: totrans-813
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: attack68
- en: cdknox +
  id: totrans-814
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: cdknox +
- en: chinggg +
  id: totrans-815
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: chinggg +
- en: fathomer +
  id: totrans-816
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: fathomer +
- en: ftrihardjo +
  id: totrans-817
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ftrihardjo +
- en: github-actions[bot] +
  id: totrans-818
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: github-actions[bot] +
- en: gunjan-solanki +
  id: totrans-819
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gunjan-solanki +
- en: guru kiran
  id: totrans-820
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: guru kiran
- en: hasan-yaman
  id: totrans-821
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: hasan-yaman
- en: i-aki-y +
  id: totrans-822
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: i-aki-y +
- en: jbrockmendel
  id: totrans-823
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jbrockmendel
- en: jmholzer +
  id: totrans-824
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jmholzer +
- en: jordi-crespo +
  id: totrans-825
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jordi-crespo +
- en: jotasi +
  id: totrans-826
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jotasi +
- en: jreback
  id: totrans-827
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jreback
- en: juliansmidek +
  id: totrans-828
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: juliansmidek +
- en: kylekeppler
  id: totrans-829
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: kylekeppler
- en: lrepiton +
  id: totrans-830
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: lrepiton +
- en: lucasrodes
  id: totrans-831
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: lucasrodes
- en: maroth96 +
  id: totrans-832
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: maroth96 +
- en: mikeronayne +
  id: totrans-833
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mikeronayne +
- en: mlondschien
  id: totrans-834
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mlondschien
- en: moink +
  id: totrans-835
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: moink +
- en: morrme
  id: totrans-836
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: morrme
- en: mschmookler +
  id: totrans-837
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mschmookler +
- en: mzeitlin11
  id: totrans-838
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mzeitlin11
- en: na2 +
  id: totrans-839
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: na2 +
- en: nofarmishraki +
  id: totrans-840
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: nofarmishraki +
- en: partev
  id: totrans-841
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: partev
- en: patrick
  id: totrans-842
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: patrick
- en: ptype
  id: totrans-843
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ptype
- en: realead
  id: totrans-844
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: realead
- en: rhshadrach
  id: totrans-845
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: rhshadrach
- en: rlukevie +
  id: totrans-846
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: rlukevie +
- en: rosagold +
  id: totrans-847
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: rosagold +
- en: saucoide +
  id: totrans-848
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: saucoide +
- en: sdementen +
  id: totrans-849
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sdementen +
- en: shawnbrown
  id: totrans-850
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: shawnbrown
- en: sstiijn +
  id: totrans-851
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sstiijn +
- en: stphnlyd +
  id: totrans-852
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: stphnlyd +
- en: sukriti1 +
  id: totrans-853
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sukriti1 +
- en: taytzehao
  id: totrans-854
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: taytzehao
- en: theOehrly +
  id: totrans-855
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: theOehrly +
- en: theodorju +
  id: totrans-856
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: theodorju +
- en: thordisstella +
  id: totrans-857
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: thordisstella +
- en: tonyyyyip +
  id: totrans-858
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tonyyyyip +
- en: tsinggggg +
  id: totrans-859
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tsinggggg +
- en: tushushu +
  id: totrans-860
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tushushu +
- en: vangorade +
  id: totrans-861
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: vangorade +
- en: vladu +
  id: totrans-862
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: vladu +
- en: 'wertha +  ## Enhancements'
  id: totrans-863
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'wertha +  ## 增强功能'
- en: '### Custom HTTP(s) headers when reading csv or json files'
  id: totrans-864
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在读取 csv 或 json 文件时自定义 HTTP(s) 标头'
- en: 'When reading from a remote URL that is not handled by fsspec (e.g. HTTP and
    HTTPS) the dictionary passed to `storage_options` will be used to create the headers
    included in the request. This can be used to control the User-Agent header or
    send other custom headers ([GH 36688](https://github.com/pandas-dev/pandas/issues/36688)).
    For example:'
  id: totrans-865
  prefs: []
  type: TYPE_NORMAL
  zh: 当从 fsspec 未处理的远程 URL（例如 HTTP 和 HTTPS）读取时，将使用传递给 `storage_options` 的字典创建包含在请求中的标头。这可用于控制
    User-Agent 标头或发送其他自定义标头 ([GH 36688](https://github.com/pandas-dev/pandas/issues/36688))。例如：
- en: '[PRE44]  ### Read and write XML documents'
  id: totrans-866
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE44]  ### 读取和写入 XML 文档'
- en: We added I/O support to read and render shallow versions of [XML](https://www.w3.org/standards/xml/core)
    documents with [`read_xml()`](../reference/api/pandas.read_xml.html#pandas.read_xml
    "pandas.read_xml") and [`DataFrame.to_xml()`](../reference/api/pandas.DataFrame.to_xml.html#pandas.DataFrame.to_xml
    "pandas.DataFrame.to_xml"). Using [lxml](https://lxml.de) as parser, both XPath
    1.0 and XSLT 1.0 are available. ([GH 27554](https://github.com/pandas-dev/pandas/issues/27554))
  id: totrans-867
  prefs: []
  type: TYPE_NORMAL
  zh: 我们添加了对 [XML](https://www.w3.org/standards/xml/core) 文档的读取和渲染浅层版本的 I/O 支持，使用
    [`read_xml()`](../reference/api/pandas.read_xml.html#pandas.read_xml "pandas.read_xml")
    和 [`DataFrame.to_xml()`](../reference/api/pandas.DataFrame.to_xml.html#pandas.DataFrame.to_xml
    "pandas.DataFrame.to_xml")。使用 [lxml](https://lxml.de) 作为解析器，同时支持 XPath 1.0 和 XSLT
    1.0。 ([GH 27554](https://github.com/pandas-dev/pandas/issues/27554))
- en: '[PRE45]'
  id: totrans-868
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'For more, see [Writing XML](../user_guide/io.html#io-xml) in the user guide
    on IO tools.  ### Styler enhancements'
  id: totrans-869
  prefs: []
  type: TYPE_NORMAL
  zh: '欲知更多，请参阅 IO 工具用户指南中的 [Writing XML](../user_guide/io.html#io-xml)。 ### Styler
    增强功能'
- en: We provided some focused development on [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler"). See also the [Styler documentation](../user_guide/style.html)
    which has been revised and improved ([GH 39720](https://github.com/pandas-dev/pandas/issues/39720),
    [GH 39317](https://github.com/pandas-dev/pandas/issues/39317), [GH 40493](https://github.com/pandas-dev/pandas/issues/40493)).
  id: totrans-870
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在 [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 上进行了一些重点开发。另请参阅已修订和改进的 [Styler 文档](../user_guide/style.html)
    ([GH 39720](https://github.com/pandas-dev/pandas/issues/39720), [GH 39317](https://github.com/pandas-dev/pandas/issues/39317),
    [GH 40493](https://github.com/pandas-dev/pandas/issues/40493)).
- en: The method [`Styler.set_table_styles()`](../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles
    "pandas.io.formats.style.Styler.set_table_styles") can now accept more natural
    CSS language for arguments, such as `'color:red;'` instead of `[('color', 'red')]`
    ([GH 39563](https://github.com/pandas-dev/pandas/issues/39563))
  id: totrans-871
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法 [`Styler.set_table_styles()`](../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles
    "pandas.io.formats.style.Styler.set_table_styles") 现在可以接受更自然的 CSS 语言作为参数，例如 `'color:red;'`
    而不是 `[('color', 'red')]` ([GH 39563](https://github.com/pandas-dev/pandas/issues/39563))
- en: ''
  id: totrans-872
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-873
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: The methods [`Styler.highlight_null()`](../reference/api/pandas.io.formats.style.Styler.highlight_null.html#pandas.io.formats.style.Styler.highlight_null
    "pandas.io.formats.style.Styler.highlight_null"), [`Styler.highlight_min()`](../reference/api/pandas.io.formats.style.Styler.highlight_min.html#pandas.io.formats.style.Styler.highlight_min
    "pandas.io.formats.style.Styler.highlight_min"), and [`Styler.highlight_max()`](../reference/api/pandas.io.formats.style.Styler.highlight_max.html#pandas.io.formats.style.Styler.highlight_max
    "pandas.io.formats.style.Styler.highlight_max") now allow custom CSS highlighting
    instead of the default background coloring ([GH 40242](https://github.com/pandas-dev/pandas/issues/40242))
  id: totrans-874
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法 [`Styler.highlight_null()`](../reference/api/pandas.io.formats.style.Styler.highlight_null.html#pandas.io.formats.style.Styler.highlight_null
    "pandas.io.formats.style.Styler.highlight_null")、[`Styler.highlight_min()`](../reference/api/pandas.io.formats.style.Styler.highlight_min.html#pandas.io.formats.style.Styler.highlight_min
    "pandas.io.formats.style.Styler.highlight_min") 和 [`Styler.highlight_max()`](../reference/api/pandas.io.formats.style.Styler.highlight_max.html#pandas.io.formats.style.Styler.highlight_max
    "pandas.io.formats.style.Styler.highlight_max") 现在允许自定义 CSS 高亮，而不是默认的背景着色 ([GH
    40242](https://github.com/pandas-dev/pandas/issues/40242))
- en: ''
  id: totrans-875
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-876
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '[`Styler.apply()`](../reference/api/pandas.io.formats.style.Styler.apply.html#pandas.io.formats.style.Styler.apply
    "pandas.io.formats.style.Styler.apply") now accepts functions that return an `ndarray`
    when `axis=None`, making it now consistent with the `axis=0` and `axis=1` behavior
    ([GH 39359](https://github.com/pandas-dev/pandas/issues/39359))'
  id: totrans-877
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.apply()`](../reference/api/pandas.io.formats.style.Styler.apply.html#pandas.io.formats.style.Styler.apply
    "pandas.io.formats.style.Styler.apply")现在接受在`axis=None`时返回`ndarray`的函数，使其与`axis=0`和`axis=1`的行为保持一致（[GH
    39359](https://github.com/pandas-dev/pandas/issues/39359)）'
- en: ''
  id: totrans-878
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-879
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: When incorrectly formatted CSS is given via [`Styler.apply()`](../reference/api/pandas.io.formats.style.Styler.apply.html#pandas.io.formats.style.Styler.apply
    "pandas.io.formats.style.Styler.apply") or `Styler.applymap()`, an error is now
    raised upon rendering ([GH 39660](https://github.com/pandas-dev/pandas/issues/39660))
  id: totrans-880
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当通过[`Styler.apply()`](../reference/api/pandas.io.formats.style.Styler.apply.html#pandas.io.formats.style.Styler.apply
    "pandas.io.formats.style.Styler.apply")或`Styler.applymap()`提供格式不正确的CSS时，现在在渲染时会引发错误（[GH
    39660](https://github.com/pandas-dev/pandas/issues/39660)）
- en: ''
  id: totrans-881
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-882
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '[`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format") now accepts the keyword argument `escape`
    for optional HTML and LaTeX escaping ([GH 40388](https://github.com/pandas-dev/pandas/issues/40388),
    [GH 41619](https://github.com/pandas-dev/pandas/issues/41619))'
  id: totrans-883
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format")现在接受关键字参数`escape`以进行可选的HTML和LaTeX转义（[GH
    40388](https://github.com/pandas-dev/pandas/issues/40388)，[GH 41619](https://github.com/pandas-dev/pandas/issues/41619)）'
- en: ''
  id: totrans-884
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-885
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '[`Styler.background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient") has gained the argument
    `gmap` to supply a specific gradient map for shading ([GH 22727](https://github.com/pandas-dev/pandas/issues/22727))'
  id: totrans-886
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient")现在具有参数`gmap`，用于提供特定的渐变映射以进行着色（[GH
    22727](https://github.com/pandas-dev/pandas/issues/22727)）'
- en: ''
  id: totrans-887
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-888
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '[`Styler.clear()`](../reference/api/pandas.io.formats.style.Styler.clear.html#pandas.io.formats.style.Styler.clear
    "pandas.io.formats.style.Styler.clear") now clears `Styler.hidden_index` and `Styler.hidden_columns`
    as well ([GH 40484](https://github.com/pandas-dev/pandas/issues/40484))'
  id: totrans-889
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.clear()`](../reference/api/pandas.io.formats.style.Styler.clear.html#pandas.io.formats.style.Styler.clear
    "pandas.io.formats.style.Styler.clear")现在还会清除`Styler.hidden_index`和`Styler.hidden_columns`（[GH
    40484](https://github.com/pandas-dev/pandas/issues/40484)）'
- en: ''
  id: totrans-890
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-891
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.highlight_between()`](../reference/api/pandas.io.formats.style.Styler.highlight_between.html#pandas.io.formats.style.Styler.highlight_between
    "pandas.io.formats.style.Styler.highlight_between") ([GH 39821](https://github.com/pandas-dev/pandas/issues/39821))
  id: totrans-892
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法[`Styler.highlight_between()`](../reference/api/pandas.io.formats.style.Styler.highlight_between.html#pandas.io.formats.style.Styler.highlight_between
    "pandas.io.formats.style.Styler.highlight_between")（[GH 39821](https://github.com/pandas-dev/pandas/issues/39821)）
- en: ''
  id: totrans-893
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-894
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.highlight_quantile()`](../reference/api/pandas.io.formats.style.Styler.highlight_quantile.html#pandas.io.formats.style.Styler.highlight_quantile
    "pandas.io.formats.style.Styler.highlight_quantile") ([GH 40926](https://github.com/pandas-dev/pandas/issues/40926))
  id: totrans-895
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法[`Styler.highlight_quantile()`](../reference/api/pandas.io.formats.style.Styler.highlight_quantile.html#pandas.io.formats.style.Styler.highlight_quantile
    "pandas.io.formats.style.Styler.highlight_quantile")（[GH 40926](https://github.com/pandas-dev/pandas/issues/40926))
- en: ''
  id: totrans-896
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-897
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.text_gradient()`](../reference/api/pandas.io.formats.style.Styler.text_gradient.html#pandas.io.formats.style.Styler.text_gradient
    "pandas.io.formats.style.Styler.text_gradient") ([GH 41098](https://github.com/pandas-dev/pandas/issues/41098))
  id: totrans-898
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法[`Styler.text_gradient()`](../reference/api/pandas.io.formats.style.Styler.text_gradient.html#pandas.io.formats.style.Styler.text_gradient
    "pandas.io.formats.style.Styler.text_gradient")（[GH 41098](https://github.com/pandas-dev/pandas/issues/41098)）
- en: ''
  id: totrans-899
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-900
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.set_tooltips()`](../reference/api/pandas.io.formats.style.Styler.set_tooltips.html#pandas.io.formats.style.Styler.set_tooltips
    "pandas.io.formats.style.Styler.set_tooltips") to allow hover tooltips; this can
    be used enhance interactive displays ([GH 21266](https://github.com/pandas-dev/pandas/issues/21266),
    [GH 40284](https://github.com/pandas-dev/pandas/issues/40284))
  id: totrans-901
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法[`Styler.set_tooltips()`](../reference/api/pandas.io.formats.style.Styler.set_tooltips.html#pandas.io.formats.style.Styler.set_tooltips
    "pandas.io.formats.style.Styler.set_tooltips")以允许悬停提示；这可以用于增强交互式显示（[GH 21266](https://github.com/pandas-dev/pandas/issues/21266)，[GH
    40284](https://github.com/pandas-dev/pandas/issues/40284)）
- en: ''
  id: totrans-902
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-903
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the parameter `precision` to the method [`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format") to control the display of floating point
    numbers ([GH 40134](https://github.com/pandas-dev/pandas/issues/40134))
  id: totrans-904
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新增了参数 `precision` 给方法[`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format")，用于控制浮点数的显示（[GH 40134](https://github.com/pandas-dev/pandas/issues/40134)）
- en: ''
  id: totrans-905
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-906
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") rendered HTML output now follows the [w3 HTML
    Style Guide](https://www.w3schools.com/html/html5_syntax.asp) ([GH 39626](https://github.com/pandas-dev/pandas/issues/39626))'
  id: totrans-907
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 渲染的 HTML 输出现在遵循[w3 HTML 样式指南](https://www.w3schools.com/html/html5_syntax.asp)（[GH
    39626](https://github.com/pandas-dev/pandas/issues/39626)）'
- en: ''
  id: totrans-908
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-909
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Many features of the [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") class are now either partially or fully usable
    on a DataFrame with a non-unique indexes or columns ([GH 41143](https://github.com/pandas-dev/pandas/issues/41143))
  id: totrans-910
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 类的许多特性现在部分或完全可以在具有非唯一索引或列的 DataFrame 上使用（[GH
    41143](https://github.com/pandas-dev/pandas/issues/41143)）'
- en: ''
  id: totrans-911
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-912
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: One has greater control of the display through separate sparsification of the
    index or columns using the [new styler options](../user_guide/options.html#options-available),
    which are also usable via [`option_context()`](../reference/api/pandas.option_context.html#pandas.option_context
    "pandas.option_context") ([GH 41142](https://github.com/pandas-dev/pandas/issues/41142))
  id: totrans-913
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过对索引或列的独立稀疏化，通过使用[新的样式选项](../user_guide/options.html#options-available)，可以更好地控制显示，这些选项也可以通过[`option_context()`](../reference/api/pandas.option_context.html#pandas.option_context
    "pandas.option_context") 使用（[GH 41142](https://github.com/pandas-dev/pandas/issues/41142)）
- en: ''
  id: totrans-914
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-915
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the option `styler.render.max_elements` to avoid browser overload when
    styling large DataFrames ([GH 40712](https://github.com/pandas-dev/pandas/issues/40712))
  id: totrans-916
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新增了选项 `styler.render.max_elements`，以避免样式化大型 DataFrame 时浏览器过载（[GH 40712](https://github.com/pandas-dev/pandas/issues/40712)）
- en: ''
  id: totrans-917
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-918
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.to_latex()`](../reference/api/pandas.io.formats.style.Styler.to_latex.html#pandas.io.formats.style.Styler.to_latex
    "pandas.io.formats.style.Styler.to_latex") ([GH 21673](https://github.com/pandas-dev/pandas/issues/21673),
    [GH 42320](https://github.com/pandas-dev/pandas/issues/42320)), which also allows
    some limited CSS conversion ([GH 40731](https://github.com/pandas-dev/pandas/issues/40731))
  id: totrans-919
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新增了方法[`Styler.to_latex()`](../reference/api/pandas.io.formats.style.Styler.to_latex.html#pandas.io.formats.style.Styler.to_latex
    "pandas.io.formats.style.Styler.to_latex")（[GH 21673](https://github.com/pandas-dev/pandas/issues/21673)，[GH
    42320](https://github.com/pandas-dev/pandas/issues/42320)），该方法还允许一些有限的 CSS 转换（[GH
    40731](https://github.com/pandas-dev/pandas/issues/40731)）
- en: ''
  id: totrans-920
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-921
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.to_html()`](../reference/api/pandas.io.formats.style.Styler.to_html.html#pandas.io.formats.style.Styler.to_html
    "pandas.io.formats.style.Styler.to_html") ([GH 13379](https://github.com/pandas-dev/pandas/issues/13379))
  id: totrans-922
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新增了方法[`Styler.to_html()`](../reference/api/pandas.io.formats.style.Styler.to_html.html#pandas.io.formats.style.Styler.to_html
    "pandas.io.formats.style.Styler.to_html")（[GH 13379](https://github.com/pandas-dev/pandas/issues/13379)）
- en: ''
  id: totrans-923
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-924
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Added the method [`Styler.set_sticky()`](../reference/api/pandas.io.formats.style.Styler.set_sticky.html#pandas.io.formats.style.Styler.set_sticky
    "pandas.io.formats.style.Styler.set_sticky") to make index and column headers
    permanently visible in scrolling HTML frames ([GH 29072](https://github.com/pandas-dev/pandas/issues/29072))  ###
    DataFrame constructor honors `copy=False` with dict'
  id: totrans-925
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '新增了方法[`Styler.set_sticky()`](../reference/api/pandas.io.formats.style.Styler.set_sticky.html#pandas.io.formats.style.Styler.set_sticky
    "pandas.io.formats.style.Styler.set_sticky")，使索引和列标题在滚动 HTML 框架中永久可见（[GH 29072](https://github.com/pandas-dev/pandas/issues/29072)）  ###
    DataFrame 构造函数遵循 `copy=False`'
- en: When passing a dictionary to [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `copy=False`, a copy will no longer be made ([GH 32960](https://github.com/pandas-dev/pandas/issues/32960)).
  id: totrans-926
  prefs: []
  type: TYPE_NORMAL
  zh: 当向 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    传递字典且 `copy=False` 时，将不再进行复制（[GH 32960](https://github.com/pandas-dev/pandas/issues/32960)）。
- en: '[PRE46]'
  id: totrans-927
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: '`df["A"]` remains a view on `arr`:'
  id: totrans-928
  prefs: []
  type: TYPE_NORMAL
  zh: '`df["A"]` 仍然是 `arr` 上的一个视图：'
- en: '[PRE47]'
  id: totrans-929
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'The default behavior when not passing `copy` will remain unchanged, i.e. a
    copy will be made.  ### PyArrow backed string data type'
  id: totrans-930
  prefs: []
  type: TYPE_NORMAL
  zh: '当不传递 `copy` 时，默认行为将保持不变，即将进行复制。  ### PyArrow 支持的字符串数据类型'
- en: We’ve enhanced the [`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype"), an extension type dedicated to string data. ([GH 39908](https://github.com/pandas-dev/pandas/issues/39908))
  id: totrans-931
  prefs: []
  type: TYPE_NORMAL
  zh: 我们增强了 [`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype")，这是专门用于字符串数据的扩展类型。([GH 39908](https://github.com/pandas-dev/pandas/issues/39908))
- en: It is now possible to specify a `storage` keyword option to [`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype"). Use pandas options or specify the dtype using `dtype='string[pyarrow]'`
    to allow the StringArray to be backed by a PyArrow array instead of a NumPy array
    of Python objects.
  id: totrans-932
  prefs: []
  type: TYPE_NORMAL
  zh: 现在可以指定一个 `storage` 关键字选项给 [`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype")。使用 pandas 选项或指定 `dtype='string[pyarrow]'` 来允许 StringArray
    由 PyArrow 数组而不是 NumPy 数组的 Python 对象支持。
- en: The PyArrow backed StringArray requires pyarrow 1.0.0 or greater to be installed.
  id: totrans-933
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 PyArrow 支持的 StringArray 需要安装 pyarrow 1.0.0 或更高版本。
- en: Warning
  id: totrans-934
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: '`string[pyarrow]` is currently considered experimental. The implementation
    and parts of the API may change without warning.'
  id: totrans-935
  prefs: []
  type: TYPE_NORMAL
  zh: '`string[pyarrow]` 目前被视为实验性的。实现和部分 API 可能会在没有警告的情况下发生更改。'
- en: '[PRE48]'
  id: totrans-936
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: You can use the alias `"string[pyarrow]"` as well.
  id: totrans-937
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以使用别名 `"string[pyarrow]"`。
- en: '[PRE49]'
  id: totrans-938
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: You can also create a PyArrow backed string array using pandas options.
  id: totrans-939
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以使用 pandas 选项创建一个 PyArrow 支持的字符串数组。
- en: '[PRE50]'
  id: totrans-940
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: The usual string accessor methods work. Where appropriate, the return type of
    the Series or columns of a DataFrame will also have string dtype.
  id: totrans-941
  prefs: []
  type: TYPE_NORMAL
  zh: 常规的字符串访问方法有效。在适当的情况下，Series 或 DataFrame 的列的返回类型也将具有字符串 dtype。
- en: '[PRE51]'
  id: totrans-942
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: String accessor methods returning integers will return a value with [`Int64Dtype`](../reference/api/pandas.Int64Dtype.html#pandas.Int64Dtype
    "pandas.Int64Dtype")
  id: totrans-943
  prefs: []
  type: TYPE_NORMAL
  zh: 返回整数的字符串访问方法将返回一个带有 [`Int64Dtype`](../reference/api/pandas.Int64Dtype.html#pandas.Int64Dtype
    "pandas.Int64Dtype") 的值
- en: '[PRE52]  ### Centered datetime-like rolling windows'
  id: totrans-944
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE52]  ### 居中的日期时间滚动窗口'
- en: 'When performing rolling calculations on DataFrame and Series objects with a
    datetime-like index, a centered datetime-like window can now be used ([GH 38780](https://github.com/pandas-dev/pandas/issues/38780)).
    For example:'
  id: totrans-945
  prefs: []
  type: TYPE_NORMAL
  zh: 在具有类似日期时间索引的 DataFrame 和 Series 对象上执行滚动计算时，现在可以使用居中的日期时间窗口（[GH 38780](https://github.com/pandas-dev/pandas/issues/38780)）。例如：
- en: '[PRE53]  ### Other enhancements'
  id: totrans-946
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE53]  ### 其他增强'
- en: '[`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling"), [`Series.rolling()`](../reference/api/pandas.Series.rolling.html#pandas.Series.rolling
    "pandas.Series.rolling"), [`DataFrame.expanding()`](../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding
    "pandas.DataFrame.expanding"), and [`Series.expanding()`](../reference/api/pandas.Series.expanding.html#pandas.Series.expanding
    "pandas.Series.expanding") now support a `method` argument with a `''table''`
    option that performs the windowing operation over an entire [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame"). See [Window Overview](../user_guide/window.html#window-overview)
    for performance and functional benefits ([GH 15095](https://github.com/pandas-dev/pandas/issues/15095),
    [GH 38995](https://github.com/pandas-dev/pandas/issues/38995))'
  id: totrans-947
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling")、[`Series.rolling()`](../reference/api/pandas.Series.rolling.html#pandas.Series.rolling
    "pandas.Series.rolling")、[`DataFrame.expanding()`](../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding
    "pandas.DataFrame.expanding") 和 [`Series.expanding()`](../reference/api/pandas.Series.expanding.html#pandas.Series.expanding
    "pandas.Series.expanding") 现在支持 `method` 参数，其中包含一个 `''table''` 选项，可以在整个 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 上执行窗口操作。请参阅[窗口概述](../user_guide/window.html#window-overview)以了解性能和功能上的优势（[GH
    15095](https://github.com/pandas-dev/pandas/issues/15095)、[GH 38995](https://github.com/pandas-dev/pandas/issues/38995)）'
- en: '`ExponentialMovingWindow` now support a `online` method that can perform `mean`
    calculations in an online fashion. See [Window Overview](../user_guide/window.html#window-overview)
    ([GH 41673](https://github.com/pandas-dev/pandas/issues/41673))'
  id: totrans-948
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExponentialMovingWindow` 现在支持一个 `online` 方法，可以以在线方式执行 `mean` 计算。请参阅[窗口概述](../user_guide/window.html#window-overview)（[GH
    41673](https://github.com/pandas-dev/pandas/issues/41673)）'
- en: Added [`MultiIndex.dtypes()`](../reference/api/pandas.MultiIndex.dtypes.html#pandas.MultiIndex.dtypes
    "pandas.MultiIndex.dtypes") ([GH 37062](https://github.com/pandas-dev/pandas/issues/37062))
  id: totrans-949
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了 [`MultiIndex.dtypes()`](../reference/api/pandas.MultiIndex.dtypes.html#pandas.MultiIndex.dtypes
    "pandas.MultiIndex.dtypes")（[GH 37062](https://github.com/pandas-dev/pandas/issues/37062)）
- en: Added `end` and `end_day` options for the `origin` argument in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") ([GH 37804](https://github.com/pandas-dev/pandas/issues/37804))
  id: totrans-950
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 的 `origin` 参数中添加了 `end` 和 `end_day` 选项 ([GH 37804](https://github.com/pandas-dev/pandas/issues/37804))
- en: Improved error message when `usecols` and `names` do not match for [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and `engine="c"` ([GH 29042](https://github.com/pandas-dev/pandas/issues/29042))
  id: totrans-951
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    和 `engine="c"` 中，当 `usecols` 和 `names` 不匹配时改进了错误消息 ([GH 29042](https://github.com/pandas-dev/pandas/issues/29042))
- en: Improved consistency of error messages when passing an invalid `win_type` argument
    in [Window methods](../reference/window.html#api-window) ([GH 15969](https://github.com/pandas-dev/pandas/issues/15969))
  id: totrans-952
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [窗口方法](../reference/window.html#api-window) 中传递无效的 `win_type` 参数时，改进了错误消息的一致性
    ([GH 15969](https://github.com/pandas-dev/pandas/issues/15969))
- en: '[`read_sql_query()`](../reference/api/pandas.read_sql_query.html#pandas.read_sql_query
    "pandas.read_sql_query") now accepts a `dtype` argument to cast the columnar data
    from the SQL database based on user input ([GH 10285](https://github.com/pandas-dev/pandas/issues/10285))'
  id: totrans-953
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sql_query()`](../reference/api/pandas.read_sql_query.html#pandas.read_sql_query
    "pandas.read_sql_query") 现在接受一个 `dtype` 参数，根据用户输入从 SQL 数据库中转换列式数据 ([GH 10285](https://github.com/pandas-dev/pandas/issues/10285))'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    now raising `ParserWarning` if length of header or given names does not match
    length of data when `usecols` is not specified ([GH 21768](https://github.com/pandas-dev/pandas/issues/21768))'
  id: totrans-954
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当未指定 `usecols` 时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 如果标题或给定名称的长度与数据长度不匹配，现在会引发 `ParserWarning` ([GH 21768](https://github.com/pandas-dev/pandas/issues/21768))
- en: Improved integer type mapping from pandas to SQLAlchemy when using [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") ([GH 35076](https://github.com/pandas-dev/pandas/issues/35076))
  id: totrans-955
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 时，从 pandas 到 SQLAlchemy 的整数类型映射得到了改进 ([GH 35076](https://github.com/pandas-dev/pandas/issues/35076))
- en: '[`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric") now supports downcasting of nullable `ExtensionDtype` objects
    ([GH 33013](https://github.com/pandas-dev/pandas/issues/33013))'
  id: totrans-956
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric") 现在支持将可空的 `ExtensionDtype` 对象进行降级 ([GH 33013](https://github.com/pandas-dev/pandas/issues/33013))'
- en: Added support for dict-like names in `MultiIndex.set_names` and `MultiIndex.rename`
    ([GH 20421](https://github.com/pandas-dev/pandas/issues/20421))
  id: totrans-957
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `MultiIndex.set_names` 和 `MultiIndex.rename` 中添加了对类似字典的名称的支持 ([GH 20421](https://github.com/pandas-dev/pandas/issues/20421))
- en: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") can now auto-detect .xlsb files and older .xls files ([GH
    35416](https://github.com/pandas-dev/pandas/issues/35416), [GH 41225](https://github.com/pandas-dev/pandas/issues/41225))'
  id: totrans-958
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 现在可以自动检测 .xlsb 文件和旧的 .xls 文件 ([GH 35416](https://github.com/pandas-dev/pandas/issues/35416),
    [GH 41225](https://github.com/pandas-dev/pandas/issues/41225))'
- en: '[`ExcelWriter`](../reference/api/pandas.ExcelWriter.html#pandas.ExcelWriter
    "pandas.ExcelWriter") now accepts an `if_sheet_exists` parameter to control the
    behavior of append mode when writing to existing sheets ([GH 40230](https://github.com/pandas-dev/pandas/issues/40230))'
  id: totrans-959
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ExcelWriter`](../reference/api/pandas.ExcelWriter.html#pandas.ExcelWriter
    "pandas.ExcelWriter") 现在接受一个 `if_sheet_exists` 参数，在写入到现有工作表时控制追加模式的行为 ([GH 40230](https://github.com/pandas-dev/pandas/issues/40230))'
- en: '[`Rolling.sum()`](../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum
    "pandas.core.window.rolling.Rolling.sum"), [`Expanding.sum()`](../reference/api/pandas.core.window.expanding.Expanding.sum.html#pandas.core.window.expanding.Expanding.sum
    "pandas.core.window.expanding.Expanding.sum"), [`Rolling.mean()`](../reference/api/pandas.core.window.rolling.Rolling.mean.html#pandas.core.window.rolling.Rolling.mean
    "pandas.core.window.rolling.Rolling.mean"), [`Expanding.mean()`](../reference/api/pandas.core.window.expanding.Expanding.mean.html#pandas.core.window.expanding.Expanding.mean
    "pandas.core.window.expanding.Expanding.mean"), [`ExponentialMovingWindow.mean()`](../reference/api/pandas.core.window.ewm.ExponentialMovingWindow.mean.html#pandas.core.window.ewm.ExponentialMovingWindow.mean
    "pandas.core.window.ewm.ExponentialMovingWindow.mean"), [`Rolling.median()`](../reference/api/pandas.core.window.rolling.Rolling.median.html#pandas.core.window.rolling.Rolling.median
    "pandas.core.window.rolling.Rolling.median"), [`Expanding.median()`](../reference/api/pandas.core.window.expanding.Expanding.median.html#pandas.core.window.expanding.Expanding.median
    "pandas.core.window.expanding.Expanding.median"), [`Rolling.max()`](../reference/api/pandas.core.window.rolling.Rolling.max.html#pandas.core.window.rolling.Rolling.max
    "pandas.core.window.rolling.Rolling.max"), [`Expanding.max()`](../reference/api/pandas.core.window.expanding.Expanding.max.html#pandas.core.window.expanding.Expanding.max
    "pandas.core.window.expanding.Expanding.max"), [`Rolling.min()`](../reference/api/pandas.core.window.rolling.Rolling.min.html#pandas.core.window.rolling.Rolling.min
    "pandas.core.window.rolling.Rolling.min"), and [`Expanding.min()`](../reference/api/pandas.core.window.expanding.Expanding.min.html#pandas.core.window.expanding.Expanding.min
    "pandas.core.window.expanding.Expanding.min") now support [Numba](http://numba.pydata.org/)
    execution with the `engine` keyword ([GH 38895](https://github.com/pandas-dev/pandas/issues/38895),
    [GH 41267](https://github.com/pandas-dev/pandas/issues/41267))'
  id: totrans-960
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Rolling.sum()`](../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum
    "pandas.core.window.rolling.Rolling.sum"), [`Expanding.sum()`](../reference/api/pandas.core.window.expanding.Expanding.sum.html#pandas.core.window.expanding.Expanding.sum
    "pandas.core.window.expanding.Expanding.sum"), [`Rolling.mean()`](../reference/api/pandas.core.window.rolling.Rolling.mean.html#pandas.core.window.rolling.Rolling.mean
    "pandas.core.window.rolling.Rolling.mean"), [`Expanding.mean()`](../reference/api/pandas.core.window.expanding.Expanding.mean.html#pandas.core.window.expanding.Expanding.mean
    "pandas.core.window.expanding.Expanding.mean"), [`ExponentialMovingWindow.mean()`](../reference/api/pandas.core.window.ewm.ExponentialMovingWindow.mean.html#pandas.core.window.ewm.ExponentialMovingWindow.mean
    "pandas.core.window.ewm.ExponentialMovingWindow.mean"), [`Rolling.median()`](../reference/api/pandas.core.window.rolling.Rolling.median.html#pandas.core.window.rolling.Rolling.median
    "pandas.core.window.rolling.Rolling.median"), [`Expanding.median()`](../reference/api/pandas.core.window.expanding.Expanding.median.html#pandas.core.window.expanding.Expanding.median
    "pandas.core.window.expanding.Expanding.median"), [`Rolling.max()`](../reference/api/pandas.core.window.rolling.Rolling.max.html#pandas.core.window.rolling.Rolling.max
    "pandas.core.window.rolling.Rolling.max"), [`Expanding.max()`](../reference/api/pandas.core.window.expanding.Expanding.max.html#pandas.core.window.expanding.Expanding.max
    "pandas.core.window.expanding.Expanding.max"), [`Rolling.min()`](../reference/api/pandas.core.window.rolling.Rolling.min.html#pandas.core.window.rolling.Rolling.min
    "pandas.core.window.rolling.Rolling.min"), 和 [`Expanding.min()`](../reference/api/pandas.core.window.expanding.Expanding.min.html#pandas.core.window.expanding.Expanding.min
    "pandas.core.window.expanding.Expanding.min") 现在支持使用 `engine` 关键字进行 [Numba](http://numba.pydata.org/)
    执行（[GH 38895](https://github.com/pandas-dev/pandas/issues/38895), [GH 41267](https://github.com/pandas-dev/pandas/issues/41267))'
- en: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") can now accept NumPy unary operators as strings, e.g.
    `df.apply("sqrt")`, which was already the case for [`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply") ([GH 39116](https://github.com/pandas-dev/pandas/issues/39116))'
  id: totrans-961
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") 现在可以接受 NumPy 的一元运算符作为字符串，例如 `df.apply("sqrt")`，这对于 [`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply") 已经是这种情况了（[GH 39116](https://github.com/pandas-dev/pandas/issues/39116)）'
- en: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") can now accept non-callable DataFrame properties as
    strings, e.g. `df.apply("size")`, which was already the case for [`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply") ([GH 39116](https://github.com/pandas-dev/pandas/issues/39116))'
  id: totrans-962
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") 现在可以接受非可调用的 DataFrame 属性作为字符串，例如 `df.apply("size")`，这对于
    [`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply") 已经是这种情况了（[GH 39116](https://github.com/pandas-dev/pandas/issues/39116)）'
- en: '[`DataFrame.applymap()`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap") can now accept kwargs to pass on to the user-provided
    `func` ([GH 39987](https://github.com/pandas-dev/pandas/issues/39987))'
  id: totrans-963
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.applymap()`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap") 现在可以接受关键字参数传递给用户提供的 `func`（[GH 39987](https://github.com/pandas-dev/pandas/issues/39987)）'
- en: Passing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") indexer to `iloc` is now disallowed for `Series.__getitem__()`
    and `DataFrame.__getitem__()` ([GH 39004](https://github.com/pandas-dev/pandas/issues/39004))
  id: totrans-964
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在不允许将 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 索引器传递给 `iloc` 以供 `Series.__getitem__()` 和 `DataFrame.__getitem__()`
    使用（[GH 39004](https://github.com/pandas-dev/pandas/issues/39004)）
- en: '[`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply") can now accept list-like or dictionary-like arguments that
    aren’t lists or dictionaries, e.g. `ser.apply(np.array(["sum", "mean"]))`, which
    was already the case for [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") ([GH 39140](https://github.com/pandas-dev/pandas/issues/39140))'
  id: totrans-965
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply") 现在可以接受类似列表或字典的参数，例如 `ser.apply(np.array(["sum", "mean"]))`，这对于
    [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") 已经是这样了（[GH 39140](https://github.com/pandas-dev/pandas/issues/39140)）'
- en: '[`DataFrame.plot.scatter()`](../reference/api/pandas.DataFrame.plot.scatter.html#pandas.DataFrame.plot.scatter
    "pandas.DataFrame.plot.scatter") can now accept a categorical column for the argument
    `c` ([GH 12380](https://github.com/pandas-dev/pandas/issues/12380), [GH 31357](https://github.com/pandas-dev/pandas/issues/31357))'
  id: totrans-966
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.plot.scatter()`](../reference/api/pandas.DataFrame.plot.scatter.html#pandas.DataFrame.plot.scatter
    "pandas.DataFrame.plot.scatter") 现在可以接受一个分类列作为参数 `c`（[GH 12380](https://github.com/pandas-dev/pandas/issues/12380),
    [GH 31357](https://github.com/pandas-dev/pandas/issues/31357)）'
- en: '[`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") now raises a helpful error message when the Series has a
    [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    and the indexer has too many dimensions ([GH 35349](https://github.com/pandas-dev/pandas/issues/35349))'
  id: totrans-967
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 Series 具有 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 并且索引器的维度过多时，现在 [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") 会提供有用的错误消息（[GH 35349](https://github.com/pandas-dev/pandas/issues/35349)）
- en: '[`read_stata()`](../reference/api/pandas.read_stata.html#pandas.read_stata
    "pandas.read_stata") now supports reading data from compressed files ([GH 26599](https://github.com/pandas-dev/pandas/issues/26599))'
  id: totrans-968
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_stata()`](../reference/api/pandas.read_stata.html#pandas.read_stata
    "pandas.read_stata") 现在支持从压缩文件中读取数据（[GH 26599](https://github.com/pandas-dev/pandas/issues/26599)）'
- en: Added support for parsing `ISO 8601`-like timestamps with negative signs to
    [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta "pandas.Timedelta")
    ([GH 37172](https://github.com/pandas-dev/pandas/issues/37172))
  id: totrans-969
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了对带有负号的 `ISO 8601` 类似时间戳的解析支持到 [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")（[GH 37172](https://github.com/pandas-dev/pandas/issues/37172)）
- en: Added support for unary operators in `FloatingArray` ([GH 38749](https://github.com/pandas-dev/pandas/issues/38749))
  id: totrans-970
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `FloatingArray` 中添加了对一元运算符的支持（[GH 38749](https://github.com/pandas-dev/pandas/issues/38749)）
- en: '[`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex "pandas.RangeIndex")
    can now be constructed by passing a `range` object directly e.g. `pd.RangeIndex(range(3))`
    ([GH 12067](https://github.com/pandas-dev/pandas/issues/12067))'
  id: totrans-971
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在可以通过直接传递 `range` 对象来构造 [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex
    "pandas.RangeIndex")，例如 `pd.RangeIndex(range(3))`（[GH 12067](https://github.com/pandas-dev/pandas/issues/12067)）
- en: '[`Series.round()`](../reference/api/pandas.Series.round.html#pandas.Series.round
    "pandas.Series.round") and [`DataFrame.round()`](../reference/api/pandas.DataFrame.round.html#pandas.DataFrame.round
    "pandas.DataFrame.round") now work with nullable integer and floating dtypes ([GH
    38844](https://github.com/pandas-dev/pandas/issues/38844))'
  id: totrans-972
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.round()`](../reference/api/pandas.Series.round.html#pandas.Series.round
    "pandas.Series.round") 和 [`DataFrame.round()`](../reference/api/pandas.DataFrame.round.html#pandas.DataFrame.round
    "pandas.DataFrame.round") 现在可以处理可空整数和浮点数数据类型（[GH 38844](https://github.com/pandas-dev/pandas/issues/38844)）'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    and [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json "pandas.read_json")
    expose the argument `encoding_errors` to control how encoding errors are handled
    ([GH 39450](https://github.com/pandas-dev/pandas/issues/39450))'
  id: totrans-973
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    和 [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json "pandas.read_json")
    提供参数 `encoding_errors` 以控制如何处理编码错误（[GH 39450](https://github.com/pandas-dev/pandas/issues/39450))'
- en: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), and [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") use Kleene logic with nullable data types
    ([GH 37506](https://github.com/pandas-dev/pandas/issues/37506))'
  id: totrans-974
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), 和 [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") 使用 Kleene 逻辑处理可空数据类型（[GH 37506](https://github.com/pandas-dev/pandas/issues/37506))'
- en: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), and [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") return a `BooleanDtype` for columns with
    nullable data types ([GH 33449](https://github.com/pandas-dev/pandas/issues/33449))'
  id: totrans-975
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), 和 [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") 对于包含可空数据类型的列返回 `BooleanDtype`（[GH 33449](https://github.com/pandas-dev/pandas/issues/33449))'
- en: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), and [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") raising with `object` data containing
    `pd.NA` even when `skipna=True` ([GH 37501](https://github.com/pandas-dev/pandas/issues/37501))'
  id: totrans-976
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), 和 [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") 在包含 `pd.NA` 的 `object` 数据中即使 `skipna=True`
    也会引发异常（[GH 37501](https://github.com/pandas-dev/pandas/issues/37501))'
- en: '[`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") and [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") now supports object-dtype data ([GH
    38278](https://github.com/pandas-dev/pandas/issues/38278))'
  id: totrans-977
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") 和 [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") 现在支持 object-dtype 数据 ([GH 38278](https://github.com/pandas-dev/pandas/issues/38278))'
- en: Constructing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with the `data` argument being a Python iterable that is *not*
    a NumPy `ndarray` consisting of NumPy scalars will now result in a dtype with
    a precision the maximum of the NumPy scalars; this was already the case when `data`
    is a NumPy `ndarray` ([GH 40908](https://github.com/pandas-dev/pandas/issues/40908))
  id: totrans-978
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `data` 参数构造 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 或 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")，其为 Python 可迭代对象但*不是*由 NumPy `ndarray` 组成的 NumPy 标量时，现在会导致 dtype
    具有最大 NumPy 标量的精度；当 `data` 是 NumPy `ndarray` 时，情况已经是这样了 ([GH 40908](https://github.com/pandas-dev/pandas/issues/40908))
- en: Add keyword `sort` to [`pivot_table()`](../reference/api/pandas.pivot_table.html#pandas.pivot_table
    "pandas.pivot_table") to allow non-sorting of the result ([GH 39143](https://github.com/pandas-dev/pandas/issues/39143))
  id: totrans-979
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向 [`pivot_table()`](../reference/api/pandas.pivot_table.html#pandas.pivot_table
    "pandas.pivot_table") 添加关键字 `sort`，以允许结果不进行排序 ([GH 39143](https://github.com/pandas-dev/pandas/issues/39143))
- en: Add keyword `dropna` to [`DataFrame.value_counts()`](../reference/api/pandas.DataFrame.value_counts.html#pandas.DataFrame.value_counts
    "pandas.DataFrame.value_counts") to allow counting rows that include `NA` values
    ([GH 41325](https://github.com/pandas-dev/pandas/issues/41325))
  id: totrans-980
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向 [`DataFrame.value_counts()`](../reference/api/pandas.DataFrame.value_counts.html#pandas.DataFrame.value_counts
    "pandas.DataFrame.value_counts") 添加关键字 `dropna`，以允许计算包含 `NA` 值的行数 ([GH 41325](https://github.com/pandas-dev/pandas/issues/41325))
- en: '[`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") will now cast results to `PeriodDtype` where possible
    instead of `object` dtype ([GH 41526](https://github.com/pandas-dev/pandas/issues/41526))'
  id: totrans-981
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 现在在可能的情况下将结果转换为 `PeriodDtype` 而不是 `object` dtype ([GH
    41526](https://github.com/pandas-dev/pandas/issues/41526))'
- en: Improved error message in `corr` and `cov` methods on `Rolling`, `Expanding`,
    and `ExponentialMovingWindow` when `other` is not a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") ([GH 41741](https://github.com/pandas-dev/pandas/issues/41741))
  id: totrans-982
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Rolling`、`Expanding` 和 `ExponentialMovingWindow` 的 `corr` 和 `cov` 方法中，当 `other`
    不是 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    或 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    时，改进了错误信息的显示 ([GH 41741](https://github.com/pandas-dev/pandas/issues/41741))
- en: '[`Series.between()`](../reference/api/pandas.Series.between.html#pandas.Series.between
    "pandas.Series.between") can now accept `left` or `right` as arguments to `inclusive`
    to include only the left or right boundary ([GH 40245](https://github.com/pandas-dev/pandas/issues/40245))'
  id: totrans-983
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.between()`](../reference/api/pandas.Series.between.html#pandas.Series.between
    "pandas.Series.between") 现在可以接受 `left` 或 `right` 作为 `inclusive` 参数的参数，以仅包含左边界或右边界
    ([GH 40245](https://github.com/pandas-dev/pandas/issues/40245))'
- en: '[`DataFrame.explode()`](../reference/api/pandas.DataFrame.explode.html#pandas.DataFrame.explode
    "pandas.DataFrame.explode") now supports exploding multiple columns. Its `column`
    argument now also accepts a list of str or tuples for exploding on multiple columns
    at the same time ([GH 39240](https://github.com/pandas-dev/pandas/issues/39240))'
  id: totrans-984
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.explode()`](../reference/api/pandas.DataFrame.explode.html#pandas.DataFrame.explode
    "pandas.DataFrame.explode") 现在支持同时展开多列。其 `column` 参数现在也接受一个字符串列表或元组，以同时在多列上进行展开
    ([GH 39240](https://github.com/pandas-dev/pandas/issues/39240))'
- en: '[`DataFrame.sample()`](../reference/api/pandas.DataFrame.sample.html#pandas.DataFrame.sample
    "pandas.DataFrame.sample") now accepts the `ignore_index` argument to reset the
    index after sampling, similar to [`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") and [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") ([GH 38581](https://github.com/pandas-dev/pandas/issues/38581))  ###
    Custom HTTP(s) headers when reading csv or json files'
  id: totrans-985
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '现在，[`DataFrame.sample()`](../reference/api/pandas.DataFrame.sample.html#pandas.DataFrame.sample
    "pandas.DataFrame.sample")接受`ignore_index`参数，在抽样后重置索引，类似于[`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates")和[`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values")（[GH 38581](https://github.com/pandas-dev/pandas/issues/38581)）。
    ### 读取 csv 或 json 文件时自定义 HTTP(s) 标头'
- en: 'When reading from a remote URL that is not handled by fsspec (e.g. HTTP and
    HTTPS) the dictionary passed to `storage_options` will be used to create the headers
    included in the request. This can be used to control the User-Agent header or
    send other custom headers ([GH 36688](https://github.com/pandas-dev/pandas/issues/36688)).
    For example:'
  id: totrans-986
  prefs: []
  type: TYPE_NORMAL
  zh: 当从fsspec未处理的远程URL（例如HTTP和HTTPS）读取时，`storage_options`传递的字典将用于创建请求中包含的标头。这可用于控制User-Agent标头或发送其他自定义标头（[GH
    36688](https://github.com/pandas-dev/pandas/issues/36688)）。例如：
- en: '[PRE54]'
  id: totrans-987
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: '### Read and write XML documents'
  id: totrans-988
  prefs: []
  type: TYPE_NORMAL
  zh: '### 读写 XML 文档'
- en: We added I/O support to read and render shallow versions of [XML](https://www.w3.org/standards/xml/core)
    documents with [`read_xml()`](../reference/api/pandas.read_xml.html#pandas.read_xml
    "pandas.read_xml") and [`DataFrame.to_xml()`](../reference/api/pandas.DataFrame.to_xml.html#pandas.DataFrame.to_xml
    "pandas.DataFrame.to_xml"). Using [lxml](https://lxml.de) as parser, both XPath
    1.0 and XSLT 1.0 are available. ([GH 27554](https://github.com/pandas-dev/pandas/issues/27554))
  id: totrans-989
  prefs: []
  type: TYPE_NORMAL
  zh: 我们添加了I/O支持，可以使用[`read_xml()`](../reference/api/pandas.read_xml.html#pandas.read_xml
    "pandas.read_xml")和[`DataFrame.to_xml()`](../reference/api/pandas.DataFrame.to_xml.html#pandas.DataFrame.to_xml
    "pandas.DataFrame.to_xml")读取和呈现[XML](https://www.w3.org/standards/xml/core)文档的浅层版本。使用[
    lxml](https://lxml.de)作为解析器，同时支持XPath 1.0和XSLT 1.0。（[GH 27554](https://github.com/pandas-dev/pandas/issues/27554)）
- en: '[PRE55]'
  id: totrans-990
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: For more, see [Writing XML](../user_guide/io.html#io-xml) in the user guide
    on IO tools.
  id: totrans-991
  prefs: []
  type: TYPE_NORMAL
  zh: 更多信息，请参阅IO工具中的用户指南中的[编写XML](../user_guide/io.html#io-xml)部分。
- en: '### Styler enhancements'
  id: totrans-992
  prefs: []
  type: TYPE_NORMAL
  zh: '### Styler增强'
- en: We provided some focused development on [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler"). See also the [Styler documentation](../user_guide/style.html)
    which has been revised and improved ([GH 39720](https://github.com/pandas-dev/pandas/issues/39720),
    [GH 39317](https://github.com/pandas-dev/pandas/issues/39317), [GH 40493](https://github.com/pandas-dev/pandas/issues/40493)).
  id: totrans-993
  prefs: []
  type: TYPE_NORMAL
  zh: 我们对[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler")进行了一些重点开发。请参阅已经修订和改进的[Styler文档](../user_guide/style.html)（[GH
    39720](https://github.com/pandas-dev/pandas/issues/39720)，[GH 39317](https://github.com/pandas-dev/pandas/issues/39317)，[GH
    40493](https://github.com/pandas-dev/pandas/issues/40493))。
- en: The method [`Styler.set_table_styles()`](../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles
    "pandas.io.formats.style.Styler.set_table_styles") can now accept more natural
    CSS language for arguments, such as `'color:red;'` instead of `[('color', 'red')]`
    ([GH 39563](https://github.com/pandas-dev/pandas/issues/39563))
  id: totrans-994
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法[`Styler.set_table_styles()`](../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles
    "pandas.io.formats.style.Styler.set_table_styles")现在可以接受更自然的CSS语言作为参数，例如`'color:red;'`，而不是`[('color',
    'red')]`（[GH 39563](https://github.com/pandas-dev/pandas/issues/39563)）
- en: ''
  id: totrans-995
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-996
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: The methods [`Styler.highlight_null()`](../reference/api/pandas.io.formats.style.Styler.highlight_null.html#pandas.io.formats.style.Styler.highlight_null
    "pandas.io.formats.style.Styler.highlight_null"), [`Styler.highlight_min()`](../reference/api/pandas.io.formats.style.Styler.highlight_min.html#pandas.io.formats.style.Styler.highlight_min
    "pandas.io.formats.style.Styler.highlight_min"), and [`Styler.highlight_max()`](../reference/api/pandas.io.formats.style.Styler.highlight_max.html#pandas.io.formats.style.Styler.highlight_max
    "pandas.io.formats.style.Styler.highlight_max") now allow custom CSS highlighting
    instead of the default background coloring ([GH 40242](https://github.com/pandas-dev/pandas/issues/40242))
  id: totrans-997
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法[`Styler.highlight_null()`](../reference/api/pandas.io.formats.style.Styler.highlight_null.html#pandas.io.formats.style.Styler.highlight_null
    "pandas.io.formats.style.Styler.highlight_null")、[`Styler.highlight_min()`](../reference/api/pandas.io.formats.style.Styler.highlight_min.html#pandas.io.formats.style.Styler.highlight_min
    "pandas.io.formats.style.Styler.highlight_min")和[`Styler.highlight_max()`](../reference/api/pandas.io.formats.style.Styler.highlight_max.html#pandas.io.formats.style.Styler.highlight_max
    "pandas.io.formats.style.Styler.highlight_max") 现在允许自定义 CSS 高亮，而不是默认的背景颜色（[GH
    40242](https://github.com/pandas-dev/pandas/issues/40242))
- en: ''
  id: totrans-998
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-999
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '[`Styler.apply()`](../reference/api/pandas.io.formats.style.Styler.apply.html#pandas.io.formats.style.Styler.apply
    "pandas.io.formats.style.Styler.apply") now accepts functions that return an `ndarray`
    when `axis=None`, making it now consistent with the `axis=0` and `axis=1` behavior
    ([GH 39359](https://github.com/pandas-dev/pandas/issues/39359))'
  id: totrans-1000
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.apply()`](../reference/api/pandas.io.formats.style.Styler.apply.html#pandas.io.formats.style.Styler.apply
    "pandas.io.formats.style.Styler.apply") 现在接受返回 `ndarray` 的函数，当 `axis=None` 时，使其与
    `axis=0` 和 `axis=1` 的行为保持一致（[GH 39359](https://github.com/pandas-dev/pandas/issues/39359))'
- en: ''
  id: totrans-1001
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-1002
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: When incorrectly formatted CSS is given via [`Styler.apply()`](../reference/api/pandas.io.formats.style.Styler.apply.html#pandas.io.formats.style.Styler.apply
    "pandas.io.formats.style.Styler.apply") or `Styler.applymap()`, an error is now
    raised upon rendering ([GH 39660](https://github.com/pandas-dev/pandas/issues/39660))
  id: totrans-1003
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当通过[`Styler.apply()`](../reference/api/pandas.io.formats.style.Styler.apply.html#pandas.io.formats.style.Styler.apply
    "pandas.io.formats.style.Styler.apply")或`Styler.applymap()`提供格式不正确的 CSS 时，渲染时会引发错误（[GH
    39660](https://github.com/pandas-dev/pandas/issues/39660))
- en: ''
  id: totrans-1004
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-1005
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '[`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format") now accepts the keyword argument `escape`
    for optional HTML and LaTeX escaping ([GH 40388](https://github.com/pandas-dev/pandas/issues/40388),
    [GH 41619](https://github.com/pandas-dev/pandas/issues/41619))'
  id: totrans-1006
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format") 现在接受关键字参数 `escape`，用于可选的 HTML 和 LaTeX
    转义（[GH 40388](https://github.com/pandas-dev/pandas/issues/40388), [GH 41619](https://github.com/pandas-dev/pandas/issues/41619))'
- en: ''
  id: totrans-1007
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-1008
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '[`Styler.background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient") has gained the argument
    `gmap` to supply a specific gradient map for shading ([GH 22727](https://github.com/pandas-dev/pandas/issues/22727))'
  id: totrans-1009
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient") 现在增加了参数 `gmap`，以提供特定的渐变映射进行着色（[GH
    22727](https://github.com/pandas-dev/pandas/issues/22727))'
- en: ''
  id: totrans-1010
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-1011
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '[`Styler.clear()`](../reference/api/pandas.io.formats.style.Styler.clear.html#pandas.io.formats.style.Styler.clear
    "pandas.io.formats.style.Styler.clear") now clears `Styler.hidden_index` and `Styler.hidden_columns`
    as well ([GH 40484](https://github.com/pandas-dev/pandas/issues/40484))'
  id: totrans-1012
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.clear()`](../reference/api/pandas.io.formats.style.Styler.clear.html#pandas.io.formats.style.Styler.clear
    "pandas.io.formats.style.Styler.clear") 现在还会清除 `Styler.hidden_index` 和 `Styler.hidden_columns`（[GH
    40484](https://github.com/pandas-dev/pandas/issues/40484))'
- en: ''
  id: totrans-1013
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-1014
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.highlight_between()`](../reference/api/pandas.io.formats.style.Styler.highlight_between.html#pandas.io.formats.style.Styler.highlight_between
    "pandas.io.formats.style.Styler.highlight_between") ([GH 39821](https://github.com/pandas-dev/pandas/issues/39821))
  id: totrans-1015
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法 [`Styler.highlight_between()`](../reference/api/pandas.io.formats.style.Styler.highlight_between.html#pandas.io.formats.style.Styler.highlight_between
    "pandas.io.formats.style.Styler.highlight_between")（[GH 39821](https://github.com/pandas-dev/pandas/issues/39821))
- en: ''
  id: totrans-1016
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-1017
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.highlight_quantile()`](../reference/api/pandas.io.formats.style.Styler.highlight_quantile.html#pandas.io.formats.style.Styler.highlight_quantile
    "pandas.io.formats.style.Styler.highlight_quantile") ([GH 40926](https://github.com/pandas-dev/pandas/issues/40926))
  id: totrans-1018
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法 [`Styler.highlight_quantile()`](../reference/api/pandas.io.formats.style.Styler.highlight_quantile.html#pandas.io.formats.style.Styler.highlight_quantile
    "pandas.io.formats.style.Styler.highlight_quantile")（[GH 40926](https://github.com/pandas-dev/pandas/issues/40926))
- en: ''
  id: totrans-1019
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-1020
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.text_gradient()`](../reference/api/pandas.io.formats.style.Styler.text_gradient.html#pandas.io.formats.style.Styler.text_gradient
    "pandas.io.formats.style.Styler.text_gradient") ([GH 41098](https://github.com/pandas-dev/pandas/issues/41098))
  id: totrans-1021
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法[`Styler.text_gradient()`](../reference/api/pandas.io.formats.style.Styler.text_gradient.html#pandas.io.formats.style.Styler.text_gradient
    "pandas.io.formats.style.Styler.text_gradient")（[GH 41098](https://github.com/pandas-dev/pandas/issues/41098)）
- en: ''
  id: totrans-1022
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-1023
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.set_tooltips()`](../reference/api/pandas.io.formats.style.Styler.set_tooltips.html#pandas.io.formats.style.Styler.set_tooltips
    "pandas.io.formats.style.Styler.set_tooltips") to allow hover tooltips; this can
    be used enhance interactive displays ([GH 21266](https://github.com/pandas-dev/pandas/issues/21266),
    [GH 40284](https://github.com/pandas-dev/pandas/issues/40284))
  id: totrans-1024
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法[`Styler.set_tooltips()`](../reference/api/pandas.io.formats.style.Styler.set_tooltips.html#pandas.io.formats.style.Styler.set_tooltips
    "pandas.io.formats.style.Styler.set_tooltips")，以允许悬停提示；这可以用于增强交互式显示（[GH 21266](https://github.com/pandas-dev/pandas/issues/21266),
    [GH 40284](https://github.com/pandas-dev/pandas/issues/40284)）
- en: ''
  id: totrans-1025
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-1026
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the parameter `precision` to the method [`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format") to control the display of floating point
    numbers ([GH 40134](https://github.com/pandas-dev/pandas/issues/40134))
  id: totrans-1027
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了参数 `precision` 到方法[`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format")，以控制浮点数的显示（[GH 40134](https://github.com/pandas-dev/pandas/issues/40134)）
- en: ''
  id: totrans-1028
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-1029
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") rendered HTML output now follows the [w3 HTML
    Style Guide](https://www.w3schools.com/html/html5_syntax.asp) ([GH 39626](https://github.com/pandas-dev/pandas/issues/39626))'
  id: totrans-1030
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 渲染的 HTML 输出现在遵循[w3 HTML Style Guide](https://www.w3schools.com/html/html5_syntax.asp)（[GH
    39626](https://github.com/pandas-dev/pandas/issues/39626)）'
- en: ''
  id: totrans-1031
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-1032
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Many features of the [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") class are now either partially or fully usable
    on a DataFrame with a non-unique indexes or columns ([GH 41143](https://github.com/pandas-dev/pandas/issues/41143))
  id: totrans-1033
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 类的许多功能现在部分或完全可用于具有非唯一索引或列的 DataFrame（[GH 41143](https://github.com/pandas-dev/pandas/issues/41143)）
- en: ''
  id: totrans-1034
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-1035
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: One has greater control of the display through separate sparsification of the
    index or columns using the [new styler options](../user_guide/options.html#options-available),
    which are also usable via [`option_context()`](../reference/api/pandas.option_context.html#pandas.option_context
    "pandas.option_context") ([GH 41142](https://github.com/pandas-dev/pandas/issues/41142))
  id: totrans-1036
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过分别稀疏化索引或列，可以通过[新的 styler 选项](../user_guide/options.html#options-available)更好地控制显示，这些选项也可以通过[`option_context()`](../reference/api/pandas.option_context.html#pandas.option_context
    "pandas.option_context")使用（[GH 41142](https://github.com/pandas-dev/pandas/issues/41142)）
- en: ''
  id: totrans-1037
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-1038
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the option `styler.render.max_elements` to avoid browser overload when
    styling large DataFrames ([GH 40712](https://github.com/pandas-dev/pandas/issues/40712))
  id: totrans-1039
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了选项 `styler.render.max_elements`，以避免在样式化大型数据帧时浏览器超载（[GH 40712](https://github.com/pandas-dev/pandas/issues/40712)）
- en: ''
  id: totrans-1040
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-1041
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.to_latex()`](../reference/api/pandas.io.formats.style.Styler.to_latex.html#pandas.io.formats.style.Styler.to_latex
    "pandas.io.formats.style.Styler.to_latex") ([GH 21673](https://github.com/pandas-dev/pandas/issues/21673),
    [GH 42320](https://github.com/pandas-dev/pandas/issues/42320)), which also allows
    some limited CSS conversion ([GH 40731](https://github.com/pandas-dev/pandas/issues/40731))
  id: totrans-1042
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法[`Styler.to_latex()`](../reference/api/pandas.io.formats.style.Styler.to_latex.html#pandas.io.formats.style.Styler.to_latex
    "pandas.io.formats.style.Styler.to_latex")（[GH 21673](https://github.com/pandas-dev/pandas/issues/21673),
    [GH 42320](https://github.com/pandas-dev/pandas/issues/42320)），该方法还允许进行一些有限的 CSS
    转换（[GH 40731](https://github.com/pandas-dev/pandas/issues/40731)）
- en: ''
  id: totrans-1043
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-1044
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.to_html()`](../reference/api/pandas.io.formats.style.Styler.to_html.html#pandas.io.formats.style.Styler.to_html
    "pandas.io.formats.style.Styler.to_html") ([GH 13379](https://github.com/pandas-dev/pandas/issues/13379))
  id: totrans-1045
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法[`Styler.to_html()`](../reference/api/pandas.io.formats.style.Styler.to_html.html#pandas.io.formats.style.Styler.to_html
    "pandas.io.formats.style.Styler.to_html")（[GH 13379](https://github.com/pandas-dev/pandas/issues/13379)）
- en: ''
  id: totrans-1046
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-1047
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Added the method [`Styler.set_sticky()`](../reference/api/pandas.io.formats.style.Styler.set_sticky.html#pandas.io.formats.style.Styler.set_sticky
    "pandas.io.formats.style.Styler.set_sticky") to make index and column headers
    permanently visible in scrolling HTML frames ([GH 29072](https://github.com/pandas-dev/pandas/issues/29072))
  id: totrans-1048
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了方法 [`Styler.set_sticky()`](../reference/api/pandas.io.formats.style.Styler.set_sticky.html#pandas.io.formats.style.Styler.set_sticky
    "pandas.io.formats.style.Styler.set_sticky")，以使索引和列标题在滚动 HTML 框架中永久可见（[GH 29072](https://github.com/pandas-dev/pandas/issues/29072)）。
- en: '### DataFrame constructor honors `copy=False` with dict'
  id: totrans-1049
  prefs: []
  type: TYPE_NORMAL
  zh: '### DataFrame 构造函数遵循 `copy=False` 与字典'
- en: When passing a dictionary to [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `copy=False`, a copy will no longer be made ([GH 32960](https://github.com/pandas-dev/pandas/issues/32960)).
  id: totrans-1050
  prefs: []
  type: TYPE_NORMAL
  zh: 当将字典传递给 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 且 `copy=False` 时，将不再进行复制（[GH 32960](https://github.com/pandas-dev/pandas/issues/32960)）。
- en: '[PRE56]'
  id: totrans-1051
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: '`df["A"]` remains a view on `arr`:'
  id: totrans-1052
  prefs: []
  type: TYPE_NORMAL
  zh: '`df["A"]` 仍然是 `arr` 的视图：'
- en: '[PRE57]'
  id: totrans-1053
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: The default behavior when not passing `copy` will remain unchanged, i.e. a copy
    will be made.
  id: totrans-1054
  prefs: []
  type: TYPE_NORMAL
  zh: 当不传递 `copy` 时，默认行为将保持不变，即将进行复制。
- en: '### PyArrow backed string data type'
  id: totrans-1055
  prefs: []
  type: TYPE_NORMAL
  zh: '### 使用 PyArrow 支持的字符串数据类型'
- en: We’ve enhanced the [`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype"), an extension type dedicated to string data. ([GH 39908](https://github.com/pandas-dev/pandas/issues/39908))
  id: totrans-1056
  prefs: []
  type: TYPE_NORMAL
  zh: 我们增强了 [`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype")，这是一种专门用于字符串数据的扩展类型（[GH 39908](https://github.com/pandas-dev/pandas/issues/39908)）。
- en: It is now possible to specify a `storage` keyword option to [`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype"). Use pandas options or specify the dtype using `dtype='string[pyarrow]'`
    to allow the StringArray to be backed by a PyArrow array instead of a NumPy array
    of Python objects.
  id: totrans-1057
  prefs: []
  type: TYPE_NORMAL
  zh: 现在可以通过 [`StringDtype`](../reference/api/pandas.StringDtype.html#pandas.StringDtype
    "pandas.StringDtype") 的 `storage` 关键字选项来指定存储。使用 pandas 选项或者使用 `dtype='string[pyarrow]'`
    指定 dtype，以允许 StringArray 由 PyArrow 数组而不是由 NumPy 数组的 Python 对象支持。
- en: The PyArrow backed StringArray requires pyarrow 1.0.0 or greater to be installed.
  id: totrans-1058
  prefs: []
  type: TYPE_NORMAL
  zh: PyArrow 支持的 StringArray 需要安装 pyarrow 1.0.0 或更高版本。
- en: Warning
  id: totrans-1059
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: '`string[pyarrow]` is currently considered experimental. The implementation
    and parts of the API may change without warning.'
  id: totrans-1060
  prefs: []
  type: TYPE_NORMAL
  zh: '`string[pyarrow]` 目前被视为实验性功能。实现和部分 API 可能会在没有警告的情况下更改。'
- en: '[PRE58]'
  id: totrans-1061
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: You can use the alias `"string[pyarrow]"` as well.
  id: totrans-1062
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可以使用别名 `"string[pyarrow]"`。
- en: '[PRE59]'
  id: totrans-1063
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: You can also create a PyArrow backed string array using pandas options.
  id: totrans-1064
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以使用 pandas 选项创建支持 PyArrow 的字符串数组。
- en: '[PRE60]'
  id: totrans-1065
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: The usual string accessor methods work. Where appropriate, the return type of
    the Series or columns of a DataFrame will also have string dtype.
  id: totrans-1066
  prefs: []
  type: TYPE_NORMAL
  zh: 常规字符串访问器方法有效。在适当的情况下，DataFrame 的 Series 或列的返回类型也将具有字符串 dtype。
- en: '[PRE61]'
  id: totrans-1067
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: String accessor methods returning integers will return a value with [`Int64Dtype`](../reference/api/pandas.Int64Dtype.html#pandas.Int64Dtype
    "pandas.Int64Dtype")
  id: totrans-1068
  prefs: []
  type: TYPE_NORMAL
  zh: 返回整数的字符串访问器方法将返回具有 [`Int64Dtype`](../reference/api/pandas.Int64Dtype.html#pandas.Int64Dtype
    "pandas.Int64Dtype") 的值。
- en: '[PRE62]'
  id: totrans-1069
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: '### Centered datetime-like rolling windows'
  id: totrans-1070
  prefs: []
  type: TYPE_NORMAL
  zh: '### 居中的类似日期时间的滚动窗口'
- en: 'When performing rolling calculations on DataFrame and Series objects with a
    datetime-like index, a centered datetime-like window can now be used ([GH 38780](https://github.com/pandas-dev/pandas/issues/38780)).
    For example:'
  id: totrans-1071
  prefs: []
  type: TYPE_NORMAL
  zh: 在具有类似日期时间的索引的 DataFrame 和 Series 对象上执行滚动计算时，现在可以使用居中的类似日期时间的窗口（[GH 38780](https://github.com/pandas-dev/pandas/issues/38780)）。例如：
- en: '[PRE63]'
  id: totrans-1072
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: '### Other enhancements'
  id: totrans-1073
  prefs: []
  type: TYPE_NORMAL
  zh: '### 其他增强功能'
- en: '[`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling"), [`Series.rolling()`](../reference/api/pandas.Series.rolling.html#pandas.Series.rolling
    "pandas.Series.rolling"), [`DataFrame.expanding()`](../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding
    "pandas.DataFrame.expanding"), and [`Series.expanding()`](../reference/api/pandas.Series.expanding.html#pandas.Series.expanding
    "pandas.Series.expanding") now support a `method` argument with a `''table''`
    option that performs the windowing operation over an entire [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame"). See [Window Overview](../user_guide/window.html#window-overview)
    for performance and functional benefits ([GH 15095](https://github.com/pandas-dev/pandas/issues/15095),
    [GH 38995](https://github.com/pandas-dev/pandas/issues/38995))'
  id: totrans-1074
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling"), [`Series.rolling()`](../reference/api/pandas.Series.rolling.html#pandas.Series.rolling
    "pandas.Series.rolling"), [`DataFrame.expanding()`](../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding
    "pandas.DataFrame.expanding"), 和 [`Series.expanding()`](../reference/api/pandas.Series.expanding.html#pandas.Series.expanding
    "pandas.Series.expanding") 现在支持一个带有 `''table''` 选项的 `method` 参数，该选项在整个 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 上执行窗口操作。查看 [Window Overview](../user_guide/window.html#window-overview)
    以了解性能和功能上的好处 ([GH 15095](https://github.com/pandas-dev/pandas/issues/15095), [GH
    38995](https://github.com/pandas-dev/pandas/issues/38995))'
- en: '`ExponentialMovingWindow` now support a `online` method that can perform `mean`
    calculations in an online fashion. See [Window Overview](../user_guide/window.html#window-overview)
    ([GH 41673](https://github.com/pandas-dev/pandas/issues/41673))'
  id: totrans-1075
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExponentialMovingWindow` 现在支持一种 `online` 方法，可以以在线方式进行 `mean` 计算。查看 [Window
    Overview](../user_guide/window.html#window-overview) ([GH 41673](https://github.com/pandas-dev/pandas/issues/41673))'
- en: Added [`MultiIndex.dtypes()`](../reference/api/pandas.MultiIndex.dtypes.html#pandas.MultiIndex.dtypes
    "pandas.MultiIndex.dtypes") ([GH 37062](https://github.com/pandas-dev/pandas/issues/37062))
  id: totrans-1076
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了 [`MultiIndex.dtypes()`](../reference/api/pandas.MultiIndex.dtypes.html#pandas.MultiIndex.dtypes
    "pandas.MultiIndex.dtypes") ([GH 37062](https://github.com/pandas-dev/pandas/issues/37062))
- en: Added `end` and `end_day` options for the `origin` argument in [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") ([GH 37804](https://github.com/pandas-dev/pandas/issues/37804))
  id: totrans-1077
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.resample()`](../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample
    "pandas.DataFrame.resample") 中为 `origin` 参数添加了 `end` 和 `end_day` 选项 ([GH 37804](https://github.com/pandas-dev/pandas/issues/37804))
- en: Improved error message when `usecols` and `names` do not match for [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and `engine="c"` ([GH 29042](https://github.com/pandas-dev/pandas/issues/29042))
  id: totrans-1078
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    中，当 `usecols` 和 `names` 不匹配时，改进了错误消息，且 `engine="c"` ([GH 29042](https://github.com/pandas-dev/pandas/issues/29042))
- en: Improved consistency of error messages when passing an invalid `win_type` argument
    in [Window methods](../reference/window.html#api-window) ([GH 15969](https://github.com/pandas-dev/pandas/issues/15969))
  id: totrans-1079
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [Window methods](../reference/window.html#api-window) 中传递无效的 `win_type` 参数时，改进了错误消息的一致性
    ([GH 15969](https://github.com/pandas-dev/pandas/issues/15969))
- en: '[`read_sql_query()`](../reference/api/pandas.read_sql_query.html#pandas.read_sql_query
    "pandas.read_sql_query") now accepts a `dtype` argument to cast the columnar data
    from the SQL database based on user input ([GH 10285](https://github.com/pandas-dev/pandas/issues/10285))'
  id: totrans-1080
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sql_query()`](../reference/api/pandas.read_sql_query.html#pandas.read_sql_query
    "pandas.read_sql_query") 现在接受一个 `dtype` 参数，根据用户输入对来自 SQL 数据库的列数据进行转换 ([GH 10285](https://github.com/pandas-dev/pandas/issues/10285))'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    now raising `ParserWarning` if length of header or given names does not match
    length of data when `usecols` is not specified ([GH 21768](https://github.com/pandas-dev/pandas/issues/21768))'
  id: totrans-1081
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `usecols` 未指定时��如果头部或给定名称的长度与数据长度不匹配，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 现在会引发 `ParserWarning` ([GH 21768](https://github.com/pandas-dev/pandas/issues/21768))
- en: Improved integer type mapping from pandas to SQLAlchemy when using [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") ([GH 35076](https://github.com/pandas-dev/pandas/issues/35076))
  id: totrans-1082
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 时，改进了从 pandas 到 SQLAlchemy 的整数类型映射 ([GH 35076](https://github.com/pandas-dev/pandas/issues/35076))
- en: '[`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric") now supports downcasting of nullable `ExtensionDtype` objects
    ([GH 33013](https://github.com/pandas-dev/pandas/issues/33013))'
  id: totrans-1083
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_numeric()`](../reference/api/pandas.to_numeric.html#pandas.to_numeric
    "pandas.to_numeric")现在支持可空`ExtensionDtype`对象的降级转换（[GH 33013](https://github.com/pandas-dev/pandas/issues/33013))'
- en: Added support for dict-like names in `MultiIndex.set_names` and `MultiIndex.rename`
    ([GH 20421](https://github.com/pandas-dev/pandas/issues/20421))
  id: totrans-1084
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`MultiIndex.set_names`和`MultiIndex.rename`中添加了对类似字典的名称的支持（[GH 20421](https://github.com/pandas-dev/pandas/issues/20421)）
- en: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") can now auto-detect .xlsb files and older .xls files ([GH
    35416](https://github.com/pandas-dev/pandas/issues/35416), [GH 41225](https://github.com/pandas-dev/pandas/issues/41225))'
  id: totrans-1085
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")现在可以自动检测 .xlsb 文件和旧版 .xls 文件（[GH 35416](https://github.com/pandas-dev/pandas/issues/35416),
    [GH 41225](https://github.com/pandas-dev/pandas/issues/41225)）'
- en: '[`ExcelWriter`](../reference/api/pandas.ExcelWriter.html#pandas.ExcelWriter
    "pandas.ExcelWriter") now accepts an `if_sheet_exists` parameter to control the
    behavior of append mode when writing to existing sheets ([GH 40230](https://github.com/pandas-dev/pandas/issues/40230))'
  id: totrans-1086
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ExcelWriter`](../reference/api/pandas.ExcelWriter.html#pandas.ExcelWriter
    "pandas.ExcelWriter")现在接受一个`if_sheet_exists`参数，用于控制在写入现有工作表时附加模式的行为（[GH 40230](https://github.com/pandas-dev/pandas/issues/40230)）'
- en: '[`Rolling.sum()`](../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum
    "pandas.core.window.rolling.Rolling.sum"), [`Expanding.sum()`](../reference/api/pandas.core.window.expanding.Expanding.sum.html#pandas.core.window.expanding.Expanding.sum
    "pandas.core.window.expanding.Expanding.sum"), [`Rolling.mean()`](../reference/api/pandas.core.window.rolling.Rolling.mean.html#pandas.core.window.rolling.Rolling.mean
    "pandas.core.window.rolling.Rolling.mean"), [`Expanding.mean()`](../reference/api/pandas.core.window.expanding.Expanding.mean.html#pandas.core.window.expanding.Expanding.mean
    "pandas.core.window.expanding.Expanding.mean"), [`ExponentialMovingWindow.mean()`](../reference/api/pandas.core.window.ewm.ExponentialMovingWindow.mean.html#pandas.core.window.ewm.ExponentialMovingWindow.mean
    "pandas.core.window.ewm.ExponentialMovingWindow.mean"), [`Rolling.median()`](../reference/api/pandas.core.window.rolling.Rolling.median.html#pandas.core.window.rolling.Rolling.median
    "pandas.core.window.rolling.Rolling.median"), [`Expanding.median()`](../reference/api/pandas.core.window.expanding.Expanding.median.html#pandas.core.window.expanding.Expanding.median
    "pandas.core.window.expanding.Expanding.median"), [`Rolling.max()`](../reference/api/pandas.core.window.rolling.Rolling.max.html#pandas.core.window.rolling.Rolling.max
    "pandas.core.window.rolling.Rolling.max"), [`Expanding.max()`](../reference/api/pandas.core.window.expanding.Expanding.max.html#pandas.core.window.expanding.Expanding.max
    "pandas.core.window.expanding.Expanding.max"), [`Rolling.min()`](../reference/api/pandas.core.window.rolling.Rolling.min.html#pandas.core.window.rolling.Rolling.min
    "pandas.core.window.rolling.Rolling.min"), and [`Expanding.min()`](../reference/api/pandas.core.window.expanding.Expanding.min.html#pandas.core.window.expanding.Expanding.min
    "pandas.core.window.expanding.Expanding.min") now support [Numba](http://numba.pydata.org/)
    execution with the `engine` keyword ([GH 38895](https://github.com/pandas-dev/pandas/issues/38895),
    [GH 41267](https://github.com/pandas-dev/pandas/issues/41267))'
  id: totrans-1087
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Rolling.sum()`](../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum
    "pandas.core.window.rolling.Rolling.sum")，[`Expanding.sum()`](../reference/api/pandas.core.window.expanding.Expanding.sum.html#pandas.core.window.expanding.Expanding.sum
    "pandas.core.window.expanding.Expanding.sum")，[`Rolling.mean()`](../reference/api/pandas.core.window.rolling.Rolling.mean.html#pandas.core.window.rolling.Rolling.mean
    "pandas.core.window.rolling.Rolling.mean")，[`Expanding.mean()`](../reference/api/pandas.core.window.expanding.Expanding.mean.html#pandas.core.window.expanding.Expanding.mean
    "pandas.core.window.expanding.Expanding.mean")，[`ExponentialMovingWindow.mean()`](../reference/api/pandas.core.window.ewm.ExponentialMovingWindow.mean.html#pandas.core.window.ewm.ExponentialMovingWindow.mean
    "pandas.core.window.ewm.ExponentialMovingWindow.mean")，[`Rolling.median()`](../reference/api/pandas.core.window.rolling.Rolling.median.html#pandas.core.window.rolling.Rolling.median
    "pandas.core.window.rolling.Rolling.median")，[`Expanding.median()`](../reference/api/pandas.core.window.expanding.Expanding.median.html#pandas.core.window.expanding.Expanding.median
    "pandas.core.window.expanding.Expanding.median")，[`Rolling.max()`](../reference/api/pandas.core.window.rolling.Rolling.max.html#pandas.core.window.rolling.Rolling.max
    "pandas.core.window.rolling.Rolling.max")，[`Expanding.max()`](../reference/api/pandas.core.window.expanding.Expanding.max.html#pandas.core.window.expanding.Expanding.max
    "pandas.core.window.expanding.Expanding.max")，[`Rolling.min()`](../reference/api/pandas.core.window.rolling.Rolling.min.html#pandas.core.window.rolling.Rolling.min
    "pandas.core.window.rolling.Rolling.min")和[`Expanding.min()`](../reference/api/pandas.core.window.expanding.Expanding.min.html#pandas.core.window.expanding.Expanding.min
    "pandas.core.window.expanding.Expanding.min")现在支持[Numba](http://numba.pydata.org/)执行，使用`engine`关键字（[GH
    38895](https://github.com/pandas-dev/pandas/issues/38895)，[GH 41267](https://github.com/pandas-dev/pandas/issues/41267))'
- en: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") can now accept NumPy unary operators as strings, e.g.
    `df.apply("sqrt")`, which was already the case for [`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply") ([GH 39116](https://github.com/pandas-dev/pandas/issues/39116))'
  id: totrans-1088
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply")现在可以接受NumPy一元运算符作为字符串，例如`df.apply("sqrt")`，这在[`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply")中已经存在（[GH 39116](https://github.com/pandas-dev/pandas/issues/39116))'
- en: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") can now accept non-callable DataFrame properties as
    strings, e.g. `df.apply("size")`, which was already the case for [`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply") ([GH 39116](https://github.com/pandas-dev/pandas/issues/39116))'
  id: totrans-1089
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply")现在可以接受非可调用的DataFrame属性作为字符串，例如`df.apply("size")`，这在[`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply")中已经存在（[GH 39116](https://github.com/pandas-dev/pandas/issues/39116))'
- en: '[`DataFrame.applymap()`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap") can now accept kwargs to pass on to the user-provided
    `func` ([GH 39987](https://github.com/pandas-dev/pandas/issues/39987))'
  id: totrans-1090
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.applymap()`](../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap
    "pandas.DataFrame.applymap")现在可以接受kwargs传递给用户提供的`func`（[GH 39987](https://github.com/pandas-dev/pandas/issues/39987))'
- en: Passing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") indexer to `iloc` is now disallowed for `Series.__getitem__()`
    and `DataFrame.__getitem__()` ([GH 39004](https://github.com/pandas-dev/pandas/issues/39004))
  id: totrans-1091
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在不允许将[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")索引器传递给`iloc`用于`Series.__getitem__()`和`DataFrame.__getitem__()`（[GH
    39004](https://github.com/pandas-dev/pandas/issues/39004))
- en: '[`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply") can now accept list-like or dictionary-like arguments that
    aren’t lists or dictionaries, e.g. `ser.apply(np.array(["sum", "mean"]))`, which
    was already the case for [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") ([GH 39140](https://github.com/pandas-dev/pandas/issues/39140))'
  id: totrans-1092
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.apply()`](../reference/api/pandas.Series.apply.html#pandas.Series.apply
    "pandas.Series.apply")现在可以接受类似列表或字典的参数，而不是列表或字典，例如`ser.apply(np.array(["sum",
    "mean"]))`，这在[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply")中已经存在（[GH 39140](https://github.com/pandas-dev/pandas/issues/39140))'
- en: '[`DataFrame.plot.scatter()`](../reference/api/pandas.DataFrame.plot.scatter.html#pandas.DataFrame.plot.scatter
    "pandas.DataFrame.plot.scatter") can now accept a categorical column for the argument
    `c` ([GH 12380](https://github.com/pandas-dev/pandas/issues/12380), [GH 31357](https://github.com/pandas-dev/pandas/issues/31357))'
  id: totrans-1093
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.plot.scatter()`](../reference/api/pandas.DataFrame.plot.scatter.html#pandas.DataFrame.plot.scatter
    "pandas.DataFrame.plot.scatter")现在可以接受分类列作为参数`c`（[GH 12380](https://github.com/pandas-dev/pandas/issues/12380),
    [GH 31357](https://github.com/pandas-dev/pandas/issues/31357))'
- en: '[`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") now raises a helpful error message when the Series has a
    [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    and the indexer has too many dimensions ([GH 35349](https://github.com/pandas-dev/pandas/issues/35349))'
  id: totrans-1094
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc")现在在Series具有[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")且索引器维度过多时会引发有用的错误消息（[GH 35349](https://github.com/pandas-dev/pandas/issues/35349))'
- en: '[`read_stata()`](../reference/api/pandas.read_stata.html#pandas.read_stata
    "pandas.read_stata") now supports reading data from compressed files ([GH 26599](https://github.com/pandas-dev/pandas/issues/26599))'
  id: totrans-1095
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_stata()`](../reference/api/pandas.read_stata.html#pandas.read_stata
    "pandas.read_stata")现在支持从压缩文件中读取数据（[GH 26599](https://github.com/pandas-dev/pandas/issues/26599))'
- en: Added support for parsing `ISO 8601`-like timestamps with negative signs to
    [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta "pandas.Timedelta")
    ([GH 37172](https://github.com/pandas-dev/pandas/issues/37172))
  id: totrans-1096
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了对带有负号的`ISO 8601`-like时间戳的解析支持到[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")中（[GH 37172](https://github.com/pandas-dev/pandas/issues/37172))
- en: Added support for unary operators in `FloatingArray` ([GH 38749](https://github.com/pandas-dev/pandas/issues/38749))
  id: totrans-1097
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`FloatingArray`中添加了对一元运算符的支持（[GH 38749](https://github.com/pandas-dev/pandas/issues/38749))
- en: '[`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex "pandas.RangeIndex")
    can now be constructed by passing a `range` object directly e.g. `pd.RangeIndex(range(3))`
    ([GH 12067](https://github.com/pandas-dev/pandas/issues/12067))'
  id: totrans-1098
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex "pandas.RangeIndex")现在可以通过直接传递`range`对象来��造，例如`pd.RangeIndex(range(3))`（[GH
    12067](https://github.com/pandas-dev/pandas/issues/12067))'
- en: '[`Series.round()`](../reference/api/pandas.Series.round.html#pandas.Series.round
    "pandas.Series.round") and [`DataFrame.round()`](../reference/api/pandas.DataFrame.round.html#pandas.DataFrame.round
    "pandas.DataFrame.round") now work with nullable integer and floating dtypes ([GH
    38844](https://github.com/pandas-dev/pandas/issues/38844))'
  id: totrans-1099
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.round()`](../reference/api/pandas.Series.round.html#pandas.Series.round
    "pandas.Series.round")和[`DataFrame.round()`](../reference/api/pandas.DataFrame.round.html#pandas.DataFrame.round
    "pandas.DataFrame.round")现在可以处理可空整数和浮点数数据类型（[GH 38844](https://github.com/pandas-dev/pandas/issues/38844))'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    and [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json "pandas.read_json")
    expose the argument `encoding_errors` to control how encoding errors are handled
    ([GH 39450](https://github.com/pandas-dev/pandas/issues/39450))'
  id: totrans-1100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    和 [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json "pandas.read_json")
    提供了参数 `encoding_errors` 来控制如何处理编码错误 ([GH 39450](https://github.com/pandas-dev/pandas/issues/39450))'
- en: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), and [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") use Kleene logic with nullable data types
    ([GH 37506](https://github.com/pandas-dev/pandas/issues/37506))'
  id: totrans-1101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any "pandas.core.groupby.SeriesGroupBy.any"),
    [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), 和 [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") 使用 Kleene 逻辑与可空数据类型 ([GH 37506](https://github.com/pandas-dev/pandas/issues/37506))'
- en: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), and [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") return a `BooleanDtype` for columns with
    nullable data types ([GH 33449](https://github.com/pandas-dev/pandas/issues/33449))'
  id: totrans-1102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), 和 [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") 返回一个 `BooleanDtype` 对于具有可空数据类型的列 ([GH
    33449](https://github.com/pandas-dev/pandas/issues/33449))'
- en: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), and [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") raising with `object` data containing
    `pd.NA` even when `skipna=True` ([GH 37501](https://github.com/pandas-dev/pandas/issues/37501))'
  id: totrans-1103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any "pandas.core.groupby.SeriesGroupBy.any"),
    [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all"), 和 [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") 即使 `skipna=True` 时引发 `object` 数据包含 `pd.NA`
    ([GH 37501](https://github.com/pandas-dev/pandas/issues/37501))'
- en: '[`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") and [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") now supports object-dtype data ([GH
    38278](https://github.com/pandas-dev/pandas/issues/38278))'
  id: totrans-1104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") 和 [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") 现在支持对象dtype数据（[GH 38278](https://github.com/pandas-dev/pandas/issues/38278))'
- en: Constructing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with the `data` argument being a Python iterable that is *not*
    a NumPy `ndarray` consisting of NumPy scalars will now result in a dtype with
    a precision the maximum of the NumPy scalars; this was already the case when `data`
    is a NumPy `ndarray` ([GH 40908](https://github.com/pandas-dev/pandas/issues/40908))
  id: totrans-1105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Python可迭代对象构造[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")或[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时，如果`data`参数不是由NumPy `ndarray`组成的NumPy标量，dtype将具有NumPy标量的最大精度；当`data`是NumPy
    `ndarray`时已经是这种情况（[GH 40908](https://github.com/pandas-dev/pandas/issues/40908))
- en: Add keyword `sort` to [`pivot_table()`](../reference/api/pandas.pivot_table.html#pandas.pivot_table
    "pandas.pivot_table") to allow non-sorting of the result ([GH 39143](https://github.com/pandas-dev/pandas/issues/39143))
  id: totrans-1106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`pivot_table()`](../reference/api/pandas.pivot_table.html#pandas.pivot_table
    "pandas.pivot_table")中添加关键字`sort`，以允许结果不排序（[GH 39143](https://github.com/pandas-dev/pandas/issues/39143))
- en: Add keyword `dropna` to [`DataFrame.value_counts()`](../reference/api/pandas.DataFrame.value_counts.html#pandas.DataFrame.value_counts
    "pandas.DataFrame.value_counts") to allow counting rows that include `NA` values
    ([GH 41325](https://github.com/pandas-dev/pandas/issues/41325))
  id: totrans-1107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.value_counts()`](../reference/api/pandas.DataFrame.value_counts.html#pandas.DataFrame.value_counts
    "pandas.DataFrame.value_counts")中添加关键字`dropna`，以允许计算包含`NA`值的行数（[GH 41325](https://github.com/pandas-dev/pandas/issues/41325))
- en: '[`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") will now cast results to `PeriodDtype` where possible
    instead of `object` dtype ([GH 41526](https://github.com/pandas-dev/pandas/issues/41526))'
  id: totrans-1108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 现在将结果尽可能转换为`PeriodDtype`，而不是`object` dtype（[GH 41526](https://github.com/pandas-dev/pandas/issues/41526))'
- en: Improved error message in `corr` and `cov` methods on `Rolling`, `Expanding`,
    and `ExponentialMovingWindow` when `other` is not a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") ([GH 41741](https://github.com/pandas-dev/pandas/issues/41741))
  id: totrans-1109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`other`不是[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")或[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时，在`Rolling`，`Expanding`和`ExponentialMovingWindow`的`corr`和`cov`方法中改进了错误消息（[GH
    41741](https://github.com/pandas-dev/pandas/issues/41741))
- en: '[`Series.between()`](../reference/api/pandas.Series.between.html#pandas.Series.between
    "pandas.Series.between") can now accept `left` or `right` as arguments to `inclusive`
    to include only the left or right boundary ([GH 40245](https://github.com/pandas-dev/pandas/issues/40245))'
  id: totrans-1110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.between()`](../reference/api/pandas.Series.between.html#pandas.Series.between
    "pandas.Series.between") 现在可以接受`left`或`right`作为`inclusive`参数的参数，以仅包括左边界或右边界（[GH
    40245](https://github.com/pandas-dev/pandas/issues/40245))'
- en: '[`DataFrame.explode()`](../reference/api/pandas.DataFrame.explode.html#pandas.DataFrame.explode
    "pandas.DataFrame.explode") now supports exploding multiple columns. Its `column`
    argument now also accepts a list of str or tuples for exploding on multiple columns
    at the same time ([GH 39240](https://github.com/pandas-dev/pandas/issues/39240))'
  id: totrans-1111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.explode()`](../reference/api/pandas.DataFrame.explode.html#pandas.DataFrame.explode
    "pandas.DataFrame.explode") 现在支持同时爆炸多列。其`column`参数现在也接受一个str或元组列表，以同时在多列上爆炸（[GH
    39240](https://github.com/pandas-dev/pandas/issues/39240))'
- en: '[`DataFrame.sample()`](../reference/api/pandas.DataFrame.sample.html#pandas.DataFrame.sample
    "pandas.DataFrame.sample") now accepts the `ignore_index` argument to reset the
    index after sampling, similar to [`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") and [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") ([GH 38581](https://github.com/pandas-dev/pandas/issues/38581))'
  id: totrans-1112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.sample()`](../reference/api/pandas.DataFrame.sample.html#pandas.DataFrame.sample
    "pandas.DataFrame.sample") 现在接受 `ignore_index` 参数以在抽样后重置索引，类似于 [`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") 和 [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") ([GH 38581](https://github.com/pandas-dev/pandas/issues/38581))'
- en: '## Notable bug fixes'
  id: totrans-1113
  prefs: []
  type: TYPE_NORMAL
  zh: '## 显著的错误修复'
- en: These are bug fixes that might have notable behavior changes.
  id: totrans-1114
  prefs: []
  type: TYPE_NORMAL
  zh: 这些都是可能具有显着行为变化的错误修复。
- en: '### `Categorical.unique` now always maintains same dtype as original'
  id: totrans-1115
  prefs: []
  type: TYPE_NORMAL
  zh: '### `Categorical.unique` 现在始终保持与原始相同的 dtype'
- en: Previously, when calling `Categorical.unique()` with categorical data, unused
    categories in the new array would be removed, making the dtype of the new array
    different than the original ([GH 18291](https://github.com/pandas-dev/pandas/issues/18291))
  id: totrans-1116
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，在使用分类数据调用 `Categorical.unique()` 时，新数组中的未使用的类别将被移除，使新数组的 dtype 与原始数组不同 ([GH
    18291](https://github.com/pandas-dev/pandas/issues/18291))
- en: 'As an example of this, given:'
  id: totrans-1117
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，给定：
- en: '[PRE64]'
  id: totrans-1118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: '*Previous behavior*:'
  id: totrans-1119
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE65]'
  id: totrans-1120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: '*New behavior*:'
  id: totrans-1121
  prefs: []
  type: TYPE_NORMAL
  zh: '*新的行为*：'
- en: '[PRE66]  ### Preserve dtypes in [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first")'
  id: totrans-1122
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE66]  ### 在 [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") 中保留 dtype'
- en: '[`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") will now preserve dtypes ([GH 7509](https://github.com/pandas-dev/pandas/issues/7509))'
  id: totrans-1123
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") 现在会保留 dtype ([GH 7509](https://github.com/pandas-dev/pandas/issues/7509))'
- en: '[PRE67]'
  id: totrans-1124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: '*Previous behavior*:'
  id: totrans-1125
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE68]'
  id: totrans-1126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: '*New behavior*:'
  id: totrans-1127
  prefs: []
  type: TYPE_NORMAL
  zh: '*新的行为*：'
- en: '[PRE69]  ### Groupby methods agg and transform no longer changes return dtype
    for callables'
  id: totrans-1128
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE69]  ### Groupby 方法 agg 和 transform 不再更改可调用函数的返回 dtype'
- en: Previously the methods [`DataFrameGroupBy.aggregate()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html#pandas.core.groupby.DataFrameGroupBy.aggregate
    "pandas.core.groupby.DataFrameGroupBy.aggregate"), [`SeriesGroupBy.aggregate()`](../reference/api/pandas.core.groupby.SeriesGroupBy.aggregate.html#pandas.core.groupby.SeriesGroupBy.aggregate
    "pandas.core.groupby.SeriesGroupBy.aggregate"), [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform"), and [`SeriesGroupBy.transform()`](../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform
    "pandas.core.groupby.SeriesGroupBy.transform") might cast the result dtype when
    the argument `func` is callable, possibly leading to undesirable results ([GH
    21240](https://github.com/pandas-dev/pandas/issues/21240)). The cast would occur
    if the result is numeric and casting back to the input dtype does not change any
    values as measured by `np.allclose`. Now no such casting occurs.
  id: totrans-1129
  prefs: []
  type: TYPE_NORMAL
  zh: 以前的方法 [`DataFrameGroupBy.aggregate()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html#pandas.core.groupby.DataFrameGroupBy.aggregate
    "pandas.core.groupby.DataFrameGroupBy.aggregate")，[`SeriesGroupBy.aggregate()`](../reference/api/pandas.core.groupby.SeriesGroupBy.aggregate.html#pandas.core.groupby.SeriesGroupBy.aggregate
    "pandas.core.groupby.SeriesGroupBy.aggregate")，[`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") 和 [`SeriesGroupBy.transform()`](../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform
    "pandas.core.groupby.SeriesGroupBy.transform") 在参数 `func` 是可调用时可能会转换结果的 dtype，可能导致不希望的结果（[GH
    21240](https://github.com/pandas-dev/pandas/issues/21240)）。如果结果是数值型并且将其转换回输入 dtype
    不会更改任何值（通过 `np.allclose` 衡量），则会发生转换。现在不再发生此类转换。
- en: '[PRE70]'
  id: totrans-1130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: '*Previous behavior*:'
  id: totrans-1131
  prefs: []
  type: TYPE_NORMAL
  zh: '*先前的行为*：'
- en: '[PRE71]'
  id: totrans-1132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: '*New behavior*:'
  id: totrans-1133
  prefs: []
  type: TYPE_NORMAL
  zh: '*新的行为*：'
- en: '[PRE72]  ### `float` result for [`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean"), [`DataFrameGroupBy.median()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.median.html#pandas.core.groupby.DataFrameGroupBy.median
    "pandas.core.groupby.DataFrameGroupBy.median"), and `GDataFrameGroupBy.var()`,
    [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean"), [`SeriesGroupBy.median()`](../reference/api/pandas.core.groupby.SeriesGroupBy.median.html#pandas.core.groupby.SeriesGroupBy.median
    "pandas.core.groupby.SeriesGroupBy.median"), and [`SeriesGroupBy.var()`](../reference/api/pandas.core.groupby.SeriesGroupBy.var.html#pandas.core.groupby.SeriesGroupBy.var
    "pandas.core.groupby.SeriesGroupBy.var")'
  id: totrans-1134
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE72]  ### [`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean"), [`DataFrameGroupBy.median()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.median.html#pandas.core.groupby.DataFrameGroupBy.median
    "pandas.core.groupby.DataFrameGroupBy.median"), 和 `GDataFrameGroupBy.var()`, [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean"), [`SeriesGroupBy.median()`](../reference/api/pandas.core.groupby.SeriesGroupBy.median.html#pandas.core.groupby.SeriesGroupBy.median
    "pandas.core.groupby.SeriesGroupBy.median"), 和 [`SeriesGroupBy.var()`](../reference/api/pandas.core.groupby.SeriesGroupBy.var.html#pandas.core.groupby.SeriesGroupBy.var
    "pandas.core.groupby.SeriesGroupBy.var") 的 `float` 结果'
- en: Previously, these methods could result in different dtypes depending on the
    input values. Now, these methods will always return a float dtype. ([GH 41137](https://github.com/pandas-dev/pandas/issues/41137))
  id: totrans-1135
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，这些方法可能会根据输入值产生不同的 dtype。现在，这些方法将始终返回浮点 dtype。 ([GH 41137](https://github.com/pandas-dev/pandas/issues/41137))
- en: '[PRE73]'
  id: totrans-1136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: '*Previous behavior*:'
  id: totrans-1137
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*：'
- en: '[PRE74]'
  id: totrans-1138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: '*New behavior*:'
  id: totrans-1139
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE75]  ### Try operating inplace when setting values with `loc` and `iloc`'
  id: totrans-1140
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE75]  ### 尝试在使用 `loc` 和 `iloc` 设置值时进行原位操作'
- en: When setting an entire column using `loc` or `iloc`, pandas will try to insert
    the values into the existing data rather than create an entirely new array.
  id: totrans-1141
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用 `loc` 或 `iloc` 设置整个列时，pandas 将尝试将值插入到现有数据中，而不是创建一个全新的数组。
- en: '[PRE76]'
  id: totrans-1142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: In both the new and old behavior, the data in `values` is overwritten, but in
    the old behavior the dtype of `df["A"]` changed to `int64`.
  id: totrans-1143
  prefs: []
  type: TYPE_NORMAL
  zh: 在新旧行为中，`values` 中的数据被覆盖，但在旧行为中，`df["A"]` 的 dtype 更改为 `int64`。
- en: '*Previous behavior*:'
  id: totrans-1144
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*：'
- en: '[PRE77]'
  id: totrans-1145
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: In pandas 1.3.0, `df` continues to share data with `values`
  id: totrans-1146
  prefs: []
  type: TYPE_NORMAL
  zh: 在 pandas 1.3.0 中，`df` 继续与 `values` 共享数据。
- en: '*New behavior*:'
  id: totrans-1147
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE78]  ### Never operate inplace when setting `frame[keys] = values`'
  id: totrans-1148
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE78]  ### 在设置 `frame[keys] = values` 时永不原地操作'
- en: When setting multiple columns using `frame[keys] = values` new arrays will replace
    pre-existing arrays for these keys, which will *not* be over-written ([GH 39510](https://github.com/pandas-dev/pandas/issues/39510)).
    As a result, the columns will retain the dtype(s) of `values`, never casting to
    the dtypes of the existing arrays.
  id: totrans-1149
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用 `frame[keys] = values` 设置多列时，新数组将替换这些键的预先存在的数组，这些键将*不*被覆盖 ([GH 39510](https://github.com/pandas-dev/pandas/issues/39510))。因此，列将保留
    `values` 的 dtype(s)，不会转换为现有数组的 dtype(s)。
- en: '[PRE79]'
  id: totrans-1150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: 'In the old behavior, `5` was cast to `float64` and inserted into the existing
    array backing `df`:'
  id: totrans-1151
  prefs: []
  type: TYPE_NORMAL
  zh: 在旧行为中，`5` 被转换为 `float64` 并插入到现有数组中作为 `df` 的支撑：
- en: '*Previous behavior*:'
  id: totrans-1152
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*：'
- en: '[PRE80]'
  id: totrans-1153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: 'In the new behavior, we get a new array, and retain an integer-dtyped `5`:'
  id: totrans-1154
  prefs: []
  type: TYPE_NORMAL
  zh: 在新行为中，我们得到一个新数组，并保留整数类型的 `5`：
- en: '*New behavior*:'
  id: totrans-1155
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE81]  ### Consistent casting with setting into Boolean Series'
  id: totrans-1156
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE81]  ### 设置布尔系列时的一致转换'
- en: Setting non-boolean values into a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `dtype=bool` now consistently casts to `dtype=object` ([GH
    38709](https://github.com/pandas-dev/pandas/issues/38709))
  id: totrans-1157
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `dtype=bool` 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 中设置非布尔值现在一致地转换为 `dtype=object` ([GH 38709](https://github.com/pandas-dev/pandas/issues/38709))
- en: '[PRE82]'
  id: totrans-1158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE82]'
- en: '*Previous behavior*:'
  id: totrans-1159
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*：'
- en: '[PRE83]'
  id: totrans-1160
  prefs: []
  type: TYPE_PRE
  zh: '[PRE83]'
- en: '*New behavior*:'
  id: totrans-1161
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE84]  ### DataFrameGroupBy.rolling and SeriesGroupBy.rolling no longer return
    grouped-by column in values'
  id: totrans-1162
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE84]  ### DataFrameGroupBy.rolling 和 SeriesGroupBy.rolling 不再在值中返回 grouped-by
    列'
- en: The group-by column will now be dropped from the result of a `groupby.rolling`
    operation ([GH 32262](https://github.com/pandas-dev/pandas/issues/32262))
  id: totrans-1163
  prefs: []
  type: TYPE_NORMAL
  zh: group-by 列现在将从 `groupby.rolling` 操作的结果中删除 ([GH 32262](https://github.com/pandas-dev/pandas/issues/32262))
- en: '[PRE85]'
  id: totrans-1164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE85]'
- en: '*Previous behavior*:'
  id: totrans-1165
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*：'
- en: '[PRE86]'
  id: totrans-1166
  prefs: []
  type: TYPE_PRE
  zh: '[PRE86]'
- en: '*New behavior*:'
  id: totrans-1167
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE87]  ### Removed artificial truncation in rolling variance and standard
    deviation'
  id: totrans-1168
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE87]  ### 移除滚动方差和标准差的人为截断'
- en: '[`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") and [`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") will no longer artificially truncate
    results that are less than `~1e-8` and `~1e-15` respectively to zero ([GH 37051](https://github.com/pandas-dev/pandas/issues/37051),
    [GH 40448](https://github.com/pandas-dev/pandas/issues/40448), [GH 39872](https://github.com/pandas-dev/pandas/issues/39872)).'
  id: totrans-1169
  prefs: []
  type: TYPE_NORMAL
  zh: '[`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") 和 [`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") 现在不会人为地将小于 `~1e-8` 和 `~1e-15` 的结果截断为零
    ([GH 37051](https://github.com/pandas-dev/pandas/issues/37051), [GH 40448](https://github.com/pandas-dev/pandas/issues/40448),
    [GH 39872](https://github.com/pandas-dev/pandas/issues/39872))。'
- en: However, floating point artifacts may now exist in the results when rolling
    over larger values.
  id: totrans-1170
  prefs: []
  type: TYPE_NORMAL
  zh: 但是，当对较大值进行滚动操作时，结果中可能存在浮点数伪像。
- en: '[PRE88]  ### DataFrameGroupBy.rolling and SeriesGroupBy.rolling with MultiIndex
    no longer drop levels in the result'
  id: totrans-1171
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE88]  ### DataFrameGroupBy.rolling 和 SeriesGroupBy.rolling 在具有 MultiIndex
    的结果中不再删除级别'
- en: '`DataFrameGroupBy.rolling()` and `SeriesGroupBy.rolling()` will no longer drop
    levels of a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") in the result. This can lead to a perceived duplication of
    levels in the resulting [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex"), but this change restores the behavior that was present in
    version 1.1.3 ([GH 38787](https://github.com/pandas-dev/pandas/issues/38787),
    [GH 38523](https://github.com/pandas-dev/pandas/issues/38523)).'
  id: totrans-1172
  prefs: []
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy.rolling()` 和 `SeriesGroupBy.rolling()` 现在不会在结果中删除具有 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 的级别。这可能导致结果中的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 中级别的看似重复，但此更改恢复了版本 1.1.3 中存在的行为 ([GH 38787](https://github.com/pandas-dev/pandas/issues/38787),
    [GH 38523](https://github.com/pandas-dev/pandas/issues/38523))。'
- en: '[PRE89]'
  id: totrans-1173
  prefs: []
  type: TYPE_PRE
  zh: '[PRE89]'
- en: '*Previous behavior*:'
  id: totrans-1174
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*：'
- en: '[PRE90]'
  id: totrans-1175
  prefs: []
  type: TYPE_PRE
  zh: '[PRE90]'
- en: '*New behavior*:'
  id: totrans-1176
  prefs: []
  type: TYPE_NORMAL
  zh: '*新的行为*：'
- en: '[PRE91]  ### `Categorical.unique` now always maintains same dtype as original'
  id: totrans-1177
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE91]  ### `Categorical.unique` 现在始终保持与原始数据类型相同'
- en: Previously, when calling `Categorical.unique()` with categorical data, unused
    categories in the new array would be removed, making the dtype of the new array
    different than the original ([GH 18291](https://github.com/pandas-dev/pandas/issues/18291))
  id: totrans-1178
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，当使用分类数据调用 `Categorical.unique()` 时，新数组中的未使用的类别会被移除，使得新数组的数据类型与原始数据类型不同 ([GH
    18291](https://github.com/pandas-dev/pandas/issues/18291))
- en: 'As an example of this, given:'
  id: totrans-1179
  prefs: []
  type: TYPE_NORMAL
  zh: 举例说明，给定：
- en: '[PRE92]'
  id: totrans-1180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE92]'
- en: '*Previous behavior*:'
  id: totrans-1181
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*：'
- en: '[PRE93]'
  id: totrans-1182
  prefs: []
  type: TYPE_PRE
  zh: '[PRE93]'
- en: '*New behavior*:'
  id: totrans-1183
  prefs: []
  type: TYPE_NORMAL
  zh: '*新的行为*：'
- en: '[PRE94]'
  id: totrans-1184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE94]'
- en: '### Preserve dtypes in [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first")'
  id: totrans-1185
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在 [`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") 中保留数据类型'
- en: '[`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") will now preserve dtypes ([GH 7509](https://github.com/pandas-dev/pandas/issues/7509))'
  id: totrans-1186
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataFrame.combine_first()`](../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first
    "pandas.DataFrame.combine_first") 现在会保留数据类型 ([GH 7509](https://github.com/pandas-dev/pandas/issues/7509))'
- en: '[PRE95]'
  id: totrans-1187
  prefs: []
  type: TYPE_PRE
  zh: '[PRE95]'
- en: '*Previous behavior*:'
  id: totrans-1188
  prefs: []
  type: TYPE_NORMAL
  zh: '*之前的行为*：'
- en: '[PRE96]'
  id: totrans-1189
  prefs: []
  type: TYPE_PRE
  zh: '[PRE96]'
- en: '*New behavior*:'
  id: totrans-1190
  prefs: []
  type: TYPE_NORMAL
  zh: '*新的行为*：'
- en: '[PRE97]'
  id: totrans-1191
  prefs: []
  type: TYPE_PRE
  zh: '[PRE97]'
- en: '### Groupby methods agg and transform no longer changes return dtype for callables'
  id: totrans-1192
  prefs: []
  type: TYPE_NORMAL
  zh: '### Groupby 方法 agg 和 transform 不再改变可调用对象的返回数据类型'
- en: Previously the methods [`DataFrameGroupBy.aggregate()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html#pandas.core.groupby.DataFrameGroupBy.aggregate
    "pandas.core.groupby.DataFrameGroupBy.aggregate"), [`SeriesGroupBy.aggregate()`](../reference/api/pandas.core.groupby.SeriesGroupBy.aggregate.html#pandas.core.groupby.SeriesGroupBy.aggregate
    "pandas.core.groupby.SeriesGroupBy.aggregate"), [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform"), and [`SeriesGroupBy.transform()`](../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform
    "pandas.core.groupby.SeriesGroupBy.transform") might cast the result dtype when
    the argument `func` is callable, possibly leading to undesirable results ([GH
    21240](https://github.com/pandas-dev/pandas/issues/21240)). The cast would occur
    if the result is numeric and casting back to the input dtype does not change any
    values as measured by `np.allclose`. Now no such casting occurs.
  id: totrans-1193
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，当参数 `func` 可调用时，方法 [`DataFrameGroupBy.aggregate()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html#pandas.core.groupby.DataFrameGroupBy.aggregate
    "pandas.core.groupby.DataFrameGroupBy.aggregate")、[`SeriesGroupBy.aggregate()`](../reference/api/pandas.core.groupby.SeriesGroupBy.aggregate.html#pandas.core.groupby.SeriesGroupBy.aggregate
    "pandas.core.groupby.SeriesGroupBy.aggregate")、[`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") 和 [`SeriesGroupBy.transform()`](../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform
    "pandas.core.groupby.SeriesGroupBy.transform") 可能会转换结果的 dtype，可能导致不良结果 ([GH 21240](https://github.com/pandas-dev/pandas/issues/21240))。如果结果是数值型并且将其转换回输入
    dtype 不会改变任何值（由 `np.allclose` 测量），则会发生转换。现在不会发生这种转换。
- en: '[PRE98]'
  id: totrans-1194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE98]'
- en: '*Previous behavior*:'
  id: totrans-1195
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*：'
- en: '[PRE99]'
  id: totrans-1196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE99]'
- en: '*New behavior*:'
  id: totrans-1197
  prefs: []
  type: TYPE_NORMAL
  zh: '*新的行为*：'
- en: '[PRE100]'
  id: totrans-1198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE100]'
- en: '### `float` result for [`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean"), [`DataFrameGroupBy.median()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.median.html#pandas.core.groupby.DataFrameGroupBy.median
    "pandas.core.groupby.DataFrameGroupBy.median"), and `GDataFrameGroupBy.var()`,
    [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean"), [`SeriesGroupBy.median()`](../reference/api/pandas.core.groupby.SeriesGroupBy.median.html#pandas.core.groupby.SeriesGroupBy.median
    "pandas.core.groupby.SeriesGroupBy.median"), and [`SeriesGroupBy.var()`](../reference/api/pandas.core.groupby.SeriesGroupBy.var.html#pandas.core.groupby.SeriesGroupBy.var
    "pandas.core.groupby.SeriesGroupBy.var")'
  id: totrans-1199
  prefs: []
  type: TYPE_NORMAL
  zh: '### [`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean")、[`DataFrameGroupBy.median()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.median.html#pandas.core.groupby.DataFrameGroupBy.median
    "pandas.core.groupby.DataFrameGroupBy.median") 和 `GDataFrameGroupBy.var()` 的结果为
    `float`，[`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean")、[`SeriesGroupBy.median()`](../reference/api/pandas.core.groupby.SeriesGroupBy.median.html#pandas.core.groupby.SeriesGroupBy.median
    "pandas.core.groupby.SeriesGroupBy.median") 和 [`SeriesGroupBy.var()`](../reference/api/pandas.core.groupby.SeriesGroupBy.var.html#pandas.core.groupby.SeriesGroupBy.var
    "pandas.core.groupby.SeriesGroupBy.var") 的结果为 `float`'
- en: Previously, these methods could result in different dtypes depending on the
    input values. Now, these methods will always return a float dtype. ([GH 41137](https://github.com/pandas-dev/pandas/issues/41137))
  id: totrans-1200
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，这些方法可能会根据输入值的不同而产生不同的 dtype。现在，这些方法将始终返回 float 类型。([GH 41137](https://github.com/pandas-dev/pandas/issues/41137))
- en: '[PRE101]'
  id: totrans-1201
  prefs: []
  type: TYPE_PRE
  zh: '[PRE101]'
- en: '*Previous behavior*:'
  id: totrans-1202
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*：'
- en: '[PRE102]'
  id: totrans-1203
  prefs: []
  type: TYPE_PRE
  zh: '[PRE102]'
- en: '*New behavior*:'
  id: totrans-1204
  prefs: []
  type: TYPE_NORMAL
  zh: '*新的行为*：'
- en: '[PRE103]'
  id: totrans-1205
  prefs: []
  type: TYPE_PRE
  zh: '[PRE103]'
- en: '### Try operating inplace when setting values with `loc` and `iloc`'
  id: totrans-1206
  prefs: []
  type: TYPE_NORMAL
  zh: '### 使用 `loc` 和 `iloc` 设置值时尝试原地操作'
- en: When setting an entire column using `loc` or `iloc`, pandas will try to insert
    the values into the existing data rather than create an entirely new array.
  id: totrans-1207
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用 `loc` 或 `iloc` 设置整个列时，pandas 将尝试将值插入现有数据而不是创建全新的数组。
- en: '[PRE104]'
  id: totrans-1208
  prefs: []
  type: TYPE_PRE
  zh: '[PRE104]'
- en: In both the new and old behavior, the data in `values` is overwritten, but in
    the old behavior the dtype of `df["A"]` changed to `int64`.
  id: totrans-1209
  prefs: []
  type: TYPE_NORMAL
  zh: 在新旧行为中，`values` 中的数据都被覆盖，但在旧行为中，`df["A"]` 的 dtype 更改为 `int64`。
- en: '*Previous behavior*:'
  id: totrans-1210
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*：'
- en: '[PRE105]'
  id: totrans-1211
  prefs: []
  type: TYPE_PRE
  zh: '[PRE105]'
- en: In pandas 1.3.0, `df` continues to share data with `values`
  id: totrans-1212
  prefs: []
  type: TYPE_NORMAL
  zh: 在 pandas 1.3.0 中，`df` 仍与 `values` 共享数据
- en: '*New behavior*:'
  id: totrans-1213
  prefs: []
  type: TYPE_NORMAL
  zh: '*新的行为*：'
- en: '[PRE106]'
  id: totrans-1214
  prefs: []
  type: TYPE_PRE
  zh: '[PRE106]'
- en: '### Never operate inplace when setting `frame[keys] = values`'
  id: totrans-1215
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在设置 `frame[keys] = values` 时永远不要进行原地操作'
- en: When setting multiple columns using `frame[keys] = values` new arrays will replace
    pre-existing arrays for these keys, which will *not* be over-written ([GH 39510](https://github.com/pandas-dev/pandas/issues/39510)).
    As a result, the columns will retain the dtype(s) of `values`, never casting to
    the dtypes of the existing arrays.
  id: totrans-1216
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用 `frame[keys] = values` 设置多列时，新数组将替换这些键的预先存在的数组，这些数组将*不会*被覆盖 ([GH 39510](https://github.com/pandas-dev/pandas/issues/39510))。
    因此，列将保留 `values` 的 dtype(s)，而不会转换为现有数组的 dtype(s)。
- en: '[PRE107]'
  id: totrans-1217
  prefs: []
  type: TYPE_PRE
  zh: '[PRE107]'
- en: 'In the old behavior, `5` was cast to `float64` and inserted into the existing
    array backing `df`:'
  id: totrans-1218
  prefs: []
  type: TYPE_NORMAL
  zh: 在旧的行为中，`5` 被转换为 `float64` 并插入到支持 `df` 的现有数组中：
- en: '*Previous behavior*:'
  id: totrans-1219
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*：'
- en: '[PRE108]'
  id: totrans-1220
  prefs: []
  type: TYPE_PRE
  zh: '[PRE108]'
- en: 'In the new behavior, we get a new array, and retain an integer-dtyped `5`:'
  id: totrans-1221
  prefs: []
  type: TYPE_NORMAL
  zh: 在新行为中，我们得到一个新数组，并保留一个整数类型的 `5`：
- en: '*New behavior*:'
  id: totrans-1222
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE109]'
  id: totrans-1223
  prefs: []
  type: TYPE_PRE
  zh: '[PRE109]'
- en: '### Consistent casting with setting into Boolean Series'
  id: totrans-1224
  prefs: []
  type: TYPE_NORMAL
  zh: '### 设置到布尔 Series 中的一致转换'
- en: Setting non-boolean values into a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `dtype=bool` now consistently casts to `dtype=object` ([GH
    38709](https://github.com/pandas-dev/pandas/issues/38709))
  id: totrans-1225
  prefs: []
  type: TYPE_NORMAL
  zh: 将非布尔值设置到 `dtype=bool` 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 中现在一致地转换为 `dtype=object` ([GH 38709](https://github.com/pandas-dev/pandas/issues/38709))
- en: '[PRE110]'
  id: totrans-1226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE110]'
- en: '*Previous behavior*:'
  id: totrans-1227
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*：'
- en: '[PRE111]'
  id: totrans-1228
  prefs: []
  type: TYPE_PRE
  zh: '[PRE111]'
- en: '*New behavior*:'
  id: totrans-1229
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE112]'
  id: totrans-1230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE112]'
- en: '### DataFrameGroupBy.rolling and SeriesGroupBy.rolling no longer return grouped-by
    column in values'
  id: totrans-1231
  prefs: []
  type: TYPE_NORMAL
  zh: '### DataFrameGroupBy.rolling 和 SeriesGroupBy.rolling 不再在值中返回按组分组的列'
- en: The group-by column will now be dropped from the result of a `groupby.rolling`
    operation ([GH 32262](https://github.com/pandas-dev/pandas/issues/32262))
  id: totrans-1232
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，分组列将从 `groupby.rolling` 操作的结果中删除 ([GH 32262](https://github.com/pandas-dev/pandas/issues/32262))
- en: '[PRE113]'
  id: totrans-1233
  prefs: []
  type: TYPE_PRE
  zh: '[PRE113]'
- en: '*Previous behavior*:'
  id: totrans-1234
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*：'
- en: '[PRE114]'
  id: totrans-1235
  prefs: []
  type: TYPE_PRE
  zh: '[PRE114]'
- en: '*New behavior*:'
  id: totrans-1236
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE115]'
  id: totrans-1237
  prefs: []
  type: TYPE_PRE
  zh: '[PRE115]'
- en: '### Removed artificial truncation in rolling variance and standard deviation'
  id: totrans-1238
  prefs: []
  type: TYPE_NORMAL
  zh: '### 移除滚动方差和标准差的人为截断'
- en: '[`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") and [`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") will no longer artificially truncate
    results that are less than `~1e-8` and `~1e-15` respectively to zero ([GH 37051](https://github.com/pandas-dev/pandas/issues/37051),
    [GH 40448](https://github.com/pandas-dev/pandas/issues/40448), [GH 39872](https://github.com/pandas-dev/pandas/issues/39872)).'
  id: totrans-1239
  prefs: []
  type: TYPE_NORMAL
  zh: '[`Rolling.std()`](../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std
    "pandas.core.window.rolling.Rolling.std") 和 [`Rolling.var()`](../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var
    "pandas.core.window.rolling.Rolling.var") 现在不再人为地将小于 `~1e-8` 和 `~1e-15` 的结果截断为零
    ([GH 37051](https://github.com/pandas-dev/pandas/issues/37051), [GH 40448](https://github.com/pandas-dev/pandas/issues/40448),
    [GH 39872](https://github.com/pandas-dev/pandas/issues/39872))。'
- en: However, floating point artifacts may now exist in the results when rolling
    over larger values.
  id: totrans-1240
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，在滚动到较大值时，结果中现在可能存在浮点数伪影。
- en: '[PRE116]'
  id: totrans-1241
  prefs: []
  type: TYPE_PRE
  zh: '[PRE116]'
- en: '### DataFrameGroupBy.rolling and SeriesGroupBy.rolling with MultiIndex no longer
    drop levels in the result'
  id: totrans-1242
  prefs: []
  type: TYPE_NORMAL
  zh: '### DataFrameGroupBy.rolling 和 SeriesGroupBy.rolling 在结果中不再删除具有 MultiIndex
    的级别'
- en: '`DataFrameGroupBy.rolling()` and `SeriesGroupBy.rolling()` will no longer drop
    levels of a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") in the result. This can lead to a perceived duplication of
    levels in the resulting [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex"), but this change restores the behavior that was present in
    version 1.1.3 ([GH 38787](https://github.com/pandas-dev/pandas/issues/38787),
    [GH 38523](https://github.com/pandas-dev/pandas/issues/38523)).'
  id: totrans-1243
  prefs: []
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy.rolling()` 和 `SeriesGroupBy.rolling()` 现在不再在结果中删除 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 中具有 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 的级别。 这可能导致结果 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 中级别的重复，但此更改恢复了版本 1.1.3 中存在的行为 ([GH 38787](https://github.com/pandas-dev/pandas/issues/38787),
    [GH 38523](https://github.com/pandas-dev/pandas/issues/38523))。'
- en: '[PRE117]'
  id: totrans-1244
  prefs: []
  type: TYPE_PRE
  zh: '[PRE117]'
- en: '*Previous behavior*:'
  id: totrans-1245
  prefs: []
  type: TYPE_NORMAL
  zh: '*以前的行为*：'
- en: '[PRE118]'
  id: totrans-1246
  prefs: []
  type: TYPE_PRE
  zh: '[PRE118]'
- en: '*New behavior*:'
  id: totrans-1247
  prefs: []
  type: TYPE_NORMAL
  zh: '*新行为*：'
- en: '[PRE119]'
  id: totrans-1248
  prefs: []
  type: TYPE_PRE
  zh: '[PRE119]'
- en: '## Backwards incompatible API changes'
  id: totrans-1249
  prefs: []
  type: TYPE_NORMAL
  zh: '## 不向后兼容的 API 更改'
- en: '### Increased minimum versions for dependencies'
  id: totrans-1250
  prefs: []
  type: TYPE_NORMAL
  zh: '### 增加了依赖项的最低版本'
- en: 'Some minimum supported versions of dependencies were updated. If installed,
    we now require:'
  id: totrans-1251
  prefs: []
  type: TYPE_NORMAL
  zh: 一些最低支持的依赖版本已更新。如果已安装，我们现在需要：
- en: '| Package | Minimum Version | Required | Changed |'
  id: totrans-1252
  prefs: []
  type: TYPE_TB
  zh: '| 包 | 最低版本 | 必需 | 已更改 |'
- en: '| --- | --- | --- | --- |'
  id: totrans-1253
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| numpy | 1.17.3 | X | X |'
  id: totrans-1254
  prefs: []
  type: TYPE_TB
  zh: '| numpy | 1.17.3 | X | X |'
- en: '| pytz | 2017.3 | X |  |'
  id: totrans-1255
  prefs: []
  type: TYPE_TB
  zh: '| pytz | 2017.3 | X |  |'
- en: '| python-dateutil | 2.7.3 | X |  |'
  id: totrans-1256
  prefs: []
  type: TYPE_TB
  zh: '| python-dateutil | 2.7.3 | X |  |'
- en: '| bottleneck | 1.2.1 |  |  |'
  id: totrans-1257
  prefs: []
  type: TYPE_TB
  zh: '| bottleneck | 1.2.1 |  |  |'
- en: '| numexpr | 2.7.0 |  | X |'
  id: totrans-1258
  prefs: []
  type: TYPE_TB
  zh: '| numexpr | 2.7.0 |  | X |'
- en: '| pytest (dev) | 6.0 |  | X |'
  id: totrans-1259
  prefs: []
  type: TYPE_TB
  zh: '| pytest (dev) | 6.0 |  | X |'
- en: '| mypy (dev) | 0.812 |  | X |'
  id: totrans-1260
  prefs: []
  type: TYPE_TB
  zh: '| mypy (dev) | 0.812 |  | X |'
- en: '| setuptools | 38.6.0 |  | X |'
  id: totrans-1261
  prefs: []
  type: TYPE_TB
  zh: '| setuptools | 38.6.0 |  | X |'
- en: For [optional libraries](https://pandas.pydata.org/docs/getting_started/install.html)
    the general recommendation is to use the latest version. The following table lists
    the lowest version per library that is currently being tested throughout the development
    of pandas. Optional libraries below the lowest tested version may still work,
    but are not considered supported.
  id: totrans-1262
  prefs: []
  type: TYPE_NORMAL
  zh: 对于[可选库](https://pandas.pydata.org/docs/getting_started/install.html)，一般建议使用最新版本。以下表格列出了在
    pandas 开发过程中当前正在测试的每个库的最低版本。低于最低测试版本的可选库可能仍然有效，但不被视为受支持。
- en: '| Package | Minimum Version | Changed |'
  id: totrans-1263
  prefs: []
  type: TYPE_TB
  zh: '| Package | Minimum Version | Changed |'
- en: '| --- | --- | --- |'
  id: totrans-1264
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| beautifulsoup4 | 4.6.0 |  |'
  id: totrans-1265
  prefs: []
  type: TYPE_TB
  zh: '| beautifulsoup4 | 4.6.0 |  |'
- en: '| fastparquet | 0.4.0 | X |'
  id: totrans-1266
  prefs: []
  type: TYPE_TB
  zh: '| fastparquet | 0.4.0 | X |'
- en: '| fsspec | 0.7.4 |  |'
  id: totrans-1267
  prefs: []
  type: TYPE_TB
  zh: '| fsspec | 0.7.4 |  |'
- en: '| gcsfs | 0.6.0 |  |'
  id: totrans-1268
  prefs: []
  type: TYPE_TB
  zh: '| gcsfs | 0.6.0 |  |'
- en: '| lxml | 4.3.0 |  |'
  id: totrans-1269
  prefs: []
  type: TYPE_TB
  zh: '| lxml | 4.3.0 |  |'
- en: '| matplotlib | 2.2.3 |  |'
  id: totrans-1270
  prefs: []
  type: TYPE_TB
  zh: '| matplotlib | 2.2.3 |  |'
- en: '| numba | 0.46.0 |  |'
  id: totrans-1271
  prefs: []
  type: TYPE_TB
  zh: '| numba | 0.46.0 |  |'
- en: '| openpyxl | 3.0.0 | X |'
  id: totrans-1272
  prefs: []
  type: TYPE_TB
  zh: '| openpyxl | 3.0.0 | X |'
- en: '| pyarrow | 0.17.0 | X |'
  id: totrans-1273
  prefs: []
  type: TYPE_TB
  zh: '| pyarrow | 0.17.0 | X |'
- en: '| pymysql | 0.8.1 | X |'
  id: totrans-1274
  prefs: []
  type: TYPE_TB
  zh: '| pymysql | 0.8.1 | X |'
- en: '| pytables | 3.5.1 |  |'
  id: totrans-1275
  prefs: []
  type: TYPE_TB
  zh: '| pytables | 3.5.1 |  |'
- en: '| s3fs | 0.4.0 |  |'
  id: totrans-1276
  prefs: []
  type: TYPE_TB
  zh: '| s3fs | 0.4.0 |  |'
- en: '| scipy | 1.2.0 |  |'
  id: totrans-1277
  prefs: []
  type: TYPE_TB
  zh: '| scipy | 1.2.0 |  |'
- en: '| sqlalchemy | 1.3.0 | X |'
  id: totrans-1278
  prefs: []
  type: TYPE_TB
  zh: '| sqlalchemy | 1.3.0 | X |'
- en: '| tabulate | 0.8.7 | X |'
  id: totrans-1279
  prefs: []
  type: TYPE_TB
  zh: '| tabulate | 0.8.7 | X |'
- en: '| xarray | 0.12.0 |  |'
  id: totrans-1280
  prefs: []
  type: TYPE_TB
  zh: '| xarray | 0.12.0 |  |'
- en: '| xlrd | 1.2.0 |  |'
  id: totrans-1281
  prefs: []
  type: TYPE_TB
  zh: '| xlrd | 1.2.0 |  |'
- en: '| xlsxwriter | 1.0.2 |  |'
  id: totrans-1282
  prefs: []
  type: TYPE_TB
  zh: '| xlsxwriter | 1.0.2 |  |'
- en: '| xlwt | 1.3.0 |  |'
  id: totrans-1283
  prefs: []
  type: TYPE_TB
  zh: '| xlwt | 1.3.0 |  |'
- en: '| pandas-gbq | 0.12.0 |  |'
  id: totrans-1284
  prefs: []
  type: TYPE_TB
  zh: '| pandas-gbq | 0.12.0 |  |'
- en: 'See [Dependencies](../getting_started/install.html#install-dependencies) and
    [Optional dependencies](../getting_started/install.html#install-optional-dependencies)
    for more.  ### Other API changes'
  id: totrans-1285
  prefs: []
  type: TYPE_NORMAL
  zh: '有关更多信息，请参见[Dependencies](../getting_started/install.html#install-dependencies)和[Optional
    dependencies](../getting_started/install.html#install-optional-dependencies)  ###
    其他 API 更改'
- en: Partially initialized [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") objects (i.e. those with `categories=None`) will no
    longer compare as equal to fully initialized dtype objects ([GH 38516](https://github.com/pandas-dev/pandas/issues/38516))
  id: totrans-1286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 部分初始化的[`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype")对象（即具有`categories=None`的对象）将不再与完全初始化的 dtype 对象相等（[GH
    38516](https://github.com/pandas-dev/pandas/issues/38516)）
- en: Accessing `_constructor_expanddim` on a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and `_constructor_sliced` on a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") now raise an `AttributeError`. Previously a `NotImplementedError`
    was raised ([GH 38782](https://github.com/pandas-dev/pandas/issues/38782))
  id: totrans-1287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")上的`_constructor_expanddim`和[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")上的`_constructor_sliced`现在会引发`AttributeError`。以前会引发`NotImplementedError`（[GH
    38782](https://github.com/pandas-dev/pandas/issues/38782)）
- en: Added new `engine` and `**engine_kwargs` parameters to [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") to support other future “SQL engines”. Currently we
    still only use `SQLAlchemy` under the hood, but more engines are planned to be
    supported such as [turbodbc](https://turbodbc.readthedocs.io/en/latest/) ([GH
    36893](https://github.com/pandas-dev/pandas/issues/36893))
  id: totrans-1288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向[`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql")添加了新的`engine`和`**engine_kwargs`参数，以支持其他未来的“SQL引擎”。目前，我们仍然只在底层使用`SQLAlchemy`，但计划支持更多引擎，例如[turbodbc](https://turbodbc.readthedocs.io/en/latest/)（[GH
    36893](https://github.com/pandas-dev/pandas/issues/36893)）
- en: Removed redundant `freq` from [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") string representation ([GH 41653](https://github.com/pandas-dev/pandas/issues/41653))
  id: totrans-1289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")字符串表示中删除了冗余的`freq`（[GH 41653](https://github.com/pandas-dev/pandas/issues/41653)）
- en: '`ExtensionDtype.construct_array_type()` is now a required method instead of
    an optional one for `ExtensionDtype` subclasses ([GH 24860](https://github.com/pandas-dev/pandas/issues/24860))'
  id: totrans-1290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExtensionDtype.construct_array_type()`现在是`ExtensionDtype`子类的必需方法，而不是可选方法（[GH
    24860](https://github.com/pandas-dev/pandas/issues/24860)）'
- en: 'Calling `hash` on non-hashable pandas objects will now raise `TypeError` with
    the built-in error message (e.g. `unhashable type: ''Series''`). Previously it
    would raise a custom message such as `''Series'' objects are mutable, thus they
    cannot be hashed`. Furthermore, `isinstance(<Series>, abc.collections.Hashable)`
    will now return `False` ([GH 40013](https://github.com/pandas-dev/pandas/issues/40013))'
  id: totrans-1291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '在非可哈希的 pandas 对象上调用 `hash` 将会引发 `TypeError`，并显示内置错误信息（例如 `unhashable type:
    ''Series''`）。以前会显示自定义消息，比如 `''Series'' objects are mutable, thus they cannot be
    hashed`。此外，`isinstance(<Series>, abc.collections.Hashable)` 现在会返回 `False` ([GH
    40013](https://github.com/pandas-dev/pandas/issues/40013))'
- en: '[`Styler.from_custom_template()`](../reference/api/pandas.io.formats.style.Styler.from_custom_template.html#pandas.io.formats.style.Styler.from_custom_template
    "pandas.io.formats.style.Styler.from_custom_template") now has two new arguments
    for template names, and removed the old `name`, due to template inheritance having
    been introducing for better parsing ([GH 42053](https://github.com/pandas-dev/pandas/issues/42053)).
    Subclassing modifications to Styler attributes are also needed.  ### Build'
  id: totrans-1292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.from_custom_template()`](../reference/api/pandas.io.formats.style.Styler.from_custom_template.html#pandas.io.formats.style.Styler.from_custom_template
    "pandas.io.formats.style.Styler.from_custom_template") 现在有两个新的模板名称参数，并删除了旧的 `name`，因为为了更好的解析引入了模板继承（[GH
    42053](https://github.com/pandas-dev/pandas/issues/42053)）。还需要对 Styler 属性进行子类化修改。  ###
    构建'
- en: 'Documentation in `.pptx` and `.pdf` formats are no longer included in wheels
    or source distributions. ([GH 30741](https://github.com/pandas-dev/pandas/issues/30741))  ###
    Increased minimum versions for dependencies'
  id: totrans-1293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '不再在 wheel 或源分发中包含 `.pptx` 和 `.pdf` 格式的文档。([GH 30741](https://github.com/pandas-dev/pandas/issues/30741))  ###
    增加依赖项的最低版本'
- en: 'Some minimum supported versions of dependencies were updated. If installed,
    we now require:'
  id: totrans-1294
  prefs: []
  type: TYPE_NORMAL
  zh: 一些依赖项的最低受支持版本已更新。如果安装了，我们现在要求：
- en: '| Package | Minimum Version | Required | Changed |'
  id: totrans-1295
  prefs: []
  type: TYPE_TB
  zh: '| Package | Minimum Version | Required | Changed |'
- en: '| --- | --- | --- | --- |'
  id: totrans-1296
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| numpy | 1.17.3 | X | X |'
  id: totrans-1297
  prefs: []
  type: TYPE_TB
  zh: '| numpy | 1.17.3 | X | X |'
- en: '| pytz | 2017.3 | X |  |'
  id: totrans-1298
  prefs: []
  type: TYPE_TB
  zh: '| pytz | 2017.3 | X |  |'
- en: '| python-dateutil | 2.7.3 | X |  |'
  id: totrans-1299
  prefs: []
  type: TYPE_TB
  zh: '| python-dateutil | 2.7.3 | X |  |'
- en: '| bottleneck | 1.2.1 |  |  |'
  id: totrans-1300
  prefs: []
  type: TYPE_TB
  zh: '| bottleneck | 1.2.1 |  |  |'
- en: '| numexpr | 2.7.0 |  | X |'
  id: totrans-1301
  prefs: []
  type: TYPE_TB
  zh: '| numexpr | 2.7.0 |  | X |'
- en: '| pytest (dev) | 6.0 |  | X |'
  id: totrans-1302
  prefs: []
  type: TYPE_TB
  zh: '| pytest (dev) | 6.0 |  | X |'
- en: '| mypy (dev) | 0.812 |  | X |'
  id: totrans-1303
  prefs: []
  type: TYPE_TB
  zh: '| mypy (dev) | 0.812 |  | X |'
- en: '| setuptools | 38.6.0 |  | X |'
  id: totrans-1304
  prefs: []
  type: TYPE_TB
  zh: '| setuptools | 38.6.0 |  | X |'
- en: For [optional libraries](https://pandas.pydata.org/docs/getting_started/install.html)
    the general recommendation is to use the latest version. The following table lists
    the lowest version per library that is currently being tested throughout the development
    of pandas. Optional libraries below the lowest tested version may still work,
    but are not considered supported.
  id: totrans-1305
  prefs: []
  type: TYPE_NORMAL
  zh: 对于[可选库](https://pandas.pydata.org/docs/getting_started/install.html)，一般建议使用最新版本。以下表格列出了在
    pandas 开发过程中当前正在测试的每个库的最低版本。低于最低测试版本的可选库可能仍然可用，但不被视为受支持。
- en: '| Package | Minimum Version | Changed |'
  id: totrans-1306
  prefs: []
  type: TYPE_TB
  zh: '| Package | Minimum Version | Changed |'
- en: '| --- | --- | --- |'
  id: totrans-1307
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| beautifulsoup4 | 4.6.0 |  |'
  id: totrans-1308
  prefs: []
  type: TYPE_TB
  zh: '| beautifulsoup4 | 4.6.0 |  |'
- en: '| fastparquet | 0.4.0 | X |'
  id: totrans-1309
  prefs: []
  type: TYPE_TB
  zh: '| fastparquet | 0.4.0 | X |'
- en: '| fsspec | 0.7.4 |  |'
  id: totrans-1310
  prefs: []
  type: TYPE_TB
  zh: '| fsspec | 0.7.4 |  |'
- en: '| gcsfs | 0.6.0 |  |'
  id: totrans-1311
  prefs: []
  type: TYPE_TB
  zh: '| gcsfs | 0.6.0 |  |'
- en: '| lxml | 4.3.0 |  |'
  id: totrans-1312
  prefs: []
  type: TYPE_TB
  zh: '| lxml | 4.3.0 |  |'
- en: '| matplotlib | 2.2.3 |  |'
  id: totrans-1313
  prefs: []
  type: TYPE_TB
  zh: '| matplotlib | 2.2.3 |  |'
- en: '| numba | 0.46.0 |  |'
  id: totrans-1314
  prefs: []
  type: TYPE_TB
  zh: '| numba | 0.46.0 |  |'
- en: '| openpyxl | 3.0.0 | X |'
  id: totrans-1315
  prefs: []
  type: TYPE_TB
  zh: '| openpyxl | 3.0.0 | X |'
- en: '| pyarrow | 0.17.0 | X |'
  id: totrans-1316
  prefs: []
  type: TYPE_TB
  zh: '| pyarrow | 0.17.0 | X |'
- en: '| pymysql | 0.8.1 | X |'
  id: totrans-1317
  prefs: []
  type: TYPE_TB
  zh: '| pymysql | 0.8.1 | X |'
- en: '| pytables | 3.5.1 |  |'
  id: totrans-1318
  prefs: []
  type: TYPE_TB
  zh: '| pytables | 3.5.1 |  |'
- en: '| s3fs | 0.4.0 |  |'
  id: totrans-1319
  prefs: []
  type: TYPE_TB
  zh: '| s3fs | 0.4.0 |  |'
- en: '| scipy | 1.2.0 |  |'
  id: totrans-1320
  prefs: []
  type: TYPE_TB
  zh: '| scipy | 1.2.0 |  |'
- en: '| sqlalchemy | 1.3.0 | X |'
  id: totrans-1321
  prefs: []
  type: TYPE_TB
  zh: '| sqlalchemy | 1.3.0 | X |'
- en: '| tabulate | 0.8.7 | X |'
  id: totrans-1322
  prefs: []
  type: TYPE_TB
  zh: '| tabulate | 0.8.7 | X |'
- en: '| xarray | 0.12.0 |  |'
  id: totrans-1323
  prefs: []
  type: TYPE_TB
  zh: '| xarray | 0.12.0 |  |'
- en: '| xlrd | 1.2.0 |  |'
  id: totrans-1324
  prefs: []
  type: TYPE_TB
  zh: '| xlrd | 1.2.0 |  |'
- en: '| xlsxwriter | 1.0.2 |  |'
  id: totrans-1325
  prefs: []
  type: TYPE_TB
  zh: '| xlsxwriter | 1.0.2 |  |'
- en: '| xlwt | 1.3.0 |  |'
  id: totrans-1326
  prefs: []
  type: TYPE_TB
  zh: '| xlwt | 1.3.0 |  |'
- en: '| pandas-gbq | 0.12.0 |  |'
  id: totrans-1327
  prefs: []
  type: TYPE_TB
  zh: '| pandas-gbq | 0.12.0 |  |'
- en: See [Dependencies](../getting_started/install.html#install-dependencies) and
    [Optional dependencies](../getting_started/install.html#install-optional-dependencies)
    for more.
  id: totrans-1328
  prefs: []
  type: TYPE_NORMAL
  zh: 更多信息请参见[依赖项](../getting_started/install.html#install-dependencies)和[可选依赖项](../getting_started/install.html#install-optional-dependencies)。
- en: '### Other API changes'
  id: totrans-1329
  prefs: []
  type: TYPE_NORMAL
  zh: '### 其他 API 变更'
- en: Partially initialized [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") objects (i.e. those with `categories=None`) will no
    longer compare as equal to fully initialized dtype objects ([GH 38516](https://github.com/pandas-dev/pandas/issues/38516))
  id: totrans-1330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 部分初始化的[`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") 对象（即 `categories=None` 的对象）将不再等于完全初始化的 dtype 对象（[GH
    38516](https://github.com/pandas-dev/pandas/issues/38516)）
- en: Accessing `_constructor_expanddim` on a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and `_constructor_sliced` on a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") now raise an `AttributeError`. Previously a `NotImplementedError`
    was raised ([GH 38782](https://github.com/pandas-dev/pandas/issues/38782))
  id: totrans-1331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    上访问 `_constructor_expanddim`，在 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 上访问 `_constructor_sliced` 现在会引发 `AttributeError`。之前引发的是 `NotImplementedError`
    ([GH 38782](https://github.com/pandas-dev/pandas/issues/38782))
- en: Added new `engine` and `**engine_kwargs` parameters to [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") to support other future “SQL engines”. Currently we
    still only use `SQLAlchemy` under the hood, but more engines are planned to be
    supported such as [turbodbc](https://turbodbc.readthedocs.io/en/latest/) ([GH
    36893](https://github.com/pandas-dev/pandas/issues/36893))
  id: totrans-1332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql") 中添加了新的 `engine` 和 `**engine_kwargs` 参数，以支持其他未来的“SQL引擎”。目前我们仍然只在底层使用
    `SQLAlchemy`，但计划支持更多的引擎，比如 [turbodbc](https://turbodbc.readthedocs.io/en/latest/)
    ([GH 36893](https://github.com/pandas-dev/pandas/issues/36893))
- en: Removed redundant `freq` from [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") string representation ([GH 41653](https://github.com/pandas-dev/pandas/issues/41653))
  id: totrans-1333
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 字符串表示中删除了多余的 `freq` ([GH 41653](https://github.com/pandas-dev/pandas/issues/41653))
- en: '`ExtensionDtype.construct_array_type()` is now a required method instead of
    an optional one for `ExtensionDtype` subclasses ([GH 24860](https://github.com/pandas-dev/pandas/issues/24860))'
  id: totrans-1334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExtensionDtype.construct_array_type()` 现在是 `ExtensionDtype` 子类的一个必需方法，而不是可选方法
    ([GH 24860](https://github.com/pandas-dev/pandas/issues/24860))'
- en: 'Calling `hash` on non-hashable pandas objects will now raise `TypeError` with
    the built-in error message (e.g. `unhashable type: ''Series''`). Previously it
    would raise a custom message such as `''Series'' objects are mutable, thus they
    cannot be hashed`. Furthermore, `isinstance(<Series>, abc.collections.Hashable)`
    will now return `False` ([GH 40013](https://github.com/pandas-dev/pandas/issues/40013))'
  id: totrans-1335
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '在不可哈希的 pandas 对象上调用 `hash` 现在会引发 `TypeError`，并显示内置错误消息（例如 `unhashable type:
    ''Series''`）。之前会引发自定义消息，如 `''Series'' objects are mutable, thus they cannot be
    hashed`。此外，`isinstance(<Series>, abc.collections.Hashable)` 现在将返回 `False` ([GH
    40013](https://github.com/pandas-dev/pandas/issues/40013))'
- en: '[`Styler.from_custom_template()`](../reference/api/pandas.io.formats.style.Styler.from_custom_template.html#pandas.io.formats.style.Styler.from_custom_template
    "pandas.io.formats.style.Styler.from_custom_template") now has two new arguments
    for template names, and removed the old `name`, due to template inheritance having
    been introducing for better parsing ([GH 42053](https://github.com/pandas-dev/pandas/issues/42053)).
    Subclassing modifications to Styler attributes are also needed.'
  id: totrans-1336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler.from_custom_template()`](../reference/api/pandas.io.formats.style.Styler.from_custom_template.html#pandas.io.formats.style.Styler.from_custom_template
    "pandas.io.formats.style.Styler.from_custom_template") 现在有两个新参数用于模板名称，并删除了旧的 `name`，因为引入了模板继承以便更好地解析
    ([GH 42053](https://github.com/pandas-dev/pandas/issues/42053))。也需要修改 Styler 属性的子类。'
- en: '### Build'
  id: totrans-1337
  prefs: []
  type: TYPE_NORMAL
  zh: '### 构建'
- en: Documentation in `.pptx` and `.pdf` formats are no longer included in wheels
    or source distributions. ([GH 30741](https://github.com/pandas-dev/pandas/issues/30741))
  id: totrans-1338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不再在 wheels 或源分发中包含 `.pptx` 和 `.pdf` 格式的文档。 ([GH 30741](https://github.com/pandas-dev/pandas/issues/30741))
- en: '## Deprecations'
  id: totrans-1339
  prefs: []
  type: TYPE_NORMAL
  zh: '## 弃用'
- en: '### Deprecated dropping nuisance columns in DataFrame reductions and DataFrameGroupBy
    operations'
  id: totrans-1340
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在 DataFrame 缩减和 DataFrameGroupBy 操作中弃用删除无用列'
- en: Calling a reduction (e.g. `.min`, `.max`, `.sum`) on a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `numeric_only=None` (the default), columns where the
    reduction raises a `TypeError` are silently ignored and dropped from the result.
  id: totrans-1341
  prefs: []
  type: TYPE_NORMAL
  zh: 在带有 `numeric_only=None`（默认值）的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 上调用缩减（例如 `.min`、`.max`、`.sum`），对于缩减引发 `TypeError` 的列会被默默地忽略并从结果中删除。
- en: This behavior is deprecated. In a future version, the `TypeError` will be raised,
    and users will need to select only valid columns before calling the function.
  id: totrans-1342
  prefs: []
  type: TYPE_NORMAL
  zh: 此行为已弃用。在未来版本中，将引发 `TypeError`，用户需要在调用函数之前选择有效列。
- en: 'For example:'
  id: totrans-1343
  prefs: []
  type: TYPE_NORMAL
  zh: 例如：
- en: '[PRE120]'
  id: totrans-1344
  prefs: []
  type: TYPE_PRE
  zh: '[PRE120]'
- en: '*Old behavior*:'
  id: totrans-1345
  prefs: []
  type: TYPE_NORMAL
  zh: '*旧行为*:'
- en: '[PRE121]'
  id: totrans-1346
  prefs: []
  type: TYPE_PRE
  zh: '[PRE121]'
- en: '*Future behavior*:'
  id: totrans-1347
  prefs: []
  type: TYPE_NORMAL
  zh: '*未来行为*:'
- en: '[PRE122]'
  id: totrans-1348
  prefs: []
  type: TYPE_PRE
  zh: '[PRE122]'
- en: Similarly, when applying a function to `DataFrameGroupBy`, columns on which
    the function raises `TypeError` are currently silently ignored and dropped from
    the result.
  id: totrans-1349
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，在应用函数到`DataFrameGroupBy`时，当前对函数引发`TypeError`的列会被静默地忽略并从结果中删除。
- en: This behavior is deprecated. In a future version, the `TypeError` will be raised,
    and users will need to select only valid columns before calling the function.
  id: totrans-1350
  prefs: []
  type: TYPE_NORMAL
  zh: 这种行为已经被废弃。在将来的版本中，会引发`TypeError`，用户需要在调用函数之前仅选择有效列。
- en: 'For example:'
  id: totrans-1351
  prefs: []
  type: TYPE_NORMAL
  zh: 例如：
- en: '[PRE123]'
  id: totrans-1352
  prefs: []
  type: TYPE_PRE
  zh: '[PRE123]'
- en: '*Old behavior*:'
  id: totrans-1353
  prefs: []
  type: TYPE_NORMAL
  zh: '*旧的行为*：'
- en: '[PRE124]'
  id: totrans-1354
  prefs: []
  type: TYPE_PRE
  zh: '[PRE124]'
- en: '*Future behavior*:'
  id: totrans-1355
  prefs: []
  type: TYPE_NORMAL
  zh: '*未来的行为*：'
- en: '[PRE125]  ### Other Deprecations'
  id: totrans-1356
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE125]  ### 其他废弃'
- en: Deprecated allowing scalars to be passed to the [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") constructor ([GH 38433](https://github.com/pandas-dev/pandas/issues/38433))
  id: totrans-1357
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃了允许标量传递给[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")构造函数 ([GH 38433](https://github.com/pandas-dev/pandas/issues/38433))
- en: Deprecated constructing [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") without passing list-like data ([GH 38944](https://github.com/pandas-dev/pandas/issues/38944))
  id: totrans-1358
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃了在不传递类似列表数据的情况下构造[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") ([GH 38944](https://github.com/pandas-dev/pandas/issues/38944))
- en: Deprecated allowing subclass-specific keyword arguments in the [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") constructor, use the specific subclass directly instead ([GH 14093](https://github.com/pandas-dev/pandas/issues/14093),
    [GH 21311](https://github.com/pandas-dev/pandas/issues/21311), [GH 22315](https://github.com/pandas-dev/pandas/issues/22315),
    [GH 26974](https://github.com/pandas-dev/pandas/issues/26974))
  id: totrans-1359
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃了在[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")构造函数中允许子类特定关键字参数的用法，直接使用具体的子类代替（[GH
    14093](https://github.com/pandas-dev/pandas/issues/14093)，[GH 21311](https://github.com/pandas-dev/pandas/issues/21311)，[GH
    22315](https://github.com/pandas-dev/pandas/issues/22315)，[GH 26974](https://github.com/pandas-dev/pandas/issues/26974))
- en: Deprecated the `astype()` method of datetimelike (`timedelta64[ns]`, `datetime64[ns]`,
    `Datetime64TZDtype`, `PeriodDtype`) to convert to integer dtypes, use `values.view(...)`
    instead ([GH 38544](https://github.com/pandas-dev/pandas/issues/38544)). This
    deprecation was later reverted in pandas 1.4.0.
  id: totrans-1360
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃了datetimelike (`timedelta64[ns]`, `datetime64[ns]`, `Datetime64TZDtype`, `PeriodDtype`)
    的`astype()`方法用于转换为整数dtype，改用`values.view(...)`代替 ([GH 38544](https://github.com/pandas-dev/pandas/issues/38544))。这个废弃在
    pandas 1.4.0 中被撤销了。
- en: Deprecated `MultiIndex.is_lexsorted()` and `MultiIndex.lexsort_depth()`, use
    `MultiIndex.is_monotonic_increasing()` instead ([GH 32259](https://github.com/pandas-dev/pandas/issues/32259))
  id: totrans-1361
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃了`MultiIndex.is_lexsorted()`和`MultiIndex.lexsort_depth()`，改用`MultiIndex.is_monotonic_increasing()`代替
    ([GH 32259](https://github.com/pandas-dev/pandas/issues/32259))
- en: Deprecated keyword `try_cast` in [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where"), [`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask"), [`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where"), [`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask"); cast results manually if desired ([GH 38836](https://github.com/pandas-dev/pandas/issues/38836))
  id: totrans-1362
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where")，[`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask")，[`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where")，[`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask")中废弃了关键字`try_cast`，如果需要，手动转换结果 ([GH 38836](https://github.com/pandas-dev/pandas/issues/38836))
- en: Deprecated comparison of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") objects with `datetime.date` objects. Instead of e.g. `ts
    <= mydate` use `ts <= pd.Timestamp(mydate)` or `ts.date() <= mydate` ([GH 36131](https://github.com/pandas-dev/pandas/issues/36131))
  id: totrans-1363
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃了使用`datetime.date`对象比较[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")对象。例如，不要使用`ts <= mydate`，而要使用`ts <= pd.Timestamp(mydate)`或`ts.date()
    <= mydate` ([GH 36131](https://github.com/pandas-dev/pandas/issues/36131))
- en: Deprecated `Rolling.win_type` returning `"freq"` ([GH 38963](https://github.com/pandas-dev/pandas/issues/38963))
  id: totrans-1364
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃了`Rolling.win_type`返回`"freq"` ([GH 38963](https://github.com/pandas-dev/pandas/issues/38963))
- en: Deprecated `Rolling.is_datetimelike` ([GH 38963](https://github.com/pandas-dev/pandas/issues/38963))
  id: totrans-1365
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃了`Rolling.is_datetimelike` ([GH 38963](https://github.com/pandas-dev/pandas/issues/38963))
- en: Deprecated [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") indexer for `Series.__setitem__()` and `DataFrame.__setitem__()`
    ([GH 39004](https://github.com/pandas-dev/pandas/issues/39004))
  id: totrans-1366
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用`Series.__setitem__()`和`DataFrame.__setitem__()`的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")索引器（[GH 39004](https://github.com/pandas-dev/pandas/issues/39004)）
- en: Deprecated `ExponentialMovingWindow.vol()` ([GH 39220](https://github.com/pandas-dev/pandas/issues/39220))
  id: totrans-1367
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用`ExponentialMovingWindow.vol()`（[GH 39220](https://github.com/pandas-dev/pandas/issues/39220)）
- en: Using `.astype` to convert between `datetime64[ns]` dtype and [`DatetimeTZDtype`](../reference/api/pandas.DatetimeTZDtype.html#pandas.DatetimeTZDtype
    "pandas.DatetimeTZDtype") is deprecated and will raise in a future version, use
    `obj.tz_localize` or `obj.dt.tz_localize` instead ([GH 38622](https://github.com/pandas-dev/pandas/issues/38622))
  id: totrans-1368
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`.astype`在`datetime64[ns]` dtype和[`DatetimeTZDtype`](../reference/api/pandas.DatetimeTZDtype.html#pandas.DatetimeTZDtype
    "pandas.DatetimeTZDtype")之间进行转换已被弃用，并将在未来版本中引发错误，应改用`obj.tz_localize`或`obj.dt.tz_localize`（[GH
    38622](https://github.com/pandas-dev/pandas/issues/38622)）
- en: Deprecated casting `datetime.date` objects to `datetime64` when used as `fill_value`
    in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack"), [`DataFrame.shift()`](../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift
    "pandas.DataFrame.shift"), [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift"), and [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex"), pass `pd.Timestamp(dateobj)` instead ([GH 39767](https://github.com/pandas-dev/pandas/issues/39767))
  id: totrans-1369
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当作为`DataFrame.unstack()`、`DataFrame.shift()`、`Series.shift()`和`DataFrame.reindex()`中的`fill_value`时，不再将`datetime.date`对象转换为`datetime64`，而是应传递`pd.Timestamp(dateobj)`（[GH
    39767](https://github.com/pandas-dev/pandas/issues/39767)）
- en: Deprecated `Styler.set_na_rep()` and `Styler.set_precision()` in favor of [`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format") with `na_rep` and `precision` as existing
    and new input arguments respectively ([GH 40134](https://github.com/pandas-dev/pandas/issues/40134),
    [GH 40425](https://github.com/pandas-dev/pandas/issues/40425))
  id: totrans-1370
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用`Styler.set_na_rep()`和`Styler.set_precision()`，而使用具有`na_rep`和`precision`作为现有和新输入参数的[`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format")（[GH 40134](https://github.com/pandas-dev/pandas/issues/40134),
    [GH 40425](https://github.com/pandas-dev/pandas/issues/40425)）
- en: Deprecated `Styler.where()` in favor of using an alternative formulation with
    `Styler.applymap()` ([GH 40821](https://github.com/pandas-dev/pandas/issues/40821))
  id: totrans-1371
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用`Styler.where()`，建议使用具有`Styler.applymap()`的替代方案（[GH 40821](https://github.com/pandas-dev/pandas/issues/40821)）
- en: Deprecated allowing partial failure in [`Series.transform()`](../reference/api/pandas.Series.transform.html#pandas.Series.transform
    "pandas.Series.transform") and [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") when `func` is list-like or dict-like and raises
    anything but `TypeError`; `func` raising anything but a `TypeError` will raise
    in a future version ([GH 40211](https://github.com/pandas-dev/pandas/issues/40211))
  id: totrans-1372
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Series.transform()`](../reference/api/pandas.Series.transform.html#pandas.Series.transform
    "pandas.Series.transform")和[`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform")中，当`func`类似于列表或字典并引发除`TypeError`之外的任何异常时，不再允许部分失败；未来版本中引发除`TypeError`之外的任何异常的`func`将引发错误（[GH
    40211](https://github.com/pandas-dev/pandas/issues/40211)）
- en: Deprecated arguments `error_bad_lines` and `warn_bad_lines` in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") in favor of argument `on_bad_lines` ([GH 15122](https://github.com/pandas-dev/pandas/issues/15122))
  id: totrans-1373
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")和[`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table")中，不再支持参数`error_bad_lines`和`warn_bad_lines`，而是支持参数`on_bad_lines`（[GH
    15122](https://github.com/pandas-dev/pandas/issues/15122)）
- en: 'Deprecated support for `np.ma.mrecords.MaskedRecords` in the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor, pass `{name: data[name] for name in data.dtype.names}`
    instead ([GH 40363](https://github.com/pandas-dev/pandas/issues/40363))'
  id: totrans-1374
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '弃用了在 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 构造函数中支持 `np.ma.mrecords.MaskedRecords`，请改用 `{name: data[name]
    for name in data.dtype.names}` ([GH 40363](https://github.com/pandas-dev/pandas/issues/40363))'
- en: Deprecated using [`merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge"), [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge"), and [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") on a different number of levels ([GH 34862](https://github.com/pandas-dev/pandas/issues/34862))
  id: totrans-1375
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了在不同层次级别上使用 [`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")、[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") 和 [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") ([GH 34862](https://github.com/pandas-dev/pandas/issues/34862))
- en: Deprecated the use of `**kwargs` in [`ExcelWriter`](../reference/api/pandas.ExcelWriter.html#pandas.ExcelWriter
    "pandas.ExcelWriter"); use the keyword argument `engine_kwargs` instead ([GH 40430](https://github.com/pandas-dev/pandas/issues/40430))
  id: totrans-1376
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了在 [`ExcelWriter`](../reference/api/pandas.ExcelWriter.html#pandas.ExcelWriter
    "pandas.ExcelWriter") 中使用 `**kwargs`；改用关键字参数 `engine_kwargs` ([GH 40430](https://github.com/pandas-dev/pandas/issues/40430))
- en: Deprecated the `level` keyword for [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") aggregations; use groupby instead ([GH 39983](https://github.com/pandas-dev/pandas/issues/39983))
  id: totrans-1377
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了对 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    和 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    聚合的 `level` 关键字；改用 groupby 代替 ([GH 39983](https://github.com/pandas-dev/pandas/issues/39983))
- en: Deprecated the `inplace` parameter of `Categorical.remove_categories()`, `Categorical.add_categories()`,
    `Categorical.reorder_categories()`, `Categorical.rename_categories()`, `Categorical.set_categories()`
    and will be removed in a future version ([GH 37643](https://github.com/pandas-dev/pandas/issues/37643))
  id: totrans-1378
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了 `Categorical.remove_categories()`、`Categorical.add_categories()`、`Categorical.reorder_categories()`、`Categorical.rename_categories()`、`Categorical.set_categories()`
    的 `inplace` 参数，并将在将来的版本中移除 ([GH 37643](https://github.com/pandas-dev/pandas/issues/37643))
- en: Deprecated [`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    producing duplicated columns through the `suffixes` keyword and already existing
    columns ([GH 22818](https://github.com/pandas-dev/pandas/issues/22818))
  id: totrans-1379
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了 [`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    在通过 `suffixes` 关键字产生重复列和已存在列时的行为 ([GH 22818](https://github.com/pandas-dev/pandas/issues/22818))
- en: Deprecated setting `Categorical._codes`, create a new [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") with the desired codes instead ([GH 40606](https://github.com/pandas-dev/pandas/issues/40606))
  id: totrans-1380
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了设置 `Categorical._codes`，请使用所需代码创建新的 [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") ([GH 40606](https://github.com/pandas-dev/pandas/issues/40606))
- en: Deprecated the `convert_float` optional argument in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") and [`ExcelFile.parse()`](../reference/api/pandas.ExcelFile.parse.html#pandas.ExcelFile.parse
    "pandas.ExcelFile.parse") ([GH 41127](https://github.com/pandas-dev/pandas/issues/41127))
  id: totrans-1381
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了 [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 和 [`ExcelFile.parse()`](../reference/api/pandas.ExcelFile.parse.html#pandas.ExcelFile.parse
    "pandas.ExcelFile.parse") 中的 `convert_float` 可选参数 ([GH 41127](https://github.com/pandas-dev/pandas/issues/41127))
- en: Deprecated behavior of `DatetimeIndex.union()` with mixed timezones; in a future
    version both will be cast to UTC instead of object dtype ([GH 39328](https://github.com/pandas-dev/pandas/issues/39328))
  id: totrans-1382
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.union()` 的混合时区行为已经被弃用；在将来的版本中，两者将被转换为 UTC 而不是对象类型 ([GH 39328](https://github.com/pandas-dev/pandas/issues/39328))'
- en: Deprecated using `usecols` with out of bounds indices for [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") with `engine="c"` ([GH 25623](https://github.com/pandas-dev/pandas/issues/25623))
  id: totrans-1383
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了使用 `engine="c"` 的 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中超出范围索引的 `usecols` ([GH 25623](https://github.com/pandas-dev/pandas/issues/25623))
- en: 'Deprecated special treatment of lists with first element a Categorical in the
    [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    constructor; pass as `pd.DataFrame({col: categorical, ...})` instead ([GH 38845](https://github.com/pandas-dev/pandas/issues/38845))'
  id: totrans-1384
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '在 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    构造函数中，特殊对待首个元素为分类的列表的已弃用行为；改为传递 `pd.DataFrame({col: categorical, ...})` 代替 ([GH
    38845](https://github.com/pandas-dev/pandas/issues/38845))'
- en: Deprecated behavior of [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor when a `dtype` is passed and the data cannot be
    cast to that dtype. In a future version, this will raise instead of being silently
    ignored ([GH 24435](https://github.com/pandas-dev/pandas/issues/24435))
  id: totrans-1385
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递了 `dtype` 并且数据无法转换为该 dtype 时，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 构造函数的已弃用行为。在将来的版本中，这将引发而不是被静默忽略 ([GH 24435](https://github.com/pandas-dev/pandas/issues/24435))
- en: Deprecated the `Timestamp.freq` attribute. For the properties that use it (`is_month_start`,
    `is_month_end`, `is_quarter_start`, `is_quarter_end`, `is_year_start`, `is_year_end`),
    when you have a `freq`, use e.g. `freq.is_month_start(ts)` ([GH 15146](https://github.com/pandas-dev/pandas/issues/15146))
  id: totrans-1386
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 已弃用 `Timestamp.freq` 属性。对于使用它的属性（`is_month_start`、`is_month_end`、`is_quarter_start`、`is_quarter_end`、`is_year_start`、`is_year_end`），当你有一个
    `freq` 时，使用例如 `freq.is_month_start(ts)` ([GH 15146](https://github.com/pandas-dev/pandas/issues/15146))
- en: Deprecated construction of [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `DatetimeTZDtype` data and `datetime64[ns]` dtype. Use
    `Series(data).dt.tz_localize(None)` instead ([GH 41555](https://github.com/pandas-dev/pandas/issues/41555),
    [GH 33401](https://github.com/pandas-dev/pandas/issues/33401))
  id: totrans-1387
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `DatetimeTZDtype` 数据和 `datetime64[ns]` dtype 构造 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 的已弃用行为。改用 `Series(data).dt.tz_localize(None)` 代替 ([GH 41555](https://github.com/pandas-dev/pandas/issues/41555),
    [GH 33401](https://github.com/pandas-dev/pandas/issues/33401))
- en: Deprecated behavior of [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") construction with large-integer values and small-integer dtype
    silently overflowing; use `Series(data).astype(dtype)` instead ([GH 41734](https://github.com/pandas-dev/pandas/issues/41734))
  id: totrans-1388
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当大整数值与小整数 dtype 静默溢出时，[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 构造的已弃用行为；改用 `Series(data).astype(dtype)` 代替 ([GH 41734](https://github.com/pandas-dev/pandas/issues/41734))
- en: Deprecated behavior of [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") construction with floating data and integer dtype casting
    even when lossy; in a future version this will remain floating, matching [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") behavior ([GH 41770](https://github.com/pandas-dev/pandas/issues/41770))
  id: totrans-1389
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当浮点数据与整数 dtype 转换时即使有损失，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 构造的已弃用行为；在将来的版本中，这将保持浮点型，与 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 的行为相匹配 ([GH 41770](https://github.com/pandas-dev/pandas/issues/41770))
- en: Deprecated inference of `timedelta64[ns]`, `datetime64[ns]`, or `DatetimeTZDtype`
    dtypes in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    construction when data containing strings is passed and no `dtype` is passed ([GH
    33558](https://github.com/pandas-dev/pandas/issues/33558))
  id: totrans-1390
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在传递包含字符串数据且没有传递 `dtype` 的情况下，[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 构造函数中已弃用对 `timedelta64[ns]`、`datetime64[ns]` 或 `DatetimeTZDtype`
    dtypes 的推断行为 ([GH 33558](https://github.com/pandas-dev/pandas/issues/33558))
- en: In a future version, constructing [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` data and `DatetimeTZDtype` will treat
    the data as wall-times instead of as UTC times (matching DatetimeIndex behavior).
    To treat the data as UTC times, use `pd.Series(data).dt.tz_localize("UTC").dt.tz_convert(dtype.tz)`
    or `pd.Series(data.view("int64"), dtype=dtype)` ([GH 33401](https://github.com/pandas-dev/pandas/issues/33401))
  id: totrans-1391
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将来的版本中，使用 `datetime64[ns]` 数据和 `DatetimeTZDtype` 构造 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 时，将把数据视为墙上时间而不是 UTC 时间（与 DatetimeIndex 行为匹配）。要将数据视为 UTC 时间，请使用
    `pd.Series(data).dt.tz_localize("UTC").dt.tz_convert(dtype.tz)` 或 `pd.Series(data.view("int64"),
    dtype=dtype)` ([GH 33401](https://github.com/pandas-dev/pandas/issues/33401))
- en: Deprecated passing lists as `key` to [`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs") and [`Series.xs()`](../reference/api/pandas.Series.xs.html#pandas.Series.xs
    "pandas.Series.xs") ([GH 41760](https://github.com/pandas-dev/pandas/issues/41760))
  id: totrans-1392
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃将列表作为 `key` 传递给 [`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs") 和 [`Series.xs()`](../reference/api/pandas.Series.xs.html#pandas.Series.xs
    "pandas.Series.xs") ([GH 41760](https://github.com/pandas-dev/pandas/issues/41760))
- en: Deprecated boolean arguments of `inclusive` in [`Series.between()`](../reference/api/pandas.Series.between.html#pandas.Series.between
    "pandas.Series.between") to have `{"left", "right", "neither", "both"}` as standard
    argument values ([GH 40628](https://github.com/pandas-dev/pandas/issues/40628))
  id: totrans-1393
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃布尔类型参数 `inclusive` 在 [`Series.between()`](../reference/api/pandas.Series.between.html#pandas.Series.between
    "pandas.Series.between") 中，标准参数值为 `{"left", "right", "neither", "both"}`（[GH 40628](https://github.com/pandas-dev/pandas/issues/40628)）
- en: 'Deprecated passing arguments as positional for all of the following, with exceptions
    noted ([GH 41485](https://github.com/pandas-dev/pandas/issues/41485)):'
  id: totrans-1394
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃将参数作为位置参数传递给以下所有函数，但有特殊情况已注明（[GH 41485](https://github.com/pandas-dev/pandas/issues/41485)）
- en: '[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    (other than `objs`)'
  id: totrans-1395
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    （除了 `objs`）'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    (other than `filepath_or_buffer`)'
  id: totrans-1396
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    （除了 `filepath_or_buffer`）'
- en: '[`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") (other than `filepath_or_buffer`)'
  id: totrans-1397
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") （除了 `filepath_or_buffer`）'
- en: '[`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") and [`Series.clip()`](../reference/api/pandas.Series.clip.html#pandas.Series.clip
    "pandas.Series.clip") (other than `upper` and `lower`)'
  id: totrans-1398
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") 和 [`Series.clip()`](../reference/api/pandas.Series.clip.html#pandas.Series.clip
    "pandas.Series.clip") （除了 `upper` 和 `lower`）'
- en: '[`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") (except for `subset`), [`Series.drop_duplicates()`](../reference/api/pandas.Series.drop_duplicates.html#pandas.Series.drop_duplicates
    "pandas.Series.drop_duplicates"), [`Index.drop_duplicates()`](../reference/api/pandas.Index.drop_duplicates.html#pandas.Index.drop_duplicates
    "pandas.Index.drop_duplicates") and `MultiIndex.drop_duplicates()`'
  id: totrans-1399
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") （除了 `subset`）, [`Series.drop_duplicates()`](../reference/api/pandas.Series.drop_duplicates.html#pandas.Series.drop_duplicates
    "pandas.Series.drop_duplicates"), [`Index.drop_duplicates()`](../reference/api/pandas.Index.drop_duplicates.html#pandas.Index.drop_duplicates
    "pandas.Index.drop_duplicates") 和 `MultiIndex.drop_duplicates()`'
- en: '[`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop") (other than `labels`) and [`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop")'
  id: totrans-1400
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop") （除了 `labels`） 和 [`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop")'
- en: '[`DataFrame.dropna()`](../reference/api/pandas.DataFrame.dropna.html#pandas.DataFrame.dropna
    "pandas.DataFrame.dropna") and [`Series.dropna()`](../reference/api/pandas.Series.dropna.html#pandas.Series.dropna
    "pandas.Series.dropna")'
  id: totrans-1401
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.dropna()`](../reference/api/pandas.DataFrame.dropna.html#pandas.DataFrame.dropna
    "pandas.DataFrame.dropna") 和 [`Series.dropna()`](../reference/api/pandas.Series.dropna.html#pandas.Series.dropna
    "pandas.Series.dropna")'
- en: '[`DataFrame.ffill()`](../reference/api/pandas.DataFrame.ffill.html#pandas.DataFrame.ffill
    "pandas.DataFrame.ffill"), [`Series.ffill()`](../reference/api/pandas.Series.ffill.html#pandas.Series.ffill
    "pandas.Series.ffill"), [`DataFrame.bfill()`](../reference/api/pandas.DataFrame.bfill.html#pandas.DataFrame.bfill
    "pandas.DataFrame.bfill"), and [`Series.bfill()`](../reference/api/pandas.Series.bfill.html#pandas.Series.bfill
    "pandas.Series.bfill")'
  id: totrans-1402
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.ffill()`](../reference/api/pandas.DataFrame.ffill.html#pandas.DataFrame.ffill
    "pandas.DataFrame.ffill"), [`Series.ffill()`](../reference/api/pandas.Series.ffill.html#pandas.Series.ffill
    "pandas.Series.ffill"), [`DataFrame.bfill()`](../reference/api/pandas.DataFrame.bfill.html#pandas.DataFrame.bfill
    "pandas.DataFrame.bfill") 和 [`Series.bfill()`](../reference/api/pandas.Series.bfill.html#pandas.Series.bfill
    "pandas.Series.bfill")'
- en: '[`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") and [`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") (apart from `value`)'
  id: totrans-1403
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") 和 [`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") （除了 `value`）'
- en: '[`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate") and [`Series.interpolate()`](../reference/api/pandas.Series.interpolate.html#pandas.Series.interpolate
    "pandas.Series.interpolate") (other than `method`)'
  id: totrans-1404
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate") 和 [`Series.interpolate()`](../reference/api/pandas.Series.interpolate.html#pandas.Series.interpolate
    "pandas.Series.interpolate") （除了 `method`）'
- en: '[`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask") and [`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask") (other than `cond` and `other`)'
  id: totrans-1405
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask") 和 [`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask") （除了 `cond` 和 `other`）'
- en: '[`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") (other than `level`) and [`Series.reset_index()`](../reference/api/pandas.Series.reset_index.html#pandas.Series.reset_index
    "pandas.Series.reset_index")'
  id: totrans-1406
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") （除了 `level`）和 [`Series.reset_index()`](../reference/api/pandas.Series.reset_index.html#pandas.Series.reset_index
    "pandas.Series.reset_index")'
- en: '[`DataFrame.set_axis()`](../reference/api/pandas.DataFrame.set_axis.html#pandas.DataFrame.set_axis
    "pandas.DataFrame.set_axis") and [`Series.set_axis()`](../reference/api/pandas.Series.set_axis.html#pandas.Series.set_axis
    "pandas.Series.set_axis") (other than `labels`)'
  id: totrans-1407
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.set_axis()`](../reference/api/pandas.DataFrame.set_axis.html#pandas.DataFrame.set_axis
    "pandas.DataFrame.set_axis") 和 [`Series.set_axis()`](../reference/api/pandas.Series.set_axis.html#pandas.Series.set_axis
    "pandas.Series.set_axis") （除了 `labels`）'
- en: '[`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index") (other than `keys`)'
  id: totrans-1408
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index") （除了 `keys`）'
- en: '[`DataFrame.sort_index()`](../reference/api/pandas.DataFrame.sort_index.html#pandas.DataFrame.sort_index
    "pandas.DataFrame.sort_index") and [`Series.sort_index()`](../reference/api/pandas.Series.sort_index.html#pandas.Series.sort_index
    "pandas.Series.sort_index")'
  id: totrans-1409
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.sort_index()`](../reference/api/pandas.DataFrame.sort_index.html#pandas.DataFrame.sort_index
    "pandas.DataFrame.sort_index") 和 [`Series.sort_index()`](../reference/api/pandas.Series.sort_index.html#pandas.Series.sort_index
    "pandas.Series.sort_index")'
- en: '[`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") (other than `by`) and [`Series.sort_values()`](../reference/api/pandas.Series.sort_values.html#pandas.Series.sort_values
    "pandas.Series.sort_values")'
  id: totrans-1410
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") （除了 `by`）和 [`Series.sort_values()`](../reference/api/pandas.Series.sort_values.html#pandas.Series.sort_values
    "pandas.Series.sort_values")'
- en: '[`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") and [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") (other than `cond` and `other`)'
  id: totrans-1411
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") 和 [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") （除了 `cond` 和 `other`）'
- en: '[`Index.set_names()`](../reference/api/pandas.Index.set_names.html#pandas.Index.set_names
    "pandas.Index.set_names") and `MultiIndex.set_names()` (except for `names`)'
  id: totrans-1412
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.set_names()`](../reference/api/pandas.Index.set_names.html#pandas.Index.set_names
    "pandas.Index.set_names") 和 `MultiIndex.set_names()` （除了 `names`）'
- en: '[`MultiIndex.codes()`](../reference/api/pandas.MultiIndex.codes.html#pandas.MultiIndex.codes
    "pandas.MultiIndex.codes") (except for `codes`)'
  id: totrans-1413
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.codes()`](../reference/api/pandas.MultiIndex.codes.html#pandas.MultiIndex.codes
    "pandas.MultiIndex.codes") （除了 `codes`）'
- en: '[`MultiIndex.set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels") (except for `levels`)'
  id: totrans-1414
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels") （除了 `levels`）'
- en: '`Resampler.interpolate()` (other than `method`)  ### Deprecated dropping nuisance
    columns in DataFrame reductions and DataFrameGroupBy operations'
  id: totrans-1415
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Resampler.interpolate()` （除了 `method`）### 在 DataFrame 缩减和 DataFrameGroupBy
    操作中弃用删除无关紧要的列'
- en: Calling a reduction (e.g. `.min`, `.max`, `.sum`) on a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `numeric_only=None` (the default), columns where the
    reduction raises a `TypeError` are silently ignored and dropped from the result.
  id: totrans-1416
  prefs: []
  type: TYPE_NORMAL
  zh: 在对带有`numeric_only=None`（默认值）的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")进行缩减（例如`.min`、`.max`、`.sum`）时，如果缩减引发`TypeError`的列会被静默忽略并从结果中删除。
- en: This behavior is deprecated. In a future version, the `TypeError` will be raised,
    and users will need to select only valid columns before calling the function.
  id: totrans-1417
  prefs: []
  type: TYPE_NORMAL
  zh: 此行为已弃用。在将来的版本中，将引发`TypeError`，用户需要在调用函数之前仅选择有效列。
- en: 'For example:'
  id: totrans-1418
  prefs: []
  type: TYPE_NORMAL
  zh: 例如：
- en: '[PRE126]'
  id: totrans-1419
  prefs: []
  type: TYPE_PRE
  zh: '[PRE126]'
- en: '*Old behavior*:'
  id: totrans-1420
  prefs: []
  type: TYPE_NORMAL
  zh: '*旧行为*：'
- en: '[PRE127]'
  id: totrans-1421
  prefs: []
  type: TYPE_PRE
  zh: '[PRE127]'
- en: '*Future behavior*:'
  id: totrans-1422
  prefs: []
  type: TYPE_NORMAL
  zh: '*未来行为*：'
- en: '[PRE128]'
  id: totrans-1423
  prefs: []
  type: TYPE_PRE
  zh: '[PRE128]'
- en: Similarly, when applying a function to `DataFrameGroupBy`, columns on which
    the function raises `TypeError` are currently silently ignored and dropped from
    the result.
  id: totrans-1424
  prefs: []
  type: TYPE_NORMAL
  zh: 类似地，在对`DataFrameGroupBy`应用函数时，函数引发`TypeError`的列目前会被静默忽略并从结果中删除。
- en: This behavior is deprecated. In a future version, the `TypeError` will be raised,
    and users will need to select only valid columns before calling the function.
  id: totrans-1425
  prefs: []
  type: TYPE_NORMAL
  zh: 此行为已弃用。在将来的版本中，将引发`TypeError`，用户需要在调用函数之前仅选择有效列。
- en: 'For example:'
  id: totrans-1426
  prefs: []
  type: TYPE_NORMAL
  zh: 例如：
- en: '[PRE129]'
  id: totrans-1427
  prefs: []
  type: TYPE_PRE
  zh: '[PRE129]'
- en: '*Old behavior*:'
  id: totrans-1428
  prefs: []
  type: TYPE_NORMAL
  zh: '*旧行为*：'
- en: '[PRE130]'
  id: totrans-1429
  prefs: []
  type: TYPE_PRE
  zh: '[PRE130]'
- en: '*Future behavior*:'
  id: totrans-1430
  prefs: []
  type: TYPE_NORMAL
  zh: '*未来行为*：'
- en: '[PRE131]'
  id: totrans-1431
  prefs: []
  type: TYPE_PRE
  zh: '[PRE131]'
- en: '### Other Deprecations'
  id: totrans-1432
  prefs: []
  type: TYPE_NORMAL
  zh: '### 其他弃用'
- en: Deprecated allowing scalars to be passed to the [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") constructor ([GH 38433](https://github.com/pandas-dev/pandas/issues/38433))
  id: totrans-1433
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用允许标量传递给[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")构造函数（[GH 38433](https://github.com/pandas-dev/pandas/issues/38433))
- en: Deprecated constructing [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") without passing list-like data ([GH 38944](https://github.com/pandas-dev/pandas/issues/38944))
  id: totrans-1434
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用在构造[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")时不传递类似列表的数据（[GH 38944](https://github.com/pandas-dev/pandas/issues/38944))
- en: Deprecated allowing subclass-specific keyword arguments in the [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") constructor, use the specific subclass directly instead ([GH 14093](https://github.com/pandas-dev/pandas/issues/14093),
    [GH 21311](https://github.com/pandas-dev/pandas/issues/21311), [GH 22315](https://github.com/pandas-dev/pandas/issues/22315),
    [GH 26974](https://github.com/pandas-dev/pandas/issues/26974))
  id: totrans-1435
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用在[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")构造函数中允许特定子类关键字参数，直接使用特定子类代替（[GH
    14093](https://github.com/pandas-dev/pandas/issues/14093)、[GH 21311](https://github.com/pandas-dev/pandas/issues/21311)、[GH
    22315](https://github.com/pandas-dev/pandas/issues/22315)、[GH 26974](https://github.com/pandas-dev/pandas/issues/26974))
- en: Deprecated the `astype()` method of datetimelike (`timedelta64[ns]`, `datetime64[ns]`,
    `Datetime64TZDtype`, `PeriodDtype`) to convert to integer dtypes, use `values.view(...)`
    instead ([GH 38544](https://github.com/pandas-dev/pandas/issues/38544)). This
    deprecation was later reverted in pandas 1.4.0.
  id: totrans-1436
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了将datetimelike（`timedelta64[ns]`、`datetime64[ns]`、`Datetime64TZDtype`、`PeriodDtype`）转换为整数数据类型的`astype()`方法，改用`values.view(...)`代替（[GH
    38544](https://github.com/pandas-dev/pandas/issues/38544)）。此弃用在 pandas 1.4.0 中被撤销。
- en: Deprecated `MultiIndex.is_lexsorted()` and `MultiIndex.lexsort_depth()`, use
    `MultiIndex.is_monotonic_increasing()` instead ([GH 32259](https://github.com/pandas-dev/pandas/issues/32259))
  id: totrans-1437
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用`MultiIndex.is_lexsorted()`和`MultiIndex.lexsort_depth()`，改用`MultiIndex.is_monotonic_increasing()`代替（[GH
    32259](https://github.com/pandas-dev/pandas/issues/32259))
- en: Deprecated keyword `try_cast` in [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where"), [`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask"), [`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where"), [`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask"); cast results manually if desired ([GH 38836](https://github.com/pandas-dev/pandas/issues/38836))
  id: totrans-1438
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where")、[`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask")、[`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where")、[`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask")中弃用关键字`try_cast`；如果需要，手动转换结果（[GH 38836](https://github.com/pandas-dev/pandas/issues/38836))
- en: Deprecated comparison of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") objects with `datetime.date` objects. Instead of e.g. `ts
    <= mydate` use `ts <= pd.Timestamp(mydate)` or `ts.date() <= mydate` ([GH 36131](https://github.com/pandas-dev/pandas/issues/36131))
  id: totrans-1439
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用对[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")对象与`datetime.date`对象的比较。例如，不要使用`ts
    <= mydate`，而要使用`ts <= pd.Timestamp(mydate)`或`ts.date() <= mydate`（[GH 36131](https://github.com/pandas-dev/pandas/issues/36131))
- en: Deprecated `Rolling.win_type` returning `"freq"` ([GH 38963](https://github.com/pandas-dev/pandas/issues/38963))
  id: totrans-1440
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用`Rolling.win_type`返回`"freq"`（[GH 38963](https://github.com/pandas-dev/pandas/issues/38963))
- en: Deprecated `Rolling.is_datetimelike` ([GH 38963](https://github.com/pandas-dev/pandas/issues/38963))
  id: totrans-1441
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用`Rolling.is_datetimelike`（[GH 38963](https://github.com/pandas-dev/pandas/issues/38963))
- en: Deprecated [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") indexer for `Series.__setitem__()` and `DataFrame.__setitem__()`
    ([GH 39004](https://github.com/pandas-dev/pandas/issues/39004))
  id: totrans-1442
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")索引器，改用`Series.__setitem__()`和`DataFrame.__setitem__()`（[GH
    39004](https://github.com/pandas-dev/pandas/issues/39004))
- en: Deprecated `ExponentialMovingWindow.vol()` ([GH 39220](https://github.com/pandas-dev/pandas/issues/39220))
  id: totrans-1443
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用`ExponentialMovingWindow.vol()`（[GH 39220](https://github.com/pandas-dev/pandas/issues/39220))
- en: Using `.astype` to convert between `datetime64[ns]` dtype and [`DatetimeTZDtype`](../reference/api/pandas.DatetimeTZDtype.html#pandas.DatetimeTZDtype
    "pandas.DatetimeTZDtype") is deprecated and will raise in a future version, use
    `obj.tz_localize` or `obj.dt.tz_localize` instead ([GH 38622](https://github.com/pandas-dev/pandas/issues/38622))
  id: totrans-1444
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`.astype`在`datetime64[ns]`类型和[`DatetimeTZDtype`](../reference/api/pandas.DatetimeTZDtype.html#pandas.DatetimeTZDtype
    "pandas.DatetimeTZDtype")之间转换已被弃用，并将在将来的版本中引发，改用`obj.tz_localize`或`obj.dt.tz_localize`代替（[GH
    38622](https://github.com/pandas-dev/pandas/issues/38622))
- en: Deprecated casting `datetime.date` objects to `datetime64` when used as `fill_value`
    in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack"), [`DataFrame.shift()`](../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift
    "pandas.DataFrame.shift"), [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift"), and [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex"), pass `pd.Timestamp(dateobj)` instead ([GH 39767](https://github.com/pandas-dev/pandas/issues/39767))
  id: totrans-1445
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用将`datetime.date`对象转换为`datetime64`时作为`fill_value`在[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")、[`DataFrame.shift()`](../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift
    "pandas.DataFrame.shift")、[`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift")和[`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex")中的强制转换，应传递`pd.Timestamp(dateobj)`代替（[GH 39767](https://github.com/pandas-dev/pandas/issues/39767))
- en: Deprecated `Styler.set_na_rep()` and `Styler.set_precision()` in favor of [`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format") with `na_rep` and `precision` as existing
    and new input arguments respectively ([GH 40134](https://github.com/pandas-dev/pandas/issues/40134),
    [GH 40425](https://github.com/pandas-dev/pandas/issues/40425))
  id: totrans-1446
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用`Styler.set_na_rep()`和`Styler.set_precision()`，建议改用[`Styler.format()`](../reference/api/pandas.io.formats.style.Styler.format.html#pandas.io.formats.style.Styler.format
    "pandas.io.formats.style.Styler.format")，其中`na_rep`和`precision`分别作为现有和新的输入参数（[GH
    40134](https://github.com/pandas-dev/pandas/issues/40134), [GH 40425](https://github.com/pandas-dev/pandas/issues/40425))
- en: Deprecated `Styler.where()` in favor of using an alternative formulation with
    `Styler.applymap()` ([GH 40821](https://github.com/pandas-dev/pandas/issues/40821))
  id: totrans-1447
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用`Styler.where()`，建议改用`Styler.applymap()`的另一种形式（[GH 40821](https://github.com/pandas-dev/pandas/issues/40821))
- en: Deprecated allowing partial failure in [`Series.transform()`](../reference/api/pandas.Series.transform.html#pandas.Series.transform
    "pandas.Series.transform") and [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") when `func` is list-like or dict-like and raises
    anything but `TypeError`; `func` raising anything but a `TypeError` will raise
    in a future version ([GH 40211](https://github.com/pandas-dev/pandas/issues/40211))
  id: totrans-1448
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用在[`Series.transform()`](../reference/api/pandas.Series.transform.html#pandas.Series.transform
    "pandas.Series.transform")和[`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform")中允许部分失败的功能，当`func`类似于列表或字典且引发除`TypeError`之外的任何异常时；`func`引发除`TypeError`之外的异常将在将来的版本中引发（[GH
    40211](https://github.com/pandas-dev/pandas/issues/40211))
- en: Deprecated arguments `error_bad_lines` and `warn_bad_lines` in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") in favor of argument `on_bad_lines` ([GH 15122](https://github.com/pandas-dev/pandas/issues/15122))
  id: totrans-1449
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    和 [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table "pandas.read_table")
    中弃用了 `error_bad_lines` 和 `warn_bad_lines` 参数，而采用 `on_bad_lines` 参数 ([GH 15122](https://github.com/pandas-dev/pandas/issues/15122))
- en: 'Deprecated support for `np.ma.mrecords.MaskedRecords` in the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor, pass `{name: data[name] for name in data.dtype.names}`
    instead ([GH 40363](https://github.com/pandas-dev/pandas/issues/40363))'
  id: totrans-1450
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '在 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    构造函数中弃用了对 `np.ma.mrecords.MaskedRecords` 的支持，请改用 `{name: data[name] for name in
    data.dtype.names}` ([GH 40363](https://github.com/pandas-dev/pandas/issues/40363))'
- en: Deprecated using [`merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge"), [`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge"), and [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") on a different number of levels ([GH 34862](https://github.com/pandas-dev/pandas/issues/34862))
  id: totrans-1451
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了在不同级别上使用 [`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")、[`DataFrame.merge()`](../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge
    "pandas.DataFrame.merge") 和 [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") 的行为 ([GH 34862](https://github.com/pandas-dev/pandas/issues/34862))
- en: Deprecated the use of `**kwargs` in [`ExcelWriter`](../reference/api/pandas.ExcelWriter.html#pandas.ExcelWriter
    "pandas.ExcelWriter"); use the keyword argument `engine_kwargs` instead ([GH 40430](https://github.com/pandas-dev/pandas/issues/40430))
  id: totrans-1452
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`ExcelWriter`](../reference/api/pandas.ExcelWriter.html#pandas.ExcelWriter
    "pandas.ExcelWriter") 中弃用了对 `**kwargs` 的使用；请使用关键字参数 `engine_kwargs` 代替 ([GH 40430](https://github.com/pandas-dev/pandas/issues/40430))
- en: Deprecated the `level` keyword for [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") aggregations; use groupby instead ([GH 39983](https://github.com/pandas-dev/pandas/issues/39983))
  id: totrans-1453
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    和 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    聚合中弃用了 `level` 关键字参数；请使用 groupby 代替 ([GH 39983](https://github.com/pandas-dev/pandas/issues/39983))
- en: Deprecated the `inplace` parameter of `Categorical.remove_categories()`, `Categorical.add_categories()`,
    `Categorical.reorder_categories()`, `Categorical.rename_categories()`, `Categorical.set_categories()`
    and will be removed in a future version ([GH 37643](https://github.com/pandas-dev/pandas/issues/37643))
  id: totrans-1454
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了 `Categorical.remove_categories()`、`Categorical.add_categories()`、`Categorical.reorder_categories()`、`Categorical.rename_categories()`、`Categorical.set_categories()`
    中的 `inplace` 参数，并将在将来的版本中移除 ([GH 37643](https://github.com/pandas-dev/pandas/issues/37643))
- en: Deprecated [`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    producing duplicated columns through the `suffixes` keyword and already existing
    columns ([GH 22818](https://github.com/pandas-dev/pandas/issues/22818))
  id: totrans-1455
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    中弃用了通过 `suffixes` 关键字产生重复列的行为，以及已经存在的列 ([GH 22818](https://github.com/pandas-dev/pandas/issues/22818))
- en: Deprecated setting `Categorical._codes`, create a new [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") with the desired codes instead ([GH 40606](https://github.com/pandas-dev/pandas/issues/40606))
  id: totrans-1456
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了设置 `Categorical._codes` 的行为，请创建一个新的 [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") 并使用所需的代码 ([GH 40606](https://github.com/pandas-dev/pandas/issues/40606))
- en: Deprecated the `convert_float` optional argument in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") and [`ExcelFile.parse()`](../reference/api/pandas.ExcelFile.parse.html#pandas.ExcelFile.parse
    "pandas.ExcelFile.parse") ([GH 41127](https://github.com/pandas-dev/pandas/issues/41127))
  id: totrans-1457
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 和 [`ExcelFile.parse()`](../reference/api/pandas.ExcelFile.parse.html#pandas.ExcelFile.parse
    "pandas.ExcelFile.parse") 中弃用了 `convert_float` 可选参数 ([GH 41127](https://github.com/pandas-dev/pandas/issues/41127))
- en: Deprecated behavior of `DatetimeIndex.union()` with mixed timezones; in a future
    version both will be cast to UTC instead of object dtype ([GH 39328](https://github.com/pandas-dev/pandas/issues/39328))
  id: totrans-1458
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了 `DatetimeIndex.union()` 在混合时区的行为；在将来的版本中，两者都将被转换为 UTC 而不是对象 dtype ([GH 39328](https://github.com/pandas-dev/pandas/issues/39328))
- en: Deprecated using `usecols` with out of bounds indices for [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") with `engine="c"` ([GH 25623](https://github.com/pandas-dev/pandas/issues/25623))
  id: totrans-1459
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于使用 `engine="c"` 的 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")，废弃了使用超出界限的索引进行 `usecols` 的用法 ([GH 25623](https://github.com/pandas-dev/pandas/issues/25623))
- en: 'Deprecated special treatment of lists with first element a Categorical in the
    [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    constructor; pass as `pd.DataFrame({col: categorical, ...})` instead ([GH 38845](https://github.com/pandas-dev/pandas/issues/38845))'
  id: totrans-1460
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '在 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    构造函数中，废弃了对第一个元素为分类的列表的特殊处理；改为使用 `pd.DataFrame({col: categorical, ...})` 代替 ([GH
    38845](https://github.com/pandas-dev/pandas/issues/38845))'
- en: Deprecated behavior of [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") constructor when a `dtype` is passed and the data cannot be
    cast to that dtype. In a future version, this will raise instead of being silently
    ignored ([GH 24435](https://github.com/pandas-dev/pandas/issues/24435))
  id: totrans-1461
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递 `dtype` 并且数据无法转换为该 dtype 时，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 构造函数的行为废弃。在将来版本中，这将引发异常而不是被静默忽略 ([GH 24435](https://github.com/pandas-dev/pandas/issues/24435))
- en: Deprecated the `Timestamp.freq` attribute. For the properties that use it (`is_month_start`,
    `is_month_end`, `is_quarter_start`, `is_quarter_end`, `is_year_start`, `is_year_end`),
    when you have a `freq`, use e.g. `freq.is_month_start(ts)` ([GH 15146](https://github.com/pandas-dev/pandas/issues/15146))
  id: totrans-1462
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃了 `Timestamp.freq` 属性。对于使用它的属性（`is_month_start`、`is_month_end`、`is_quarter_start`、`is_quarter_end`、`is_year_start`、`is_year_end`），当你有一个
    `freq` 时，使用例如 `freq.is_month_start(ts)` ([GH 15146](https://github.com/pandas-dev/pandas/issues/15146))
- en: Deprecated construction of [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `DatetimeTZDtype` data and `datetime64[ns]` dtype. Use
    `Series(data).dt.tz_localize(None)` instead ([GH 41555](https://github.com/pandas-dev/pandas/issues/41555),
    [GH 33401](https://github.com/pandas-dev/pandas/issues/33401))
  id: totrans-1463
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 废弃了使用 `DatetimeTZDtype` 数据和 `datetime64[ns]` dtype 构造 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 的行为。使用 `Series(data).dt.tz_localize(None)` 代替 ([GH 41555](https://github.com/pandas-dev/pandas/issues/41555),
    [GH 33401](https://github.com/pandas-dev/pandas/issues/33401))
- en: Deprecated behavior of [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") construction with large-integer values and small-integer dtype
    silently overflowing; use `Series(data).astype(dtype)` instead ([GH 41734](https://github.com/pandas-dev/pandas/issues/41734))
  id: totrans-1464
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于大整数值和小整数 dtype 导致静默溢出的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 构造行为废弃；改用 `Series(data).astype(dtype)` 代替 ([GH 41734](https://github.com/pandas-dev/pandas/issues/41734))
- en: Deprecated behavior of [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") construction with floating data and integer dtype casting
    even when lossy; in a future version this will remain floating, matching [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") behavior ([GH 41770](https://github.com/pandas-dev/pandas/issues/41770))
  id: totrans-1465
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当浮点数据和整数 dtype 被强制转换时，即使有损失，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 构造行为废弃；在将来版本中，这将保持浮点，与 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 的行为相匹配 ([GH 41770](https://github.com/pandas-dev/pandas/issues/41770))
- en: Deprecated inference of `timedelta64[ns]`, `datetime64[ns]`, or `DatetimeTZDtype`
    dtypes in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    construction when data containing strings is passed and no `dtype` is passed ([GH
    33558](https://github.com/pandas-dev/pandas/issues/33558))
  id: totrans-1466
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递包含字符串的数据并且没有传递 `dtype` 时，在 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 构造中不再推断 `timedelta64[ns]`、`datetime64[ns]` 或 `DatetimeTZDtype`
    dtypes ([GH 33558](https://github.com/pandas-dev/pandas/issues/33558)) 废弃。
- en: In a future version, constructing [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with `datetime64[ns]` data and `DatetimeTZDtype` will treat
    the data as wall-times instead of as UTC times (matching DatetimeIndex behavior).
    To treat the data as UTC times, use `pd.Series(data).dt.tz_localize("UTC").dt.tz_convert(dtype.tz)`
    or `pd.Series(data.view("int64"), dtype=dtype)` ([GH 33401](https://github.com/pandas-dev/pandas/issues/33401))
  id: totrans-1467
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将来的版本中，使用`datetime64[ns]`数据和`DatetimeTZDtype`构造[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")或[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")将会将数据视为壁钟时间而不是UTC时间（匹配DatetimeIndex行为）。若要将数据视为UTC时间，请使用`pd.Series(data).dt.tz_localize("UTC").dt.tz_convert(dtype.tz)`或`pd.Series(data.view("int64"),
    dtype=dtype)`（[GH 33401](https://github.com/pandas-dev/pandas/issues/33401)）
- en: Deprecated passing lists as `key` to [`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs") and [`Series.xs()`](../reference/api/pandas.Series.xs.html#pandas.Series.xs
    "pandas.Series.xs") ([GH 41760](https://github.com/pandas-dev/pandas/issues/41760))
  id: totrans-1468
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了将列表作为`key`传递给[`DataFrame.xs()`](../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs
    "pandas.DataFrame.xs")和[`Series.xs()`](../reference/api/pandas.Series.xs.html#pandas.Series.xs
    "pandas.Series.xs")的布尔参数（[GH 41760](https://github.com/pandas-dev/pandas/issues/41760)）
- en: Deprecated boolean arguments of `inclusive` in [`Series.between()`](../reference/api/pandas.Series.between.html#pandas.Series.between
    "pandas.Series.between") to have `{"left", "right", "neither", "both"}` as standard
    argument values ([GH 40628](https://github.com/pandas-dev/pandas/issues/40628))
  id: totrans-1469
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 弃用了在[`Series.between()`](../reference/api/pandas.Series.between.html#pandas.Series.between
    "pandas.Series.between")中使用布尔参数`inclusive`来作为标准参数值的`{"left", "right", "neither",
    "both"}`（[GH 40628](https://github.com/pandas-dev/pandas/issues/40628)）
- en: 'Deprecated passing arguments as positional for all of the following, with exceptions
    noted ([GH 41485](https://github.com/pandas-dev/pandas/issues/41485)):'
  id: totrans-1470
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于以下所有情况，弃用了作为位置参数传递的参数，除了特殊说明的情况（[GH 41485](https://github.com/pandas-dev/pandas/issues/41485)）：
- en: '[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")
    (other than `objs`)'
  id: totrans-1471
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`concat()`](../reference/api/pandas.concat.html#pandas.concat "pandas.concat")（除了`objs`）'
- en: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    (other than `filepath_or_buffer`)'
  id: totrans-1472
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")（除了`filepath_or_buffer`）'
- en: '[`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") (other than `filepath_or_buffer`)'
  id: totrans-1473
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table")（除了`filepath_or_buffer`）'
- en: '[`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") and [`Series.clip()`](../reference/api/pandas.Series.clip.html#pandas.Series.clip
    "pandas.Series.clip") (other than `upper` and `lower`)'
  id: totrans-1474
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") 和 [`Series.clip()`](../reference/api/pandas.Series.clip.html#pandas.Series.clip
    "pandas.Series.clip")（除了`upper`和`lower`）'
- en: '[`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates") (except for `subset`), [`Series.drop_duplicates()`](../reference/api/pandas.Series.drop_duplicates.html#pandas.Series.drop_duplicates
    "pandas.Series.drop_duplicates"), [`Index.drop_duplicates()`](../reference/api/pandas.Index.drop_duplicates.html#pandas.Index.drop_duplicates
    "pandas.Index.drop_duplicates") and `MultiIndex.drop_duplicates()`'
  id: totrans-1475
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.drop_duplicates()`](../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates
    "pandas.DataFrame.drop_duplicates")（除了`subset`参数），[`Series.drop_duplicates()`](../reference/api/pandas.Series.drop_duplicates.html#pandas.Series.drop_duplicates
    "pandas.Series.drop_duplicates")，[`Index.drop_duplicates()`](../reference/api/pandas.Index.drop_duplicates.html#pandas.Index.drop_duplicates
    "pandas.Index.drop_duplicates") 和 `MultiIndex.drop_duplicates()`'
- en: '[`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop") (other than `labels`) and [`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop")'
  id: totrans-1476
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop")（除了`labels`）和 [`Series.drop()`](../reference/api/pandas.Series.drop.html#pandas.Series.drop
    "pandas.Series.drop")'
- en: '[`DataFrame.dropna()`](../reference/api/pandas.DataFrame.dropna.html#pandas.DataFrame.dropna
    "pandas.DataFrame.dropna") and [`Series.dropna()`](../reference/api/pandas.Series.dropna.html#pandas.Series.dropna
    "pandas.Series.dropna")'
  id: totrans-1477
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.dropna()`](../reference/api/pandas.DataFrame.dropna.html#pandas.DataFrame.dropna
    "pandas.DataFrame.dropna") 和 [`Series.dropna()`](../reference/api/pandas.Series.dropna.html#pandas.Series.dropna
    "pandas.Series.dropna")'
- en: '[`DataFrame.ffill()`](../reference/api/pandas.DataFrame.ffill.html#pandas.DataFrame.ffill
    "pandas.DataFrame.ffill"), [`Series.ffill()`](../reference/api/pandas.Series.ffill.html#pandas.Series.ffill
    "pandas.Series.ffill"), [`DataFrame.bfill()`](../reference/api/pandas.DataFrame.bfill.html#pandas.DataFrame.bfill
    "pandas.DataFrame.bfill"), and [`Series.bfill()`](../reference/api/pandas.Series.bfill.html#pandas.Series.bfill
    "pandas.Series.bfill")'
  id: totrans-1478
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.ffill()`](../reference/api/pandas.DataFrame.ffill.html#pandas.DataFrame.ffill
    "pandas.DataFrame.ffill")，[`Series.ffill()`](../reference/api/pandas.Series.ffill.html#pandas.Series.ffill
    "pandas.Series.ffill")，[`DataFrame.bfill()`](../reference/api/pandas.DataFrame.bfill.html#pandas.DataFrame.bfill
    "pandas.DataFrame.bfill") 和 [`Series.bfill()`](../reference/api/pandas.Series.bfill.html#pandas.Series.bfill
    "pandas.Series.bfill")'
- en: '[`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") and [`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna") (apart from `value`)'
  id: totrans-1479
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") 和 [`Series.fillna()`](../reference/api/pandas.Series.fillna.html#pandas.Series.fillna
    "pandas.Series.fillna")（除了 `value`）'
- en: '[`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate") and [`Series.interpolate()`](../reference/api/pandas.Series.interpolate.html#pandas.Series.interpolate
    "pandas.Series.interpolate") (other than `method`)'
  id: totrans-1480
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.interpolate()`](../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate
    "pandas.DataFrame.interpolate") 和 [`Series.interpolate()`](../reference/api/pandas.Series.interpolate.html#pandas.Series.interpolate
    "pandas.Series.interpolate")（除了 `method`）'
- en: '[`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask") and [`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask") (other than `cond` and `other`)'
  id: totrans-1481
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask") 和 [`Series.mask()`](../reference/api/pandas.Series.mask.html#pandas.Series.mask
    "pandas.Series.mask")（除了 `cond` 和 `other`）'
- en: '[`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") (other than `level`) and [`Series.reset_index()`](../reference/api/pandas.Series.reset_index.html#pandas.Series.reset_index
    "pandas.Series.reset_index")'
  id: totrans-1482
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index")（除了 `level`）和 [`Series.reset_index()`](../reference/api/pandas.Series.reset_index.html#pandas.Series.reset_index
    "pandas.Series.reset_index")'
- en: '[`DataFrame.set_axis()`](../reference/api/pandas.DataFrame.set_axis.html#pandas.DataFrame.set_axis
    "pandas.DataFrame.set_axis") and [`Series.set_axis()`](../reference/api/pandas.Series.set_axis.html#pandas.Series.set_axis
    "pandas.Series.set_axis") (other than `labels`)'
  id: totrans-1483
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.set_axis()`](../reference/api/pandas.DataFrame.set_axis.html#pandas.DataFrame.set_axis
    "pandas.DataFrame.set_axis") 和 [`Series.set_axis()`](../reference/api/pandas.Series.set_axis.html#pandas.Series.set_axis
    "pandas.Series.set_axis")（除了 `labels`）'
- en: '[`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index") (other than `keys`)'
  id: totrans-1484
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.set_index()`](../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index
    "pandas.DataFrame.set_index")（除了 `keys`）'
- en: '[`DataFrame.sort_index()`](../reference/api/pandas.DataFrame.sort_index.html#pandas.DataFrame.sort_index
    "pandas.DataFrame.sort_index") and [`Series.sort_index()`](../reference/api/pandas.Series.sort_index.html#pandas.Series.sort_index
    "pandas.Series.sort_index")'
  id: totrans-1485
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.sort_index()`](../reference/api/pandas.DataFrame.sort_index.html#pandas.DataFrame.sort_index
    "pandas.DataFrame.sort_index") 和 [`Series.sort_index()`](../reference/api/pandas.Series.sort_index.html#pandas.Series.sort_index
    "pandas.Series.sort_index")'
- en: '[`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") (other than `by`) and [`Series.sort_values()`](../reference/api/pandas.Series.sort_values.html#pandas.Series.sort_values
    "pandas.Series.sort_values")'
  id: totrans-1486
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values")（除了 `by`）和 [`Series.sort_values()`](../reference/api/pandas.Series.sort_values.html#pandas.Series.sort_values
    "pandas.Series.sort_values")'
- en: '[`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") and [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") (other than `cond` and `other`)'
  id: totrans-1487
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") 和 [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where")（除了 `cond` 和 `other`）'
- en: '[`Index.set_names()`](../reference/api/pandas.Index.set_names.html#pandas.Index.set_names
    "pandas.Index.set_names") and `MultiIndex.set_names()` (except for `names`)'
  id: totrans-1488
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.set_names()`](../reference/api/pandas.Index.set_names.html#pandas.Index.set_names
    "pandas.Index.set_names") 和 `MultiIndex.set_names()`（除了 `names`）'
- en: '[`MultiIndex.codes()`](../reference/api/pandas.MultiIndex.codes.html#pandas.MultiIndex.codes
    "pandas.MultiIndex.codes") (except for `codes`)'
  id: totrans-1489
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.codes()`](../reference/api/pandas.MultiIndex.codes.html#pandas.MultiIndex.codes
    "pandas.MultiIndex.codes")（除了 `codes`）'
- en: '[`MultiIndex.set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels") (except for `levels`)'
  id: totrans-1490
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MultiIndex.set_levels()`](../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels
    "pandas.MultiIndex.set_levels")（除了 `levels`）'
- en: '`Resampler.interpolate()` (other than `method`)'
  id: totrans-1491
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Resampler.interpolate()`（除了 `method`）'
- en: '## Performance improvements'
  id: totrans-1492
  prefs: []
  type: TYPE_NORMAL
  zh: '## 性能改进'
- en: Performance improvement in `IntervalIndex.isin()` ([GH 38353](https://github.com/pandas-dev/pandas/issues/38353))
  id: totrans-1493
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 `IntervalIndex.isin()`，性能有所提高（[GH 38353](https://github.com/pandas-dev/pandas/issues/38353)）
- en: Performance improvement in [`Series.mean()`](../reference/api/pandas.Series.mean.html#pandas.Series.mean
    "pandas.Series.mean") for nullable data types ([GH 34814](https://github.com/pandas-dev/pandas/issues/34814))
  id: totrans-1494
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于可空数据类型，[`Series.mean()`](../reference/api/pandas.Series.mean.html#pandas.Series.mean
    "pandas.Series.mean") 的性能有所提高（[GH 34814](https://github.com/pandas-dev/pandas/issues/34814)）
- en: Performance improvement in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") for nullable data types ([GH 38340](https://github.com/pandas-dev/pandas/issues/38340))
  id: totrans-1495
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于可空数据类型，[`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") 的性能有所提高（[GH 38340](https://github.com/pandas-dev/pandas/issues/38340)）
- en: Performance improvement in [`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") with `method="pad"` or `method="backfill"` for nullable
    floating and nullable integer dtypes ([GH 39953](https://github.com/pandas-dev/pandas/issues/39953))
  id: totrans-1496
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于可空浮点数和可空整数数据类型，[`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") 在使用 `method="pad"` 或 `method="backfill"` 时性能有所提高（[GH
    39953](https://github.com/pandas-dev/pandas/issues/39953)）
- en: Performance improvement in [`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") for `method=kendall` ([GH 28329](https://github.com/pandas-dev/pandas/issues/28329))
  id: totrans-1497
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 `method=kendall`，[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") 的性能有所提高（[GH 28329](https://github.com/pandas-dev/pandas/issues/28329)）
- en: Performance improvement in [`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") for `method=spearman` ([GH 40956](https://github.com/pandas-dev/pandas/issues/40956),
    [GH 41885](https://github.com/pandas-dev/pandas/issues/41885))
  id: totrans-1498
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 `method=spearman`，[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr") 的性能有所提高（[GH 40956](https://github.com/pandas-dev/pandas/issues/40956),
    [GH 41885](https://github.com/pandas-dev/pandas/issues/41885)）
- en: Performance improvement in [`Rolling.corr()`](../reference/api/pandas.core.window.rolling.Rolling.corr.html#pandas.core.window.rolling.Rolling.corr
    "pandas.core.window.rolling.Rolling.corr") and [`Rolling.cov()`](../reference/api/pandas.core.window.rolling.Rolling.cov.html#pandas.core.window.rolling.Rolling.cov
    "pandas.core.window.rolling.Rolling.cov") ([GH 39388](https://github.com/pandas-dev/pandas/issues/39388))
  id: totrans-1499
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Rolling.corr()`](../reference/api/pandas.core.window.rolling.Rolling.corr.html#pandas.core.window.rolling.Rolling.corr
    "pandas.core.window.rolling.Rolling.corr") 和 [`Rolling.cov()`](../reference/api/pandas.core.window.rolling.Rolling.cov.html#pandas.core.window.rolling.Rolling.cov
    "pandas.core.window.rolling.Rolling.cov") 的性能有所提高（[GH 39388](https://github.com/pandas-dev/pandas/issues/39388)）'
- en: Performance improvement in `RollingGroupby.corr()`, `ExpandingGroupby.corr()`,
    `ExpandingGroupby.corr()` and `ExpandingGroupby.cov()` ([GH 39591](https://github.com/pandas-dev/pandas/issues/39591))
  id: totrans-1500
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 `RollingGroupby.corr()`、`ExpandingGroupby.corr()`、`ExpandingGroupby.corr()`
    和 `ExpandingGroupby.cov()`，性能有所提高（[GH 39591](https://github.com/pandas-dev/pandas/issues/39591)）
- en: Performance improvement in [`unique()`](../reference/api/pandas.unique.html#pandas.unique
    "pandas.unique") for object data type ([GH 37615](https://github.com/pandas-dev/pandas/issues/37615))
  id: totrans-1501
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于对象数据类型，[`unique()`](../reference/api/pandas.unique.html#pandas.unique "pandas.unique")
    的性能有所提高（[GH 37615](https://github.com/pandas-dev/pandas/issues/37615)）
- en: Performance improvement in [`json_normalize()`](../reference/api/pandas.json_normalize.html#pandas.json_normalize
    "pandas.json_normalize") for basic cases (including separators) ([GH 40035](https://github.com/pandas-dev/pandas/issues/40035)
    [GH 15621](https://github.com/pandas-dev/pandas/issues/15621))
  id: totrans-1502
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于基本情况（包括分隔符），[`json_normalize()`](../reference/api/pandas.json_normalize.html#pandas.json_normalize
    "pandas.json_normalize") 的性能有所提高（[GH 40035](https://github.com/pandas-dev/pandas/issues/40035),
    [GH 15621](https://github.com/pandas-dev/pandas/issues/15621)）
- en: Performance improvement in `ExpandingGroupby` aggregation methods ([GH 39664](https://github.com/pandas-dev/pandas/issues/39664))
  id: totrans-1503
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 `ExpandingGroupby` 聚合方法，性能有所提高（[GH 39664](https://github.com/pandas-dev/pandas/issues/39664)）
- en: Performance improvement in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") where render times are more than 50% reduced
    and now matches [`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html") ([GH 39972](https://github.com/pandas-dev/pandas/issues/39972)
    [GH 39952](https://github.com/pandas-dev/pandas/issues/39952), [GH 40425](https://github.com/pandas-dev/pandas/issues/40425))
  id: totrans-1504
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler")中的性能改进，渲染时间减少超过50%，现在与[`DataFrame.to_html()`](../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html
    "pandas.DataFrame.to_html")相匹配（[GH 39972](https://github.com/pandas-dev/pandas/issues/39972)
    [GH 39952](https://github.com/pandas-dev/pandas/issues/39952), [GH 40425](https://github.com/pandas-dev/pandas/issues/40425)）
- en: The method [`Styler.set_td_classes()`](../reference/api/pandas.io.formats.style.Styler.set_td_classes.html#pandas.io.formats.style.Styler.set_td_classes
    "pandas.io.formats.style.Styler.set_td_classes") is now as performant as [`Styler.apply()`](../reference/api/pandas.io.formats.style.Styler.apply.html#pandas.io.formats.style.Styler.apply
    "pandas.io.formats.style.Styler.apply") and `Styler.applymap()`, and even more
    so in some cases ([GH 40453](https://github.com/pandas-dev/pandas/issues/40453))
  id: totrans-1505
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法[`Styler.set_td_classes()`](../reference/api/pandas.io.formats.style.Styler.set_td_classes.html#pandas.io.formats.style.Styler.set_td_classes
    "pandas.io.formats.style.Styler.set_td_classes")现在与[`Styler.apply()`](../reference/api/pandas.io.formats.style.Styler.apply.html#pandas.io.formats.style.Styler.apply
    "pandas.io.formats.style.Styler.apply")和`Styler.applymap()`一样高效，有些情况下甚至更高效（[GH
    40453](https://github.com/pandas-dev/pandas/issues/40453)）
- en: Performance improvement in [`ExponentialMovingWindow.mean()`](../reference/api/pandas.core.window.ewm.ExponentialMovingWindow.mean.html#pandas.core.window.ewm.ExponentialMovingWindow.mean
    "pandas.core.window.ewm.ExponentialMovingWindow.mean") with `times` ([GH 39784](https://github.com/pandas-dev/pandas/issues/39784))
  id: totrans-1506
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`ExponentialMovingWindow.mean()`](../reference/api/pandas.core.window.ewm.ExponentialMovingWindow.mean.html#pandas.core.window.ewm.ExponentialMovingWindow.mean
    "pandas.core.window.ewm.ExponentialMovingWindow.mean")中的性能改进，使用`times`（[GH 39784](https://github.com/pandas-dev/pandas/issues/39784)）
- en: Performance improvement in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") and [`SeriesGroupBy.apply()`](../reference/api/pandas.core.groupby.SeriesGroupBy.apply.html#pandas.core.groupby.SeriesGroupBy.apply
    "pandas.core.groupby.SeriesGroupBy.apply") when requiring the Python fallback
    implementation ([GH 40176](https://github.com/pandas-dev/pandas/issues/40176))
  id: totrans-1507
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在需要Python回退实现时的[`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply")和[`SeriesGroupBy.apply()`](../reference/api/pandas.core.groupby.SeriesGroupBy.apply.html#pandas.core.groupby.SeriesGroupBy.apply
    "pandas.core.groupby.SeriesGroupBy.apply")中的性能改进（[GH 40176](https://github.com/pandas-dev/pandas/issues/40176))
- en: Performance improvement in the conversion of a PyArrow Boolean array to a pandas
    nullable Boolean array ([GH 41051](https://github.com/pandas-dev/pandas/issues/41051))
  id: totrans-1508
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将PyArrow布尔数组转换为pandas可空布尔数组的性能改进（[GH 41051](https://github.com/pandas-dev/pandas/issues/41051)）
- en: Performance improvement for concatenation of data with type [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") ([GH 40193](https://github.com/pandas-dev/pandas/issues/40193))
  id: totrans-1509
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于连接具有类型[`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype")数据的性能改进（[GH 40193](https://github.com/pandas-dev/pandas/issues/40193)）
- en: Performance improvement in [`DataFrameGroupBy.cummin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummin.html#pandas.core.groupby.DataFrameGroupBy.cummin
    "pandas.core.groupby.DataFrameGroupBy.cummin"), [`SeriesGroupBy.cummin()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummin.html#pandas.core.groupby.SeriesGroupBy.cummin
    "pandas.core.groupby.SeriesGroupBy.cummin"), [`DataFrameGroupBy.cummax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummax.html#pandas.core.groupby.DataFrameGroupBy.cummax
    "pandas.core.groupby.DataFrameGroupBy.cummax"), and [`SeriesGroupBy.cummax()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummax.html#pandas.core.groupby.SeriesGroupBy.cummax
    "pandas.core.groupby.SeriesGroupBy.cummax") with nullable data types ([GH 37493](https://github.com/pandas-dev/pandas/issues/37493))
  id: totrans-1510
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用可空数据类型时，[`DataFrameGroupBy.cummin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummin.html#pandas.core.groupby.DataFrameGroupBy.cummin
    "pandas.core.groupby.DataFrameGroupBy.cummin")、[`SeriesGroupBy.cummin()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummin.html#pandas.core.groupby.SeriesGroupBy.cummin
    "pandas.core.groupby.SeriesGroupBy.cummin")、[`DataFrameGroupBy.cummax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummax.html#pandas.core.groupby.DataFrameGroupBy.cummax
    "pandas.core.groupby.DataFrameGroupBy.cummax")和[`SeriesGroupBy.cummax()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummax.html#pandas.core.groupby.SeriesGroupBy.cummax
    "pandas.core.groupby.SeriesGroupBy.cummax")的性能提升（[GH 37493](https://github.com/pandas-dev/pandas/issues/37493)）
- en: Performance improvement in [`Series.nunique()`](../reference/api/pandas.Series.nunique.html#pandas.Series.nunique
    "pandas.Series.nunique") with nan values ([GH 40865](https://github.com/pandas-dev/pandas/issues/40865))
  id: totrans-1511
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用nan值时，[`Series.nunique()`](../reference/api/pandas.Series.nunique.html#pandas.Series.nunique
    "pandas.Series.nunique")的性能提升（[GH 40865](https://github.com/pandas-dev/pandas/issues/40865)）
- en: Performance improvement in [`DataFrame.transpose()`](../reference/api/pandas.DataFrame.transpose.html#pandas.DataFrame.transpose
    "pandas.DataFrame.transpose"), [`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack") with `DatetimeTZDtype` ([GH 40149](https://github.com/pandas-dev/pandas/issues/40149))
  id: totrans-1512
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`DatetimeTZDtype`时，[`DataFrame.transpose()`](../reference/api/pandas.DataFrame.transpose.html#pandas.DataFrame.transpose
    "pandas.DataFrame.transpose")和[`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack")的性能提升（[GH 40149](https://github.com/pandas-dev/pandas/issues/40149)）
- en: Performance improvement in [`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot") and [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") with entry point lazy loading ([GH 41492](https://github.com/pandas-dev/pandas/issues/41492))
  id: totrans-1513
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在延迟加载入口点时，[`Series.plot()`](../reference/api/pandas.Series.plot.html#pandas.Series.plot
    "pandas.Series.plot")和[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot")的性能提升（[GH 41492](https://github.com/pandas-dev/pandas/issues/41492)）
- en: '## Bug fixes'
  id: totrans-1514
  prefs: []
  type: TYPE_NORMAL
  zh: '## Bug 修复'
- en: Categorical
  id: totrans-1515
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分类
- en: Bug in [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") incorrectly failing to raise `TypeError` when scalar
    data is passed ([GH 38614](https://github.com/pandas-dev/pandas/issues/38614))
  id: totrans-1516
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递标量数据时，[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")错误地未引发`TypeError`（[GH 38614](https://github.com/pandas-dev/pandas/issues/38614)）
- en: Bug in `CategoricalIndex.reindex` failed when the [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") passed was not categorical but whose values were all labels in
    the category ([GH 28690](https://github.com/pandas-dev/pandas/issues/28690))
  id: totrans-1517
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递给`CategoricalIndex.reindex`的[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")不是分类的，但其所有值都是类别中的标签时，出现的错误（[GH 28690](https://github.com/pandas-dev/pandas/issues/28690)）
- en: Bug where constructing a [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") from an object-dtype array of `date` objects did not round-trip
    correctly with `astype` ([GH 38552](https://github.com/pandas-dev/pandas/issues/38552))
  id: totrans-1518
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从对象数据类型数组构造[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")时出现的错误，无法通过`astype`正确地往返转换为`date`对象（[GH 38552](https://github.com/pandas-dev/pandas/issues/38552)）
- en: Bug in constructing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") from an `ndarray` and a [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") ([GH 38857](https://github.com/pandas-dev/pandas/issues/38857))
  id: totrans-1519
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从`ndarray`和[`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype")构造[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")时出现的错误（[GH 38857](https://github.com/pandas-dev/pandas/issues/38857)）
- en: Bug in setting categorical values into an object-dtype column in a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 39136](https://github.com/pandas-dev/pandas/issues/39136))
  id: totrans-1520
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将分类值设置到[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")中的对象数据类型列中存在错误（[GH 39136](https://github.com/pandas-dev/pandas/issues/39136))
- en: Bug in [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") was raising an `IndexError` when the new index contained
    duplicates and the old index was a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") ([GH 38906](https://github.com/pandas-dev/pandas/issues/38906))
  id: totrans-1521
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex")中存在的错误，在新索引包含重复项且旧索引是[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")时引发`IndexError`（[GH 38906](https://github.com/pandas-dev/pandas/issues/38906))
- en: Bug in `Categorical.fillna()` with a tuple-like category raising `NotImplementedError`
    instead of `ValueError` when filling with a non-category tuple ([GH 41914](https://github.com/pandas-dev/pandas/issues/41914))
  id: totrans-1522
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用类似元组的类别填充`Categorical.fillna()`时，当使用非类别元组进行填充时引发`NotImplementedError`而不是`ValueError`（[GH
    41914](https://github.com/pandas-dev/pandas/issues/41914))
- en: Datetimelike
  id: totrans-1523
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 日期时间类
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") constructors sometimes dropping nanoseconds from [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") (resp. [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")) `data`, with `dtype=datetime64[ns]` (resp. `timedelta64[ns]`)
    ([GH 38032](https://github.com/pandas-dev/pandas/issues/38032))
  id: totrans-1524
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")和[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")构造函数有时会从[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")（或[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")）`data`中删除纳秒，其`dtype=datetime64[ns]`（或`timedelta64[ns]`）（[GH
    38032](https://github.com/pandas-dev/pandas/issues/38032))
- en: Bug in [`DataFrame.first()`](../reference/api/pandas.DataFrame.first.html#pandas.DataFrame.first
    "pandas.DataFrame.first") and [`Series.first()`](../reference/api/pandas.Series.first.html#pandas.Series.first
    "pandas.Series.first") with an offset of one month returning an incorrect result
    when the first day is the last day of a month ([GH 29623](https://github.com/pandas-dev/pandas/issues/29623))
  id: totrans-1525
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有一个月偏移量的[`DataFrame.first()`](../reference/api/pandas.DataFrame.first.html#pandas.DataFrame.first
    "pandas.DataFrame.first")和[`Series.first()`](../reference/api/pandas.Series.first.html#pandas.Series.first
    "pandas.Series.first")中存在错误，当第一天是月底时返回不正确的结果（[GH 29623](https://github.com/pandas-dev/pandas/issues/29623))
- en: Bug in constructing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with mismatched `datetime64` data and `timedelta64` dtype, or
    vice-versa, failing to raise a `TypeError` ([GH 38575](https://github.com/pandas-dev/pandas/issues/38575),
    [GH 38764](https://github.com/pandas-dev/pandas/issues/38764), [GH 38792](https://github.com/pandas-dev/pandas/issues/38792))
  id: totrans-1526
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在构建具有不匹配的`datetime64`数据和`timedelta64`数据类型或反之的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")或[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时存在错误，未能引发`TypeError`（[GH 38575](https://github.com/pandas-dev/pandas/issues/38575),
    [GH 38764](https://github.com/pandas-dev/pandas/issues/38764), [GH 38792](https://github.com/pandas-dev/pandas/issues/38792))
- en: Bug in constructing a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a `datetime` object out of bounds for `datetime64[ns]`
    dtype or a `timedelta` object out of bounds for `timedelta64[ns]` dtype ([GH 38792](https://github.com/pandas-dev/pandas/issues/38792),
    [GH 38965](https://github.com/pandas-dev/pandas/issues/38965))
  id: totrans-1527
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用超出`datetime64[ns]`数据类型范围的`datetime`对象或超出`timedelta64[ns]`数据类型范围的`timedelta`对象构建[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")或[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")时存在错误（[GH 38792](https://github.com/pandas-dev/pandas/issues/38792),
    [GH 38965](https://github.com/pandas-dev/pandas/issues/38965))
- en: Bug in `DatetimeIndex.intersection()`, `DatetimeIndex.symmetric_difference()`,
    `PeriodIndex.intersection()`, `PeriodIndex.symmetric_difference()` always returning
    object-dtype when operating with [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") ([GH 38741](https://github.com/pandas-dev/pandas/issues/38741))
  id: totrans-1528
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.intersection()`、`DatetimeIndex.symmetric_difference()`、`PeriodIndex.intersection()`、`PeriodIndex.symmetric_difference()`中存在错误，当与[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")操作时，始终返回对象dtype（[GH 38741](https://github.com/pandas-dev/pandas/issues/38741)）'
- en: Bug in `DatetimeIndex.intersection()` giving incorrect results with non-Tick
    frequencies with `n != 1` ([GH 42104](https://github.com/pandas-dev/pandas/issues/42104))
  id: totrans-1529
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatetimeIndex.intersection()`中存在错误，使用非Tick频率和`n != 1`时会给出不正确的结果（[GH 42104](https://github.com/pandas-dev/pandas/issues/42104)）'
- en: Bug in [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") incorrectly casting `datetime64` values to `int64` ([GH
    37682](https://github.com/pandas-dev/pandas/issues/37682))
  id: totrans-1530
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where")中存在错误，将`datetime64`值错误地转换为`int64`（[GH 37682](https://github.com/pandas-dev/pandas/issues/37682)）'
- en: Bug in [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") incorrectly typecasting `datetime` object to `Timestamp`
    ([GH 38878](https://github.com/pandas-dev/pandas/issues/38878))
  id: totrans-1531
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")中存在错误，将`datetime`对象错误地类型转换为`Timestamp`（[GH 38878](https://github.com/pandas-dev/pandas/issues/38878)）'
- en: Bug in comparisons between [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") object and `datetime64` objects just outside the implementation
    bounds for nanosecond `datetime64` ([GH 39221](https://github.com/pandas-dev/pandas/issues/39221))
  id: totrans-1532
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与纳秒`datetime64`实现边界外的[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")对象和`datetime64`对象之间比较存在错误（[GH 39221](https://github.com/pandas-dev/pandas/issues/39221)）
- en: Bug in [`Timestamp.round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round"), [`Timestamp.floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor"), [`Timestamp.ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil") for values near the implementation bounds of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") ([GH 39244](https://github.com/pandas-dev/pandas/issues/39244))
  id: totrans-1533
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round")、[`Timestamp.floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor")、[`Timestamp.ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil")中存在错误，对接近[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")实现边界的值（[GH 39244](https://github.com/pandas-dev/pandas/issues/39244)）'
- en: Bug in [`Timedelta.round()`](../reference/api/pandas.Timedelta.round.html#pandas.Timedelta.round
    "pandas.Timedelta.round"), [`Timedelta.floor()`](../reference/api/pandas.Timedelta.floor.html#pandas.Timedelta.floor
    "pandas.Timedelta.floor"), [`Timedelta.ceil()`](../reference/api/pandas.Timedelta.ceil.html#pandas.Timedelta.ceil
    "pandas.Timedelta.ceil") for values near the implementation bounds of [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") ([GH 38964](https://github.com/pandas-dev/pandas/issues/38964))
  id: totrans-1534
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timedelta.round()`](../reference/api/pandas.Timedelta.round.html#pandas.Timedelta.round
    "pandas.Timedelta.round")、[`Timedelta.floor()`](../reference/api/pandas.Timedelta.floor.html#pandas.Timedelta.floor
    "pandas.Timedelta.floor")、[`Timedelta.ceil()`](../reference/api/pandas.Timedelta.ceil.html#pandas.Timedelta.ceil
    "pandas.Timedelta.ceil")中存在错误，对接近[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")实现边界的值（[GH 38964](https://github.com/pandas-dev/pandas/issues/38964)）'
- en: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") incorrectly creating [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") containing `NaT` instead of raising `OutOfBoundsDatetime`
    in corner cases ([GH 24124](https://github.com/pandas-dev/pandas/issues/24124))
  id: totrans-1535
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range")中存在错误，不正确地创建包含`NaT`的[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")，而不是在极端情况下引发`OutOfBoundsDatetime`（[GH 24124](https://github.com/pandas-dev/pandas/issues/24124)）'
- en: Bug in [`infer_freq()`](../reference/api/pandas.infer_freq.html#pandas.infer_freq
    "pandas.infer_freq") incorrectly fails to infer ‘H’ frequency of [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") if the latter has a timezone and crosses DST boundaries
    ([GH 39556](https://github.com/pandas-dev/pandas/issues/39556))
  id: totrans-1536
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`infer_freq()`](../reference/api/pandas.infer_freq.html#pandas.infer_freq
    "pandas.infer_freq") 错误地未能推断具有时区且跨越夏令时边界的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 的 ‘H’ 频率（[GH 39556](https://github.com/pandas-dev/pandas/issues/39556)）'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    backed by `DatetimeArray` or `TimedeltaArray` sometimes failing to set the array’s
    `freq` to `None` ([GH 41425](https://github.com/pandas-dev/pandas/issues/41425))
  id: totrans-1537
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由 `DatetimeArray` 或 `TimedeltaArray` 支持的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 有时未能将数组的 `freq` 设置为 `None`（[GH 41425](https://github.com/pandas-dev/pandas/issues/41425)）
- en: Timedelta
  id: totrans-1538
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时间增量
- en: Bug in constructing [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") from `np.timedelta64` objects with non-nanosecond units that
    are out of bounds for `timedelta64[ns]` ([GH 38965](https://github.com/pandas-dev/pandas/issues/38965))
  id: totrans-1539
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 `np.timedelta64` 对象构建 [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") 时，具有超出 `timedelta64[ns]` 范围的非纳秒单位的对象未能引发错误（[GH 38965](https://github.com/pandas-dev/pandas/issues/38965)）
- en: Bug in constructing a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") incorrectly accepting `np.datetime64("NaT")` objects
    ([GH 39462](https://github.com/pandas-dev/pandas/issues/39462))
  id: totrans-1540
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 时的错误，错误地接受了 `np.datetime64("NaT")` 对象（[GH 39462](https://github.com/pandas-dev/pandas/issues/39462)）
- en: Bug in constructing [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") from an input string with only symbols and no digits failed
    to raise an error ([GH 39710](https://github.com/pandas-dev/pandas/issues/39710))
  id: totrans-1541
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从仅包含符号而不含数字的输入字符串构建 [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") 失败未引发错误（[GH 39710](https://github.com/pandas-dev/pandas/issues/39710)）
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") and [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") failing to raise when passed non-nanosecond `timedelta64`
    arrays that overflow when converting to `timedelta64[ns]` ([GH 40008](https://github.com/pandas-dev/pandas/issues/40008))
  id: totrans-1542
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 和 [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") 未能在传递非纳秒 `timedelta64` 数组时引发错误，当转换为 `timedelta64[ns]` 时会溢出（[GH
    40008](https://github.com/pandas-dev/pandas/issues/40008)）'
- en: Timezones
  id: totrans-1543
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时区
- en: Bug in different `tzinfo` objects representing UTC not being treated as equivalent
    ([GH 39216](https://github.com/pandas-dev/pandas/issues/39216))
  id: totrans-1544
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不同的 `tzinfo` 对象表示的 UTC 不被视为等价（[GH 39216](https://github.com/pandas-dev/pandas/issues/39216)）
- en: Bug in `dateutil.tz.gettz("UTC")` not being recognized as equivalent to other
    UTC-representing tzinfos ([GH 39276](https://github.com/pandas-dev/pandas/issues/39276))
  id: totrans-1545
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dateutil.tz.gettz("UTC")` 未被识别为其他表示 UTC 的 tzinfo 的等效项（[GH 39276](https://github.com/pandas-dev/pandas/issues/39276)）'
- en: Numeric
  id: totrans-1546
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数值
- en: Bug in [`DataFrame.quantile()`](../reference/api/pandas.DataFrame.quantile.html#pandas.DataFrame.quantile
    "pandas.DataFrame.quantile"), [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") causing incorrect subsequent indexing behavior
    ([GH 38351](https://github.com/pandas-dev/pandas/issues/38351))
  id: totrans-1547
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.quantile()`](../reference/api/pandas.DataFrame.quantile.html#pandas.DataFrame.quantile
    "pandas.DataFrame.quantile") 和 [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") 中的错误导致了不正确的后续索引行为（[GH 38351](https://github.com/pandas-dev/pandas/issues/38351)）'
- en: Bug in [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") raising an [`IndexError`](https://docs.python.org/3/library/exceptions.html#IndexError
    "(in Python v3.12)") for empty `by` ([GH 40258](https://github.com/pandas-dev/pandas/issues/40258))
  id: totrans-1548
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") 中的错误，对于空的 `by` 引发了 [`IndexError`](https://docs.python.org/3/library/exceptions.html#IndexError
    "(在 Python v3.12 中)")（[GH 40258](https://github.com/pandas-dev/pandas/issues/40258)）'
- en: Bug in [`DataFrame.select_dtypes()`](../reference/api/pandas.DataFrame.select_dtypes.html#pandas.DataFrame.select_dtypes
    "pandas.DataFrame.select_dtypes") with `include=np.number` would drop numeric
    `ExtensionDtype` columns ([GH 35340](https://github.com/pandas-dev/pandas/issues/35340))
  id: totrans-1549
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `include=np.number` 时，[`DataFrame.select_dtypes()`](../reference/api/pandas.DataFrame.select_dtypes.html#pandas.DataFrame.select_dtypes
    "pandas.DataFrame.select_dtypes") 中的 Bug 会删除数值型 `ExtensionDtype` 列 ([GH 35340](https://github.com/pandas-dev/pandas/issues/35340))
- en: Bug in [`DataFrame.mode()`](../reference/api/pandas.DataFrame.mode.html#pandas.DataFrame.mode
    "pandas.DataFrame.mode") and [`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode") not keeping consistent integer [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") for empty input ([GH 33321](https://github.com/pandas-dev/pandas/issues/33321))
  id: totrans-1550
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.mode()`](../reference/api/pandas.DataFrame.mode.html#pandas.DataFrame.mode
    "pandas.DataFrame.mode") 和 [`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode") 中的 Bug 在空输入时不保持一致的整数 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") ([GH 33321](https://github.com/pandas-dev/pandas/issues/33321))'
- en: Bug in [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") when the DataFrame contained `np.inf` ([GH 32593](https://github.com/pandas-dev/pandas/issues/32593))
  id: totrans-1551
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 DataFrame 包含 `np.inf` 时，[`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank")中的 Bug ([GH 32593](https://github.com/pandas-dev/pandas/issues/32593))
- en: Bug in [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") with `axis=0` and columns holding incomparable types
    raising an `IndexError` ([GH 38932](https://github.com/pandas-dev/pandas/issues/38932))
  id: totrans-1552
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当列持有不可比较类型且 `axis=0` 时，[`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank")中的 Bug 会引发 `IndexError` ([GH 38932](https://github.com/pandas-dev/pandas/issues/38932))
- en: Bug in [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank"), [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank"), [`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank"), and [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") treating the most negative `int64` value
    as missing ([GH 32859](https://github.com/pandas-dev/pandas/issues/32859))
  id: totrans-1553
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank")、[`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank")、[`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") 和 [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") 中的 Bug 将最负的 `int64` 值视为缺失值 ([GH 32859](https://github.com/pandas-dev/pandas/issues/32859))'
- en: Bug in [`DataFrame.select_dtypes()`](../reference/api/pandas.DataFrame.select_dtypes.html#pandas.DataFrame.select_dtypes
    "pandas.DataFrame.select_dtypes") different behavior between Windows and Linux
    with `include="int"` ([GH 36596](https://github.com/pandas-dev/pandas/issues/36596))
  id: totrans-1554
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.select_dtypes()`](../reference/api/pandas.DataFrame.select_dtypes.html#pandas.DataFrame.select_dtypes
    "pandas.DataFrame.select_dtypes") 在 Windows 和 Linux 中 `include="int"` 时表现不同的 Bug
    ([GH 36596](https://github.com/pandas-dev/pandas/issues/36596))'
- en: Bug in [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") and [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg") when passed the argument `func="size"` would operate on
    the entire `DataFrame` instead of rows or columns ([GH 39934](https://github.com/pandas-dev/pandas/issues/39934))
  id: totrans-1555
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递参数 `func="size"` 时，[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") 和 [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg") 中的 Bug 会对整个 `DataFrame` 进行操作，而不是行或列 ([GH 39934](https://github.com/pandas-dev/pandas/issues/39934))
- en: Bug in [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") would raise a `SpecificationError` when passed a
    dictionary and columns were missing; will now raise a `KeyError` instead ([GH
    40004](https://github.com/pandas-dev/pandas/issues/40004))
  id: totrans-1556
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform")中的 Bug，在传递字典且缺少列时会引发 `SpecificationError`，现在会引发 `KeyError`
    ([GH 40004](https://github.com/pandas-dev/pandas/issues/40004))'
- en: Bug in [`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") and [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") giving incorrect results with `pct=True`
    and equal values between consecutive groups ([GH 40518](https://github.com/pandas-dev/pandas/issues/40518))
  id: totrans-1557
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") 和 [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") 在 `pct=True` 且连续分组之间存在相等值时给出不正确的结果的
    Bug ([GH 40518](https://github.com/pandas-dev/pandas/issues/40518))'
- en: Bug in [`Series.count()`](../reference/api/pandas.Series.count.html#pandas.Series.count
    "pandas.Series.count") would result in an `int32` result on 32-bit platforms when
    argument `level=None` ([GH 40908](https://github.com/pandas-dev/pandas/issues/40908))
  id: totrans-1558
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.count()`](../reference/api/pandas.Series.count.html#pandas.Series.count
    "pandas.Series.count") 的 Bug，在 32 位平台上当参数 `level=None` 时将导致 `int32` 结果 ([GH 40908](https://github.com/pandas-dev/pandas/issues/40908))'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    and [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    reductions with methods `any` and `all` not returning Boolean results for object
    data ([GH 12863](https://github.com/pandas-dev/pandas/issues/12863), [GH 35450](https://github.com/pandas-dev/pandas/issues/35450),
    [GH 27709](https://github.com/pandas-dev/pandas/issues/27709))
  id: totrans-1559
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    和 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    使用 `any` 和 `all` 方法进行归约时，未针对对象数据返回布尔结果的 Bug ([GH 12863](https://github.com/pandas-dev/pandas/issues/12863),
    [GH 35450](https://github.com/pandas-dev/pandas/issues/35450), [GH 27709](https://github.com/pandas-dev/pandas/issues/27709))'
- en: Bug in [`Series.clip()`](../reference/api/pandas.Series.clip.html#pandas.Series.clip
    "pandas.Series.clip") would fail if the Series contains NA values and has nullable
    int or float as a data type ([GH 40851](https://github.com/pandas-dev/pandas/issues/40851))
  id: totrans-1560
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.clip()`](../reference/api/pandas.Series.clip.html#pandas.Series.clip
    "pandas.Series.clip") 存在 Bug，如果 Series 包含 NA 值并且具有可空 int 或 float 类型的数据类型，则会失败
    ([GH 40851](https://github.com/pandas-dev/pandas/issues/40851))'
- en: Bug in `UInt64Index.where()` and `UInt64Index.putmask()` with an `np.int64`
    dtype `other` incorrectly raising `TypeError` ([GH 41974](https://github.com/pandas-dev/pandas/issues/41974))
  id: totrans-1561
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`UInt64Index.where()` 和 `UInt64Index.putmask()` 中的 Bug，如果 `other` 为 `np.int64`
    类型，则错误地引发 `TypeError` ([GH 41974](https://github.com/pandas-dev/pandas/issues/41974))'
- en: Bug in [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg") not sorting the aggregated axis in the order of the provided
    aggregation functions when one or more aggregation function fails to produce results
    ([GH 33634](https://github.com/pandas-dev/pandas/issues/33634))
  id: totrans-1562
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg") 中的 Bug，在提供的聚合函数的顺序中未对聚合的轴进行排序，当一个或多个聚合函数未能产生结果时 ([GH 33634](https://github.com/pandas-dev/pandas/issues/33634))'
- en: Bug in [`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") not interpreting missing values as no threshold ([GH
    40420](https://github.com/pandas-dev/pandas/issues/40420))
  id: totrans-1563
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") 存在 Bug，未将缺失值解释为无阈值 ([GH 40420](https://github.com/pandas-dev/pandas/issues/40420))'
- en: Conversion
  id: totrans-1564
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 转换
- en: Bug in [`Series.to_dict()`](../reference/api/pandas.Series.to_dict.html#pandas.Series.to_dict
    "pandas.Series.to_dict") with `orient='records'` now returns Python native types
    ([GH 25969](https://github.com/pandas-dev/pandas/issues/25969))
  id: totrans-1565
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.to_dict()`](../reference/api/pandas.Series.to_dict.html#pandas.Series.to_dict
    "pandas.Series.to_dict") 在 `orient=''records''` 模式下的 Bug，现在返回 Python 本机类型 ([GH
    25969](https://github.com/pandas-dev/pandas/issues/25969))'
- en: Bug in [`Series.view()`](../reference/api/pandas.Series.view.html#pandas.Series.view
    "pandas.Series.view") and [`Index.view()`](../reference/api/pandas.Index.view.html#pandas.Index.view
    "pandas.Index.view") when converting between datetime-like (`datetime64[ns]`,
    `datetime64[ns, tz]`, `timedelta64`, `period`) dtypes ([GH 39788](https://github.com/pandas-dev/pandas/issues/39788))
  id: totrans-1566
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.view()`](../reference/api/pandas.Series.view.html#pandas.Series.view
    "pandas.Series.view") 和 [`Index.view()`](../reference/api/pandas.Index.view.html#pandas.Index.view
    "pandas.Index.view") 在转换为日期时间类型（`datetime64[ns]`、`datetime64[ns, tz]`、`timedelta64`、`period`）时的
    Bug ([GH 39788](https://github.com/pandas-dev/pandas/issues/39788))'
- en: Bug in creating a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") from an empty `np.recarray` not retaining the original dtypes
    ([GH 40121](https://github.com/pandas-dev/pandas/issues/40121))
  id: totrans-1567
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从空的`np.recarray`创建[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")时，未保留原始的数据类型（[GH 40121](https://github.com/pandas-dev/pandas/issues/40121)）
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") failing to raise a `TypeError` when constructing from a `frozenset`
    ([GH 40163](https://github.com/pandas-dev/pandas/issues/40163))
  id: totrans-1568
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从`frozenset`构建[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")时，未能引发`TypeError`（[GH 40163](https://github.com/pandas-dev/pandas/issues/40163)）
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    construction silently ignoring a passed `dtype` when the data cannot be cast to
    that dtype ([GH 21311](https://github.com/pandas-dev/pandas/issues/21311))
  id: totrans-1569
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")时忽略传递的`dtype`，当数据无法转换为该dtype时会默默地忽略（[GH
    21311](https://github.com/pandas-dev/pandas/issues/21311)）
- en: Bug in `StringArray.astype()` falling back to NumPy and raising when converting
    to `dtype='categorical'` ([GH 40450](https://github.com/pandas-dev/pandas/issues/40450))
  id: totrans-1570
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在转换为`dtype='categorical'`时，`StringArray.astype()`退回到 NumPy 并在转换时引发错误（[GH 40450](https://github.com/pandas-dev/pandas/issues/40450)）
- en: Bug in [`factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize") where, when given an array with a numeric NumPy dtype lower
    than int64, uint64 and float64, the unique values did not keep their original
    dtype ([GH 41132](https://github.com/pandas-dev/pandas/issues/41132))
  id: totrans-1571
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在调用[`factorize()`](../reference/api/pandas.factorize.html#pandas.factorize "pandas.factorize")时出现的
    bug，当给定一个数值型 NumPy dtype 低于 int64、uint64 和 float64 的数组时，唯一值不保持其原始 dtype（[GH 41132](https://github.com/pandas-dev/pandas/issues/41132)）
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") construction with a dictionary containing an array-like with
    `ExtensionDtype` and `copy=True` failing to make a copy ([GH 38939](https://github.com/pandas-dev/pandas/issues/38939))
  id: totrans-1572
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用包含`ExtensionDtype`和`copy=True`的字典构建`DataFrame`时出现 bug，无法复制数组类对象（[GH 38939](https://github.com/pandas-dev/pandas/issues/38939)）
- en: Bug in [`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut "pandas.qcut")
    raising error when taking `Float64DType` as input ([GH 40730](https://github.com/pandas-dev/pandas/issues/40730))
  id: totrans-1573
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将`Float64DType`作为输入时，[`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut
    "pandas.qcut")引发错误（[GH 40730](https://github.com/pandas-dev/pandas/issues/40730)）
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") construction with `datetime64[ns]` data and `dtype=object` resulting
    in `datetime` objects instead of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") objects ([GH 41599](https://github.com/pandas-dev/pandas/issues/41599))
  id: totrans-1574
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`datetime64[ns]`数据和`dtype=object`构建[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")和[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时，结果是`datetime`对象而不是[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")对象（[GH 41599](https://github.com/pandas-dev/pandas/issues/41599)）
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") construction with `timedelta64[ns]` data and `dtype=object` resulting
    in `np.timedelta64` objects instead of [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") objects ([GH 41599](https://github.com/pandas-dev/pandas/issues/41599))
  id: totrans-1575
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`timedelta64[ns]`数据和`dtype=object`构建[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")和[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时，结果是`np.timedelta64`对象而不是[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")对象（[GH 41599](https://github.com/pandas-dev/pandas/issues/41599)）
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") construction when given a two-dimensional object-dtype `np.ndarray`
    of [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    or [`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    objects failing to cast to [`PeriodDtype`](../reference/api/pandas.PeriodDtype.html#pandas.PeriodDtype
    "pandas.PeriodDtype") or [`IntervalDtype`](../reference/api/pandas.IntervalDtype.html#pandas.IntervalDtype
    "pandas.IntervalDtype"), respectively ([GH 41812](https://github.com/pandas-dev/pandas/issues/41812))
  id: totrans-1576
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当给定二维对象数据类型为`np.ndarray`的[`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period")或[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval
    "pandas.Interval")对象时，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")构造存在错误，无法转换为[`PeriodDtype`](../reference/api/pandas.PeriodDtype.html#pandas.PeriodDtype
    "pandas.PeriodDtype")或[`IntervalDtype`](../reference/api/pandas.IntervalDtype.html#pandas.IntervalDtype
    "pandas.IntervalDtype")，分别（[GH 41812](https://github.com/pandas-dev/pandas/issues/41812)）
- en: Bug in constructing a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") from a list and a `PandasDtype` ([GH 39357](https://github.com/pandas-dev/pandas/issues/39357))
  id: totrans-1577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从列表和`PandasDtype`构造[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时存在错误（[GH 39357](https://github.com/pandas-dev/pandas/issues/39357)）
- en: Bug in creating a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") from a `range` object that does not fit in the bounds of `int64`
    dtype ([GH 30173](https://github.com/pandas-dev/pandas/issues/30173))
  id: totrans-1578
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从不适合于`int64`数据类型边界的`range`对象创建[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时存在错误（[GH 30173](https://github.com/pandas-dev/pandas/issues/30173)）
- en: Bug in creating a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") from a `dict` with all-tuple keys and an [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") that requires reindexing ([GH 41707](https://github.com/pandas-dev/pandas/issues/41707))
  id: totrans-1579
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从具有全部元组键和需要重新索引的[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")的`dict`创建[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时存在错误（[GH 41707](https://github.com/pandas-dev/pandas/issues/41707)）
- en: Bug in [`infer_dtype()`](../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype
    "pandas.api.types.infer_dtype") not recognizing Series, Index, or array with a
    Period dtype ([GH 23553](https://github.com/pandas-dev/pandas/issues/23553))
  id: totrans-1580
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`infer_dtype()`](../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype
    "pandas.api.types.infer_dtype")存在错误，无法识别Series、Index或具有Period数据类型的数组（[GH 23553](https://github.com/pandas-dev/pandas/issues/23553)）'
- en: Bug in [`infer_dtype()`](../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype
    "pandas.api.types.infer_dtype") raising an error for general [`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray") objects. It will now return `"unknown-array"`
    instead of raising ([GH 37367](https://github.com/pandas-dev/pandas/issues/37367))
  id: totrans-1581
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于一般的[`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray")对象，[`infer_dtype()`](../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype
    "pandas.api.types.infer_dtype")存在错误，会引发错误。现在将返回`"unknown-array"`而不是引发错误（[GH 37367](https://github.com/pandas-dev/pandas/issues/37367)）
- en: Bug in [`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes") incorrectly raised a `ValueError` when called
    on an empty DataFrame ([GH 40393](https://github.com/pandas-dev/pandas/issues/40393))
  id: totrans-1582
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在对空DataFrame调用[`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes")时，存在错误，错误地引发了`ValueError`（[GH 40393](https://github.com/pandas-dev/pandas/issues/40393)）
- en: Strings
  id: totrans-1583
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 字符串
- en: Bug in the conversion from `pyarrow.ChunkedArray` to [`StringArray`](../reference/api/pandas.arrays.StringArray.html#pandas.arrays.StringArray
    "pandas.arrays.StringArray") when the original had zero chunks ([GH 41040](https://github.com/pandas-dev/pandas/issues/41040))
  id: totrans-1584
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从`pyarrow.ChunkedArray`转换为[`StringArray`](../reference/api/pandas.arrays.StringArray.html#pandas.arrays.StringArray
    "pandas.arrays.StringArray")时存在错误，原始数据没有分块（[GH 41040](https://github.com/pandas-dev/pandas/issues/41040)）
- en: Bug in [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") and [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") ignoring replacements with `regex=True` for `StringDType`
    data ([GH 41333](https://github.com/pandas-dev/pandas/issues/41333), [GH 35977](https://github.com/pandas-dev/pandas/issues/35977))
  id: totrans-1585
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用`StringDType`数据时，[`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace")和[`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace")忽略了`regex=True`的替换项（[GH 41333](https://github.com/pandas-dev/pandas/issues/41333)，[GH
    35977](https://github.com/pandas-dev/pandas/issues/35977)）
- en: Bug in [`Series.str.extract()`](../reference/api/pandas.Series.str.extract.html#pandas.Series.str.extract
    "pandas.Series.str.extract") with [`StringArray`](../reference/api/pandas.arrays.StringArray.html#pandas.arrays.StringArray
    "pandas.arrays.StringArray") returning object dtype for an empty [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 41441](https://github.com/pandas-dev/pandas/issues/41441))
  id: totrans-1586
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用[`StringArray`](../reference/api/pandas.arrays.StringArray.html#pandas.arrays.StringArray
    "pandas.arrays.StringArray")时，[`Series.str.extract()`](../reference/api/pandas.Series.str.extract.html#pandas.Series.str.extract
    "pandas.Series.str.extract")存在一个错误，返回一个空[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")的对象dtype（[GH 41441](https://github.com/pandas-dev/pandas/issues/41441)）
- en: Bug in [`Series.str.replace()`](../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace
    "pandas.Series.str.replace") where the `case` argument was ignored when `regex=False`
    ([GH 41602](https://github.com/pandas-dev/pandas/issues/41602))
  id: totrans-1587
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内联代码中[`Series.str.replace()`](../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace
    "pandas.Series.str.replace")存在一个错误，当`regex=False`时，`case`参数被忽略了（[GH 41602](https://github.com/pandas-dev/pandas/issues/41602)）
- en: Interval
  id: totrans-1588
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 区间
- en: Bug in `IntervalIndex.intersection()` and `IntervalIndex.symmetric_difference()`
    always returning object-dtype when operating with [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") ([GH 38653](https://github.com/pandas-dev/pandas/issues/38653),
    [GH 38741](https://github.com/pandas-dev/pandas/issues/38741))
  id: totrans-1589
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当与[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")一起操作时，`IntervalIndex.intersection()`和`IntervalIndex.symmetric_difference()`始终返回对象dtype（[GH
    38653](https://github.com/pandas-dev/pandas/issues/38653)，[GH 38741](https://github.com/pandas-dev/pandas/issues/38741)）
- en: Bug in `IntervalIndex.intersection()` returning duplicates when at least one
    of the [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    objects have duplicates which are present in the other ([GH 38743](https://github.com/pandas-dev/pandas/issues/38743))
  id: totrans-1590
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当至少一个[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")对象中存在其他对象中存在的重复项时，`IntervalIndex.intersection()`返回重复项（[GH
    38743](https://github.com/pandas-dev/pandas/issues/38743)）
- en: '`IntervalIndex.union()`, `IntervalIndex.intersection()`, `IntervalIndex.difference()`,
    and `IntervalIndex.symmetric_difference()` now cast to the appropriate dtype instead
    of raising a `TypeError` when operating with another [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") with incompatible dtype ([GH 39267](https://github.com/pandas-dev/pandas/issues/39267))'
  id: totrans-1591
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当与其他不兼容dtype的[`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex")一起操作时，`IntervalIndex.union()`、`IntervalIndex.intersection()`、`IntervalIndex.difference()`和`IntervalIndex.symmetric_difference()`现在会转换为适当的dtype而不是引发`TypeError`（[GH
    39267](https://github.com/pandas-dev/pandas/issues/39267)）
- en: '`PeriodIndex.union()`, `PeriodIndex.intersection()`, `PeriodIndex.symmetric_difference()`,
    `PeriodIndex.difference()` now cast to object dtype instead of raising `IncompatibleFrequency`
    when operating with another [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") with incompatible dtype ([GH 39306](https://github.com/pandas-dev/pandas/issues/39306))'
  id: totrans-1592
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当与其他不兼容dtype的[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")一起操作时，`PeriodIndex.union()`、`PeriodIndex.intersection()`、`PeriodIndex.symmetric_difference()`和`PeriodIndex.difference()`现在会转换为对象dtype而不是引发`IncompatibleFrequency`（[GH
    39306](https://github.com/pandas-dev/pandas/issues/39306)）
- en: Bug in `IntervalIndex.is_monotonic()`, [`IntervalIndex.get_loc()`](../reference/api/pandas.IntervalIndex.get_loc.html#pandas.IntervalIndex.get_loc
    "pandas.IntervalIndex.get_loc"), `IntervalIndex.get_indexer_for()`, and `IntervalIndex.__contains__()`
    when NA values are present ([GH 41831](https://github.com/pandas-dev/pandas/issues/41831))
  id: totrans-1593
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当存在NA值时，`IntervalIndex.is_monotonic()`、[`IntervalIndex.get_loc()`](../reference/api/pandas.IntervalIndex.get_loc.html#pandas.IntervalIndex.get_loc
    "pandas.IntervalIndex.get_loc")、`IntervalIndex.get_indexer_for()`和`IntervalIndex.__contains__()`存在一个错误（[GH
    41831](https://github.com/pandas-dev/pandas/issues/41831)）
- en: Indexing
  id: totrans-1594
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 索引
- en: Bug in [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") and `MultiIndex.union()` dropping duplicate `Index` values
    when `Index` was not monotonic or `sort` was set to `False` ([GH 36289](https://github.com/pandas-dev/pandas/issues/36289),
    [GH 31326](https://github.com/pandas-dev/pandas/issues/31326), [GH 40862](https://github.com/pandas-dev/pandas/issues/40862))
  id: totrans-1595
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") 和 `MultiIndex.union()` 中的错误，在`Index`不是单调的或`sort`设置为`False`时，删除重复的`Index`值
    ([GH 36289](https://github.com/pandas-dev/pandas/issues/36289), [GH 31326](https://github.com/pandas-dev/pandas/issues/31326),
    [GH 40862](https://github.com/pandas-dev/pandas/issues/40862))'
- en: Bug in `CategoricalIndex.get_indexer()` failing to raise `InvalidIndexError`
    when non-unique ([GH 38372](https://github.com/pandas-dev/pandas/issues/38372))
  id: totrans-1596
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`CategoricalIndex.get_indexer()`中的错误，当非唯一时未能引发`InvalidIndexError`（[GH 38372](https://github.com/pandas-dev/pandas/issues/38372))
- en: Bug in [`IntervalIndex.get_indexer()`](../reference/api/pandas.IntervalIndex.get_indexer.html#pandas.IntervalIndex.get_indexer
    "pandas.IntervalIndex.get_indexer") when `target` has `CategoricalDtype` and both
    the index and the target contain NA values ([GH 41934](https://github.com/pandas-dev/pandas/issues/41934))
  id: totrans-1597
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`IntervalIndex.get_indexer()`](../reference/api/pandas.IntervalIndex.get_indexer.html#pandas.IntervalIndex.get_indexer
    "pandas.IntervalIndex.get_indexer")中的错误，当`target`具有`CategoricalDtype`并且索引和目标都包含NA值时
    ([GH 41934](https://github.com/pandas-dev/pandas/issues/41934))
- en: Bug in [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") raising a `ValueError` when input was filtered with a Boolean
    list and values to set were a list with lower dimension ([GH 20438](https://github.com/pandas-dev/pandas/issues/20438))
  id: totrans-1598
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") 中的错误，在使用布尔列表进行筛选并且要设置的值为较低维度的列表时，引发`ValueError`（[GH 20438](https://github.com/pandas-dev/pandas/issues/20438))'
- en: Bug in inserting many new columns into a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") causing incorrect subsequent indexing behavior ([GH 38380](https://github.com/pandas-dev/pandas/issues/38380))
  id: totrans-1599
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在向[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")中插入许多新列时引发的错误，导致后续索引行为不正确（[GH
    38380](https://github.com/pandas-dev/pandas/issues/38380))
- en: Bug in `DataFrame.__setitem__()` raising a `ValueError` when setting multiple
    values to duplicate columns ([GH 15695](https://github.com/pandas-dev/pandas/issues/15695))
  id: totrans-1600
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrame.__setitem__()` 中的错误，在将多个值设置为重复列时引发`ValueError`（[GH 15695](https://github.com/pandas-dev/pandas/issues/15695))
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc"), [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc"), `DataFrame.__getitem__()` and `Series.__getitem__()` returning
    incorrect elements for non-monotonic [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") for string slices ([GH 33146](https://github.com/pandas-dev/pandas/issues/33146))
  id: totrans-1601
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc")、[`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc")、`DataFrame.__getitem__()`和`Series.__getitem__()` 中的错误，对于非单调的
    [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 的字符串切片，返回不正确的元素 ([GH 33146](https://github.com/pandas-dev/pandas/issues/33146))'
- en: Bug in [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") and [`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex") with timezone aware indexes raising a `TypeError` for
    `method="ffill"` and `method="bfill"` and specified `tolerance` ([GH 38566](https://github.com/pandas-dev/pandas/issues/38566))
  id: totrans-1602
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") 和 [`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex") 在具有时区感知索引时，对于`method="ffill"`和`method="bfill"`以及指定的`tolerance`引发`TypeError`（[GH
    38566](https://github.com/pandas-dev/pandas/issues/38566))'
- en: Bug in [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") with `datetime64[ns]` or `timedelta64[ns]` incorrectly
    casting to integers when the `fill_value` requires casting to object dtype ([GH
    39755](https://github.com/pandas-dev/pandas/issues/39755))
  id: totrans-1603
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") 中的错误，当`fill_value`需要转换为对象dtype时，`datetime64[ns]`或`timedelta64[ns]`不正确地转换为整数时
    ([GH 39755](https://github.com/pandas-dev/pandas/issues/39755))'
- en: Bug in `DataFrame.__setitem__()` raising a `ValueError` when setting on an empty
    [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    using specified columns and a nonempty [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") value ([GH 38831](https://github.com/pandas-dev/pandas/issues/38831))
  id: totrans-1604
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用指定列和非空 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 值在空 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 上设置时，`DataFrame.__setitem__()` 存在错误，会引发 `ValueError`（[GH 38831](https://github.com/pandas-dev/pandas/issues/38831)）
- en: Bug in `DataFrame.loc.__setitem__()` raising a `ValueError` when operating on
    a unique column when the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") has duplicate columns ([GH 38521](https://github.com/pandas-dev/pandas/issues/38521))
  id: totrans-1605
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在具有重复列的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 上操作唯一列时，`DataFrame.loc.__setitem__()` 存在错误，会引发 `ValueError`（[GH
    38521](https://github.com/pandas-dev/pandas/issues/38521)）
- en: Bug in `DataFrame.iloc.__setitem__()` and `DataFrame.loc.__setitem__()` with
    mixed dtypes when setting with a dictionary value ([GH 38335](https://github.com/pandas-dev/pandas/issues/38335))
  id: totrans-1606
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当设置为字典值时，混合类型存在错误，`DataFrame.iloc.__setitem__()` 和 `DataFrame.loc.__setitem__()`
    存在错误（[GH 38335](https://github.com/pandas-dev/pandas/issues/38335)）
- en: Bug in `Series.loc.__setitem__()` and `DataFrame.loc.__setitem__()` raising
    `KeyError` when provided a Boolean generator ([GH 39614](https://github.com/pandas-dev/pandas/issues/39614))
  id: totrans-1607
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当提供布尔生成器时，`Series.loc.__setitem__()` 和 `DataFrame.loc.__setitem__()` 存在错误，会引发
    `KeyError`（[GH 39614](https://github.com/pandas-dev/pandas/issues/39614)）
- en: Bug in [`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") and [`DataFrame.iloc()`](../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc
    "pandas.DataFrame.iloc") raising a `KeyError` when provided a generator ([GH 39614](https://github.com/pandas-dev/pandas/issues/39614))
  id: totrans-1608
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当提供生成器时，[`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") 和 [`DataFrame.iloc()`](../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc
    "pandas.DataFrame.iloc") 存在错误，会引发 `KeyError`（[GH 39614](https://github.com/pandas-dev/pandas/issues/39614)）
- en: Bug in `DataFrame.__setitem__()` not raising a `ValueError` when the right hand
    side is a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with wrong number of columns ([GH 38604](https://github.com/pandas-dev/pandas/issues/38604))
  id: totrans-1609
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当右侧是列数不匹配的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 时，`DataFrame.__setitem__()` 不会引发 `ValueError`（[GH 38604](https://github.com/pandas-dev/pandas/issues/38604)）
- en: Bug in `Series.__setitem__()` raising a `ValueError` when setting a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with a scalar indexer ([GH 38303](https://github.com/pandas-dev/pandas/issues/38303))
  id: totrans-1610
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用标量索引器设置 [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    时，`Series.__setitem__()` 存在错误，会引发 `ValueError`（[GH 38303](https://github.com/pandas-dev/pandas/issues/38303)）
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") dropping levels of a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") when the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") used as input has only one row ([GH 10521](https://github.com/pandas-dev/pandas/issues/10521))
  id: totrans-1611
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当输入的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    只有一行时，[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 中存在错误，会降低 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 的级别（[GH 10521](https://github.com/pandas-dev/pandas/issues/10521)）
- en: Bug in `DataFrame.__getitem__()` and `Series.__getitem__()` always raising `KeyError`
    when slicing with existing strings where the [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") has milliseconds ([GH 33589](https://github.com/pandas-dev/pandas/issues/33589))
  id: totrans-1612
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当切片存在现有字符串时，`DataFrame.__getitem__()` 和 `Series.__getitem__()` 总是会引发 `KeyError`，其中
    [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") 具有毫秒数（[GH
    33589](https://github.com/pandas-dev/pandas/issues/33589)）
- en: Bug in setting `timedelta64` or `datetime64` values into numeric [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") failing to cast to object dtype ([GH 39086](https://github.com/pandas-dev/pandas/issues/39086),
    [GH 39619](https://github.com/pandas-dev/pandas/issues/39619))
  id: totrans-1613
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当将 `timedelta64` 或 `datetime64` 值设置为数值 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 失败时，存在错误，无法转换为对象 dtype（[GH 39086](https://github.com/pandas-dev/pandas/issues/39086),
    [GH 39619](https://github.com/pandas-dev/pandas/issues/39619)）
- en: Bug in setting [`Interval`](../reference/api/pandas.Interval.html#pandas.Interval
    "pandas.Interval") values into a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with mismatched [`IntervalDtype`](../reference/api/pandas.IntervalDtype.html#pandas.IntervalDtype
    "pandas.IntervalDtype") incorrectly casting the new values to the existing dtype
    ([GH 39120](https://github.com/pandas-dev/pandas/issues/39120))
  id: totrans-1614
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将 [`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    值设置到具有不匹配的 [`IntervalDtype`](../reference/api/pandas.IntervalDtype.html#pandas.IntervalDtype
    "pandas.IntervalDtype") 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 中时出现 Bug，错误地将新值转换为现有 dtype ([GH 39120](https://github.com/pandas-dev/pandas/issues/39120))
- en: Bug in setting `datetime64` values into a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with integer-dtype incorrectly casting the datetime64 values
    to integers ([GH 39266](https://github.com/pandas-dev/pandas/issues/39266))
  id: totrans-1615
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 `datetime64` 值设置到具有整数 dtype 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 中时出现 Bug，错误地将 datetime64 值转换为整数 ([GH 39266](https://github.com/pandas-dev/pandas/issues/39266))
- en: Bug in setting `np.datetime64("NaT")` into a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `Datetime64TZDtype` incorrectly treating the timezone-naive
    value as timezone-aware ([GH 39769](https://github.com/pandas-dev/pandas/issues/39769))
  id: totrans-1616
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当将 `np.datetime64("NaT")` 设置到具有 `Datetime64TZDtype` 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 中时出现 Bug，错误地将时区无关值视为时区感知值 ([GH 39769](https://github.com/pandas-dev/pandas/issues/39769))
- en: Bug in [`Index.get_loc()`](../reference/api/pandas.Index.get_loc.html#pandas.Index.get_loc
    "pandas.Index.get_loc") not raising `KeyError` when `key=NaN` and `method` is
    specified but `NaN` is not in the [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") ([GH 39382](https://github.com/pandas-dev/pandas/issues/39382))
  id: totrans-1617
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.get_loc()`](../reference/api/pandas.Index.get_loc.html#pandas.Index.get_loc
    "pandas.Index.get_loc") 中的 Bug 在指定 `key=NaN` 且指定了 `method` 但 `NaN` 不在 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 中时未引发 `KeyError` ([GH 39382](https://github.com/pandas-dev/pandas/issues/39382))'
- en: Bug in `DatetimeIndex.insert()` when inserting `np.datetime64("NaT")` into a
    timezone-aware index incorrectly treating the timezone-naive value as timezone-aware
    ([GH 39769](https://github.com/pandas-dev/pandas/issues/39769))
  id: totrans-1618
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将 `np.datetime64("NaT")` 插入到时区感知索引时，[`DatetimeIndex.insert()`](../reference/api/pandas.DatetimeIndex.insert.html#pandas.DatetimeIndex.insert
    "pandas.DatetimeIndex.insert") 出现 Bug，错误地将时区无关值视为时区感知值 ([GH 39769](https://github.com/pandas-dev/pandas/issues/39769))
- en: Bug in incorrectly raising in [`Index.insert()`](../reference/api/pandas.Index.insert.html#pandas.Index.insert
    "pandas.Index.insert"), when setting a new column that cannot be held in the existing
    `frame.columns`, or in [`Series.reset_index()`](../reference/api/pandas.Series.reset_index.html#pandas.Series.reset_index
    "pandas.Series.reset_index") or [`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") instead of casting to a compatible dtype ([GH
    39068](https://github.com/pandas-dev/pandas/issues/39068))
  id: totrans-1619
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Index.insert()`](../reference/api/pandas.Index.insert.html#pandas.Index.insert
    "pandas.Index.insert") 中错误地引发异常，当设置一个无法容纳在现有 `frame.columns` 中的新列，或者在 [`Series.reset_index()`](../reference/api/pandas.Series.reset_index.html#pandas.Series.reset_index
    "pandas.Series.reset_index") 或 [`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") 中而不是将其转换为兼容的 dtype 时 ([GH 39068](https://github.com/pandas-dev/pandas/issues/39068))
- en: Bug in `RangeIndex.append()` where a single object of length 1 was concatenated
    incorrectly ([GH 39401](https://github.com/pandas-dev/pandas/issues/39401))
  id: totrans-1620
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RangeIndex.append()` 中的 Bug 在将长度为 1 的单个对象错误地拼接在一起时出现错误 ([GH 39401](https://github.com/pandas-dev/pandas/issues/39401))'
- en: Bug in `RangeIndex.astype()` where when converting to [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex"), the categories became a `Int64Index` instead of a
    [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex "pandas.RangeIndex")
    ([GH 41263](https://github.com/pandas-dev/pandas/issues/41263))
  id: totrans-1621
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `RangeIndex.astype()` 中的 Bug 在转换为 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 时，类别变成了 `Int64Index` 而不是 [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex
    "pandas.RangeIndex") ([GH 41263](https://github.com/pandas-dev/pandas/issues/41263))
- en: Bug in setting `numpy.timedelta64` values into an object-dtype [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") using a Boolean indexer ([GH 39488](https://github.com/pandas-dev/pandas/issues/39488))
  id: totrans-1622
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用布尔索引器时，将 `numpy.timedelta64` 值设置到对象 dtype 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 中出现 Bug ([GH 39488](https://github.com/pandas-dev/pandas/issues/39488))
- en: Bug in setting numeric values into a into a boolean-dtypes [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") using `at` or `iat` failing to cast to object-dtype ([GH 39582](https://github.com/pandas-dev/pandas/issues/39582))
  id: totrans-1623
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `at` 或 `iat` 将数值设置为布尔类型 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 时失败将其转换为对象类型的 Bug（[GH 39582](https://github.com/pandas-dev/pandas/issues/39582))
- en: Bug in `DataFrame.__setitem__()` and `DataFrame.iloc.__setitem__()` raising
    `ValueError` when trying to index with a row-slice and setting a list as values
    ([GH 40440](https://github.com/pandas-dev/pandas/issues/40440))
  id: totrans-1624
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当尝试用列表设置行片段的值时，`DataFrame.__setitem__()` 和 `DataFrame.iloc.__setitem__()` 引发
    `ValueError` 的 Bug（[GH 40440](https://github.com/pandas-dev/pandas/issues/40440))
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") not raising `KeyError` when the key was not found in [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") and the levels were not fully specified ([GH 41170](https://github.com/pandas-dev/pandas/issues/41170))
  id: totrans-1625
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 中，当在 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 中未找到键且级别未完全指定时未引发 `KeyError` 的 Bug（[GH 41170](https://github.com/pandas-dev/pandas/issues/41170))
- en: Bug in `DataFrame.loc.__setitem__()` when setting-with-expansion incorrectly
    raising when the index in the expanding axis contained duplicates ([GH 40096](https://github.com/pandas-dev/pandas/issues/40096))
  id: totrans-1626
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在扩展轴的索引中存在重复时，设置扩展时 `DataFrame.loc.__setitem__()` 错误地引发异常的 Bug（[GH 40096](https://github.com/pandas-dev/pandas/issues/40096))
- en: Bug in `DataFrame.loc.__getitem__()` with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") casting to float when at least one index column has float
    dtype and we retrieve a scalar ([GH 41369](https://github.com/pandas-dev/pandas/issues/41369))
  id: totrans-1627
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当至少一个索引列具有浮点数类型并且我们检索标量时，带有 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 的 `DataFrame.loc.__getitem__()` 错误地转换为浮点数的 Bug（[GH 41369](https://github.com/pandas-dev/pandas/issues/41369))
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") incorrectly matching non-Boolean index elements ([GH 20432](https://github.com/pandas-dev/pandas/issues/20432))
  id: totrans-1628
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 中的 Bug 错误地匹配了非布尔索引元素（[GH 20432](https://github.com/pandas-dev/pandas/issues/20432))'
- en: Bug in indexing with `np.nan` on a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") incorrectly raising `KeyError` when `np.nan` keys are
    present ([GH 41933](https://github.com/pandas-dev/pandas/issues/41933))
  id: totrans-1629
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在带有 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 上使用 `np.nan` 进行索引时错误地引发 `KeyError` 的 Bug（[GH 41933](https://github.com/pandas-dev/pandas/issues/41933))
- en: Bug in `Series.__delitem__()` with `ExtensionDtype` incorrectly casting to `ndarray`
    ([GH 40386](https://github.com/pandas-dev/pandas/issues/40386))
  id: totrans-1630
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 带有 `ExtensionDtype` 的 `Series.__delitem__()` 错误地转换为 `ndarray` 的 Bug（[GH 40386](https://github.com/pandas-dev/pandas/issues/40386))
- en: Bug in [`DataFrame.at()`](../reference/api/pandas.DataFrame.at.html#pandas.DataFrame.at
    "pandas.DataFrame.at") with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") returning incorrect results when passed integer keys
    ([GH 41846](https://github.com/pandas-dev/pandas/issues/41846))
  id: totrans-1631
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在带有 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 的 `DataFrame.at()` 中，当传递整数键时返回错误结果的 Bug（[GH 41846](https://github.com/pandas-dev/pandas/issues/41846))
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") returning a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") in the wrong order if an indexer has duplicates ([GH 40978](https://github.com/pandas-dev/pandas/issues/40978))
  id: totrans-1632
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 中如果索引器存在重复，返回的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 顺序错误的 Bug（[GH 40978](https://github.com/pandas-dev/pandas/issues/40978))
- en: Bug in `DataFrame.__setitem__()` raising a `TypeError` when using a `str` subclass
    as the column name with a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 37366](https://github.com/pandas-dev/pandas/issues/37366))
  id: totrans-1633
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")时，`DataFrame.__setitem__()`引发`TypeError`，使用`str`子类作为列名（[GH
    37366](https://github.com/pandas-dev/pandas/issues/37366))
- en: Bug in `PeriodIndex.get_loc()` failing to raise a `KeyError` when given a [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") with a mismatched `freq` ([GH 41670](https://github.com/pandas-dev/pandas/issues/41670))
  id: totrans-1634
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在给定不匹配的`freq`的[`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")时，`PeriodIndex.get_loc()`未能引发`KeyError`的错误（[GH
    41670](https://github.com/pandas-dev/pandas/issues/41670))
- en: Bug `.loc.__getitem__` with a `UInt64Index` and negative-integer keys raising
    `OverflowError` instead of `KeyError` in some cases, wrapping around to positive
    integers in others ([GH 41777](https://github.com/pandas-dev/pandas/issues/41777))
  id: totrans-1635
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`UInt64Index`和负整数键时，`Bug .loc.__getitem__`有时引发`OverflowError`而不是`KeyError`，在其他情况下，转换为正整数（[GH
    41777](https://github.com/pandas-dev/pandas/issues/41777))
- en: Bug in [`Index.get_indexer()`](../reference/api/pandas.Index.get_indexer.html#pandas.Index.get_indexer
    "pandas.Index.get_indexer") failing to raise `ValueError` in some cases with invalid
    `method`, `limit`, or `tolerance` arguments ([GH 41918](https://github.com/pandas-dev/pandas/issues/41918))
  id: totrans-1636
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.get_indexer()`](../reference/api/pandas.Index.get_indexer.html#pandas.Index.get_indexer
    "pandas.Index.get_indexer")中的错误，在某些情况下，使用无效的`method`、`limit`或`tolerance`参数时未能引发`ValueError`（[GH
    41918](https://github.com/pandas-dev/pandas/issues/41918))'
- en: Bug when slicing a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") when passing an invalid string raising `ValueError` instead
    of a `TypeError` ([GH 41821](https://github.com/pandas-dev/pandas/issues/41821))
  id: totrans-1637
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 切片[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")或[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")时出现错误，当传递无效字符串时引发`ValueError`而不是`TypeError`（[GH 41821](https://github.com/pandas-dev/pandas/issues/41821))
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    constructor sometimes silently ignoring a specified `dtype` ([GH 38879](https://github.com/pandas-dev/pandas/issues/38879))
  id: totrans-1638
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")构造函数中的错误，有时会悄悄地忽略指定的`dtype`（[GH
    38879](https://github.com/pandas-dev/pandas/issues/38879))
- en: '[`Index.where()`](../reference/api/pandas.Index.where.html#pandas.Index.where
    "pandas.Index.where") behavior now mirrors [`Index.putmask()`](../reference/api/pandas.Index.putmask.html#pandas.Index.putmask
    "pandas.Index.putmask") behavior, i.e. `index.where(mask, other)` matches `index.putmask(~mask,
    other)` ([GH 39412](https://github.com/pandas-dev/pandas/issues/39412))'
  id: totrans-1639
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.where()`](../reference/api/pandas.Index.where.html#pandas.Index.where
    "pandas.Index.where")现在的行为与[`Index.putmask()`](../reference/api/pandas.Index.putmask.html#pandas.Index.putmask
    "pandas.Index.putmask")的行为相匹配，即`index.where(mask, other)`匹配`index.putmask(~mask,
    other)`（[GH 39412](https://github.com/pandas-dev/pandas/issues/39412))'
- en: Missing
  id: totrans-1640
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 缺失
- en: Bug in [`Grouper`](../reference/api/pandas.Grouper.html#pandas.Grouper "pandas.Grouper")
    did not correctly propagate the `dropna` argument; [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") now correctly handles missing
    values for `dropna=True` ([GH 35612](https://github.com/pandas-dev/pandas/issues/35612))
  id: totrans-1641
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Grouper`](../reference/api/pandas.Grouper.html#pandas.Grouper "pandas.Grouper")中的错误未能正确传播`dropna`参数；[`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform")现在可以正确处理`dropna=True`的缺失值（[GH
    35612](https://github.com/pandas-dev/pandas/issues/35612))'
- en: Bug in [`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna"),
    [`Series.isna()`](../reference/api/pandas.Series.isna.html#pandas.Series.isna
    "pandas.Series.isna"), [`Index.isna()`](../reference/api/pandas.Index.isna.html#pandas.Index.isna
    "pandas.Index.isna"), [`DataFrame.isna()`](../reference/api/pandas.DataFrame.isna.html#pandas.DataFrame.isna
    "pandas.DataFrame.isna"), and the corresponding `notna` functions not recognizing
    `Decimal("NaN")` objects ([GH 39409](https://github.com/pandas-dev/pandas/issues/39409))
  id: totrans-1642
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna")、[`Series.isna()`](../reference/api/pandas.Series.isna.html#pandas.Series.isna
    "pandas.Series.isna")、[`Index.isna()`](../reference/api/pandas.Index.isna.html#pandas.Index.isna
    "pandas.Index.isna")、[`DataFrame.isna()`](../reference/api/pandas.DataFrame.isna.html#pandas.DataFrame.isna
    "pandas.DataFrame.isna") 和相应的 `notna` 函数无法识别 `Decimal("NaN")` 对象（[GH 39409](https://github.com/pandas-dev/pandas/issues/39409)）
- en: Bug in [`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") not accepting a dictionary for the `downcast` keyword
    ([GH 40809](https://github.com/pandas-dev/pandas/issues/40809))
  id: totrans-1643
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") 不接受字典作为 `downcast` 关键字参数（[GH 40809](https://github.com/pandas-dev/pandas/issues/40809)）
- en: Bug in [`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna")
    not returning a copy of the mask for nullable types, causing any subsequent mask
    modification to change the original array ([GH 40935](https://github.com/pandas-dev/pandas/issues/40935))
  id: totrans-1644
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna")
    没有为可空类型返回掩码的副本，导致任何后续的掩码修改都会改变原始数组（[GH 40935](https://github.com/pandas-dev/pandas/issues/40935)）
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") construction with float data containing `NaN` and an integer
    `dtype` casting instead of retaining the `NaN` ([GH 26919](https://github.com/pandas-dev/pandas/issues/26919))
  id: totrans-1645
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 使用包含 `NaN` 和整数 `dtype` 的浮点数据构造时，会进行强制转换而不是保留 `NaN`（[GH 26919](https://github.com/pandas-dev/pandas/issues/26919)）
- en: Bug in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") and `MultiIndex.isin()` didn’t treat all nans as equivalent
    if they were in tuples ([GH 41836](https://github.com/pandas-dev/pandas/issues/41836))
  id: totrans-1646
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") 和 `MultiIndex.isin()` 中的错误，如果它们在元组中，则没有将所有的 `NaN` 视为等效的（[GH
    41836](https://github.com/pandas-dev/pandas/issues/41836)）
- en: MultiIndex
  id: totrans-1647
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: MultiIndex
- en: Bug in [`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop") raising a `TypeError` when the [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") is non-unique and `level` is not provided ([GH 36293](https://github.com/pandas-dev/pandas/issues/36293))
  id: totrans-1648
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop") 当 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 是非唯一的且未提供 `level` 时引发 `TypeError`（[GH 36293](https://github.com/pandas-dev/pandas/issues/36293)）
- en: Bug in `MultiIndex.intersection()` duplicating `NaN` in the result ([GH 38623](https://github.com/pandas-dev/pandas/issues/38623))
  id: totrans-1649
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `MultiIndex.intersection()` 在结果中重复 `NaN`（[GH 38623](https://github.com/pandas-dev/pandas/issues/38623)）
- en: Bug in `MultiIndex.equals()` incorrectly returning `True` when the [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") contained `NaN` even when they are differently ordered ([GH
    38439](https://github.com/pandas-dev/pandas/issues/38439))
  id: totrans-1650
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `MultiIndex.equals()` 在 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 包含 `NaN` 时错误地返回 `True`，即使它们的顺序不同（[GH 38439](https://github.com/pandas-dev/pandas/issues/38439)）
- en: Bug in `MultiIndex.intersection()` always returning an empty result when intersecting
    with [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") ([GH 38653](https://github.com/pandas-dev/pandas/issues/38653))
  id: totrans-1651
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `MultiIndex.intersection()` 与 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 相交时总是返回空结果（[GH 38653](https://github.com/pandas-dev/pandas/issues/38653)）
- en: Bug in `MultiIndex.difference()` incorrectly raising `TypeError` when indexes
    contain non-sortable entries ([GH 41915](https://github.com/pandas-dev/pandas/issues/41915))
  id: totrans-1652
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `MultiIndex.difference()` 在索引包含不可排序条目时错误地引发 `TypeError`（[GH 41915](https://github.com/pandas-dev/pandas/issues/41915)）
- en: Bug in `MultiIndex.reindex()` raising a `ValueError` when used on an empty [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") and indexing only a specific level ([GH 41170](https://github.com/pandas-dev/pandas/issues/41170))
  id: totrans-1653
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在空[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")上使用`MultiIndex.reindex()`时，仅对特定级别进行索引时引发`ValueError`（[GH
    41170](https://github.com/pandas-dev/pandas/issues/41170))
- en: Bug in `MultiIndex.reindex()` raising `TypeError` when reindexing against a
    flat [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    ([GH 41707](https://github.com/pandas-dev/pandas/issues/41707))
  id: totrans-1654
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在重新索引`MultiIndex`时，当针对一个平坦的[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")进行重新索引时引发`TypeError`（[GH 41707](https://github.com/pandas-dev/pandas/issues/41707))
- en: I/O
  id: totrans-1655
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: I/O
- en: Bug in `Index.__repr__()` when `display.max_seq_items=1` ([GH 38415](https://github.com/pandas-dev/pandas/issues/38415))
  id: totrans-1656
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`display.max_seq_items=1`时，`Index.__repr__()`存在bug（[GH 38415](https://github.com/pandas-dev/pandas/issues/38415))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") not recognizing scientific notation if the argument `decimal`
    is set and `engine="python"` ([GH 31920](https://github.com/pandas-dev/pandas/issues/31920))
  id: totrans-1657
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 在设置参数`decimal`并且`engine="python"`时，无法识别科学计数法（[GH 31920](https://github.com/pandas-dev/pandas/issues/31920))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") interpreting `NA` value as comment, when `NA` does contain
    the comment string fixed for `engine="python"` ([GH 34002](https://github.com/pandas-dev/pandas/issues/34002))
  id: totrans-1658
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 将`NA`值解释为注释时，当`NA`包含注释字符串时，针对`engine="python"`进行修复（[GH 34002](https://github.com/pandas-dev/pandas/issues/34002))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") raising an `IndexError` with multiple header columns and `index_col`
    is specified when the file has no data rows ([GH 38292](https://github.com/pandas-dev/pandas/issues/38292))
  id: totrans-1659
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 在指定了多个标题列和`index_col`的情况下引发`IndexError`，但文件没有数据行（[GH 38292](https://github.com/pandas-dev/pandas/issues/38292))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") not accepting `usecols` with a different length than `names`
    for `engine="python"` ([GH 16469](https://github.com/pandas-dev/pandas/issues/16469))
  id: totrans-1660
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 在`engine="python"`中不接受`usecols`与`names`长度不同的情况（[GH 16469](https://github.com/pandas-dev/pandas/issues/16469))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") returning object dtype when `delimiter=","` with `usecols`
    and `parse_dates` specified for `engine="python"` ([GH 35873](https://github.com/pandas-dev/pandas/issues/35873))
  id: totrans-1661
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 在`delimiter=","`时返回对象dtype，同时为`engine="python"`指定了`usecols`和`parse_dates`（[GH
    35873](https://github.com/pandas-dev/pandas/issues/35873))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") raising a `TypeError` when `names` and `parse_dates` is specified
    for `engine="c"` ([GH 33699](https://github.com/pandas-dev/pandas/issues/33699))
  id: totrans-1662
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 在为`engine="c"`指定`names`和`parse_dates`时引发`TypeError`（[GH 33699](https://github.com/pandas-dev/pandas/issues/33699))
- en: Bug in [`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") and [`DataFrame.to_clipboard()`](../reference/api/pandas.DataFrame.to_clipboard.html#pandas.DataFrame.to_clipboard
    "pandas.DataFrame.to_clipboard") not working in WSL ([GH 38527](https://github.com/pandas-dev/pandas/issues/38527))
  id: totrans-1663
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard")和[`DataFrame.to_clipboard()`](../reference/api/pandas.DataFrame.to_clipboard.html#pandas.DataFrame.to_clipboard
    "pandas.DataFrame.to_clipboard") 在WSL中无法工作（[GH 38527](https://github.com/pandas-dev/pandas/issues/38527))
- en: Allow custom error values for the `parse_dates` argument of [`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql
    "pandas.read_sql"), [`read_sql_query()`](../reference/api/pandas.read_sql_query.html#pandas.read_sql_query
    "pandas.read_sql_query") and [`read_sql_table()`](../reference/api/pandas.read_sql_table.html#pandas.read_sql_table
    "pandas.read_sql_table") ([GH 35185](https://github.com/pandas-dev/pandas/issues/35185))
  id: totrans-1664
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许为[`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql "pandas.read_sql")、[`read_sql_query()`](../reference/api/pandas.read_sql_query.html#pandas.read_sql_query
    "pandas.read_sql_query")和[`read_sql_table()`](../reference/api/pandas.read_sql_table.html#pandas.read_sql_table
    "pandas.read_sql_table")的`parse_dates`参数设置自定义错误值（[GH 35185](https://github.com/pandas-dev/pandas/issues/35185))
- en: Bug in [`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf") and [`Series.to_hdf()`](../reference/api/pandas.Series.to_hdf.html#pandas.Series.to_hdf
    "pandas.Series.to_hdf") raising a `KeyError` when trying to apply for subclasses
    of `DataFrame` or `Series` ([GH 33748](https://github.com/pandas-dev/pandas/issues/33748))
  id: totrans-1665
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf") 和 [`Series.to_hdf()`](../reference/api/pandas.Series.to_hdf.html#pandas.Series.to_hdf
    "pandas.Series.to_hdf") 在尝试应用于 `DataFrame` 或 `Series` 的子类时引发 `KeyError`（[GH 33748](https://github.com/pandas-dev/pandas/issues/33748))
- en: Bug in [`HDFStore.put()`](../reference/api/pandas.HDFStore.put.html#pandas.HDFStore.put
    "pandas.HDFStore.put") raising a wrong `TypeError` when saving a DataFrame with
    non-string dtype ([GH 34274](https://github.com/pandas-dev/pandas/issues/34274))
  id: totrans-1666
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`HDFStore.put()`](../reference/api/pandas.HDFStore.put.html#pandas.HDFStore.put
    "pandas.HDFStore.put") 在保存具有非字符串 dtype 的 DataFrame 时引发错误的 `TypeError`（[GH 34274](https://github.com/pandas-dev/pandas/issues/34274))
- en: Bug in [`json_normalize()`](../reference/api/pandas.json_normalize.html#pandas.json_normalize
    "pandas.json_normalize") resulting in the first element of a generator object
    not being included in the returned DataFrame ([GH 35923](https://github.com/pandas-dev/pandas/issues/35923))
  id: totrans-1667
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`json_normalize()`](../reference/api/pandas.json_normalize.html#pandas.json_normalize
    "pandas.json_normalize") 导致生成器对象的第一个元素未包含在返回的 DataFrame 中（[GH 35923](https://github.com/pandas-dev/pandas/issues/35923))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") applying the thousands separator to date columns when the column
    should be parsed for dates and `usecols` is specified for `engine="python"` ([GH
    39365](https://github.com/pandas-dev/pandas/issues/39365))
  id: totrans-1668
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 在应用千位分隔符到日期列时，当应该解析日期且为 `engine="python"` 指定了 `usecols` 时出现问题（[GH
    39365](https://github.com/pandas-dev/pandas/issues/39365))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") forward filling [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") names when multiple header and index columns are specified
    ([GH 34673](https://github.com/pandas-dev/pandas/issues/34673))
  id: totrans-1669
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 在指定多个标题和索引列时，向前填充 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 名称（[GH 34673](https://github.com/pandas-dev/pandas/issues/34673))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") not respecting [`set_option()`](../reference/api/pandas.set_option.html#pandas.set_option
    "pandas.set_option") ([GH 34252](https://github.com/pandas-dev/pandas/issues/34252))
  id: totrans-1670
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 未遵守 [`set_option()`](../reference/api/pandas.set_option.html#pandas.set_option
    "pandas.set_option")（[GH 34252](https://github.com/pandas-dev/pandas/issues/34252))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") not switching `true_values` and `false_values` for nullable
    Boolean dtype ([GH 34655](https://github.com/pandas-dev/pandas/issues/34655))
  id: totrans-1671
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 未对可空布尔类型的 `true_values` 和 `false_values` 进行切换（[GH 34655](https://github.com/pandas-dev/pandas/issues/34655))
- en: Bug in [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") when `orient="split"` not maintaining a numeric string index
    ([GH 28556](https://github.com/pandas-dev/pandas/issues/28556))
  id: totrans-1672
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") 当 `orient="split"` 时，未保持数值字符串索引（[GH 28556](https://github.com/pandas-dev/pandas/issues/28556))
- en: '[`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql "pandas.read_sql")
    returned an empty generator if `chunksize` was non-zero and the query returned
    no results. Now returns a generator with a single empty DataFrame ([GH 34411](https://github.com/pandas-dev/pandas/issues/34411))'
  id: totrans-1673
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql "pandas.read_sql")
    如果 `chunksize` 不为零且查询未返回结果，则返��空生成器。现在返回一个带有单个空 DataFrame 的生成器（[GH 34411](https://github.com/pandas-dev/pandas/issues/34411))'
- en: Bug in [`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf
    "pandas.read_hdf") returning unexpected records when filtering on categorical
    string columns using the `where` parameter ([GH 39189](https://github.com/pandas-dev/pandas/issues/39189))
  id: totrans-1674
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf
    "pandas.read_hdf") 在使用 `where` 参数过滤分类字符串列时返回意外记录（[GH 39189](https://github.com/pandas-dev/pandas/issues/39189))
- en: Bug in [`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas
    "pandas.read_sas") raising a `ValueError` when `datetimes` were null ([GH 39725](https://github.com/pandas-dev/pandas/issues/39725))
  id: totrans-1675
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas "pandas.read_sas")
    中的 Bug 在 `datetimes` 为 null 时引发 `ValueError` ([GH 39725](https://github.com/pandas-dev/pandas/issues/39725))'
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") dropping empty values from single-column spreadsheets ([GH
    39808](https://github.com/pandas-dev/pandas/issues/39808))
  id: totrans-1676
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 中的 Bug 在单列电子表格中丢弃空值时出现问题 ([GH 39808](https://github.com/pandas-dev/pandas/issues/39808))'
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") loading trailing empty rows/columns for some filetypes ([GH
    41167](https://github.com/pandas-dev/pandas/issues/41167))
  id: totrans-1677
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 中的 Bug 在某些文件类型加载尾随空行/列时出现问题 ([GH 41167](https://github.com/pandas-dev/pandas/issues/41167))'
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") raising an `AttributeError` when the excel file had a `MultiIndex`
    header followed by two empty rows and no index ([GH 40442](https://github.com/pandas-dev/pandas/issues/40442))
  id: totrans-1678
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 中的 Bug 在 Excel 文件具有 `MultiIndex` 标头，后跟两个空行且无索引时引发 `AttributeError`
    ([GH 40442](https://github.com/pandas-dev/pandas/issues/40442))'
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel"), [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv"), [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table"), [`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf
    "pandas.read_fwf"), and [`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") where one blank row after a `MultiIndex` header with
    no index would be dropped ([GH 40442](https://github.com/pandas-dev/pandas/issues/40442))
  id: totrans-1679
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")、[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")、[`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table")、[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf
    "pandas.read_fwf") 和 [`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") 中的 Bug，当 `MultiIndex` 标头后面没有索引的空白行时，会被删除 ([GH 40442](https://github.com/pandas-dev/pandas/issues/40442))'
- en: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") misplacing the truncation column when `index=False`
    ([GH 40904](https://github.com/pandas-dev/pandas/issues/40904))
  id: totrans-1680
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") 中的 Bug 在 `index=False` 时错位了截断列 ([GH 40904](https://github.com/pandas-dev/pandas/issues/40904))'
- en: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") adding an extra dot and misaligning the truncation
    row when `index=False` ([GH 40904](https://github.com/pandas-dev/pandas/issues/40904))
  id: totrans-1681
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") 中的 Bug 在 `index=False` 时添加了额外的点并使截断行错位 ([GH 40904](https://github.com/pandas-dev/pandas/issues/40904))'
- en: Bug in [`read_orc()`](../reference/api/pandas.read_orc.html#pandas.read_orc
    "pandas.read_orc") always raising an `AttributeError` ([GH 40918](https://github.com/pandas-dev/pandas/issues/40918))
  id: totrans-1682
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_orc()`](../reference/api/pandas.read_orc.html#pandas.read_orc "pandas.read_orc")
    中的 Bug 总是引发 `AttributeError` ([GH 40918](https://github.com/pandas-dev/pandas/issues/40918))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") silently ignoring `prefix` if `names` and `prefix` are defined,
    now raising a `ValueError` ([GH 39123](https://github.com/pandas-dev/pandas/issues/39123))
  id: totrans-1683
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    和 [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table "pandas.read_table")
    中的 Bug 在定义了 `names` 和 `prefix` 后默默地忽略 `prefix`，现在会引发 `ValueError` ([GH 39123](https://github.com/pandas-dev/pandas/issues/39123))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") not respecting the dtype for a duplicated column name when
    `mangle_dupe_cols` is set to `True` ([GH 35211](https://github.com/pandas-dev/pandas/issues/35211))
  id: totrans-1684
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    和 [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel "pandas.read_excel")
    中的 Bug 在 `mangle_dupe_cols` 设置为 `True` 时不尊重重复列名的 dtype ([GH 35211](https://github.com/pandas-dev/pandas/issues/35211))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") silently ignoring `sep` if `delimiter` and `sep` are defined,
    now raising a `ValueError` ([GH 39823](https://github.com/pandas-dev/pandas/issues/39823))
  id: totrans-1685
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当定义了 `delimiter` 和 `sep` 时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中的 Bug 会静默地忽略 `sep`，现在会引发 `ValueError` ([GH 39823](https://github.com/pandas-dev/pandas/issues/39823))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") misinterpreting arguments when `sys.setprofile` had been
    previously called ([GH 41069](https://github.com/pandas-dev/pandas/issues/41069))
  id: totrans-1686
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当之前调用了 `sys.setprofile` 时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 和 [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") 中的 Bug 会误解参数 ([GH 41069](https://github.com/pandas-dev/pandas/issues/41069))
- en: Bug in the conversion from PyArrow to pandas (e.g. for reading Parquet) with
    nullable dtypes and a PyArrow array whose data buffer size is not a multiple of
    the dtype size ([GH 40896](https://github.com/pandas-dev/pandas/issues/40896))
  id: totrans-1687
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 PyArrow 转换为 pandas 时（例如读取 Parquet 文件）出现带有可空 dtype 的 PyArrow 数组，其数据缓冲区大小不是
    dtype 大小的倍数时，会出现 Bug ([GH 40896](https://github.com/pandas-dev/pandas/issues/40896))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") would raise an error when pandas could not determine the
    file type even though the user specified the `engine` argument ([GH 41225](https://github.com/pandas-dev/pandas/issues/41225))
  id: totrans-1688
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 中的 Bug 会在 pandas 无法确定文件类型时引发错误，即使用户指定了 `engine` 参数 ([GH 41225](https://github.com/pandas-dev/pandas/issues/41225))'
- en: Bug in [`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") copying from an excel file shifts values into the wrong
    column if there are null values in first column ([GH 41108](https://github.com/pandas-dev/pandas/issues/41108))
  id: totrans-1689
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当从 Excel 文件复制时，[`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") 中的 Bug 会将值错位到错误的列中，如果第一列中有空值的话 ([GH 41108](https://github.com/pandas-dev/pandas/issues/41108))
- en: Bug in [`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf") and [`Series.to_hdf()`](../reference/api/pandas.Series.to_hdf.html#pandas.Series.to_hdf
    "pandas.Series.to_hdf") raising a `TypeError` when trying to append a string column
    to an incompatible column ([GH 41897](https://github.com/pandas-dev/pandas/issues/41897))
  id: totrans-1690
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当尝试将字符串列追加到不兼容的列时，[`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf") 和 [`Series.to_hdf()`](../reference/api/pandas.Series.to_hdf.html#pandas.Series.to_hdf
    "pandas.Series.to_hdf") 会引发 `TypeError` 的 Bug ([GH 41897](https://github.com/pandas-dev/pandas/issues/41897))
- en: Period
  id: totrans-1691
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 期间
- en: Comparisons of [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") objects or [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index"), [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series"), or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with mismatched `PeriodDtype` now behave like other mismatched-type
    comparisons, returning `False` for equals, `True` for not-equal, and raising `TypeError`
    for inequality checks ([GH 39274](https://github.com/pandas-dev/pandas/issues/39274))
  id: totrans-1692
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    对象或者不匹配的 `PeriodDtype` 的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")、[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    的比较现在与其他不匹配类型的比较行为相同，对于相等返回 `False`，对于不相等返回 `True`，对于不等式检查引发 `TypeError` ([GH
    39274](https://github.com/pandas-dev/pandas/issues/39274))
- en: Plotting
  id: totrans-1693
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 绘图
- en: Bug in [`plotting.scatter_matrix()`](../reference/api/pandas.plotting.scatter_matrix.html#pandas.plotting.scatter_matrix
    "pandas.plotting.scatter_matrix") raising when 2d `ax` argument passed ([GH 16253](https://github.com/pandas-dev/pandas/issues/16253))
  id: totrans-1694
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递 2D `ax` 参数时，[`plotting.scatter_matrix()`](../reference/api/pandas.plotting.scatter_matrix.html#pandas.plotting.scatter_matrix
    "pandas.plotting.scatter_matrix") 中的 Bug 会引发错误 ([GH 16253](https://github.com/pandas-dev/pandas/issues/16253))
- en: Prevent warnings when Matplotlib’s `constrained_layout` is enabled ([GH 25261](https://github.com/pandas-dev/pandas/issues/25261))
  id: totrans-1695
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 Matplotlib 的 `constrained_layout` 被启用时，防止出现警告 ([GH 25261](https://github.com/pandas-dev/pandas/issues/25261))
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") was showing the wrong colors in the legend if the function
    was called repeatedly and some calls used `yerr` while others didn’t ([GH 39522](https://github.com/pandas-dev/pandas/issues/39522))
  id: totrans-1696
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot")中的 bug，如果函数重复调用并且某些调用使用了 `yerr`，而其他调用没有，则图例中显示的颜色错误 ([GH
    39522](https://github.com/pandas-dev/pandas/issues/39522))
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") was showing the wrong colors in the legend if the function
    was called repeatedly and some calls used `secondary_y` and others use `legend=False`
    ([GH 40044](https://github.com/pandas-dev/pandas/issues/40044))
  id: totrans-1697
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot")中的 bug，如果函数重复调用并且某些调用使用了 `secondary_y` 而其他调用使用了 `legend=False`，则图例中显示的颜色错误
    ([GH 40044](https://github.com/pandas-dev/pandas/issues/40044))
- en: Bug in [`DataFrame.plot.box()`](../reference/api/pandas.DataFrame.plot.box.html#pandas.DataFrame.plot.box
    "pandas.DataFrame.plot.box") when `dark_background` theme was selected, caps or
    min/max markers for the plot were not visible ([GH 40769](https://github.com/pandas-dev/pandas/issues/40769))
  id: totrans-1698
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.plot.box()`](../reference/api/pandas.DataFrame.plot.box.html#pandas.DataFrame.plot.box
    "pandas.DataFrame.plot.box")中的 bug，当选择了 `dark_background` 主题时，图中的顶帽或最小/最大标记不可见
    ([GH 40769](https://github.com/pandas-dev/pandas/issues/40769))
- en: Groupby/resample/rolling
  id: totrans-1699
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Groupby/resample/rolling
- en: Bug in [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") and [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") with [`PeriodDtype`](../reference/api/pandas.PeriodDtype.html#pandas.PeriodDtype
    "pandas.PeriodDtype") columns incorrectly casting results too aggressively ([GH
    38254](https://github.com/pandas-dev/pandas/issues/38254))
  id: totrans-1700
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg")和[`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg")中的 bug，对于 [`PeriodDtype`](../reference/api/pandas.PeriodDtype.html#pandas.PeriodDtype
    "pandas.PeriodDtype") 列，结果被错误地过于激进地转换了类型 ([GH 38254](https://github.com/pandas-dev/pandas/issues/38254))
- en: Bug in [`SeriesGroupBy.value_counts()`](../reference/api/pandas.core.groupby.SeriesGroupBy.value_counts.html#pandas.core.groupby.SeriesGroupBy.value_counts
    "pandas.core.groupby.SeriesGroupBy.value_counts") where unobserved categories
    in a grouped categorical Series were not tallied ([GH 38672](https://github.com/pandas-dev/pandas/issues/38672))
  id: totrans-1701
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`SeriesGroupBy.value_counts()`](../reference/api/pandas.core.groupby.SeriesGroupBy.value_counts.html#pandas.core.groupby.SeriesGroupBy.value_counts
    "pandas.core.groupby.SeriesGroupBy.value_counts")中的 bug，未观察到的分类在分组的分类 Series 中未被计入
    ([GH 38672](https://github.com/pandas-dev/pandas/issues/38672))
- en: Bug in [`SeriesGroupBy.value_counts()`](../reference/api/pandas.core.groupby.SeriesGroupBy.value_counts.html#pandas.core.groupby.SeriesGroupBy.value_counts
    "pandas.core.groupby.SeriesGroupBy.value_counts") where an error was raised on
    an empty Series ([GH 39172](https://github.com/pandas-dev/pandas/issues/39172))
  id: totrans-1702
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`SeriesGroupBy.value_counts()`](../reference/api/pandas.core.groupby.SeriesGroupBy.value_counts.html#pandas.core.groupby.SeriesGroupBy.value_counts
    "pandas.core.groupby.SeriesGroupBy.value_counts")中的 bug，如果 Series 为空，则会引发错误 ([GH
    39172](https://github.com/pandas-dev/pandas/issues/39172))
- en: Bug in `GroupBy.indices()` would contain non-existent indices when null values
    were present in the groupby keys ([GH 9304](https://github.com/pandas-dev/pandas/issues/9304))
  id: totrans-1703
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `GroupBy.indices()` 中的 bug 会在组键中存在空值时包含不存在的索引 ([GH 9304](https://github.com/pandas-dev/pandas/issues/9304))
- en: Fixed bug in [`DataFrameGroupBy.sum()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.sum.html#pandas.core.groupby.DataFrameGroupBy.sum
    "pandas.core.groupby.DataFrameGroupBy.sum") and [`SeriesGroupBy.sum()`](../reference/api/pandas.core.groupby.SeriesGroupBy.sum.html#pandas.core.groupby.SeriesGroupBy.sum
    "pandas.core.groupby.SeriesGroupBy.sum") causing a loss of precision by now using
    Kahan summation ([GH 38778](https://github.com/pandas-dev/pandas/issues/38778))
  id: totrans-1704
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrameGroupBy.sum()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.sum.html#pandas.core.groupby.DataFrameGroupBy.sum
    "pandas.core.groupby.DataFrameGroupBy.sum")和[`SeriesGroupBy.sum()`](../reference/api/pandas.core.groupby.SeriesGroupBy.sum.html#pandas.core.groupby.SeriesGroupBy.sum
    "pandas.core.groupby.SeriesGroupBy.sum")中修复了一个 bug，导致精度丢失，现在使用 Kahan 求和方法 ([GH
    38778](https://github.com/pandas-dev/pandas/issues/38778))
- en: Fixed bug in [`DataFrameGroupBy.cumsum()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cumsum.html#pandas.core.groupby.DataFrameGroupBy.cumsum
    "pandas.core.groupby.DataFrameGroupBy.cumsum"), [`SeriesGroupBy.cumsum()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cumsum.html#pandas.core.groupby.SeriesGroupBy.cumsum
    "pandas.core.groupby.SeriesGroupBy.cumsum"), [`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean"), and [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean") causing loss of precision through using
    Kahan summation ([GH 38934](https://github.com/pandas-dev/pandas/issues/38934))
  id: totrans-1705
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`DataFrameGroupBy.cumsum()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cumsum.html#pandas.core.groupby.DataFrameGroupBy.cumsum
    "pandas.core.groupby.DataFrameGroupBy.cumsum")、[`SeriesGroupBy.cumsum()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cumsum.html#pandas.core.groupby.SeriesGroupBy.cumsum
    "pandas.core.groupby.SeriesGroupBy.cumsum")、[`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean") 和 [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean") 中的 bug，通过使用 Kahan summation 导致精度丢失（[GH
    38934](https://github.com/pandas-dev/pandas/issues/38934)）
- en: Bug in [`Resampler.aggregate()`](../reference/api/pandas.core.resample.Resampler.aggregate.html#pandas.core.resample.Resampler.aggregate
    "pandas.core.resample.Resampler.aggregate") and [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") raising a `TypeError` instead of `SpecificationError`
    when missing keys had mixed dtypes ([GH 39025](https://github.com/pandas-dev/pandas/issues/39025))
  id: totrans-1706
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Resampler.aggregate()` 和 `DataFrame.transform()` 中的一个 bug，在缺少键的情况下混合数据类型时，会引发
    `TypeError` 而不是 `SpecificationError`（[GH 39025](https://github.com/pandas-dev/pandas/issues/39025)）'
- en: Bug in [`DataFrameGroupBy.idxmin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.idxmin.html#pandas.core.groupby.DataFrameGroupBy.idxmin
    "pandas.core.groupby.DataFrameGroupBy.idxmin") and [`DataFrameGroupBy.idxmax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.idxmax.html#pandas.core.groupby.DataFrameGroupBy.idxmax
    "pandas.core.groupby.DataFrameGroupBy.idxmax") with `ExtensionDtype` columns ([GH
    38733](https://github.com/pandas-dev/pandas/issues/38733))
  id: totrans-1707
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.idxmin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.idxmin.html#pandas.core.groupby.DataFrameGroupBy.idxmin
    "pandas.core.groupby.DataFrameGroupBy.idxmin") 和 [`DataFrameGroupBy.idxmax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.idxmax.html#pandas.core.groupby.DataFrameGroupBy.idxmax
    "pandas.core.groupby.DataFrameGroupBy.idxmax") 中的一个 bug，涉及 `ExtensionDtype` 列（[GH
    38733](https://github.com/pandas-dev/pandas/issues/38733)）'
- en: Bug in [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") would raise when the index was a [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") consisting of `NaT` ([GH 39227](https://github.com/pandas-dev/pandas/issues/39227))
  id: totrans-1708
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") 中的一个 bug，在索引是由 `NaT` 组成的 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 时会引发错误（[GH 39227](https://github.com/pandas-dev/pandas/issues/39227)）'
- en: Bug in `RollingGroupby.corr()` and `ExpandingGroupby.corr()` where the groupby
    column would return `0` instead of `np.nan` when providing `other` that was longer
    than each group ([GH 39591](https://github.com/pandas-dev/pandas/issues/39591))
  id: totrans-1709
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RollingGroupby.corr()` 和 `ExpandingGroupby.corr()` 中的一个 bug，当提供比每个组更长的 `other`
    时，groupby 列会返回 `0` 而不是 `np.nan`（[GH 39591](https://github.com/pandas-dev/pandas/issues/39591)）'
- en: Bug in `ExpandingGroupby.corr()` and `ExpandingGroupby.cov()` where `1` would
    be returned instead of `np.nan` when providing `other` that was longer than each
    group ([GH 39591](https://github.com/pandas-dev/pandas/issues/39591))
  id: totrans-1710
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExpandingGroupby.corr()` 和 `ExpandingGroupby.cov()` 中的一个 bug，当提供比每个组更长的 `other`
    时，会返回 `1` 而不是 `np.nan`（[GH 39591](https://github.com/pandas-dev/pandas/issues/39591)）'
- en: Bug in [`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean"), [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean"), [`DataFrameGroupBy.median()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.median.html#pandas.core.groupby.DataFrameGroupBy.median
    "pandas.core.groupby.DataFrameGroupBy.median"), [`SeriesGroupBy.median()`](../reference/api/pandas.core.groupby.SeriesGroupBy.median.html#pandas.core.groupby.SeriesGroupBy.median
    "pandas.core.groupby.SeriesGroupBy.median"), and [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") not propagating metadata ([GH 28283](https://github.com/pandas-dev/pandas/issues/28283))
  id: totrans-1711
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean")、[`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean")、[`DataFrameGroupBy.median()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.median.html#pandas.core.groupby.DataFrameGroupBy.median
    "pandas.core.groupby.DataFrameGroupBy.median")、[`SeriesGroupBy.median()`](../reference/api/pandas.core.groupby.SeriesGroupBy.median.html#pandas.core.groupby.SeriesGroupBy.median
    "pandas.core.groupby.SeriesGroupBy.median") 和 [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") 中的 Bug，未传播元数据（[GH 28283](https://github.com/pandas-dev/pandas/issues/28283))'
- en: Bug in [`Series.rolling()`](../reference/api/pandas.Series.rolling.html#pandas.Series.rolling
    "pandas.Series.rolling") and [`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling") not calculating window bounds correctly when window
    is an offset and dates are in descending order ([GH 40002](https://github.com/pandas-dev/pandas/issues/40002))
  id: totrans-1712
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.rolling()`](../reference/api/pandas.Series.rolling.html#pandas.Series.rolling
    "pandas.Series.rolling") 和 [`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling") 中的 Bug 在窗口是一个偏移量且日期按降序排列时未正确计算窗口边界（[GH 40002](https://github.com/pandas-dev/pandas/issues/40002))'
- en: Bug in [`Series.groupby()`](../reference/api/pandas.Series.groupby.html#pandas.Series.groupby
    "pandas.Series.groupby") and [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") on an empty `Series` or `DataFrame` would lose index,
    columns, and/or data types when directly using the methods `idxmax`, `idxmin`,
    `mad`, `min`, `max`, `sum`, `prod`, and `skew` or using them through `apply`,
    `aggregate`, or `resample` ([GH 26411](https://github.com/pandas-dev/pandas/issues/26411))
  id: totrans-1713
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.groupby()`](../reference/api/pandas.Series.groupby.html#pandas.Series.groupby
    "pandas.Series.groupby") 和 [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") 在空 `Series` 或 `DataFrame` 上的 Bug，直接使用 `idxmax`、`idxmin`、`mad`、`min`、`max`、`sum`、`prod`
    和 `skew` 方法，或通过 `apply`、`aggregate` 或 `resample` 使用它们时，会丢失索引、列和/或数据类型（[GH 26411](https://github.com/pandas-dev/pandas/issues/26411))'
- en: Bug in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") and [`SeriesGroupBy.apply()`](../reference/api/pandas.core.groupby.SeriesGroupBy.apply.html#pandas.core.groupby.SeriesGroupBy.apply
    "pandas.core.groupby.SeriesGroupBy.apply") where a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") would be created instead of an [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") when used on a `RollingGroupby` object ([GH 39732](https://github.com/pandas-dev/pandas/issues/39732))
  id: totrans-1714
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") 和 [`SeriesGroupBy.apply()`](../reference/api/pandas.core.groupby.SeriesGroupBy.apply.html#pandas.core.groupby.SeriesGroupBy.apply
    "pandas.core.groupby.SeriesGroupBy.apply") 中的 Bug，在 `RollingGroupby` 对象上使用时，会创建
    [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    而不是 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")（[GH
    39732](https://github.com/pandas-dev/pandas/issues/39732))'
- en: Bug in [`DataFrameGroupBy.sample()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.sample.html#pandas.core.groupby.DataFrameGroupBy.sample
    "pandas.core.groupby.DataFrameGroupBy.sample") where an error was raised when
    `weights` was specified and the index was an `Int64Index` ([GH 39927](https://github.com/pandas-dev/pandas/issues/39927))
  id: totrans-1715
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.sample()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.sample.html#pandas.core.groupby.DataFrameGroupBy.sample
    "pandas.core.groupby.DataFrameGroupBy.sample") 中的 Bug，在指定 `weights` 并且索引是 `Int64Index`
    时会引发错误（[GH 39927](https://github.com/pandas-dev/pandas/issues/39927))'
- en: Bug in [`DataFrameGroupBy.aggregate()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html#pandas.core.groupby.DataFrameGroupBy.aggregate
    "pandas.core.groupby.DataFrameGroupBy.aggregate") and [`Resampler.aggregate()`](../reference/api/pandas.core.resample.Resampler.aggregate.html#pandas.core.resample.Resampler.aggregate
    "pandas.core.resample.Resampler.aggregate") would sometimes raise a `SpecificationError`
    when passed a dictionary and columns were missing; will now always raise a `KeyError`
    instead ([GH 40004](https://github.com/pandas-dev/pandas/issues/40004))
  id: totrans-1716
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.aggregate()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html#pandas.core.groupby.DataFrameGroupBy.aggregate
    "pandas.core.groupby.DataFrameGroupBy.aggregate") 和 [`Resampler.aggregate()`](../reference/api/pandas.core.resample.Resampler.aggregate.html#pandas.core.resample.Resampler.aggregate
    "pandas.core.resample.Resampler.aggregate") 中的 Bug，当传递一个字典并且列缺失时，有时会引发 `SpecificationError`；现在总是引发
    `KeyError`（[GH 40004](https://github.com/pandas-dev/pandas/issues/40004)）'
- en: Bug in [`DataFrameGroupBy.sample()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.sample.html#pandas.core.groupby.DataFrameGroupBy.sample
    "pandas.core.groupby.DataFrameGroupBy.sample") where column selection was not
    applied before computing the result ([GH 39928](https://github.com/pandas-dev/pandas/issues/39928))
  id: totrans-1717
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.sample()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.sample.html#pandas.core.groupby.DataFrameGroupBy.sample
    "pandas.core.groupby.DataFrameGroupBy.sample") 中的 Bug，在计算结果之前未应用列选择（[GH 39928](https://github.com/pandas-dev/pandas/issues/39928)）'
- en: Bug in `ExponentialMovingWindow` when calling `__getitem__` would incorrectly
    raise a `ValueError` when providing `times` ([GH 40164](https://github.com/pandas-dev/pandas/issues/40164))
  id: totrans-1718
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExponentialMovingWindow` 中的 Bug，调用 `__getitem__` 时，当提供 `times` 时会错误地引发 `ValueError`（[GH
    40164](https://github.com/pandas-dev/pandas/issues/40164)）'
- en: Bug in `ExponentialMovingWindow` when calling `__getitem__` would not retain
    `com`, `span`, `alpha` or `halflife` attributes ([GH 40164](https://github.com/pandas-dev/pandas/issues/40164))
  id: totrans-1719
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExponentialMovingWindow` 中的 Bug，调用 `__getitem__` 时不会保留 `com`、`span`、`alpha`
    或 `halflife` 属性（[GH 40164](https://github.com/pandas-dev/pandas/issues/40164)）'
- en: '`ExponentialMovingWindow` now raises a `NotImplementedError` when specifying
    `times` with `adjust=False` due to an incorrect calculation ([GH 40098](https://github.com/pandas-dev/pandas/issues/40098))'
  id: totrans-1720
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExponentialMovingWindow` 现在在指定 `adjust=False` 时会引发 `NotImplementedError`，因为计算不正确（[GH
    40098](https://github.com/pandas-dev/pandas/issues/40098)）'
- en: Bug in `ExponentialMovingWindowGroupby.mean()` where the `times` argument was
    ignored when `engine='numba'` ([GH 40951](https://github.com/pandas-dev/pandas/issues/40951))
  id: totrans-1721
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExponentialMovingWindowGroupby.mean()` 中的 Bug，当 `engine=''numba''` 时会忽略 `times`
    参数（[GH 40951](https://github.com/pandas-dev/pandas/issues/40951)）'
- en: Bug in `ExponentialMovingWindowGroupby.mean()` where the wrong times were used
    the in case of multiple groups ([GH 40951](https://github.com/pandas-dev/pandas/issues/40951))
  id: totrans-1722
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExponentialMovingWindowGroupby.mean()` 中的 Bug，当存在多个分组时使用了错误的时间（[GH 40951](https://github.com/pandas-dev/pandas/issues/40951)）'
- en: Bug in `ExponentialMovingWindowGroupby` where the times vector and values became
    out of sync for non-trivial groups ([GH 40951](https://github.com/pandas-dev/pandas/issues/40951))
  id: totrans-1723
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExponentialMovingWindowGroupby` 中的 Bug，非平凡分组时，时间向量和值会不同步（[GH 40951](https://github.com/pandas-dev/pandas/issues/40951)）'
- en: Bug in [`Series.asfreq()`](../reference/api/pandas.Series.asfreq.html#pandas.Series.asfreq
    "pandas.Series.asfreq") and [`DataFrame.asfreq()`](../reference/api/pandas.DataFrame.asfreq.html#pandas.DataFrame.asfreq
    "pandas.DataFrame.asfreq") dropping rows when the index was not sorted ([GH 39805](https://github.com/pandas-dev/pandas/issues/39805))
  id: totrans-1724
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.asfreq()`](../reference/api/pandas.Series.asfreq.html#pandas.Series.asfreq
    "pandas.Series.asfreq") 和 [`DataFrame.asfreq()`](../reference/api/pandas.DataFrame.asfreq.html#pandas.DataFrame.asfreq
    "pandas.DataFrame.asfreq") 中的 Bug，在索引未排序时会丢弃行（[GH 39805](https://github.com/pandas-dev/pandas/issues/39805)）'
- en: Bug in aggregation functions for [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") not respecting `numeric_only` argument when `level` keyword
    was given ([GH 40660](https://github.com/pandas-dev/pandas/issues/40660))
  id: totrans-1725
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    中聚合函数的 Bug，在给定 `level` 关键字时不尊重 `numeric_only` 参数（[GH 40660](https://github.com/pandas-dev/pandas/issues/40660)）'
- en: Bug in [`SeriesGroupBy.aggregate()`](../reference/api/pandas.core.groupby.SeriesGroupBy.aggregate.html#pandas.core.groupby.SeriesGroupBy.aggregate
    "pandas.core.groupby.SeriesGroupBy.aggregate") where using a user-defined function
    to aggregate a Series with an object-typed [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") causes an incorrect [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") shape ([GH 40014](https://github.com/pandas-dev/pandas/issues/40014))
  id: totrans-1726
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用用户定义的函数聚合具有对象类型的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 的 Series 导致不正确的 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 形状的 [`SeriesGroupBy.aggregate()`](../reference/api/pandas.core.groupby.SeriesGroupBy.aggregate.html#pandas.core.groupby.SeriesGroupBy.aggregate
    "pandas.core.groupby.SeriesGroupBy.aggregate") 的错误（[GH 40014](https://github.com/pandas-dev/pandas/issues/40014)）
- en: Bug in `RollingGroupby` where `as_index=False` argument in `groupby` was ignored
    ([GH 39433](https://github.com/pandas-dev/pandas/issues/39433))
  id: totrans-1727
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RollingGroupby` 中 `groupby` 中的 `as_index=False` 参数被忽略的错误（[GH 39433](https://github.com/pandas-dev/pandas/issues/39433)）'
- en: Bug in [`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all") and [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") raising a `ValueError` when using with
    nullable type columns holding `NA` even with `skipna=True` ([GH 40585](https://github.com/pandas-dev/pandas/issues/40585))
  id: totrans-1728
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用具有 `NA` 的可空类型列并且即使使用 `skipna=True` 时，[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any")、[`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any")、[`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all") 和 [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") 报 `ValueError` 的错误（[GH 40585](https://github.com/pandas-dev/pandas/issues/40585)）
- en: Bug in [`DataFrameGroupBy.cummin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummin.html#pandas.core.groupby.DataFrameGroupBy.cummin
    "pandas.core.groupby.DataFrameGroupBy.cummin"), [`SeriesGroupBy.cummin()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummin.html#pandas.core.groupby.SeriesGroupBy.cummin
    "pandas.core.groupby.SeriesGroupBy.cummin"), [`DataFrameGroupBy.cummax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummax.html#pandas.core.groupby.DataFrameGroupBy.cummax
    "pandas.core.groupby.DataFrameGroupBy.cummax") and [`SeriesGroupBy.cummax()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummax.html#pandas.core.groupby.SeriesGroupBy.cummax
    "pandas.core.groupby.SeriesGroupBy.cummax") incorrectly rounding integer values
    near the `int64` implementations bounds ([GH 40767](https://github.com/pandas-dev/pandas/issues/40767))
  id: totrans-1729
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `int64` 实现边界附近错误地舍入整数值的 [`DataFrameGroupBy.cummin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummin.html#pandas.core.groupby.DataFrameGroupBy.cummin
    "pandas.core.groupby.DataFrameGroupBy.cummin")、[`SeriesGroupBy.cummin()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummin.html#pandas.core.groupby.SeriesGroupBy.cummin
    "pandas.core.groupby.SeriesGroupBy.cummin")、[`DataFrameGroupBy.cummax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummax.html#pandas.core.groupby.DataFrameGroupBy.cummax
    "pandas.core.groupby.DataFrameGroupBy.cummax") 和 [`SeriesGroupBy.cummax()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummax.html#pandas.core.groupby.SeriesGroupBy.cummax
    "pandas.core.groupby.SeriesGroupBy.cummax") 的错误（[GH 40767](https://github.com/pandas-dev/pandas/issues/40767)）
- en: Bug in [`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") and [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") with nullable dtypes incorrectly raising
    a `TypeError` ([GH 41010](https://github.com/pandas-dev/pandas/issues/41010))
  id: totrans-1730
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用具有可空类型的数据错误地引发 `TypeError` 的 [`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") 和 [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") 的错误（[GH 41010](https://github.com/pandas-dev/pandas/issues/41010)）
- en: Bug in [`DataFrameGroupBy.cummin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummin.html#pandas.core.groupby.DataFrameGroupBy.cummin
    "pandas.core.groupby.DataFrameGroupBy.cummin"), [`SeriesGroupBy.cummin()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummin.html#pandas.core.groupby.SeriesGroupBy.cummin
    "pandas.core.groupby.SeriesGroupBy.cummin"), [`DataFrameGroupBy.cummax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummax.html#pandas.core.groupby.DataFrameGroupBy.cummax
    "pandas.core.groupby.DataFrameGroupBy.cummax") and [`SeriesGroupBy.cummax()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummax.html#pandas.core.groupby.SeriesGroupBy.cummax
    "pandas.core.groupby.SeriesGroupBy.cummax") computing wrong result with nullable
    data types too large to roundtrip when casting to float ([GH 37493](https://github.com/pandas-dev/pandas/issues/37493))
  id: totrans-1731
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrameGroupBy.cummin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummin.html#pandas.core.groupby.DataFrameGroupBy.cummin
    "pandas.core.groupby.DataFrameGroupBy.cummin"), [`SeriesGroupBy.cummin()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummin.html#pandas.core.groupby.SeriesGroupBy.cummin
    "pandas.core.groupby.SeriesGroupBy.cummin"), [`DataFrameGroupBy.cummax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummax.html#pandas.core.groupby.DataFrameGroupBy.cummax
    "pandas.core.groupby.DataFrameGroupBy.cummax") 和 [`SeriesGroupBy.cummax()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummax.html#pandas.core.groupby.SeriesGroupBy.cummax
    "pandas.core.groupby.SeriesGroupBy.cummax") 在将可空数据类型转换为浮点数时计算错误的结果，导致无法回转（[GH
    37493](https://github.com/pandas-dev/pandas/issues/37493))
- en: Bug in [`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling") returning mean zero for all `NaN` window with `min_periods=0`
    if calculation is not numerical stable ([GH 41053](https://github.com/pandas-dev/pandas/issues/41053))
  id: totrans-1732
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling") 在所有`NaN`窗口的`min_periods=0`情况下返回平均值为零且不稳定计算时不为零的和（[GH
    41053](https://github.com/pandas-dev/pandas/issues/41053))
- en: Bug in [`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling") returning sum not zero for all `NaN` window with `min_periods=0`
    if calculation is not numerical stable ([GH 41053](https://github.com/pandas-dev/pandas/issues/41053))
  id: totrans-1733
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling") 在所有`NaN`窗口的`min_periods=0`情况下返回非零和不稳定计算时不为零的和（[GH
    41053](https://github.com/pandas-dev/pandas/issues/41053))
- en: Bug in [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") failing to retain ordered [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") on order-preserving aggregations ([GH 41147](https://github.com/pandas-dev/pandas/issues/41147))
  id: totrans-1734
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") 在保留有序的[`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype")的有序聚合操作中失败（[GH 41147](https://github.com/pandas-dev/pandas/issues/41147))
- en: Bug in [`DataFrameGroupBy.min()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.min.html#pandas.core.groupby.DataFrameGroupBy.min
    "pandas.core.groupby.DataFrameGroupBy.min"), [`SeriesGroupBy.min()`](../reference/api/pandas.core.groupby.SeriesGroupBy.min.html#pandas.core.groupby.SeriesGroupBy.min
    "pandas.core.groupby.SeriesGroupBy.min"), [`DataFrameGroupBy.max()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.max.html#pandas.core.groupby.DataFrameGroupBy.max
    "pandas.core.groupby.DataFrameGroupBy.max") and [`SeriesGroupBy.max()`](../reference/api/pandas.core.groupby.SeriesGroupBy.max.html#pandas.core.groupby.SeriesGroupBy.max
    "pandas.core.groupby.SeriesGroupBy.max") with multiple object-dtype columns and
    `numeric_only=False` incorrectly raising a `ValueError` ([GH 41111](https://github.com/pandas-dev/pandas/issues/41111))
  id: totrans-1735
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrameGroupBy.min()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.min.html#pandas.core.groupby.DataFrameGroupBy.min
    "pandas.core.groupby.DataFrameGroupBy.min"), [`SeriesGroupBy.min()`](../reference/api/pandas.core.groupby.SeriesGroupBy.min.html#pandas.core.groupby.SeriesGroupBy.min
    "pandas.core.groupby.SeriesGroupBy.min"), [`DataFrameGroupBy.max()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.max.html#pandas.core.groupby.DataFrameGroupBy.max
    "pandas.core.groupby.DataFrameGroupBy.max") 和 [`SeriesGroupBy.max()`](../reference/api/pandas.core.groupby.SeriesGroupBy.max.html#pandas.core.groupby.SeriesGroupBy.max
    "pandas.core.groupby.SeriesGroupBy.max") 在具有多个对象数据类型列和`numeric_only=False`时错误地引发`ValueError`（[GH
    41111](https://github.com/pandas-dev/pandas/issues/41111))
- en: Bug in [`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") with the GroupBy object’s `axis=0`
    and the `rank` method’s keyword `axis=1` ([GH 41320](https://github.com/pandas-dev/pandas/issues/41320))
  id: totrans-1736
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") 中的 Bug 使用 GroupBy 对象的 `axis=0` 和
    `rank` 方法的关键字 `axis=1` 时（[GH 41320](https://github.com/pandas-dev/pandas/issues/41320))'
- en: Bug in `DataFrameGroupBy.__getitem__()` with non-unique columns incorrectly
    returning a malformed `SeriesGroupBy` instead of `DataFrameGroupBy` ([GH 41427](https://github.com/pandas-dev/pandas/issues/41427))
  id: totrans-1737
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy.__getitem__()` 中的 Bug 在非唯一列上错误地返回了格式不正确的 `SeriesGroupBy`
    而不是 `DataFrameGroupBy` （[GH 41427](https://github.com/pandas-dev/pandas/issues/41427))'
- en: Bug in [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") with non-unique columns incorrectly
    raising an `AttributeError` ([GH 41427](https://github.com/pandas-dev/pandas/issues/41427))
  id: totrans-1738
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") 中的 Bug 在非唯一列上错误地引发 `AttributeError`
    （[GH 41427](https://github.com/pandas-dev/pandas/issues/41427))'
- en: Bug in [`Resampler.apply()`](../reference/api/pandas.core.resample.Resampler.apply.html#pandas.core.resample.Resampler.apply
    "pandas.core.resample.Resampler.apply") with non-unique columns incorrectly dropping
    duplicated columns ([GH 41445](https://github.com/pandas-dev/pandas/issues/41445))
  id: totrans-1739
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Resampler.apply()`](../reference/api/pandas.core.resample.Resampler.apply.html#pandas.core.resample.Resampler.apply
    "pandas.core.resample.Resampler.apply") 中的 Bug 在非唯一列上错误地删除了重复的列（[GH 41445](https://github.com/pandas-dev/pandas/issues/41445))'
- en: Bug in [`Series.groupby()`](../reference/api/pandas.Series.groupby.html#pandas.Series.groupby
    "pandas.Series.groupby") aggregations incorrectly returning empty [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") instead of raising `TypeError` on aggregations that are invalid
    for its dtype, e.g. `.prod` with `datetime64[ns]` dtype ([GH 41342](https://github.com/pandas-dev/pandas/issues/41342))
  id: totrans-1740
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.groupby()`](../reference/api/pandas.Series.groupby.html#pandas.Series.groupby
    "pandas.Series.groupby") 中的 Bug 聚合错误地返回空的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") ，而不是在其 dtype 无效的聚合上引发 `TypeError` ，例如使用 `datetime64[ns]` dtype
    的 `.prod` （[GH 41342](https://github.com/pandas-dev/pandas/issues/41342))'
- en: Bug in `DataFrameGroupBy` aggregations incorrectly failing to drop columns with
    invalid dtypes for that aggregation when there are no valid columns ([GH 41291](https://github.com/pandas-dev/pandas/issues/41291))
  id: totrans-1741
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy` 中的 Bug 聚合在没有有效列时错误地未删除该聚合的无效 dtype 的列（[GH 41291](https://github.com/pandas-dev/pandas/issues/41291))'
- en: Bug in `DataFrame.rolling.__iter__()` where `on` was not assigned to the index
    of the resulting objects ([GH 40373](https://github.com/pandas-dev/pandas/issues/40373))
  id: totrans-1742
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.rolling.__iter__()` 中的 Bug 其中 `on` 未分配给结果对象的索引（[GH 40373](https://github.com/pandas-dev/pandas/issues/40373))'
- en: Bug in [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") and [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") with `engine="numba"` where `*args`
    were being cached with the user passed function ([GH 41647](https://github.com/pandas-dev/pandas/issues/41647))
  id: totrans-1743
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy.transform()` 和 `DataFrameGroupBy.agg()` 中的 Bug，使用 `engine="numba"`
    时，`*args` 被缓存了用户传递的函数（[GH 41647](https://github.com/pandas-dev/pandas/issues/41647))'
- en: Bug in `DataFrameGroupBy` methods `agg`, `transform`, `sum`, `bfill`, `ffill`,
    `pad`, `pct_change`, `shift`, `ohlc` dropping `.columns.names` ([GH 41497](https://github.com/pandas-dev/pandas/issues/41497))
  id: totrans-1744
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy` 方法 `agg`、`transform`、`sum`、`bfill`、`ffill`、`pad`、`pct_change`、`shift`、`ohlc`
    删除了 `.columns.names` （[GH 41497](https://github.com/pandas-dev/pandas/issues/41497))'
- en: Reshaping
  id: totrans-1745
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 重塑
- en: Bug in [`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    raising error when performing an inner join with partial index and `right_index=True`
    when there was no overlap between indices ([GH 33814](https://github.com/pandas-dev/pandas/issues/33814))
  id: totrans-1746
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    中的 Bug 在执行内连接时引发错误，当索引部分重叠且 `right_index=True` 时，索引之间没有重叠（[GH 33814](https://github.com/pandas-dev/pandas/issues/33814))'
- en: Bug in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") with missing levels led to incorrect index names ([GH
    37510](https://github.com/pandas-dev/pandas/issues/37510))
  id: totrans-1747
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有缺失级别的 [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") 导致错误的索引名称（[GH 37510](https://github.com/pandas-dev/pandas/issues/37510))。
- en: Bug in [`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") propagating the right Index with `left_index=True` and `right_on`
    specification instead of left Index ([GH 33463](https://github.com/pandas-dev/pandas/issues/33463))
  id: totrans-1748
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用 `left_index=True` 和 `right_on` 规范时，[`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") 传播正确的索引而不是左索引的错误（[GH 33463](https://github.com/pandas-dev/pandas/issues/33463))。
- en: Bug in [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") on a DataFrame with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") returned the wrong result when one of both indexes had only
    one level ([GH 36909](https://github.com/pandas-dev/pandas/issues/36909))
  id: totrans-1749
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 DataFrame 具有[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")，其中至少一个索引只有一个级别时，[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") 返回错误结果的错误（[GH 36909](https://github.com/pandas-dev/pandas/issues/36909))。
- en: '[`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") now raises a `ValueError` instead of a cryptic `TypeError`
    in case of non-numerical merge columns ([GH 29130](https://github.com/pandas-dev/pandas/issues/29130))'
  id: totrans-1750
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") 在非数字合并列的情况下现在会引发 `ValueError`，而不是晦涩的 `TypeError`（[GH 29130](https://github.com/pandas-dev/pandas/issues/29130))。'
- en: Bug in [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") not assigning values correctly when the DataFrame had
    a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    where at least one dimension had dtype `Categorical` with non-alphabetically sorted
    categories ([GH 38502](https://github.com/pandas-dev/pandas/issues/38502))
  id: totrans-1751
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") 在 DataFrame 具有[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")，至少一个维度具有非按字母顺序排序的 `Categorical` 类别时，未正确分配值的错误（[GH 38502](https://github.com/pandas-dev/pandas/issues/38502))。'
- en: '[`Series.value_counts()`](../reference/api/pandas.Series.value_counts.html#pandas.Series.value_counts
    "pandas.Series.value_counts") and [`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode") now return consistent keys in original order ([GH 12679](https://github.com/pandas-dev/pandas/issues/12679),
    [GH 11227](https://github.com/pandas-dev/pandas/issues/11227) and [GH 39007](https://github.com/pandas-dev/pandas/issues/39007))'
  id: totrans-1752
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.value_counts()`](../reference/api/pandas.Series.value_counts.html#pandas.Series.value_counts
    "pandas.Series.value_counts") 和 [`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode") 现在以原始顺序返回一致的键（[GH 12679](https://github.com/pandas-dev/pandas/issues/12679),
    [GH 11227](https://github.com/pandas-dev/pandas/issues/11227) 和 [GH 39007](https://github.com/pandas-dev/pandas/issues/39007))。'
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") not handling `NaN` in [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") columns correctly ([GH 39481](https://github.com/pandas-dev/pandas/issues/39481))
  id: totrans-1753
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") 未正确处理 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 列中的 `NaN` 的错误（[GH 39481](https://github.com/pandas-dev/pandas/issues/39481))。'
- en: Bug in [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") would give incorrect results when the argument `func`
    was a string, `axis=1`, and the axis argument was not supported; now raises a
    `ValueError` instead ([GH 39211](https://github.com/pandas-dev/pandas/issues/39211))
  id: totrans-1754
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当参数 `func` 是字符串、`axis=1` 且轴参数不受支持时，[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") 会产生错误结果；现在会引发 `ValueError` 错误（[GH 39211](https://github.com/pandas-dev/pandas/issues/39211))。
- en: Bug in [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") not reshaping the index correctly after sorting
    on columns when `ignore_index=True` ([GH 39464](https://github.com/pandas-dev/pandas/issues/39464))
  id: totrans-1755
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") 在使用 `ignore_index=True` 进行列排序后未正确重新塑造索引的错误（[GH
    39464](https://github.com/pandas-dev/pandas/issues/39464))。'
- en: Bug in `DataFrame.append()` returning incorrect dtypes with combinations of
    `ExtensionDtype` dtypes ([GH 39454](https://github.com/pandas-dev/pandas/issues/39454))
  id: totrans-1756
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrame.append()`中的 Bug 返回了`ExtensionDtype`类型的组合时的错误 dtypes（[GH 39454](https://github.com/pandas-dev/pandas/issues/39454))
- en: Bug in `DataFrame.append()` returning incorrect dtypes when used with combinations
    of `datetime64` and `timedelta64` dtypes ([GH 39574](https://github.com/pandas-dev/pandas/issues/39574))
  id: totrans-1757
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrame.append()`中的 Bug 当与 `datetime64` 和 `timedelta64` 类型的组合一起使用时返回错误的
    dtypes（[GH 39574](https://github.com/pandas-dev/pandas/issues/39574))
- en: Bug in `DataFrame.append()` with a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") and appending a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") whose [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") is not a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 41707](https://github.com/pandas-dev/pandas/issues/41707))
  id: totrans-1758
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrame.append()`中的 Bug 当与带有 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 并且其 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 不是 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 追加时返回错误 dtypes（[GH 41707](https://github.com/pandas-dev/pandas/issues/41707))
- en: Bug in [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") returning a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") for a single value when operating on an empty DataFrame ([GH
    13483](https://github.com/pandas-dev/pandas/issues/13483))
  id: totrans-1759
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table")中的 Bug 当对空 DataFrame 操作时返回单个值的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")（[GH 13483](https://github.com/pandas-dev/pandas/issues/13483))
- en: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") can
    now be passed to the [`numpy.all()`](https://numpy.org/doc/stable/reference/generated/numpy.all.html#numpy.all
    "(in NumPy v1.26)") function ([GH 40180](https://github.com/pandas-dev/pandas/issues/40180))'
  id: totrans-1760
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")现在可以传递给
    [`numpy.all()`](https://numpy.org/doc/stable/reference/generated/numpy.all.html#numpy.all
    "(在 NumPy v1.26)") 函数（[GH 40180](https://github.com/pandas-dev/pandas/issues/40180))'
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") not preserving `CategoricalDtype` in a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 36991](https://github.com/pandas-dev/pandas/issues/36991))
  id: totrans-1761
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack")中的 Bug 未保留`CategoricalDtype`在 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")中（[GH 36991](https://github.com/pandas-dev/pandas/issues/36991))'
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") raising an error when the input sequence contained unhashable
    items ([GH 39756](https://github.com/pandas-dev/pandas/issues/39756))
  id: totrans-1762
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中的 Bug 当输入序列包含不可散列项时引发错误（[GH 39756](https://github.com/pandas-dev/pandas/issues/39756))
- en: Bug in [`Series.explode()`](../reference/api/pandas.Series.explode.html#pandas.Series.explode
    "pandas.Series.explode") preserving the index when `ignore_index` was `True` and
    values were scalars ([GH 40487](https://github.com/pandas-dev/pandas/issues/40487))
  id: totrans-1763
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Series.explode()`中的 Bug 当`ignore_index`为`True`且值为标量时保留索引（[GH 40487](https://github.com/pandas-dev/pandas/issues/40487))
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") raising a `ValueError` when [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") contains `None` and `NaT` and has more than 50 elements ([GH
    39882](https://github.com/pandas-dev/pandas/issues/39882))
  id: totrans-1764
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")中的 Bug 当 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 包含 `None` 和 `NaT` 并且元素超过 50 个时引发 `ValueError`（[GH 39882](https://github.com/pandas-dev/pandas/issues/39882))
- en: Bug in [`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack") and [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") with object-dtype values containing timezone-aware
    datetime objects incorrectly raising `TypeError` ([GH 41875](https://github.com/pandas-dev/pandas/issues/41875))
  id: totrans-1765
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack") 和 [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") 中包含对象 dtype 值的时区感知日期时间对象，错误地引发 `TypeError`（[GH 41875](https://github.com/pandas-dev/pandas/issues/41875)）'
- en: Bug in [`DataFrame.melt()`](../reference/api/pandas.DataFrame.melt.html#pandas.DataFrame.melt
    "pandas.DataFrame.melt") raising `InvalidIndexError` when [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") has duplicate columns used as `value_vars` ([GH 41951](https://github.com/pandas-dev/pandas/issues/41951))
  id: totrans-1766
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")具有用作`value_vars`的重复列时引发
    `InvalidIndexError` 的[`DataFrame.melt()`](../reference/api/pandas.DataFrame.melt.html#pandas.DataFrame.melt
    "pandas.DataFrame.melt") 错误（[GH 41951](https://github.com/pandas-dev/pandas/issues/41951)）
- en: Sparse
  id: totrans-1767
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 稀疏
- en: Bug in [`DataFrame.sparse.to_coo()`](../reference/api/pandas.DataFrame.sparse.to_coo.html#pandas.DataFrame.sparse.to_coo
    "pandas.DataFrame.sparse.to_coo") raising a `KeyError` with columns that are a
    numeric [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    without a `0` ([GH 18414](https://github.com/pandas-dev/pandas/issues/18414))
  id: totrans-1768
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用不带`0`的数值 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    列引发 `KeyError` 的[`DataFrame.sparse.to_coo()`](../reference/api/pandas.DataFrame.sparse.to_coo.html#pandas.DataFrame.sparse.to_coo
    "pandas.DataFrame.sparse.to_coo") 错误（[GH 18414](https://github.com/pandas-dev/pandas/issues/18414)）
- en: Bug in `SparseArray.astype()` with `copy=False` producing incorrect results
    when going from integer dtype to floating dtype ([GH 34456](https://github.com/pandas-dev/pandas/issues/34456))
  id: totrans-1769
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`SparseArray.astype()`中`copy=False`的错误，当从整数 dtype 转换为浮点 dtype 时产生不正确的结果（[GH
    34456](https://github.com/pandas-dev/pandas/issues/34456)）
- en: Bug in `SparseArray.max()` and `SparseArray.min()` would always return an empty
    result ([GH 40921](https://github.com/pandas-dev/pandas/issues/40921))
  id: totrans-1770
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`SparseArray.max()`和`SparseArray.min()`中的错误，始终返回空结果（[GH 40921](https://github.com/pandas-dev/pandas/issues/40921)）
- en: ExtensionArray
  id: totrans-1771
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 扩展数组
- en: Bug in [`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") when `other` is a Series with an `ExtensionDtype` ([GH
    38729](https://github.com/pandas-dev/pandas/issues/38729))
  id: totrans-1772
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当`other`是具有`ExtensionDtype`的 Series 时，[`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") 中的错误（[GH 38729](https://github.com/pandas-dev/pandas/issues/38729)）
- en: Fixed bug where [`Series.idxmax()`](../reference/api/pandas.Series.idxmax.html#pandas.Series.idxmax
    "pandas.Series.idxmax"), [`Series.idxmin()`](../reference/api/pandas.Series.idxmin.html#pandas.Series.idxmin
    "pandas.Series.idxmin"), [`Series.argmax()`](../reference/api/pandas.Series.argmax.html#pandas.Series.argmax
    "pandas.Series.argmax"), and [`Series.argmin()`](../reference/api/pandas.Series.argmin.html#pandas.Series.argmin
    "pandas.Series.argmin") would fail when the underlying data is an `ExtensionArray`
    ([GH 32749](https://github.com/pandas-dev/pandas/issues/32749), [GH 33719](https://github.com/pandas-dev/pandas/issues/33719),
    [GH 36566](https://github.com/pandas-dev/pandas/issues/36566))
  id: totrans-1773
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当底层数据是`ExtensionArray`时，[`Series.idxmax()`](../reference/api/pandas.Series.idxmax.html#pandas.Series.idxmax
    "pandas.Series.idxmax")、[`Series.idxmin()`](../reference/api/pandas.Series.idxmin.html#pandas.Series.idxmin
    "pandas.Series.idxmin")、[`Series.argmax()`](../reference/api/pandas.Series.argmax.html#pandas.Series.argmax
    "pandas.Series.argmax")和[`Series.argmin()`](../reference/api/pandas.Series.argmin.html#pandas.Series.argmin
    "pandas.Series.argmin") 失败的错误（[GH 32749](https://github.com/pandas-dev/pandas/issues/32749),
    [GH 33719](https://github.com/pandas-dev/pandas/issues/33719), [GH 36566](https://github.com/pandas-dev/pandas/issues/36566)）
- en: Fixed bug where some properties of subclasses of `PandasExtensionDtype` where
    improperly cached ([GH 40329](https://github.com/pandas-dev/pandas/issues/40329))
  id: totrans-1774
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了某些`PandasExtensionDtype`子类的属性错误缓存的错误（[GH 40329](https://github.com/pandas-dev/pandas/issues/40329)）
- en: Bug in [`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask") where masking a DataFrame with an `ExtensionDtype` raises
    a `ValueError` ([GH 40941](https://github.com/pandas-dev/pandas/issues/40941))
  id: totrans-1775
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`DataFrame.mask()`中的错误，当使用`ExtensionDtype`屏蔽 DataFrame 时引发 `ValueError`（[GH
    40941](https://github.com/pandas-dev/pandas/issues/40941)）
- en: Styler
  id: totrans-1776
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 样式化器
- en: Bug in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") where the `subset` argument in methods raised
    an error for some valid MultiIndex slices ([GH 33562](https://github.com/pandas-dev/pandas/issues/33562))
  id: totrans-1777
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 方法中的 `subset` 参数为某些有效的 MultiIndex 切片引发错误 ([GH
    33562](https://github.com/pandas-dev/pandas/issues/33562))
- en: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") rendered HTML output has seen minor alterations
    to support w3 good code standards ([GH 39626](https://github.com/pandas-dev/pandas/issues/39626))'
  id: totrans-1778
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 渲染的 HTML 输出已经进行了轻微修改以支持 w3 的优良代码标准 ([GH 39626](https://github.com/pandas-dev/pandas/issues/39626))'
- en: Bug in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") where rendered HTML was missing a column class
    identifier for certain header cells ([GH 39716](https://github.com/pandas-dev/pandas/issues/39716))
  id: totrans-1779
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 渲染的 HTML 中某些标题单元格缺少列类标识符 ([GH 39716](https://github.com/pandas-dev/pandas/issues/39716))
- en: Bug in [`Styler.background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient") where text-color was not
    determined correctly ([GH 39888](https://github.com/pandas-dev/pandas/issues/39888))
  id: totrans-1780
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Styler.background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient") 中文本颜色未正确确定 ([GH 39888](https://github.com/pandas-dev/pandas/issues/39888))
- en: Bug in [`Styler.set_table_styles()`](../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles
    "pandas.io.formats.style.Styler.set_table_styles") where multiple elements in
    CSS-selectors of the `table_styles` argument were not correctly added ([GH 34061](https://github.com/pandas-dev/pandas/issues/34061))
  id: totrans-1781
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Styler.set_table_styles()`](../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles
    "pandas.io.formats.style.Styler.set_table_styles") 中 CSS 选择器中 `table_styles` 参数的多个元素未正确添加
    ([GH 34061](https://github.com/pandas-dev/pandas/issues/34061))
- en: Bug in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") where copying from Jupyter dropped the top left
    cell and misaligned headers ([GH 12147](https://github.com/pandas-dev/pandas/issues/12147))
  id: totrans-1782
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 从 Jupyter 复制时丢失了左上角单元格并且标题错位 ([GH 12147](https://github.com/pandas-dev/pandas/issues/12147))
- en: Bug in `Styler.where` where `kwargs` were not passed to the applicable callable
    ([GH 40845](https://github.com/pandas-dev/pandas/issues/40845))
  id: totrans-1783
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in `Styler.where` 其中 `kwargs` 未传递到适用的可调用对象 ([GH 40845](https://github.com/pandas-dev/pandas/issues/40845))
- en: Bug in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") causing CSS to duplicate on multiple renders
    ([GH 39395](https://github.com/pandas-dev/pandas/issues/39395), [GH 40334](https://github.com/pandas-dev/pandas/issues/40334))
  id: totrans-1784
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 导致在多次渲染时 CSS 重复出现 ([GH 39395](https://github.com/pandas-dev/pandas/issues/39395),
    [GH 40334](https://github.com/pandas-dev/pandas/issues/40334))
- en: Other
  id: totrans-1785
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 其他
- en: '`inspect.getmembers(Series)` no longer raises an `AbstractMethodError` ([GH
    38782](https://github.com/pandas-dev/pandas/issues/38782))'
  id: totrans-1786
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`inspect.getmembers(Series)` 不再引发 `AbstractMethodError` ([GH 38782](https://github.com/pandas-dev/pandas/issues/38782))'
- en: Bug in [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") with numeric dtype and `other=None` not casting to `nan`
    ([GH 39761](https://github.com/pandas-dev/pandas/issues/39761))
  id: totrans-1787
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") 与数值 dtype 以及 `other=None` 不转换为 `nan` ([GH 39761](https://github.com/pandas-dev/pandas/issues/39761))
- en: Bug in [`assert_series_equal()`](../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal
    "pandas.testing.assert_series_equal"), [`assert_frame_equal()`](../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal
    "pandas.testing.assert_frame_equal"), [`assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal") and [`assert_extension_array_equal()`](../reference/api/pandas.testing.assert_extension_array_equal.html#pandas.testing.assert_extension_array_equal
    "pandas.testing.assert_extension_array_equal") incorrectly raising when an attribute
    has an unrecognized NA type ([GH 39461](https://github.com/pandas-dev/pandas/issues/39461))
  id: totrans-1788
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当属性具有未识别的 NA 类型时，[`assert_series_equal()`](../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal
    "pandas.testing.assert_series_equal")、[`assert_frame_equal()`](../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal
    "pandas.testing.assert_frame_equal")、[`assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal") 和[`assert_extension_array_equal()`](../reference/api/pandas.testing.assert_extension_array_equal.html#pandas.testing.assert_extension_array_equal
    "pandas.testing.assert_extension_array_equal") 中的 Bug 错误地引发（[GH 39461](https://github.com/pandas-dev/pandas/issues/39461)）
- en: Bug in [`assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal") with `exact=True` not raising when comparing
    [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") instances with `Int64Index` and `RangeIndex` categories
    ([GH 41263](https://github.com/pandas-dev/pandas/issues/41263))
  id: totrans-1789
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`exact=True`时，[`assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal") 未在比较[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 实例时，与`Int64Index`和`RangeIndex`类别一起引发（[GH 41263](https://github.com/pandas-dev/pandas/issues/41263)）时的
    Bug
- en: Bug in [`DataFrame.equals()`](../reference/api/pandas.DataFrame.equals.html#pandas.DataFrame.equals
    "pandas.DataFrame.equals"), [`Series.equals()`](../reference/api/pandas.Series.equals.html#pandas.Series.equals
    "pandas.Series.equals"), and [`Index.equals()`](../reference/api/pandas.Index.equals.html#pandas.Index.equals
    "pandas.Index.equals") with object-dtype containing `np.datetime64("NaT")` or
    `np.timedelta64("NaT")` ([GH 39650](https://github.com/pandas-dev/pandas/issues/39650))
  id: totrans-1790
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当包含`np.datetime64("NaT")`或`np.timedelta64("NaT")`的对象数据类型为对象时，[`DataFrame.equals()`](../reference/api/pandas.DataFrame.equals.html#pandas.DataFrame.equals
    "pandas.DataFrame.equals")、[`Series.equals()`](../reference/api/pandas.Series.equals.html#pandas.Series.equals
    "pandas.Series.equals")和[`Index.equals()`](../reference/api/pandas.Index.equals.html#pandas.Index.equals
    "pandas.Index.equals") 中的 Bug （[GH 39650](https://github.com/pandas-dev/pandas/issues/39650)）
- en: Bug in [`show_versions()`](../reference/api/pandas.show_versions.html#pandas.show_versions
    "pandas.show_versions") where console JSON output was not proper JSON ([GH 39701](https://github.com/pandas-dev/pandas/issues/39701))
  id: totrans-1791
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 控制台 JSON 输出不是正确的 JSON 时，[`show_versions()`](../reference/api/pandas.show_versions.html#pandas.show_versions
    "pandas.show_versions") 中的 Bug（[GH 39701](https://github.com/pandas-dev/pandas/issues/39701)）
- en: pandas can now compile on z/OS when using [xlc](https://www.ibm.com/products/xl-cpp-compiler-zos)
    ([GH 35826](https://github.com/pandas-dev/pandas/issues/35826))
  id: totrans-1792
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用[xlc](https://www.ibm.com/products/xl-cpp-compiler-zos)时，pandas 现在可以在 z/OS
    上编译（[GH 35826](https://github.com/pandas-dev/pandas/issues/35826)）
- en: Bug in [`pandas.util.hash_pandas_object()`](../reference/api/pandas.util.hash_pandas_object.html#pandas.util.hash_pandas_object
    "pandas.util.hash_pandas_object") not recognizing `hash_key`, `encoding` and `categorize`
    when the input object type is a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 41404](https://github.com/pandas-dev/pandas/issues/41404))
  id: totrans-1793
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当输入对象类型为[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")时，[`pandas.util.hash_pandas_object()`](../reference/api/pandas.util.hash_pandas_object.html#pandas.util.hash_pandas_object
    "pandas.util.hash_pandas_object") 中的 Bug 未能识别`hash_key`、`encoding`和`categorize`（[GH
    41404](https://github.com/pandas-dev/pandas/issues/41404)）
- en: Categorical
  id: totrans-1794
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分类的
- en: Bug in [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") incorrectly failing to raise `TypeError` when scalar
    data is passed ([GH 38614](https://github.com/pandas-dev/pandas/issues/38614))
  id: totrans-1795
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递标量数据时，[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 中的 Bug 错误地未引发`TypeError`（[GH 38614](https://github.com/pandas-dev/pandas/issues/38614)）
- en: Bug in `CategoricalIndex.reindex` failed when the [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") passed was not categorical but whose values were all labels in
    the category ([GH 28690](https://github.com/pandas-dev/pandas/issues/28690))
  id: totrans-1796
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当传递的 Index 不是分类的，但其所有值都是该类别中的标签时，CategoricalIndex.reindex 失败（[GH 28690](https://github.com/pandas-dev/pandas/issues/28690)）
- en: Bug where constructing a [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") from an object-dtype array of `date` objects did not round-trip
    correctly with `astype` ([GH 38552](https://github.com/pandas-dev/pandas/issues/38552))
  id: totrans-1797
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从对象 dtype 数组的 date 对象构造 Categorical 时，使用 astype 进行正确的往返不正确（[GH 38552](https://github.com/pandas-dev/pandas/issues/38552)）
- en: Bug in constructing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") from an `ndarray` and a [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") ([GH 38857](https://github.com/pandas-dev/pandas/issues/38857))
  id: totrans-1798
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在从 ndarray 和 CategoricalDtype 构造 DataFrame 时存在错误（[GH 38857](https://github.com/pandas-dev/pandas/issues/38857)）
- en: Bug in setting categorical values into an object-dtype column in a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 39136](https://github.com/pandas-dev/pandas/issues/39136))
  id: totrans-1799
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将分类值设置到对象 dtype 列中的 DataFrame 中存在错误（[GH 39136](https://github.com/pandas-dev/pandas/issues/39136)）
- en: Bug in [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") was raising an `IndexError` when the new index contained
    duplicates and the old index was a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") ([GH 38906](https://github.com/pandas-dev/pandas/issues/38906))
  id: totrans-1800
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当新索引包含重复项并且旧索引是 CategoricalIndex 时，DataFrame.reindex() 会引发 IndexError（[GH 38906](https://github.com/pandas-dev/pandas/issues/38906)）
- en: Bug in `Categorical.fillna()` with a tuple-like category raising `NotImplementedError`
    instead of `ValueError` when filling with a non-category tuple ([GH 41914](https://github.com/pandas-dev/pandas/issues/41914))
  id: totrans-1801
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在类似元组的分类填充中，`Categorical.fillna()` 函数引发 `NotImplementedError`，而不是在使用非类别元组进行填充时引发
    `ValueError`（[GH 41914](https://github.com/pandas-dev/pandas/issues/41914)）
- en: Datetimelike
  id: totrans-1802
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Datetimelike
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") constructors sometimes dropping nanoseconds from [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") (resp. [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")) `data`, with `dtype=datetime64[ns]` (resp. `timedelta64[ns]`)
    ([GH 38032](https://github.com/pandas-dev/pandas/issues/38032))
  id: totrans-1803
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 DataFrame 和 Series 构造函数中，有时会从 Timestamp（resp. Timedelta）数据中删除纳秒，其中数据类型为 datetime64[ns]（resp.
    timedelta64[ns]）（[GH 38032](https://github.com/pandas-dev/pandas/issues/38032)）
- en: Bug in [`DataFrame.first()`](../reference/api/pandas.DataFrame.first.html#pandas.DataFrame.first
    "pandas.DataFrame.first") and [`Series.first()`](../reference/api/pandas.Series.first.html#pandas.Series.first
    "pandas.Series.first") with an offset of one month returning an incorrect result
    when the first day is the last day of a month ([GH 29623](https://github.com/pandas-dev/pandas/issues/29623))
  id: totrans-1804
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.first()` 和 `Series.first()` 在月份偏移为一月时存在错误，当月的第一天为月底时返回错误结果（[GH 29623](https://github.com/pandas-dev/pandas/issues/29623)）'
- en: Bug in constructing a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") or [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with mismatched `datetime64` data and `timedelta64` dtype, or
    vice-versa, failing to raise a `TypeError` ([GH 38575](https://github.com/pandas-dev/pandas/issues/38575),
    [GH 38764](https://github.com/pandas-dev/pandas/issues/38764), [GH 38792](https://github.com/pandas-dev/pandas/issues/38792))
  id: totrans-1805
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用不匹配的 `datetime64` 数据和 `timedelta64` dtype 或反之的情况下构造 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 或 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 时，未能引发 `TypeError` 的 Bug ([GH 38575](https://github.com/pandas-dev/pandas/issues/38575),
    [GH 38764](https://github.com/pandas-dev/pandas/issues/38764), [GH 38792](https://github.com/pandas-dev/pandas/issues/38792))
- en: Bug in constructing a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a `datetime` object out of bounds for `datetime64[ns]`
    dtype or a `timedelta` object out of bounds for `timedelta64[ns]` dtype ([GH 38792](https://github.com/pandas-dev/pandas/issues/38792),
    [GH 38965](https://github.com/pandas-dev/pandas/issues/38965))
  id: totrans-1806
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用超出 `datetime64[ns]` dtype 边界的 `datetime` 对象或超出 `timedelta64[ns]` dtype 边界的
    `timedelta` 对象构造 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 时存在 Bug ([GH 38792](https://github.com/pandas-dev/pandas/issues/38792),
    [GH 38965](https://github.com/pandas-dev/pandas/issues/38965))
- en: Bug in `DatetimeIndex.intersection()`, `DatetimeIndex.symmetric_difference()`,
    `PeriodIndex.intersection()`, `PeriodIndex.symmetric_difference()` always returning
    object-dtype when operating with [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") ([GH 38741](https://github.com/pandas-dev/pandas/issues/38741))
  id: totrans-1807
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在与 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 进行操作时，`DatetimeIndex.intersection()`、`DatetimeIndex.symmetric_difference()`、`PeriodIndex.intersection()`、`PeriodIndex.symmetric_difference()`
    总是返回对象 dtype 的 Bug ([GH 38741](https://github.com/pandas-dev/pandas/issues/38741))
- en: Bug in `DatetimeIndex.intersection()` giving incorrect results with non-Tick
    frequencies with `n != 1` ([GH 42104](https://github.com/pandas-dev/pandas/issues/42104))
  id: totrans-1808
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用非 Tick 频率且 `n != 1` 的情况下，`DatetimeIndex.intersection()` 提供了不正确的结果 ([GH 42104](https://github.com/pandas-dev/pandas/issues/42104))
- en: Bug in [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") incorrectly casting `datetime64` values to `int64` ([GH
    37682](https://github.com/pandas-dev/pandas/issues/37682))
  id: totrans-1809
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") 中的 Bug 将 `datetime64` 值错误地转换为 `int64` ([GH 37682](https://github.com/pandas-dev/pandas/issues/37682))'
- en: Bug in [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") incorrectly typecasting `datetime` object to `Timestamp`
    ([GH 38878](https://github.com/pandas-dev/pandas/issues/38878))
  id: totrans-1810
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在错误地将 `datetime` 对象转换为 `Timestamp` 时，[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") 存在 Bug ([GH 38878](https://github.com/pandas-dev/pandas/issues/38878))
- en: Bug in comparisons between [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") object and `datetime64` objects just outside the implementation
    bounds for nanosecond `datetime64` ([GH 39221](https://github.com/pandas-dev/pandas/issues/39221))
  id: totrans-1811
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp "pandas.Timestamp")
    对象与微秒级 `datetime64` 实现边界之外的 `datetime64` 对象进行比较时存在 Bug ([GH 39221](https://github.com/pandas-dev/pandas/issues/39221))
- en: Bug in [`Timestamp.round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round"), [`Timestamp.floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor"), [`Timestamp.ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil") for values near the implementation bounds of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") ([GH 39244](https://github.com/pandas-dev/pandas/issues/39244))
  id: totrans-1812
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Timestamp.round()`](../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round
    "pandas.Timestamp.round")、[`Timestamp.floor()`](../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor
    "pandas.Timestamp.floor")、[`Timestamp.ceil()`](../reference/api/pandas.Timestamp.ceil.html#pandas.Timestamp.ceil
    "pandas.Timestamp.ceil") 在接近 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 实现边界的值时存在 Bug ([GH 39244](https://github.com/pandas-dev/pandas/issues/39244))'
- en: Bug in [`Timedelta.round()`](../reference/api/pandas.Timedelta.round.html#pandas.Timedelta.round
    "pandas.Timedelta.round"), [`Timedelta.floor()`](../reference/api/pandas.Timedelta.floor.html#pandas.Timedelta.floor
    "pandas.Timedelta.floor"), [`Timedelta.ceil()`](../reference/api/pandas.Timedelta.ceil.html#pandas.Timedelta.ceil
    "pandas.Timedelta.ceil") for values near the implementation bounds of [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") ([GH 38964](https://github.com/pandas-dev/pandas/issues/38964))
  id: totrans-1813
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在 [`Timedelta.round()`](../reference/api/pandas.Timedelta.round.html#pandas.Timedelta.round
    "pandas.Timedelta.round")、[`Timedelta.floor()`](../reference/api/pandas.Timedelta.floor.html#pandas.Timedelta.floor
    "pandas.Timedelta.floor") 和 [`Timedelta.ceil()`](../reference/api/pandas.Timedelta.ceil.html#pandas.Timedelta.ceil
    "pandas.Timedelta.ceil") 中，对于接近 [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") 实现边界的值，存在 Bug ([GH 38964](https://github.com/pandas-dev/pandas/issues/38964))
- en: Bug in [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") incorrectly creating [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") containing `NaT` instead of raising `OutOfBoundsDatetime`
    in corner cases ([GH 24124](https://github.com/pandas-dev/pandas/issues/24124))
  id: totrans-1814
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在 [`date_range()`](../reference/api/pandas.date_range.html#pandas.date_range
    "pandas.date_range") 中，错误地创建了包含 `NaT` 的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")，而不是在极端情况下引发 `OutOfBoundsDatetime` 异常 ([GH 24124](https://github.com/pandas-dev/pandas/issues/24124))
- en: Bug in [`infer_freq()`](../reference/api/pandas.infer_freq.html#pandas.infer_freq
    "pandas.infer_freq") incorrectly fails to infer ‘H’ frequency of [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") if the latter has a timezone and crosses DST boundaries
    ([GH 39556](https://github.com/pandas-dev/pandas/issues/39556))
  id: totrans-1815
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在 [`infer_freq()`](../reference/api/pandas.infer_freq.html#pandas.infer_freq
    "pandas.infer_freq") 中，如果 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 具有时区且跨越 DST 边界，则不正确地未能推断出 'H' 频率 ([GH 39556](https://github.com/pandas-dev/pandas/issues/39556))
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    backed by `DatetimeArray` or `TimedeltaArray` sometimes failing to set the array’s
    `freq` to `None` ([GH 41425](https://github.com/pandas-dev/pandas/issues/41425))
  id: totrans-1816
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在由 `DatetimeArray` 或 `TimedeltaArray` 支持的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 中，有时未能将数组的 `freq` 设置为 `None` ([GH 41425](https://github.com/pandas-dev/pandas/issues/41425))
- en: Timedelta
  id: totrans-1817
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Timedelta
- en: Bug in constructing [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") from `np.timedelta64` objects with non-nanosecond units that
    are out of bounds for `timedelta64[ns]` ([GH 38965](https://github.com/pandas-dev/pandas/issues/38965))
  id: totrans-1818
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在构建 [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") 时，来自 `np.timedelta64` 对象的非纳秒单位超出了 `timedelta64[ns]` 的边界 ([GH
    38965](https://github.com/pandas-dev/pandas/issues/38965))
- en: Bug in constructing a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") incorrectly accepting `np.datetime64("NaT")` objects
    ([GH 39462](https://github.com/pandas-dev/pandas/issues/39462))
  id: totrans-1819
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在构建 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 时，错误地接受 `np.datetime64("NaT")` 对象 ([GH 39462](https://github.com/pandas-dev/pandas/issues/39462))
- en: Bug in constructing [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") from an input string with only symbols and no digits failed
    to raise an error ([GH 39710](https://github.com/pandas-dev/pandas/issues/39710))
  id: totrans-1820
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在构建 [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") 时，如果输入字符串只包含符号而没有数字，则未能引发错误 ([GH 39710](https://github.com/pandas-dev/pandas/issues/39710))
- en: Bug in [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") and [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") failing to raise when passed non-nanosecond `timedelta64`
    arrays that overflow when converting to `timedelta64[ns]` ([GH 40008](https://github.com/pandas-dev/pandas/issues/40008))
  id: totrans-1821
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 和 [`to_timedelta()`](../reference/api/pandas.to_timedelta.html#pandas.to_timedelta
    "pandas.to_timedelta") 中的 Bug，在传递溢出的非纳秒 `timedelta64` 数组时未能引发异常，这些数组在转换为 `timedelta64[ns]`
    时会溢出（[GH 40008](https://github.com/pandas-dev/pandas/issues/40008))'
- en: Timezones
  id: totrans-1822
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时区
- en: Bug in different `tzinfo` objects representing UTC not being treated as equivalent
    ([GH 39216](https://github.com/pandas-dev/pandas/issues/39216))
  id: totrans-1823
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug 在不同的 `tzinfo` 对象表示 UTC 时未被视为等效 ([GH 39216](https://github.com/pandas-dev/pandas/issues/39216))
- en: Bug in `dateutil.tz.gettz("UTC")` not being recognized as equivalent to other
    UTC-representing tzinfos ([GH 39276](https://github.com/pandas-dev/pandas/issues/39276))
  id: totrans-1824
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 DataFrame 中含有 `axis=0` 和列持有无法比较的类型时 [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") 报错 `IndexError` ([GH 38932](https://github.com/pandas-dev/pandas/issues/38932))
- en: Numeric
  id: totrans-1825
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数字
- en: Bug in [`DataFrame.quantile()`](../reference/api/pandas.DataFrame.quantile.html#pandas.DataFrame.quantile
    "pandas.DataFrame.quantile"), [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") causing incorrect subsequent indexing behavior
    ([GH 38351](https://github.com/pandas-dev/pandas/issues/38351))
  id: totrans-1826
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.quantile()`](../reference/api/pandas.DataFrame.quantile.html#pandas.DataFrame.quantile
    "pandas.DataFrame.quantile"), [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") 中的 Bug 导致不正确的后续索引行为 ([GH 38351](https://github.com/pandas-dev/pandas/issues/38351))'
- en: Bug in [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") raising an [`IndexError`](https://docs.python.org/3/library/exceptions.html#IndexError
    "(in Python v3.12)") for empty `by` ([GH 40258](https://github.com/pandas-dev/pandas/issues/40258))
  id: totrans-1827
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在空的 `by` 上 [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") 报错 [`IndexError`](https://docs.python.org/3/library/exceptions.html#IndexError
    "(in Python v3.12)") ([GH 40258](https://github.com/pandas-dev/pandas/issues/40258))
- en: Bug in [`DataFrame.select_dtypes()`](../reference/api/pandas.DataFrame.select_dtypes.html#pandas.DataFrame.select_dtypes
    "pandas.DataFrame.select_dtypes") with `include=np.number` would drop numeric
    `ExtensionDtype` columns ([GH 35340](https://github.com/pandas-dev/pandas/issues/35340))
  id: totrans-1828
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `include=np.number` 的情况下 [`DataFrame.select_dtypes()`](../reference/api/pandas.DataFrame.select_dtypes.html#pandas.DataFrame.select_dtypes
    "pandas.DataFrame.select_dtypes") 中的 Bug 会删除数值型 `ExtensionDtype` 列 ([GH 35340](https://github.com/pandas-dev/pandas/issues/35340))
- en: Bug in [`DataFrame.mode()`](../reference/api/pandas.DataFrame.mode.html#pandas.DataFrame.mode
    "pandas.DataFrame.mode") and [`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode") not keeping consistent integer [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") for empty input ([GH 33321](https://github.com/pandas-dev/pandas/issues/33321))
  id: totrans-1829
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.mode()`](../reference/api/pandas.DataFrame.mode.html#pandas.DataFrame.mode
    "pandas.DataFrame.mode") 和 [`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode") 中存在的 Bug 没有保持一致的整数 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 用于空输入 ([GH 33321](https://github.com/pandas-dev/pandas/issues/33321))
- en: Bug in [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") when the DataFrame contained `np.inf` ([GH 32593](https://github.com/pandas-dev/pandas/issues/32593))
  id: totrans-1830
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dateutil.tz.gettz("UTC")` 未被识别为等价于其他表示 UTC 的 tzinfos 的 Bug ([GH 39276](https://github.com/pandas-dev/pandas/issues/39276))'
- en: Bug in [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") with `axis=0` and columns holding incomparable types
    raising an `IndexError` ([GH 38932](https://github.com/pandas-dev/pandas/issues/38932))
  id: totrans-1831
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 DataFrame 包含 `np.inf` 时 [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank") 的 Bug ([GH 32593](https://github.com/pandas-dev/pandas/issues/32593))
- en: Bug in [`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank"), [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank"), [`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank"), and [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") treating the most negative `int64` value
    as missing ([GH 32859](https://github.com/pandas-dev/pandas/issues/32859))
  id: totrans-1832
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.rank()`](../reference/api/pandas.Series.rank.html#pandas.Series.rank
    "pandas.Series.rank"), [`DataFrame.rank()`](../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank
    "pandas.DataFrame.rank"), [`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank"), 和 [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") 在将最负的 `int64` 值视为缺失时的 Bug ([GH 32859](https://github.com/pandas-dev/pandas/issues/32859))'
- en: Bug in [`DataFrame.select_dtypes()`](../reference/api/pandas.DataFrame.select_dtypes.html#pandas.DataFrame.select_dtypes
    "pandas.DataFrame.select_dtypes") different behavior between Windows and Linux
    with `include="int"` ([GH 36596](https://github.com/pandas-dev/pandas/issues/36596))
  id: totrans-1833
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.select_dtypes()`](../reference/api/pandas.DataFrame.select_dtypes.html#pandas.DataFrame.select_dtypes
    "pandas.DataFrame.select_dtypes") 中的错误，在 Windows 和 Linux 之间使用 `include="int"`
    时表现不同（[GH 36596](https://github.com/pandas-dev/pandas/issues/36596)）'
- en: Bug in [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") and [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg") when passed the argument `func="size"` would operate on
    the entire `DataFrame` instead of rows or columns ([GH 39934](https://github.com/pandas-dev/pandas/issues/39934))
  id: totrans-1834
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") 和 [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg") 中的错误，当传递参数 `func="size"` 时会在整个 `DataFrame` 上操作而不是行���列（[GH
    39934](https://github.com/pandas-dev/pandas/issues/39934)）'
- en: Bug in [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") would raise a `SpecificationError` when passed a
    dictionary and columns were missing; will now raise a `KeyError` instead ([GH
    40004](https://github.com/pandas-dev/pandas/issues/40004))
  id: totrans-1835
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") 中的错误，当传递字典且列缺失时会引发 `SpecificationError`，现在会引发 `KeyError`（[GH
    40004](https://github.com/pandas-dev/pandas/issues/40004)）'
- en: Bug in [`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") and [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") giving incorrect results with `pct=True`
    and equal values between consecutive groups ([GH 40518](https://github.com/pandas-dev/pandas/issues/40518))
  id: totrans-1836
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") 和 [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") 在 `pct=True` 和连续组之间存在相等值时给出错误结果的错误（[GH
    40518](https://github.com/pandas-dev/pandas/issues/40518)）'
- en: Bug in [`Series.count()`](../reference/api/pandas.Series.count.html#pandas.Series.count
    "pandas.Series.count") would result in an `int32` result on 32-bit platforms when
    argument `level=None` ([GH 40908](https://github.com/pandas-dev/pandas/issues/40908))
  id: totrans-1837
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.count()`](../reference/api/pandas.Series.count.html#pandas.Series.count
    "pandas.Series.count") 中的错误，当参数 `level=None` 时会在 32 位平台上产生 `int32` 结果（[GH 40908](https://github.com/pandas-dev/pandas/issues/40908)）'
- en: Bug in [`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    and [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    reductions with methods `any` and `all` not returning Boolean results for object
    data ([GH 12863](https://github.com/pandas-dev/pandas/issues/12863), [GH 35450](https://github.com/pandas-dev/pandas/issues/35450),
    [GH 27709](https://github.com/pandas-dev/pandas/issues/27709))
  id: totrans-1838
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")
    和 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    在使用方法 `any` 和 `all` 进行缩减时，对于对象数据不返回布尔结果的错误（[GH 12863](https://github.com/pandas-dev/pandas/issues/12863)，[GH
    35450](https://github.com/pandas-dev/pandas/issues/35450)，[GH 27709](https://github.com/pandas-dev/pandas/issues/27709)）'
- en: Bug in [`Series.clip()`](../reference/api/pandas.Series.clip.html#pandas.Series.clip
    "pandas.Series.clip") would fail if the Series contains NA values and has nullable
    int or float as a data type ([GH 40851](https://github.com/pandas-dev/pandas/issues/40851))
  id: totrans-1839
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.clip()`](../reference/api/pandas.Series.clip.html#pandas.Series.clip
    "pandas.Series.clip") 中的错误，如果 Series 包含 NA 值并且具有可空的整数或浮点数作为数据类型，则会失败（[GH 40851](https://github.com/pandas-dev/pandas/issues/40851)）'
- en: Bug in `UInt64Index.where()` and `UInt64Index.putmask()` with an `np.int64`
    dtype `other` incorrectly raising `TypeError` ([GH 41974](https://github.com/pandas-dev/pandas/issues/41974))
  id: totrans-1840
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`UInt64Index.where()` 和 `UInt64Index.putmask()` 中的错误，当 `np.int64` 类型的 `other`
    不正确地引发 `TypeError` 时（[GH 41974](https://github.com/pandas-dev/pandas/issues/41974)）'
- en: Bug in [`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg") not sorting the aggregated axis in the order of the provided
    aggregation functions when one or more aggregation function fails to produce results
    ([GH 33634](https://github.com/pandas-dev/pandas/issues/33634))
  id: totrans-1841
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.agg()`](../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg
    "pandas.DataFrame.agg") 中的错误，在提供的聚合函数无法产生结果时，不按照所提供的聚合函数顺序对聚合的轴进行排序 ([GH 33634](https://github.com/pandas-dev/pandas/issues/33634))'
- en: Bug in [`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") not interpreting missing values as no threshold ([GH
    40420](https://github.com/pandas-dev/pandas/issues/40420))
  id: totrans-1842
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`DataFrame.clip()`](../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip
    "pandas.DataFrame.clip") 中，将缺失值解释为无阈值 ([GH 40420](https://github.com/pandas-dev/pandas/issues/40420))
- en: Conversion
  id: totrans-1843
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 转换
- en: Bug in [`Series.to_dict()`](../reference/api/pandas.Series.to_dict.html#pandas.Series.to_dict
    "pandas.Series.to_dict") with `orient='records'` now returns Python native types
    ([GH 25969](https://github.com/pandas-dev/pandas/issues/25969))
  id: totrans-1844
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`orient='records'`的 [`Series.to_dict()`](../reference/api/pandas.Series.to_dict.html#pandas.Series.to_dict
    "pandas.Series.to_dict") 现在返回 Python 本机类型 ([GH 25969](https://github.com/pandas-dev/pandas/issues/25969))
- en: Bug in [`Series.view()`](../reference/api/pandas.Series.view.html#pandas.Series.view
    "pandas.Series.view") and [`Index.view()`](../reference/api/pandas.Index.view.html#pandas.Index.view
    "pandas.Index.view") when converting between datetime-like (`datetime64[ns]`,
    `datetime64[ns, tz]`, `timedelta64`, `period`) dtypes ([GH 39788](https://github.com/pandas-dev/pandas/issues/39788))
  id: totrans-1845
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在转换日期时间型 (`datetime64[ns]`, `datetime64[ns, tz]`, `timedelta64`, `period`) 数据类型时，[`Series.view()`](../reference/api/pandas.Series.view.html#pandas.Series.view
    "pandas.Series.view") 和 [`Index.view()`](../reference/api/pandas.Index.view.html#pandas.Index.view
    "pandas.Index.view") 出现错误 ([GH 39788](https://github.com/pandas-dev/pandas/issues/39788))
- en: Bug in creating a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") from an empty `np.recarray` not retaining the original dtypes
    ([GH 40121](https://github.com/pandas-dev/pandas/issues/40121))
  id: totrans-1846
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从空的 `np.recarray` 创建 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 时，未保留原始数据类型 ([GH 40121](https://github.com/pandas-dev/pandas/issues/40121))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") failing to raise a `TypeError` when constructing from a `frozenset`
    ([GH 40163](https://github.com/pandas-dev/pandas/issues/40163))
  id: totrans-1847
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`frozenset`构建时，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 未能引发`TypeError`错误 ([GH 40163](https://github.com/pandas-dev/pandas/issues/40163))
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    construction silently ignoring a passed `dtype` when the data cannot be cast to
    that dtype ([GH 21311](https://github.com/pandas-dev/pandas/issues/21311))
  id: totrans-1848
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在构建[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    时，当数据无法转换为指定的数据类型时，会默默地忽略传递的 `dtype` ([GH 21311](https://github.com/pandas-dev/pandas/issues/21311))
- en: Bug in `StringArray.astype()` falling back to NumPy and raising when converting
    to `dtype='categorical'` ([GH 40450](https://github.com/pandas-dev/pandas/issues/40450))
  id: totrans-1849
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将 `StringArray.astype()` 转换为 `dtype='categorical'` 时，会回退到 NumPy，并在转换时引发错误 ([GH
    40450](https://github.com/pandas-dev/pandas/issues/40450))
- en: Bug in [`factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize") where, when given an array with a numeric NumPy dtype lower
    than int64, uint64 and float64, the unique values did not keep their original
    dtype ([GH 41132](https://github.com/pandas-dev/pandas/issues/41132))
  id: totrans-1850
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 [`factorize()`](../reference/api/pandas.factorize.html#pandas.factorize
    "pandas.factorize") 时，给定的数组是具有低于 int64、uint64 和 float64 的数值 NumPy 数据类型时，唯一值未能保持其原始数据类型
    ([GH 41132](https://github.com/pandas-dev/pandas/issues/41132))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") construction with a dictionary containing an array-like with
    `ExtensionDtype` and `copy=True` failing to make a copy ([GH 38939](https://github.com/pandas-dev/pandas/issues/38939))
  id: totrans-1851
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用包含`ExtensionDtype`且`copy=True`的数组形式的字典构建 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 时出现错误，未能进行复制 ([GH 38939](https://github.com/pandas-dev/pandas/issues/38939))
- en: Bug in [`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut "pandas.qcut")
    raising error when taking `Float64DType` as input ([GH 40730](https://github.com/pandas-dev/pandas/issues/40730))
  id: totrans-1852
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `Float64DType` 作为输入时，[`qcut()`](../reference/api/pandas.qcut.html#pandas.qcut
    "pandas.qcut") 报错 ([GH 40730](https://github.com/pandas-dev/pandas/issues/40730))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") construction with `datetime64[ns]` data and `dtype=object` resulting
    in `datetime` objects instead of [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") objects ([GH 41599](https://github.com/pandas-dev/pandas/issues/41599))
  id: totrans-1853
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`datetime64[ns]`数据和`dtype=object`构建[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")和[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时存在错误，导致生成`datetime`对象而不是[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")对象（[GH 41599](https://github.com/pandas-dev/pandas/issues/41599))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") construction with `timedelta64[ns]` data and `dtype=object` resulting
    in `np.timedelta64` objects instead of [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") objects ([GH 41599](https://github.com/pandas-dev/pandas/issues/41599))
  id: totrans-1854
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`timedelta64[ns]`数据和`dtype=object`构建[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")和[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时存在错误，导致生成`np.timedelta64`对象而不是[`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta")对象（[GH 41599](https://github.com/pandas-dev/pandas/issues/41599))
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") construction when given a two-dimensional object-dtype `np.ndarray`
    of [`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    or [`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")
    objects failing to cast to [`PeriodDtype`](../reference/api/pandas.PeriodDtype.html#pandas.PeriodDtype
    "pandas.PeriodDtype") or [`IntervalDtype`](../reference/api/pandas.IntervalDtype.html#pandas.IntervalDtype
    "pandas.IntervalDtype"), respectively ([GH 41812](https://github.com/pandas-dev/pandas/issues/41812))
  id: totrans-1855
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在给定两维对象dtype `np.ndarray`的[`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period")或[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval
    "pandas.Interval")对象构建[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")时存在错误，无法强制转换为[`PeriodDtype`](../reference/api/pandas.PeriodDtype.html#pandas.PeriodDtype
    "pandas.PeriodDtype")或[`IntervalDtype`](../reference/api/pandas.IntervalDtype.html#pandas.IntervalDtype
    "pandas.IntervalDtype")（[GH 41812](https://github.com/pandas-dev/pandas/issues/41812))
- en: Bug in constructing a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") from a list and a `PandasDtype` ([GH 39357](https://github.com/pandas-dev/pandas/issues/39357))
  id: totrans-1856
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从列表和`PandasDtype`构建[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时存在错误（[GH 39357](https://github.com/pandas-dev/pandas/issues/39357))
- en: Bug in creating a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") from a `range` object that does not fit in the bounds of `int64`
    dtype ([GH 30173](https://github.com/pandas-dev/pandas/issues/30173))
  id: totrans-1857
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从不适合于`int64`dtype边界的`range`对象构建[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时存在错误（[GH 30173](https://github.com/pandas-dev/pandas/issues/30173))
- en: Bug in creating a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") from a `dict` with all-tuple keys and an [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") that requires reindexing ([GH 41707](https://github.com/pandas-dev/pandas/issues/41707))
  id: totrans-1858
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从具有全部元组键和需要重新索引的[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")的`dict`创建[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时存在错误（[GH 41707](https://github.com/pandas-dev/pandas/issues/41707))
- en: Bug in [`infer_dtype()`](../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype
    "pandas.api.types.infer_dtype") not recognizing Series, Index, or array with a
    Period dtype ([GH 23553](https://github.com/pandas-dev/pandas/issues/23553))
  id: totrans-1859
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`infer_dtype()`](../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype
    "pandas.api.types.infer_dtype")中存在错误，无法识别具有周期(dtype)的Series、Index或数组（[GH 23553](https://github.com/pandas-dev/pandas/issues/23553))
- en: Bug in [`infer_dtype()`](../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype
    "pandas.api.types.infer_dtype") raising an error for general [`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray") objects. It will now return `"unknown-array"`
    instead of raising ([GH 37367](https://github.com/pandas-dev/pandas/issues/37367))
  id: totrans-1860
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在一般的[`ExtensionArray`](../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray
    "pandas.api.extensions.ExtensionArray")对象中存在错误，[`infer_dtype()`](../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype
    "pandas.api.types.infer_dtype")引发错误。现在将返回`"unknown-array"`而不是引发错误（[GH 37367](https://github.com/pandas-dev/pandas/issues/37367))
- en: Bug in [`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes") incorrectly raised a `ValueError` when called
    on an empty DataFrame ([GH 40393](https://github.com/pandas-dev/pandas/issues/40393))
  id: totrans-1861
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes") 中的错误，当对空 DataFrame 进行调用时错误地引发了 `ValueError`（[GH
    40393](https://github.com/pandas-dev/pandas/issues/40393))'
- en: Strings
  id: totrans-1862
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 字符串
- en: Bug in the conversion from `pyarrow.ChunkedArray` to [`StringArray`](../reference/api/pandas.arrays.StringArray.html#pandas.arrays.StringArray
    "pandas.arrays.StringArray") when the original had zero chunks ([GH 41040](https://github.com/pandas-dev/pandas/issues/41040))
  id: totrans-1863
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 `pyarrow.ChunkedArray` 转换为 [`StringArray`](../reference/api/pandas.arrays.StringArray.html#pandas.arrays.StringArray
    "pandas.arrays.StringArray") 时的错误，当原始数据块为零时（[GH 41040](https://github.com/pandas-dev/pandas/issues/41040))
- en: Bug in [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") and [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") ignoring replacements with `regex=True` for `StringDType`
    data ([GH 41333](https://github.com/pandas-dev/pandas/issues/41333), [GH 35977](https://github.com/pandas-dev/pandas/issues/35977))
  id: totrans-1864
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 和 [`DataFrame.replace()`](../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace
    "pandas.DataFrame.replace") 中的漏洞，忽略了对 `StringDType` 数据使用 `regex=True` 进行替换（[GH
    41333](https://github.com/pandas-dev/pandas/issues/41333)，[GH 35977](https://github.com/pandas-dev/pandas/issues/35977))'
- en: Bug in [`Series.str.extract()`](../reference/api/pandas.Series.str.extract.html#pandas.Series.str.extract
    "pandas.Series.str.extract") with [`StringArray`](../reference/api/pandas.arrays.StringArray.html#pandas.arrays.StringArray
    "pandas.arrays.StringArray") returning object dtype for an empty [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 41441](https://github.com/pandas-dev/pandas/issues/41441))
  id: totrans-1865
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.extract()`](../reference/api/pandas.Series.str.extract.html#pandas.Series.str.extract
    "pandas.Series.str.extract") 中的漏洞，使用 [`StringArray`](../reference/api/pandas.arrays.StringArray.html#pandas.arrays.StringArray
    "pandas.arrays.StringArray") 返回空 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 时返回对象 dtype（[GH 41441](https://github.com/pandas-dev/pandas/issues/41441))'
- en: Bug in [`Series.str.replace()`](../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace
    "pandas.Series.str.replace") where the `case` argument was ignored when `regex=False`
    ([GH 41602](https://github.com/pandas-dev/pandas/issues/41602))
  id: totrans-1866
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.str.replace()`](../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace
    "pandas.Series.str.replace") 中的漏洞，在 `regex=False` 时忽略了 `case` 参数的情况（[GH 41602](https://github.com/pandas-dev/pandas/issues/41602))'
- en: Interval
  id: totrans-1867
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 区间
- en: Bug in `IntervalIndex.intersection()` and `IntervalIndex.symmetric_difference()`
    always returning object-dtype when operating with [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") ([GH 38653](https://github.com/pandas-dev/pandas/issues/38653),
    [GH 38741](https://github.com/pandas-dev/pandas/issues/38741))
  id: totrans-1868
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在与 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 进行操作时，`IntervalIndex.intersection()` 和 `IntervalIndex.symmetric_difference()`
    总是返回对象 dtype 的漏洞（[GH 38653](https://github.com/pandas-dev/pandas/issues/38653)，[GH
    38741](https://github.com/pandas-dev/pandas/issues/38741))
- en: Bug in `IntervalIndex.intersection()` returning duplicates when at least one
    of the [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    objects have duplicates which are present in the other ([GH 38743](https://github.com/pandas-dev/pandas/issues/38743))
  id: totrans-1869
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在至少一个 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    对象有重复项且存在于另一个对象中时，`IntervalIndex.intersection()` 返回重复项的漏洞（[GH 38743](https://github.com/pandas-dev/pandas/issues/38743))
- en: '`IntervalIndex.union()`, `IntervalIndex.intersection()`, `IntervalIndex.difference()`,
    and `IntervalIndex.symmetric_difference()` now cast to the appropriate dtype instead
    of raising a `TypeError` when operating with another [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") with incompatible dtype ([GH 39267](https://github.com/pandas-dev/pandas/issues/39267))'
  id: totrans-1870
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`IntervalIndex.union()`、`IntervalIndex.intersection()`、`IntervalIndex.difference()`
    和 `IntervalIndex.symmetric_difference()` 在与另一个具有不兼容 dtype 的 [`IntervalIndex`](../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex
    "pandas.IntervalIndex") 进行操作时，现在会转换为适当的 dtype，而不是引发 `TypeError`（[GH 39267](https://github.com/pandas-dev/pandas/issues/39267))'
- en: '`PeriodIndex.union()`, `PeriodIndex.intersection()`, `PeriodIndex.symmetric_difference()`,
    `PeriodIndex.difference()` now cast to object dtype instead of raising `IncompatibleFrequency`
    when operating with another [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") with incompatible dtype ([GH 39306](https://github.com/pandas-dev/pandas/issues/39306))'
  id: totrans-1871
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PeriodIndex.union()`, `PeriodIndex.intersection()`, `PeriodIndex.symmetric_difference()`,
    `PeriodIndex.difference()` 现在在与另一个不兼容的 [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") 进行操作时转换为对象 dtype，而不是引发 `IncompatibleFrequency` 错误（[GH 39306](https://github.com/pandas-dev/pandas/issues/39306))'
- en: Bug in `IntervalIndex.is_monotonic()`, [`IntervalIndex.get_loc()`](../reference/api/pandas.IntervalIndex.get_loc.html#pandas.IntervalIndex.get_loc
    "pandas.IntervalIndex.get_loc"), `IntervalIndex.get_indexer_for()`, and `IntervalIndex.__contains__()`
    when NA values are present ([GH 41831](https://github.com/pandas-dev/pandas/issues/41831))
  id: totrans-1872
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当存在 NA 值时，`IntervalIndex.is_monotonic()`、[`IntervalIndex.get_loc()`](../reference/api/pandas.IntervalIndex.get_loc.html#pandas.IntervalIndex.get_loc
    "pandas.IntervalIndex.get_loc")、`IntervalIndex.get_indexer_for()` 和 `IntervalIndex.__contains__()`
    中的 Bug ([GH 41831](https://github.com/pandas-dev/pandas/issues/41831))
- en: Indexing
  id: totrans-1873
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 索引
- en: Bug in [`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") and `MultiIndex.union()` dropping duplicate `Index` values
    when `Index` was not monotonic or `sort` was set to `False` ([GH 36289](https://github.com/pandas-dev/pandas/issues/36289),
    [GH 31326](https://github.com/pandas-dev/pandas/issues/31326), [GH 40862](https://github.com/pandas-dev/pandas/issues/40862))
  id: totrans-1874
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.union()`](../reference/api/pandas.Index.union.html#pandas.Index.union
    "pandas.Index.union") 和 `MultiIndex.union()` 中的 Bug，在 `Index` 不单调或 `sort` 设置为
    `False` 时丢弃重复的 `Index` 值（[GH 36289](https://github.com/pandas-dev/pandas/issues/36289),
    [GH 31326](https://github.com/pandas-dev/pandas/issues/31326), [GH 40862](https://github.com/pandas-dev/pandas/issues/40862))'
- en: Bug in `CategoricalIndex.get_indexer()` failing to raise `InvalidIndexError`
    when non-unique ([GH 38372](https://github.com/pandas-dev/pandas/issues/38372))
  id: totrans-1875
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在非唯一时未引发 `InvalidIndexError` 的 `CategoricalIndex.get_indexer()` 中的 Bug ([GH
    38372](https://github.com/pandas-dev/pandas/issues/38372))
- en: Bug in [`IntervalIndex.get_indexer()`](../reference/api/pandas.IntervalIndex.get_indexer.html#pandas.IntervalIndex.get_indexer
    "pandas.IntervalIndex.get_indexer") when `target` has `CategoricalDtype` and both
    the index and the target contain NA values ([GH 41934](https://github.com/pandas-dev/pandas/issues/41934))
  id: totrans-1876
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `target` 具有 `CategoricalDtype` 且索引和目标均包含 NA 值时，[`IntervalIndex.get_indexer()`](../reference/api/pandas.IntervalIndex.get_indexer.html#pandas.IntervalIndex.get_indexer
    "pandas.IntervalIndex.get_indexer") 中的 Bug ([GH 41934](https://github.com/pandas-dev/pandas/issues/41934))
- en: Bug in [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") raising a `ValueError` when input was filtered with a Boolean
    list and values to set were a list with lower dimension ([GH 20438](https://github.com/pandas-dev/pandas/issues/20438))
  id: totrans-1877
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用布尔列表过滤输入并且要设置的值是维度较低的列表时，[`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc") 中的 Bug 引发 `ValueError` ([GH 20438](https://github.com/pandas-dev/pandas/issues/20438))
- en: Bug in inserting many new columns into a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") causing incorrect subsequent indexing behavior ([GH 38380](https://github.com/pandas-dev/pandas/issues/38380))
  id: totrans-1878
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 插入许多新列到 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 中的 Bug 导致后续索引行为不正确 ([GH 38380](https://github.com/pandas-dev/pandas/issues/38380))
- en: Bug in `DataFrame.__setitem__()` raising a `ValueError` when setting multiple
    values to duplicate columns ([GH 15695](https://github.com/pandas-dev/pandas/issues/15695))
  id: totrans-1879
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将多个值设置为重复列时，`DataFrame.__setitem__()` 引发 `ValueError` 的 Bug ([GH 15695](https://github.com/pandas-dev/pandas/issues/15695))
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc"), [`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc"), `DataFrame.__getitem__()` and `Series.__getitem__()` returning
    incorrect elements for non-monotonic [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") for string slices ([GH 33146](https://github.com/pandas-dev/pandas/issues/33146))
  id: totrans-1880
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于非单调的 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 的字符串切片，[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc")、[`Series.loc()`](../reference/api/pandas.Series.loc.html#pandas.Series.loc
    "pandas.Series.loc")、`DataFrame.__getitem__()` 和 `Series.__getitem__()` 返回不正确的元素的
    Bug ([GH 33146](https://github.com/pandas-dev/pandas/issues/33146))
- en: Bug in [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") and [`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex") with timezone aware indexes raising a `TypeError` for
    `method="ffill"` and `method="bfill"` and specified `tolerance` ([GH 38566](https://github.com/pandas-dev/pandas/issues/38566))
  id: totrans-1881
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex")和[`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex")中的错误，在具有时区意识索引的情况下，对`method="ffill"`和`method="bfill"`以及指定`tolerance`时引发`TypeError`（[GH
    38566](https://github.com/pandas-dev/pandas/issues/38566))'
- en: Bug in [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") with `datetime64[ns]` or `timedelta64[ns]` incorrectly
    casting to integers when the `fill_value` requires casting to object dtype ([GH
    39755](https://github.com/pandas-dev/pandas/issues/39755))
  id: totrans-1882
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex")中的错误，在`datetime64[ns]`或`timedelta64[ns]`需要转换为对象数据类型时，错误地转换为整数，导致`fill_value`错误（[GH
    39755](https://github.com/pandas-dev/pandas/issues/39755))'
- en: Bug in `DataFrame.__setitem__()` raising a `ValueError` when setting on an empty
    [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    using specified columns and a nonempty [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") value ([GH 38831](https://github.com/pandas-dev/pandas/issues/38831))
  id: totrans-1883
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.__setitem__()`中的错误，在使用指定列和非空[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")值设置空[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")时引发`ValueError`（[GH 38831](https://github.com/pandas-dev/pandas/issues/38831))'
- en: Bug in `DataFrame.loc.__setitem__()` raising a `ValueError` when operating on
    a unique column when the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") has duplicate columns ([GH 38521](https://github.com/pandas-dev/pandas/issues/38521))
  id: totrans-1884
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.loc.__setitem__()`中的错误，在操作唯一列时，当[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")具有重复列时引发`ValueError`（[GH 38521](https://github.com/pandas-dev/pandas/issues/38521))'
- en: Bug in `DataFrame.iloc.__setitem__()` and `DataFrame.loc.__setitem__()` with
    mixed dtypes when setting with a dictionary value ([GH 38335](https://github.com/pandas-dev/pandas/issues/38335))
  id: totrans-1885
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.iloc.__setitem__()`和`DataFrame.loc.__setitem__()`中的错误，在使用字典值设置时，混合数据类型引发`ValueError`（[GH
    38335](https://github.com/pandas-dev/pandas/issues/38335))'
- en: Bug in `Series.loc.__setitem__()` and `DataFrame.loc.__setitem__()` raising
    `KeyError` when provided a Boolean generator ([GH 39614](https://github.com/pandas-dev/pandas/issues/39614))
  id: totrans-1886
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.loc.__setitem__()`和`DataFrame.loc.__setitem__()`中的错误，在提供布尔生成器时引发`KeyError`（[GH
    39614](https://github.com/pandas-dev/pandas/issues/39614))'
- en: Bug in [`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc") and [`DataFrame.iloc()`](../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc
    "pandas.DataFrame.iloc") raising a `KeyError` when provided a generator ([GH 39614](https://github.com/pandas-dev/pandas/issues/39614))
  id: totrans-1887
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.iloc()`](../reference/api/pandas.Series.iloc.html#pandas.Series.iloc
    "pandas.Series.iloc")和[`DataFrame.iloc()`](../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc
    "pandas.DataFrame.iloc")中的错误，在提供生成器时引发`KeyError`（[GH 39614](https://github.com/pandas-dev/pandas/issues/39614))'
- en: Bug in `DataFrame.__setitem__()` not raising a `ValueError` when the right hand
    side is a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with wrong number of columns ([GH 38604](https://github.com/pandas-dev/pandas/issues/38604))
  id: totrans-1888
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.__setitem__()`中的错误，在右侧为列数不正确的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")时未引发`ValueError`（[GH 38604](https://github.com/pandas-dev/pandas/issues/38604))'
- en: Bug in `Series.__setitem__()` raising a `ValueError` when setting a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with a scalar indexer ([GH 38303](https://github.com/pandas-dev/pandas/issues/38303))
  id: totrans-1889
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.__setitem__()`中的错误，在使用标量索引器设置[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时引发`ValueError`（[GH 38303](https://github.com/pandas-dev/pandas/issues/38303))'
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") dropping levels of a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") when the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") used as input has only one row ([GH 10521](https://github.com/pandas-dev/pandas/issues/10521))
  id: totrans-1890
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc")中，当作为输入的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")仅具有一行时，丢弃[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")的级别的错误（[GH 10521](https://github.com/pandas-dev/pandas/issues/10521))
- en: Bug in `DataFrame.__getitem__()` and `Series.__getitem__()` always raising `KeyError`
    when slicing with existing strings where the [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") has milliseconds ([GH 33589](https://github.com/pandas-dev/pandas/issues/33589))
  id: totrans-1891
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用具有毫秒的现有字符串进行切片时，`DataFrame.__getitem__()`和`Series.__getitem__()`总是引发`KeyError`的错误，而[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")具有毫秒时的错误（[GH 33589](https://github.com/pandas-dev/pandas/issues/33589))
- en: Bug in setting `timedelta64` or `datetime64` values into numeric [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") failing to cast to object dtype ([GH 39086](https://github.com/pandas-dev/pandas/issues/39086),
    [GH 39619](https://github.com/pandas-dev/pandas/issues/39619))
  id: totrans-1892
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将`timedelta64`或`datetime64`值设置为数值[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时出现的错误，无法将其转换为对象dtype（[GH 39086](https://github.com/pandas-dev/pandas/issues/39086)，[GH
    39619](https://github.com/pandas-dev/pandas/issues/39619))
- en: Bug in setting [`Interval`](../reference/api/pandas.Interval.html#pandas.Interval
    "pandas.Interval") values into a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with mismatched [`IntervalDtype`](../reference/api/pandas.IntervalDtype.html#pandas.IntervalDtype
    "pandas.IntervalDtype") incorrectly casting the new values to the existing dtype
    ([GH 39120](https://github.com/pandas-dev/pandas/issues/39120))
  id: totrans-1893
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将[`Interval`](../reference/api/pandas.Interval.html#pandas.Interval "pandas.Interval")值设置为具有不匹配的[`IntervalDtype`](../reference/api/pandas.IntervalDtype.html#pandas.IntervalDtype
    "pandas.IntervalDtype")的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")或[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")中的错误，错误地将新值转换为现有dtype（[GH 39120](https://github.com/pandas-dev/pandas/issues/39120))
- en: Bug in setting `datetime64` values into a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with integer-dtype incorrectly casting the datetime64 values
    to integers ([GH 39266](https://github.com/pandas-dev/pandas/issues/39266))
  id: totrans-1894
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将`datetime64`值设置为具有整数dtype的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")中的错误，错误地将datetime64值转换为整数（[GH 39266](https://github.com/pandas-dev/pandas/issues/39266))
- en: Bug in setting `np.datetime64("NaT")` into a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") with `Datetime64TZDtype` incorrectly treating the timezone-naive
    value as timezone-aware ([GH 39769](https://github.com/pandas-dev/pandas/issues/39769))
  id: totrans-1895
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将`np.datetime64("NaT")`设置为具有`Datetime64TZDtype`的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")中的错误，错误地将时区无关的值错误地视为时区感知值（[GH 39769](https://github.com/pandas-dev/pandas/issues/39769))
- en: Bug in [`Index.get_loc()`](../reference/api/pandas.Index.get_loc.html#pandas.Index.get_loc
    "pandas.Index.get_loc") not raising `KeyError` when `key=NaN` and `method` is
    specified but `NaN` is not in the [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") ([GH 39382](https://github.com/pandas-dev/pandas/issues/39382))
  id: totrans-1896
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`key=NaN`且指定了`method`但`NaN`不在[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")中时，[`Index.get_loc()`](../reference/api/pandas.Index.get_loc.html#pandas.Index.get_loc
    "pandas.Index.get_loc")中的错误未引发`KeyError`（[GH 39382](https://github.com/pandas-dev/pandas/issues/39382))
- en: Bug in `DatetimeIndex.insert()` when inserting `np.datetime64("NaT")` into a
    timezone-aware index incorrectly treating the timezone-naive value as timezone-aware
    ([GH 39769](https://github.com/pandas-dev/pandas/issues/39769))
  id: totrans-1897
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在向具有时区意识的索引中插入`np.datetime64("NaT")`时，在`DatetimeIndex.insert()`中的错误，错误地将时区无关的值错误地视为时区感知值（[GH
    39769](https://github.com/pandas-dev/pandas/issues/39769))
- en: Bug in incorrectly raising in [`Index.insert()`](../reference/api/pandas.Index.insert.html#pandas.Index.insert
    "pandas.Index.insert"), when setting a new column that cannot be held in the existing
    `frame.columns`, or in [`Series.reset_index()`](../reference/api/pandas.Series.reset_index.html#pandas.Series.reset_index
    "pandas.Series.reset_index") or [`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index") instead of casting to a compatible dtype ([GH
    39068](https://github.com/pandas-dev/pandas/issues/39068))
  id: totrans-1898
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Index.insert()`](../reference/api/pandas.Index.insert.html#pandas.Index.insert
    "pandas.Index.insert")中错误地引发异常，当设置一个无法保存在现有`frame.columns`中的新列时，或在[`Series.reset_index()`](../reference/api/pandas.Series.reset_index.html#pandas.Series.reset_index
    "pandas.Series.reset_index")或[`DataFrame.reset_index()`](../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index
    "pandas.DataFrame.reset_index")中而不是转换为兼容的数据类型时（[GH 39068](https://github.com/pandas-dev/pandas/issues/39068))
- en: Bug in `RangeIndex.append()` where a single object of length 1 was concatenated
    incorrectly ([GH 39401](https://github.com/pandas-dev/pandas/issues/39401))
  id: totrans-1899
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`RangeIndex.append()`中的错误，其中长度为1的单个对象被错误地连接（[GH 39401](https://github.com/pandas-dev/pandas/issues/39401))
- en: Bug in `RangeIndex.astype()` where when converting to [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex"), the categories became a `Int64Index` instead of a
    [`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex "pandas.RangeIndex")
    ([GH 41263](https://github.com/pandas-dev/pandas/issues/41263))
  id: totrans-1900
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`RangeIndex.astype()`中的错误，当转换为[`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex")时，类别变为`Int64Index`而不是[`RangeIndex`](../reference/api/pandas.RangeIndex.html#pandas.RangeIndex
    "pandas.RangeIndex")（[GH 41263](https://github.com/pandas-dev/pandas/issues/41263))
- en: Bug in setting `numpy.timedelta64` values into an object-dtype [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") using a Boolean indexer ([GH 39488](https://github.com/pandas-dev/pandas/issues/39488))
  id: totrans-1901
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将`numpy.timedelta64`值设置为对象数据类型[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")时出现的错误，使用布尔索引器（[GH 39488](https://github.com/pandas-dev/pandas/issues/39488))
- en: Bug in setting numeric values into a into a boolean-dtypes [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") using `at` or `iat` failing to cast to object-dtype ([GH 39582](https://github.com/pandas-dev/pandas/issues/39582))
  id: totrans-1902
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将数值设置为布尔数据类型[`Series`](../reference/api/pandas.Series.html#pandas.Series "pandas.Series")时使用`at`或`iat`失败将其转换为对象数据类型的错误（[GH
    39582](https://github.com/pandas-dev/pandas/issues/39582))
- en: Bug in `DataFrame.__setitem__()` and `DataFrame.iloc.__setitem__()` raising
    `ValueError` when trying to index with a row-slice and setting a list as values
    ([GH 40440](https://github.com/pandas-dev/pandas/issues/40440))
  id: totrans-1903
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrame.__setitem__()`和`DataFrame.iloc.__setitem__()`中的错误，在尝试使用行切片索引并设置列表作为值时引发`ValueError`（[GH
    40440](https://github.com/pandas-dev/pandas/issues/40440))
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") not raising `KeyError` when the key was not found in [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") and the levels were not fully specified ([GH 41170](https://github.com/pandas-dev/pandas/issues/41170))
  id: totrans-1904
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc")中的错误，在[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")中未找到键时未引发`KeyError`，且级别未完全指定时（[GH 41170](https://github.com/pandas-dev/pandas/issues/41170))'
- en: Bug in `DataFrame.loc.__setitem__()` when setting-with-expansion incorrectly
    raising when the index in the expanding axis contained duplicates ([GH 40096](https://github.com/pandas-dev/pandas/issues/40096))
  id: totrans-1905
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在设置时出现的`DataFrame.loc.__setitem__()`错误，当在扩展轴中的索引包含重复项时错误地引发异常（[GH 40096](https://github.com/pandas-dev/pandas/issues/40096))
- en: Bug in `DataFrame.loc.__getitem__()` with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") casting to float when at least one index column has float
    dtype and we retrieve a scalar ([GH 41369](https://github.com/pandas-dev/pandas/issues/41369))
  id: totrans-1906
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrame.loc.__getitem__()`中的错误，当至少一个索引列具有浮点数据类型且我们检索标量时，将[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")转换为浮点数（[GH 41369](https://github.com/pandas-dev/pandas/issues/41369))
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") incorrectly matching non-Boolean index elements ([GH 20432](https://github.com/pandas-dev/pandas/issues/20432))
  id: totrans-1907
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc")中的错误，错误地匹配非布尔索引元素（[GH 20432](https://github.com/pandas-dev/pandas/issues/20432))'
- en: Bug in indexing with `np.nan` on a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") incorrectly raising `KeyError` when `np.nan` keys are
    present ([GH 41933](https://github.com/pandas-dev/pandas/issues/41933))
  id: totrans-1908
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在带有 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 上使用 `np.nan` 进行索引时，出现 `np.nan` 键时错误地引发 `KeyError`（[GH 41933](https://github.com/pandas-dev/pandas/issues/41933))
- en: Bug in `Series.__delitem__()` with `ExtensionDtype` incorrectly casting to `ndarray`
    ([GH 40386](https://github.com/pandas-dev/pandas/issues/40386))
  id: totrans-1909
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.__delitem__()` 中的一个 bug 在使用 `ExtensionDtype` 时错误地转换为 `ndarray`（[GH
    40386](https://github.com/pandas-dev/pandas/issues/40386))'
- en: Bug in [`DataFrame.at()`](../reference/api/pandas.DataFrame.at.html#pandas.DataFrame.at
    "pandas.DataFrame.at") with a [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") returning incorrect results when passed integer keys
    ([GH 41846](https://github.com/pandas-dev/pandas/issues/41846))
  id: totrans-1910
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.at()`](../reference/api/pandas.DataFrame.at.html#pandas.DataFrame.at
    "pandas.DataFrame.at") 中的一个 bug 在传递整数键时返回不正确的结果（[GH 41846](https://github.com/pandas-dev/pandas/issues/41846))'
- en: Bug in [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") returning a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") in the wrong order if an indexer has duplicates ([GH 40978](https://github.com/pandas-dev/pandas/issues/40978))
  id: totrans-1911
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") 中的一个 bug 在索引器存在重复值时返回顺序错误的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")（[GH 40978](https://github.com/pandas-dev/pandas/issues/40978))'
- en: Bug in `DataFrame.__setitem__()` raising a `TypeError` when using a `str` subclass
    as the column name with a [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") ([GH 37366](https://github.com/pandas-dev/pandas/issues/37366))
  id: totrans-1912
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.__setitem__()` 中的一个 bug 导致在使用 `str` 子类作为列名并且带有 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 时引发 `TypeError`（[GH 37366](https://github.com/pandas-dev/pandas/issues/37366))'
- en: Bug in `PeriodIndex.get_loc()` failing to raise a `KeyError` when given a [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") with a mismatched `freq` ([GH 41670](https://github.com/pandas-dev/pandas/issues/41670))
  id: totrans-1913
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PeriodIndex.get_loc()` 中的一个 bug 在给定不匹配 `freq` 的 [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") 时未能引发 `KeyError`（[GH 41670](https://github.com/pandas-dev/pandas/issues/41670))'
- en: Bug `.loc.__getitem__` with a `UInt64Index` and negative-integer keys raising
    `OverflowError` instead of `KeyError` in some cases, wrapping around to positive
    integers in others ([GH 41777](https://github.com/pandas-dev/pandas/issues/41777))
  id: totrans-1914
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `UInt64Index` 和负整数键时，`.loc.__getitem__` 中的一个 bug 在一些情况下引发 `OverflowError`
    而不是 `KeyError`，在其他情况下则将其包装为正整数（[GH 41777](https://github.com/pandas-dev/pandas/issues/41777))
- en: Bug in [`Index.get_indexer()`](../reference/api/pandas.Index.get_indexer.html#pandas.Index.get_indexer
    "pandas.Index.get_indexer") failing to raise `ValueError` in some cases with invalid
    `method`, `limit`, or `tolerance` arguments ([GH 41918](https://github.com/pandas-dev/pandas/issues/41918))
  id: totrans-1915
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.get_indexer()`](../reference/api/pandas.Index.get_indexer.html#pandas.Index.get_indexer
    "pandas.Index.get_indexer") 中的一个 bug 在一些情况下无效的 `method`、`limit` 或 `tolerance`
    参数时未能引发 `ValueError`（[GH 41918](https://github.com/pandas-dev/pandas/issues/41918))'
- en: Bug when slicing a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") when passing an invalid string raising `ValueError` instead
    of a `TypeError` ([GH 41821](https://github.com/pandas-dev/pandas/issues/41821))
  id: totrans-1916
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用带有 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 进行切片时，传递无效字符串时错误地引发 `ValueError` 而不是 `TypeError`（[GH 41821](https://github.com/pandas-dev/pandas/issues/41821))
- en: Bug in [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    constructor sometimes silently ignoring a specified `dtype` ([GH 38879](https://github.com/pandas-dev/pandas/issues/38879))
  id: totrans-1917
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")构造函数有时会悄悄地忽略指定的`dtype`（[GH
    38879](https://github.com/pandas-dev/pandas/issues/38879)）'
- en: '[`Index.where()`](../reference/api/pandas.Index.where.html#pandas.Index.where
    "pandas.Index.where") behavior now mirrors [`Index.putmask()`](../reference/api/pandas.Index.putmask.html#pandas.Index.putmask
    "pandas.Index.putmask") behavior, i.e. `index.where(mask, other)` matches `index.putmask(~mask,
    other)` ([GH 39412](https://github.com/pandas-dev/pandas/issues/39412))'
  id: totrans-1918
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index.where()`](../reference/api/pandas.Index.where.html#pandas.Index.where
    "pandas.Index.where")的行为现在与[`Index.putmask()`](../reference/api/pandas.Index.putmask.html#pandas.Index.putmask
    "pandas.Index.putmask")的行为相匹配，即`index.where(mask, other)`与`index.putmask(~mask,
    other)`匹配（[GH 39412](https://github.com/pandas-dev/pandas/issues/39412)）'
- en: Missing
  id: totrans-1919
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 缺失
- en: Bug in [`Grouper`](../reference/api/pandas.Grouper.html#pandas.Grouper "pandas.Grouper")
    did not correctly propagate the `dropna` argument; [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") now correctly handles missing
    values for `dropna=True` ([GH 35612](https://github.com/pandas-dev/pandas/issues/35612))
  id: totrans-1920
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Grouper`](../reference/api/pandas.Grouper.html#pandas.Grouper "pandas.Grouper")中的错误未正确传播`dropna`参数；[`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform")现在正确处理`dropna=True`的缺失值（[GH 35612](https://github.com/pandas-dev/pandas/issues/35612)）'
- en: Bug in [`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna"),
    [`Series.isna()`](../reference/api/pandas.Series.isna.html#pandas.Series.isna
    "pandas.Series.isna"), [`Index.isna()`](../reference/api/pandas.Index.isna.html#pandas.Index.isna
    "pandas.Index.isna"), [`DataFrame.isna()`](../reference/api/pandas.DataFrame.isna.html#pandas.DataFrame.isna
    "pandas.DataFrame.isna"), and the corresponding `notna` functions not recognizing
    `Decimal("NaN")` objects ([GH 39409](https://github.com/pandas-dev/pandas/issues/39409))
  id: totrans-1921
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna")、[`Series.isna()`](../reference/api/pandas.Series.isna.html#pandas.Series.isna
    "pandas.Series.isna")、[`Index.isna()`](../reference/api/pandas.Index.isna.html#pandas.Index.isna
    "pandas.Index.isna")、[`DataFrame.isna()`](../reference/api/pandas.DataFrame.isna.html#pandas.DataFrame.isna
    "pandas.DataFrame.isna")及相应的`notna`函数不能识别`Decimal("NaN")`对象（[GH 39409](https://github.com/pandas-dev/pandas/issues/39409)）'
- en: Bug in [`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna") not accepting a dictionary for the `downcast` keyword
    ([GH 40809](https://github.com/pandas-dev/pandas/issues/40809))
  id: totrans-1922
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.fillna()`](../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna
    "pandas.DataFrame.fillna")不接受`downcast`关键字的字典（[GH 40809](https://github.com/pandas-dev/pandas/issues/40809)）'
- en: Bug in [`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna")
    not returning a copy of the mask for nullable types, causing any subsequent mask
    modification to change the original array ([GH 40935](https://github.com/pandas-dev/pandas/issues/40935))
  id: totrans-1923
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`isna()`](../reference/api/pandas.isna.html#pandas.isna "pandas.isna")不为可空类型返回掩码的错误，导致任何后续的掩码修改都会更改原始数组（[GH
    40935](https://github.com/pandas-dev/pandas/issues/40935)）'
- en: Bug in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") construction with float data containing `NaN` and an integer
    `dtype` casting instead of retaining the `NaN` ([GH 26919](https://github.com/pandas-dev/pandas/issues/26919))
  id: totrans-1924
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在包含浮点数据且整数`dtype`强制转换而不保留`NaN`的情况下，[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")构造中的错误（[GH 26919](https://github.com/pandas-dev/pandas/issues/26919)）
- en: Bug in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") and `MultiIndex.isin()` didn’t treat all nans as equivalent
    if they were in tuples ([GH 41836](https://github.com/pandas-dev/pandas/issues/41836))
  id: totrans-1925
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin")和`MultiIndex.isin()`中的错误，如果它们在元组中，则不将所有的nan视为等价的（[GH 41836](https://github.com/pandas-dev/pandas/issues/41836)）'
- en: MultiIndex
  id: totrans-1926
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 多级索引
- en: Bug in [`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop") raising a `TypeError` when the [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") is non-unique and `level` is not provided ([GH 36293](https://github.com/pandas-dev/pandas/issues/36293))
  id: totrans-1927
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")不唯一且未提供`level`时，[`DataFrame.drop()`](../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop
    "pandas.DataFrame.drop")引发`TypeError`的错误（[GH 36293](https://github.com/pandas-dev/pandas/issues/36293)）
- en: Bug in `MultiIndex.intersection()` duplicating `NaN` in the result ([GH 38623](https://github.com/pandas-dev/pandas/issues/38623))
  id: totrans-1928
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在结果中重复 `NaN` 的 Bug，`MultiIndex.intersection()` ([GH 38623](https://github.com/pandas-dev/pandas/issues/38623))
- en: Bug in `MultiIndex.equals()` incorrectly returning `True` when the [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") contained `NaN` even when they are differently ordered ([GH
    38439](https://github.com/pandas-dev/pandas/issues/38439))
  id: totrans-1929
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    包含 `NaN` 且顺序不同时，`MultiIndex.equals()` 中的 Bug 错误地返回 `True` ([GH 38439](https://github.com/pandas-dev/pandas/issues/38439))
- en: Bug in `MultiIndex.intersection()` always returning an empty result when intersecting
    with [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") ([GH 38653](https://github.com/pandas-dev/pandas/issues/38653))
  id: totrans-1930
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当与 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 相交时，`MultiIndex.intersection()` 中的 Bug 始终返回空结果 ([GH
    38653](https://github.com/pandas-dev/pandas/issues/38653))
- en: Bug in `MultiIndex.difference()` incorrectly raising `TypeError` when indexes
    contain non-sortable entries ([GH 41915](https://github.com/pandas-dev/pandas/issues/41915))
  id: totrans-1931
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当索引包含不可排序的条目时，`MultiIndex.difference()` 中的 Bug 错误地引发 `TypeError` ([GH 41915](https://github.com/pandas-dev/pandas/issues/41915))
- en: Bug in `MultiIndex.reindex()` raising a `ValueError` when used on an empty [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") and indexing only a specific level ([GH 41170](https://github.com/pandas-dev/pandas/issues/41170))
  id: totrans-1932
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在空的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 上使用 `MultiIndex.reindex()` 时引发 `ValueError`，并且仅对特定级别进行索引
    ([GH 41170](https://github.com/pandas-dev/pandas/issues/41170))
- en: Bug in `MultiIndex.reindex()` raising `TypeError` when reindexing against a
    flat [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    ([GH 41707](https://github.com/pandas-dev/pandas/issues/41707))
  id: totrans-1933
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当重新索引到一个平坦的 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    时，`MultiIndex.reindex()` 中的 Bug 引发 `TypeError` ([GH 41707](https://github.com/pandas-dev/pandas/issues/41707))
- en: I/O
  id: totrans-1934
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: I/O
- en: Bug in `Index.__repr__()` when `display.max_seq_items=1` ([GH 38415](https://github.com/pandas-dev/pandas/issues/38415))
  id: totrans-1935
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `display.max_seq_items=1` 时，`Index.__repr__()` 中的 Bug ([GH 38415](https://github.com/pandas-dev/pandas/issues/38415))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") not recognizing scientific notation if the argument `decimal`
    is set and `engine="python"` ([GH 31920](https://github.com/pandas-dev/pandas/issues/31920))
  id: totrans-1936
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果参数 `decimal` 被设置且 `engine="python"` 时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中的 Bug 在科学计数法不被识别 ([GH 31920](https://github.com/pandas-dev/pandas/issues/31920))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") interpreting `NA` value as comment, when `NA` does contain
    the comment string fixed for `engine="python"` ([GH 34002](https://github.com/pandas-dev/pandas/issues/34002))
  id: totrans-1937
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `engine="python"` 的情况下，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中的 Bug 将 `NA` 值解释为注释 ([GH 34002](https://github.com/pandas-dev/pandas/issues/34002))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") raising an `IndexError` with multiple header columns and `index_col`
    is specified when the file has no data rows ([GH 38292](https://github.com/pandas-dev/pandas/issues/38292))
  id: totrans-1938
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当文件没有数据行时，具有多个标题列且指定了 `index_col` 时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 中的 Bug 引发 `IndexError` ([GH 38292](https://github.com/pandas-dev/pandas/issues/38292))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") not accepting `usecols` with a different length than `names`
    for `engine="python"` ([GH 16469](https://github.com/pandas-dev/pandas/issues/16469))
  id: totrans-1939
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    中的 Bug 在 `engine="python"` 下不接受与 `names` 不同长度的 `usecols` ([GH 16469](https://github.com/pandas-dev/pandas/issues/16469))'
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") returning object dtype when `delimiter=","` with `usecols`
    and `parse_dates` specified for `engine="python"` ([GH 35873](https://github.com/pandas-dev/pandas/issues/35873))
  id: totrans-1940
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `engine="python"` 的情况下，当 `delimiter=","` 且指定了 `usecols` 和 `parse_dates` 时，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 返回对象 dtype ([GH 35873](https://github.com/pandas-dev/pandas/issues/35873))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") raising a `TypeError` when `names` and `parse_dates` is specified
    for `engine="c"` ([GH 33699](https://github.com/pandas-dev/pandas/issues/33699))
  id: totrans-1941
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    在 `engine="c"` 模式下指定了 `names` 和 `parse_dates` 时引发 `TypeError` 的 bug ([GH 33699](https://github.com/pandas-dev/pandas/issues/33699))
- en: Bug in [`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") and [`DataFrame.to_clipboard()`](../reference/api/pandas.DataFrame.to_clipboard.html#pandas.DataFrame.to_clipboard
    "pandas.DataFrame.to_clipboard") not working in WSL ([GH 38527](https://github.com/pandas-dev/pandas/issues/38527))
  id: totrans-1942
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在 WSL 中 [`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") 和 [`DataFrame.to_clipboard()`](../reference/api/pandas.DataFrame.to_clipboard.html#pandas.DataFrame.to_clipboard
    "pandas.DataFrame.to_clipboard") 不工作的 bug ([GH 38527](https://github.com/pandas-dev/pandas/issues/38527))
- en: Allow custom error values for the `parse_dates` argument of [`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql
    "pandas.read_sql"), [`read_sql_query()`](../reference/api/pandas.read_sql_query.html#pandas.read_sql_query
    "pandas.read_sql_query") and [`read_sql_table()`](../reference/api/pandas.read_sql_table.html#pandas.read_sql_table
    "pandas.read_sql_table") ([GH 35185](https://github.com/pandas-dev/pandas/issues/35185))
  id: totrans-1943
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许为 [`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql "pandas.read_sql")、[`read_sql_query()`](../reference/api/pandas.read_sql_query.html#pandas.read_sql_query
    "pandas.read_sql_query") 和 [`read_sql_table()`](../reference/api/pandas.read_sql_table.html#pandas.read_sql_table
    "pandas.read_sql_table") 的 `parse_dates` 参数设置自定义错误值 ([GH 35185](https://github.com/pandas-dev/pandas/issues/35185))
- en: Bug in [`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf") and [`Series.to_hdf()`](../reference/api/pandas.Series.to_hdf.html#pandas.Series.to_hdf
    "pandas.Series.to_hdf") raising a `KeyError` when trying to apply for subclasses
    of `DataFrame` or `Series` ([GH 33748](https://github.com/pandas-dev/pandas/issues/33748))
  id: totrans-1944
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf") 和 [`Series.to_hdf()`](../reference/api/pandas.Series.to_hdf.html#pandas.Series.to_hdf
    "pandas.Series.to_hdf") 在尝试应用于 `DataFrame` 或 `Series` 的子类时引发 `KeyError` 的 bug
    ([GH 33748](https://github.com/pandas-dev/pandas/issues/33748))
- en: Bug in [`HDFStore.put()`](../reference/api/pandas.HDFStore.put.html#pandas.HDFStore.put
    "pandas.HDFStore.put") raising a wrong `TypeError` when saving a DataFrame with
    non-string dtype ([GH 34274](https://github.com/pandas-dev/pandas/issues/34274))
  id: totrans-1945
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`HDFStore.put()`](../reference/api/pandas.HDFStore.put.html#pandas.HDFStore.put
    "pandas.HDFStore.put") 在保存具有非字符串 dtype 的 DataFrame 时引发错误的 `TypeError` 的 bug ([GH
    34274](https://github.com/pandas-dev/pandas/issues/34274))
- en: Bug in [`json_normalize()`](../reference/api/pandas.json_normalize.html#pandas.json_normalize
    "pandas.json_normalize") resulting in the first element of a generator object
    not being included in the returned DataFrame ([GH 35923](https://github.com/pandas-dev/pandas/issues/35923))
  id: totrans-1946
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`json_normalize()`](../reference/api/pandas.json_normalize.html#pandas.json_normalize
    "pandas.json_normalize") 导致生成器对象的第一个元素不包含在返回的 DataFrame 中的 bug ([GH 35923](https://github.com/pandas-dev/pandas/issues/35923))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") applying the thousands separator to date columns when the column
    should be parsed for dates and `usecols` is specified for `engine="python"` ([GH
    39365](https://github.com/pandas-dev/pandas/issues/39365))
  id: totrans-1947
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")
    在 `engine="python"` 模式下对日期列应用千位分隔符时，应该解析日期列而 `usecols` 已指定的 bug ([GH 39365](https://github.com/pandas-dev/pandas/issues/39365))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") forward filling [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") names when multiple header and index columns are specified
    ([GH 34673](https://github.com/pandas-dev/pandas/issues/34673))
  id: totrans-1948
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 在指定了多个标题和索引列时，前向填充 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 名称的 bug ([GH 34673](https://github.com/pandas-dev/pandas/issues/34673))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") not respecting [`set_option()`](../reference/api/pandas.set_option.html#pandas.set_option
    "pandas.set_option") ([GH 34252](https://github.com/pandas-dev/pandas/issues/34252))
  id: totrans-1949
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 不尊重 [`set_option()`](../reference/api/pandas.set_option.html#pandas.set_option
    "pandas.set_option") 的 bug ([GH 34252](https://github.com/pandas-dev/pandas/issues/34252))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") not switching `true_values` and `false_values` for nullable
    Boolean dtype ([GH 34655](https://github.com/pandas-dev/pandas/issues/34655))
  id: totrans-1950
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于可空布尔数据类型，[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")不会切换`true_values`和`false_values` ([GH 34655](https://github.com/pandas-dev/pandas/issues/34655))
- en: Bug in [`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json") when `orient="split"` not maintaining a numeric string index
    ([GH 28556](https://github.com/pandas-dev/pandas/issues/28556))
  id: totrans-1951
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`orient="split"`时，[`read_json()`](../reference/api/pandas.read_json.html#pandas.read_json
    "pandas.read_json")不会保持数字字符串索引 ([GH 28556](https://github.com/pandas-dev/pandas/issues/28556))
- en: '[`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql "pandas.read_sql")
    returned an empty generator if `chunksize` was non-zero and the query returned
    no results. Now returns a generator with a single empty DataFrame ([GH 34411](https://github.com/pandas-dev/pandas/issues/34411))'
  id: totrans-1952
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果`chunksize`不为零且查询结果为空，则[`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql
    "pandas.read_sql")会返回一个空生成器。现在返回一个包含单个空DataFrame的生成器 ([GH 34411](https://github.com/pandas-dev/pandas/issues/34411))
- en: Bug in [`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf
    "pandas.read_hdf") returning unexpected records when filtering on categorical
    string columns using the `where` parameter ([GH 39189](https://github.com/pandas-dev/pandas/issues/39189))
  id: totrans-1953
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`where`参数过滤分类字符串列时，[`read_hdf()`](../reference/api/pandas.read_hdf.html#pandas.read_hdf
    "pandas.read_hdf")会返回意外记录 ([GH 39189](https://github.com/pandas-dev/pandas/issues/39189))
- en: Bug in [`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas
    "pandas.read_sas") raising a `ValueError` when `datetimes` were null ([GH 39725](https://github.com/pandas-dev/pandas/issues/39725))
  id: totrans-1954
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`datetimes`为空时，[`read_sas()`](../reference/api/pandas.read_sas.html#pandas.read_sas
    "pandas.read_sas")会引发`ValueError` ([GH 39725](https://github.com/pandas-dev/pandas/issues/39725))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") dropping empty values from single-column spreadsheets ([GH
    39808](https://github.com/pandas-dev/pandas/issues/39808))
  id: totrans-1955
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在从单列电子表格中读取时，[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")会删除空值 ([GH 39808](https://github.com/pandas-dev/pandas/issues/39808))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") loading trailing empty rows/columns for some filetypes ([GH
    41167](https://github.com/pandas-dev/pandas/issues/41167))
  id: totrans-1956
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于某些文件类型，[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")会加载尾随的空行/列 ([GH 41167](https://github.com/pandas-dev/pandas/issues/41167))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") raising an `AttributeError` when the excel file had a `MultiIndex`
    header followed by two empty rows and no index ([GH 40442](https://github.com/pandas-dev/pandas/issues/40442))
  id: totrans-1957
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当Excel文件具有`MultiIndex`标题后跟两个空行且没有索引时，[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")会引发`AttributeError` ([GH 40442](https://github.com/pandas-dev/pandas/issues/40442))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel"), [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv"), [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table"), [`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf
    "pandas.read_fwf"), and [`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") where one blank row after a `MultiIndex` header with
    no index would be dropped ([GH 40442](https://github.com/pandas-dev/pandas/issues/40442))
  id: totrans-1958
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel")、[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")、[`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table")、[`read_fwf()`](../reference/api/pandas.read_fwf.html#pandas.read_fwf
    "pandas.read_fwf")和[`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard")中存在的一个问题是，当`MultiIndex`标题后面没有索引且有一个空白行时，该空白行将被删除 ([GH
    40442](https://github.com/pandas-dev/pandas/issues/40442))
- en: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") misplacing the truncation column when `index=False`
    ([GH 40904](https://github.com/pandas-dev/pandas/issues/40904))
  id: totrans-1959
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`index=False`时，[`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string")会错误地放置截断列 ([GH 40904](https://github.com/pandas-dev/pandas/issues/40904))
- en: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") adding an extra dot and misaligning the truncation
    row when `index=False` ([GH 40904](https://github.com/pandas-dev/pandas/issues/40904))
  id: totrans-1960
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.to_string()`](../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string
    "pandas.DataFrame.to_string") 当`index=False`时，添加额外的点并使截断行错位（[GH 40904](https://github.com/pandas-dev/pandas/issues/40904))
- en: Bug in [`read_orc()`](../reference/api/pandas.read_orc.html#pandas.read_orc
    "pandas.read_orc") always raising an `AttributeError` ([GH 40918](https://github.com/pandas-dev/pandas/issues/40918))
  id: totrans-1961
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_orc()`](../reference/api/pandas.read_orc.html#pandas.read_orc
    "pandas.read_orc") 总是引发`AttributeError`错误（[GH 40918](https://github.com/pandas-dev/pandas/issues/40918))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") silently ignoring `prefix` if `names` and `prefix` are defined,
    now raising a `ValueError` ([GH 39123](https://github.com/pandas-dev/pandas/issues/39123))
  id: totrans-1962
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 和 [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") 如果定义了`names`和`prefix`，则会静默忽略`prefix`，现在会引发`ValueError`错误（[GH
    39123](https://github.com/pandas-dev/pandas/issues/39123))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") not respecting the dtype for a duplicated column name when
    `mangle_dupe_cols` is set to `True` ([GH 35211](https://github.com/pandas-dev/pandas/issues/35211))
  id: totrans-1963
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 和 [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 当`mangle_dupe_cols`设置为`True`时，不尊重重复列名的dtype（[GH 35211](https://github.com/pandas-dev/pandas/issues/35211))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") silently ignoring `sep` if `delimiter` and `sep` are defined,
    now raising a `ValueError` ([GH 39823](https://github.com/pandas-dev/pandas/issues/39823))
  id: totrans-1964
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 如果定义了`delimiter`和`sep`，则会静默忽略`sep`，现在会引发`ValueError`错误（[GH
    39823](https://github.com/pandas-dev/pandas/issues/39823))
- en: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") and [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") misinterpreting arguments when `sys.setprofile` had been
    previously called ([GH 41069](https://github.com/pandas-dev/pandas/issues/41069))
  id: totrans-1965
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") 和 [`read_table()`](../reference/api/pandas.read_table.html#pandas.read_table
    "pandas.read_table") 在之前调用`sys.setprofile`时误解参数（[GH 41069](https://github.com/pandas-dev/pandas/issues/41069))
- en: Bug in the conversion from PyArrow to pandas (e.g. for reading Parquet) with
    nullable dtypes and a PyArrow array whose data buffer size is not a multiple of
    the dtype size ([GH 40896](https://github.com/pandas-dev/pandas/issues/40896))
  id: totrans-1966
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从PyArrow转换为pandas时出现错误（例如用于读取Parquet文件），其中包含可空数据类型和PyArrow数组，其数据缓冲区大小不是dtype大小的倍数（[GH
    40896](https://github.com/pandas-dev/pandas/issues/40896))
- en: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") would raise an error when pandas could not determine the
    file type even though the user specified the `engine` argument ([GH 41225](https://github.com/pandas-dev/pandas/issues/41225))
  id: totrans-1967
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_excel()`](../reference/api/pandas.read_excel.html#pandas.read_excel
    "pandas.read_excel") 当pandas无法确定文件类型时会引发错误，即使用户指定了`engine`参数（[GH 41225](https://github.com/pandas-dev/pandas/issues/41225))
- en: Bug in [`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") copying from an excel file shifts values into the wrong
    column if there are null values in first column ([GH 41108](https://github.com/pandas-dev/pandas/issues/41108))
  id: totrans-1968
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`read_clipboard()`](../reference/api/pandas.read_clipboard.html#pandas.read_clipboard
    "pandas.read_clipboard") 从Excel文件复制时，如果第一列有空值，则将值移到错误的列中（[GH 41108](https://github.com/pandas-dev/pandas/issues/41108))
- en: Bug in [`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf") and [`Series.to_hdf()`](../reference/api/pandas.Series.to_hdf.html#pandas.Series.to_hdf
    "pandas.Series.to_hdf") raising a `TypeError` when trying to append a string column
    to an incompatible column ([GH 41897](https://github.com/pandas-dev/pandas/issues/41897))
  id: totrans-1969
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.to_hdf()`](../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf
    "pandas.DataFrame.to_hdf") 和 [`Series.to_hdf()`](../reference/api/pandas.Series.to_hdf.html#pandas.Series.to_hdf
    "pandas.Series.to_hdf") 尝试将字符串列追加到不兼容的列时引发`TypeError`错误（[GH 41897](https://github.com/pandas-dev/pandas/issues/41897))
- en: Period
  id: totrans-1970
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Period
- en: Comparisons of [`Period`](../reference/api/pandas.Period.html#pandas.Period
    "pandas.Period") objects or [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index"), [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series"), or [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with mismatched `PeriodDtype` now behave like other mismatched-type
    comparisons, returning `False` for equals, `True` for not-equal, and raising `TypeError`
    for inequality checks ([GH 39274](https://github.com/pandas-dev/pandas/issues/39274))
  id: totrans-1971
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Period`](../reference/api/pandas.Period.html#pandas.Period "pandas.Period")
    对象或 [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")、[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 或 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 的比较现在与其他不匹配的 `PeriodDtype` 类型的比较行为一致，对于相等返回 `False`，对于不相等返回
    `True`，对于不等式检查引发 `TypeError`（[GH 39274](https://github.com/pandas-dev/pandas/issues/39274)）'
- en: Plotting
  id: totrans-1972
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 绘图
- en: Bug in [`plotting.scatter_matrix()`](../reference/api/pandas.plotting.scatter_matrix.html#pandas.plotting.scatter_matrix
    "pandas.plotting.scatter_matrix") raising when 2d `ax` argument passed ([GH 16253](https://github.com/pandas-dev/pandas/issues/16253))
  id: totrans-1973
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当传递了 2D `ax` 参数时，[`plotting.scatter_matrix()`](../reference/api/pandas.plotting.scatter_matrix.html#pandas.plotting.scatter_matrix
    "pandas.plotting.scatter_matrix") 中的错误（[GH 16253](https://github.com/pandas-dev/pandas/issues/16253)）
- en: Prevent warnings when Matplotlib’s `constrained_layout` is enabled ([GH 25261](https://github.com/pandas-dev/pandas/issues/25261))
  id: totrans-1974
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当启用 Matplotlib 的 `constrained_layout` 时，防止出现警告（[GH 25261](https://github.com/pandas-dev/pandas/issues/25261)）
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") was showing the wrong colors in the legend if the function
    was called repeatedly and some calls used `yerr` while others didn’t ([GH 39522](https://github.com/pandas-dev/pandas/issues/39522))
  id: totrans-1975
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 中的错误，在重复调用该函数并且某些调用使用了 `yerr` 而其他调用没有时，在图例中显示了错误的颜色（[GH
    39522](https://github.com/pandas-dev/pandas/issues/39522)）
- en: Bug in [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") was showing the wrong colors in the legend if the function
    was called repeatedly and some calls used `secondary_y` and others use `legend=False`
    ([GH 40044](https://github.com/pandas-dev/pandas/issues/40044))
  id: totrans-1976
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`DataFrame.plot()`](../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot
    "pandas.DataFrame.plot") 中的错误，在重复调用该函数并且某些调用使用了 `secondary_y` 而其他调用使用了 `legend=False`
    时，在图例中显示了错误的颜色（[GH 40044](https://github.com/pandas-dev/pandas/issues/40044)）
- en: Bug in [`DataFrame.plot.box()`](../reference/api/pandas.DataFrame.plot.box.html#pandas.DataFrame.plot.box
    "pandas.DataFrame.plot.box") when `dark_background` theme was selected, caps or
    min/max markers for the plot were not visible ([GH 40769](https://github.com/pandas-dev/pandas/issues/40769))
  id: totrans-1977
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当选择 `dark_background` 主题时，[`DataFrame.plot.box()`](../reference/api/pandas.DataFrame.plot.box.html#pandas.DataFrame.plot.box
    "pandas.DataFrame.plot.box") 中的错误，图中的上下界或最小/最大标记不可见（[GH 40769](https://github.com/pandas-dev/pandas/issues/40769)）
- en: Groupby/resample/rolling
  id: totrans-1978
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分组/重采样/滚动
- en: Bug in [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") and [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") with [`PeriodDtype`](../reference/api/pandas.PeriodDtype.html#pandas.PeriodDtype
    "pandas.PeriodDtype") columns incorrectly casting results too aggressively ([GH
    38254](https://github.com/pandas-dev/pandas/issues/38254))
  id: totrans-1979
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") 和 [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") 中的错误，对于 [`PeriodDtype`](../reference/api/pandas.PeriodDtype.html#pandas.PeriodDtype
    "pandas.PeriodDtype") 列错误地过于激进地进行了结果转换（[GH 38254](https://github.com/pandas-dev/pandas/issues/38254)）
- en: Bug in [`SeriesGroupBy.value_counts()`](../reference/api/pandas.core.groupby.SeriesGroupBy.value_counts.html#pandas.core.groupby.SeriesGroupBy.value_counts
    "pandas.core.groupby.SeriesGroupBy.value_counts") where unobserved categories
    in a grouped categorical Series were not tallied ([GH 38672](https://github.com/pandas-dev/pandas/issues/38672))
  id: totrans-1980
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`SeriesGroupBy.value_counts()`](../reference/api/pandas.core.groupby.SeriesGroupBy.value_counts.html#pandas.core.groupby.SeriesGroupBy.value_counts
    "pandas.core.groupby.SeriesGroupBy.value_counts") 中的错误，对于分组的分类序列中未观察到的类别没有计数（[GH
    38672](https://github.com/pandas-dev/pandas/issues/38672)）
- en: Bug in [`SeriesGroupBy.value_counts()`](../reference/api/pandas.core.groupby.SeriesGroupBy.value_counts.html#pandas.core.groupby.SeriesGroupBy.value_counts
    "pandas.core.groupby.SeriesGroupBy.value_counts") where an error was raised on
    an empty Series ([GH 39172](https://github.com/pandas-dev/pandas/issues/39172))
  id: totrans-1981
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在空 Series 上引发错误的[`SeriesGroupBy.value_counts()`](../reference/api/pandas.core.groupby.SeriesGroupBy.value_counts.html#pandas.core.groupby.SeriesGroupBy.value_counts
    "pandas.core.groupby.SeriesGroupBy.value_counts")中存在一个错误（[GH 39172](https://github.com/pandas-dev/pandas/issues/39172)）
- en: Bug in `GroupBy.indices()` would contain non-existent indices when null values
    were present in the groupby keys ([GH 9304](https://github.com/pandas-dev/pandas/issues/9304))
  id: totrans-1982
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在存在空值的分组键中，`GroupBy.indices()`中将包含不存在的索引（[GH 9304](https://github.com/pandas-dev/pandas/issues/9304)）
- en: Fixed bug in [`DataFrameGroupBy.sum()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.sum.html#pandas.core.groupby.DataFrameGroupBy.sum
    "pandas.core.groupby.DataFrameGroupBy.sum") and [`SeriesGroupBy.sum()`](../reference/api/pandas.core.groupby.SeriesGroupBy.sum.html#pandas.core.groupby.SeriesGroupBy.sum
    "pandas.core.groupby.SeriesGroupBy.sum") causing a loss of precision by now using
    Kahan summation ([GH 38778](https://github.com/pandas-dev/pandas/issues/38778))
  id: totrans-1983
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过现在使用 Kahan 求和解决了[`DataFrameGroupBy.sum()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.sum.html#pandas.core.groupby.DataFrameGroupBy.sum
    "pandas.core.groupby.DataFrameGroupBy.sum")和[`SeriesGroupBy.sum()`](../reference/api/pandas.core.groupby.SeriesGroupBy.sum.html#pandas.core.groupby.SeriesGroupBy.sum
    "pandas.core.groupby.SeriesGroupBy.sum")中存在的精度损失的错误（[GH 38778](https://github.com/pandas-dev/pandas/issues/38778)）
- en: Fixed bug in [`DataFrameGroupBy.cumsum()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cumsum.html#pandas.core.groupby.DataFrameGroupBy.cumsum
    "pandas.core.groupby.DataFrameGroupBy.cumsum"), [`SeriesGroupBy.cumsum()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cumsum.html#pandas.core.groupby.SeriesGroupBy.cumsum
    "pandas.core.groupby.SeriesGroupBy.cumsum"), [`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean"), and [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean") causing loss of precision through using
    Kahan summation ([GH 38934](https://github.com/pandas-dev/pandas/issues/38934))
  id: totrans-1984
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过使用 Kahan 求和解决了[`DataFrameGroupBy.cumsum()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cumsum.html#pandas.core.groupby.DataFrameGroupBy.cumsum
    "pandas.core.groupby.DataFrameGroupBy.cumsum")、[`SeriesGroupBy.cumsum()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cumsum.html#pandas.core.groupby.SeriesGroupBy.cumsum
    "pandas.core.groupby.SeriesGroupBy.cumsum")、[`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean")和[`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean")中存在的精度损失的错误（[GH 38934](https://github.com/pandas-dev/pandas/issues/38934)）
- en: Bug in [`Resampler.aggregate()`](../reference/api/pandas.core.resample.Resampler.aggregate.html#pandas.core.resample.Resampler.aggregate
    "pandas.core.resample.Resampler.aggregate") and [`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform") raising a `TypeError` instead of `SpecificationError`
    when missing keys had mixed dtypes ([GH 39025](https://github.com/pandas-dev/pandas/issues/39025))
  id: totrans-1985
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Resampler.aggregate()`](../reference/api/pandas.core.resample.Resampler.aggregate.html#pandas.core.resample.Resampler.aggregate
    "pandas.core.resample.Resampler.aggregate")和[`DataFrame.transform()`](../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform
    "pandas.DataFrame.transform")中存在一个错误，当缺少键的混合数据类型时，抛出`TypeError`而不是`SpecificationError`（[GH
    39025](https://github.com/pandas-dev/pandas/issues/39025)）
- en: Bug in [`DataFrameGroupBy.idxmin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.idxmin.html#pandas.core.groupby.DataFrameGroupBy.idxmin
    "pandas.core.groupby.DataFrameGroupBy.idxmin") and [`DataFrameGroupBy.idxmax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.idxmax.html#pandas.core.groupby.DataFrameGroupBy.idxmax
    "pandas.core.groupby.DataFrameGroupBy.idxmax") with `ExtensionDtype` columns ([GH
    38733](https://github.com/pandas-dev/pandas/issues/38733))
  id: totrans-1986
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有`ExtensionDtype`列的[`DataFrameGroupBy.idxmin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.idxmin.html#pandas.core.groupby.DataFrameGroupBy.idxmin
    "pandas.core.groupby.DataFrameGroupBy.idxmin")和[`DataFrameGroupBy.idxmax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.idxmax.html#pandas.core.groupby.DataFrameGroupBy.idxmax
    "pandas.core.groupby.DataFrameGroupBy.idxmax")中存在一个错误（[GH 38733](https://github.com/pandas-dev/pandas/issues/38733)）
- en: Bug in [`Series.resample()`](../reference/api/pandas.Series.resample.html#pandas.Series.resample
    "pandas.Series.resample") would raise when the index was a [`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex") consisting of `NaT` ([GH 39227](https://github.com/pandas-dev/pandas/issues/39227))
  id: totrans-1987
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.resample()`中的错误会在索引是由`NaT`组成的[`PeriodIndex`](../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex
    "pandas.PeriodIndex")时引发错误（[GH 39227](https://github.com/pandas-dev/pandas/issues/39227)）'
- en: Bug in `RollingGroupby.corr()` and `ExpandingGroupby.corr()` where the groupby
    column would return `0` instead of `np.nan` when providing `other` that was longer
    than each group ([GH 39591](https://github.com/pandas-dev/pandas/issues/39591))
  id: totrans-1988
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`RollingGroupby.corr()`和`ExpandingGroupby.corr()`中的错误，当提供比每个组更长的`other`时，组别列会返回`0`而不是`np.nan`（[GH
    39591](https://github.com/pandas-dev/pandas/issues/39591)）
- en: Bug in `ExpandingGroupby.corr()` and `ExpandingGroupby.cov()` where `1` would
    be returned instead of `np.nan` when providing `other` that was longer than each
    group ([GH 39591](https://github.com/pandas-dev/pandas/issues/39591))
  id: totrans-1989
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`ExpandingGroupby.corr()`和`ExpandingGroupby.cov()`中的错误，当提供比每个组更长的`other`时，会返回`1`而不是`np.nan`（[GH
    39591](https://github.com/pandas-dev/pandas/issues/39591)）
- en: Bug in [`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean"), [`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean"), [`DataFrameGroupBy.median()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.median.html#pandas.core.groupby.DataFrameGroupBy.median
    "pandas.core.groupby.DataFrameGroupBy.median"), [`SeriesGroupBy.median()`](../reference/api/pandas.core.groupby.SeriesGroupBy.median.html#pandas.core.groupby.SeriesGroupBy.median
    "pandas.core.groupby.SeriesGroupBy.median"), and [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") not propagating metadata ([GH 28283](https://github.com/pandas-dev/pandas/issues/28283))
  id: totrans-1990
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrameGroupBy.mean()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean
    "pandas.core.groupby.DataFrameGroupBy.mean")、[`SeriesGroupBy.mean()`](../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean
    "pandas.core.groupby.SeriesGroupBy.mean")、[`DataFrameGroupBy.median()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.median.html#pandas.core.groupby.DataFrameGroupBy.median
    "pandas.core.groupby.DataFrameGroupBy.median")、[`SeriesGroupBy.median()`](../reference/api/pandas.core.groupby.SeriesGroupBy.median.html#pandas.core.groupby.SeriesGroupBy.median
    "pandas.core.groupby.SeriesGroupBy.median")和[`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table")中的错误，未传播元数据（[GH 28283](https://github.com/pandas-dev/pandas/issues/28283)）'
- en: Bug in [`Series.rolling()`](../reference/api/pandas.Series.rolling.html#pandas.Series.rolling
    "pandas.Series.rolling") and [`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling") not calculating window bounds correctly when window
    is an offset and dates are in descending order ([GH 40002](https://github.com/pandas-dev/pandas/issues/40002))
  id: totrans-1991
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.rolling()`](../reference/api/pandas.Series.rolling.html#pandas.Series.rolling
    "pandas.Series.rolling")和[`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling")中的错误，当窗口是一个偏移量且日期是降序时，未正确计算窗口边界（[GH 40002](https://github.com/pandas-dev/pandas/issues/40002))'
- en: Bug in [`Series.groupby()`](../reference/api/pandas.Series.groupby.html#pandas.Series.groupby
    "pandas.Series.groupby") and [`DataFrame.groupby()`](../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby
    "pandas.DataFrame.groupby") on an empty `Series` or `DataFrame` would lose index,
    columns, and/or data types when directly using the methods `idxmax`, `idxmin`,
    `mad`, `min`, `max`, `sum`, `prod`, and `skew` or using them through `apply`,
    `aggregate`, or `resample` ([GH 26411](https://github.com/pandas-dev/pandas/issues/26411))
  id: totrans-1992
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在空的`Series`或`DataFrame`上使用`Series.groupby()`和`DataFrame.groupby()`时，直接使用`idxmax`、`idxmin`、`mad`、`min`、`max`、`sum`、`prod`和`skew`方法，或通过`apply`、`aggregate`或`resample`使用它们时，会丢失索引、列和/或数据类型（[GH
    26411](https://github.com/pandas-dev/pandas/issues/26411)）
- en: Bug in [`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply") and [`SeriesGroupBy.apply()`](../reference/api/pandas.core.groupby.SeriesGroupBy.apply.html#pandas.core.groupby.SeriesGroupBy.apply
    "pandas.core.groupby.SeriesGroupBy.apply") where a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") would be created instead of an [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") when used on a `RollingGroupby` object ([GH 39732](https://github.com/pandas-dev/pandas/issues/39732))
  id: totrans-1993
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`RollingGroupby`对象上使用[`DataFrameGroupBy.apply()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply
    "pandas.core.groupby.DataFrameGroupBy.apply")和[`SeriesGroupBy.apply()`](../reference/api/pandas.core.groupby.SeriesGroupBy.apply.html#pandas.core.groupby.SeriesGroupBy.apply
    "pandas.core.groupby.SeriesGroupBy.apply")时，存在一个错误，会创建一个[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")而不是一个[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")（[GH 39732](https://github.com/pandas-dev/pandas/issues/39732)）
- en: Bug in [`DataFrameGroupBy.sample()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.sample.html#pandas.core.groupby.DataFrameGroupBy.sample
    "pandas.core.groupby.DataFrameGroupBy.sample") where an error was raised when
    `weights` was specified and the index was an `Int64Index` ([GH 39927](https://github.com/pandas-dev/pandas/issues/39927))
  id: totrans-1994
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`weights`被指定且索引为`Int64Index`时，[`DataFrameGroupBy.sample()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.sample.html#pandas.core.groupby.DataFrameGroupBy.sample
    "pandas.core.groupby.DataFrameGroupBy.sample")存在一个错误，会引发错误（[GH 39927](https://github.com/pandas-dev/pandas/issues/39927)）
- en: Bug in [`DataFrameGroupBy.aggregate()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html#pandas.core.groupby.DataFrameGroupBy.aggregate
    "pandas.core.groupby.DataFrameGroupBy.aggregate") and [`Resampler.aggregate()`](../reference/api/pandas.core.resample.Resampler.aggregate.html#pandas.core.resample.Resampler.aggregate
    "pandas.core.resample.Resampler.aggregate") would sometimes raise a `SpecificationError`
    when passed a dictionary and columns were missing; will now always raise a `KeyError`
    instead ([GH 40004](https://github.com/pandas-dev/pandas/issues/40004))
  id: totrans-1995
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在传递字典并且缺少列时，[`DataFrameGroupBy.aggregate()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html#pandas.core.groupby.DataFrameGroupBy.aggregate
    "pandas.core.groupby.DataFrameGroupBy.aggregate")和[`Resampler.aggregate()`](../reference/api/pandas.core.resample.Resampler.aggregate.html#pandas.core.resample.Resampler.aggregate
    "pandas.core.resample.Resampler.aggregate")有时会引发`SpecificationError`，现在将始终引发`KeyError`（[GH
    40004](https://github.com/pandas-dev/pandas/issues/40004)）
- en: Bug in [`DataFrameGroupBy.sample()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.sample.html#pandas.core.groupby.DataFrameGroupBy.sample
    "pandas.core.groupby.DataFrameGroupBy.sample") where column selection was not
    applied before computing the result ([GH 39928](https://github.com/pandas-dev/pandas/issues/39928))
  id: totrans-1996
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在计算结果之前，[`DataFrameGroupBy.sample()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.sample.html#pandas.core.groupby.DataFrameGroupBy.sample
    "pandas.core.groupby.DataFrameGroupBy.sample")存在一个错误，不会应用列选择（[GH 39928](https://github.com/pandas-dev/pandas/issues/39928)）
- en: Bug in `ExponentialMovingWindow` when calling `__getitem__` would incorrectly
    raise a `ValueError` when providing `times` ([GH 40164](https://github.com/pandas-dev/pandas/issues/40164))
  id: totrans-1997
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在调用`__getitem__`时，`ExponentialMovingWindow`存在一个错误，当提供`times`时会不正确地引发`ValueError`（[GH
    40164](https://github.com/pandas-dev/pandas/issues/40164)）
- en: Bug in `ExponentialMovingWindow` when calling `__getitem__` would not retain
    `com`, `span`, `alpha` or `halflife` attributes ([GH 40164](https://github.com/pandas-dev/pandas/issues/40164))
  id: totrans-1998
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在调用`__getitem__`时，`ExponentialMovingWindow`存在一个错误，会丢失`com`、`span`、`alpha`或`halflife`属性（[GH
    40164](https://github.com/pandas-dev/pandas/issues/40164)）
- en: '`ExponentialMovingWindow` now raises a `NotImplementedError` when specifying
    `times` with `adjust=False` due to an incorrect calculation ([GH 40098](https://github.com/pandas-dev/pandas/issues/40098))'
  id: totrans-1999
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，在使用`adjust=False`指定`times`时，`ExponentialMovingWindow`会抛出`NotImplementedError`，因为计算不正确（[GH
    40098](https://github.com/pandas-dev/pandas/issues/40098)）
- en: Bug in `ExponentialMovingWindowGroupby.mean()` where the `times` argument was
    ignored when `engine='numba'` ([GH 40951](https://github.com/pandas-dev/pandas/issues/40951))
  id: totrans-2000
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`engine='numba'`时，`ExponentialMovingWindowGroupby.mean()`存在一个错误，会忽略`times`参数（[GH
    40951](https://github.com/pandas-dev/pandas/issues/40951)）
- en: Bug in `ExponentialMovingWindowGroupby.mean()` where the wrong times were used
    the in case of multiple groups ([GH 40951](https://github.com/pandas-dev/pandas/issues/40951))
  id: totrans-2001
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在存在多个分组时，`ExponentialMovingWindowGroupby.mean()`存在一个错误，会使用错误的`times`（[GH 40951](https://github.com/pandas-dev/pandas/issues/40951)）
- en: Bug in `ExponentialMovingWindowGroupby` where the times vector and values became
    out of sync for non-trivial groups ([GH 40951](https://github.com/pandas-dev/pandas/issues/40951))
  id: totrans-2002
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`ExponentialMovingWindowGroupby`中存在一个 bug，对于非平凡组，时间向量和值会不同步（[GH 40951](https://github.com/pandas-dev/pandas/issues/40951))
- en: Bug in [`Series.asfreq()`](../reference/api/pandas.Series.asfreq.html#pandas.Series.asfreq
    "pandas.Series.asfreq") and [`DataFrame.asfreq()`](../reference/api/pandas.DataFrame.asfreq.html#pandas.DataFrame.asfreq
    "pandas.DataFrame.asfreq") dropping rows when the index was not sorted ([GH 39805](https://github.com/pandas-dev/pandas/issues/39805))
  id: totrans-2003
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Series.asfreq()`](../reference/api/pandas.Series.asfreq.html#pandas.Series.asfreq
    "pandas.Series.asfreq")和[`DataFrame.asfreq()`](../reference/api/pandas.DataFrame.asfreq.html#pandas.DataFrame.asfreq
    "pandas.DataFrame.asfreq")中存在一个 bug，在索引未排序时会丢弃行（[GH 39805](https://github.com/pandas-dev/pandas/issues/39805))
- en: Bug in aggregation functions for [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") not respecting `numeric_only` argument when `level` keyword
    was given ([GH 40660](https://github.com/pandas-dev/pandas/issues/40660))
  id: totrans-2004
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")的聚合函数中存在一个
    bug，在给定`level`关键字时不尊重`numeric_only`参数（[GH 40660](https://github.com/pandas-dev/pandas/issues/40660))
- en: Bug in [`SeriesGroupBy.aggregate()`](../reference/api/pandas.core.groupby.SeriesGroupBy.aggregate.html#pandas.core.groupby.SeriesGroupBy.aggregate
    "pandas.core.groupby.SeriesGroupBy.aggregate") where using a user-defined function
    to aggregate a Series with an object-typed [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") causes an incorrect [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") shape ([GH 40014](https://github.com/pandas-dev/pandas/issues/40014))
  id: totrans-2005
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`SeriesGroupBy.aggregate()`](../reference/api/pandas.core.groupby.SeriesGroupBy.aggregate.html#pandas.core.groupby.SeriesGroupBy.aggregate
    "pandas.core.groupby.SeriesGroupBy.aggregate")中存在一个 bug，使用用户定义的函数来聚合具有对象类型[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")的 Series 会导致不正确的[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")形状（[GH 40014](https://github.com/pandas-dev/pandas/issues/40014))
- en: Bug in `RollingGroupby` where `as_index=False` argument in `groupby` was ignored
    ([GH 39433](https://github.com/pandas-dev/pandas/issues/39433))
  id: totrans-2006
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`RollingGroupby`中存在一个 bug，`groupby`中的`as_index=False`参数被忽略（[GH 39433](https://github.com/pandas-dev/pandas/issues/39433))
- en: Bug in [`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any"), [`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any"), [`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all") and [`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all") raising a `ValueError` when using with
    nullable type columns holding `NA` even with `skipna=True` ([GH 40585](https://github.com/pandas-dev/pandas/issues/40585))
  id: totrans-2007
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`DataFrameGroupBy.any()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any
    "pandas.core.groupby.DataFrameGroupBy.any")、[`SeriesGroupBy.any()`](../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any
    "pandas.core.groupby.SeriesGroupBy.any")、[`DataFrameGroupBy.all()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all
    "pandas.core.groupby.DataFrameGroupBy.all")和[`SeriesGroupBy.all()`](../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all
    "pandas.core.groupby.SeriesGroupBy.all")中存在一个 bug，当使用可空类型列并且即使`skipna=True`时，会引发`ValueError`（[GH
    40585](https://github.com/pandas-dev/pandas/issues/40585))
- en: Bug in [`DataFrameGroupBy.cummin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummin.html#pandas.core.groupby.DataFrameGroupBy.cummin
    "pandas.core.groupby.DataFrameGroupBy.cummin"), [`SeriesGroupBy.cummin()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummin.html#pandas.core.groupby.SeriesGroupBy.cummin
    "pandas.core.groupby.SeriesGroupBy.cummin"), [`DataFrameGroupBy.cummax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummax.html#pandas.core.groupby.DataFrameGroupBy.cummax
    "pandas.core.groupby.DataFrameGroupBy.cummax") and [`SeriesGroupBy.cummax()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummax.html#pandas.core.groupby.SeriesGroupBy.cummax
    "pandas.core.groupby.SeriesGroupBy.cummax") incorrectly rounding integer values
    near the `int64` implementations bounds ([GH 40767](https://github.com/pandas-dev/pandas/issues/40767))
  id: totrans-2008
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrameGroupBy.cummin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummin.html#pandas.core.groupby.DataFrameGroupBy.cummin
    "pandas.core.groupby.DataFrameGroupBy.cummin"), [`SeriesGroupBy.cummin()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummin.html#pandas.core.groupby.SeriesGroupBy.cummin
    "pandas.core.groupby.SeriesGroupBy.cummin"), [`DataFrameGroupBy.cummax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummax.html#pandas.core.groupby.DataFrameGroupBy.cummax
    "pandas.core.groupby.DataFrameGroupBy.cummax") and [`SeriesGroupBy.cummax()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummax.html#pandas.core.groupby.SeriesGroupBy.cummax
    "pandas.core.groupby.SeriesGroupBy.cummax") incorrectly rounding integer values
    near the `int64` implementations bounds ([GH 40767](https://github.com/pandas-dev/pandas/issues/40767))
- en: Bug in [`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") and [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") with nullable dtypes incorrectly raising
    a `TypeError` ([GH 41010](https://github.com/pandas-dev/pandas/issues/41010))
  id: totrans-2009
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") and [`SeriesGroupBy.rank()`](../reference/api/pandas.core.groupby.SeriesGroupBy.rank.html#pandas.core.groupby.SeriesGroupBy.rank
    "pandas.core.groupby.SeriesGroupBy.rank") with nullable dtypes incorrectly raising
    a `TypeError` ([GH 41010](https://github.com/pandas-dev/pandas/issues/41010))
- en: Bug in [`DataFrameGroupBy.cummin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummin.html#pandas.core.groupby.DataFrameGroupBy.cummin
    "pandas.core.groupby.DataFrameGroupBy.cummin"), [`SeriesGroupBy.cummin()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummin.html#pandas.core.groupby.SeriesGroupBy.cummin
    "pandas.core.groupby.SeriesGroupBy.cummin"), [`DataFrameGroupBy.cummax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummax.html#pandas.core.groupby.DataFrameGroupBy.cummax
    "pandas.core.groupby.DataFrameGroupBy.cummax") and [`SeriesGroupBy.cummax()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummax.html#pandas.core.groupby.SeriesGroupBy.cummax
    "pandas.core.groupby.SeriesGroupBy.cummax") computing wrong result with nullable
    data types too large to roundtrip when casting to float ([GH 37493](https://github.com/pandas-dev/pandas/issues/37493))
  id: totrans-2010
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrameGroupBy.cummin()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummin.html#pandas.core.groupby.DataFrameGroupBy.cummin
    "pandas.core.groupby.DataFrameGroupBy.cummin"), [`SeriesGroupBy.cummin()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummin.html#pandas.core.groupby.SeriesGroupBy.cummin
    "pandas.core.groupby.SeriesGroupBy.cummin"), [`DataFrameGroupBy.cummax()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.cummax.html#pandas.core.groupby.DataFrameGroupBy.cummax
    "pandas.core.groupby.DataFrameGroupBy.cummax") and [`SeriesGroupBy.cummax()`](../reference/api/pandas.core.groupby.SeriesGroupBy.cummax.html#pandas.core.groupby.SeriesGroupBy.cummax
    "pandas.core.groupby.SeriesGroupBy.cummax") computing wrong result with nullable
    data types too large to roundtrip when casting to float ([GH 37493](https://github.com/pandas-dev/pandas/issues/37493))
- en: Bug in [`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling") returning mean zero for all `NaN` window with `min_periods=0`
    if calculation is not numerical stable ([GH 41053](https://github.com/pandas-dev/pandas/issues/41053))
  id: totrans-2011
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling") returning mean zero for all `NaN` window with `min_periods=0`
    if calculation is not numerical stable ([GH 41053](https://github.com/pandas-dev/pandas/issues/41053))
- en: Bug in [`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling") returning sum not zero for all `NaN` window with `min_periods=0`
    if calculation is not numerical stable ([GH 41053](https://github.com/pandas-dev/pandas/issues/41053))
  id: totrans-2012
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bug in [`DataFrame.rolling()`](../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling
    "pandas.DataFrame.rolling") returning sum not zero for all `NaN` window with `min_periods=0`
    if calculation is not numerical stable ([GH 41053](https://github.com/pandas-dev/pandas/issues/41053))
- en: Bug in [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") failing to retain ordered [`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") on order-preserving aggregations ([GH 41147](https://github.com/pandas-dev/pandas/issues/41147))
  id: totrans-2013
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SeriesGroupBy.agg()`中的错误，未能保留有序的[`CategoricalDtype`](../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype
    "pandas.CategoricalDtype") 在保持顺序的聚合操作中（[GH 41147](https://github.com/pandas-dev/pandas/issues/41147)）'
- en: Bug in [`DataFrameGroupBy.min()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.min.html#pandas.core.groupby.DataFrameGroupBy.min
    "pandas.core.groupby.DataFrameGroupBy.min"), [`SeriesGroupBy.min()`](../reference/api/pandas.core.groupby.SeriesGroupBy.min.html#pandas.core.groupby.SeriesGroupBy.min
    "pandas.core.groupby.SeriesGroupBy.min"), [`DataFrameGroupBy.max()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.max.html#pandas.core.groupby.DataFrameGroupBy.max
    "pandas.core.groupby.DataFrameGroupBy.max") and [`SeriesGroupBy.max()`](../reference/api/pandas.core.groupby.SeriesGroupBy.max.html#pandas.core.groupby.SeriesGroupBy.max
    "pandas.core.groupby.SeriesGroupBy.max") with multiple object-dtype columns and
    `numeric_only=False` incorrectly raising a `ValueError` ([GH 41111](https://github.com/pandas-dev/pandas/issues/41111))
  id: totrans-2014
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy.min()`、`SeriesGroupBy.min()`、`DataFrameGroupBy.max()` 和 `SeriesGroupBy.max()`
    中的错误，多个对象类型列和 `numeric_only=False` 错误地引发了`ValueError`（[GH 41111](https://github.com/pandas-dev/pandas/issues/41111)）'
- en: Bug in [`DataFrameGroupBy.rank()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.rank.html#pandas.core.groupby.DataFrameGroupBy.rank
    "pandas.core.groupby.DataFrameGroupBy.rank") with the GroupBy object’s `axis=0`
    and the `rank` method’s keyword `axis=1` ([GH 41320](https://github.com/pandas-dev/pandas/issues/41320))
  id: totrans-2015
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy.rank()`中的错误，与 GroupBy 对象的 `axis=0` 和 `rank` 方法的关键字 `axis=1`
    相关（[GH 41320](https://github.com/pandas-dev/pandas/issues/41320)）'
- en: Bug in `DataFrameGroupBy.__getitem__()` with non-unique columns incorrectly
    returning a malformed `SeriesGroupBy` instead of `DataFrameGroupBy` ([GH 41427](https://github.com/pandas-dev/pandas/issues/41427))
  id: totrans-2016
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy.__getitem__()`中的错误，非唯一列错误地返回了格式错误的`SeriesGroupBy` 而不是 `DataFrameGroupBy`（[GH
    41427](https://github.com/pandas-dev/pandas/issues/41427)）'
- en: Bug in [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") with non-unique columns incorrectly
    raising an `AttributeError` ([GH 41427](https://github.com/pandas-dev/pandas/issues/41427))
  id: totrans-2017
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrameGroupBy.transform()`中的错误，非唯一列错误地引发了`AttributeError`（[GH 41427](https://github.com/pandas-dev/pandas/issues/41427)）'
- en: Bug in [`Resampler.apply()`](../reference/api/pandas.core.resample.Resampler.apply.html#pandas.core.resample.Resampler.apply
    "pandas.core.resample.Resampler.apply") with non-unique columns incorrectly dropping
    duplicated columns ([GH 41445](https://github.com/pandas-dev/pandas/issues/41445))
  id: totrans-2018
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Resampler.apply()`中的错误，非唯一列错误地丢弃了重复的列（[GH 41445](https://github.com/pandas-dev/pandas/issues/41445)）'
- en: Bug in [`Series.groupby()`](../reference/api/pandas.Series.groupby.html#pandas.Series.groupby
    "pandas.Series.groupby") aggregations incorrectly returning empty [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") instead of raising `TypeError` on aggregations that are invalid
    for its dtype, e.g. `.prod` with `datetime64[ns]` dtype ([GH 41342](https://github.com/pandas-dev/pandas/issues/41342))
  id: totrans-2019
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.groupby()`中的错误，聚合错误地返回空的[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 而不是对其dtype无效的聚合操作引发`TypeError`，例如，`.prod` 与 `datetime64[ns]`
    dtype（[GH 41342](https://github.com/pandas-dev/pandas/issues/41342)）'
- en: Bug in `DataFrameGroupBy` aggregations incorrectly failing to drop columns with
    invalid dtypes for that aggregation when there are no valid columns ([GH 41291](https://github.com/pandas-dev/pandas/issues/41291))
  id: totrans-2020
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当没有有效列时，`DataFrameGroupBy`聚合错误地未删除那些聚合的无效数据类型的列导致错误（[GH 41291](https://github.com/pandas-dev/pandas/issues/41291)）
- en: Bug in `DataFrame.rolling.__iter__()` where `on` was not assigned to the index
    of the resulting objects ([GH 40373](https://github.com/pandas-dev/pandas/issues/40373))
  id: totrans-2021
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrame.rolling.__iter__()`中存在的错误，其中`on`未分配给结果对象的索引（[GH 40373](https://github.com/pandas-dev/pandas/issues/40373)）
- en: Bug in [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") and [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") with `engine="numba"` where `*args`
    were being cached with the user passed function ([GH 41647](https://github.com/pandas-dev/pandas/issues/41647))
  id: totrans-2022
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`engine="numba"`时，[`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform")和[`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg")中`*args`与用户传递的函数一起被缓存的错误（[GH 41647](https://github.com/pandas-dev/pandas/issues/41647)）
- en: Bug in `DataFrameGroupBy` methods `agg`, `transform`, `sum`, `bfill`, `ffill`,
    `pad`, `pct_change`, `shift`, `ohlc` dropping `.columns.names` ([GH 41497](https://github.com/pandas-dev/pandas/issues/41497))
  id: totrans-2023
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrameGroupBy`方法`agg`、`transform`、`sum`、`bfill`、`ffill`、`pad`、`pct_change`、`shift`、`ohlc`中删除了`.columns.names`的错误（[GH
    41497](https://github.com/pandas-dev/pandas/issues/41497))
- en: Reshaping
  id: totrans-2024
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 重塑
- en: Bug in [`merge()`](../reference/api/pandas.merge.html#pandas.merge "pandas.merge")
    raising error when performing an inner join with partial index and `right_index=True`
    when there was no overlap between indices ([GH 33814](https://github.com/pandas-dev/pandas/issues/33814))
  id: totrans-2025
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用部分索引和`right_index=True`执行内部连接时，[`merge()`](../reference/api/pandas.merge.html#pandas.merge
    "pandas.merge")在索引之间没有重叠时引发错误的错误（[GH 33814](https://github.com/pandas-dev/pandas/issues/33814)）
- en: Bug in [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") with missing levels led to incorrect index names ([GH
    37510](https://github.com/pandas-dev/pandas/issues/37510))
  id: totrans-2026
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")中存在的缺失级别导致索引名称不正确的错误（[GH 37510](https://github.com/pandas-dev/pandas/issues/37510)）'
- en: Bug in [`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") propagating the right Index with `left_index=True` and `right_on`
    specification instead of left Index ([GH 33463](https://github.com/pandas-dev/pandas/issues/33463))
  id: totrans-2027
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`left_index=True`和`right_on`规范时，[`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof")中传播正确的索引而不是左索引的错误（[GH 33463](https://github.com/pandas-dev/pandas/issues/33463)）
- en: Bug in [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") on a DataFrame with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") returned the wrong result when one of both indexes had only
    one level ([GH 36909](https://github.com/pandas-dev/pandas/issues/36909))
  id: totrans-2028
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")的DataFrame上进行[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join")时，当其中一个索引只有一个级别时返回错误的结果（[GH 36909](https://github.com/pandas-dev/pandas/issues/36909)）
- en: '[`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof") now raises a `ValueError` instead of a cryptic `TypeError`
    in case of non-numerical merge columns ([GH 29130](https://github.com/pandas-dev/pandas/issues/29130))'
  id: totrans-2029
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`merge_asof()`](../reference/api/pandas.merge_asof.html#pandas.merge_asof
    "pandas.merge_asof")现在在非数值合并列的情况下引发`ValueError`而不是晦涩的`TypeError`（[GH 29130](https://github.com/pandas-dev/pandas/issues/29130)）'
- en: Bug in [`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join") not assigning values correctly when the DataFrame had
    a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex "pandas.MultiIndex")
    where at least one dimension had dtype `Categorical` with non-alphabetically sorted
    categories ([GH 38502](https://github.com/pandas-dev/pandas/issues/38502))
  id: totrans-2030
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当DataFrame具有[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")且至少一个维度具有非按字母顺序排序的类别时，[`DataFrame.join()`](../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join
    "pandas.DataFrame.join")中未正确分配值的错误（[GH 38502](https://github.com/pandas-dev/pandas/issues/38502)）
- en: '[`Series.value_counts()`](../reference/api/pandas.Series.value_counts.html#pandas.Series.value_counts
    "pandas.Series.value_counts") and [`Series.mode()`](../reference/api/pandas.Series.mode.html#pandas.Series.mode
    "pandas.Series.mode") now return consistent keys in original order ([GH 12679](https://github.com/pandas-dev/pandas/issues/12679),
    [GH 11227](https://github.com/pandas-dev/pandas/issues/11227) and [GH 39007](https://github.com/pandas-dev/pandas/issues/39007))'
  id: totrans-2031
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.value_counts()` 和 `Series.mode()` 现在以原始顺序返回一致的键（[GH 12679](https://github.com/pandas-dev/pandas/issues/12679),
    [GH 11227](https://github.com/pandas-dev/pandas/issues/11227) 和 [GH 39007](https://github.com/pandas-dev/pandas/issues/39007))'
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") not handling `NaN` in [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") columns correctly ([GH 39481](https://github.com/pandas-dev/pandas/issues/39481))
  id: totrans-2032
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.stack()` 中的 Bug 在 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 列中未正确处理 `NaN`（[GH 39481](https://github.com/pandas-dev/pandas/issues/39481))'
- en: Bug in [`DataFrame.apply()`](../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply
    "pandas.DataFrame.apply") would give incorrect results when the argument `func`
    was a string, `axis=1`, and the axis argument was not supported; now raises a
    `ValueError` instead ([GH 39211](https://github.com/pandas-dev/pandas/issues/39211))
  id: totrans-2033
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.apply()` 中的 Bug 当参数 `func` 为字符串且 `axis` 不受支持时，会给出不正确的结果；现在会引发 `ValueError`（[GH
    39211](https://github.com/pandas-dev/pandas/issues/39211))'
- en: Bug in [`DataFrame.sort_values()`](../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values
    "pandas.DataFrame.sort_values") not reshaping the index correctly after sorting
    on columns when `ignore_index=True` ([GH 39464](https://github.com/pandas-dev/pandas/issues/39464))
  id: totrans-2034
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.sort_values()` 中的 Bug 在在列排序时，当 `ignore_index=True` 时未正确重塑索引（[GH
    39464](https://github.com/pandas-dev/pandas/issues/39464))'
- en: Bug in `DataFrame.append()` returning incorrect dtypes with combinations of
    `ExtensionDtype` dtypes ([GH 39454](https://github.com/pandas-dev/pandas/issues/39454))
  id: totrans-2035
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.append()` 中的 Bug 在组合 `ExtensionDtype` dtypes 时返回不正确的 dtypes（[GH
    39454](https://github.com/pandas-dev/pandas/issues/39454))'
- en: Bug in `DataFrame.append()` returning incorrect dtypes when used with combinations
    of `datetime64` and `timedelta64` dtypes ([GH 39574](https://github.com/pandas-dev/pandas/issues/39574))
  id: totrans-2036
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.append()` 中的 Bug 在 `datetime64` 和 `timedelta64` dtypes 的组合使用时返回不正确的
    dtypes（[GH 39574](https://github.com/pandas-dev/pandas/issues/39574))'
- en: Bug in `DataFrame.append()` with a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") with a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") and appending a [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") whose [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") is not a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 41707](https://github.com/pandas-dev/pandas/issues/41707))
  id: totrans-2037
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.append()` 中的 Bug 当使用具有 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 的 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 并且附加一个不是 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 的 [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") 时（[GH 41707](https://github.com/pandas-dev/pandas/issues/41707))'
- en: Bug in [`DataFrame.pivot_table()`](../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table
    "pandas.DataFrame.pivot_table") returning a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") for a single value when operating on an empty DataFrame ([GH
    13483](https://github.com/pandas-dev/pandas/issues/13483))
  id: totrans-2038
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.pivot_table()` 中的 Bug 当对空 DataFrame 进行操作时，返回单个值的 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")（[GH 13483](https://github.com/pandas-dev/pandas/issues/13483))'
- en: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index") can
    now be passed to the [`numpy.all()`](https://numpy.org/doc/stable/reference/generated/numpy.all.html#numpy.all
    "(in NumPy v1.26)") function ([GH 40180](https://github.com/pandas-dev/pandas/issues/40180))'
  id: totrans-2039
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")现在可以传递给[`numpy.all()`](https://numpy.org/doc/stable/reference/generated/numpy.all.html#numpy.all
    "(in NumPy v1.26)")函数（[GH 40180](https://github.com/pandas-dev/pandas/issues/40180))'
- en: Bug in [`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack") not preserving `CategoricalDtype` in a [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") ([GH 36991](https://github.com/pandas-dev/pandas/issues/36991))
  id: totrans-2040
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.stack()`](../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack
    "pandas.DataFrame.stack")存在错误，在[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")中不会保留`CategoricalDtype`（[GH 36991](https://github.com/pandas-dev/pandas/issues/36991))'
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") raising an error when the input sequence contained unhashable
    items ([GH 39756](https://github.com/pandas-dev/pandas/issues/39756))
  id: totrans-2041
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")存在错误，当输入序列包含不可哈希项时会引发错误（[GH 39756](https://github.com/pandas-dev/pandas/issues/39756))'
- en: Bug in [`Series.explode()`](../reference/api/pandas.Series.explode.html#pandas.Series.explode
    "pandas.Series.explode") preserving the index when `ignore_index` was `True` and
    values were scalars ([GH 40487](https://github.com/pandas-dev/pandas/issues/40487))
  id: totrans-2042
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.explode()`](../reference/api/pandas.Series.explode.html#pandas.Series.explode
    "pandas.Series.explode")存在错误，在 `ignore_index` 设置为 `True` 且值为标量时会保留索引（[GH 40487](https://github.com/pandas-dev/pandas/issues/40487))'
- en: Bug in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") raising a `ValueError` when [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") contains `None` and `NaT` and has more than 50 elements ([GH
    39882](https://github.com/pandas-dev/pandas/issues/39882))
  id: totrans-2043
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")存在错误，当[`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series")包含`None`和`NaT`并且元素超过50个时会引发`ValueError`（[GH 39882](https://github.com/pandas-dev/pandas/issues/39882))'
- en: Bug in [`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack") and [`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack") with object-dtype values containing timezone-aware
    datetime objects incorrectly raising `TypeError` ([GH 41875](https://github.com/pandas-dev/pandas/issues/41875))
  id: totrans-2044
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Series.unstack()`](../reference/api/pandas.Series.unstack.html#pandas.Series.unstack
    "pandas.Series.unstack")和[`DataFrame.unstack()`](../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack
    "pandas.DataFrame.unstack")中存在错误，包含时区感知的日期时间对象的对象 dtype 值会错误地引发`TypeError`（[GH
    41875](https://github.com/pandas-dev/pandas/issues/41875))'
- en: Bug in [`DataFrame.melt()`](../reference/api/pandas.DataFrame.melt.html#pandas.DataFrame.melt
    "pandas.DataFrame.melt") raising `InvalidIndexError` when [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") has duplicate columns used as `value_vars` ([GH 41951](https://github.com/pandas-dev/pandas/issues/41951))
  id: totrans-2045
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.melt()`](../reference/api/pandas.DataFrame.melt.html#pandas.DataFrame.melt
    "pandas.DataFrame.melt")存在错误，在作为 `value_vars` 使用的重复列的[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")中会引发 `InvalidIndexError`（[GH 41951](https://github.com/pandas-dev/pandas/issues/41951))'
- en: Sparse
  id: totrans-2046
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 稀疏
- en: Bug in [`DataFrame.sparse.to_coo()`](../reference/api/pandas.DataFrame.sparse.to_coo.html#pandas.DataFrame.sparse.to_coo
    "pandas.DataFrame.sparse.to_coo") raising a `KeyError` with columns that are a
    numeric [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")
    without a `0` ([GH 18414](https://github.com/pandas-dev/pandas/issues/18414))
  id: totrans-2047
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.sparse.to_coo()`](../reference/api/pandas.DataFrame.sparse.to_coo.html#pandas.DataFrame.sparse.to_coo
    "pandas.DataFrame.sparse.to_coo")存在错误，在列为数值型[`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index")且没有`0`时会引发`KeyError`（[GH 18414](https://github.com/pandas-dev/pandas/issues/18414))'
- en: Bug in `SparseArray.astype()` with `copy=False` producing incorrect results
    when going from integer dtype to floating dtype ([GH 34456](https://github.com/pandas-dev/pandas/issues/34456))
  id: totrans-2048
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.astype()`存在错误，当从整数 dtype 转换为浮点 dtype 时，使用 `copy=False` 会产生不正确的结果（[GH
    34456](https://github.com/pandas-dev/pandas/issues/34456))'
- en: Bug in `SparseArray.max()` and `SparseArray.min()` would always return an empty
    result ([GH 40921](https://github.com/pandas-dev/pandas/issues/40921))
  id: totrans-2049
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.max()`和`SparseArray.min()`中的错误总是返回空结果（[GH 40921](https://github.com/pandas-dev/pandas/issues/40921))'
- en: ExtensionArray
  id: totrans-2050
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ExtensionArray
- en: Bug in [`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where") when `other` is a Series with an `ExtensionDtype` ([GH
    38729](https://github.com/pandas-dev/pandas/issues/38729))
  id: totrans-2051
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`other`是具有`ExtensionDtype`的Series时，[`DataFrame.where()`](../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where
    "pandas.DataFrame.where")中的一个错误（[GH 38729](https://github.com/pandas-dev/pandas/issues/38729))
- en: Fixed bug where [`Series.idxmax()`](../reference/api/pandas.Series.idxmax.html#pandas.Series.idxmax
    "pandas.Series.idxmax"), [`Series.idxmin()`](../reference/api/pandas.Series.idxmin.html#pandas.Series.idxmin
    "pandas.Series.idxmin"), [`Series.argmax()`](../reference/api/pandas.Series.argmax.html#pandas.Series.argmax
    "pandas.Series.argmax"), and [`Series.argmin()`](../reference/api/pandas.Series.argmin.html#pandas.Series.argmin
    "pandas.Series.argmin") would fail when the underlying data is an `ExtensionArray`
    ([GH 32749](https://github.com/pandas-dev/pandas/issues/32749), [GH 33719](https://github.com/pandas-dev/pandas/issues/33719),
    [GH 36566](https://github.com/pandas-dev/pandas/issues/36566))
  id: totrans-2052
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`Series.idxmax()`](../reference/api/pandas.Series.idxmax.html#pandas.Series.idxmax
    "pandas.Series.idxmax")、[`Series.idxmin()`](../reference/api/pandas.Series.idxmin.html#pandas.Series.idxmin
    "pandas.Series.idxmin")、[`Series.argmax()`](../reference/api/pandas.Series.argmax.html#pandas.Series.argmax
    "pandas.Series.argmax")和[`Series.argmin()`](../reference/api/pandas.Series.argmin.html#pandas.Series.argmin
    "pandas.Series.argmin")在基础数据为`ExtensionArray`时失败的错误（[GH 32749](https://github.com/pandas-dev/pandas/issues/32749),
    [GH 33719](https://github.com/pandas-dev/pandas/issues/33719), [GH 36566](https://github.com/pandas-dev/pandas/issues/36566))
- en: Fixed bug where some properties of subclasses of `PandasExtensionDtype` where
    improperly cached ([GH 40329](https://github.com/pandas-dev/pandas/issues/40329))
  id: totrans-2053
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`PandasExtensionDtype`的子类的一些属性被错误地缓存的错误（[GH 40329](https://github.com/pandas-dev/pandas/issues/40329))
- en: Bug in [`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask") where masking a DataFrame with an `ExtensionDtype` raises
    a `ValueError` ([GH 40941](https://github.com/pandas-dev/pandas/issues/40941))
  id: totrans-2054
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataFrame.mask()`](../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask
    "pandas.DataFrame.mask")中的一个错误，使用`ExtensionDtype`对DataFrame进行掩码会引发`ValueError`（[GH
    40941](https://github.com/pandas-dev/pandas/issues/40941))'
- en: Styler
  id: totrans-2055
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Styler
- en: Bug in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") where the `subset` argument in methods raised
    an error for some valid MultiIndex slices ([GH 33562](https://github.com/pandas-dev/pandas/issues/33562))
  id: totrans-2056
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler")中的一个错误，方法中的`subset`参数对一些有效的MultiIndex切片引发错误（[GH
    33562](https://github.com/pandas-dev/pandas/issues/33562))
- en: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") rendered HTML output has seen minor alterations
    to support w3 good code standards ([GH 39626](https://github.com/pandas-dev/pandas/issues/39626))'
  id: totrans-2057
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler")的渲染HTML输出已经进行了轻微修改以支持w3良好的代码标准（[GH 39626](https://github.com/pandas-dev/pandas/issues/39626))'
- en: Bug in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") where rendered HTML was missing a column class
    identifier for certain header cells ([GH 39716](https://github.com/pandas-dev/pandas/issues/39716))
  id: totrans-2058
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler")中的一个错误，某些标题单元格的渲染HTML缺少列类标识符（[GH 39716](https://github.com/pandas-dev/pandas/issues/39716))
- en: Bug in [`Styler.background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient") where text-color was not
    determined correctly ([GH 39888](https://github.com/pandas-dev/pandas/issues/39888))
  id: totrans-2059
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Styler.background_gradient()`](../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient
    "pandas.io.formats.style.Styler.background_gradient")中的一个错误，文本颜色未正确确定（[GH 39888](https://github.com/pandas-dev/pandas/issues/39888))
- en: Bug in [`Styler.set_table_styles()`](../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles
    "pandas.io.formats.style.Styler.set_table_styles") where multiple elements in
    CSS-selectors of the `table_styles` argument were not correctly added ([GH 34061](https://github.com/pandas-dev/pandas/issues/34061))
  id: totrans-2060
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`Styler.set_table_styles()`](../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles
    "pandas.io.formats.style.Styler.set_table_styles")中��一个错误，`table_styles`参数中CSS选择器中的多个元素未正确添加（[GH
    34061](https://github.com/pandas-dev/pandas/issues/34061))
- en: Bug in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") where copying from Jupyter dropped the top left
    cell and misaligned headers ([GH 12147](https://github.com/pandas-dev/pandas/issues/12147))
  id: totrans-2061
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在从 Jupyter 复制时，存在 [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 的错误，顶部左侧单元格丢失且标题错位 ([GH 12147](https://github.com/pandas-dev/pandas/issues/12147))
- en: Bug in `Styler.where` where `kwargs` were not passed to the applicable callable
    ([GH 40845](https://github.com/pandas-dev/pandas/issues/40845))
  id: totrans-2062
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Styler.where` 中存在错误，未将 `kwargs` 传递给适用的可调用函数 ([GH 40845](https://github.com/pandas-dev/pandas/issues/40845))
- en: Bug in [`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") causing CSS to duplicate on multiple renders
    ([GH 39395](https://github.com/pandas-dev/pandas/issues/39395), [GH 40334](https://github.com/pandas-dev/pandas/issues/40334))
  id: totrans-2063
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在多次渲染时，[`Styler`](../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler
    "pandas.io.formats.style.Styler") 存在错误，导致 CSS 重复 ([GH 39395](https://github.com/pandas-dev/pandas/issues/39395),
    [GH 40334](https://github.com/pandas-dev/pandas/issues/40334))
- en: Other
  id: totrans-2064
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 其他
- en: '`inspect.getmembers(Series)` no longer raises an `AbstractMethodError` ([GH
    38782](https://github.com/pandas-dev/pandas/issues/38782))'
  id: totrans-2065
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`inspect.getmembers(Series)` 不再引发 `AbstractMethodError` ([GH 38782](https://github.com/pandas-dev/pandas/issues/38782))'
- en: Bug in [`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") with numeric dtype and `other=None` not casting to `nan`
    ([GH 39761](https://github.com/pandas-dev/pandas/issues/39761))
  id: totrans-2066
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在数值类型和 `other=None` 的情况下，[`Series.where()`](../reference/api/pandas.Series.where.html#pandas.Series.where
    "pandas.Series.where") 存在错误，未将其转换为 `nan` ([GH 39761](https://github.com/pandas-dev/pandas/issues/39761))
- en: Bug in [`assert_series_equal()`](../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal
    "pandas.testing.assert_series_equal"), [`assert_frame_equal()`](../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal
    "pandas.testing.assert_frame_equal"), [`assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal") and [`assert_extension_array_equal()`](../reference/api/pandas.testing.assert_extension_array_equal.html#pandas.testing.assert_extension_array_equal
    "pandas.testing.assert_extension_array_equal") incorrectly raising when an attribute
    has an unrecognized NA type ([GH 39461](https://github.com/pandas-dev/pandas/issues/39461))
  id: totrans-2067
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在属性具有未识别 NA 类型时，[`assert_series_equal()`](../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal
    "pandas.testing.assert_series_equal")、[`assert_frame_equal()`](../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal
    "pandas.testing.assert_frame_equal")、[`assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal") 和 [`assert_extension_array_equal()`](../reference/api/pandas.testing.assert_extension_array_equal.html#pandas.testing.assert_extension_array_equal
    "pandas.testing.assert_extension_array_equal") 错误地引发异常 ([GH 39461](https://github.com/pandas-dev/pandas/issues/39461))
- en: Bug in [`assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal") with `exact=True` not raising when comparing
    [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") instances with `Int64Index` and `RangeIndex` categories
    ([GH 41263](https://github.com/pandas-dev/pandas/issues/41263))
  id: totrans-2068
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `exact=True` 时，[`assert_index_equal()`](../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal
    "pandas.testing.assert_index_equal") 存在错误，当比较 [`CategoricalIndex`](../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex
    "pandas.CategoricalIndex") 实例与 `Int64Index` 和 `RangeIndex` 类别时未引发异常 ([GH 41263](https://github.com/pandas-dev/pandas/issues/41263))
- en: Bug in [`DataFrame.equals()`](../reference/api/pandas.DataFrame.equals.html#pandas.DataFrame.equals
    "pandas.DataFrame.equals"), [`Series.equals()`](../reference/api/pandas.Series.equals.html#pandas.Series.equals
    "pandas.Series.equals"), and [`Index.equals()`](../reference/api/pandas.Index.equals.html#pandas.Index.equals
    "pandas.Index.equals") with object-dtype containing `np.datetime64("NaT")` or
    `np.timedelta64("NaT")` ([GH 39650](https://github.com/pandas-dev/pandas/issues/39650))
  id: totrans-2069
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在包含 `np.datetime64("NaT")` 或 `np.timedelta64("NaT")` 的对象类型中，[`DataFrame.equals()`](../reference/api/pandas.DataFrame.equals.html#pandas.DataFrame.equals
    "pandas.DataFrame.equals")、[`Series.equals()`](../reference/api/pandas.Series.equals.html#pandas.Series.equals
    "pandas.Series.equals") 和 [`Index.equals()`](../reference/api/pandas.Index.equals.html#pandas.Index.equals
    "pandas.Index.equals") 存在错误 ([GH 39650](https://github.com/pandas-dev/pandas/issues/39650))
- en: Bug in [`show_versions()`](../reference/api/pandas.show_versions.html#pandas.show_versions
    "pandas.show_versions") where console JSON output was not proper JSON ([GH 39701](https://github.com/pandas-dev/pandas/issues/39701))
  id: totrans-2070
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`show_versions()`](../reference/api/pandas.show_versions.html#pandas.show_versions
    "pandas.show_versions")中存在一个错误，控制台JSON输出不是正确的JSON格式（[GH 39701](https://github.com/pandas-dev/pandas/issues/39701)）。
- en: pandas can now compile on z/OS when using [xlc](https://www.ibm.com/products/xl-cpp-compiler-zos)
    ([GH 35826](https://github.com/pandas-dev/pandas/issues/35826))
  id: totrans-2071
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，当使用[xlc](https://www.ibm.com/products/xl-cpp-compiler-zos)（[GH 35826](https://github.com/pandas-dev/pandas/issues/35826)）时，pandas现在可以在z/OS上编译。
- en: Bug in [`pandas.util.hash_pandas_object()`](../reference/api/pandas.util.hash_pandas_object.html#pandas.util.hash_pandas_object
    "pandas.util.hash_pandas_object") not recognizing `hash_key`, `encoding` and `categorize`
    when the input object type is a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 41404](https://github.com/pandas-dev/pandas/issues/41404))
  id: totrans-2072
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`pandas.util.hash_pandas_object()`](../reference/api/pandas.util.hash_pandas_object.html#pandas.util.hash_pandas_object
    "pandas.util.hash_pandas_object")中存在一个错误，当输入对象类型为[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")时，无法识别`hash_key`、`encoding`和`categorize`（[GH 41404](https://github.com/pandas-dev/pandas/issues/41404)）。
- en: '## Contributors'
  id: totrans-2073
  prefs: []
  type: TYPE_NORMAL
  zh: '## 贡献者'
- en: A total of 251 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  id: totrans-2074
  prefs: []
  type: TYPE_NORMAL
  zh: 本次发布共有251人贡献了补丁。名字后面带有“+”的人第一次贡献了补丁。
- en: Abhishek R +
  id: totrans-2075
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Abhishek R +
- en: Ada Draginda
  id: totrans-2076
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ada Draginda
- en: Adam J. Stewart
  id: totrans-2077
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Adam J. Stewart
- en: Adam Turner +
  id: totrans-2078
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Adam Turner +
- en: Aidan Feldman +
  id: totrans-2079
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Aidan Feldman +
- en: Ajitesh Singh +
  id: totrans-2080
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ajitesh Singh +
- en: Akshat Jain +
  id: totrans-2081
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Akshat Jain +
- en: Albert Villanova del Moral
  id: totrans-2082
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Albert Villanova del Moral
- en: Alexandre Prince-Levasseur +
  id: totrans-2083
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Alexandre Prince-Levasseur +
- en: Andrew Hawyrluk +
  id: totrans-2084
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Hawyrluk +
- en: Andrew Wieteska
  id: totrans-2085
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Wieteska
- en: AnglinaBhambra +
  id: totrans-2086
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AnglinaBhambra +
- en: Ankush Dua +
  id: totrans-2087
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ankush Dua +
- en: Anna Daglis
  id: totrans-2088
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anna Daglis
- en: Ashlan Parker +
  id: totrans-2089
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ashlan Parker +
- en: Ashwani +
  id: totrans-2090
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ashwani +
- en: Avinash Pancham
  id: totrans-2091
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Avinash Pancham
- en: Ayushman Kumar +
  id: totrans-2092
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ayushman Kumar +
- en: BeanNan
  id: totrans-2093
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: BeanNan
- en: Benoît Vinot
  id: totrans-2094
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Benoît Vinot
- en: Bharat Raghunathan
  id: totrans-2095
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bharat Raghunathan
- en: Bijay Regmi +
  id: totrans-2096
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bijay Regmi +
- en: Bobin Mathew +
  id: totrans-2097
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bobin Mathew +
- en: Bogdan Pilyavets +
  id: totrans-2098
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bogdan Pilyavets +
- en: Brian Hulette +
  id: totrans-2099
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brian Hulette +
- en: Brian Sun +
  id: totrans-2100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brian Sun +
- en: Brock +
  id: totrans-2101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brock +
- en: Bryan Cutler
  id: totrans-2102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bryan Cutler
- en: Caleb +
  id: totrans-2103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Caleb +
- en: Calvin Ho +
  id: totrans-2104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Calvin Ho +
- en: Chathura Widanage +
  id: totrans-2105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chathura Widanage +
- en: Chinmay Rane +
  id: totrans-2106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chinmay Rane +
- en: Chris Lynch
  id: totrans-2107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Lynch
- en: Chris Withers
  id: totrans-2108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chris Withers
- en: Christos Petropoulos
  id: totrans-2109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Christos Petropoulos
- en: Corentin Girard +
  id: totrans-2110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Corentin Girard +
- en: DaPy15 +
  id: totrans-2111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DaPy15 +
- en: Damodara Puddu +
  id: totrans-2112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Damodara Puddu +
- en: Daniel Hrisca
  id: totrans-2113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Hrisca
- en: Daniel Saxton
  id: totrans-2114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Saxton
- en: DanielFEvans
  id: totrans-2115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DanielFEvans
- en: Dare Adewumi +
  id: totrans-2116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dare Adewumi +
- en: Dave Willmer
  id: totrans-2117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dave Willmer
- en: David Schlachter +
  id: totrans-2118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Schlachter +
- en: David-dmh +
  id: totrans-2119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David-dmh +
- en: Deepang Raval +
  id: totrans-2120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Deepang Raval +
- en: Doris Lee +
  id: totrans-2121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Doris Lee +
- en: Dr. Jan-Philip Gehrcke +
  id: totrans-2122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dr. Jan-Philip Gehrcke +
- en: DriesS +
  id: totrans-2123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DriesS +
- en: Dylan Percy
  id: totrans-2124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dylan Percy
- en: Erfan Nariman
  id: totrans-2125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Erfan Nariman
- en: Eric Leung
  id: totrans-2126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eric Leung
- en: EricLeer +
  id: totrans-2127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: EricLeer +
- en: Eve
  id: totrans-2128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Eve
- en: Fangchen Li
  id: totrans-2129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fangchen Li
- en: Felix Divo
  id: totrans-2130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Felix Divo
- en: Florian Jetter
  id: totrans-2131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Florian Jetter
- en: Fred Reiss
  id: totrans-2132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Fred Reiss
- en: GFJ138 +
  id: totrans-2133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GFJ138 +
- en: Gaurav Sheni +
  id: totrans-2134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gaurav Sheni +
- en: Geoffrey B. Eisenbarth +
  id: totrans-2135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Geoffrey B. Eisenbarth +
- en: Gesa Stupperich +
  id: totrans-2136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gesa Stupperich +
- en: Griffin Ansel +
  id: totrans-2137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Griffin Ansel +
- en: Gustavo C. Maciel +
  id: totrans-2138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gustavo C. Maciel +
- en: Heidi +
  id: totrans-2139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Heidi +
- en: Henry +
  id: totrans-2140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Henry +
- en: Hung-Yi Wu +
  id: totrans-2141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hung-Yi Wu +
- en: Ian Ozsvald +
  id: totrans-2142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ian Ozsvald +
- en: Irv Lustig
  id: totrans-2143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Irv Lustig
- en: Isaac Chung +
  id: totrans-2144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Isaac Chung +
- en: Isaac Virshup
  id: totrans-2145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Isaac Virshup
- en: JHM Darbyshire (MBP) +
  id: totrans-2146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: JHM Darbyshire (MBP) +
- en: JHM Darbyshire (iMac) +
  id: totrans-2147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: JHM Darbyshire (iMac) +
- en: Jack Liu +
  id: totrans-2148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jack Liu +
- en: James Lamb +
  id: totrans-2149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: James Lamb +
- en: Jeet Parekh
  id: totrans-2150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeet Parekh
- en: Jeff Reback
  id: totrans-2151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeff Reback
- en: Jiezheng2018 +
  id: totrans-2152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jiezheng2018 +
- en: Jody Klymak
  id: totrans-2153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jody Klymak
- en: Johan Kåhrström +
  id: totrans-2154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Johan Kåhrström +
- en: John McGuigan
  id: totrans-2155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: John McGuigan
- en: Joris Van den Bossche
  id: totrans-2156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Van den Bossche
- en: Jose
  id: totrans-2157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jose
- en: JoseNavy
  id: totrans-2158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: JoseNavy
- en: Josh Dimarsky
  id: totrans-2159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Josh Dimarsky
- en: Josh Friedlander
  id: totrans-2160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Josh Friedlander
- en: Joshua Klein +
  id: totrans-2161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joshua Klein +
- en: Julia Signell
  id: totrans-2162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Julia Signell
- en: Julian Schnitzler +
  id: totrans-2163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Julian Schnitzler +
- en: Kaiqi Dong
  id: totrans-2164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kaiqi Dong
- en: Kasim Panjri +
  id: totrans-2165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kasim Panjri +
- en: Katie Smith +
  id: totrans-2166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Katie Smith +
- en: Kelly +
  id: totrans-2167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kelly +
- en: Kenil +
  id: totrans-2168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kenil +
- en: Keppler, Kyle +
  id: totrans-2169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Keppler, Kyle +
- en: Kevin Sheppard
  id: totrans-2170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kevin Sheppard
- en: Khor Chean Wei +
  id: totrans-2171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Khor Chean Wei +
- en: Kiley Hewitt +
  id: totrans-2172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kiley Hewitt +
- en: Larry Wong +
  id: totrans-2173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Larry Wong +
- en: Lightyears +
  id: totrans-2174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lightyears +
- en: Lucas Holtz +
  id: totrans-2175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lucas Holtz +
- en: Lucas Rodés-Guirao
  id: totrans-2176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lucas Rodés-Guirao
- en: Lucky Sivagurunathan +
  id: totrans-2177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lucky Sivagurunathan +
- en: Luis Pinto
  id: totrans-2178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Luis Pinto
- en: Maciej Kos +
  id: totrans-2179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maciej Kos +
- en: Marc Garcia
  id: totrans-2180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marc Garcia
- en: Marco Edward Gorelli +
  id: totrans-2181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marco Edward Gorelli +
- en: Marco Gorelli
  id: totrans-2182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marco Gorelli
- en: MarcoGorelli +
  id: totrans-2183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MarcoGorelli +
- en: Mark Graham
  id: totrans-2184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mark Graham
- en: Martin Dengler +
  id: totrans-2185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Martin Dengler +
- en: Martin Grigorov +
  id: totrans-2186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Martin Grigorov +
- en: Marty Rudolf +
  id: totrans-2187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marty Rudolf +
- en: Matt Roeschke
  id: totrans-2188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Roeschke
- en: Matthew Roeschke
  id: totrans-2189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Roeschke
- en: Matthew Zeitlin
  id: totrans-2190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Zeitlin
- en: Max Bolingbroke
  id: totrans-2191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Max Bolingbroke
- en: Maxim Ivanov
  id: totrans-2192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maxim Ivanov
- en: Maxim Kupfer +
  id: totrans-2193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maxim Kupfer +
- en: Mayur +
  id: totrans-2194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mayur +
- en: MeeseeksMachine
  id: totrans-2195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MeeseeksMachine
- en: Micael Jarniac
  id: totrans-2196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Micael Jarniac
- en: Michael Hsieh +
  id: totrans-2197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Hsieh +
- en: Michel de Ruiter +
  id: totrans-2198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michel de Ruiter +
- en: Mike Roberts +
  id: totrans-2199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mike Roberts +
- en: Miroslav Šedivý
  id: totrans-2200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Miroslav Šedivý
- en: Mohammad Jafar Mashhadi
  id: totrans-2201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mohammad Jafar Mashhadi
- en: Morisa Manzella +
  id: totrans-2202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Morisa Manzella +
- en: Mortada Mehyar
  id: totrans-2203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mortada Mehyar
- en: Muktan +
  id: totrans-2204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Muktan +
- en: Naveen Agrawal +
  id: totrans-2205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Naveen Agrawal +
- en: Noah
  id: totrans-2206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Noah
- en: Nofar Mishraki +
  id: totrans-2207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nofar Mishraki +
- en: Oleh Kozynets
  id: totrans-2208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Oleh Kozynets
- en: Olga Matoula +
  id: totrans-2209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Olga Matoula +
- en: Oli +
  id: totrans-2210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Oli +
- en: Omar Afifi
  id: totrans-2211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Omar Afifi
- en: Omer Ozarslan +
  id: totrans-2212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Omer Ozarslan +
- en: Owen Lamont +
  id: totrans-2213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Owen Lamont +
- en: Ozan Öğreden +
  id: totrans-2214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ozan Öğreden +
- en: Pandas Development Team
  id: totrans-2215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pandas开发团队
- en: Paolo Lammens
  id: totrans-2216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paolo Lammens
- en: Parfait Gasana +
  id: totrans-2217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Parfait Gasana +
- en: Patrick Hoefler
  id: totrans-2218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Patrick Hoefler
- en: Paul McCarthy +
  id: totrans-2219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul McCarthy +
- en: Paulo S. Costa +
  id: totrans-2220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paulo S. Costa +
- en: Pav A
  id: totrans-2221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pav A
- en: Peter
  id: totrans-2222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Peter
- en: Pradyumna Rahul +
  id: totrans-2223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pradyumna Rahul +
- en: Punitvara +
  id: totrans-2224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Punitvara +
- en: QP Hou +
  id: totrans-2225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: QP Hou +
- en: Rahul Chauhan
  id: totrans-2226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rahul Chauhan
- en: Rahul Sathanapalli
  id: totrans-2227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rahul Sathanapalli
- en: Richard Shadrach
  id: totrans-2228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Richard Shadrach
- en: Robert Bradshaw
  id: totrans-2229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robert Bradshaw
- en: Robin to Roxel
  id: totrans-2230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robin to Roxel
- en: Rohit Gupta
  id: totrans-2231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rohit Gupta
- en: Sam Purkis +
  id: totrans-2232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sam Purkis +
- en: Samuel GIFFARD +
  id: totrans-2233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Samuel GIFFARD +
- en: Sean M. Law +
  id: totrans-2234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sean M. Law +
- en: Shahar Naveh +
  id: totrans-2235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shahar Naveh +
- en: ShaharNaveh +
  id: totrans-2236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ShaharNaveh +
- en: Shiv Gupta +
  id: totrans-2237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shiv Gupta +
- en: Shrey Dixit +
  id: totrans-2238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shrey Dixit +
- en: Shudong Yang +
  id: totrans-2239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shudong Yang +
- en: Simon Boehm +
  id: totrans-2240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Simon Boehm +
- en: Simon Hawkins
  id: totrans-2241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Simon Hawkins
- en: Sioned Baker +
  id: totrans-2242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sioned Baker +
- en: Stefan Mejlgaard +
  id: totrans-2243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stefan Mejlgaard +
- en: Steven Pitman +
  id: totrans-2244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Steven Pitman +
- en: Steven Schaerer +
  id: totrans-2245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Steven Schaerer +
- en: Stéphane Guillou +
  id: totrans-2246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stéphane Guillou +
- en: TLouf +
  id: totrans-2247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: TLouf +
- en: Tegar D Pratama +
  id: totrans-2248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tegar D Pratama +
- en: Terji Petersen
  id: totrans-2249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Terji Petersen
- en: Theodoros Nikolaou +
  id: totrans-2250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Theodoros Nikolaou +
- en: Thomas Dickson
  id: totrans-2251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Dickson
- en: Thomas Li
  id: totrans-2252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Li
- en: Thomas Smith
  id: totrans-2253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Smith
- en: Thomas Yu +
  id: totrans-2254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Thomas Yu +
- en: ThomasBlauthQC +
  id: totrans-2255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ThomasBlauthQC +
- en: Tim Hoffmann
  id: totrans-2256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tim Hoffmann
- en: Tom Augspurger
  id: totrans-2257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tom Augspurger
- en: Torsten Wörtwein
  id: totrans-2258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Torsten Wörtwein
- en: Tyler Reddy
  id: totrans-2259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tyler Reddy
- en: UrielMaD
  id: totrans-2260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: UrielMaD
- en: Uwe L. Korn
  id: totrans-2261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Uwe L. Korn
- en: Venaturum +
  id: totrans-2262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Venaturum +
- en: VirosaLi
  id: totrans-2263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VirosaLi
- en: Vladimir Podolskiy
  id: totrans-2264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vladimir Podolskiy
- en: Vyom Pathak +
  id: totrans-2265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vyom Pathak +
- en: WANG Aiyong
  id: totrans-2266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WANG Aiyong
- en: Waltteri Koskinen +
  id: totrans-2267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Waltteri Koskinen +
- en: Wenjun Si +
  id: totrans-2268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wenjun Si +
- en: William Ayd
  id: totrans-2269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: William Ayd
- en: Yeshwanth N +
  id: totrans-2270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yeshwanth N +
- en: Yuanhao Geng
  id: totrans-2271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yuanhao Geng
- en: Zito Relova +
  id: totrans-2272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zito Relova +
- en: aflah02 +
  id: totrans-2273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: aflah02 +
- en: arredond +
  id: totrans-2274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: arredond +
- en: attack68
  id: totrans-2275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: attack68
- en: cdknox +
  id: totrans-2276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: cdknox +
- en: chinggg +
  id: totrans-2277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: chinggg +
- en: fathomer +
  id: totrans-2278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: fathomer +
- en: ftrihardjo +
  id: totrans-2279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ftrihardjo +
- en: github-actions[bot] +
  id: totrans-2280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: github-actions[bot] +
- en: gunjan-solanki +
  id: totrans-2281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gunjan-solanki +
- en: guru kiran
  id: totrans-2282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: guru kiran
- en: hasan-yaman
  id: totrans-2283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: hasan-yaman
- en: i-aki-y +
  id: totrans-2284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: i-aki-y +
- en: jbrockmendel
  id: totrans-2285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jbrockmendel
- en: jmholzer +
  id: totrans-2286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jmholzer +
- en: jordi-crespo +
  id: totrans-2287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jordi-crespo +
- en: jotasi +
  id: totrans-2288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jotasi +
- en: jreback
  id: totrans-2289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jreback
- en: juliansmidek +
  id: totrans-2290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: juliansmidek +
- en: kylekeppler
  id: totrans-2291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: kylekeppler
- en: lrepiton +
  id: totrans-2292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: lrepiton +
- en: lucasrodes
  id: totrans-2293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: lucasrodes
- en: maroth96 +
  id: totrans-2294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: maroth96 +
- en: mikeronayne +
  id: totrans-2295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mikeronayne +
- en: mlondschien
  id: totrans-2296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mlondschien
- en: moink +
  id: totrans-2297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: moink +
- en: morrme
  id: totrans-2298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: morrme
- en: mschmookler +
  id: totrans-2299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mschmookler +
- en: mzeitlin11
  id: totrans-2300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mzeitlin11
- en: na2 +
  id: totrans-2301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: na2 +
- en: nofarmishraki +
  id: totrans-2302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: nofarmishraki +
- en: partev
  id: totrans-2303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: partev
- en: patrick
  id: totrans-2304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: patrick
- en: ptype
  id: totrans-2305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ptype
- en: realead
  id: totrans-2306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: realead
- en: rhshadrach
  id: totrans-2307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: rhshadrach
- en: rlukevie +
  id: totrans-2308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: rlukevie +
- en: rosagold +
  id: totrans-2309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: rosagold +
- en: saucoide +
  id: totrans-2310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: saucoide +
- en: sdementen +
  id: totrans-2311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sdementen +
- en: shawnbrown
  id: totrans-2312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: shawnbrown
- en: sstiijn +
  id: totrans-2313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sstiijn +
- en: stphnlyd +
  id: totrans-2314
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: stphnlyd +
- en: sukriti1 +
  id: totrans-2315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sukriti1 +
- en: taytzehao
  id: totrans-2316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: taytzehao
- en: theOehrly +
  id: totrans-2317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: theOehrly +
- en: theodorju +
  id: totrans-2318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: theodorju +
- en: thordisstella +
  id: totrans-2319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: thordisstella +
- en: tonyyyyip +
  id: totrans-2320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tonyyyyip +
- en: tsinggggg +
  id: totrans-2321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tsinggggg +
- en: tushushu +
  id: totrans-2322
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tushushu +
- en: vangorade +
  id: totrans-2323
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: vangorade +
- en: vladu +
  id: totrans-2324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: vladu +
- en: wertha +
  id: totrans-2325
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: wertha +
