- en: Cookbook
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 食谱
- en: 原文：[https://pandas.pydata.org/docs/user_guide/cookbook.html](https://pandas.pydata.org/docs/user_guide/cookbook.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://pandas.pydata.org/docs/user_guide/cookbook.html](https://pandas.pydata.org/docs/user_guide/cookbook.html)
- en: This is a repository for *short and sweet* examples and links for useful pandas
    recipes. We encourage users to add to this documentation.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个*简短而精炼*的示例和链接存储库，包含有用的pandas示例。我们鼓励用户为此文档添加内容。
- en: Adding interesting links and/or inline examples to this section is a great *First
    Pull Request*.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分添加有趣的链接和/或内联示例是一个很好的*首次拉取请求*。
- en: Simplified, condensed, new-user friendly, in-line examples have been inserted
    where possible to augment the Stack-Overflow and GitHub links. Many of the links
    contain expanded information, above what the in-line examples offer.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在可能的情况下，已插入简化、精简、适合新用户的内联示例，以补充Stack-Overflow和GitHub链接。许多链接包含了比内联示例提供的更详细的信息。
- en: pandas (pd) and NumPy (np) are the only two abbreviated imported modules. The
    rest are kept explicitly imported for newer users.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: pandas（pd）和NumPy（np）是唯一两个缩写导入的模块。其余模块都明确导入，以供新用户使用。
- en: Idioms
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 习语
- en: These are some neat pandas `idioms`
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 这些都是一些很棒的pandas `习语`
- en: '[if-then/if-then-else on one column, and assignment to another one or more
    columns:](https://stackoverflow.com/questions/17128302/python-pandas-idiom-for-if-then-else)'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[对一列进行if-then/if-then-else条件判断，并对另一列或多列进行赋值：](https://stackoverflow.com/questions/17128302/python-pandas-idiom-for-if-then-else)'
- en: '[PRE0]'
  id: totrans-9
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: if-then…
  id: totrans-10
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: if-then…
- en: An if-then on one column
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 对一列进行if-then条件判断
- en: '[PRE1]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'An if-then with assignment to 2 columns:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 一个带有对2列赋值的if-then：
- en: '[PRE2]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Add another line with different logic, to do the -else
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 添加另一行具有不同逻辑，以执行-else
- en: '[PRE3]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Or use pandas where after you’ve set up a mask
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 或者在设置了掩码之后使用pandas where
- en: '[PRE4]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[if-then-else using NumPy’s where()](https://stackoverflow.com/questions/19913659/pandas-conditional-creation-of-a-series-dataframe-column)'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用NumPy的where()进行if-then-else条件判断](https://stackoverflow.com/questions/19913659/pandas-conditional-creation-of-a-series-dataframe-column)'
- en: '[PRE5]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Splitting
  id: totrans-21
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分割
- en: '[Split a frame with a boolean criterion](https://stackoverflow.com/questions/14957116/how-to-split-a-dataframe-according-to-a-boolean-criterion)'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用布尔条件拆分数据框](https://stackoverflow.com/questions/14957116/how-to-split-a-dataframe-according-to-a-boolean-criterion)'
- en: '[PRE6]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Building criteria
  id: totrans-24
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 构建条件
- en: '[Select with multi-column criteria](https://stackoverflow.com/questions/15315452/selecting-with-complex-criteria-from-pandas-dataframe)'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用多列条件进行选择](https://stackoverflow.com/questions/15315452/selecting-with-complex-criteria-from-pandas-dataframe)'
- en: '[PRE7]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: …and (without assignment returns a Series)
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: …并且（不带赋值返回一个Series）
- en: '[PRE8]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: …or (without assignment returns a Series)
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: …或者（不带赋值返回一个Series）
- en: '[PRE9]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: …or (with assignment modifies the DataFrame.)
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: …或者（带有赋值修改DataFrame。）
- en: '[PRE10]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '[Select rows with data closest to certain value using argsort](https://stackoverflow.com/questions/17758023/return-rows-in-a-dataframe-closest-to-a-user-defined-number)'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用argsort选择最接近某个值的数据行](https://stackoverflow.com/questions/17758023/return-rows-in-a-dataframe-closest-to-a-user-defined-number)'
- en: '[PRE11]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '[Dynamically reduce a list of criteria using a binary operators](https://stackoverflow.com/questions/21058254/pandas-boolean-operation-in-a-python-list/21058331)'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用二进制运算符动态减少条件列表](https://stackoverflow.com/questions/21058254/pandas-boolean-operation-in-a-python-list/21058331)'
- en: '[PRE12]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'One could hard code:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 可以硬编码：
- en: '[PRE13]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: …Or it can be done with a list of dynamically built criteria
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: …或者可以使用一个动态构建的条件列表
- en: '[PRE14]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '## Selection'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '## 选择'
- en: Dataframes
  id: totrans-42
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数据框
- en: The [indexing](indexing.html#indexing) docs.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '[索引](indexing.html#indexing)文档。'
- en: '[Using both row labels and value conditionals](https://stackoverflow.com/questions/14725068/pandas-using-row-labels-in-boolean-indexing)'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '[同时使用行标签和值条件](https://stackoverflow.com/questions/14725068/pandas-using-row-labels-in-boolean-indexing)'
- en: '[PRE15]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Use loc for label-oriented slicing and iloc positional slicing [GH 2904](https://github.com/pandas-dev/pandas/issues/2904)
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 使用loc进行基于标签的切片和iloc进行基于位置的切片 [GH 2904](https://github.com/pandas-dev/pandas/issues/2904)
- en: '[PRE16]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: There are 2 explicit slicing methods, with a third general case
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 有两种明确的切片方法，还有第三种通用情况
- en: 'Positional-oriented (Python slicing style : exclusive of end)'
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 位置导向（Python切片样式：不包括结束位置）
- en: 'Label-oriented (Non-Python slicing style : inclusive of end)'
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 标签导向（非Python切片样式：包括结束位置）
- en: 'General (Either slicing style : depends on if the slice contains labels or
    positions)'
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通用（取决于切片样式：取决于切片是否包含标签或位置）
- en: '[PRE17]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Ambiguity arises when an index consists of integers with a non-zero start or
    non-unit increment.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 当索引由具有非零起始或非单位增量的整数组成时，就会出现歧义。
- en: '[PRE18]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '[Using inverse operator (~) to take the complement of a mask](https://stackoverflow.com/q/14986510)'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用逆运算符（~）取掩码的补集](https://stackoverflow.com/q/14986510)'
- en: '[PRE19]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: New columns
  id: totrans-57
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 新列
- en: '[Efficiently and dynamically creating new columns using DataFrame.map (previously
    named applymap)](https://stackoverflow.com/questions/16575868/efficiently-creating-additional-columns-in-a-pandas-dataframe-using-map)'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: '[Keep other columns when using min() with groupby](https://stackoverflow.com/q/23394476)'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE21]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Method 1 : idxmin() to get the index of the minimums'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE22]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Method 2 : sort then take first of each'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE23]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'Notice the same results, with the exception of the index.  ## Multiindexing'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
- en: The [multindexing](advanced.html#advanced-hierarchical) docs.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: '[Creating a MultiIndex from a labeled frame](https://stackoverflow.com/questions/14916358/reshaping-dataframes-in-pandas-based-on-column-labels)'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE24]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: Arithmetic
  id: totrans-70
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Performing arithmetic with a MultiIndex that needs broadcasting](https://stackoverflow.com/questions/19501510/divide-entire-pandas-multiindex-dataframe-by-dataframe-variable/19502176#19502176)'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE25]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Slicing
  id: totrans-73
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Slicing a MultiIndex with xs](https://stackoverflow.com/questions/12590131/how-to-slice-multindex-columns-in-pandas-dataframes)'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE26]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'To take the cross section of the 1st level and 1st axis the index:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE27]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: …and now the 2nd level of the 1st axis.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE28]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: '[Slicing a MultiIndex with xs, method #2](https://stackoverflow.com/questions/14964493/multiindex-based-indexing-in-pandas)'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE29]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: '[Setting portions of a MultiIndex with xs](https://stackoverflow.com/questions/19319432/pandas-selecting-a-lower-level-in-a-dataframe-to-do-a-ffill)'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
- en: Sorting
  id: totrans-83
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Sort by specific column or an ordered list of columns, with a MultiIndex](https://stackoverflow.com/q/14733871)'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE30]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Partial selection, the need for sortedness [GH 2995](https://github.com/pandas-dev/pandas/issues/2995)
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
- en: Levels
  id: totrans-87
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Prepending a level to a multiindex](https://stackoverflow.com/questions/14744068/prepend-a-level-to-a-pandas-multiindex)'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
- en: '[Flatten Hierarchical columns](https://stackoverflow.com/q/14507794)  ## Missing
    data'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
- en: The [missing data](missing_data.html#missing-data) docs.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
- en: Fill forward a reversed timeseries
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE31]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: '[cumsum reset at NaN values](https://stackoverflow.com/questions/18196811/cumsum-reset-at-nan)'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
- en: Replace
  id: totrans-94
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Using replace with backrefs](https://stackoverflow.com/questions/16818871/extracting-value-and-creating-new-column-out-of-it)  ##
    Grouping'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
- en: The [grouping](groupby.html#groupby) docs.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
- en: '[Basic grouping with apply](https://stackoverflow.com/questions/15322632/python-pandas-df-groupy-agg-column-reference-in-agg)'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
- en: Unlike agg, apply’s callable is passed a sub-DataFrame which gives you access
    to all the columns
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE32]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: '[Using get_group](https://stackoverflow.com/questions/14734533/how-to-access-pandas-groupby-dataframe-by-key)'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE33]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: '[Apply to different items in a group](https://stackoverflow.com/questions/15262134/apply-different-functions-to-different-items-in-group-object-python-pandas)'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE34]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: '[Expanding apply](https://stackoverflow.com/questions/14542145/reductions-down-a-column-in-pandas)'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE35]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: '[Replacing some values with mean of the rest of a group](https://stackoverflow.com/questions/14760757/replacing-values-with-groupby-means)'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE36]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: '[Sort groups by aggregated data](https://stackoverflow.com/questions/14941366/pandas-sort-by-group-aggregate-and-column)'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '[按聚合数据排序组](https://stackoverflow.com/questions/14941366/pandas-sort-by-group-aggregate-and-column)'
- en: '[PRE37]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: '[Create multiple aggregated columns](https://stackoverflow.com/questions/14897100/create-multiple-columns-in-pandas-aggregation-function)'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '[创建多个聚合列](https://stackoverflow.com/questions/14897100/create-multiple-columns-in-pandas-aggregation-function)'
- en: '[PRE38]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: '[Create a value counts column and reassign back to the DataFrame](https://stackoverflow.com/q/17709270)'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '[创建一个值计数列并重新分配回DataFrame](https://stackoverflow.com/q/17709270)'
- en: '[PRE39]'
  id: totrans-113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: '[Shift groups of the values in a column based on the index](https://stackoverflow.com/q/23198053/190597)'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '[根据索引将列中的值组进行移动](https://stackoverflow.com/q/23198053/190597)'
- en: '[PRE40]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: '[Select row with maximum value from each group](https://stackoverflow.com/q/26701849/190597)'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '[从每个组中选择具有最大值的行](https://stackoverflow.com/q/26701849/190597)'
- en: '[PRE41]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: '[Grouping like Python’s itertools.groupby](https://stackoverflow.com/q/29142487/846892)'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '[类似于Python的itertools.groupby的分组](https://stackoverflow.com/q/29142487/846892)'
- en: '[PRE42]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: Expanding data
  id: totrans-120
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 扩展数据
- en: '[Alignment and to-date](https://stackoverflow.com/questions/15489011/python-time-series-alignment-and-to-date-functions)'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '[对齐和截止日期](https://stackoverflow.com/questions/15489011/python-time-series-alignment-and-to-date-functions)'
- en: '[Rolling Computation window based on values instead of counts](https://stackoverflow.com/questions/14300768/pandas-rolling-computation-with-window-based-on-values-instead-of-counts)'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '[基于值而不是计数的滚动计算窗口](https://stackoverflow.com/questions/14300768/pandas-rolling-computation-with-window-based-on-values-instead-of-counts)'
- en: '[Rolling Mean by Time Interval](https://stackoverflow.com/questions/15771472/pandas-rolling-mean-by-time-interval)'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '[按时间间隔计算滚动均值](https://stackoverflow.com/questions/15771472/pandas-rolling-mean-by-time-interval)'
- en: Splitting
  id: totrans-124
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分割
- en: '[Splitting a frame](https://stackoverflow.com/questions/13353233/best-way-to-split-a-dataframe-given-an-edge/15449992#15449992)'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '[分割一个框架](https://stackoverflow.com/questions/13353233/best-way-to-split-a-dataframe-given-an-edge/15449992#15449992)'
- en: Create a list of dataframes, split using a delineation based on logic included
    in rows.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个数据框列表，根据包含在行中的逻辑进行分割。
- en: '[PRE43]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: '### Pivot'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '### 透视表'
- en: The [Pivot](reshaping.html#reshaping-pivot) docs.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '[Pivot](reshaping.html#reshaping-pivot) 文档。'
- en: '[Partial sums and subtotals](https://stackoverflow.com/a/15574875)'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '[部分和和小计](https://stackoverflow.com/a/15574875)'
- en: '[PRE44]'
  id: totrans-131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: '[Frequency table like plyr in R](https://stackoverflow.com/questions/15589354/frequency-tables-in-pandas-like-plyr-in-r)'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '[类似于R中plyr的频率表](https://stackoverflow.com/questions/15589354/frequency-tables-in-pandas-like-plyr-in-r)'
- en: '[PRE45]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: '[Plot pandas DataFrame with year over year data](https://stackoverflow.com/questions/30379789/plot-pandas-data-frame-with-year-over-year-data)'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用年度数据绘制pandas DataFrame图表](https://stackoverflow.com/questions/30379789/plot-pandas-data-frame-with-year-over-year-data)'
- en: 'To create year and month cross tabulation:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 创建年份和月份交叉表：
- en: '[PRE46]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: Apply
  id: totrans-137
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 应用
- en: '[Rolling apply to organize - Turning embedded lists into a MultiIndex frame](https://stackoverflow.com/questions/17349981/converting-pandas-dataframe-with-categorical-values-into-binary-values)'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '[滚动应用以组织 - 将嵌套列表转换为MultiIndex框架](https://stackoverflow.com/questions/17349981/converting-pandas-dataframe-with-categorical-values-into-binary-values)'
- en: '[PRE47]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: '[Rolling apply with a DataFrame returning a Series](https://stackoverflow.com/questions/19121854/using-rolling-apply-on-a-dataframe-object)'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用DataFrame返回Series的滚动应用](https://stackoverflow.com/questions/19121854/using-rolling-apply-on-a-dataframe-object)'
- en: Rolling Apply to multiple columns where function calculates a Series before
    a Scalar from the Series is returned
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 滚动应用于多列，其中函数在返回Series之前计算Series
- en: '[PRE48]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: '[Rolling apply with a DataFrame returning a Scalar](https://stackoverflow.com/questions/21040766/python-pandas-rolling-apply-two-column-input-into-function/21045831#21045831)'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用DataFrame返回标量的滚动应用](https://stackoverflow.com/questions/21040766/python-pandas-rolling-apply-two-column-input-into-function/21045831#21045831)'
- en: Rolling Apply to multiple columns where function returns a Scalar (Volume Weighted
    Average Price)
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 滚动应用于多列，其中函数返回标量（成交量加权平均价格）
- en: '[PRE49]'
  id: totrans-145
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: Timeseries
  id: totrans-146
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 时间序列
- en: '[Between times](https://stackoverflow.com/questions/14539992/pandas-drop-rows-outside-of-time-range)'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: '[在时间范围内](https://stackoverflow.com/questions/14539992/pandas-drop-rows-outside-of-time-range)'
- en: '[Using indexer between time](https://stackoverflow.com/questions/17559885/pandas-dataframe-mask-based-on-index)'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: '[在时间之间使用索引器](https://stackoverflow.com/questions/17559885/pandas-dataframe-mask-based-on-index)'
- en: '[Constructing a datetime range that excludes weekends and includes only certain
    times](https://stackoverflow.com/a/24014440)'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '[构建排除周末并仅包含特定时间的日期范围](https://stackoverflow.com/a/24014440)'
- en: '[Vectorized Lookup](https://stackoverflow.com/questions/13893227/vectorized-look-up-of-values-in-pandas-dataframe)'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: '[矢量化查找](https://stackoverflow.com/questions/13893227/vectorized-look-up-of-values-in-pandas-dataframe)'
- en: '[Aggregation and plotting time series](https://nipunbatra.github.io/blog/visualisation/2013/05/01/aggregation-timeseries.html)'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: '[聚合和绘制时间序列](https://nipunbatra.github.io/blog/visualisation/2013/05/01/aggregation-timeseries.html)'
- en: Turn a matrix with hours in columns and days in rows into a continuous row sequence
    in the form of a time series. [How to rearrange a Python pandas DataFrame?](https://stackoverflow.com/questions/15432659/how-to-rearrange-a-python-pandas-dataframe)
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 将具有小时列和天行的矩阵转换为连续行序列形式的时间序列。 [如何重新排列Python pandas DataFrame？](https://stackoverflow.com/questions/15432659/how-to-rearrange-a-python-pandas-dataframe)
- en: '[Dealing with duplicates when reindexing a timeseries to a specified frequency](https://stackoverflow.com/questions/22244383/pandas-df-refill-adding-two-columns-of-different-shape)'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '[重新索引时间序列时处理重复值](https://stackoverflow.com/questions/22244383/pandas-df-refill-adding-two-columns-of-different-shape)'
- en: Calculate the first day of the month for each entry in a DatetimeIndex
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 计算每个DatetimeIndex条目的月份第一天
- en: '[PRE50]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: '### Resampling'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '### 重新采样'
- en: The [Resample](timeseries.html#timeseries-resampling) docs.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: '[重新采样](timeseries.html#timeseries-resampling) 文档。'
- en: '[Using Grouper instead of TimeGrouper for time grouping of values](https://stackoverflow.com/questions/15297053/how-can-i-divide-single-values-of-a-dataframe-by-monthly-averages)'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用Grouper而不是TimeGrouper进行时间分组](https://stackoverflow.com/questions/15297053/how-can-i-divide-single-values-of-a-dataframe-by-monthly-averages)'
- en: '[Time grouping with some missing values](https://stackoverflow.com/questions/33637312/pandas-grouper-by-frequency-with-completeness-requirement)'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '[带有一些缺失值的时间分组](https://stackoverflow.com/questions/33637312/pandas-grouper-by-frequency-with-completeness-requirement)'
- en: Valid frequency arguments to Grouper [Timeseries](timeseries.html#timeseries-offset-aliases)
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: Grouper的有效频率参数 [时间序列](timeseries.html#timeseries-offset-aliases)
- en: '[Grouping using a MultiIndex](https://stackoverflow.com/questions/41483763/pandas-timegrouper-on-multiindex)'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用MultiIndex进行分组](https://stackoverflow.com/questions/41483763/pandas-timegrouper-on-multiindex)'
- en: Using TimeGrouper and another grouping to create subgroups, then apply a custom
    function [GH 3791](https://github.com/pandas-dev/pandas/issues/3791)
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 使用TimeGrouper和另一个分组创建子组，然后应用自定义函数 [GH 3791](https://github.com/pandas-dev/pandas/issues/3791)
- en: '[Resampling with custom periods](https://stackoverflow.com/questions/15408156/resampling-with-custom-periods)'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用自定义周期重新采样](https://stackoverflow.com/questions/15408156/resampling-with-custom-periods)'
- en: '[Resample intraday frame without adding new days](https://stackoverflow.com/questions/14898574/resample-intrday-pandas-dataframe-without-add-new-days)'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: '[重新采样日内框架而不添加新天数](https://stackoverflow.com/questions/14898574/resample-intrday-pandas-dataframe-without-add-new-days)'
- en: '[Resample minute data](https://stackoverflow.com/questions/14861023/resampling-minute-data)'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: '[重新采样分钟数据](https://stackoverflow.com/questions/14861023/resampling-minute-data)'
- en: '[Resample with groupby](https://stackoverflow.com/q/18677271/564538)  ## Merge'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用groupby重新采样](https://stackoverflow.com/q/18677271/564538)  ## 合并'
- en: The [Join](merging.html#merging-join) docs.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: '[连接](merging.html#merging-join) 文档。'
- en: '[Concatenate two dataframes with overlapping index (emulate R rbind)](https://stackoverflow.com/questions/14988480/pandas-version-of-rbind)'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: '[连接两个具有重叠索引的数据框（模拟R rbind）](https://stackoverflow.com/questions/14988480/pandas-version-of-rbind)'
- en: '[PRE51]'
  id: totrans-169
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: Depending on df construction, `ignore_index` may be needed
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 根据df构造，可能需要`ignore_index`
- en: '[PRE52]'
  id: totrans-171
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: Self Join of a DataFrame [GH 2996](https://github.com/pandas-dev/pandas/issues/2996)
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: DataFrame的自连接 [GH 2996](https://github.com/pandas-dev/pandas/issues/2996)
- en: '[PRE53]'
  id: totrans-173
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: '[How to set the index and join](https://stackoverflow.com/questions/14341805/pandas-merge-pd-merge-how-to-set-the-index-and-join)'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: '[如何设置索引和连接](https://stackoverflow.com/questions/14341805/pandas-merge-pd-merge-how-to-set-the-index-and-join)'
- en: '[KDB like asof join](https://stackoverflow.com/questions/12322289/kdb-like-asof-join-for-timeseries-data-in-pandas/12336039#12336039)'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '[类似KDB的asof连接](https://stackoverflow.com/questions/12322289/kdb-like-asof-join-for-timeseries-data-in-pandas/12336039#12336039)'
- en: '[Join with a criteria based on the values](https://stackoverflow.com/questions/15581829/how-to-perform-an-inner-or-outer-join-of-dataframes-with-pandas-on-non-simplisti)'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '[基于值的条件进行连接](https://stackoverflow.com/questions/15581829/how-to-perform-an-inner-or-outer-join-of-dataframes-with-pandas-on-non-simplisti)'
- en: '[Using searchsorted to merge based on values inside a range](https://stackoverflow.com/questions/25125626/pandas-merge-with-logic/2512764)  ##
    Plotting'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用searchsorted根据范围内的值合并](https://stackoverflow.com/questions/25125626/pandas-merge-with-logic/2512764)  ##
    绘图'
- en: The [Plotting](visualization.html#visualization) docs.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: '[绘图](visualization.html#visualization) 文档。'
- en: '[Make Matplotlib look like R](https://stackoverflow.com/questions/14349055/making-matplotlib-graphs-look-like-r-by-default)'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '[使Matplotlib看起来像R](https://stackoverflow.com/questions/14349055/making-matplotlib-graphs-look-like-r-by-default)'
- en: '[Setting x-axis major and minor labels](https://stackoverflow.com/questions/12945971/pandas-timeseries-plot-setting-x-axis-major-and-minor-ticks-and-labels)'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: '[设置 x 轴主要和次要标签](https://stackoverflow.com/questions/12945971/pandas-timeseries-plot-setting-x-axis-major-and-minor-ticks-and-labels)'
- en: '[Plotting multiple charts in an IPython Jupyter notebook](https://stackoverflow.com/questions/16392921/make-more-than-one-chart-in-same-ipython-notebook-cell)'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '[在 IPython Jupyter 笔记本中绘制多个图表](https://stackoverflow.com/questions/16392921/make-more-than-one-chart-in-same-ipython-notebook-cell)'
- en: '[Creating a multi-line plot](https://stackoverflow.com/questions/16568964/make-a-multiline-plot-from-csv-file-in-matplotlib)'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '[创建多行图](https://stackoverflow.com/questions/16568964/make-a-multiline-plot-from-csv-file-in-matplotlib)'
- en: '[Plotting a heatmap](https://stackoverflow.com/questions/17050202/plot-timeseries-of-histograms-in-python)'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: '[绘制热力图](https://stackoverflow.com/questions/17050202/plot-timeseries-of-histograms-in-python)'
- en: '[Annotate a time-series plot](https://stackoverflow.com/questions/11067368/annotate-time-series-plot-in-matplotlib)'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释时间序列图](https://stackoverflow.com/questions/11067368/annotate-time-series-plot-in-matplotlib)'
- en: '[Annotate a time-series plot #2](https://stackoverflow.com/questions/17891493/annotating-points-from-a-pandas-dataframe-in-matplotlib-plot)'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '[注释时间序列图 #2](https://stackoverflow.com/questions/17891493/annotating-points-from-a-pandas-dataframe-in-matplotlib-plot)'
- en: '[Generate Embedded plots in excel files using Pandas, Vincent and xlsxwriter](https://pandas-xlsxwriter-charts.readthedocs.io/)'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用 Pandas、Vincent 和 xlsxwriter 在 Excel 文件中生成嵌入式图表](https://pandas-xlsxwriter-charts.readthedocs.io/)'
- en: '[Boxplot for each quartile of a stratifying variable](https://stackoverflow.com/questions/23232989/boxplot-stratified-by-column-in-python-pandas)'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '[为分层变量的每个四分位数绘制箱线图](https://stackoverflow.com/questions/23232989/boxplot-stratified-by-column-in-python-pandas)'
- en: '[PRE54]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: '![../_images/quartile_boxplot.png](../Images/49df85cb7d3c1e3681f55fa48b5fefa6.png)'
  id: totrans-189
  prefs: []
  type: TYPE_IMG
  zh: '![../_images/quartile_boxplot.png](../Images/49df85cb7d3c1e3681f55fa48b5fefa6.png)'
- en: Data in/out
  id: totrans-190
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据输入/输出
- en: '[Performance comparison of SQL vs HDF5](https://stackoverflow.com/q/16628329)'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '[SQL vs HDF5 的性能比较](https://stackoverflow.com/q/16628329)'
- en: '### CSV'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '### CSV'
- en: The [CSV](io.html#io-read-csv-table) docs
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: '[CSV](io.html#io-read-csv-table) 文档'
- en: '[read_csv in action](https://wesmckinney.com/blog/update-on-upcoming-pandas-v0-10-new-file-parser-other-performance-wins/)'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: '[read_csv 的实际应用](https://wesmckinney.com/blog/update-on-upcoming-pandas-v0-10-new-file-parser-other-performance-wins/)'
- en: '[appending to a csv](https://stackoverflow.com/questions/17134942/pandas-dataframe-output-end-of-csv)'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '[追加到 csv](https://stackoverflow.com/questions/17134942/pandas-dataframe-output-end-of-csv)'
- en: '[Reading a csv chunk-by-chunk](https://stackoverflow.com/questions/11622652/large-persistent-dataframe-in-pandas/12193309#12193309)'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '[逐块读取 csv](https://stackoverflow.com/questions/11622652/large-persistent-dataframe-in-pandas/12193309#12193309)'
- en: '[Reading only certain rows of a csv chunk-by-chunk](https://stackoverflow.com/questions/19674212/pandas-data-frame-select-rows-and-clear-memory)'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '[逐块读取 csv 仅读取特定行](https://stackoverflow.com/questions/19674212/pandas-data-frame-select-rows-and-clear-memory)'
- en: '[Reading the first few lines of a frame](https://stackoverflow.com/questions/15008970/way-to-read-first-few-lines-for-pandas-dataframe)'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: '[读取框架的前几行](https://stackoverflow.com/questions/15008970/way-to-read-first-few-lines-for-pandas-dataframe)'
- en: Reading a file that is compressed but not by `gzip/bz2` (the native compressed
    formats which `read_csv` understands). This example shows a `WinZipped` file,
    but is a general application of opening the file within a context manager and
    using that handle to read. [See here](https://stackoverflow.com/questions/17789907/pandas-convert-winzipped-csv-file-to-data-frame)
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 读取一个被压缩但不是由`gzip/bz2`（`read_csv`理解的原生压缩格式）压缩的文件。这个例子展示了一个`WinZipped`文件，但是是在上下文管理器中打开文件并使用该句柄读取的一般应用。[点击这里查看](https://stackoverflow.com/questions/17789907/pandas-convert-winzipped-csv-file-to-data-frame)
- en: '[Inferring dtypes from a file](https://stackoverflow.com/questions/15555005/get-inferred-dataframe-types-iteratively-using-chunksize)'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: '[从文件推断数据类型](https://stackoverflow.com/questions/15555005/get-inferred-dataframe-types-iteratively-using-chunksize)'
- en: Dealing with bad lines [GH 2886](https://github.com/pandas-dev/pandas/issues/2886)
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 处理坏行 [GH 2886](https://github.com/pandas-dev/pandas/issues/2886)
- en: '[Write a multi-row index CSV without writing duplicates](https://stackoverflow.com/questions/17349574/pandas-write-multiindex-rows-with-to-csv)'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: '[在不写入重复数据的情况下编写多行索引 CSV](https://stackoverflow.com/questions/17349574/pandas-write-multiindex-rows-with-to-csv)'
- en: '#### Reading multiple files to create a single DataFrame'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: '#### 读取多个文件以创建单个 DataFrame'
- en: 'The best way to combine multiple files into a single DataFrame is to read the
    individual frames one by one, put all of the individual frames into a list, and
    then combine the frames in the list using `pd.concat()`:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 将多个文件合并为单个 DataFrame 的最佳方法是逐个读取各个框架，将所有各个框架放入列表中，然后使用`pd.concat()`组合列表中的框架：
- en: '[PRE55]'
  id: totrans-205
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: 'You can use the same approach to read all files matching a pattern. Here is
    an example using `glob`:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用相同的方法来读取所有匹配模式的文件。以下是使用`glob`的示例：
- en: '[PRE56]'
  id: totrans-207
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: Finally, this strategy will work with the other `pd.read_*(...)` functions described
    in the [io docs](io.html#io).
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，这种策略将适用于[io 文档](io.html#io)中描述的其他`pd.read_*(...)`函数。
- en: Parsing date components in multi-columns
  id: totrans-209
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 解析多列中的日期组件
- en: Parsing date components in multi-columns is faster with a format
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 使用格式在多列中��析日期组件更快
- en: '[PRE57]'
  id: totrans-211
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: Skip row between header and data
  id: totrans-212
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 在标题和数据之间跳过行
- en: '[PRE58]'
  id: totrans-213
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: 'Option 1: pass rows explicitly to skip rows'
  id: totrans-214
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 选项 1：显式传递行以跳过行。
- en: '[PRE59]'
  id: totrans-215
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: 'Option 2: read column names and then data'
  id: totrans-216
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 选项 2：先读取列名，然后读取数据
- en: '[PRE60]  ### SQL'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE60]  ### SQL'
- en: The [SQL](io.html#io-sql) docs
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: '[SQL](io.html#io-sql) 文档'
- en: '[Reading from databases with SQL](https://stackoverflow.com/questions/10065051/python-pandas-and-databases-like-mysql)  ###
    Excel'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用 SQL 从数据库中读取数据](https://stackoverflow.com/questions/10065051/python-pandas-and-databases-like-mysql)  ###
    Excel'
- en: The [Excel](io.html#io-excel) docs
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: '[Excel](io.html#io-excel) 文档'
- en: '[Reading from a filelike handle](https://stackoverflow.com/questions/15588713/sheets-of-excel-workbook-from-a-url-into-a-pandas-dataframe)'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: '[从类文件句柄中读取](https://stackoverflow.com/questions/15588713/sheets-of-excel-workbook-from-a-url-into-a-pandas-dataframe)'
- en: '[Modifying formatting in XlsxWriter output](https://pbpython.com/improve-pandas-excel-output.html)'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: '[修改 XlsxWriter 输出中的格式](https://pbpython.com/improve-pandas-excel-output.html)'
- en: 'Loading only visible sheets [GH 19842#issuecomment-892150745](https://github.com/pandas-dev/pandas/issues/19842#issuecomment-892150745)  ###
    HTML'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '仅加载可见工作表 [GH 19842#issuecomment-892150745](https://github.com/pandas-dev/pandas/issues/19842#issuecomment-892150745)  ###
    HTML'
- en: '[Reading HTML tables from a server that cannot handle the default request header](https://stackoverflow.com/a/18939272/564538)  ###
    HDFStore'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: '[从无法处理默认请求标头的服务器读取 HTML 表格](https://stackoverflow.com/a/18939272/564538)  ###
    HDFStore'
- en: The [HDFStores](io.html#io-hdf5) docs
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: '[HDFStores](io.html#io-hdf5) 文档'
- en: '[Simple queries with a Timestamp Index](https://stackoverflow.com/questions/13926089/selecting-columns-from-pandas-hdfstore-table)'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用时间戳索引进行简单查询](https://stackoverflow.com/questions/13926089/selecting-columns-from-pandas-hdfstore-table)'
- en: Managing heterogeneous data using a linked multiple table hierarchy [GH 3032](https://github.com/pandas-dev/pandas/issues/3032)
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 使用链接的多表层次结构管理异构数据 [GH 3032](https://github.com/pandas-dev/pandas/issues/3032)
- en: '[Merging on-disk tables with millions of rows](https://stackoverflow.com/questions/14614512/merging-two-tables-with-millions-of-rows-in-python/14617925#14617925)'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '[合并拥有数百万行的磁盘上的表](https://stackoverflow.com/questions/14614512/merging-two-tables-with-millions-of-rows-in-python/14617925#14617925)'
- en: '[Avoiding inconsistencies when writing to a store from multiple processes/threads](https://stackoverflow.com/a/29014295/2858145)'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: '[在多个进程/线程写入存储时避免不一致性](https://stackoverflow.com/a/29014295/2858145)'
- en: De-duplicating a large store by chunks, essentially a recursive reduction operation.
    Shows a function for taking in data from csv file and creating a store by chunks,
    with date parsing as well. [See here](https://stackoverflow.com/questions/16110252/need-to-compare-very-large-files-around-1-5gb-in-python/16110391#16110391)
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 通过分块去重大型存储，本质上是一个递归减少操作。展示了一个从 csv 文件中接收数据并按块创建存储的函数，同时还进行了日期解析。[请看这里](https://stackoverflow.com/questions/16110252/need-to-compare-very-large-files-around-1-5gb-in-python/16110391#16110391)
- en: '[Creating a store chunk-by-chunk from a csv file](https://stackoverflow.com/questions/20428355/appending-column-to-frame-of-hdf-file-in-pandas/20428786#20428786)'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: '[逐块从 csv 文件创建存储](https://stackoverflow.com/questions/20428355/appending-column-to-frame-of-hdf-file-in-pandas/20428786#20428786)'
- en: '[Appending to a store, while creating a unique index](https://stackoverflow.com/questions/16997048/how-does-one-append-large-amounts-of-data-to-a-pandas-hdfstore-and-get-a-natural/16999397#16999397)'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: '[在创建唯一索引的同时追加到存储中](https://stackoverflow.com/questions/16997048/how-does-one-append-large-amounts-of-data-to-a-pandas-hdfstore-and-get-a-natural/16999397#16999397)'
- en: '[Large Data work flows](https://stackoverflow.com/q/14262433)'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: '[大数据工作流](https://stackoverflow.com/q/14262433)'
- en: '[Reading in a sequence of files, then providing a global unique index to a
    store while appending](https://stackoverflow.com/questions/16997048/how-does-one-append-large-amounts-of-data-to-a-pandas-hdfstore-and-get-a-natural)'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: '[读取一系列文件，然后在追加时为存储提供全局唯一索引](https://stackoverflow.com/questions/16997048/how-does-one-append-large-amounts-of-data-to-a-pandas-hdfstore-and-get-a-natural)'
- en: '[Groupby on a HDFStore with low group density](https://stackoverflow.com/questions/15798209/pandas-group-by-query-on-large-data-in-hdfstore)'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: '[在具有低组密度的 HDFStore 上进行 Groupby](https://stackoverflow.com/questions/15798209/pandas-group-by-query-on-large-data-in-hdfstore)'
- en: '[Groupby on a HDFStore with high group density](https://stackoverflow.com/questions/25459982/trouble-with-grouby-on-millions-of-keys-on-a-chunked-file-in-python-pandas/25471765#25471765)'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: '[在具有高组密度的HDFStore上进行分组](https://stackoverflow.com/questions/25459982/trouble-with-grouby-on-millions-of-keys-on-a-chunked-file-in-python-pandas/25471765#25471765)'
- en: '[Hierarchical queries on a HDFStore](https://stackoverflow.com/questions/22777284/improve-query-performance-from-a-large-hdfstore-table-with-pandas/22820780#22820780)'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: '[在HDFStore上进行分层查询](https://stackoverflow.com/questions/22777284/improve-query-performance-from-a-large-hdfstore-table-with-pandas/22820780#22820780)'
- en: '[Counting with a HDFStore](https://stackoverflow.com/questions/20497897/converting-dict-of-dicts-into-pandas-dataframe-memory-issues)'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: '[在HDFStore上进行计数](https://stackoverflow.com/questions/20497897/converting-dict-of-dicts-into-pandas-dataframe-memory-issues)'
- en: '[Troubleshoot HDFStore exceptions](https://stackoverflow.com/questions/15488809/how-to-trouble-shoot-hdfstore-exception-cannot-find-the-correct-atom-type)'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: '[解决HDFStore异常](https://stackoverflow.com/questions/15488809/how-to-trouble-shoot-hdfstore-exception-cannot-find-the-correct-atom-type)'
- en: '[Setting min_itemsize with strings](https://stackoverflow.com/questions/15988871/hdfstore-appendstring-dataframe-fails-when-string-column-contents-are-longer)'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 使用字符串设置`min_itemsize`
- en: '[Using ptrepack to create a completely-sorted-index on a store](https://stackoverflow.com/questions/17893370/ptrepack-sortby-needs-full-index)'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用ptrepack在存储上创建完全排序的索引](https://stackoverflow.com/questions/17893370/ptrepack-sortby-needs-full-index)'
- en: Storing Attributes to a group node
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 将属性存储到组节点
- en: '[PRE61]'
  id: totrans-243
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: You can create or load a HDFStore in-memory by passing the `driver` parameter
    to PyTables. Changes are only written to disk when the HDFStore is closed.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过将`driver`参数传递给PyTables在内存中创建或加载HDFStore。只有在关闭HDFStore时才将更改写入磁盘。
- en: '[PRE62]  ### Binary files'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE62]  ### 二进制文件'
- en: pandas readily accepts NumPy record arrays, if you need to read in a binary
    file consisting of an array of C structs. For example, given this C program in
    a file called `main.c` compiled with `gcc main.c -std=gnu99` on a 64-bit machine,
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: pandas readily accepts NumPy record arrays, if you need to read in a binary
    file consisting of an array of C structs. For example, given this C program in
    a file called `main.c` compiled with `gcc main.c -std=gnu99` on a 64-bit machine,
- en: '[PRE63]'
  id: totrans-247
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: 'the following Python code will read the binary file `''binary.dat''` into a
    pandas `DataFrame`, where each element of the struct corresponds to a column in
    the frame:'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 以下Python代码将把二进制文件`'binary.dat'`读入pandas的`DataFrame`中，其中结构的每个元素对应于框架中的一列：
- en: '[PRE64]'
  id: totrans-249
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: Note
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: The offsets of the structure elements may be different depending on the architecture
    of the machine on which the file was created. Using a raw binary file format like
    this for general data storage is not recommended, as it is not cross platform.
    We recommended either HDF5 or parquet, both of which are supported by pandas’
    IO facilities.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 结构元素的偏移量可能因创建文件的机器架构而异。不建议使用这种原始二进制文件格式进行通用数据存储，因为它不跨平台。我们建议使用HDF5或parquet，这两者都受到pandas的IO设施支持。
- en: Computation
  id: totrans-252
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 计算
- en: '[Numerical integration (sample-based) of a time series](https://nbviewer.ipython.org/gist/metakermit/5720498)'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: '[时间序列的数值积分（基于样本）](https://nbviewer.ipython.org/gist/metakermit/5720498)'
- en: Correlation
  id: totrans-254
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 相关性
- en: 'Often it’s useful to obtain the lower (or upper) triangular form of a correlation
    matrix calculated from [`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr"). This can be achieved by passing a boolean mask to `where`
    as follows:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 通常很有用从[`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr")计算的相关性矩阵中获取下三角形式（或上三角形式）。可以通过向`where`传递布尔掩码来实现：
- en: '[PRE65]'
  id: totrans-256
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: The `method` argument within `DataFrame.corr` can accept a callable in addition
    to the named correlation types. Here we compute the [distance correlation](https://en.wikipedia.org/wiki/Distance_correlation)
    matrix for a `DataFrame` object.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: '`DataFrame.corr`中的`method`参数除了命名的相关类型外还可以接受可调用对象。在这里，我们为`DataFrame`对象计算[距离相关性](https://en.wikipedia.org/wiki/Distance_correlation)矩阵。'
- en: '[PRE66]'
  id: totrans-258
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: Timedeltas
  id: totrans-259
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Timedeltas
- en: The [Timedeltas](timedeltas.html#timedeltas-timedeltas) docs.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: '[Timedeltas](timedeltas.html#timedeltas-timedeltas) 文档。'
- en: '[Using timedeltas](https://github.com/pandas-dev/pandas/pull/2899)'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用timedeltas](https://github.com/pandas-dev/pandas/pull/2899)'
- en: '[PRE67]'
  id: totrans-262
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: '[Adding and subtracting deltas and dates](https://stackoverflow.com/questions/16385785/add-days-to-dates-in-dataframe)'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: '[添加和减去增量和日期](https://stackoverflow.com/questions/16385785/add-days-to-dates-in-dataframe)'
- en: '[PRE68]'
  id: totrans-264
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: '[Another example](https://stackoverflow.com/questions/15683588/iterating-through-a-pandas-dataframe)'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: '[另一个例子](https://stackoverflow.com/questions/15683588/iterating-through-a-pandas-dataframe)'
- en: Values can be set to NaT using np.nan, similar to datetime
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 值可以使用`np.nan`设置为NaT，类似于datetime。
- en: '[PRE69]'
  id: totrans-267
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: Creating example data
  id: totrans-268
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建示例数据
- en: 'To create a dataframe from every combination of some given values, like R’s
    `expand.grid()` function, we can create a dict where the keys are column names
    and the values are lists of the data values:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 要从一些给定值的每个组合创建一个数据框，就像R的`expand.grid()`函数一样，我们可以创建一个字典，其中键是列名，值是数据值的列表：
- en: '[PRE70]'
  id: totrans-270
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: Constant series
  id: totrans-271
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 常数系列
- en: 'To assess if a series has a constant value, we can check if `series.nunique()
    <= 1`. However, a more performant approach, that does not count all unique values
    first, is:'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 要评估系列是否具有恒定值，我们可以检查`series.nunique() <= 1`。然而，一种更高效的方法，不需要首先计算所有唯一值，是：
- en: '[PRE71]'
  id: totrans-273
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: 'This approach assumes that the series does not contain missing values. For
    the case that we would drop NA values, we can simply remove those values first:'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法假定系列不包含缺失值。对于我们将删除NA值的情况，我们可以先简单地删除这些值：
- en: '[PRE72]'
  id: totrans-275
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: 'If missing values are considered distinct from any other value, then one could
    use:'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 如果缺失值被视为与任何其他值不同，则可以使用：
- en: '[PRE73]'
  id: totrans-277
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: (Note that this example does not disambiguate between `np.nan`, `pd.NA` and
    `None`)
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: （请注意，此示例不区分`np.nan`、`pd.NA`和`None`之间的区别）
- en: Idioms
  id: totrans-279
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 惯用法
- en: These are some neat pandas `idioms`
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是一些巧妙的pandas`惯用法`
- en: '[if-then/if-then-else on one column, and assignment to another one or more
    columns:](https://stackoverflow.com/questions/17128302/python-pandas-idiom-for-if-then-else)'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: '[对一列进行if-then/if-then-else，并对另一个或多个列进行赋值：](https://stackoverflow.com/questions/17128302/python-pandas-idiom-for-if-then-else)'
- en: '[PRE74]'
  id: totrans-282
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: if-then…
  id: totrans-283
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: if-then…
- en: An if-then on one column
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 对一列进行if-then
- en: '[PRE75]'
  id: totrans-285
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: 'An if-then with assignment to 2 columns:'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 对两列进行if-then赋值：
- en: '[PRE76]'
  id: totrans-287
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: Add another line with different logic, to do the -else
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 添加另一行具有不同逻辑，以执行-else
- en: '[PRE77]'
  id: totrans-289
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: Or use pandas where after you’ve set up a mask
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 或者在设置好掩码后使用pandas where
- en: '[PRE78]'
  id: totrans-291
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: '[if-then-else using NumPy’s where()](https://stackoverflow.com/questions/19913659/pandas-conditional-creation-of-a-series-dataframe-column)'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用NumPy的where()进行if-then-else](https://stackoverflow.com/questions/19913659/pandas-conditional-creation-of-a-series-dataframe-column)'
- en: '[PRE79]'
  id: totrans-293
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: Splitting
  id: totrans-294
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分割
- en: '[Split a frame with a boolean criterion](https://stackoverflow.com/questions/14957116/how-to-split-a-dataframe-according-to-a-boolean-criterion)'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: '[根据布尔条件拆分框架](https://stackoverflow.com/questions/14957116/how-to-split-a-dataframe-according-to-a-boolean-criterion)'
- en: '[PRE80]'
  id: totrans-296
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: Building criteria
  id: totrans-297
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 构建条件
- en: '[Select with multi-column criteria](https://stackoverflow.com/questions/15315452/selecting-with-complex-criteria-from-pandas-dataframe)'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用多列条件选择](https://stackoverflow.com/questions/15315452/selecting-with-complex-criteria-from-pandas-dataframe)'
- en: '[PRE81]'
  id: totrans-299
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: …and (without assignment returns a Series)
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: …并且（不带赋值返回一个Series）
- en: '[PRE82]'
  id: totrans-301
  prefs: []
  type: TYPE_PRE
  zh: '[PRE82]'
- en: …or (without assignment returns a Series)
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: …或者（不带赋值返回一个Series）
- en: '[PRE83]'
  id: totrans-303
  prefs: []
  type: TYPE_PRE
  zh: '[PRE83]'
- en: …or (with assignment modifies the DataFrame.)
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: …或者（使用赋值修改DataFrame。）
- en: '[PRE84]'
  id: totrans-305
  prefs: []
  type: TYPE_PRE
  zh: '[PRE84]'
- en: '[Select rows with data closest to certain value using argsort](https://stackoverflow.com/questions/17758023/return-rows-in-a-dataframe-closest-to-a-user-defined-number)'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用argsort选择最接近某个值的数据行](https://stackoverflow.com/questions/17758023/return-rows-in-a-dataframe-closest-to-a-user-defined-number)'
- en: '[PRE85]'
  id: totrans-307
  prefs: []
  type: TYPE_PRE
  zh: '[PRE85]'
- en: '[Dynamically reduce a list of criteria using a binary operators](https://stackoverflow.com/questions/21058254/pandas-boolean-operation-in-a-python-list/21058331)'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用二进制运算符动态减少条件列表](https://stackoverflow.com/questions/21058254/pandas-boolean-operation-in-a-python-list/21058331)'
- en: '[PRE86]'
  id: totrans-309
  prefs: []
  type: TYPE_PRE
  zh: '[PRE86]'
- en: 'One could hard code:'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 可以硬编码：
- en: '[PRE87]'
  id: totrans-311
  prefs: []
  type: TYPE_PRE
  zh: '[PRE87]'
- en: …Or it can be done with a list of dynamically built criteria
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: …或者可以使用一个动态构建的条件列表
- en: '[PRE88]'
  id: totrans-313
  prefs: []
  type: TYPE_PRE
  zh: '[PRE88]'
- en: if-then…
  id: totrans-314
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: if-then…
- en: An if-then on one column
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 对一列进行if-then
- en: '[PRE89]'
  id: totrans-316
  prefs: []
  type: TYPE_PRE
  zh: '[PRE89]'
- en: 'An if-then with assignment to 2 columns:'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 对两列进行if-then赋值：
- en: '[PRE90]'
  id: totrans-318
  prefs: []
  type: TYPE_PRE
  zh: '[PRE90]'
- en: Add another line with different logic, to do the -else
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 添加另一行具有不同逻辑，以执行-else
- en: '[PRE91]'
  id: totrans-320
  prefs: []
  type: TYPE_PRE
  zh: '[PRE91]'
- en: Or use pandas where after you’ve set up a mask
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 或者在设置好掩码后使用pandas where
- en: '[PRE92]'
  id: totrans-322
  prefs: []
  type: TYPE_PRE
  zh: '[PRE92]'
- en: '[if-then-else using NumPy’s where()](https://stackoverflow.com/questions/19913659/pandas-conditional-creation-of-a-series-dataframe-column)'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用NumPy的where()进行if-then-else](https://stackoverflow.com/questions/19913659/pandas-conditional-creation-of-a-series-dataframe-column)'
- en: '[PRE93]'
  id: totrans-324
  prefs: []
  type: TYPE_PRE
  zh: '[PRE93]'
- en: Splitting
  id: totrans-325
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分割
- en: '[Split a frame with a boolean criterion](https://stackoverflow.com/questions/14957116/how-to-split-a-dataframe-according-to-a-boolean-criterion)'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: '[根据布尔条件拆分框架](https://stackoverflow.com/questions/14957116/how-to-split-a-dataframe-according-to-a-boolean-criterion)'
- en: '[PRE94]'
  id: totrans-327
  prefs: []
  type: TYPE_PRE
  zh: '[PRE94]'
- en: Building criteria
  id: totrans-328
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 构建条件
- en: '[Select with multi-column criteria](https://stackoverflow.com/questions/15315452/selecting-with-complex-criteria-from-pandas-dataframe)'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用多列条件选择](https://stackoverflow.com/questions/15315452/selecting-with-complex-criteria-from-pandas-dataframe)'
- en: '[PRE95]'
  id: totrans-330
  prefs: []
  type: TYPE_PRE
  zh: '[PRE95]'
- en: …and (without assignment returns a Series)
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: …并且（不带赋值返回一个Series）
- en: '[PRE96]'
  id: totrans-332
  prefs: []
  type: TYPE_PRE
  zh: '[PRE96]'
- en: …or (without assignment returns a Series)
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: …或者（不带赋值返回一个Series）
- en: '[PRE97]'
  id: totrans-334
  prefs: []
  type: TYPE_PRE
  zh: '[PRE97]'
- en: …or (with assignment modifies the DataFrame.)
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: …或者（使用赋值修改DataFrame。）
- en: '[PRE98]'
  id: totrans-336
  prefs: []
  type: TYPE_PRE
  zh: '[PRE98]'
- en: '[Select rows with data closest to certain value using argsort](https://stackoverflow.com/questions/17758023/return-rows-in-a-dataframe-closest-to-a-user-defined-number)'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用 argsort 选择最接近某个值的数据行](https://stackoverflow.com/questions/17758023/return-rows-in-a-dataframe-closest-to-a-user-defined-number)'
- en: '[PRE99]'
  id: totrans-338
  prefs: []
  type: TYPE_PRE
  zh: '[PRE99]'
- en: '[Dynamically reduce a list of criteria using a binary operators](https://stackoverflow.com/questions/21058254/pandas-boolean-operation-in-a-python-list/21058331)'
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用二进制运算符动态减少一组条件](https://stackoverflow.com/questions/21058254/pandas-boolean-operation-in-a-python-list/21058331)'
- en: '[PRE100]'
  id: totrans-340
  prefs: []
  type: TYPE_PRE
  zh: '[PRE100]'
- en: 'One could hard code:'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 可以硬编码：
- en: '[PRE101]'
  id: totrans-342
  prefs: []
  type: TYPE_PRE
  zh: '[PRE101]'
- en: …Or it can be done with a list of dynamically built criteria
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: …或者可以使用动态构建的条件列表
- en: '[PRE102]'
  id: totrans-344
  prefs: []
  type: TYPE_PRE
  zh: '[PRE102]'
- en: '## Selection'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: '## 选择'
- en: Dataframes
  id: totrans-346
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数据框
- en: The [indexing](indexing.html#indexing) docs.
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: '[索引](indexing.html#indexing) 文档。'
- en: '[Using both row labels and value conditionals](https://stackoverflow.com/questions/14725068/pandas-using-row-labels-in-boolean-indexing)'
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: '[同时使用行标签和值条件](https://stackoverflow.com/questions/14725068/pandas-using-row-labels-in-boolean-indexing)'
- en: '[PRE103]'
  id: totrans-349
  prefs: []
  type: TYPE_PRE
  zh: '[PRE103]'
- en: Use loc for label-oriented slicing and iloc positional slicing [GH 2904](https://github.com/pandas-dev/pandas/issues/2904)
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 loc 进行基于标签的切片和 iloc 进行基于位置的切片 [GH 2904](https://github.com/pandas-dev/pandas/issues/2904)
- en: '[PRE104]'
  id: totrans-351
  prefs: []
  type: TYPE_PRE
  zh: '[PRE104]'
- en: There are 2 explicit slicing methods, with a third general case
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 有两种明确的切片方法，还有第三种通用情况
- en: 'Positional-oriented (Python slicing style : exclusive of end)'
  id: totrans-353
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 基于位置的（Python 切片风格：不包含结束）
- en: 'Label-oriented (Non-Python slicing style : inclusive of end)'
  id: totrans-354
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 基于标签的（非 Python 切片风格：包含结束）
- en: 'General (Either slicing style : depends on if the slice contains labels or
    positions)'
  id: totrans-355
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通用（切片风格：取决于切片是否包含标签或位置）
- en: '[PRE105]'
  id: totrans-356
  prefs: []
  type: TYPE_PRE
  zh: '[PRE105]'
- en: Ambiguity arises when an index consists of integers with a non-zero start or
    non-unit increment.
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: 当索引由具有非零起始或非单位增量的整数组成时会出现歧义。
- en: '[PRE106]'
  id: totrans-358
  prefs: []
  type: TYPE_PRE
  zh: '[PRE106]'
- en: '[Using inverse operator (~) to take the complement of a mask](https://stackoverflow.com/q/14986510)'
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用逆运算符(~)获取掩码的补集](https://stackoverflow.com/q/14986510)'
- en: '[PRE107]'
  id: totrans-360
  prefs: []
  type: TYPE_PRE
  zh: '[PRE107]'
- en: New columns
  id: totrans-361
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 新列
- en: '[Efficiently and dynamically creating new columns using DataFrame.map (previously
    named applymap)](https://stackoverflow.com/questions/16575868/efficiently-creating-additional-columns-in-a-pandas-dataframe-using-map)'
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用 DataFrame.map（以前称为 applymap）高效动态创建新列](https://stackoverflow.com/questions/16575868/efficiently-creating-additional-columns-in-a-pandas-dataframe-using-map)'
- en: '[PRE108]'
  id: totrans-363
  prefs: []
  type: TYPE_PRE
  zh: '[PRE108]'
- en: '[Keep other columns when using min() with groupby](https://stackoverflow.com/q/23394476)'
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: '[在 groupby 中使用 min() 时保留其他列](https://stackoverflow.com/q/23394476)'
- en: '[PRE109]'
  id: totrans-365
  prefs: []
  type: TYPE_PRE
  zh: '[PRE109]'
- en: 'Method 1 : idxmin() to get the index of the minimums'
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: 方法 1：使用 idxmin() 获取最小值的索引
- en: '[PRE110]'
  id: totrans-367
  prefs: []
  type: TYPE_PRE
  zh: '[PRE110]'
- en: 'Method 2 : sort then take first of each'
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 方法 2：排序然后取每个的第一个
- en: '[PRE111]'
  id: totrans-369
  prefs: []
  type: TYPE_PRE
  zh: '[PRE111]'
- en: Notice the same results, with the exception of the index.
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 注意相同的结果，除了索引。
- en: Dataframes
  id: totrans-371
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数据框
- en: The [indexing](indexing.html#indexing) docs.
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: '[索引](indexing.html#indexing) 文档。'
- en: '[Using both row labels and value conditionals](https://stackoverflow.com/questions/14725068/pandas-using-row-labels-in-boolean-indexing)'
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: '[同时使用行标签和值条件](https://stackoverflow.com/questions/14725068/pandas-using-row-labels-in-boolean-indexing)'
- en: '[PRE112]'
  id: totrans-374
  prefs: []
  type: TYPE_PRE
  zh: '[PRE112]'
- en: Use loc for label-oriented slicing and iloc positional slicing [GH 2904](https://github.com/pandas-dev/pandas/issues/2904)
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 loc 进行基于标签的切片和 iloc 进行基于位置的切片 [GH 2904](https://github.com/pandas-dev/pandas/issues/2904)
- en: '[PRE113]'
  id: totrans-376
  prefs: []
  type: TYPE_PRE
  zh: '[PRE113]'
- en: There are 2 explicit slicing methods, with a third general case
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: 有两种明确的切片方法，还有第三种通用情况
- en: 'Positional-oriented (Python slicing style : exclusive of end)'
  id: totrans-378
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 基于位置的（Python 切片风格：不包含结束）
- en: 'Label-oriented (Non-Python slicing style : inclusive of end)'
  id: totrans-379
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 基于标签的（非 Python 切片风格：包含结束）
- en: 'General (Either slicing style : depends on if the slice contains labels or
    positions)'
  id: totrans-380
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通用（切片风格：取决于切片是否包含标签或位置）
- en: '[PRE114]'
  id: totrans-381
  prefs: []
  type: TYPE_PRE
  zh: '[PRE114]'
- en: Ambiguity arises when an index consists of integers with a non-zero start or
    non-unit increment.
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: 当索引由具有非零起始或非单位增量的整数组成时会出现歧义。
- en: '[PRE115]'
  id: totrans-383
  prefs: []
  type: TYPE_PRE
  zh: '[PRE115]'
- en: '[Using inverse operator (~) to take the complement of a mask](https://stackoverflow.com/q/14986510)'
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用逆运算符(~)获取掩码的补集](https://stackoverflow.com/q/14986510)'
- en: '[PRE116]'
  id: totrans-385
  prefs: []
  type: TYPE_PRE
  zh: '[PRE116]'
- en: New columns
  id: totrans-386
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 新列
- en: '[Efficiently and dynamically creating new columns using DataFrame.map (previously
    named applymap)](https://stackoverflow.com/questions/16575868/efficiently-creating-additional-columns-in-a-pandas-dataframe-using-map)'
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用 DataFrame.map（以前称为 applymap）高效动态创建新列](https://stackoverflow.com/questions/16575868/efficiently-creating-additional-columns-in-a-pandas-dataframe-using-map)'
- en: '[PRE117]'
  id: totrans-388
  prefs: []
  type: TYPE_PRE
  zh: '[PRE117]'
- en: '[Keep other columns when using min() with groupby](https://stackoverflow.com/q/23394476)'
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: '[在 groupby 中使用 min() 时保留其他列](https://stackoverflow.com/q/23394476)'
- en: '[PRE118]'
  id: totrans-390
  prefs: []
  type: TYPE_PRE
  zh: '[PRE118]'
- en: 'Method 1 : idxmin() to get the index of the minimums'
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: 方法 1：使用 idxmin() 获取最小值的索引
- en: '[PRE119]'
  id: totrans-392
  prefs: []
  type: TYPE_PRE
  zh: '[PRE119]'
- en: 'Method 2 : sort then take first of each'
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: 方法 2：排序然后取每个的第一个
- en: '[PRE120]'
  id: totrans-394
  prefs: []
  type: TYPE_PRE
  zh: '[PRE120]'
- en: Notice the same results, with the exception of the index.
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: 注意相同的结果，除了索引。
- en: '## Multiindexing'
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: '## 多重索引'
- en: The [multindexing](advanced.html#advanced-hierarchical) docs.
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
- en: '[Creating a MultiIndex from a labeled frame](https://stackoverflow.com/questions/14916358/reshaping-dataframes-in-pandas-based-on-column-labels)'
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE121]'
  id: totrans-399
  prefs: []
  type: TYPE_PRE
  zh: '[PRE121]'
- en: Arithmetic
  id: totrans-400
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Performing arithmetic with a MultiIndex that needs broadcasting](https://stackoverflow.com/questions/19501510/divide-entire-pandas-multiindex-dataframe-by-dataframe-variable/19502176#19502176)'
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE122]'
  id: totrans-402
  prefs: []
  type: TYPE_PRE
  zh: '[PRE122]'
- en: Slicing
  id: totrans-403
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Slicing a MultiIndex with xs](https://stackoverflow.com/questions/12590131/how-to-slice-multindex-columns-in-pandas-dataframes)'
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE123]'
  id: totrans-405
  prefs: []
  type: TYPE_PRE
  zh: '[PRE123]'
- en: 'To take the cross section of the 1st level and 1st axis the index:'
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE124]'
  id: totrans-407
  prefs: []
  type: TYPE_PRE
  zh: '[PRE124]'
- en: …and now the 2nd level of the 1st axis.
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE125]'
  id: totrans-409
  prefs: []
  type: TYPE_PRE
  zh: '[PRE125]'
- en: '[Slicing a MultiIndex with xs, method #2](https://stackoverflow.com/questions/14964493/multiindex-based-indexing-in-pandas)'
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE126]'
  id: totrans-411
  prefs: []
  type: TYPE_PRE
  zh: '[PRE126]'
- en: '[Setting portions of a MultiIndex with xs](https://stackoverflow.com/questions/19319432/pandas-selecting-a-lower-level-in-a-dataframe-to-do-a-ffill)'
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
- en: Sorting
  id: totrans-413
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Sort by specific column or an ordered list of columns, with a MultiIndex](https://stackoverflow.com/q/14733871)'
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE127]'
  id: totrans-415
  prefs: []
  type: TYPE_PRE
  zh: '[PRE127]'
- en: Partial selection, the need for sortedness [GH 2995](https://github.com/pandas-dev/pandas/issues/2995)
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
- en: Levels
  id: totrans-417
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Prepending a level to a multiindex](https://stackoverflow.com/questions/14744068/prepend-a-level-to-a-pandas-multiindex)'
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
- en: '[Flatten Hierarchical columns](https://stackoverflow.com/q/14507794)'
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
- en: Arithmetic
  id: totrans-420
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Performing arithmetic with a MultiIndex that needs broadcasting](https://stackoverflow.com/questions/19501510/divide-entire-pandas-multiindex-dataframe-by-dataframe-variable/19502176#19502176)'
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE128]'
  id: totrans-422
  prefs: []
  type: TYPE_PRE
  zh: '[PRE128]'
- en: Slicing
  id: totrans-423
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Slicing a MultiIndex with xs](https://stackoverflow.com/questions/12590131/how-to-slice-multindex-columns-in-pandas-dataframes)'
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE129]'
  id: totrans-425
  prefs: []
  type: TYPE_PRE
  zh: '[PRE129]'
- en: 'To take the cross section of the 1st level and 1st axis the index:'
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE130]'
  id: totrans-427
  prefs: []
  type: TYPE_PRE
  zh: '[PRE130]'
- en: …and now the 2nd level of the 1st axis.
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE131]'
  id: totrans-429
  prefs: []
  type: TYPE_PRE
  zh: '[PRE131]'
- en: '[Slicing a MultiIndex with xs, method #2](https://stackoverflow.com/questions/14964493/multiindex-based-indexing-in-pandas)'
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE132]'
  id: totrans-431
  prefs: []
  type: TYPE_PRE
  zh: '[PRE132]'
- en: '[Setting portions of a MultiIndex with xs](https://stackoverflow.com/questions/19319432/pandas-selecting-a-lower-level-in-a-dataframe-to-do-a-ffill)'
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
- en: Sorting
  id: totrans-433
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Sort by specific column or an ordered list of columns, with a MultiIndex](https://stackoverflow.com/q/14733871)'
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE133]'
  id: totrans-435
  prefs: []
  type: TYPE_PRE
  zh: '[PRE133]'
- en: Partial selection, the need for sortedness [GH 2995](https://github.com/pandas-dev/pandas/issues/2995)
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
- en: Levels
  id: totrans-437
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Prepending a level to a multiindex](https://stackoverflow.com/questions/14744068/prepend-a-level-to-a-pandas-multiindex)'
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
- en: '[Flatten Hierarchical columns](https://stackoverflow.com/q/14507794)'
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
- en: '## Missing data'
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
- en: The [missing data](missing_data.html#missing-data) docs.
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
- en: Fill forward a reversed timeseries
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE134]'
  id: totrans-443
  prefs: []
  type: TYPE_PRE
  zh: '[PRE134]'
- en: '[cumsum reset at NaN values](https://stackoverflow.com/questions/18196811/cumsum-reset-at-nan)'
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
- en: Replace
  id: totrans-445
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Using replace with backrefs](https://stackoverflow.com/questions/16818871/extracting-value-and-creating-new-column-out-of-it)'
  id: totrans-446
  prefs: []
  type: TYPE_NORMAL
- en: Replace
  id: totrans-447
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Using replace with backrefs](https://stackoverflow.com/questions/16818871/extracting-value-and-creating-new-column-out-of-it)'
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
- en: '## Grouping'
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
- en: The [grouping](groupby.html#groupby) docs.
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
- en: '[Basic grouping with apply](https://stackoverflow.com/questions/15322632/python-pandas-df-groupy-agg-column-reference-in-agg)'
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
- en: Unlike agg, apply’s callable is passed a sub-DataFrame which gives you access
    to all the columns
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE135]'
  id: totrans-453
  prefs: []
  type: TYPE_PRE
  zh: '[PRE135]'
- en: '[Using get_group](https://stackoverflow.com/questions/14734533/how-to-access-pandas-groupby-dataframe-by-key)'
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE136]'
  id: totrans-455
  prefs: []
  type: TYPE_PRE
  zh: '[PRE136]'
- en: '[Apply to different items in a group](https://stackoverflow.com/questions/15262134/apply-different-functions-to-different-items-in-group-object-python-pandas)'
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE137]'
  id: totrans-457
  prefs: []
  type: TYPE_PRE
  zh: '[PRE137]'
- en: '[Expanding apply](https://stackoverflow.com/questions/14542145/reductions-down-a-column-in-pandas)'
  id: totrans-458
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE138]'
  id: totrans-459
  prefs: []
  type: TYPE_PRE
  zh: '[PRE138]'
- en: '[Replacing some values with mean of the rest of a group](https://stackoverflow.com/questions/14760757/replacing-values-with-groupby-means)'
  id: totrans-460
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE139]'
  id: totrans-461
  prefs: []
  type: TYPE_PRE
  zh: '[PRE139]'
- en: '[Sort groups by aggregated data](https://stackoverflow.com/questions/14941366/pandas-sort-by-group-aggregate-and-column)'
  id: totrans-462
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE140]'
  id: totrans-463
  prefs: []
  type: TYPE_PRE
  zh: '[PRE140]'
- en: '[Create multiple aggregated columns](https://stackoverflow.com/questions/14897100/create-multiple-columns-in-pandas-aggregation-function)'
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE141]'
  id: totrans-465
  prefs: []
  type: TYPE_PRE
  zh: '[PRE141]'
- en: '[Create a value counts column and reassign back to the DataFrame](https://stackoverflow.com/q/17709270)'
  id: totrans-466
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE142]'
  id: totrans-467
  prefs: []
  type: TYPE_PRE
  zh: '[PRE142]'
- en: '[Shift groups of the values in a column based on the index](https://stackoverflow.com/q/23198053/190597)'
  id: totrans-468
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE143]'
  id: totrans-469
  prefs: []
  type: TYPE_PRE
  zh: '[PRE143]'
- en: '[Select row with maximum value from each group](https://stackoverflow.com/q/26701849/190597)'
  id: totrans-470
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE144]'
  id: totrans-471
  prefs: []
  type: TYPE_PRE
  zh: '[PRE144]'
- en: '[Grouping like Python’s itertools.groupby](https://stackoverflow.com/q/29142487/846892)'
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE145]'
  id: totrans-473
  prefs: []
  type: TYPE_PRE
  zh: '[PRE145]'
- en: Expanding data
  id: totrans-474
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Alignment and to-date](https://stackoverflow.com/questions/15489011/python-time-series-alignment-and-to-date-functions)'
  id: totrans-475
  prefs: []
  type: TYPE_NORMAL
- en: '[Rolling Computation window based on values instead of counts](https://stackoverflow.com/questions/14300768/pandas-rolling-computation-with-window-based-on-values-instead-of-counts)'
  id: totrans-476
  prefs: []
  type: TYPE_NORMAL
- en: '[Rolling Mean by Time Interval](https://stackoverflow.com/questions/15771472/pandas-rolling-mean-by-time-interval)'
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
- en: Splitting
  id: totrans-478
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Splitting a frame](https://stackoverflow.com/questions/13353233/best-way-to-split-a-dataframe-given-an-edge/15449992#15449992)'
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
- en: Create a list of dataframes, split using a delineation based on logic included
    in rows.
  id: totrans-480
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE146]'
  id: totrans-481
  prefs: []
  type: TYPE_PRE
  zh: '[PRE146]'
- en: '### Pivot'
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
- en: The [Pivot](reshaping.html#reshaping-pivot) docs.
  id: totrans-483
  prefs: []
  type: TYPE_NORMAL
- en: '[Partial sums and subtotals](https://stackoverflow.com/a/15574875)'
  id: totrans-484
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE147]'
  id: totrans-485
  prefs: []
  type: TYPE_PRE
  zh: '[PRE147]'
- en: '[Frequency table like plyr in R](https://stackoverflow.com/questions/15589354/frequency-tables-in-pandas-like-plyr-in-r)'
  id: totrans-486
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE148]'
  id: totrans-487
  prefs: []
  type: TYPE_PRE
  zh: '[PRE148]'
- en: '[Plot pandas DataFrame with year over year data](https://stackoverflow.com/questions/30379789/plot-pandas-data-frame-with-year-over-year-data)'
  id: totrans-488
  prefs: []
  type: TYPE_NORMAL
- en: 'To create year and month cross tabulation:'
  id: totrans-489
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE149]'
  id: totrans-490
  prefs: []
  type: TYPE_PRE
  zh: '[PRE149]'
- en: Apply
  id: totrans-491
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Rolling apply to organize - Turning embedded lists into a MultiIndex frame](https://stackoverflow.com/questions/17349981/converting-pandas-dataframe-with-categorical-values-into-binary-values)'
  id: totrans-492
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE150]'
  id: totrans-493
  prefs: []
  type: TYPE_PRE
  zh: '[PRE150]'
- en: '[Rolling apply with a DataFrame returning a Series](https://stackoverflow.com/questions/19121854/using-rolling-apply-on-a-dataframe-object)'
  id: totrans-494
  prefs: []
  type: TYPE_NORMAL
- en: Rolling Apply to multiple columns where function calculates a Series before
    a Scalar from the Series is returned
  id: totrans-495
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE151]'
  id: totrans-496
  prefs: []
  type: TYPE_PRE
  zh: '[PRE151]'
- en: '[Rolling apply with a DataFrame returning a Scalar](https://stackoverflow.com/questions/21040766/python-pandas-rolling-apply-two-column-input-into-function/21045831#21045831)'
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
- en: Rolling Apply to multiple columns where function returns a Scalar (Volume Weighted
    Average Price)
  id: totrans-498
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE152]'
  id: totrans-499
  prefs: []
  type: TYPE_PRE
  zh: '[PRE152]'
- en: Expanding data
  id: totrans-500
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Alignment and to-date](https://stackoverflow.com/questions/15489011/python-time-series-alignment-and-to-date-functions)'
  id: totrans-501
  prefs: []
  type: TYPE_NORMAL
- en: '[Rolling Computation window based on values instead of counts](https://stackoverflow.com/questions/14300768/pandas-rolling-computation-with-window-based-on-values-instead-of-counts)'
  id: totrans-502
  prefs: []
  type: TYPE_NORMAL
- en: '[Rolling Mean by Time Interval](https://stackoverflow.com/questions/15771472/pandas-rolling-mean-by-time-interval)'
  id: totrans-503
  prefs: []
  type: TYPE_NORMAL
- en: Splitting
  id: totrans-504
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Splitting a frame](https://stackoverflow.com/questions/13353233/best-way-to-split-a-dataframe-given-an-edge/15449992#15449992)'
  id: totrans-505
  prefs: []
  type: TYPE_NORMAL
- en: Create a list of dataframes, split using a delineation based on logic included
    in rows.
  id: totrans-506
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE153]'
  id: totrans-507
  prefs: []
  type: TYPE_PRE
  zh: '[PRE153]'
- en: '### Pivot'
  id: totrans-508
  prefs: []
  type: TYPE_NORMAL
- en: The [Pivot](reshaping.html#reshaping-pivot) docs.
  id: totrans-509
  prefs: []
  type: TYPE_NORMAL
- en: '[Partial sums and subtotals](https://stackoverflow.com/a/15574875)'
  id: totrans-510
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE154]'
  id: totrans-511
  prefs: []
  type: TYPE_PRE
  zh: '[PRE154]'
- en: '[Frequency table like plyr in R](https://stackoverflow.com/questions/15589354/frequency-tables-in-pandas-like-plyr-in-r)'
  id: totrans-512
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE155]'
  id: totrans-513
  prefs: []
  type: TYPE_PRE
  zh: '[PRE155]'
- en: '[Plot pandas DataFrame with year over year data](https://stackoverflow.com/questions/30379789/plot-pandas-data-frame-with-year-over-year-data)'
  id: totrans-514
  prefs: []
  type: TYPE_NORMAL
- en: 'To create year and month cross tabulation:'
  id: totrans-515
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE156]'
  id: totrans-516
  prefs: []
  type: TYPE_PRE
  zh: '[PRE156]'
- en: Apply
  id: totrans-517
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[Rolling apply to organize - Turning embedded lists into a MultiIndex frame](https://stackoverflow.com/questions/17349981/converting-pandas-dataframe-with-categorical-values-into-binary-values)'
  id: totrans-518
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE157]'
  id: totrans-519
  prefs: []
  type: TYPE_PRE
  zh: '[PRE157]'
- en: '[Rolling apply with a DataFrame returning a Series](https://stackoverflow.com/questions/19121854/using-rolling-apply-on-a-dataframe-object)'
  id: totrans-520
  prefs: []
  type: TYPE_NORMAL
- en: Rolling Apply to multiple columns where function calculates a Series before
    a Scalar from the Series is returned
  id: totrans-521
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE158]'
  id: totrans-522
  prefs: []
  type: TYPE_PRE
  zh: '[PRE158]'
- en: '[Rolling apply with a DataFrame returning a Scalar](https://stackoverflow.com/questions/21040766/python-pandas-rolling-apply-two-column-input-into-function/21045831#21045831)'
  id: totrans-523
  prefs: []
  type: TYPE_NORMAL
- en: Rolling Apply to multiple columns where function returns a Scalar (Volume Weighted
    Average Price)
  id: totrans-524
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE159]'
  id: totrans-525
  prefs: []
  type: TYPE_PRE
  zh: '[PRE159]'
- en: Timeseries
  id: totrans-526
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[Between times](https://stackoverflow.com/questions/14539992/pandas-drop-rows-outside-of-time-range)'
  id: totrans-527
  prefs: []
  type: TYPE_NORMAL
- en: '[Using indexer between time](https://stackoverflow.com/questions/17559885/pandas-dataframe-mask-based-on-index)'
  id: totrans-528
  prefs: []
  type: TYPE_NORMAL
- en: '[Constructing a datetime range that excludes weekends and includes only certain
    times](https://stackoverflow.com/a/24014440)'
  id: totrans-529
  prefs: []
  type: TYPE_NORMAL
- en: '[Vectorized Lookup](https://stackoverflow.com/questions/13893227/vectorized-look-up-of-values-in-pandas-dataframe)'
  id: totrans-530
  prefs: []
  type: TYPE_NORMAL
- en: '[Aggregation and plotting time series](https://nipunbatra.github.io/blog/visualisation/2013/05/01/aggregation-timeseries.html)'
  id: totrans-531
  prefs: []
  type: TYPE_NORMAL
- en: Turn a matrix with hours in columns and days in rows into a continuous row sequence
    in the form of a time series. [How to rearrange a Python pandas DataFrame?](https://stackoverflow.com/questions/15432659/how-to-rearrange-a-python-pandas-dataframe)
  id: totrans-532
  prefs: []
  type: TYPE_NORMAL
- en: '[Dealing with duplicates when reindexing a timeseries to a specified frequency](https://stackoverflow.com/questions/22244383/pandas-df-refill-adding-two-columns-of-different-shape)'
  id: totrans-533
  prefs: []
  type: TYPE_NORMAL
  zh: '[重新索引时间序列到指定频率时处理重复项](https://stackoverflow.com/questions/22244383/pandas-df-refill-adding-two-columns-of-different-shape)'
- en: Calculate the first day of the month for each entry in a DatetimeIndex
  id: totrans-534
  prefs: []
  type: TYPE_NORMAL
  zh: 计算 DatetimeIndex 中每个条目的月份第一天
- en: '[PRE160]'
  id: totrans-535
  prefs: []
  type: TYPE_PRE
  zh: '[PRE160]'
- en: '### Resampling'
  id: totrans-536
  prefs: []
  type: TYPE_NORMAL
  zh: '### 重采样'
- en: The [Resample](timeseries.html#timeseries-resampling) docs.
  id: totrans-537
  prefs: []
  type: TYPE_NORMAL
  zh: '[重采样](timeseries.html#timeseries-resampling) 文档。'
- en: '[Using Grouper instead of TimeGrouper for time grouping of values](https://stackoverflow.com/questions/15297053/how-can-i-divide-single-values-of-a-dataframe-by-monthly-averages)'
  id: totrans-538
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用 Grouper 而不是 TimeGrouper 对值进行时间分组](https://stackoverflow.com/questions/15297053/how-can-i-divide-single-values-of-a-dataframe-by-monthly-averages)'
- en: '[Time grouping with some missing values](https://stackoverflow.com/questions/33637312/pandas-grouper-by-frequency-with-completeness-requirement)'
  id: totrans-539
  prefs: []
  type: TYPE_NORMAL
  zh: '[带有一些缺失值的时间分组](https://stackoverflow.com/questions/33637312/pandas-grouper-by-frequency-with-completeness-requirement)'
- en: Valid frequency arguments to Grouper [Timeseries](timeseries.html#timeseries-offset-aliases)
  id: totrans-540
  prefs: []
  type: TYPE_NORMAL
  zh: Grouper 的有效频率参数 [时间序列](timeseries.html#timeseries-offset-aliases)
- en: '[Grouping using a MultiIndex](https://stackoverflow.com/questions/41483763/pandas-timegrouper-on-multiindex)'
  id: totrans-541
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用 MultiIndex 进行分组](https://stackoverflow.com/questions/41483763/pandas-timegrouper-on-multiindex)'
- en: Using TimeGrouper and another grouping to create subgroups, then apply a custom
    function [GH 3791](https://github.com/pandas-dev/pandas/issues/3791)
  id: totrans-542
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 TimeGrouper 和另一个分组来创建子组，然后应用自定义函数 [GH 3791](https://github.com/pandas-dev/pandas/issues/3791)
- en: '[Resampling with custom periods](https://stackoverflow.com/questions/15408156/resampling-with-custom-periods)'
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用自定义周期进行重采样](https://stackoverflow.com/questions/15408156/resampling-with-custom-periods)'
- en: '[Resample intraday frame without adding new days](https://stackoverflow.com/questions/14898574/resample-intrday-pandas-dataframe-without-add-new-days)'
  id: totrans-544
  prefs: []
  type: TYPE_NORMAL
  zh: '[在不添加新日期的情况下重采样日内框架](https://stackoverflow.com/questions/14898574/resample-intrday-pandas-dataframe-without-add-new-days)'
- en: '[Resample minute data](https://stackoverflow.com/questions/14861023/resampling-minute-data)'
  id: totrans-545
  prefs: []
  type: TYPE_NORMAL
  zh: '[重采样分钟数据](https://stackoverflow.com/questions/14861023/resampling-minute-data)'
- en: '[Resample with groupby](https://stackoverflow.com/q/18677271/564538)  ### Resampling'
  id: totrans-546
  prefs: []
  type: TYPE_NORMAL
  zh: '[与 groupby 一起重采样](https://stackoverflow.com/q/18677271/564538)  ### 重采样'
- en: The [Resample](timeseries.html#timeseries-resampling) docs.
  id: totrans-547
  prefs: []
  type: TYPE_NORMAL
  zh: '[重采样](timeseries.html#timeseries-resampling) 文档。'
- en: '[Using Grouper instead of TimeGrouper for time grouping of values](https://stackoverflow.com/questions/15297053/how-can-i-divide-single-values-of-a-dataframe-by-monthly-averages)'
  id: totrans-548
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用 Grouper 而不是 TimeGrouper 对值进行时间分组](https://stackoverflow.com/questions/15297053/how-can-i-divide-single-values-of-a-dataframe-by-monthly-averages)'
- en: '[Time grouping with some missing values](https://stackoverflow.com/questions/33637312/pandas-grouper-by-frequency-with-completeness-requirement)'
  id: totrans-549
  prefs: []
  type: TYPE_NORMAL
  zh: '[带有一些缺失值的时间分组](https://stackoverflow.com/questions/33637312/pandas-grouper-by-frequency-with-completeness-requirement)'
- en: Valid frequency arguments to Grouper [Timeseries](timeseries.html#timeseries-offset-aliases)
  id: totrans-550
  prefs: []
  type: TYPE_NORMAL
  zh: Grouper 的有效频率参数 [时间序列](timeseries.html#timeseries-offset-aliases)
- en: '[Grouping using a MultiIndex](https://stackoverflow.com/questions/41483763/pandas-timegrouper-on-multiindex)'
  id: totrans-551
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用 MultiIndex 进行分组](https://stackoverflow.com/questions/41483763/pandas-timegrouper-on-multiindex)'
- en: Using TimeGrouper and another grouping to create subgroups, then apply a custom
    function [GH 3791](https://github.com/pandas-dev/pandas/issues/3791)
  id: totrans-552
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 TimeGrouper 和另一个分组来创建子组，然后应用自定义函数 [GH 3791](https://github.com/pandas-dev/pandas/issues/3791)
- en: '[Resampling with custom periods](https://stackoverflow.com/questions/15408156/resampling-with-custom-periods)'
  id: totrans-553
  prefs: []
  type: TYPE_NORMAL
  zh: '[使用自定义周期进行重采样](https://stackoverflow.com/questions/15408156/resampling-with-custom-periods)'
- en: '[Resample intraday frame without adding new days](https://stackoverflow.com/questions/14898574/resample-intrday-pandas-dataframe-without-add-new-days)'
  id: totrans-554
  prefs: []
  type: TYPE_NORMAL
  zh: '[在不添加新日期的情况下重采样日内框架](https://stackoverflow.com/questions/14898574/resample-intrday-pandas-dataframe-without-add-new-days)'
- en: '[Resample minute data](https://stackoverflow.com/questions/14861023/resampling-minute-data)'
  id: totrans-555
  prefs: []
  type: TYPE_NORMAL
  zh: '[重采样分钟数据](https://stackoverflow.com/questions/14861023/resampling-minute-data)'
- en: '[Resample with groupby](https://stackoverflow.com/q/18677271/564538)'
  id: totrans-556
  prefs: []
  type: TYPE_NORMAL
  zh: '[与 groupby 一起重采样](https://stackoverflow.com/q/18677271/564538)'
- en: '## Merge'
  id: totrans-557
  prefs: []
  type: TYPE_NORMAL
  zh: '## 合并'
- en: The [Join](merging.html#merging-join) docs.
  id: totrans-558
  prefs: []
  type: TYPE_NORMAL
  zh: '[连接](merging.html#merging-join) 文档。'
- en: '[Concatenate two dataframes with overlapping index (emulate R rbind)](https://stackoverflow.com/questions/14988480/pandas-version-of-rbind)'
  id: totrans-559
  prefs: []
  type: TYPE_NORMAL
  zh: '[将两个具有重叠索引的数据框连接在一起（模拟 R rbind）](https://stackoverflow.com/questions/14988480/pandas-version-of-rbind)'
- en: '[PRE161]'
  id: totrans-560
  prefs: []
  type: TYPE_PRE
  zh: '[PRE161]'
- en: Depending on df construction, `ignore_index` may be needed
  id: totrans-561
  prefs: []
  type: TYPE_NORMAL
  zh: 根据 df 构造，可能需要使用 `ignore_index`
- en: '[PRE162]'
  id: totrans-562
  prefs: []
  type: TYPE_PRE
  zh: '[PRE162]'
- en: Self Join of a DataFrame [GH 2996](https://github.com/pandas-dev/pandas/issues/2996)
  id: totrans-563
  prefs: []
  type: TYPE_NORMAL
  zh: DataFrame 的自连接 [GH 2996](https://github.com/pandas-dev/pandas/issues/2996)
- en: '[PRE163]'
  id: totrans-564
  prefs: []
  type: TYPE_PRE
  zh: '[PRE163]'
- en: '[How to set the index and join](https://stackoverflow.com/questions/14341805/pandas-merge-pd-merge-how-to-set-the-index-and-join)'
  id: totrans-565
  prefs: []
  type: TYPE_NORMAL
- en: '[KDB like asof join](https://stackoverflow.com/questions/12322289/kdb-like-asof-join-for-timeseries-data-in-pandas/12336039#12336039)'
  id: totrans-566
  prefs: []
  type: TYPE_NORMAL
- en: '[Join with a criteria based on the values](https://stackoverflow.com/questions/15581829/how-to-perform-an-inner-or-outer-join-of-dataframes-with-pandas-on-non-simplisti)'
  id: totrans-567
  prefs: []
  type: TYPE_NORMAL
- en: '[Using searchsorted to merge based on values inside a range](https://stackoverflow.com/questions/25125626/pandas-merge-with-logic/2512764)'
  id: totrans-568
  prefs: []
  type: TYPE_NORMAL
- en: '## Plotting'
  id: totrans-569
  prefs: []
  type: TYPE_NORMAL
- en: The [Plotting](visualization.html#visualization) docs.
  id: totrans-570
  prefs: []
  type: TYPE_NORMAL
- en: '[Make Matplotlib look like R](https://stackoverflow.com/questions/14349055/making-matplotlib-graphs-look-like-r-by-default)'
  id: totrans-571
  prefs: []
  type: TYPE_NORMAL
- en: '[Setting x-axis major and minor labels](https://stackoverflow.com/questions/12945971/pandas-timeseries-plot-setting-x-axis-major-and-minor-ticks-and-labels)'
  id: totrans-572
  prefs: []
  type: TYPE_NORMAL
- en: '[Plotting multiple charts in an IPython Jupyter notebook](https://stackoverflow.com/questions/16392921/make-more-than-one-chart-in-same-ipython-notebook-cell)'
  id: totrans-573
  prefs: []
  type: TYPE_NORMAL
- en: '[Creating a multi-line plot](https://stackoverflow.com/questions/16568964/make-a-multiline-plot-from-csv-file-in-matplotlib)'
  id: totrans-574
  prefs: []
  type: TYPE_NORMAL
- en: '[Plotting a heatmap](https://stackoverflow.com/questions/17050202/plot-timeseries-of-histograms-in-python)'
  id: totrans-575
  prefs: []
  type: TYPE_NORMAL
- en: '[Annotate a time-series plot](https://stackoverflow.com/questions/11067368/annotate-time-series-plot-in-matplotlib)'
  id: totrans-576
  prefs: []
  type: TYPE_NORMAL
- en: '[Annotate a time-series plot #2](https://stackoverflow.com/questions/17891493/annotating-points-from-a-pandas-dataframe-in-matplotlib-plot)'
  id: totrans-577
  prefs: []
  type: TYPE_NORMAL
- en: '[Generate Embedded plots in excel files using Pandas, Vincent and xlsxwriter](https://pandas-xlsxwriter-charts.readthedocs.io/)'
  id: totrans-578
  prefs: []
  type: TYPE_NORMAL
- en: '[Boxplot for each quartile of a stratifying variable](https://stackoverflow.com/questions/23232989/boxplot-stratified-by-column-in-python-pandas)'
  id: totrans-579
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE164]'
  id: totrans-580
  prefs: []
  type: TYPE_PRE
  zh: '[PRE164]'
- en: '![../_images/quartile_boxplot.png](../Images/49df85cb7d3c1e3681f55fa48b5fefa6.png)'
  id: totrans-581
  prefs: []
  type: TYPE_IMG
- en: Data in/out
  id: totrans-582
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[Performance comparison of SQL vs HDF5](https://stackoverflow.com/q/16628329)'
  id: totrans-583
  prefs: []
  type: TYPE_NORMAL
- en: '### CSV'
  id: totrans-584
  prefs: []
  type: TYPE_NORMAL
- en: The [CSV](io.html#io-read-csv-table) docs
  id: totrans-585
  prefs: []
  type: TYPE_NORMAL
- en: '[read_csv in action](https://wesmckinney.com/blog/update-on-upcoming-pandas-v0-10-new-file-parser-other-performance-wins/)'
  id: totrans-586
  prefs: []
  type: TYPE_NORMAL
- en: '[appending to a csv](https://stackoverflow.com/questions/17134942/pandas-dataframe-output-end-of-csv)'
  id: totrans-587
  prefs: []
  type: TYPE_NORMAL
- en: '[Reading a csv chunk-by-chunk](https://stackoverflow.com/questions/11622652/large-persistent-dataframe-in-pandas/12193309#12193309)'
  id: totrans-588
  prefs: []
  type: TYPE_NORMAL
- en: '[Reading only certain rows of a csv chunk-by-chunk](https://stackoverflow.com/questions/19674212/pandas-data-frame-select-rows-and-clear-memory)'
  id: totrans-589
  prefs: []
  type: TYPE_NORMAL
- en: '[Reading the first few lines of a frame](https://stackoverflow.com/questions/15008970/way-to-read-first-few-lines-for-pandas-dataframe)'
  id: totrans-590
  prefs: []
  type: TYPE_NORMAL
- en: Reading a file that is compressed but not by `gzip/bz2` (the native compressed
    formats which `read_csv` understands). This example shows a `WinZipped` file,
    but is a general application of opening the file within a context manager and
    using that handle to read. [See here](https://stackoverflow.com/questions/17789907/pandas-convert-winzipped-csv-file-to-data-frame)
  id: totrans-591
  prefs: []
  type: TYPE_NORMAL
- en: '[Inferring dtypes from a file](https://stackoverflow.com/questions/15555005/get-inferred-dataframe-types-iteratively-using-chunksize)'
  id: totrans-592
  prefs: []
  type: TYPE_NORMAL
- en: Dealing with bad lines [GH 2886](https://github.com/pandas-dev/pandas/issues/2886)
  id: totrans-593
  prefs: []
  type: TYPE_NORMAL
- en: '[Write a multi-row index CSV without writing duplicates](https://stackoverflow.com/questions/17349574/pandas-write-multiindex-rows-with-to-csv)'
  id: totrans-594
  prefs: []
  type: TYPE_NORMAL
- en: '#### Reading multiple files to create a single DataFrame'
  id: totrans-595
  prefs: []
  type: TYPE_NORMAL
- en: 'The best way to combine multiple files into a single DataFrame is to read the
    individual frames one by one, put all of the individual frames into a list, and
    then combine the frames in the list using `pd.concat()`:'
  id: totrans-596
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE165]'
  id: totrans-597
  prefs: []
  type: TYPE_PRE
  zh: '[PRE165]'
- en: 'You can use the same approach to read all files matching a pattern. Here is
    an example using `glob`:'
  id: totrans-598
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE166]'
  id: totrans-599
  prefs: []
  type: TYPE_PRE
  zh: '[PRE166]'
- en: Finally, this strategy will work with the other `pd.read_*(...)` functions described
    in the [io docs](io.html#io).
  id: totrans-600
  prefs: []
  type: TYPE_NORMAL
- en: Parsing date components in multi-columns
  id: totrans-601
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Parsing date components in multi-columns is faster with a format
  id: totrans-602
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE167]'
  id: totrans-603
  prefs: []
  type: TYPE_PRE
  zh: '[PRE167]'
- en: Skip row between header and data
  id: totrans-604
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '[PRE168]'
  id: totrans-605
  prefs: []
  type: TYPE_PRE
  zh: '[PRE168]'
- en: 'Option 1: pass rows explicitly to skip rows'
  id: totrans-606
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE169]'
  id: totrans-607
  prefs: []
  type: TYPE_PRE
  zh: '[PRE169]'
- en: 'Option 2: read column names and then data'
  id: totrans-608
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE170]  ### SQL'
  id: totrans-609
  prefs: []
  type: TYPE_NORMAL
- en: The [SQL](io.html#io-sql) docs
  id: totrans-610
  prefs: []
  type: TYPE_NORMAL
- en: '[Reading from databases with SQL](https://stackoverflow.com/questions/10065051/python-pandas-and-databases-like-mysql)  ###
    Excel'
  id: totrans-611
  prefs: []
  type: TYPE_NORMAL
- en: The [Excel](io.html#io-excel) docs
  id: totrans-612
  prefs: []
  type: TYPE_NORMAL
- en: '[Reading from a filelike handle](https://stackoverflow.com/questions/15588713/sheets-of-excel-workbook-from-a-url-into-a-pandas-dataframe)'
  id: totrans-613
  prefs: []
  type: TYPE_NORMAL
- en: '[Modifying formatting in XlsxWriter output](https://pbpython.com/improve-pandas-excel-output.html)'
  id: totrans-614
  prefs: []
  type: TYPE_NORMAL
- en: 'Loading only visible sheets [GH 19842#issuecomment-892150745](https://github.com/pandas-dev/pandas/issues/19842#issuecomment-892150745)  ###
    HTML'
  id: totrans-615
  prefs: []
  type: TYPE_NORMAL
- en: '[Reading HTML tables from a server that cannot handle the default request header](https://stackoverflow.com/a/18939272/564538)  ###
    HDFStore'
  id: totrans-616
  prefs: []
  type: TYPE_NORMAL
- en: The [HDFStores](io.html#io-hdf5) docs
  id: totrans-617
  prefs: []
  type: TYPE_NORMAL
- en: '[Simple queries with a Timestamp Index](https://stackoverflow.com/questions/13926089/selecting-columns-from-pandas-hdfstore-table)'
  id: totrans-618
  prefs: []
  type: TYPE_NORMAL
- en: Managing heterogeneous data using a linked multiple table hierarchy [GH 3032](https://github.com/pandas-dev/pandas/issues/3032)
  id: totrans-619
  prefs: []
  type: TYPE_NORMAL
- en: '[Merging on-disk tables with millions of rows](https://stackoverflow.com/questions/14614512/merging-two-tables-with-millions-of-rows-in-python/14617925#14617925)'
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
- en: '[Avoiding inconsistencies when writing to a store from multiple processes/threads](https://stackoverflow.com/a/29014295/2858145)'
  id: totrans-621
  prefs: []
  type: TYPE_NORMAL
- en: De-duplicating a large store by chunks, essentially a recursive reduction operation.
    Shows a function for taking in data from csv file and creating a store by chunks,
    with date parsing as well. [See here](https://stackoverflow.com/questions/16110252/need-to-compare-very-large-files-around-1-5gb-in-python/16110391#16110391)
  id: totrans-622
  prefs: []
  type: TYPE_NORMAL
- en: '[Creating a store chunk-by-chunk from a csv file](https://stackoverflow.com/questions/20428355/appending-column-to-frame-of-hdf-file-in-pandas/20428786#20428786)'
  id: totrans-623
  prefs: []
  type: TYPE_NORMAL
- en: '[Appending to a store, while creating a unique index](https://stackoverflow.com/questions/16997048/how-does-one-append-large-amounts-of-data-to-a-pandas-hdfstore-and-get-a-natural/16999397#16999397)'
  id: totrans-624
  prefs: []
  type: TYPE_NORMAL
- en: '[Large Data work flows](https://stackoverflow.com/q/14262433)'
  id: totrans-625
  prefs: []
  type: TYPE_NORMAL
- en: '[Reading in a sequence of files, then providing a global unique index to a
    store while appending](https://stackoverflow.com/questions/16997048/how-does-one-append-large-amounts-of-data-to-a-pandas-hdfstore-and-get-a-natural)'
  id: totrans-626
  prefs: []
  type: TYPE_NORMAL
- en: '[Groupby on a HDFStore with low group density](https://stackoverflow.com/questions/15798209/pandas-group-by-query-on-large-data-in-hdfstore)'
  id: totrans-627
  prefs: []
  type: TYPE_NORMAL
- en: '[Groupby on a HDFStore with high group density](https://stackoverflow.com/questions/25459982/trouble-with-grouby-on-millions-of-keys-on-a-chunked-file-in-python-pandas/25471765#25471765)'
  id: totrans-628
  prefs: []
  type: TYPE_NORMAL
- en: '[Hierarchical queries on a HDFStore](https://stackoverflow.com/questions/22777284/improve-query-performance-from-a-large-hdfstore-table-with-pandas/22820780#22820780)'
  id: totrans-629
  prefs: []
  type: TYPE_NORMAL
- en: '[Counting with a HDFStore](https://stackoverflow.com/questions/20497897/converting-dict-of-dicts-into-pandas-dataframe-memory-issues)'
  id: totrans-630
  prefs: []
  type: TYPE_NORMAL
- en: '[Troubleshoot HDFStore exceptions](https://stackoverflow.com/questions/15488809/how-to-trouble-shoot-hdfstore-exception-cannot-find-the-correct-atom-type)'
  id: totrans-631
  prefs: []
  type: TYPE_NORMAL
- en: '[Setting min_itemsize with strings](https://stackoverflow.com/questions/15988871/hdfstore-appendstring-dataframe-fails-when-string-column-contents-are-longer)'
  id: totrans-632
  prefs: []
  type: TYPE_NORMAL
- en: '[Using ptrepack to create a completely-sorted-index on a store](https://stackoverflow.com/questions/17893370/ptrepack-sortby-needs-full-index)'
  id: totrans-633
  prefs: []
  type: TYPE_NORMAL
- en: Storing Attributes to a group node
  id: totrans-634
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE171]'
  id: totrans-635
  prefs: []
  type: TYPE_PRE
  zh: '[PRE171]'
- en: You can create or load a HDFStore in-memory by passing the `driver` parameter
    to PyTables. Changes are only written to disk when the HDFStore is closed.
  id: totrans-636
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE172]  ### Binary files'
  id: totrans-637
  prefs: []
  type: TYPE_NORMAL
- en: pandas readily accepts NumPy record arrays, if you need to read in a binary
    file consisting of an array of C structs. For example, given this C program in
    a file called `main.c` compiled with `gcc main.c -std=gnu99` on a 64-bit machine,
  id: totrans-638
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE173]'
  id: totrans-639
  prefs: []
  type: TYPE_PRE
  zh: '[PRE173]'
- en: 'the following Python code will read the binary file `''binary.dat''` into a
    pandas `DataFrame`, where each element of the struct corresponds to a column in
    the frame:'
  id: totrans-640
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE174]'
  id: totrans-641
  prefs: []
  type: TYPE_PRE
  zh: '[PRE174]'
- en: Note
  id: totrans-642
  prefs: []
  type: TYPE_NORMAL
- en: 'The offsets of the structure elements may be different depending on the architecture
    of the machine on which the file was created. Using a raw binary file format like
    this for general data storage is not recommended, as it is not cross platform.
    We recommended either HDF5 or parquet, both of which are supported by pandas’
    IO facilities.  ### CSV'
  id: totrans-643
  prefs: []
  type: TYPE_NORMAL
- en: The [CSV](io.html#io-read-csv-table) docs
  id: totrans-644
  prefs: []
  type: TYPE_NORMAL
- en: '[read_csv in action](https://wesmckinney.com/blog/update-on-upcoming-pandas-v0-10-new-file-parser-other-performance-wins/)'
  id: totrans-645
  prefs: []
  type: TYPE_NORMAL
- en: '[appending to a csv](https://stackoverflow.com/questions/17134942/pandas-dataframe-output-end-of-csv)'
  id: totrans-646
  prefs: []
  type: TYPE_NORMAL
- en: '[Reading a csv chunk-by-chunk](https://stackoverflow.com/questions/11622652/large-persistent-dataframe-in-pandas/12193309#12193309)'
  id: totrans-647
  prefs: []
  type: TYPE_NORMAL
- en: '[Reading only certain rows of a csv chunk-by-chunk](https://stackoverflow.com/questions/19674212/pandas-data-frame-select-rows-and-clear-memory)'
  id: totrans-648
  prefs: []
  type: TYPE_NORMAL
- en: '[Reading the first few lines of a frame](https://stackoverflow.com/questions/15008970/way-to-read-first-few-lines-for-pandas-dataframe)'
  id: totrans-649
  prefs: []
  type: TYPE_NORMAL
- en: Reading a file that is compressed but not by `gzip/bz2` (the native compressed
    formats which `read_csv` understands). This example shows a `WinZipped` file,
    but is a general application of opening the file within a context manager and
    using that handle to read. [See here](https://stackoverflow.com/questions/17789907/pandas-convert-winzipped-csv-file-to-data-frame)
  id: totrans-650
  prefs: []
  type: TYPE_NORMAL
- en: '[Inferring dtypes from a file](https://stackoverflow.com/questions/15555005/get-inferred-dataframe-types-iteratively-using-chunksize)'
  id: totrans-651
  prefs: []
  type: TYPE_NORMAL
- en: Dealing with bad lines [GH 2886](https://github.com/pandas-dev/pandas/issues/2886)
  id: totrans-652
  prefs: []
  type: TYPE_NORMAL
- en: '[Write a multi-row index CSV without writing duplicates](https://stackoverflow.com/questions/17349574/pandas-write-multiindex-rows-with-to-csv)'
  id: totrans-653
  prefs: []
  type: TYPE_NORMAL
- en: '#### Reading multiple files to create a single DataFrame'
  id: totrans-654
  prefs: []
  type: TYPE_NORMAL
- en: 'The best way to combine multiple files into a single DataFrame is to read the
    individual frames one by one, put all of the individual frames into a list, and
    then combine the frames in the list using `pd.concat()`:'
  id: totrans-655
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE175]'
  id: totrans-656
  prefs: []
  type: TYPE_PRE
  zh: '[PRE175]'
- en: 'You can use the same approach to read all files matching a pattern. Here is
    an example using `glob`:'
  id: totrans-657
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE176]'
  id: totrans-658
  prefs: []
  type: TYPE_PRE
  zh: '[PRE176]'
- en: Finally, this strategy will work with the other `pd.read_*(...)` functions described
    in the [io docs](io.html#io).
  id: totrans-659
  prefs: []
  type: TYPE_NORMAL
- en: Parsing date components in multi-columns
  id: totrans-660
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Parsing date components in multi-columns is faster with a format
  id: totrans-661
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE177]'
  id: totrans-662
  prefs: []
  type: TYPE_PRE
  zh: '[PRE177]'
- en: Skip row between header and data
  id: totrans-663
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '[PRE178]'
  id: totrans-664
  prefs: []
  type: TYPE_PRE
  zh: '[PRE178]'
- en: 'Option 1: pass rows explicitly to skip rows'
  id: totrans-665
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE179]'
  id: totrans-666
  prefs: []
  type: TYPE_PRE
  zh: '[PRE179]'
- en: 'Option 2: read column names and then data'
  id: totrans-667
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE180]'
  id: totrans-668
  prefs: []
  type: TYPE_PRE
  zh: '[PRE180]'
- en: '#### Reading multiple files to create a single DataFrame'
  id: totrans-669
  prefs: []
  type: TYPE_NORMAL
- en: 'The best way to combine multiple files into a single DataFrame is to read the
    individual frames one by one, put all of the individual frames into a list, and
    then combine the frames in the list using `pd.concat()`:'
  id: totrans-670
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE181]'
  id: totrans-671
  prefs: []
  type: TYPE_PRE
  zh: '[PRE181]'
- en: 'You can use the same approach to read all files matching a pattern. Here is
    an example using `glob`:'
  id: totrans-672
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE182]'
  id: totrans-673
  prefs: []
  type: TYPE_PRE
  zh: '[PRE182]'
- en: Finally, this strategy will work with the other `pd.read_*(...)` functions described
    in the [io docs](io.html#io).
  id: totrans-674
  prefs: []
  type: TYPE_NORMAL
- en: Parsing date components in multi-columns
  id: totrans-675
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Parsing date components in multi-columns is faster with a format
  id: totrans-676
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE183]'
  id: totrans-677
  prefs: []
  type: TYPE_PRE
  zh: '[PRE183]'
- en: Skip row between header and data
  id: totrans-678
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '[PRE184]'
  id: totrans-679
  prefs: []
  type: TYPE_PRE
  zh: '[PRE184]'
- en: 'Option 1: pass rows explicitly to skip rows'
  id: totrans-680
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE185]'
  id: totrans-681
  prefs: []
  type: TYPE_PRE
  zh: '[PRE185]'
- en: 'Option 2: read column names and then data'
  id: totrans-682
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE186]'
  id: totrans-683
  prefs: []
  type: TYPE_PRE
  zh: '[PRE186]'
- en: 'Option 1: pass rows explicitly to skip rows'
  id: totrans-684
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE187]'
  id: totrans-685
  prefs: []
  type: TYPE_PRE
  zh: '[PRE187]'
- en: 'Option 2: read column names and then data'
  id: totrans-686
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '[PRE188]'
  id: totrans-687
  prefs: []
  type: TYPE_PRE
  zh: '[PRE188]'
- en: '### SQL'
  id: totrans-688
  prefs: []
  type: TYPE_NORMAL
- en: The [SQL](io.html#io-sql) docs
  id: totrans-689
  prefs: []
  type: TYPE_NORMAL
- en: '[Reading from databases with SQL](https://stackoverflow.com/questions/10065051/python-pandas-and-databases-like-mysql)'
  id: totrans-690
  prefs: []
  type: TYPE_NORMAL
- en: '### Excel'
  id: totrans-691
  prefs: []
  type: TYPE_NORMAL
- en: The [Excel](io.html#io-excel) docs
  id: totrans-692
  prefs: []
  type: TYPE_NORMAL
- en: '[Reading from a filelike handle](https://stackoverflow.com/questions/15588713/sheets-of-excel-workbook-from-a-url-into-a-pandas-dataframe)'
  id: totrans-693
  prefs: []
  type: TYPE_NORMAL
- en: '[Modifying formatting in XlsxWriter output](https://pbpython.com/improve-pandas-excel-output.html)'
  id: totrans-694
  prefs: []
  type: TYPE_NORMAL
- en: Loading only visible sheets [GH 19842#issuecomment-892150745](https://github.com/pandas-dev/pandas/issues/19842#issuecomment-892150745)
  id: totrans-695
  prefs: []
  type: TYPE_NORMAL
- en: '### HTML'
  id: totrans-696
  prefs: []
  type: TYPE_NORMAL
- en: '[Reading HTML tables from a server that cannot handle the default request header](https://stackoverflow.com/a/18939272/564538)'
  id: totrans-697
  prefs: []
  type: TYPE_NORMAL
- en: '### HDFStore'
  id: totrans-698
  prefs: []
  type: TYPE_NORMAL
- en: The [HDFStores](io.html#io-hdf5) docs
  id: totrans-699
  prefs: []
  type: TYPE_NORMAL
- en: '[Simple queries with a Timestamp Index](https://stackoverflow.com/questions/13926089/selecting-columns-from-pandas-hdfstore-table)'
  id: totrans-700
  prefs: []
  type: TYPE_NORMAL
- en: Managing heterogeneous data using a linked multiple table hierarchy [GH 3032](https://github.com/pandas-dev/pandas/issues/3032)
  id: totrans-701
  prefs: []
  type: TYPE_NORMAL
- en: '[Merging on-disk tables with millions of rows](https://stackoverflow.com/questions/14614512/merging-two-tables-with-millions-of-rows-in-python/14617925#14617925)'
  id: totrans-702
  prefs: []
  type: TYPE_NORMAL
- en: '[Avoiding inconsistencies when writing to a store from multiple processes/threads](https://stackoverflow.com/a/29014295/2858145)'
  id: totrans-703
  prefs: []
  type: TYPE_NORMAL
- en: De-duplicating a large store by chunks, essentially a recursive reduction operation.
    Shows a function for taking in data from csv file and creating a store by chunks,
    with date parsing as well. [See here](https://stackoverflow.com/questions/16110252/need-to-compare-very-large-files-around-1-5gb-in-python/16110391#16110391)
  id: totrans-704
  prefs: []
  type: TYPE_NORMAL
- en: '[Creating a store chunk-by-chunk from a csv file](https://stackoverflow.com/questions/20428355/appending-column-to-frame-of-hdf-file-in-pandas/20428786#20428786)'
  id: totrans-705
  prefs: []
  type: TYPE_NORMAL
- en: '[Appending to a store, while creating a unique index](https://stackoverflow.com/questions/16997048/how-does-one-append-large-amounts-of-data-to-a-pandas-hdfstore-and-get-a-natural/16999397#16999397)'
  id: totrans-706
  prefs: []
  type: TYPE_NORMAL
- en: '[Large Data work flows](https://stackoverflow.com/q/14262433)'
  id: totrans-707
  prefs: []
  type: TYPE_NORMAL
- en: '[Reading in a sequence of files, then providing a global unique index to a
    store while appending](https://stackoverflow.com/questions/16997048/how-does-one-append-large-amounts-of-data-to-a-pandas-hdfstore-and-get-a-natural)'
  id: totrans-708
  prefs: []
  type: TYPE_NORMAL
- en: '[Groupby on a HDFStore with low group density](https://stackoverflow.com/questions/15798209/pandas-group-by-query-on-large-data-in-hdfstore)'
  id: totrans-709
  prefs: []
  type: TYPE_NORMAL
- en: '[Groupby on a HDFStore with high group density](https://stackoverflow.com/questions/25459982/trouble-with-grouby-on-millions-of-keys-on-a-chunked-file-in-python-pandas/25471765#25471765)'
  id: totrans-710
  prefs: []
  type: TYPE_NORMAL
- en: '[Hierarchical queries on a HDFStore](https://stackoverflow.com/questions/22777284/improve-query-performance-from-a-large-hdfstore-table-with-pandas/22820780#22820780)'
  id: totrans-711
  prefs: []
  type: TYPE_NORMAL
- en: '[Counting with a HDFStore](https://stackoverflow.com/questions/20497897/converting-dict-of-dicts-into-pandas-dataframe-memory-issues)'
  id: totrans-712
  prefs: []
  type: TYPE_NORMAL
- en: '[Troubleshoot HDFStore exceptions](https://stackoverflow.com/questions/15488809/how-to-trouble-shoot-hdfstore-exception-cannot-find-the-correct-atom-type)'
  id: totrans-713
  prefs: []
  type: TYPE_NORMAL
- en: '[Setting min_itemsize with strings](https://stackoverflow.com/questions/15988871/hdfstore-appendstring-dataframe-fails-when-string-column-contents-are-longer)'
  id: totrans-714
  prefs: []
  type: TYPE_NORMAL
- en: '[Using ptrepack to create a completely-sorted-index on a store](https://stackoverflow.com/questions/17893370/ptrepack-sortby-needs-full-index)'
  id: totrans-715
  prefs: []
  type: TYPE_NORMAL
- en: Storing Attributes to a group node
  id: totrans-716
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE189]'
  id: totrans-717
  prefs: []
  type: TYPE_PRE
  zh: '[PRE189]'
- en: You can create or load a HDFStore in-memory by passing the `driver` parameter
    to PyTables. Changes are only written to disk when the HDFStore is closed.
  id: totrans-718
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE190]'
  id: totrans-719
  prefs: []
  type: TYPE_PRE
  zh: '[PRE190]'
- en: '### Binary files'
  id: totrans-720
  prefs: []
  type: TYPE_NORMAL
- en: pandas readily accepts NumPy record arrays, if you need to read in a binary
    file consisting of an array of C structs. For example, given this C program in
    a file called `main.c` compiled with `gcc main.c -std=gnu99` on a 64-bit machine,
  id: totrans-721
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE191]'
  id: totrans-722
  prefs: []
  type: TYPE_PRE
  zh: '[PRE191]'
- en: 'the following Python code will read the binary file `''binary.dat''` into a
    pandas `DataFrame`, where each element of the struct corresponds to a column in
    the frame:'
  id: totrans-723
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE192]'
  id: totrans-724
  prefs: []
  type: TYPE_PRE
  zh: '[PRE192]'
- en: Note
  id: totrans-725
  prefs: []
  type: TYPE_NORMAL
- en: The offsets of the structure elements may be different depending on the architecture
    of the machine on which the file was created. Using a raw binary file format like
    this for general data storage is not recommended, as it is not cross platform.
    We recommended either HDF5 or parquet, both of which are supported by pandas’
    IO facilities.
  id: totrans-726
  prefs: []
  type: TYPE_NORMAL
- en: Computation
  id: totrans-727
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[Numerical integration (sample-based) of a time series](https://nbviewer.ipython.org/gist/metakermit/5720498)'
  id: totrans-728
  prefs: []
  type: TYPE_NORMAL
- en: Correlation
  id: totrans-729
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Often it’s useful to obtain the lower (or upper) triangular form of a correlation
    matrix calculated from [`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr"). This can be achieved by passing a boolean mask to `where`
    as follows:'
  id: totrans-730
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE193]'
  id: totrans-731
  prefs: []
  type: TYPE_PRE
  zh: '[PRE193]'
- en: The `method` argument within `DataFrame.corr` can accept a callable in addition
    to the named correlation types. Here we compute the [distance correlation](https://en.wikipedia.org/wiki/Distance_correlation)
    matrix for a `DataFrame` object.
  id: totrans-732
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE194]'
  id: totrans-733
  prefs: []
  type: TYPE_PRE
  zh: '[PRE194]'
- en: Correlation
  id: totrans-734
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Often it’s useful to obtain the lower (or upper) triangular form of a correlation
    matrix calculated from [`DataFrame.corr()`](../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr
    "pandas.DataFrame.corr"). This can be achieved by passing a boolean mask to `where`
    as follows:'
  id: totrans-735
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE195]'
  id: totrans-736
  prefs: []
  type: TYPE_PRE
  zh: '[PRE195]'
- en: The `method` argument within `DataFrame.corr` can accept a callable in addition
    to the named correlation types. Here we compute the [distance correlation](https://en.wikipedia.org/wiki/Distance_correlation)
    matrix for a `DataFrame` object.
  id: totrans-737
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE196]'
  id: totrans-738
  prefs: []
  type: TYPE_PRE
  zh: '[PRE196]'
- en: Timedeltas
  id: totrans-739
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The [Timedeltas](timedeltas.html#timedeltas-timedeltas) docs.
  id: totrans-740
  prefs: []
  type: TYPE_NORMAL
- en: '[Using timedeltas](https://github.com/pandas-dev/pandas/pull/2899)'
  id: totrans-741
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE197]'
  id: totrans-742
  prefs: []
  type: TYPE_PRE
  zh: '[PRE197]'
- en: '[Adding and subtracting deltas and dates](https://stackoverflow.com/questions/16385785/add-days-to-dates-in-dataframe)'
  id: totrans-743
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE198]'
  id: totrans-744
  prefs: []
  type: TYPE_PRE
  zh: '[PRE198]'
- en: '[Another example](https://stackoverflow.com/questions/15683588/iterating-through-a-pandas-dataframe)'
  id: totrans-745
  prefs: []
  type: TYPE_NORMAL
- en: Values can be set to NaT using np.nan, similar to datetime
  id: totrans-746
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE199]'
  id: totrans-747
  prefs: []
  type: TYPE_PRE
  zh: '[PRE199]'
- en: Creating example data
  id: totrans-748
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To create a dataframe from every combination of some given values, like R’s
    `expand.grid()` function, we can create a dict where the keys are column names
    and the values are lists of the data values:'
  id: totrans-749
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE200]'
  id: totrans-750
  prefs: []
  type: TYPE_PRE
  zh: '[PRE200]'
- en: Constant series
  id: totrans-751
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To assess if a series has a constant value, we can check if `series.nunique()
    <= 1`. However, a more performant approach, that does not count all unique values
    first, is:'
  id: totrans-752
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE201]'
  id: totrans-753
  prefs: []
  type: TYPE_PRE
  zh: '[PRE201]'
- en: 'This approach assumes that the series does not contain missing values. For
    the case that we would drop NA values, we can simply remove those values first:'
  id: totrans-754
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE202]'
  id: totrans-755
  prefs: []
  type: TYPE_PRE
  zh: '[PRE202]'
- en: 'If missing values are considered distinct from any other value, then one could
    use:'
  id: totrans-756
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE203]'
  id: totrans-757
  prefs: []
  type: TYPE_PRE
  zh: '[PRE203]'
- en: (Note that this example does not disambiguate between `np.nan`, `pd.NA` and
    `None`)
  id: totrans-758
  prefs: []
  type: TYPE_NORMAL
