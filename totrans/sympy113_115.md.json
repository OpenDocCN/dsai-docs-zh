["```py\nsympy.matrices.sparsetools._doktocsr()\n```", "```py\n>>> from sympy.matrices.sparsetools import _doktocsr\n>>> from sympy import SparseMatrix, diag\n>>> m = SparseMatrix(diag(1, 2, 3))\n>>> m[2, 0] = -1\n>>> _doktocsr(m)\n[[1, 2, -1, 3], [0, 1, 0, 2], [0, 1, 2, 4], [3, 3]] \n```", "```py\nsympy.matrices.sparsetools._csrtodok()\n```", "```py\n>>> from sympy.matrices.sparsetools import _csrtodok\n>>> _csrtodok([[5, 8, 3, 6], [0, 1, 2, 1], [0, 0, 2, 3, 4], [4, 3]])\nMatrix([\n[0, 0, 0],\n[5, 8, 0],\n[0, 0, 3],\n[0, 6, 0]]) \n```", "```py\nsympy.matrices.sparsetools.banded(**kwargs)\n```", "```py\n>>> from sympy import banded, ones, Matrix\n>>> from sympy.abc import x \n```", "```py\n>>> banded({1: (1, 2, 3), -1: (4, 5, 6), 0: x})\nMatrix([\n[x, 1, 0, 0],\n[4, x, 2, 0],\n[0, 5, x, 3],\n[0, 0, 6, x]]) \n```", "```py\n>>> s = lambda d: (1 + d)**2\n>>> banded(5, {0: s, 2: s, -2: 2})\nMatrix([\n[1, 0, 1,  0,  0],\n[0, 4, 0,  4,  0],\n[2, 0, 9,  0,  9],\n[0, 2, 0, 16,  0],\n[0, 0, 2,  0, 25]]) \n```", "```py\n>>> vert = Matrix([1, 2, 3])\n>>> banded({0: vert}, cols=3)\nMatrix([\n[1, 0, 0],\n[2, 1, 0],\n[3, 2, 1],\n[0, 3, 2],\n[0, 0, 3]]) \n```", "```py\n>>> banded(4, {0: ones(2)})\nMatrix([\n[1, 1, 0, 0],\n[1, 1, 0, 0],\n[0, 0, 1, 1],\n[0, 0, 1, 1]]) \n```", "```py\n>>> banded({0: 2, 1: ones(2)}, rows=5)\nTraceback (most recent call last):\n...\nValueError:\nsequence does not fit an integral number of times in the matrix \n```", "```py\n>>> banded(4, {0: 2, 1: ones(2)})  # trying to make 4x4 and cols must be odd\nTraceback (most recent call last):\n...\nValueError:\nsequence does not fit an integral number of times in the matrix \n```", "```py\n>>> banded({0: 2, 2: (ones(2),)*3})\nMatrix([\n[2, 0, 1, 1, 0, 0, 0, 0],\n[0, 2, 1, 1, 0, 0, 0, 0],\n[0, 0, 2, 0, 1, 1, 0, 0],\n[0, 0, 0, 2, 1, 1, 0, 0],\n[0, 0, 0, 0, 2, 0, 1, 1],\n[0, 0, 0, 0, 0, 2, 1, 1]]) \n```", "```py\n>>> banded({0: (2,)*5, 1: (ones(2),)*3})\nTraceback (most recent call last):\n...\nValueError: collision at (1, 1) \n```", "```py\n>>> u2 = Matrix([\n... [1, 1],\n... [0, 1]])\n>>> banded({0: [2]*5, 1: [u2]*3})\nMatrix([\n[2, 1, 1, 0, 0, 0, 0],\n[0, 2, 1, 0, 0, 0, 0],\n[0, 0, 2, 1, 1, 0, 0],\n[0, 0, 0, 2, 1, 0, 0],\n[0, 0, 0, 0, 2, 1, 1],\n[0, 0, 0, 0, 0, 0, 1]]) \n```"]