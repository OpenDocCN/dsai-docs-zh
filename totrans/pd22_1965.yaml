- en: Version 0.15.1 (November 9, 2014)
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 版本0.15.1（2014年11月9日）
- en: 原文：[https://pandas.pydata.org/docs/whatsnew/v0.15.1.html](https://pandas.pydata.org/docs/whatsnew/v0.15.1.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://pandas.pydata.org/docs/whatsnew/v0.15.1.html](https://pandas.pydata.org/docs/whatsnew/v0.15.1.html)
- en: This is a minor bug-fix release from 0.15.0 and includes a small number of API
    changes, several new features, enhancements, and performance improvements along
    with a large number of bug fixes. We recommend that all users upgrade to this
    version.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 这是从0.15.0版本中的一个小bug修复版本，包括少量API更改、几个新功能、增强和性能改进以及大量的bug修复。我们建议所有用户升级到此版本。
- en: '[Enhancements](#whatsnew-0151-enhancements)'
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[增强](#whatsnew-0151-enhancements)'
- en: '[API Changes](#whatsnew-0151-api)'
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[API变更](#whatsnew-0151-api)'
- en: '[Bug Fixes](#whatsnew-0151-bug-fixes)'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[Bug修复](#whatsnew-0151-bug-fixes)'
- en: '## API changes'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '## API变更'
- en: '`s.dt.hour` and other `.dt` accessors will now return `np.nan` for missing
    values (rather than previously -1), ([GH 8689](https://github.com/pandas-dev/pandas/issues/8689))'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`s.dt.hour`和其他`.dt`访问器现在将对缺失值返回`np.nan`（而不是以前的-1），([GH 8689](https://github.com/pandas-dev/pandas/issues/8689))'
- en: '[PRE0]'
  id: totrans-8
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'previous behavior:'
  id: totrans-9
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以前的行为：
- en: '[PRE1]'
  id: totrans-10
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'current behavior:'
  id: totrans-11
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE2]'
  id: totrans-12
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '`groupby` with `as_index=False` will not add erroneous extra columns to result
    ([GH 8582](https://github.com/pandas-dev/pandas/issues/8582)):'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 带有`as_index=False`的`groupby`将不会向结果添加错误的额外列 ([GH 8582](https://github.com/pandas-dev/pandas/issues/8582))：
- en: '[PRE3]'
  id: totrans-14
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'previous behavior:'
  id: totrans-15
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以前的行为：
- en: '[PRE4]'
  id: totrans-16
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'current behavior:'
  id: totrans-17
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE5]'
  id: totrans-18
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '`groupby` will not erroneously exclude columns if the column name conflicts
    with the grouper name ([GH 8112](https://github.com/pandas-dev/pandas/issues/8112)):'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果列名与分组器名称冲突，`groupby`将不会错误地排除列 ([GH 8112](https://github.com/pandas-dev/pandas/issues/8112))：
- en: '[PRE6]'
  id: totrans-20
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'previous behavior (excludes 1st column from output):'
  id: totrans-21
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以前的行为（不包括输出的第一列）：
- en: '[PRE7]'
  id: totrans-22
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'current behavior:'
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE8]'
  id: totrans-24
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Support for slicing with monotonic decreasing indexes, even if `start` or `stop`
    is not found in the index ([GH 7860](https://github.com/pandas-dev/pandas/issues/7860)):'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持使用单调递减索引进行切片，即使`start`或`stop`在索引中找不到 ([GH 7860](https://github.com/pandas-dev/pandas/issues/7860))：
- en: '[PRE9]'
  id: totrans-26
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'previous behavior:'
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以前的行为：
- en: '[PRE10]'
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'current behavior:'
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE11]'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '`io.data.Options` has been fixed for a change in the format of the Yahoo Options
    page ([GH 8612](https://github.com/pandas-dev/pandas/issues/8612)), ([GH 8741](https://github.com/pandas-dev/pandas/issues/8741))'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`io.data.Options`已针对Yahoo Options页面格式的更改进行修复 ([GH 8612](https://github.com/pandas-dev/pandas/issues/8612)),
    ([GH 8741](https://github.com/pandas-dev/pandas/issues/8741))'
- en: Note
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: As a result of a change in Yahoo’s option page layout, when an expiry date is
    given, `Options` methods now return data for a single expiry date. Previously,
    methods returned all data for the selected month.
  id: totrans-33
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 由于Yahoo期权页面布局的更改，现在给定到期日期时，`Options`方法现在返回单个到期日期的数据。以前，方法返回所选月份的所有数据。
- en: The `month` and `year` parameters have been undeprecated and can be used to
    get all options data for a given month.
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`month`和`year`参数已取消弃用，可以用于获取给定月份的所有期权数据。'
- en: If an expiry date that is not valid is given, data for the next expiry after
    the given date is returned.
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果给定的到期日期无效，则返回给定日期后的下一个到期日期的数据。
- en: Option data frames are now saved on the instance as `callsYYMMDD` or `putsYYMMDD`.
    Previously they were saved as `callsMMYY` and `putsMMYY`. The next expiry is saved
    as `calls` and `puts`.
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 期权数据框现在以`callsYYMMDD`或`putsYYMMDD`的形式保存在实例上。以前它们保存为`callsMMYY`和`putsMMYY`。下一个到期日期保存为`calls`和`puts`。
- en: 'New features:'
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 新功能：
- en: The expiry parameter can now be a single date or a list-like object containing
    dates.
  id: totrans-38
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，过期参数可以是单个日期或包含日期的类似列表的对象。
- en: A new property `expiry_dates` was added, which returns all available expiry
    dates.
  id: totrans-39
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了一个新属性`expiry_dates`，返回所有可用的到期日期。
- en: 'Current behavior:'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE12]'
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'pandas now also registers the `datetime64` dtype in matplotlib’s units registry
    to plot such values as datetimes. This is activated once pandas is imported. In
    previous versions, plotting an array of `datetime64` values will have resulted
    in plotted integer values. To keep the previous behaviour, you can do `del matplotlib.units.registry[np.datetime64]`
    ([GH 8614](https://github.com/pandas-dev/pandas/issues/8614)).  ## Enhancements'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: pandas现在还在matplotlib的单位注册表中注册了`datetime64`数据类型，以便将这些值作为日期时间绘制。这在导入pandas后激活。在先前的版本中，绘制`datetime64`值的数组将导致绘制整数值。要保持先前的行为，可以执行`del
    matplotlib.units.registry[np.datetime64]` ([GH 8614](https://github.com/pandas-dev/pandas/issues/8614))。
- en: '`concat` permits a wider variety of iterables of pandas objects to be passed
    as the first parameter ([GH 8645](https://github.com/pandas-dev/pandas/issues/8645)):'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`concat`允许将更广泛的pandas对象的可迭代对象作为第一个参数传递 ([GH 8645](https://github.com/pandas-dev/pandas/issues/8645))：'
- en: '[PRE13]'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'previous behavior:'
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 之前的行为：
- en: '[PRE14]'
  id: totrans-46
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'current behavior:'
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE15]'
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Represent `MultiIndex` labels with a dtype that utilizes memory based on the
    level size. In prior versions, the memory usage was a constant 8 bytes per element
    in each level. In addition, in prior versions, the *reported* memory usage was
    incorrect as it didn’t show the usage for the memory occupied by the underling
    data array. ([GH 8456](https://github.com/pandas-dev/pandas/issues/8456))
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用占据基于级别大小的内存的 dtype 来表示 `MultiIndex` 标签。在之前的版本中，每个级别中每个元素的内存使用量是一个常量 8 字节。此外，在之前的版本中，*报告的*内存使用量是不正确的，因为它没有显示底层数据数组占用的内存。
    ([GH 8456](https://github.com/pandas-dev/pandas/issues/8456))
- en: '[PRE16]'
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'previous behavior:'
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 之前的行为：
- en: '[PRE17]'
  id: totrans-52
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'current behavior:'
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE18]'
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Added Index properties `is_monotonic_increasing` and `is_monotonic_decreasing`
    ([GH 8680](https://github.com/pandas-dev/pandas/issues/8680)).
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了 Index 属性 `is_monotonic_increasing` 和 `is_monotonic_decreasing` ([GH 8680](https://github.com/pandas-dev/pandas/issues/8680)).
- en: Added option to select columns when importing Stata files ([GH 7935](https://github.com/pandas-dev/pandas/issues/7935))
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在导入 Stata 文件时添加了选择列的选项 ([GH 7935](https://github.com/pandas-dev/pandas/issues/7935))
- en: Qualify memory usage in `DataFrame.info()` by adding `+` if it is a lower bound
    ([GH 8578](https://github.com/pandas-dev/pandas/issues/8578))
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过添加 `+` 来限定 `DataFrame.info()` 中的内存使用情况，如果它是一个下界 ([GH 8578](https://github.com/pandas-dev/pandas/issues/8578))
- en: Raise errors in certain aggregation cases where an argument such as `numeric_only`
    is not handled ([GH 8592](https://github.com/pandas-dev/pandas/issues/8592)).
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在某些聚合情况下引发错误，例如处理 `numeric_only` 这样的参数时未处理 ([GH 8592](https://github.com/pandas-dev/pandas/issues/8592)).
- en: Added support for 3-character ISO and non-standard country codes in `io.wb.download()`
    ([GH 8482](https://github.com/pandas-dev/pandas/issues/8482))
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `io.wb.download()` 中增加了对 3 字符 ISO 和非标准国家代码的支持 ([GH 8482](https://github.com/pandas-dev/pandas/issues/8482))
- en: World Bank data requests now will warn/raise based on an `errors` argument,
    as well as a list of hard-coded country codes and the World Bank’s JSON response.
    In prior versions, the error messages didn’t look at the World Bank’s JSON response.
    Problem-inducing input were simply dropped prior to the request. The issue was
    that many good countries were cropped in the hard-coded approach. All countries
    will work now, but some bad countries will raise exceptions because some edge
    cases break the entire response. ([GH 8482](https://github.com/pandas-dev/pandas/issues/8482))
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在世界银行数据请求将根据一个 `errors` 参数进行警告/报错，以及一个硬编码的国家代码列表和世界银行的 JSON 响应。在之前的版本中，错误信息并未查看世界银行的
    JSON 响应。在请求之前，有问题的输入仅仅被简单地丢弃。问题在于许多好的国家在硬编码方法中被截断了。现在所有国家都可以工作了，但一些不好的国家将会引发异常，因为一些边缘情况会破坏整个响应。
    ([GH 8482](https://github.com/pandas-dev/pandas/issues/8482))
- en: Added option to `Series.str.split()` to return a `DataFrame` rather than a `Series`
    ([GH 8428](https://github.com/pandas-dev/pandas/issues/8428))
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了一个选项到 `Series.str.split()`，可以返回一个 `DataFrame` 而不是一个 `Series` ([GH 8428](https://github.com/pandas-dev/pandas/issues/8428))
- en: 'Added option to `df.info(null_counts=None|True|False)` to override the default
    display options and force showing of the null-counts ([GH 8701](https://github.com/pandas-dev/pandas/issues/8701))  ##
    Bug fixes'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '添加了一个选项到 `df.info(null_counts=None|True|False)` 来覆盖默认的显示选项，并强制显示空值计数 ([GH 8701](https://github.com/pandas-dev/pandas/issues/8701))  ##
    修复错误'
- en: Bug in unpickling of a `CustomBusinessDay` object ([GH 8591](https://github.com/pandas-dev/pandas/issues/8591))
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在反序列化 `CustomBusinessDay` 对象时出现错误 ([GH 8591](https://github.com/pandas-dev/pandas/issues/8591))
- en: Bug in coercing `Categorical` to a records array, e.g. `df.to_records()` ([GH
    8626](https://github.com/pandas-dev/pandas/issues/8626))
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在强制将 `Categorical` 转换为记录数组时出现错误，例如 `df.to_records()` ([GH 8626](https://github.com/pandas-dev/pandas/issues/8626))
- en: Bug in `Categorical` not created properly with `Series.to_frame()` ([GH 8626](https://github.com/pandas-dev/pandas/issues/8626))
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `Series.to_frame()` 时，`Categorical` 没有被正确创建的错误 ([GH 8626](https://github.com/pandas-dev/pandas/issues/8626))
- en: Bug in coercing in astype of a `Categorical` of a passed `pd.Categorical` (this
    now raises `TypeError` correctly), ([GH 8626](https://github.com/pandas-dev/pandas/issues/8626))
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在传递 `pd.Categorical` 的情况下，`Categorical` 的 `astype` 强制转换中出现错误（现在会正确地引发 `TypeError`），([GH
    8626](https://github.com/pandas-dev/pandas/issues/8626))
- en: Bug in `cut`/`qcut` when using `Series` and `retbins=True` ([GH 8589](https://github.com/pandas-dev/pandas/issues/8589))
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `Series` 和 `retbins=True` 时，`cut`/`qcut` 出现错误 ([GH 8589](https://github.com/pandas-dev/pandas/issues/8589))
- en: Bug in writing Categorical columns to an SQL database with `to_sql` ([GH 8624](https://github.com/pandas-dev/pandas/issues/8624)).
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `to_sql` 将分类列写入 SQL 数据库时出现错误 ([GH 8624](https://github.com/pandas-dev/pandas/issues/8624)).
- en: Bug in comparing `Categorical` of datetime raising when being compared to a
    scalar datetime ([GH 8687](https://github.com/pandas-dev/pandas/issues/8687))
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了比较 `Categorical` 日期时引发错误的问题，当它与标量日期进行比较时（[GH 8687](https://github.com/pandas-dev/pandas/issues/8687)）。
- en: Bug in selecting from a `Categorical` with `.iloc` ([GH 8623](https://github.com/pandas-dev/pandas/issues/8623))
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `.iloc` 从 `Categorical` 中选择时修复了一个错误（[GH 8623](https://github.com/pandas-dev/pandas/issues/8623)）。
- en: Bug in groupby-transform with a Categorical ([GH 8623](https://github.com/pandas-dev/pandas/issues/8623))
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有 Categorical 的 groupby-transform 中修复了一个错误（[GH 8623](https://github.com/pandas-dev/pandas/issues/8623)）。
- en: Bug in duplicated/drop_duplicates with a Categorical ([GH 8623](https://github.com/pandas-dev/pandas/issues/8623))
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有 Categorical 的重复/drop_duplicates 中修复了一个错误（[GH 8623](https://github.com/pandas-dev/pandas/issues/8623)）。
- en: Bug in `Categorical` reflected comparison operator raising if the first argument
    was a numpy array scalar (e.g. np.int64) ([GH 8658](https://github.com/pandas-dev/pandas/issues/8658))
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Categorical` 反映比较运算符时，若第一个参数是 numpy 数组标量（例如 np.int64），引发错误已修复（[GH 8658](https://github.com/pandas-dev/pandas/issues/8658)）。
- en: Bug in Panel indexing with a list-like ([GH 8710](https://github.com/pandas-dev/pandas/issues/8710))
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Panel 使用类似列表的索引时修复了一个错误（[GH 8710](https://github.com/pandas-dev/pandas/issues/8710)）。
- en: Compat issue is `DataFrame.dtypes` when `options.mode.use_inf_as_null` is True
    ([GH 8722](https://github.com/pandas-dev/pandas/issues/8722))
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `options.mode.use_inf_as_null` 为 True 时，修复了 `DataFrame.dtypes` 的兼容性问题（[GH
    8722](https://github.com/pandas-dev/pandas/issues/8722)）。
- en: Bug in `read_csv`, `dialect` parameter would not take a string ([GH 8703](https://github.com/pandas-dev/pandas/issues/8703))
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 `read_csv` 中，`dialect` 参数无法接受字符串的错误（[GH 8703](https://github.com/pandas-dev/pandas/issues/8703)）。
- en: Bug in slicing a MultiIndex level with an empty-list ([GH 8737](https://github.com/pandas-dev/pandas/issues/8737))
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用空列表对 MultiIndex 级别进行切片时修复了一个错误（[GH 8737](https://github.com/pandas-dev/pandas/issues/8737)）。
- en: Bug in numeric index operations of add/sub with Float/Index Index with numpy
    arrays ([GH 8608](https://github.com/pandas-dev/pandas/issues/8608))
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 Float/Index Index 和 numpy 数组进行数值索引操作时修复了一个错误（[GH 8608](https://github.com/pandas-dev/pandas/issues/8608)）。
- en: Bug in setitem with empty indexer and unwanted coercion of dtypes ([GH 8669](https://github.com/pandas-dev/pandas/issues/8669))
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用空索引器和不需要的 dtype 强制转换时的 setitem 错误（[GH 8669](https://github.com/pandas-dev/pandas/issues/8669)）。
- en: Bug in ix/loc block splitting on setitem (manifests with integer-like dtypes,
    e.g. datetime64) ([GH 8607](https://github.com/pandas-dev/pandas/issues/8607))
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 ix/loc 进行分块设置时出现的错误（表现为整数样式的 dtype，例如 datetime64）已经修复（[GH 8607](https://github.com/pandas-dev/pandas/issues/8607)）。
- en: Bug when doing label based indexing with integers not found in the index for
    non-unique but monotonic indexes ([GH 8680](https://github.com/pandas-dev/pandas/issues/8680)).
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在非唯一但单调索引上进行基于标签的索引时，修复了使用整数进行索引的错误（[GH 8680](https://github.com/pandas-dev/pandas/issues/8680)）。
- en: Bug when indexing a Float64Index with `np.nan` on numpy 1.7 ([GH 8980](https://github.com/pandas-dev/pandas/issues/8980)).
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在 numpy 1.7 上使用 `np.nan` 对 Float64Index 进行索引时的错误（[GH 8980](https://github.com/pandas-dev/pandas/issues/8980)）。
- en: Fix `shape` attribute for `MultiIndex` ([GH 8609](https://github.com/pandas-dev/pandas/issues/8609))
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 `MultiIndex` 的 `shape` 属性（[GH 8609](https://github.com/pandas-dev/pandas/issues/8609)）。
- en: Bug in `GroupBy` where a name conflict between the grouper and columns would
    break `groupby` operations ([GH 7115](https://github.com/pandas-dev/pandas/issues/7115),
    [GH 8112](https://github.com/pandas-dev/pandas/issues/8112))
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `GroupBy` 中出现的名称冲突问题已修复，此问题会导致 grouper 和列之间的名称冲突破坏 `groupby` 操作（[GH 7115](https://github.com/pandas-dev/pandas/issues/7115)，[GH
    8112](https://github.com/pandas-dev/pandas/issues/8112)）。
- en: Fixed a bug where plotting a column `y` and specifying a label would mutate
    the index name of the original DataFrame ([GH 8494](https://github.com/pandas-dev/pandas/issues/8494))
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了绘制列 `y` 并指定标签时改变原始 DataFrame 索引名称的错误（[GH 8494](https://github.com/pandas-dev/pandas/issues/8494)）。
- en: Fix regression in plotting of a DatetimeIndex directly with matplotlib ([GH
    8614](https://github.com/pandas-dev/pandas/issues/8614)).
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用 matplotlib 直接绘制 DatetimeIndex 时的回归问题（[GH 8614](https://github.com/pandas-dev/pandas/issues/8614)）。
- en: Bug in `date_range` where partially-specified dates would incorporate current
    date ([GH 6961](https://github.com/pandas-dev/pandas/issues/6961))
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在 `date_range` 中，部分指定日期会包含当前日期的错误（[GH 6961](https://github.com/pandas-dev/pandas/issues/6961)）。
- en: Bug in Setting by indexer to a scalar value with a mixed-dtype `Panel4d` was
    failing ([GH 8702](https://github.com/pandas-dev/pandas/issues/8702))
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用索引器对具有混合 dtype 的 `Panel4d` 进行设置为标量值时失败的错误（[GH 8702](https://github.com/pandas-dev/pandas/issues/8702)）。
- en: Bug where `DataReader`’s would fail if one of the symbols passed was invalid.
    Now returns data for valid symbols and np.nan for invalid ([GH 8494](https://github.com/pandas-dev/pandas/issues/8494))
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果传递的符号中有一个无效，则`DataReader`将失败的错误。现在为有效符号返回数据，对于无效符号返回np.nan（[GH 8494](https://github.com/pandas-dev/pandas/issues/8494)）
- en: 'Bug in `get_quote_yahoo` that wouldn’t allow non-float return values ([GH 5229](https://github.com/pandas-dev/pandas/issues/5229)).  ##
    Contributors'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`get_quote_yahoo`中的错误，不允许非浮点返回值（[GH 5229](https://github.com/pandas-dev/pandas/issues/5229)）。  ##
    贡献者'
- en: A total of 23 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 总共有23人为此版本贡献了补丁。名字后面带有“+”的人第一次贡献了补丁。
- en: Aaron Staple +
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Aaron Staple +
- en: Andrew Rosenfeld
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Rosenfeld
- en: Anton I. Sipos
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anton I. Sipos
- en: Artemy Kolchinsky
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Artemy Kolchinsky
- en: Bill Letson +
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bill Letson +
- en: Dave Hughes +
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dave Hughes +
- en: David Stephens
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Stephens
- en: Guillaume Horel +
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Guillaume Horel +
- en: Jeff Reback
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeff Reback
- en: Joris Van den Bossche
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Van den Bossche
- en: Kevin Sheppard
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kevin Sheppard
- en: Nick Stahl +
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nick Stahl +
- en: Sanghee Kim +
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Sanghee Kim + '
- en: Stephan Hoyer
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stephan Hoyer
- en: Tom Augspurger
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tom Augspurger
- en: TomAugspurger
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: TomAugspurger
- en: WANG Aiyong +
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 王爱勇 +
- en: behzad nouri
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: behzad nouri
- en: immerrr
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: immerrr
- en: jnmclarty
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jnmclarty
- en: jreback
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jreback
- en: pallav-fdsi +
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: pallav-fdsi +
- en: 'unutbu  ## API changes'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'unutbu  ## API更改'
- en: '`s.dt.hour` and other `.dt` accessors will now return `np.nan` for missing
    values (rather than previously -1), ([GH 8689](https://github.com/pandas-dev/pandas/issues/8689))'
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`s.dt.hour`和其他`.dt`访问器现在将对缺失值返回`np.nan`（而不是以前的-1），（[GH 8689](https://github.com/pandas-dev/pandas/issues/8689)）'
- en: '[PRE19]'
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'previous behavior:'
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以前的行为：
- en: '[PRE20]'
  id: totrans-118
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'current behavior:'
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE21]'
  id: totrans-120
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: '`groupby` with `as_index=False` will not add erroneous extra columns to result
    ([GH 8582](https://github.com/pandas-dev/pandas/issues/8582)):'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`groupby`与`as_index=False`不会向结果添加错误的额外列（[GH 8582](https://github.com/pandas-dev/pandas/issues/8582)）：'
- en: '[PRE22]'
  id: totrans-122
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'previous behavior:'
  id: totrans-123
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以前的行为：
- en: '[PRE23]'
  id: totrans-124
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'current behavior:'
  id: totrans-125
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE24]'
  id: totrans-126
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '`groupby` will not erroneously exclude columns if the column name conflicts
    with the grouper name ([GH 8112](https://github.com/pandas-dev/pandas/issues/8112)):'
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果列名与分组器名称冲突，`groupby`不会错误地排除列（[GH 8112](https://github.com/pandas-dev/pandas/issues/8112)）：
- en: '[PRE25]'
  id: totrans-128
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'previous behavior (excludes 1st column from output):'
  id: totrans-129
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以前的行为（从输出中排除第一列）：
- en: '[PRE26]'
  id: totrans-130
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'current behavior:'
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE27]'
  id: totrans-132
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Support for slicing with monotonic decreasing indexes, even if `start` or `stop`
    is not found in the index ([GH 7860](https://github.com/pandas-dev/pandas/issues/7860)):'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持使用单调递减索引进行切片，即使`start`或`stop`在索引中找不到（[GH 7860](https://github.com/pandas-dev/pandas/issues/7860)）：
- en: '[PRE28]'
  id: totrans-134
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'previous behavior:'
  id: totrans-135
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以前的行为：
- en: '[PRE29]'
  id: totrans-136
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'current behavior:'
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE30]'
  id: totrans-138
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE30]'
- en: '`io.data.Options` has been fixed for a change in the format of the Yahoo Options
    page ([GH 8612](https://github.com/pandas-dev/pandas/issues/8612)), ([GH 8741](https://github.com/pandas-dev/pandas/issues/8741))'
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`io.data.Options`已针对Yahoo Options页面格式的更改进行修复（[GH 8612](https://github.com/pandas-dev/pandas/issues/8612)），（[GH
    8741](https://github.com/pandas-dev/pandas/issues/8741)）'
- en: Note
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: As a result of a change in Yahoo’s option page layout, when an expiry date is
    given, `Options` methods now return data for a single expiry date. Previously,
    methods returned all data for the selected month.
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 由于Yahoo期权页面布局的更改，当给定到期日期时，`Options`方法现在返回单个到期日期的数据。以前，方法返回所选月份的所有数据。
- en: The `month` and `year` parameters have been undeprecated and can be used to
    get all options data for a given month.
  id: totrans-142
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`month`和`year`参数已取消弃用，可用于获取给定月份的所有期权数据。'
- en: If an expiry date that is not valid is given, data for the next expiry after
    the given date is returned.
  id: totrans-143
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果给定了无效的到期日期，则返回给定日期后的下一个到期日期的数据。
- en: Option data frames are now saved on the instance as `callsYYMMDD` or `putsYYMMDD`.
    Previously they were saved as `callsMMYY` and `putsMMYY`. The next expiry is saved
    as `calls` and `puts`.
  id: totrans-144
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 期权数据框现在保存在实例上，命名为`callsYYMMDD`或`putsYYMMDD`。以前它们保存为`callsMMYY`和`putsMMYY`。下一个到期日期保存为`calls`和`puts`。
- en: 'New features:'
  id: totrans-145
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 新功能：
- en: The expiry parameter can now be a single date or a list-like object containing
    dates.
  id: totrans-146
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 到期参数现在可以是单个日期或包含日期的类似列表对象。
- en: A new property `expiry_dates` was added, which returns all available expiry
    dates.
  id: totrans-147
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了一个新属性`expiry_dates`，返回所有可用的到期日期。
- en: 'Current behavior:'
  id: totrans-148
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE31]'
  id: totrans-149
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE31]'
- en: pandas now also registers the `datetime64` dtype in matplotlib’s units registry
    to plot such values as datetimes. This is activated once pandas is imported. In
    previous versions, plotting an array of `datetime64` values will have resulted
    in plotted integer values. To keep the previous behaviour, you can do `del matplotlib.units.registry[np.datetime64]`
    ([GH 8614](https://github.com/pandas-dev/pandas/issues/8614)).
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: pandas现在还在matplotlib的单位注册表中注册了`datetime64` dtype，以便绘制这样的值作为日期时间。这在导入pandas后激活。在以前的版本中，绘制`datetime64`值数组将导致绘制整数值。要保持以前的行为，可以执行`del
    matplotlib.units.registry[np.datetime64]`（[GH 8614](https://github.com/pandas-dev/pandas/issues/8614)）。
- en: '## Enhancements'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: '## 增强功能'
- en: '`concat` permits a wider variety of iterables of pandas objects to be passed
    as the first parameter ([GH 8645](https://github.com/pandas-dev/pandas/issues/8645)):'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`concat`允许传递更广泛的pandas对象的可迭代作为第一个参数（[GH 8645](https://github.com/pandas-dev/pandas/issues/8645)）:'
- en: '[PRE32]'
  id: totrans-153
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'previous behavior:'
  id: totrans-154
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 先前行为：
- en: '[PRE33]'
  id: totrans-155
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'current behavior:'
  id: totrans-156
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE34]'
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE34]'
- en: Represent `MultiIndex` labels with a dtype that utilizes memory based on the
    level size. In prior versions, the memory usage was a constant 8 bytes per element
    in each level. In addition, in prior versions, the *reported* memory usage was
    incorrect as it didn’t show the usage for the memory occupied by the underling
    data array. ([GH 8456](https://github.com/pandas-dev/pandas/issues/8456))
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用一种利用基于级别大小的内存的dtype来表示`MultiIndex`标签。在之前的版本中，每个级别中的每个元素的内存使用量是一个恒定的8字节。此外，在之前的版本中，*报告的*内存使用量是不正确的，因为它没有显示底层数据数组占用的内存使用量。([GH
    8456](https://github.com/pandas-dev/pandas/issues/8456))
- en: '[PRE35]'
  id: totrans-159
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'previous behavior:'
  id: totrans-160
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 先前行为：
- en: '[PRE36]'
  id: totrans-161
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'current behavior:'
  id: totrans-162
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当前行为：
- en: '[PRE37]'
  id: totrans-163
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE37]'
- en: Added Index properties `is_monotonic_increasing` and `is_monotonic_decreasing`
    ([GH 8680](https://github.com/pandas-dev/pandas/issues/8680)).
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了Index属性`is_monotonic_increasing`和`is_monotonic_decreasing`（[GH 8680](https://github.com/pandas-dev/pandas/issues/8680)）
- en: Added option to select columns when importing Stata files ([GH 7935](https://github.com/pandas-dev/pandas/issues/7935))
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在导入Stata文件时添加了选择列的选项（[GH 7935](https://github.com/pandas-dev/pandas/issues/7935)）
- en: Qualify memory usage in `DataFrame.info()` by adding `+` if it is a lower bound
    ([GH 8578](https://github.com/pandas-dev/pandas/issues/8578))
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`DataFrame.info()`中通过添加`+`来限定内存使用量，如果是下限的话（[GH 8578](https://github.com/pandas-dev/pandas/issues/8578)）
- en: Raise errors in certain aggregation cases where an argument such as `numeric_only`
    is not handled ([GH 8592](https://github.com/pandas-dev/pandas/issues/8592)).
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在某些聚合情况下引发错误，例如未处理`numeric_only`等参数（[GH 8592](https://github.com/pandas-dev/pandas/issues/8592)）
- en: Added support for 3-character ISO and non-standard country codes in `io.wb.download()`
    ([GH 8482](https://github.com/pandas-dev/pandas/issues/8482))
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`io.wb.download()`中添加了对3字符ISO和非标准国家代码的支持（[GH 8482](https://github.com/pandas-dev/pandas/issues/8482)）
- en: World Bank data requests now will warn/raise based on an `errors` argument,
    as well as a list of hard-coded country codes and the World Bank’s JSON response.
    In prior versions, the error messages didn’t look at the World Bank’s JSON response.
    Problem-inducing input were simply dropped prior to the request. The issue was
    that many good countries were cropped in the hard-coded approach. All countries
    will work now, but some bad countries will raise exceptions because some edge
    cases break the entire response. ([GH 8482](https://github.com/pandas-dev/pandas/issues/8482))
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在世界银行数据请求将根据`errors`参数发出警告/引发异常，以及硬编码的国家代码列表和世界银行的JSON响应。在之前的版本中，错误消息没有查看世界银行的JSON响应。在请求之前，会简单地删除引起问题的输入。问题在于许多好的国家在硬编码方法中被裁剪。现在所有国家都可以使用，但一些不好的国家会引发异常，因为一些边缘情况会破坏整个响应。([GH
    8482](https://github.com/pandas-dev/pandas/issues/8482))
- en: Added option to `Series.str.split()` to return a `DataFrame` rather than a `Series`
    ([GH 8428](https://github.com/pandas-dev/pandas/issues/8428))
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了选项`Series.str.split()`，可以返回`DataFrame`而不是`Series`（[GH 8428](https://github.com/pandas-dev/pandas/issues/8428)）
- en: Added option to `df.info(null_counts=None|True|False)` to override the default
    display options and force showing of the null-counts ([GH 8701](https://github.com/pandas-dev/pandas/issues/8701))
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了选项`df.info(null_counts=None|True|False)`，以覆盖默认显示选项并强制显示空值计数（[GH 8701](https://github.com/pandas-dev/pandas/issues/8701)）
- en: '## Bug fixes'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '## Bug 修复'
- en: Bug in unpickling of a `CustomBusinessDay` object ([GH 8591](https://github.com/pandas-dev/pandas/issues/8591))
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`CustomBusinessDay`对象反序列化时的错误（[GH 8591](https://github.com/pandas-dev/pandas/issues/8591)）
- en: Bug in coercing `Categorical` to a records array, e.g. `df.to_records()` ([GH
    8626](https://github.com/pandas-dev/pandas/issues/8626))
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了将`Categorical`强制转换为记录数组的错误，例如`df.to_records()`（[GH 8626](https://github.com/pandas-dev/pandas/issues/8626)）
- en: Bug in `Categorical` not created properly with `Series.to_frame()` ([GH 8626](https://github.com/pandas-dev/pandas/issues/8626))
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`Series.to_frame()`不正确创建分类数据的错误（[GH 8626](https://github.com/pandas-dev/pandas/issues/8626)）
- en: Bug in coercing in astype of a `Categorical` of a passed `pd.Categorical` (this
    now raises `TypeError` correctly), ([GH 8626](https://github.com/pandas-dev/pandas/issues/8626))
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在传递`pd.Categorical`的`Categorical`的 astype 强制转换中存在错误（现在会正确地引发`TypeError`），（[GH
    8626](https://github.com/pandas-dev/pandas/issues/8626)）
- en: Bug in `cut`/`qcut` when using `Series` and `retbins=True` ([GH 8589](https://github.com/pandas-dev/pandas/issues/8589))
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用`Series`和`retbins=True`时，使用`cut`/`qcut`存在错误（[GH 8589](https://github.com/pandas-dev/pandas/issues/8589)）
- en: Bug in writing Categorical columns to an SQL database with `to_sql` ([GH 8624](https://github.com/pandas-dev/pandas/issues/8624)).
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`to_sql`将分类列写入 SQL 数据库存在错误（[GH 8624](https://github.com/pandas-dev/pandas/issues/8624)）。
- en: Bug in comparing `Categorical` of datetime raising when being compared to a
    scalar datetime ([GH 8687](https://github.com/pandas-dev/pandas/issues/8687))
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当与标量日期时间进行比较时，比较`Categorical`日期时间时存在错误（[GH 8687](https://github.com/pandas-dev/pandas/issues/8687)）
- en: Bug in selecting from a `Categorical` with `.iloc` ([GH 8623](https://github.com/pandas-dev/pandas/issues/8623))
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`.iloc`从`Categorical`中选择存在错误（[GH 8623](https://github.com/pandas-dev/pandas/issues/8623)）
- en: Bug in groupby-transform with a Categorical ([GH 8623](https://github.com/pandas-dev/pandas/issues/8623))
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用分类数据进行 groupby-transform 存在错误（[GH 8623](https://github.com/pandas-dev/pandas/issues/8623)）
- en: Bug in duplicated/drop_duplicates with a Categorical ([GH 8623](https://github.com/pandas-dev/pandas/issues/8623))
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用分类数据时重复/删除重复项存在错误（[GH 8623](https://github.com/pandas-dev/pandas/issues/8623)）
- en: Bug in `Categorical` reflected comparison operator raising if the first argument
    was a numpy array scalar (e.g. np.int64) ([GH 8658](https://github.com/pandas-dev/pandas/issues/8658))
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在反映比较运算符的`Categorical`中存在错误，如果第一个参数是 numpy 数组标量（例如 np.int64）（[GH 8658](https://github.com/pandas-dev/pandas/issues/8658)）
- en: Bug in Panel indexing with a list-like ([GH 8710](https://github.com/pandas-dev/pandas/issues/8710))
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于类似列表的面板索引存在漏洞（[GH 8710](https://github.com/pandas-dev/pandas/issues/8710)）
- en: Compat issue is `DataFrame.dtypes` when `options.mode.use_inf_as_null` is True
    ([GH 8722](https://github.com/pandas-dev/pandas/issues/8722))
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`options.mode.use_inf_as_null`为 True 时，`DataFrame.dtypes`存在兼容性问题（[GH 8722](https://github.com/pandas-dev/pandas/issues/8722)）
- en: Bug in `read_csv`, `dialect` parameter would not take a string ([GH 8703](https://github.com/pandas-dev/pandas/issues/8703))
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`read_csv`中，`dialect`参数不接受字符串的错误（[GH 8703](https://github.com/pandas-dev/pandas/issues/8703)）
- en: Bug in slicing a MultiIndex level with an empty-list ([GH 8737](https://github.com/pandas-dev/pandas/issues/8737))
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用空列表对多级索引级别进行切片存在错误（[GH 8737](https://github.com/pandas-dev/pandas/issues/8737)）
- en: Bug in numeric index operations of add/sub with Float/Index Index with numpy
    arrays ([GH 8608](https://github.com/pandas-dev/pandas/issues/8608))
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 Float/Index 索引的数值索引操作中，存在与 numpy 数组的 add/sub 的错误（[GH 8608](https://github.com/pandas-dev/pandas/issues/8608)）
- en: Bug in setitem with empty indexer and unwanted coercion of dtypes ([GH 8669](https://github.com/pandas-dev/pandas/issues/8669))
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在空索引器的 setitem 中存在错误，并且不希望转换 dtype（[GH 8669](https://github.com/pandas-dev/pandas/issues/8669)）
- en: Bug in ix/loc block splitting on setitem (manifests with integer-like dtypes,
    e.g. datetime64) ([GH 8607](https://github.com/pandas-dev/pandas/issues/8607))
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 ix/loc 块拆分中存在错误（使用整数样式 dtype，例如 datetime64）（[GH 8607](https://github.com/pandas-dev/pandas/issues/8607)）
- en: Bug when doing label based indexing with integers not found in the index for
    non-unique but monotonic indexes ([GH 8680](https://github.com/pandas-dev/pandas/issues/8680)).
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用整数进行基于标签的索引但索引中不存在的非唯一但单调索引时存在错误（[GH 8680](https://github.com/pandas-dev/pandas/issues/8680)）。
- en: Bug when indexing a Float64Index with `np.nan` on numpy 1.7 ([GH 8980](https://github.com/pandas-dev/pandas/issues/8980)).
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用`numpy 1.7`中的`np.nan`对`Float64Index`进行索引时存在错误（[GH 8980](https://github.com/pandas-dev/pandas/issues/8980)）。
- en: Fix `shape` attribute for `MultiIndex` ([GH 8609](https://github.com/pandas-dev/pandas/issues/8609))
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了对`MultiIndex`的`shape`属性的错误（[GH 8609](https://github.com/pandas-dev/pandas/issues/8609)）
- en: Bug in `GroupBy` where a name conflict between the grouper and columns would
    break `groupby` operations ([GH 7115](https://github.com/pandas-dev/pandas/issues/7115),
    [GH 8112](https://github.com/pandas-dev/pandas/issues/8112))
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`GroupBy`中，分组器和列之间存在名称冲突将中断`groupby`操作的错误（[GH 7115](https://github.com/pandas-dev/pandas/issues/7115)，[GH
    8112](https://github.com/pandas-dev/pandas/issues/8112)）
- en: Fixed a bug where plotting a column `y` and specifying a label would mutate
    the index name of the original DataFrame ([GH 8494](https://github.com/pandas-dev/pandas/issues/8494))
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了绘制列`y`并指定标签会改变原始 DataFrame 索引名称的错误（[GH 8494](https://github.com/pandas-dev/pandas/issues/8494)）
- en: Fix regression in plotting of a DatetimeIndex directly with matplotlib ([GH
    8614](https://github.com/pandas-dev/pandas/issues/8614)).
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在使用matplotlib直接绘制DatetimeIndex时的回归问题（[GH 8614](https://github.com/pandas-dev/pandas/issues/8614)）。
- en: Bug in `date_range` where partially-specified dates would incorporate current
    date ([GH 6961](https://github.com/pandas-dev/pandas/issues/6961))
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`date_range`中部分指定日期会包含当前日期的问题（[GH 6961](https://github.com/pandas-dev/pandas/issues/6961)）
- en: Bug in Setting by indexer to a scalar value with a mixed-dtype `Panel4d` was
    failing ([GH 8702](https://github.com/pandas-dev/pandas/issues/8702))
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了将索引器设置为混合dtype `Panel4d`的标量值时失败的bug（[GH 8702](https://github.com/pandas-dev/pandas/issues/8702)）
- en: Bug where `DataReader`’s would fail if one of the symbols passed was invalid.
    Now returns data for valid symbols and np.nan for invalid ([GH 8494](https://github.com/pandas-dev/pandas/issues/8494))
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了如果传递的符号之一无效，`DataReader`会失败的bug。现在对于有效符号返回数据，对于无效符号返回np.nan（[GH 8494](https://github.com/pandas-dev/pandas/issues/8494)）
- en: Bug in `get_quote_yahoo` that wouldn’t allow non-float return values ([GH 5229](https://github.com/pandas-dev/pandas/issues/5229)).
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`get_quote_yahoo`中不允许非浮点返回值的bug（[GH 5229](https://github.com/pandas-dev/pandas/issues/5229)）。
- en: '## Contributors'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '## 贡献者'
- en: A total of 23 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 总共有23人为这个版本贡献了补丁。名字后面带有“+”的人第一次贡献了补丁。
- en: Aaron Staple +
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Aaron Staple +
- en: Andrew Rosenfeld
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Rosenfeld
- en: Anton I. Sipos
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anton I. Sipos
- en: Artemy Kolchinsky
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Artemy Kolchinsky
- en: Bill Letson +
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bill Letson +
- en: Dave Hughes +
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dave Hughes +
- en: David Stephens
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: David Stephens
- en: Guillaume Horel +
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Guillaume Horel +
- en: Jeff Reback
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeff Reback
- en: Joris Van den Bossche
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Van den Bossche
- en: Kevin Sheppard
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kevin Sheppard
- en: Nick Stahl +
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nick Stahl +
- en: Sanghee Kim +
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sanghee Kim +
- en: Stephan Hoyer
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stephan Hoyer
- en: Tom Augspurger
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tom Augspurger
- en: TomAugspurger
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: TomAugspurger
- en: WANG Aiyong +
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 王爱勇 +
- en: behzad nouri
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: behzad nouri
- en: immerrr
  id: totrans-221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: immerrr
- en: jnmclarty
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jnmclarty
- en: jreback
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jreback
- en: pallav-fdsi +
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: pallav-fdsi +
- en: unutbu
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: unutbu
