- en: scipy.linalg.matrix_balance
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.linalg.matrix_balance.html#scipy.linalg.matrix_balance](https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.linalg.matrix_balance.html#scipy.linalg.matrix_balance)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Compute a diagonal similarity transformation for row/column balancing.
  prefs: []
  type: TYPE_NORMAL
- en: The balancing tries to equalize the row and column 1-norms by applying a similarity
    transformation such that the magnitude variation of the matrix entries is reflected
    to the scaling matrices.
  prefs: []
  type: TYPE_NORMAL
- en: Moreover, if enabled, the matrix is first permuted to isolate the upper triangular
    parts of the matrix and, again if scaling is also enabled, only the remaining
    subblocks are subjected to scaling.
  prefs: []
  type: TYPE_NORMAL
- en: The balanced matrix satisfies the following equality
  prefs: []
  type: TYPE_NORMAL
- en: \[B = T^{-1} A T\]
  prefs: []
  type: TYPE_NORMAL
- en: The scaling coefficients are approximated to the nearest power of 2 to avoid
    round-off errors.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**A**(n, n) array_like'
  prefs: []
  type: TYPE_NORMAL
- en: Square data matrix for the balancing.
  prefs: []
  type: TYPE_NORMAL
- en: '**permute**bool, optional'
  prefs: []
  type: TYPE_NORMAL
- en: The selector to define whether permutation of A is also performed prior to scaling.
  prefs: []
  type: TYPE_NORMAL
- en: '**scale**bool, optional'
  prefs: []
  type: TYPE_NORMAL
- en: The selector to turn on and off the scaling. If False, the matrix will not be
    scaled.
  prefs: []
  type: TYPE_NORMAL
- en: '**separate**bool, optional'
  prefs: []
  type: TYPE_NORMAL
- en: This switches from returning a full matrix of the transformation to a tuple
    of two separate 1-D permutation and scaling arrays.
  prefs: []
  type: TYPE_NORMAL
- en: '**overwrite_a**bool, optional'
  prefs: []
  type: TYPE_NORMAL
- en: This is passed to xGEBAL directly. Essentially, overwrites the result to the
    data. It might increase the space efficiency. See LAPACK manual for details. This
    is False by default.
  prefs: []
  type: TYPE_NORMAL
- en: 'Returns:'
  prefs: []
  type: TYPE_NORMAL
- en: '**B**(n, n) ndarray'
  prefs: []
  type: TYPE_NORMAL
- en: Balanced matrix
  prefs: []
  type: TYPE_NORMAL
- en: '**T**(n, n) ndarray'
  prefs: []
  type: TYPE_NORMAL
- en: A possibly permuted diagonal matrix whose nonzero entries are integer powers
    of 2 to avoid numerical truncation errors.
  prefs: []
  type: TYPE_NORMAL
- en: '**scale, perm**(n,) ndarray'
  prefs: []
  type: TYPE_NORMAL
- en: If `separate` keyword is set to True then instead of the array `T` above, the
    scaling and the permutation vectors are given separately as a tuple without allocating
    the full array `T`.
  prefs: []
  type: TYPE_NORMAL
- en: Notes
  prefs: []
  type: TYPE_NORMAL
- en: This algorithm is particularly useful for eigenvalue and matrix decompositions
    and in many cases it is already called by various LAPACK routines.
  prefs: []
  type: TYPE_NORMAL
- en: The algorithm is based on the well-known technique of [[1]](#r4b6644c3e3d2-1)
    and has been modified to account for special cases. See [[2]](#r4b6644c3e3d2-2)
    for details which have been implemented since LAPACK v3.5.0\. Before this version
    there are corner cases where balancing can actually worsen the conditioning. See
    [[3]](#r4b6644c3e3d2-3) for such examples.
  prefs: []
  type: TYPE_NORMAL
- en: The code is a wrapper around LAPACK’s xGEBAL routine family for matrix balancing.
  prefs: []
  type: TYPE_NORMAL
- en: New in version 0.19.0.
  prefs: []
  type: TYPE_NORMAL
- en: References
  prefs: []
  type: TYPE_NORMAL
- en: '[[1](#id1)]'
  prefs: []
  type: TYPE_NORMAL
- en: B.N. Parlett and C. Reinsch, “Balancing a Matrix for Calculation of Eigenvalues
    and Eigenvectors”, Numerische Mathematik, Vol.13(4), 1969, [DOI:10.1007/BF02165404](https://doi.org/10.1007/BF02165404)
  prefs: []
  type: TYPE_NORMAL
- en: '[[2](#id2)]'
  prefs: []
  type: TYPE_NORMAL
- en: R. James, J. Langou, B.R. Lowery, “On matrix balancing and eigenvector computation”,
    2014, [arXiv:1401.5766](https://arxiv.org/abs/1401.5766)
  prefs: []
  type: TYPE_NORMAL
- en: '[[3](#id3)]'
  prefs: []
  type: TYPE_NORMAL
- en: D.S. Watkins. A case where balancing is harmful. Electron. Trans. Numer. Anal,
    Vol.23, 2006.
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
