- en: Version 0.18.1 (May 3, 2016)
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 版本 0.18.1（2016 年 5 月 3 日）
- en: 原文：[https://pandas.pydata.org/docs/whatsnew/v0.18.1.html](https://pandas.pydata.org/docs/whatsnew/v0.18.1.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://pandas.pydata.org/docs/whatsnew/v0.18.1.html](https://pandas.pydata.org/docs/whatsnew/v0.18.1.html)
- en: This is a minor bug-fix release from 0.18.0 and includes a large number of bug
    fixes along with several new features, enhancements, and performance improvements.
    We recommend that all users upgrade to this version.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 这是从 0.18.0 的次要 bug 修复版本，包括大量的 bug 修复以及一些新功能、增强功能和性能改进。我们建议所有用户升级到此版本。
- en: 'Highlights include:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 主要亮点包括：
- en: '`.groupby(...)` has been enhanced to provide convenient syntax when working
    with `.rolling(..)`, `.expanding(..)` and `.resample(..)` per group, see [here](#whatsnew-0181-deferred-ops)'
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.groupby(...)` 已得到加强，以提供与 `.rolling(..)`、`.expanding(..)` 和 `.resample(..)`
    每个组的方便语法，参见[此处](#whatsnew-0181-deferred-ops)'
- en: '`pd.to_datetime()` has gained the ability to assemble dates from a `DataFrame`,
    see [here](#whatsnew-0181-enhancements-assembling)'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.to_datetime()` 现在可以从 `DataFrame` 组装日期，请参阅[此处](#whatsnew-0181-enhancements-assembling)'
- en: Method chaining improvements, see [here](#whatsnew-0181-enhancements-method-chain).
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法链改进，请参阅[此处](#whatsnew-0181-enhancements-method-chain)。
- en: Custom business hour offset, see [here](#whatsnew-0181-enhancements-custombusinesshour).
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自定义工作时间偏移，请参阅[此处](#whatsnew-0181-enhancements-custombusinesshour)。
- en: Many bug fixes in the handling of `sparse`, see [here](#whatsnew-0181-sparse)
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在处理 `sparse` 时进行了许多 bug 修复，请参阅[此处](#whatsnew-0181-sparse)
- en: Expanded the [Tutorials section](../getting_started/tutorials.html#tutorial-modern)
    with a feature on modern pandas, courtesy of [@TomAugsburger](https://twitter.com/TomAugspurger).
    ([GH 13045](https://github.com/pandas-dev/pandas/issues/13045)).
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[通过@TomAugsburger](https://twitter.com/TomAugspurger)提供的现代pandas功能，扩展了[Tutorials
    section](../getting_started/tutorials.html#tutorial-modern)。 ([GH 13045](https://github.com/pandas-dev/pandas/issues/13045)).'
- en: What’s new in v0.18.1
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: v0.18.1 中的新功能
- en: '[New features](#new-features)'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[新特性](#new-features)'
- en: '[Custom business hour](#custom-business-hour)'
  id: totrans-12
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[自定义工作时间](#custom-business-hour)'
- en: '[Method `.groupby(..)` syntax with window and resample operations](#method-groupby-syntax-with-window-and-resample-operations)'
  id: totrans-13
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[方法`.groupby(..)`语法与窗口和重采样操作](#method-groupby-syntax-with-window-and-resample-operations)'
- en: '[Method chaining improvements](#method-chaining-improvements)'
  id: totrans-14
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[方法链改进](#method-chaining-improvements)'
- en: '[Methods `.where()` and `.mask()`](#methods-where-and-mask)'
  id: totrans-15
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[方法 `.where()` 和 `.mask()`](#methods-where-and-mask)'
- en: '[Methods `.loc[]`, `.iloc[]`, `.ix[]`](#methods-loc-iloc-ix)'
  id: totrans-16
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[方法 `.loc[]`, `.iloc[]`, `.ix[]`](#methods-loc-iloc-ix)'
- en: '[Indexing with `[]`](#indexing-with)'
  id: totrans-17
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`[]` 索引](#indexing-with)'
- en: '[Partial string indexing on `DatetimeIndex` when part of a `MultiIndex`](#partial-string-indexing-on-datetimeindex-when-part-of-a-multiindex)'
  id: totrans-18
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[在 `DatetimeIndex` 的部分字符串索引时，作为 `MultiIndex` 的一部分](#partial-string-indexing-on-datetimeindex-when-part-of-a-multiindex)'
- en: '[Assembling datetimes](#assembling-datetimes)'
  id: totrans-19
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[组装日期时间](#assembling-datetimes)'
- en: '[Other enhancements](#other-enhancements)'
  id: totrans-20
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[其他增强功能](#other-enhancements)'
- en: '[Sparse changes](#sparse-changes)'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[稀疏更改](#sparse-changes)'
- en: '[API changes](#api-changes)'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[API 更改](#api-changes)'
- en: '[Method `.groupby(..).nth()` changes](#method-groupby-nth-changes)'
  id: totrans-23
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[方法 `.groupby(..).nth()` 更改](#method-groupby-nth-changes)'
- en: '[NumPy function compatibility](#numpy-function-compatibility)'
  id: totrans-24
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[NumPy 函数兼容性](#numpy-function-compatibility)'
- en: '[Using `.apply` on GroupBy resampling](#using-apply-on-groupby-resampling)'
  id: totrans-25
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[在 GroupBy 重采样上使用 `.apply`](#using-apply-on-groupby-resampling)'
- en: '[Changes in `read_csv` exceptions](#changes-in-read-csv-exceptions)'
  id: totrans-26
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_csv` 异常的更改](#changes-in-read-csv-exceptions)'
- en: '[Method `to_datetime` error changes](#method-to-datetime-error-changes)'
  id: totrans-27
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[方法 `to_datetime` 错误更改](#method-to-datetime-error-changes)'
- en: '[Other API changes](#other-api-changes)'
  id: totrans-28
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[其他 API 更改](#other-api-changes)'
- en: '[Deprecations](#deprecations)'
  id: totrans-29
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[弃用](#deprecations)'
- en: '[Performance improvements](#performance-improvements)'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[性能改进](#performance-improvements)'
- en: '[Bug fixes](#bug-fixes)'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[错误修复](#bug-fixes)'
- en: '[Contributors](#contributors)'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[贡献者](#contributors)'
- en: '## New features'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '## 新特性'
- en: '### Custom business hour'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '### 自定义工作时间'
- en: The `CustomBusinessHour` is a mixture of `BusinessHour` and `CustomBusinessDay`
    which allows you to specify arbitrary holidays. For details, see [Custom Business
    Hour](../user_guide/timeseries.html#timeseries-custombusinesshour) ([GH 11514](https://github.com/pandas-dev/pandas/issues/11514))
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '`CustomBusinessHour` 是 `BusinessHour` 和 `CustomBusinessDay` 的混合，允许您指定任意假期。详情请参阅[自定义工作时间](../user_guide/timeseries.html#timeseries-custombusinesshour)
    ([GH 11514](https://github.com/pandas-dev/pandas/issues/11514))'
- en: '[PRE0]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Friday before MLK Day
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: MLK Day 前的星期五
- en: '[PRE1]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Tuesday after MLK Day (Monday is skipped because it’s a holiday)
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: MLK Day 后的星期二（星期一因为是假日而跳过）
- en: '[PRE2]  ### Method `.groupby(..)` syntax with window and resample operations'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE2]  ### 方法 `.groupby(..)` 语法与窗口和重采样操作'
- en: '`.groupby(...)` has been enhanced to provide convenient syntax when working
    with `.rolling(..)`, `.expanding(..)` and `.resample(..)` per group, see ([GH
    12486](https://github.com/pandas-dev/pandas/issues/12486), [GH 12738](https://github.com/pandas-dev/pandas/issues/12738)).'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '`.groupby(...)` 已增强以提供方便的语法，用于处理每个组的`.rolling(..)`、`.expanding(..)`和`.resample(..)`，请参阅
    ([GH 12486](https://github.com/pandas-dev/pandas/issues/12486), [GH 12738](https://github.com/pandas-dev/pandas/issues/12738))。'
- en: You can now use `.rolling(..)` and `.expanding(..)` as methods on groupbys.
    These return another deferred object (similar to what `.rolling()` and `.expanding()`
    do on ungrouped pandas objects). You can then operate on these `RollingGroupby`
    objects in a similar manner.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你可以在groupbys上将`.rolling(..)`和`.expanding(..)`作为方法使用。 这些会返回另一个延迟对象（类似于在未分组的
    pandas 对象上所做的`.rolling()`和`.expanding()`）。 然后，您可以以类似的方式操作这些`RollingGroupby`对象。
- en: 'Previously you would have to do this to get a rolling window mean per-group:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，要按组获得滚动窗口平均值，您必须执行以下操作：
- en: '[PRE3]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '[PRE4]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Now you can do:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你可以这样做：
- en: '[PRE5]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'For `.resample(..)` type of operations, previously you would have to:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 对于`.resample(..)`类型的操作，以前您必须执行：
- en: '[PRE6]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[PRE7]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Now you can do:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你可以这样做：
- en: '[PRE8]  ### Method chaining improvements'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE8]  ### 方法链改进'
- en: The following methods / indexers now accept a `callable`. It is intended to
    make these more useful in method chains, see the [documentation](../user_guide/indexing.html#indexing-callable).
    ([GH 11485](https://github.com/pandas-dev/pandas/issues/11485), [GH 12533](https://github.com/pandas-dev/pandas/issues/12533))
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 以下方法/索引器现在接受一个`callable`。 旨在使这些在方法链中更有用，请参阅[文档](../user_guide/indexing.html#indexing-callable)。
    ([GH 11485](https://github.com/pandas-dev/pandas/issues/11485), [GH 12533](https://github.com/pandas-dev/pandas/issues/12533))
- en: '`.where()` and `.mask()`'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.where()`和`.mask()`'
- en: '`.loc[]`, `iloc[]` and `.ix[]`'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.loc[]`、`iloc[]`和`.ix[]`'
- en: '`[]` indexing'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`[]` 索引'
- en: Methods `.where()` and `.mask()`
  id: totrans-57
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 方法`.where()`和`.mask()`
- en: These can accept a callable for the condition and `other` arguments.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 这些可以接受条件和`other`参数的可调用对象。
- en: '[PRE9]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Methods `.loc[]`, `.iloc[]`, `.ix[]`
  id: totrans-60
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 方法`.loc[]`、`.iloc[]`、`.ix[]`
- en: These can accept a callable, and a tuple of callable as a slicer. The callable
    can return a valid boolean indexer or anything which is valid for these indexer’s
    input.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 这些可以接受一个可调用对象和一个切片器的元组。 可调用对象可以返回有效的布尔索引器或任何对这些索引器的输入有效的内容。
- en: '[PRE10]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Indexing with `[]`
  id: totrans-63
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 使用`[]`进行索引
- en: Finally, you can use a callable in `[]` indexing of Series, DataFrame and Panel.
    The callable must return a valid input for `[]` indexing depending on its class
    and index type.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，您可以在Series、DataFrame和Panel的`[]`索引中使用可调用对象。 可调用对象必须根据其类和索引类型返回`[]`索引的有效输入。
- en: '[PRE11]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Using these methods / indexers, you can chain data selection operations without
    using temporary variable.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这些方法/索引器，您可以在不使用临时变量的情况下链接数据选择操作。
- en: '[PRE12]  ### Partial string indexing on `DatetimeIndex` when part of a `MultiIndex`'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE12]  ### 部分字符串索引在`MultiIndex`中的部分`DatetimeIndex`'
- en: Partial string indexing now matches on `DateTimeIndex` when part of a `MultiIndex`
    ([GH 10331](https://github.com/pandas-dev/pandas/issues/10331))
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 部分字符串索引现在在`MultiIndex`的一部分`DateTimeIndex`上匹配 ([GH 10331](https://github.com/pandas-dev/pandas/issues/10331))
- en: '[PRE13]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: On other levels
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在其他级别
- en: '[PRE14]  ### Assembling datetimes'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE14]  ### 组装日期时间'
- en: '`pd.to_datetime()` has gained the ability to assemble datetimes from a passed
    in `DataFrame` or a dict. ([GH 8158](https://github.com/pandas-dev/pandas/issues/8158)).'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '`pd.to_datetime()` 已经具备了从传递的`DataFrame`或字典中组装日期时间的能力。 ([GH 8158](https://github.com/pandas-dev/pandas/issues/8158))。'
- en: '[PRE15]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Assembling using the passed frame.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 使用传递的框架进行组装。
- en: '[PRE16]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: You can pass only the columns that you need to assemble.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 您只需传递您需要组装的列。
- en: '[PRE17]  ### Other enhancements'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE17]  ### 其他增强'
- en: '`pd.read_csv()` now supports `delim_whitespace=True` for the Python engine
    ([GH 12958](https://github.com/pandas-dev/pandas/issues/12958))'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv()` 现在支持`delim_whitespace=True`用于 Python 引擎 ([GH 12958](https://github.com/pandas-dev/pandas/issues/12958))'
- en: '`pd.read_csv()` now supports opening ZIP files that contains a single CSV,
    via extension inference or explicit `compression=''zip''` ([GH 12175](https://github.com/pandas-dev/pandas/issues/12175))'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv()` 现在支持打开包含单个 CSV 的 ZIP 文件，通过扩展推断或显式`compression=''zip''` ([GH
    12175](https://github.com/pandas-dev/pandas/issues/12175))'
- en: '`pd.read_csv()` now supports opening files using xz compression, via extension
    inference or explicit `compression=''xz''` is specified; `xz` compressions is
    also supported by `DataFrame.to_csv` in the same way ([GH 11852](https://github.com/pandas-dev/pandas/issues/11852))'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv()` 现在支持使用 xz 压缩打开文件，通过扩展推断或明确指定`compression=''xz''`； `xz` 压缩也通过相同的方式由`DataFrame.to_csv`支持
    ([GH 11852](https://github.com/pandas-dev/pandas/issues/11852))'
- en: '`pd.read_msgpack()` now always gives writeable ndarrays even when compression
    is used ([GH 12359](https://github.com/pandas-dev/pandas/issues/12359)).'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_msgpack()` 现在即使使用压缩，也始终提供可写的 ndarrays（[GH 12359](https://github.com/pandas-dev/pandas/issues/12359)）'
- en: '`pd.read_msgpack()` now supports serializing and de-serializing categoricals
    with msgpack ([GH 12573](https://github.com/pandas-dev/pandas/issues/12573))'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_msgpack()` 现在支持使用 msgpack 序列化和反序列化分类变量（[GH 12573](https://github.com/pandas-dev/pandas/issues/12573))'
- en: '`.to_json()` now supports `NDFrames` that contain categorical and sparse data
    ([GH 10778](https://github.com/pandas-dev/pandas/issues/10778))'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.to_json()` 现在支持包含分类和稀疏数据的 `NDFrames`（[GH 10778](https://github.com/pandas-dev/pandas/issues/10778)）'
- en: '`interpolate()` now supports `method=''akima''` ([GH 7588](https://github.com/pandas-dev/pandas/issues/7588)).'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`interpolate()` 现在支持 `method=''akima''`（[GH 7588](https://github.com/pandas-dev/pandas/issues/7588)）。'
- en: '`pd.read_excel()` now accepts path objects (e.g. `pathlib.Path`, `py.path.local`)
    for the file path, in line with other `read_*` functions ([GH 12655](https://github.com/pandas-dev/pandas/issues/12655))'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_excel()` 现在接受路径对象（例如 `pathlib.Path`, `py.path.local`）作为文件路径，与其他 `read_*`
    函数一致（[GH 12655](https://github.com/pandas-dev/pandas/issues/12655)）'
- en: Added `.weekday_name` property as a component to `DatetimeIndex` and the `.dt`
    accessor. ([GH 11128](https://github.com/pandas-dev/pandas/issues/11128))
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 已添加 `.weekday_name` 属性作为 `DatetimeIndex` 和 `.dt` 访问器的组成部分（[GH 11128](https://github.com/pandas-dev/pandas/issues/11128)）
- en: '`Index.take` now handles `allow_fill` and `fill_value` consistently ([GH 12631](https://github.com/pandas-dev/pandas/issues/12631))'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.take` 现在对 `allow_fill` 和 `fill_value` 的处理更加一致（[GH 12631](https://github.com/pandas-dev/pandas/issues/12631)）'
- en: '[PRE18]'
  id: totrans-88
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '`Index` now supports `.str.get_dummies()` which returns `MultiIndex`, see [Creating
    Indicator Variables](../user_guide/text.html#text-indicator) ([GH 10008](https://github.com/pandas-dev/pandas/issues/10008),
    [GH 10103](https://github.com/pandas-dev/pandas/issues/10103))'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index` 现在支持 `.str.get_dummies()`，返回 `MultiIndex`，参见 [创建指示变量](../user_guide/text.html#text-indicator)（[GH
    10008](https://github.com/pandas-dev/pandas/issues/10008), [GH 10103](https://github.com/pandas-dev/pandas/issues/10103)）'
- en: '[PRE19]'
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '`pd.crosstab()` has gained a `normalize` argument for normalizing frequency
    tables ([GH 12569](https://github.com/pandas-dev/pandas/issues/12569)). Examples
    in the updated docs [here](../user_guide/reshaping.html#reshaping-crosstabulations).'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.crosstab()` 增加了一个 `normalize` 参数用于归一化频率表（[GH 12569](https://github.com/pandas-dev/pandas/issues/12569)）。更新文档中的示例在
    [这里](../user_guide/reshaping.html#reshaping-crosstabulations)。'
- en: '`.resample(..).interpolate()` is now supported ([GH 12925](https://github.com/pandas-dev/pandas/issues/12925))'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.resample(..).interpolate()` 现在受支持（[GH 12925](https://github.com/pandas-dev/pandas/issues/12925)）'
- en: '`.isin()` now accepts passed `sets` ([GH 12988](https://github.com/pandas-dev/pandas/issues/12988))  ##
    Sparse changes'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.isin()` 现在接受传递的 `sets`（[GH 12988](https://github.com/pandas-dev/pandas/issues/12988)）  ##
    稀疏变化'
- en: These changes conform sparse handling to return the correct types and work to
    make a smoother experience with indexing.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 这些变化使稀疏处理返回正确的类型，并努力使索引体验更加顺畅。
- en: '`SparseArray.take` now returns a scalar for scalar input, `SparseArray` for
    others. Furthermore, it handles a negative indexer with the same rule as `Index`
    ([GH 10560](https://github.com/pandas-dev/pandas/issues/10560), [GH 12796](https://github.com/pandas-dev/pandas/issues/12796))'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '`SparseArray.take` 现在对标量输入返回标量，对其他输入返回 `SparseArray`。此外，它处理负索引器的规则与 `Index`
    相同（[GH 10560](https://github.com/pandas-dev/pandas/issues/10560), [GH 12796](https://github.com/pandas-dev/pandas/issues/12796)）'
- en: '[PRE20]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Bug in `SparseSeries[]` indexing with `Ellipsis` raises `KeyError` ([GH 9467](https://github.com/pandas-dev/pandas/issues/9467))
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries[]` 在使用 `Ellipsis` 索引时出现 `KeyError` 错误（[GH 9467](https://github.com/pandas-dev/pandas/issues/9467)）'
- en: Bug in `SparseArray[]` indexing with tuples are not handled properly ([GH 12966](https://github.com/pandas-dev/pandas/issues/12966))
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray[]` 在使用元组索引时未正确处理的错误已修复（[GH 12966](https://github.com/pandas-dev/pandas/issues/12966)）'
- en: Bug in `SparseSeries.loc[]` with list-like input raises `TypeError` ([GH 10560](https://github.com/pandas-dev/pandas/issues/10560))
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.loc[]` 在类似列表的输入时引发 `TypeError` 错误的问题已修复（[GH 10560](https://github.com/pandas-dev/pandas/issues/10560)）'
- en: Bug in `SparseSeries.iloc[]` with scalar input may raise `IndexError` ([GH 10560](https://github.com/pandas-dev/pandas/issues/10560))
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.iloc[]` 在标量输入时可能引发 `IndexError` 错误的问题已修复（[GH 10560](https://github.com/pandas-dev/pandas/issues/10560)）'
- en: Bug in `SparseSeries.loc[]`, `.iloc[]` with `slice` returns `SparseArray`, rather
    than `SparseSeries` ([GH 10560](https://github.com/pandas-dev/pandas/issues/10560))
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.loc[]`, `.iloc[]` 中使用 `slice` 时返回 `SparseArray` 而不是 `SparseSeries`
    的错误已修复（[GH 10560](https://github.com/pandas-dev/pandas/issues/10560)）'
- en: Bug in `SparseDataFrame.loc[]`, `.iloc[]` may results in dense `Series`, rather
    than `SparseSeries` ([GH 12787](https://github.com/pandas-dev/pandas/issues/12787))
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseDataFrame.loc[]`, `.iloc[]` 中的 Bug 可能导致密集的 `Series`，而不是 `SparseSeries`（[GH
    12787](https://github.com/pandas-dev/pandas/issues/12787)）'
- en: Bug in `SparseArray` addition ignores `fill_value` of right hand side ([GH 12910](https://github.com/pandas-dev/pandas/issues/12910))
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray` 中的加法 Bug 忽略了右侧的 `fill_value`（[GH 12910](https://github.com/pandas-dev/pandas/issues/12910)）'
- en: Bug in `SparseArray` mod raises `AttributeError` ([GH 12910](https://github.com/pandas-dev/pandas/issues/12910))
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray` mod 中的 Bug 引发 `AttributeError`（[GH 12910](https://github.com/pandas-dev/pandas/issues/12910)）'
- en: Bug in `SparseArray` pow calculates `1 ** np.nan` as `np.nan` which must be
    1 ([GH 12910](https://github.com/pandas-dev/pandas/issues/12910))
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray` 中的 pow Bug 计算 `1 ** np.nan` 为 `np.nan`，应为 1（[GH 12910](https://github.com/pandas-dev/pandas/issues/12910)）'
- en: Bug in `SparseArray` comparison output may incorrect result or raise `ValueError`
    ([GH 12971](https://github.com/pandas-dev/pandas/issues/12971))
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray` 比较输出中的 Bug 可能会产生不正确的结果或引发 `ValueError`（[GH 12971](https://github.com/pandas-dev/pandas/issues/12971)）'
- en: Bug in `SparseSeries.__repr__` raises `TypeError` when it is longer than `max_rows`
    ([GH 10560](https://github.com/pandas-dev/pandas/issues/10560))
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.__repr__` 中的 Bug 在长度超过 `max_rows` 时引发 `TypeError`（[GH 10560](https://github.com/pandas-dev/pandas/issues/10560)）'
- en: Bug in `SparseSeries.shape` ignores `fill_value` ([GH 10452](https://github.com/pandas-dev/pandas/issues/10452))
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.shape` 中的 Bug 忽略了 `fill_value`（[GH 10452](https://github.com/pandas-dev/pandas/issues/10452)）'
- en: Bug in `SparseSeries` and `SparseArray` may have different `dtype` from its
    dense values ([GH 12908](https://github.com/pandas-dev/pandas/issues/12908))
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries` 和 `SparseArray` 中的 Bug 可能与其密集值的 `dtype` 不同（[GH 12908](https://github.com/pandas-dev/pandas/issues/12908)）'
- en: Bug in `SparseSeries.reindex` incorrectly handle `fill_value` ([GH 12797](https://github.com/pandas-dev/pandas/issues/12797))
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.reindex` 中的 Bug 错误地处理了 `fill_value`（[GH 12797](https://github.com/pandas-dev/pandas/issues/12797)）'
- en: Bug in `SparseArray.to_frame()` results in `DataFrame`, rather than `SparseDataFrame`
    ([GH 9850](https://github.com/pandas-dev/pandas/issues/9850))
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.to_frame()` 中的 Bug 导致了 `DataFrame`，而不是 `SparseDataFrame`（[GH 9850](https://github.com/pandas-dev/pandas/issues/9850)）'
- en: Bug in `SparseSeries.value_counts()` does not count `fill_value` ([GH 6749](https://github.com/pandas-dev/pandas/issues/6749))
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.value_counts()` 中的 Bug 不计算 `fill_value`（[GH 6749](https://github.com/pandas-dev/pandas/issues/6749)）'
- en: Bug in `SparseArray.to_dense()` does not preserve `dtype` ([GH 10648](https://github.com/pandas-dev/pandas/issues/10648))
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.to_dense()` 中的 Bug 不保留 `dtype`（[GH 10648](https://github.com/pandas-dev/pandas/issues/10648)）'
- en: Bug in `SparseArray.to_dense()` incorrectly handle `fill_value` ([GH 12797](https://github.com/pandas-dev/pandas/issues/12797))
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.to_dense()` 中的 Bug 错误地处理了 `fill_value`（[GH 12797](https://github.com/pandas-dev/pandas/issues/12797)）'
- en: Bug in `pd.concat()` of `SparseSeries` results in dense ([GH 10536](https://github.com/pandas-dev/pandas/issues/10536))
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries` 的 `pd.concat()` 中的 Bug 导致结果是密集的（[GH 10536](https://github.com/pandas-dev/pandas/issues/10536)）'
- en: Bug in `pd.concat()` of `SparseDataFrame` incorrectly handle `fill_value` ([GH
    9765](https://github.com/pandas-dev/pandas/issues/9765))
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseDataFrame` 的 `pd.concat()` 中的 Bug 错误地处理了 `fill_value`（[GH 9765](https://github.com/pandas-dev/pandas/issues/9765)）'
- en: Bug in `pd.concat()` of `SparseDataFrame` may raise `AttributeError` ([GH 12174](https://github.com/pandas-dev/pandas/issues/12174))
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseDataFrame` 的 `pd.concat()` 中的 Bug 可能引发 `AttributeError`（[GH 12174](https://github.com/pandas-dev/pandas/issues/12174)）'
- en: 'Bug in `SparseArray.shift()` may raise `NameError` or `TypeError` ([GH 12908](https://github.com/pandas-dev/pandas/issues/12908))  ##
    API changes'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.shift()` 中的 Bug 可能会引发 `NameError` 或 `TypeError`（[GH 12908](https://github.com/pandas-dev/pandas/issues/12908)）  ##
    API 变更'
- en: '### Method `.groupby(..).nth()` changes'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '### 方法 `.groupby(..).nth()` 变更'
- en: 'The index in `.groupby(..).nth()` output is now more consistent when the `as_index`
    argument is passed ([GH 11039](https://github.com/pandas-dev/pandas/issues/11039)):'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 当传递 `as_index` 参数时，`.groupby(..).nth()` 输出中的索引现在更加一致（[GH 11039](https://github.com/pandas-dev/pandas/issues/11039)）：
- en: '[PRE21]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Previous behavior:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE22]'
  id: totrans-123
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'New behavior:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE23]'
  id: totrans-125
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Furthermore, previously, a `.groupby` would always sort, regardless if `sort=False`
    was passed with `.nth()`.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，以前，`.groupby` 总是会排序，无论是否使用 `.nth()` 传递了 `sort=False`。
- en: '[PRE24]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Previous behavior:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE25]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'New behavior:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE26]  ### NumPy function compatibility'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE26]  ### NumPy 函数兼容性'
- en: Compatibility between pandas array-like methods (e.g. `sum` and `take`) and
    their `numpy` counterparts has been greatly increased by augmenting the signatures
    of the `pandas` methods so as to accept arguments that can be passed in from `numpy`,
    even if they are not necessarily used in the `pandas` implementation ([GH 12644](https://github.com/pandas-dev/pandas/issues/12644),
    [GH 12638](https://github.com/pandas-dev/pandas/issues/12638), [GH 12687](https://github.com/pandas-dev/pandas/issues/12687))
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 通过增加`pandas`方法的签名，使其能够接受从`numpy`传入的参数，即使在`pandas`实现中并不一定使用这些参数，大大增加了`pandas`数组方法（例如`sum`和`take`）与它们的`numpy`对应方法之间的兼容性（[GH
    12644](https://github.com/pandas-dev/pandas/issues/12644), [GH 12638](https://github.com/pandas-dev/pandas/issues/12638),
    [GH 12687](https://github.com/pandas-dev/pandas/issues/12687))
- en: '`.searchsorted()` for `Index` and `TimedeltaIndex` now accept a `sorter` argument
    to maintain compatibility with numpy’s `searchsorted` function ([GH 12238](https://github.com/pandas-dev/pandas/issues/12238))'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index`和`TimedeltaIndex`的`.searchsorted()`现在接受一个`sorter`参数，以保持与numpy的`searchsorted`函数的兼容性（[GH
    12238](https://github.com/pandas-dev/pandas/issues/12238))'
- en: Bug in numpy compatibility of `np.round()` on a `Series` ([GH 12600](https://github.com/pandas-dev/pandas/issues/12600))
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Series`上`np.round()`的numpy兼容性bug（[GH 12600](https://github.com/pandas-dev/pandas/issues/12600))
- en: 'An example of this signature augmentation is illustrated below:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是一个签名增强的示例：
- en: '[PRE27]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Previous behaviour:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 先前行为：
- en: '[PRE28]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'New behaviour:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE29]  ### Using `.apply` on GroupBy resampling'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE29]  ### 在GroupBy重新采样上使用`.apply`'
- en: Using `apply` on resampling groupby operations (using a `pd.TimeGrouper`) now
    has the same output types as similar `apply` calls on other groupby operations.
    ([GH 11742](https://github.com/pandas-dev/pandas/issues/11742)).
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 在对`pd.TimeGrouper`进行重新采样分组操作（使用`apply`）时，现在具有与其他groupby操作上类似`apply`调用相同的输出类型。([GH
    11742](https://github.com/pandas-dev/pandas/issues/11742)).
- en: '[PRE30]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'Previous behavior:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 先前行为：
- en: '[PRE31]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'New behavior:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE32]  ### Changes in `read_csv` exceptions'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE32]  ### `read_csv`异常更改'
- en: In order to standardize the `read_csv` API for both the `c` and `python` engines,
    both will now raise an `EmptyDataError`, a subclass of `ValueError`, in response
    to empty columns or header ([GH 12493](https://github.com/pandas-dev/pandas/issues/12493),
    [GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使`read_csv` API在`c`和`python`引擎上标准化，现在两者在遇到空列或标题时都会引发`EmptyDataError`，这是`ValueError`的子类（[GH
    12493](https://github.com/pandas-dev/pandas/issues/12493), [GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
- en: 'Previous behaviour:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 先前行为：
- en: '[PRE33]'
  id: totrans-149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'New behaviour:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE34]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'In addition to this error change, several others have been made as well:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这个错误更改之外，还进行了其他几项更改：
- en: '`CParserError` now sub-classes `ValueError` instead of just a `Exception` ([GH
    12551](https://github.com/pandas-dev/pandas/issues/12551))'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CParserError`现在是`ValueError`的子类，而不仅仅是`Exception`（[GH 12551](https://github.com/pandas-dev/pandas/issues/12551))'
- en: A `CParserError` is now raised instead of a generic `Exception` in `read_csv`
    when the `c` engine cannot parse a column ([GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`c`引擎无法解析列时，在`read_csv`中现在会引发`CParserError`而不是通用的`Exception`（[GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
- en: A `ValueError` is now raised instead of a generic `Exception` in `read_csv`
    when the `c` engine encounters a `NaN` value in an integer column ([GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`c`引擎在整数列中遇到`NaN`值时，`read_csv`现在会引发`ValueError`而不是通用的`Exception`（[GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
- en: A `ValueError` is now raised instead of a generic `Exception` in `read_csv`
    when `true_values` is specified, and the `c` engine encounters an element in a
    column containing unencodable bytes ([GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当指定`true_values`时，在`c`引擎遇到包含无法编码字节的列中的元素时，`read_csv`现在会引发`ValueError`而不是通用的`Exception`（[GH
    12506](https://github.com/pandas-dev/pandas/issues/12506))
- en: '`pandas.parser.OverflowError` exception has been removed and has been replaced
    with Python’s built-in `OverflowError` exception ([GH 12506](https://github.com/pandas-dev/pandas/issues/12506))'
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.parser.OverflowError`异常已被移除，并已被Python内置的`OverflowError`异常替换（[GH 12506](https://github.com/pandas-dev/pandas/issues/12506))'
- en: '`pd.read_csv()` no longer allows a combination of strings and integers for
    the `usecols` parameter ([GH 12678](https://github.com/pandas-dev/pandas/issues/12678))  ###
    Method `to_datetime` error changes'
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv()`不再允许在`usecols`参数中组合字符串和整数（[GH 12678](https://github.com/pandas-dev/pandas/issues/12678))  ###
    `to_datetime`方法错误更改'
- en: Bugs in `pd.to_datetime()` when passing a `unit` with convertible entries and
    `errors='coerce'` or non-convertible with `errors='ignore'`. Furthermore, an `OutOfBoundsDateime`
    exception will be raised when an out-of-range value is encountered for that unit
    when `errors='raise'`. ([GH 11758](https://github.com/pandas-dev/pandas/issues/11758),
    [GH 13052](https://github.com/pandas-dev/pandas/issues/13052), [GH 13059](https://github.com/pandas-dev/pandas/issues/13059))
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 在传递可转换条目的 `unit` 和 `errors='coerce'` 或 `errors='ignore'` 时，`pd.to_datetime()`
    中存在错误。此外，当遇到超出范围的值时，将引发 `OutOfBoundsDateime` 异常，`errors='raise'`。 ([GH 11758](https://github.com/pandas-dev/pandas/issues/11758),
    [GH 13052](https://github.com/pandas-dev/pandas/issues/13052), [GH 13059](https://github.com/pandas-dev/pandas/issues/13059))
- en: 'Previous behaviour:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: '先前的行为:'
- en: '[PRE35]'
  id: totrans-161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'New behaviour:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '新行为:'
- en: '[PRE36]  ### Other API changes'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE36]  ### 其他 API 更改'
- en: '`.swaplevel()` for `Series`, `DataFrame`, `Panel`, and `MultiIndex` now features
    defaults for its first two parameters `i` and `j` that swap the two innermost
    levels of the index. ([GH 12934](https://github.com/pandas-dev/pandas/issues/12934))'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 `Series`、`DataFrame`、`Panel` 和 `MultiIndex` 的 `.swaplevel()` 现在具有其前两个参数 `i`
    和 `j` 的默认值，这两个参数交换索引的最内层级别。 ([GH 12934](https://github.com/pandas-dev/pandas/issues/12934))
- en: '`.searchsorted()` for `Index` and `TimedeltaIndex` now accept a `sorter` argument
    to maintain compatibility with numpy’s `searchsorted` function ([GH 12238](https://github.com/pandas-dev/pandas/issues/12238))'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.searchsorted()` 对于 `Index` 和 `TimedeltaIndex` 现在接受一个 `sorter` 参数，以保持与 numpy
    的 `searchsorted` 函数的兼容性 ([GH 12238](https://github.com/pandas-dev/pandas/issues/12238))'
- en: '`Period` and `PeriodIndex` now raises `IncompatibleFrequency` error which inherits
    `ValueError` rather than raw `ValueError` ([GH 12615](https://github.com/pandas-dev/pandas/issues/12615))'
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Period` 和 `PeriodIndex` 现在会引发 `IncompatibleFrequency` 错误，该错误继承自 `ValueError`
    而不是原始的 `ValueError` ([GH 12615](https://github.com/pandas-dev/pandas/issues/12615))'
- en: '`Series.apply` for category dtype now applies the passed function to each of
    the `.categories` (and not the `.codes`), and returns a `category` dtype if possible
    ([GH 12473](https://github.com/pandas-dev/pandas/issues/12473))'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.apply` 对于类别 dtype 现在将传递的函数应用于每个 `.categories`（而不是 `.codes`），并在可能的情况下返回
    `category` dtype ([GH 12473](https://github.com/pandas-dev/pandas/issues/12473))'
- en: '`read_csv` will now raise a `TypeError` if `parse_dates` is neither a boolean,
    list, or dictionary (matches the doc-string) ([GH 5636](https://github.com/pandas-dev/pandas/issues/5636))'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果 `parse_dates` 不是布尔值、列表或字典（与文档字符串匹配），`read_csv` 现在会引发 `TypeError` ([GH 5636](https://github.com/pandas-dev/pandas/issues/5636))
- en: The default for `.query()/.eval()` is now `engine=None`, which will use `numexpr`
    if it’s installed; otherwise it will fallback to the `python` engine. This mimics
    the pre-0.18.1 behavior if `numexpr` is installed (and which, previously, if numexpr
    was not installed, `.query()/.eval()` would raise). ([GH 12749](https://github.com/pandas-dev/pandas/issues/12749))
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.query()/.eval()` 的默认值现在是 `engine=None`，如果安装了 `numexpr`，则会使用 `numexpr`；否则，它将回退到
    `python` 引擎。这模仿了在0.18.1之前如果安装了 `numexpr` 的行为（以及以前，如果未安装 `numexpr`，`.query()/.eval()`
    将引发异常）。 ([GH 12749](https://github.com/pandas-dev/pandas/issues/12749))'
- en: '`pd.show_versions()` now includes `pandas_datareader` version ([GH 12740](https://github.com/pandas-dev/pandas/issues/12740))'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.show_versions()` 现在包括 `pandas_datareader` 版本 ([GH 12740](https://github.com/pandas-dev/pandas/issues/12740))'
- en: Provide a proper `__name__` and `__qualname__` attributes for generic functions
    ([GH 12021](https://github.com/pandas-dev/pandas/issues/12021))
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为通用函数提供适当的 `__name__` 和 `__qualname__` 属性 ([GH 12021](https://github.com/pandas-dev/pandas/issues/12021))
- en: '`pd.concat(ignore_index=True)` now uses `RangeIndex` as default ([GH 12695](https://github.com/pandas-dev/pandas/issues/12695))'
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.concat(ignore_index=True)` 现在默认使用 `RangeIndex` ([GH 12695](https://github.com/pandas-dev/pandas/issues/12695))'
- en: '`pd.merge()` and `DataFrame.join()` will show a `UserWarning` when merging/joining
    a single- with a multi-leveled dataframe ([GH 9455](https://github.com/pandas-dev/pandas/issues/9455),
    [GH 12219](https://github.com/pandas-dev/pandas/issues/12219))'
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当将单级与多级数据框合并/连接时，`pd.merge()` 和 `DataFrame.join()` 将显示 `UserWarning` 警告 ([GH
    9455](https://github.com/pandas-dev/pandas/issues/9455), [GH 12219](https://github.com/pandas-dev/pandas/issues/12219))
- en: 'Compat with `scipy` > 0.17 for deprecated `piecewise_polynomial` interpolation
    method; support for the replacement `from_derivatives` method ([GH 12887](https://github.com/pandas-dev/pandas/issues/12887))  ###
    Deprecations'
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '与 `scipy` > 0.17 兼容的已弃用的 `piecewise_polynomial` 插值方法；支持替换的 `from_derivatives`
    方法 ([GH 12887](https://github.com/pandas-dev/pandas/issues/12887))  ### 弃用'
- en: The method name `Index.sym_diff()` is deprecated and can be replaced by `Index.symmetric_difference()`
    ([GH 12591](https://github.com/pandas-dev/pandas/issues/12591))
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法名 `Index.sym_diff()` 已弃用，可以用 `Index.symmetric_difference()` 替换 ([GH 12591](https://github.com/pandas-dev/pandas/issues/12591))
- en: 'The method name `Categorical.sort()` is deprecated in favor of `Categorical.sort_values()`
    ([GH 12882](https://github.com/pandas-dev/pandas/issues/12882))  ## Performance
    improvements'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '方法名`Categorical.sort()`已被弃用，推荐使用`Categorical.sort_values()` ([GH 12882](https://github.com/pandas-dev/pandas/issues/12882))  ##
    性能改进'
- en: Improved speed of SAS reader ([GH 12656](https://github.com/pandas-dev/pandas/issues/12656),
    [GH 12961](https://github.com/pandas-dev/pandas/issues/12961))
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提升了SAS读取器的速度 ([GH 12656](https://github.com/pandas-dev/pandas/issues/12656),
    [GH 12961](https://github.com/pandas-dev/pandas/issues/12961))
- en: Performance improvements in `.groupby(..).cumcount()` ([GH 11039](https://github.com/pandas-dev/pandas/issues/11039))
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`.groupby(..).cumcount()`中的性能改进 ([GH 11039](https://github.com/pandas-dev/pandas/issues/11039))
- en: Improved memory usage in `pd.read_csv()` when using `skiprows=an_integer` ([GH
    13005](https://github.com/pandas-dev/pandas/issues/13005))
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`skiprows=an_integer`时，改进了`pd.read_csv()`的内存使用情况 ([GH 13005](https://github.com/pandas-dev/pandas/issues/13005))
- en: Improved performance of `DataFrame.to_sql` when checking case sensitivity for
    tables. Now only checks if table has been created correctly when table name is
    not lower case. ([GH 12876](https://github.com/pandas-dev/pandas/issues/12876))
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在检查表的大小写敏感性时，改进了`DataFrame.to_sql`的性能。现在只有在表名不是小写时才检查表是否已正确创建。 ([GH 12876](https://github.com/pandas-dev/pandas/issues/12876))
- en: Improved performance of `Period` construction and time series plotting ([GH
    12903](https://github.com/pandas-dev/pandas/issues/12903), [GH 11831](https://github.com/pandas-dev/pandas/issues/11831)).
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了`Period`构造和时间序列绘图的性能 ([GH 12903](https://github.com/pandas-dev/pandas/issues/12903),
    [GH 11831](https://github.com/pandas-dev/pandas/issues/11831))
- en: Improved performance of `.str.encode()` and `.str.decode()` methods ([GH 13008](https://github.com/pandas-dev/pandas/issues/13008))
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提升了`.str.encode()`和`.str.decode()`方法的性能 ([GH 13008](https://github.com/pandas-dev/pandas/issues/13008))
- en: Improved performance of `to_numeric` if input is numeric dtype ([GH 12777](https://github.com/pandas-dev/pandas/issues/12777))
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果输入是数值类型，则提升了`to_numeric`的性能 ([GH 12777](https://github.com/pandas-dev/pandas/issues/12777))
- en: 'Improved performance of sparse arithmetic with `IntIndex` ([GH 13036](https://github.com/pandas-dev/pandas/issues/13036))  ##
    Bug fixes'
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '通过`IntIndex`进行稀疏运算的性能改进 ([GH 13036](https://github.com/pandas-dev/pandas/issues/13036))  ##
    Bug 修复'
- en: '`usecols` parameter in `pd.read_csv` is now respected even when the lines of
    a CSV file are not even ([GH 12203](https://github.com/pandas-dev/pandas/issues/12203))'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在即使CSV文件的行数不均匀，`pd.read_csv`中的`usecols`参数也会被尊重 ([GH 12203](https://github.com/pandas-dev/pandas/issues/12203))
- en: Bug in `groupby.transform(..)` when `axis=1` is specified with a non-monotonic
    ordered index ([GH 12713](https://github.com/pandas-dev/pandas/issues/12713))
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当指定`axis=1`且具有非单调有序索引时，`groupby.transform(..)`中的bug已被修复 ([GH 12713](https://github.com/pandas-dev/pandas/issues/12713))
- en: Bug in `Period` and `PeriodIndex` creation raises `KeyError` if `freq="Minute"`
    is specified. Note that “Minute” freq is deprecated in v0.17.0, and recommended
    to use `freq="T"` instead ([GH 11854](https://github.com/pandas-dev/pandas/issues/11854))
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果指定`freq="Minute"`，则创建`Period`和`PeriodIndex`时会引发`KeyError`的bug已被修复。请注意，“Minute”频率在v0.17.0中已被弃用，建议改用`freq="T"`
    ([GH 11854](https://github.com/pandas-dev/pandas/issues/11854))
- en: Bug in `.resample(...).count()` with a `PeriodIndex` always raising a `TypeError`
    ([GH 12774](https://github.com/pandas-dev/pandas/issues/12774))
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`PeriodIndex`时，`.resample(...).count()`总是引发`TypeError`的bug已被修复 ([GH 12774](https://github.com/pandas-dev/pandas/issues/12774))
- en: Bug in `.resample(...)` with a `PeriodIndex` casting to a `DatetimeIndex` when
    empty ([GH 12868](https://github.com/pandas-dev/pandas/issues/12868))
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当为空时，`.resample(...)`在将`PeriodIndex`转换为`DatetimeIndex`时的bug ([GH 12868](https://github.com/pandas-dev/pandas/issues/12868))
- en: Bug in `.resample(...)` with a `PeriodIndex` when resampling to an existing
    frequency ([GH 12770](https://github.com/pandas-dev/pandas/issues/12770))
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在将`PeriodIndex`重新采样到现有频率时，`.resample(...)`中的bug ([GH 12770](https://github.com/pandas-dev/pandas/issues/12770))
- en: Bug in printing data which contains `Period` with different `freq` raises `ValueError`
    ([GH 12615](https://github.com/pandas-dev/pandas/issues/12615))
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包含不同`freq`的`Period`数据打印时引发`ValueError`的bug已被修复 ([GH 12615](https://github.com/pandas-dev/pandas/issues/12615))
- en: Bug in `Series` construction with `Categorical` and `dtype='category'` is specified
    ([GH 12574](https://github.com/pandas-dev/pandas/issues/12574))
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当指定`dtype='category'`时，使用`Categorical`构造`Series`时的bug ([GH 12574](https://github.com/pandas-dev/pandas/issues/12574))
- en: Bugs in concatenation with a coercible dtype was too aggressive, resulting in
    different dtypes in output formatting when an object was longer than `display.max_rows`
    ([GH 12411](https://github.com/pandas-dev/pandas/issues/12411), [GH 12045](https://github.com/pandas-dev/pandas/issues/12045),
    [GH 11594](https://github.com/pandas-dev/pandas/issues/11594), [GH 10571](https://github.com/pandas-dev/pandas/issues/10571),
    [GH 12211](https://github.com/pandas-dev/pandas/issues/12211))
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有可强制转换dtype的连接中存在错误，过于激进，导致当对象长于`display.max_rows`时，在输出格式化中出现不同的dtype([GH
    12411](https://github.com/pandas-dev/pandas/issues/12411), [GH 12045](https://github.com/pandas-dev/pandas/issues/12045),
    [GH 11594](https://github.com/pandas-dev/pandas/issues/11594), [GH 10571](https://github.com/pandas-dev/pandas/issues/10571),
    [GH 12211](https://github.com/pandas-dev/pandas/issues/12211))
- en: Bug in `float_format` option with option not being validated as a callable.
    ([GH 12706](https://github.com/pandas-dev/pandas/issues/12706))
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`float_format`选项中，选项未被验证为可调用的错误。([GH 12706](https://github.com/pandas-dev/pandas/issues/12706))
- en: Bug in `GroupBy.filter` when `dropna=False` and no groups fulfilled the criteria
    ([GH 12768](https://github.com/pandas-dev/pandas/issues/12768))
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`GroupBy.filter`中，当`dropna=False`且没有组满足条件时存在错误([GH 12768](https://github.com/pandas-dev/pandas/issues/12768))
- en: Bug in `__name__` of `.cum*` functions ([GH 12021](https://github.com/pandas-dev/pandas/issues/12021))
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`.cum*`函数的`__name__`中存在错误([GH 12021](https://github.com/pandas-dev/pandas/issues/12021))
- en: Bug in `.astype()` of a `Float64Inde/Int64Index` to an `Int64Index` ([GH 12881](https://github.com/pandas-dev/pandas/issues/12881))
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将`Float64Inde/Int64Index`转换为`Int64Index`的`.astype()`中存在错误([GH 12881](https://github.com/pandas-dev/pandas/issues/12881))
- en: Bug in round tripping an integer based index in `.to_json()/.read_json()` when
    `orient='index'` (the default) ([GH 12866](https://github.com/pandas-dev/pandas/issues/12866))
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`.to_json()/.read_json()`中整数索引的往返处理中存在错误，当`orient='index'`（默认）时([GH 12866](https://github.com/pandas-dev/pandas/issues/12866))
- en: Bug in plotting `Categorical` dtypes cause error when attempting stacked bar
    plot ([GH 13019](https://github.com/pandas-dev/pandas/issues/13019))
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在绘制`Categorical` dtypes时，当尝试堆叠条形图时导致错误([GH 13019](https://github.com/pandas-dev/pandas/issues/13019))
- en: Compat with >= `numpy` 1.11 for `NaT` comparisons ([GH 12969](https://github.com/pandas-dev/pandas/issues/12969))
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与`numpy` 1.11兼容，用于`NaT`比较([GH 12969](https://github.com/pandas-dev/pandas/issues/12969))
- en: Bug in `.drop()` with a non-unique `MultiIndex`. ([GH 12701](https://github.com/pandas-dev/pandas/issues/12701))
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有非唯一`MultiIndex`的`.drop()`中存在的错误。([GH 12701](https://github.com/pandas-dev/pandas/issues/12701))
- en: Bug in `.concat` of datetime tz-aware and naive DataFrames ([GH 12467](https://github.com/pandas-dev/pandas/issues/12467))
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在具有datetime tz-aware和naive DataFrames的`.concat`中存在错误([GH 12467](https://github.com/pandas-dev/pandas/issues/12467))
- en: Bug in correctly raising a `ValueError` in `.resample(..).fillna(..)` when passing
    a non-string ([GH 12952](https://github.com/pandas-dev/pandas/issues/12952))
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在传递非字符串时，在`.resample(..).fillna(..)`中正确引发`ValueError`的错误([GH 12952](https://github.com/pandas-dev/pandas/issues/12952))
- en: Bug fixes in various encoding and header processing issues in `pd.read_sas()`
    ([GH 12659](https://github.com/pandas-dev/pandas/issues/12659), [GH 12654](https://github.com/pandas-dev/pandas/issues/12654),
    [GH 12647](https://github.com/pandas-dev/pandas/issues/12647), [GH 12809](https://github.com/pandas-dev/pandas/issues/12809))
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`pd.read_sas()`中存在各种编码和标题处理问题的错误修复([GH 12659](https://github.com/pandas-dev/pandas/issues/12659),
    [GH 12654](https://github.com/pandas-dev/pandas/issues/12654), [GH 12647](https://github.com/pandas-dev/pandas/issues/12647),
    [GH 12809](https://github.com/pandas-dev/pandas/issues/12809))
- en: Bug in `pd.crosstab()` where would silently ignore `aggfunc` if `values=None`
    ([GH 12569](https://github.com/pandas-dev/pandas/issues/12569)).
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`pd.crosstab()`中，如果`values=None`，则会悄悄忽略`aggfunc`([GH 12569](https://github.com/pandas-dev/pandas/issues/12569)).
- en: Potential segfault in `DataFrame.to_json` when serialising `datetime.time` ([GH
    11473](https://github.com/pandas-dev/pandas/issues/11473)).
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在序列化`datetime.time`时，在`DataFrame.to_json`中存在潜在段错误([GH 11473](https://github.com/pandas-dev/pandas/issues/11473)).
- en: Potential segfault in `DataFrame.to_json` when attempting to serialise 0d array
    ([GH 11299](https://github.com/pandas-dev/pandas/issues/11299)).
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在尝试序列化0d数组时，在`DataFrame.to_json`中存在潜在段错误([GH 11299](https://github.com/pandas-dev/pandas/issues/11299)).
- en: Segfault in `to_json` when attempting to serialise a `DataFrame` or `Series`
    with non-ndarray values; now supports serialization of `category`, `sparse`, and
    `datetime64[ns, tz]` dtypes ([GH 10778](https://github.com/pandas-dev/pandas/issues/10778)).
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在尝试序列化具有非ndarray值的`DataFrame`或`Series`时，在`to_json`中出现段错误；现在支持`category`、`sparse`和`datetime64[ns,
    tz]` dtypes的序列化([GH 10778](https://github.com/pandas-dev/pandas/issues/10778))。
- en: Bug in `DataFrame.to_json` with unsupported dtype not passed to default handler
    ([GH 12554](https://github.com/pandas-dev/pandas/issues/12554)).
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在不支持的dtype未传递给默认处理程序的`DataFrame.to_json`中存在错误([GH 12554](https://github.com/pandas-dev/pandas/issues/12554)).
- en: Bug in `.align` not returning the sub-class ([GH 12983](https://github.com/pandas-dev/pandas/issues/12983))
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.align` 中的 Bug，未返回子类 ([GH 12983](https://github.com/pandas-dev/pandas/issues/12983))'
- en: Bug in aligning a `Series` with a `DataFrame` ([GH 13037](https://github.com/pandas-dev/pandas/issues/13037))
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 `Series` 与 `DataFrame` 对齐时的 Bug ([GH 13037](https://github.com/pandas-dev/pandas/issues/13037))
- en: Bug in `ABCPanel` in which `Panel4D` was not being considered as a valid instance
    of this generic type ([GH 12810](https://github.com/pandas-dev/pandas/issues/12810))
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ABCPanel` 中的 Bug，`Panel4D` 未被视为该泛型类型的有效实例 ([GH 12810](https://github.com/pandas-dev/pandas/issues/12810))'
- en: Bug in consistency of `.name` on `.groupby(..).apply(..)` cases ([GH 12363](https://github.com/pandas-dev/pandas/issues/12363))
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.groupby(..).apply(..)` 情况下 `.name` 的一致性 Bug ([GH 12363](https://github.com/pandas-dev/pandas/issues/12363))'
- en: Bug in `Timestamp.__repr__` that caused `pprint` to fail in nested structures
    ([GH 12622](https://github.com/pandas-dev/pandas/issues/12622))
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timestamp.__repr__` 中的 Bug，导致嵌套结构中的 `pprint` 失败 ([GH 12622](https://github.com/pandas-dev/pandas/issues/12622))'
- en: Bug in `Timedelta.min` and `Timedelta.max`, the properties now report the true
    minimum/maximum `timedeltas` as recognized by pandas. See the [documentation](../user_guide/timedeltas.html#timedeltas-limitations).
    ([GH 12727](https://github.com/pandas-dev/pandas/issues/12727))
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timedelta.min` 和 `Timedelta.max` 中的 Bug，这些属性现在报告 pandas 认可的真正最小/最大 `timedeltas`。参见[文档](../user_guide/timedeltas.html#timedeltas-limitations)
    ([GH 12727](https://github.com/pandas-dev/pandas/issues/12727))'
- en: Bug in `.quantile()` with interpolation may coerce to `float` unexpectedly ([GH
    12772](https://github.com/pandas-dev/pandas/issues/12772))
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.quantile()` 中的 Bug，在插值时可能意外转换为 `float` ([GH 12772](https://github.com/pandas-dev/pandas/issues/12772))'
- en: Bug in `.quantile()` with empty `Series` may return scalar rather than empty
    `Series` ([GH 12772](https://github.com/pandas-dev/pandas/issues/12772))
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.quantile()` 中的 Bug，当 `Series` 为空时可能返回标量而不是空的 `Series` ([GH 12772](https://github.com/pandas-dev/pandas/issues/12772))'
- en: Bug in `.loc` with out-of-bounds in a large indexer would raise `IndexError`
    rather than `KeyError` ([GH 12527](https://github.com/pandas-dev/pandas/issues/12527))
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.loc` 中的 Bug，在大型索引器中的越界会引发 `IndexError` 而不是 `KeyError` ([GH 12527](https://github.com/pandas-dev/pandas/issues/12527))'
- en: Bug in resampling when using a `TimedeltaIndex` and `.asfreq()`, would previously
    not include the final fencepost ([GH 12926](https://github.com/pandas-dev/pandas/issues/12926))
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `TimedeltaIndex` 和 `.asfreq()` 进行重新采样时的 Bug，以前不包括最后一个标杆点 ([GH 12926](https://github.com/pandas-dev/pandas/issues/12926))
- en: Bug in equality testing with a `Categorical` in a `DataFrame` ([GH 12564](https://github.com/pandas-dev/pandas/issues/12564))
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrame` 中使用 `Categorical` 进行相等性测试的 Bug ([GH 12564](https://github.com/pandas-dev/pandas/issues/12564))
- en: Bug in `GroupBy.first()`, `.last()` returns incorrect row when `TimeGrouper`
    is used ([GH 7453](https://github.com/pandas-dev/pandas/issues/7453))
  id: totrans-221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`GroupBy.first()` 中的 Bug，当使用 `TimeGrouper` 时，`.last()` 返回错误行 ([GH 7453](https://github.com/pandas-dev/pandas/issues/7453))'
- en: Bug in `pd.read_csv()` with the `c` engine when specifying `skiprows` with newlines
    in quoted items ([GH 10911](https://github.com/pandas-dev/pandas/issues/10911),
    [GH 12775](https://github.com/pandas-dev/pandas/issues/12775))
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `c` 引擎的 `pd.read_csv()` 中，当在引号项中指定 `skiprows` 时出现换行符 ([GH 10911](https://github.com/pandas-dev/pandas/issues/10911),
    [GH 12775](https://github.com/pandas-dev/pandas/issues/12775))
- en: Bug in `DataFrame` timezone lost when assigning tz-aware datetime `Series` with
    alignment ([GH 12981](https://github.com/pandas-dev/pandas/issues/12981))
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame` 在赋值时丢失时区信息的 Bug，当赋值为带时区信息的 datetime `Series` 时出现对齐问题 ([GH 12981](https://github.com/pandas-dev/pandas/issues/12981))'
- en: Bug in `.value_counts()` when `normalize=True` and `dropna=True` where nulls
    still contributed to the normalized count ([GH 12558](https://github.com/pandas-dev/pandas/issues/12558))
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.value_counts()` 中的 Bug，在 `normalize=True` 和 `dropna=True` 时，null 仍然会对规范化计数产生影响
    ([GH 12558](https://github.com/pandas-dev/pandas/issues/12558))'
- en: Bug in `Series.value_counts()` loses name if its dtype is `category` ([GH 12835](https://github.com/pandas-dev/pandas/issues/12835))
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.value_counts()` 中的 Bug，在其 dtype 为 `category` 时会丢失名称 ([GH 12835](https://github.com/pandas-dev/pandas/issues/12835))'
- en: Bug in `Series.value_counts()` loses timezone info ([GH 12835](https://github.com/pandas-dev/pandas/issues/12835))
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.value_counts()` 中的 Bug，丢失时区信息 ([GH 12835](https://github.com/pandas-dev/pandas/issues/12835))'
- en: Bug in `Series.value_counts(normalize=True)` with `Categorical` raises `UnboundLocalError`
    ([GH 12835](https://github.com/pandas-dev/pandas/issues/12835))
  id: totrans-227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.value_counts(normalize=True)` 中的 Bug，当 `Categorical` 时会引发 `UnboundLocalError`
    ([GH 12835](https://github.com/pandas-dev/pandas/issues/12835))'
- en: Bug in `Panel.fillna()` ignoring `inplace=True` ([GH 12633](https://github.com/pandas-dev/pandas/issues/12633))
  id: totrans-228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Panel.fillna()` 中的 Bug，忽略了 `inplace=True` ([GH 12633](https://github.com/pandas-dev/pandas/issues/12633))'
- en: Bug in `pd.read_csv()` when specifying `names`, `usecols`, and `parse_dates`
    simultaneously with the `c` engine ([GH 9755](https://github.com/pandas-dev/pandas/issues/9755))
  id: totrans-229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `c` 引擎同时指定 `names`、`usecols` 和 `parse_dates` 时，`pd.read_csv()` 中的错误（[GH
    9755](https://github.com/pandas-dev/pandas/issues/9755)）
- en: Bug in `pd.read_csv()` when specifying `delim_whitespace=True` and `lineterminator`
    simultaneously with the `c` engine ([GH 12912](https://github.com/pandas-dev/pandas/issues/12912))
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用 `c` 引擎同时指定 `delim_whitespace=True` 和 `lineterminator` 时，`pd.read_csv()`
    中的错误（[GH 12912](https://github.com/pandas-dev/pandas/issues/12912)）
- en: Bug in `Series.rename`, `DataFrame.rename` and `DataFrame.rename_axis` not treating
    `Series` as mappings to relabel ([GH 12623](https://github.com/pandas-dev/pandas/issues/12623)).
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.rename`、`DataFrame.rename` 和 `DataFrame.rename_axis` 中的错误，不将 `Series`
    视为映射以重新标记（[GH 12623](https://github.com/pandas-dev/pandas/issues/12623)）'
- en: Clean in `.rolling.min` and `.rolling.max` to enhance dtype handling ([GH 12373](https://github.com/pandas-dev/pandas/issues/12373))
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `.rolling.min` 和 `.rolling.max` 中进行清理以增强 dtype 处理（[GH 12373](https://github.com/pandas-dev/pandas/issues/12373)）
- en: Bug in `groupby` where complex types are coerced to float ([GH 12902](https://github.com/pandas-dev/pandas/issues/12902))
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `groupby` 中，复杂类型被强制转换为浮点数的错误（[GH 12902](https://github.com/pandas-dev/pandas/issues/12902)）
- en: Bug in `Series.map` raises `TypeError` if its dtype is `category` or tz-aware
    `datetime` ([GH 12473](https://github.com/pandas-dev/pandas/issues/12473))
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果 `Series.map` 的 dtype 为 `category` 或 tz-aware `datetime`，则会引发 `TypeError`
    的错误（[GH 12473](https://github.com/pandas-dev/pandas/issues/12473)）
- en: Bugs on 32bit platforms for some test comparisons ([GH 12972](https://github.com/pandas-dev/pandas/issues/12972))
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一些测试比较在 32 位平台上的错误（[GH 12972](https://github.com/pandas-dev/pandas/issues/12972)）
- en: Bug in index coercion when falling back from `RangeIndex` construction ([GH
    12893](https://github.com/pandas-dev/pandas/issues/12893))
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 `RangeIndex` 构造中回退时的索引强制转换错误（[GH 12893](https://github.com/pandas-dev/pandas/issues/12893)）
- en: Better error message in window functions when invalid argument (e.g. a float
    window) is passed ([GH 12669](https://github.com/pandas-dev/pandas/issues/12669))
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在窗口函数中传递无效参数（例如浮点窗口）时提供更好的错误消息（[GH 12669](https://github.com/pandas-dev/pandas/issues/12669)）
- en: Bug in slicing subclassed `DataFrame` defined to return subclassed `Series`
    may return normal `Series` ([GH 11559](https://github.com/pandas-dev/pandas/issues/11559))
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在定义为返回子类化 `Series` 的子类化 `DataFrame` 中切片时可能返回普通 `Series` 的错误（[GH 11559](https://github.com/pandas-dev/pandas/issues/11559)）
- en: Bug in `.str` accessor methods may raise `ValueError` if input has `name` and
    the result is `DataFrame` or `MultiIndex` ([GH 12617](https://github.com/pandas-dev/pandas/issues/12617))
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.str` 访问器方法中的错误可能会在输入具有 `name` 且结果为 `DataFrame` 或 `MultiIndex` 时引发 `ValueError`（[GH
    12617](https://github.com/pandas-dev/pandas/issues/12617)）'
- en: Bug in `DataFrame.last_valid_index()` and `DataFrame.first_valid_index()` on
    empty frames ([GH 12800](https://github.com/pandas-dev/pandas/issues/12800))
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在空框架上的 `DataFrame.last_valid_index()` 和 `DataFrame.first_valid_index()` 中的错误（[GH
    12800](https://github.com/pandas-dev/pandas/issues/12800)）
- en: Bug in `CategoricalIndex.get_loc` returns different result from regular `Index`
    ([GH 12531](https://github.com/pandas-dev/pandas/issues/12531))
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CategoricalIndex.get_loc` 中的错误返回与常规 `Index` 不同（[GH 12531](https://github.com/pandas-dev/pandas/issues/12531)）'
- en: Bug in `PeriodIndex.resample` where name not propagated ([GH 12769](https://github.com/pandas-dev/pandas/issues/12769))
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PeriodIndex.resample` 中的错误，名称未传播（[GH 12769](https://github.com/pandas-dev/pandas/issues/12769)）'
- en: Bug in `date_range` `closed` keyword and timezones ([GH 12684](https://github.com/pandas-dev/pandas/issues/12684)).
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`date_range` 中 `closed` 关键字和时区的错误（[GH 12684](https://github.com/pandas-dev/pandas/issues/12684)）'
- en: Bug in `pd.concat` raises `AttributeError` when input data contains tz-aware
    datetime and timedelta ([GH 12620](https://github.com/pandas-dev/pandas/issues/12620))
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当输入数据包含 tz-aware datetime 和 timedelta 时，`pd.concat` 中引发 `AttributeError` 的错误（[GH
    12620](https://github.com/pandas-dev/pandas/issues/12620)）
- en: Bug in `pd.concat` did not handle empty `Series` properly ([GH 11082](https://github.com/pandas-dev/pandas/issues/11082))
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.concat` 未正确处理空 `Series` 的错误（[GH 11082](https://github.com/pandas-dev/pandas/issues/11082)）'
- en: Bug in `.plot.bar` alignment when `width` is specified with `int` ([GH 12979](https://github.com/pandas-dev/pandas/issues/12979))
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用 `int` 指定 `width` 时，`.plot.bar` 对齐的错误（[GH 12979](https://github.com/pandas-dev/pandas/issues/12979)）
- en: Bug in `fill_value` is ignored if the argument to a binary operator is a constant
    ([GH 12723](https://github.com/pandas-dev/pandas/issues/12723))
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果二元运算符的参数是常量，则忽略 `fill_value` 的错误（[GH 12723](https://github.com/pandas-dev/pandas/issues/12723)）
- en: Bug in `pd.read_html()` when using bs4 flavor and parsing table with a header
    and only one column ([GH 9178](https://github.com/pandas-dev/pandas/issues/9178))
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 bs4 风格和解析具有标题和仅一列的表时，`pd.read_html()` 中的错误（[GH 9178](https://github.com/pandas-dev/pandas/issues/9178)）
- en: Bug in `.pivot_table` when `margins=True` and `dropna=True` where nulls still
    contributed to margin count ([GH 12577](https://github.com/pandas-dev/pandas/issues/12577))
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当 `margins=True` 和 `dropna=True` 时 `.pivot_table` 中空值仍然会影响边际计数的错误（[GH 12577](https://github.com/pandas-dev/pandas/issues/12577))
- en: Bug in `.pivot_table` when `dropna=False` where table index/column names disappear
    ([GH 12133](https://github.com/pandas-dev/pandas/issues/12133))
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当 `dropna=False` 时 `.pivot_table` 中表索引/列名称消失的错误（[GH 12133](https://github.com/pandas-dev/pandas/issues/12133))
- en: Bug in `pd.crosstab()` when `margins=True` and `dropna=False` which raised ([GH
    12642](https://github.com/pandas-dev/pandas/issues/12642))
  id: totrans-251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当 `margins=True` 和 `dropna=False` 时 `pd.crosstab()` 中引发的错误（[GH 12642](https://github.com/pandas-dev/pandas/issues/12642))
- en: Bug in `Series.name` when `name` attribute can be a hashable type ([GH 12610](https://github.com/pandas-dev/pandas/issues/12610))
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当 `name` 属性可以是可哈希类型时 `Series.name` 的错误（[GH 12610](https://github.com/pandas-dev/pandas/issues/12610))
- en: Bug in `.describe()` resets categorical columns information ([GH 11558](https://github.com/pandas-dev/pandas/issues/11558))
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 `.describe()` 重置分类列信息的错误（[GH 11558](https://github.com/pandas-dev/pandas/issues/11558))
- en: Bug where `loffset` argument was not applied when calling `resample().count()`
    on a timeseries ([GH 12725](https://github.com/pandas-dev/pandas/issues/12725))
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在时间序列上调用 `resample().count()` 时未应用 `loffset` 参数的错误（[GH 12725](https://github.com/pandas-dev/pandas/issues/12725))
- en: '`pd.read_excel()` now accepts column names associated with keyword argument
    `names` ([GH 12870](https://github.com/pandas-dev/pandas/issues/12870))'
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_excel()` 现在接受与关键字参数 `names` 关联的列名（[GH 12870](https://github.com/pandas-dev/pandas/issues/12870))'
- en: Bug in `pd.to_numeric()` with `Index` returns `np.ndarray`, rather than `Index`
    ([GH 12777](https://github.com/pandas-dev/pandas/issues/12777))
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 `pd.to_numeric()` 在返回 `np.ndarray` 而不是 `Index` 时的错误（[GH 12777](https://github.com/pandas-dev/pandas/issues/12777))
- en: Bug in `pd.to_numeric()` with datetime-like may raise `TypeError` ([GH 12777](https://github.com/pandas-dev/pandas/issues/12777))
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 `pd.to_numeric()` 在类似日期时间的情况下可能引发 `TypeError` 的错误（[GH 12777](https://github.com/pandas-dev/pandas/issues/12777))
- en: 'Bug in `pd.to_numeric()` with scalar raises `ValueError` ([GH 12777](https://github.com/pandas-dev/pandas/issues/12777))  ##
    Contributors'
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '修复了当标量使用 `pd.to_numeric()` 时引发 `ValueError` 的错误（[GH 12777](https://github.com/pandas-dev/pandas/issues/12777))  ##
    贡献者'
- en: A total of 60 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 总共有60人为此版本贡献了补丁。名字后面带有“+”的人是第一次贡献补丁。
- en: Andrew Fiore-Gartland +
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Fiore-Gartland +
- en: Bastiaan +
  id: totrans-261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bastiaan +
- en: Benoît Vinot +
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Benoît Vinot +
- en: Brandon Rhodes +
  id: totrans-263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brandon Rhodes +
- en: DaCoEx +
  id: totrans-264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DaCoEx +
- en: Drew Fustin +
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Drew Fustin +
- en: Ernesto Freitas +
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ernesto Freitas +
- en: Filip Ter +
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Filip Ter +
- en: Gregory Livschitz +
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gregory Livschitz +
- en: Gábor Lipták
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gábor Lipták
- en: Hassan Kibirige +
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hassan Kibirige +
- en: Iblis Lin
  id: totrans-271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Iblis Lin
- en: Israel Saeta Pérez +
  id: totrans-272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Israel Saeta Pérez +
- en: Jason Wolosonovich +
  id: totrans-273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jason Wolosonovich +
- en: Jeff Reback
  id: totrans-274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeff Reback
- en: Joe Jevnik
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joe Jevnik
- en: Joris Van den Bossche
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Van den Bossche
- en: Joshua Storck +
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joshua Storck +
- en: Ka Wo Chen
  id: totrans-278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ka Wo Chen
- en: Kerby Shedden
  id: totrans-279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kerby Shedden
- en: Kieran O’Mahony
  id: totrans-280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kieran O’Mahony
- en: Leif Walsh +
  id: totrans-281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Leif Walsh +
- en: Mahmoud Lababidi +
  id: totrans-282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mahmoud Lababidi +
- en: Maoyuan Liu +
  id: totrans-283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maoyuan Liu +
- en: Mark Roth +
  id: totrans-284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mark Roth +
- en: Matt Wittmann
  id: totrans-285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Wittmann
- en: MaxU +
  id: totrans-286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MaxU +
- en: Maximilian Roos
  id: totrans-287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maximilian Roos
- en: Michael Droettboom +
  id: totrans-288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Droettboom +
- en: Nick Eubank
  id: totrans-289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nick Eubank
- en: Nicolas Bonnotte
  id: totrans-290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nicolas Bonnotte
- en: OXPHOS +
  id: totrans-291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OXPHOS +
- en: Pauli Virtanen +
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pauli Virtanen +
- en: Peter Waller +
  id: totrans-293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Peter Waller +
- en: Pietro Battiston
  id: totrans-294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pietro Battiston
- en: Prabhjot Singh +
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Prabhjot Singh +
- en: Robin Wilson
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robin Wilson
- en: Roger Thomas +
  id: totrans-297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Roger Thomas +
- en: Sebastian Bank
  id: totrans-298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sebastian Bank
- en: Stephen Hoover
  id: totrans-299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stephen Hoover
- en: Tim Hopper +
  id: totrans-300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tim Hopper +
- en: Tom Augspurger
  id: totrans-301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tom Augspurger
- en: WANG Aiyong
  id: totrans-302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 王爱勇
- en: Wes Turner
  id: totrans-303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wes Turner
- en: Winand +
  id: totrans-304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Winand +
- en: Xbar +
  id: totrans-305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Xbar +
- en: Yan Facai +
  id: totrans-306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yan Facai +
- en: adneu +
  id: totrans-307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: adneu +
- en: ajenkins-cargometrics +
  id: totrans-308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ajenkins-cargometrics +
- en: behzad nouri
  id: totrans-309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: behzad nouri
- en: chinskiy +
  id: totrans-310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: chinskiy +
- en: gfyoung
  id: totrans-311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gfyoung
- en: jeps-journal +
  id: totrans-312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jeps-journal +
- en: jonaslb +
  id: totrans-313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jonaslb +
- en: kotrfa +
  id: totrans-314
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: kotrfa +
- en: nileracecrew +
  id: totrans-315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: nileracecrew +
- en: onesandzeroes
  id: totrans-316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: onesandzeroes
- en: rs2 +
  id: totrans-317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: rs2 +
- en: sinhrks
  id: totrans-318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sinhrks
- en: 'tsdlovell +  ## New features'
  id: totrans-319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'tsdlovell +  ## 新功能'
- en: '### Custom business hour'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: '### 自定义营业时间'
- en: The `CustomBusinessHour` is a mixture of `BusinessHour` and `CustomBusinessDay`
    which allows you to specify arbitrary holidays. For details, see [Custom Business
    Hour](../user_guide/timeseries.html#timeseries-custombusinesshour) ([GH 11514](https://github.com/pandas-dev/pandas/issues/11514))
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: '`CustomBusinessHour` 是 `BusinessHour` 和 `CustomBusinessDay` 的混合体，允许您指定任意假期。详情请参阅[自定义营业时间](../user_guide/timeseries.html#timeseries-custombusinesshour)（[GH
    11514](https://github.com/pandas-dev/pandas/issues/11514))'
- en: '[PRE37]'
  id: totrans-322
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: Friday before MLK Day
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 马丁路德金日前的星期五
- en: '[PRE38]'
  id: totrans-324
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: Tuesday after MLK Day (Monday is skipped because it’s a holiday)
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 马丁路德金日后的星期二（星期一被跳过，因为那是一个假期）
- en: '[PRE39]  ### Method `.groupby(..)` syntax with window and resample operations'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE39]  ### 方法 `.groupby(..)` 语法与窗口和重采样操作'
- en: '`.groupby(...)` has been enhanced to provide convenient syntax when working
    with `.rolling(..)`, `.expanding(..)` and `.resample(..)` per group, see ([GH
    12486](https://github.com/pandas-dev/pandas/issues/12486), [GH 12738](https://github.com/pandas-dev/pandas/issues/12738)).'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: '`.groupby(...)` 已经增强，以提供在每个分组上使用 `.rolling(..)`、`.expanding(..)` 和 `.resample(..)`
    时方便的语法，请参见 ([GH 12486](https://github.com/pandas-dev/pandas/issues/12486), [GH
    12738](https://github.com/pandas-dev/pandas/issues/12738))。'
- en: You can now use `.rolling(..)` and `.expanding(..)` as methods on groupbys.
    These return another deferred object (similar to what `.rolling()` and `.expanding()`
    do on ungrouped pandas objects). You can then operate on these `RollingGroupby`
    objects in a similar manner.
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在可以在分组上使用 `.rolling(..)` 和 `.expanding(..)` 作为方法。这些返回另一个延迟对象（类似于在未分组的 pandas
    对象上所做的 `.rolling()` 和 `.expanding()`）。然后，你可以以类似的方式操作这些 `RollingGroupby` 对象。
- en: 'Previously you would have to do this to get a rolling window mean per-group:'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 以前，你必须这样做才能得到每个分组的滚动窗口均值：
- en: '[PRE40]'
  id: totrans-330
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: '[PRE41]'
  id: totrans-331
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'Now you can do:'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你可以这样做：
- en: '[PRE42]'
  id: totrans-333
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'For `.resample(..)` type of operations, previously you would have to:'
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 `.resample(..)` 类型的操作，以前你必须：
- en: '[PRE43]'
  id: totrans-335
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: '[PRE44]'
  id: totrans-336
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'Now you can do:'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你可以这样做：
- en: '[PRE45]  ### Method chaining improvements'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE45]  ### 方法链接改进'
- en: The following methods / indexers now accept a `callable`. It is intended to
    make these more useful in method chains, see the [documentation](../user_guide/indexing.html#indexing-callable).
    ([GH 11485](https://github.com/pandas-dev/pandas/issues/11485), [GH 12533](https://github.com/pandas-dev/pandas/issues/12533))
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 下列方法 / 索引器现在接受一个 `callable`。这意在使它们在方法链中更加有用，详见[文档](../user_guide/indexing.html#indexing-callable)。
    ([GH 11485](https://github.com/pandas-dev/pandas/issues/11485), [GH 12533](https://github.com/pandas-dev/pandas/issues/12533))
- en: '`.where()` and `.mask()`'
  id: totrans-340
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.where()` 和 `.mask()`'
- en: '`.loc[]`, `iloc[]` and `.ix[]`'
  id: totrans-341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.loc[]`、`iloc[]` 和 `.ix[]`'
- en: '`[]` indexing'
  id: totrans-342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`[]` 索引'
- en: Methods `.where()` and `.mask()`
  id: totrans-343
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 方法 `.where()` 和 `.mask()`
- en: These can accept a callable for the condition and `other` arguments.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 这些可以接受一个可调用函数作为条件和 `other` 参数。
- en: '[PRE46]'
  id: totrans-345
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: Methods `.loc[]`, `.iloc[]`, `.ix[]`
  id: totrans-346
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 方法 `.loc[]`、`.iloc[]`、`.ix[]`
- en: These can accept a callable, and a tuple of callable as a slicer. The callable
    can return a valid boolean indexer or anything which is valid for these indexer’s
    input.
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 这些可以接受一个可调用函数，以及一个可调用函数的元组作为切片器。可调用函数可以返回一个有效的布尔索引器或对于这些索引器的输入有效的任何内容。
- en: '[PRE47]'
  id: totrans-348
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: Indexing with `[]`
  id: totrans-349
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 使用 `[]` 进行索引
- en: Finally, you can use a callable in `[]` indexing of Series, DataFrame and Panel.
    The callable must return a valid input for `[]` indexing depending on its class
    and index type.
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，你可以在 Series、DataFrame 和 Panel 的 `[]` 索引中使用可调用的函数。这个可调用函数必须根据其类和索引类型返回一个有效的
    `[]` 索引的输入。
- en: '[PRE48]'
  id: totrans-351
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: Using these methods / indexers, you can chain data selection operations without
    using temporary variable.
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这些方法 / 索引器，你可以在不使用临时变量的情况下链式进行数据选择操作。
- en: '[PRE49]  ### Partial string indexing on `DatetimeIndex` when part of a `MultiIndex`'
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE49]  ### 在 `MultiIndex` 的一部分是 `DatetimeIndex` 上的部分字符串索引'
- en: Partial string indexing now matches on `DateTimeIndex` when part of a `MultiIndex`
    ([GH 10331](https://github.com/pandas-dev/pandas/issues/10331))
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: 部分字符串索引现在匹配 `MultiIndex` 的一部分是 `DateTimeIndex` ([GH 10331](https://github.com/pandas-dev/pandas/issues/10331))
- en: '[PRE50]'
  id: totrans-355
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: On other levels
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 在其他级别上
- en: '[PRE51]  ### Assembling datetimes'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE51]  ### 组装日期时间'
- en: '`pd.to_datetime()` has gained the ability to assemble datetimes from a passed
    in `DataFrame` or a dict. ([GH 8158](https://github.com/pandas-dev/pandas/issues/8158)).'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: '`pd.to_datetime()` 现在具有从传递的 `DataFrame` 或字典中组装日期时间的能力 ([GH 8158](https://github.com/pandas-dev/pandas/issues/8158)).'
- en: '[PRE52]'
  id: totrans-359
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: Assembling using the passed frame.
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 使用传递的框架进行组装。
- en: '[PRE53]'
  id: totrans-361
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: You can pass only the columns that you need to assemble.
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 你只需要传递你需要组装的列。
- en: '[PRE54]  ### Other enhancements'
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE54]  ### 其他增强'
- en: '`pd.read_csv()` now supports `delim_whitespace=True` for the Python engine
    ([GH 12958](https://github.com/pandas-dev/pandas/issues/12958))'
  id: totrans-364
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv()` 现在支持 Python 引擎的 `delim_whitespace=True` ([GH 12958](https://github.com/pandas-dev/pandas/issues/12958))'
- en: '`pd.read_csv()` now supports opening ZIP files that contains a single CSV,
    via extension inference or explicit `compression=''zip''` ([GH 12175](https://github.com/pandas-dev/pandas/issues/12175))'
  id: totrans-365
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv()` 现在支持打开包含单个 CSV 的 ZIP 文件，通过扩展推断或明确指定 `compression=''zip''` ([GH
    12175](https://github.com/pandas-dev/pandas/issues/12175))'
- en: '`pd.read_csv()` now supports opening files using xz compression, via extension
    inference or explicit `compression=''xz''` is specified; `xz` compressions is
    also supported by `DataFrame.to_csv` in the same way ([GH 11852](https://github.com/pandas-dev/pandas/issues/11852))'
  id: totrans-366
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv()` 现在支持使用 xz 压缩打开文件，通过扩展推断或明确指定 `compression=''xz''`；`xz` 压缩也同样被
    `DataFrame.to_csv` 支持，方式相同 ([GH 11852](https://github.com/pandas-dev/pandas/issues/11852))'
- en: '`pd.read_msgpack()` now always gives writeable ndarrays even when compression
    is used ([GH 12359](https://github.com/pandas-dev/pandas/issues/12359)).'
  id: totrans-367
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_msgpack()`现在即使使用压缩，也始终返回可写入的ndarrays ([GH 12359](https://github.com/pandas-dev/pandas/issues/12359)).'
- en: '`pd.read_msgpack()` now supports serializing and de-serializing categoricals
    with msgpack ([GH 12573](https://github.com/pandas-dev/pandas/issues/12573))'
  id: totrans-368
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_msgpack()`现在支持使用msgpack序列化和反序列化分类变量 ([GH 12573](https://github.com/pandas-dev/pandas/issues/12573))'
- en: '`.to_json()` now supports `NDFrames` that contain categorical and sparse data
    ([GH 10778](https://github.com/pandas-dev/pandas/issues/10778))'
  id: totrans-369
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.to_json()`现在支持包含分类和稀疏数据的`NDFrames` ([GH 10778](https://github.com/pandas-dev/pandas/issues/10778))'
- en: '`interpolate()` now supports `method=''akima''` ([GH 7588](https://github.com/pandas-dev/pandas/issues/7588)).'
  id: totrans-370
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`interpolate()`现在支持`method=''akima''` ([GH 7588](https://github.com/pandas-dev/pandas/issues/7588)).'
- en: '`pd.read_excel()` now accepts path objects (e.g. `pathlib.Path`, `py.path.local`)
    for the file path, in line with other `read_*` functions ([GH 12655](https://github.com/pandas-dev/pandas/issues/12655))'
  id: totrans-371
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_excel()`现在接受路径对象（例如`pathlib.Path`、`py.path.local`）作为文件路径，与其他`read_*`函数保持一致
    ([GH 12655](https://github.com/pandas-dev/pandas/issues/12655))'
- en: Added `.weekday_name` property as a component to `DatetimeIndex` and the `.dt`
    accessor. ([GH 11128](https://github.com/pandas-dev/pandas/issues/11128))
  id: totrans-372
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加了`.weekday_name`属性作为`DatetimeIndex`和`.dt`访问器的组成部分。 ([GH 11128](https://github.com/pandas-dev/pandas/issues/11128))
- en: '`Index.take` now handles `allow_fill` and `fill_value` consistently ([GH 12631](https://github.com/pandas-dev/pandas/issues/12631))'
  id: totrans-373
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.take`现在一致处理`allow_fill`和`fill_value` ([GH 12631](https://github.com/pandas-dev/pandas/issues/12631))'
- en: '[PRE55]'
  id: totrans-374
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE55]'
- en: '`Index` now supports `.str.get_dummies()` which returns `MultiIndex`, see [Creating
    Indicator Variables](../user_guide/text.html#text-indicator) ([GH 10008](https://github.com/pandas-dev/pandas/issues/10008),
    [GH 10103](https://github.com/pandas-dev/pandas/issues/10103))'
  id: totrans-375
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index`现在支持`.str.get_dummies()`，返回`MultiIndex`，参见[Creating Indicator Variables](../user_guide/text.html#text-indicator)
    ([GH 10008](https://github.com/pandas-dev/pandas/issues/10008), [GH 10103](https://github.com/pandas-dev/pandas/issues/10103))'
- en: '[PRE56]'
  id: totrans-376
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE56]'
- en: '`pd.crosstab()` has gained a `normalize` argument for normalizing frequency
    tables ([GH 12569](https://github.com/pandas-dev/pandas/issues/12569)). Examples
    in the updated docs [here](../user_guide/reshaping.html#reshaping-crosstabulations).'
  id: totrans-377
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.crosstab()`增加了一个`normalize`参数，用于规范化频率表 ([GH 12569](https://github.com/pandas-dev/pandas/issues/12569)).
    更新文档中的示例在[这里](../user_guide/reshaping.html#reshaping-crosstabulations).'
- en: '`.resample(..).interpolate()` is now supported ([GH 12925](https://github.com/pandas-dev/pandas/issues/12925))'
  id: totrans-378
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.resample(..).interpolate()`现在受支持 ([GH 12925](https://github.com/pandas-dev/pandas/issues/12925))'
- en: '`.isin()` now accepts passed `sets` ([GH 12988](https://github.com/pandas-dev/pandas/issues/12988))  ###
    Custom business hour'
  id: totrans-379
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.isin()`现在接受传递的`sets` ([GH 12988](https://github.com/pandas-dev/pandas/issues/12988))  ###
    自定义工作时间'
- en: The `CustomBusinessHour` is a mixture of `BusinessHour` and `CustomBusinessDay`
    which allows you to specify arbitrary holidays. For details, see [Custom Business
    Hour](../user_guide/timeseries.html#timeseries-custombusinesshour) ([GH 11514](https://github.com/pandas-dev/pandas/issues/11514))
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: '`CustomBusinessHour`是`BusinessHour`和`CustomBusinessDay`的混合体，允许您指定任意假期。详情请参见[Custom
    Business Hour](../user_guide/timeseries.html#timeseries-custombusinesshour) ([GH
    11514](https://github.com/pandas-dev/pandas/issues/11514))'
- en: '[PRE57]'
  id: totrans-381
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: Friday before MLK Day
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: MLK日前的星期五
- en: '[PRE58]'
  id: totrans-383
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: Tuesday after MLK Day (Monday is skipped because it’s a holiday)
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: MLK日后的星期二（星期一被跳过，因为那是个假日）
- en: '[PRE59]'
  id: totrans-385
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: '### Method `.groupby(..)` syntax with window and resample operations'
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: '### 方法`.groupby(..)`语法与窗口和重新采样操作'
- en: '`.groupby(...)` has been enhanced to provide convenient syntax when working
    with `.rolling(..)`, `.expanding(..)` and `.resample(..)` per group, see ([GH
    12486](https://github.com/pandas-dev/pandas/issues/12486), [GH 12738](https://github.com/pandas-dev/pandas/issues/12738)).'
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: '`.groupby(...)`已经增强，提供了方便的语法，用于在每个组中使用`.rolling(..)`、`.expanding(..)`和`.resample(..)`，参见([GH
    12486](https://github.com/pandas-dev/pandas/issues/12486), [GH 12738](https://github.com/pandas-dev/pandas/issues/12738)).'
- en: You can now use `.rolling(..)` and `.expanding(..)` as methods on groupbys.
    These return another deferred object (similar to what `.rolling()` and `.expanding()`
    do on ungrouped pandas objects). You can then operate on these `RollingGroupby`
    objects in a similar manner.
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您可以在groupbys上使用`.rolling(..)`和`.expanding(..)`作为方法。这些返回另一个延迟对象（类似于在未分组的pandas对象上执行的`.rolling()`和`.expanding()`）。然后，您可以以类似的方式操作这些`RollingGroupby`对象。
- en: 'Previously you would have to do this to get a rolling window mean per-group:'
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 以前你需要这样做才能获得��组的滚动窗口均值：
- en: '[PRE60]'
  id: totrans-390
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: '[PRE61]'
  id: totrans-391
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 'Now you can do:'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你可以这样做：
- en: '[PRE62]'
  id: totrans-393
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: 'For `.resample(..)` type of operations, previously you would have to:'
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 对于`.resample(..)`类型的操作，以前你需要：
- en: '[PRE63]'
  id: totrans-395
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: '[PRE64]'
  id: totrans-396
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: 'Now you can do:'
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你可以这样做：
- en: '[PRE65]'
  id: totrans-398
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: '### Method chaining improvements'
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: '### 方法链改进'
- en: The following methods / indexers now accept a `callable`. It is intended to
    make these more useful in method chains, see the [documentation](../user_guide/indexing.html#indexing-callable).
    ([GH 11485](https://github.com/pandas-dev/pandas/issues/11485), [GH 12533](https://github.com/pandas-dev/pandas/issues/12533))
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: 以下方法/索引器现在接受 `callable`。旨在使它们在方法链中更加实用，详见[文档](../user_guide/indexing.html#indexing-callable)（[GH
    11485](https://github.com/pandas-dev/pandas/issues/11485), [GH 12533](https://github.com/pandas-dev/pandas/issues/12533)）。
- en: '`.where()` and `.mask()`'
  id: totrans-401
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.where()` 和 `.mask()`'
- en: '`.loc[]`, `iloc[]` and `.ix[]`'
  id: totrans-402
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.loc[]`、`iloc[]` 和 `.ix[]`'
- en: '`[]` indexing'
  id: totrans-403
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`[]` 索引'
- en: Methods `.where()` and `.mask()`
  id: totrans-404
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 方法 `.where()` 和 `.mask()`
- en: These can accept a callable for the condition and `other` arguments.
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: 这些可以接受条件和 `other` 参数的可调用对象。
- en: '[PRE66]'
  id: totrans-406
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: Methods `.loc[]`, `.iloc[]`, `.ix[]`
  id: totrans-407
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 方法 `.loc[]`、`.iloc[]`、`.ix[]`
- en: These can accept a callable, and a tuple of callable as a slicer. The callable
    can return a valid boolean indexer or anything which is valid for these indexer’s
    input.
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: 这些可以接受一个可调用对象，以及一个切片器的元组。可调用对象可以返回有效的布尔索引器或适用于这些索引器输入的任何内容。
- en: '[PRE67]'
  id: totrans-409
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: Indexing with `[]`
  id: totrans-410
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 使用 `[]` 进行索引
- en: Finally, you can use a callable in `[]` indexing of Series, DataFrame and Panel.
    The callable must return a valid input for `[]` indexing depending on its class
    and index type.
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，你可以在 Series、DataFrame 和 Panel 的 `[]` 索引中使用可调用对象。可调用对象必须根据其类别和索引类型返回 `[]`
    索引的有效输入。
- en: '[PRE68]'
  id: totrans-412
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: Using these methods / indexers, you can chain data selection operations without
    using temporary variable.
  id: totrans-413
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这些方法/索引器，你可以在不使用临时变量的情况下链接数据选择操作。
- en: '[PRE69]'
  id: totrans-414
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: Methods `.where()` and `.mask()`
  id: totrans-415
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 方法 `.where()` 和 `.mask()`
- en: These can accept a callable for the condition and `other` arguments.
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: 这些可以接受条件和 `other` 参数的可调用对象。
- en: '[PRE70]'
  id: totrans-417
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: Methods `.loc[]`, `.iloc[]`, `.ix[]`
  id: totrans-418
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 方法 `.loc[]`、`.iloc[]`、`.ix[]`
- en: These can accept a callable, and a tuple of callable as a slicer. The callable
    can return a valid boolean indexer or anything which is valid for these indexer’s
    input.
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: 这些可以接受一个可调用对象，以及一个切片器的元组。可调用对象可以返回有效的布尔索引器或适用于这些索引器输入的任何内容。
- en: '[PRE71]'
  id: totrans-420
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: Indexing with `[]`
  id: totrans-421
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 使用 `[]` 进行索引
- en: Finally, you can use a callable in `[]` indexing of Series, DataFrame and Panel.
    The callable must return a valid input for `[]` indexing depending on its class
    and index type.
  id: totrans-422
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，你可以在 Series、DataFrame 和 Panel 的 `[]` 索引中使用可调用对象。可调用对象必须根据其类别和索引类型返回 `[]`
    索引的有效输入。
- en: '[PRE72]'
  id: totrans-423
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: Using these methods / indexers, you can chain data selection operations without
    using temporary variable.
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这些方法/索引器，你可以在不使用临时变量的情况下链接数据选择操作。
- en: '[PRE73]'
  id: totrans-425
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: '### Partial string indexing on `DatetimeIndex` when part of a `MultiIndex`'
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
  zh: '### 部分字符串索引在 `DatetimeIndex` 的一部分时'
- en: Partial string indexing now matches on `DateTimeIndex` when part of a `MultiIndex`
    ([GH 10331](https://github.com/pandas-dev/pandas/issues/10331))
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: 当作为 `MultiIndex` 的一部分时，部分字符串索引现在匹配 `DateTimeIndex`（[GH 10331](https://github.com/pandas-dev/pandas/issues/10331)）。
- en: '[PRE74]'
  id: totrans-428
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: On other levels
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: 在其他级别上
- en: '[PRE75]'
  id: totrans-430
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: '### Assembling datetimes'
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: '### 组装日期时间'
- en: '`pd.to_datetime()` has gained the ability to assemble datetimes from a passed
    in `DataFrame` or a dict. ([GH 8158](https://github.com/pandas-dev/pandas/issues/8158)).'
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: '`pd.to_datetime()` 现在具有从传递的 `DataFrame` 或字典组装日期时间的能力（[GH 8158](https://github.com/pandas-dev/pandas/issues/8158)）。'
- en: '[PRE76]'
  id: totrans-433
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: Assembling using the passed frame.
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
  zh: 使用传递的框架进行组装。
- en: '[PRE77]'
  id: totrans-435
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: You can pass only the columns that you need to assemble.
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: 你只需传递需要组装的列。
- en: '[PRE78]'
  id: totrans-437
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: '### Other enhancements'
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: '### 其他增强'
- en: '`pd.read_csv()` now supports `delim_whitespace=True` for the Python engine
    ([GH 12958](https://github.com/pandas-dev/pandas/issues/12958))'
  id: totrans-439
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv()` 现在支持 Python 引擎的 `delim_whitespace=True`（[GH 12958](https://github.com/pandas-dev/pandas/issues/12958)）。'
- en: '`pd.read_csv()` now supports opening ZIP files that contains a single CSV,
    via extension inference or explicit `compression=''zip''` ([GH 12175](https://github.com/pandas-dev/pandas/issues/12175))'
  id: totrans-440
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv()` 现在支持通过扩展推断或明确指定 `compression=''zip''` 来打开包含单个 CSV 的 ZIP 文件（[GH
    12175](https://github.com/pandas-dev/pandas/issues/12175)）。'
- en: '`pd.read_csv()` now supports opening files using xz compression, via extension
    inference or explicit `compression=''xz''` is specified; `xz` compressions is
    also supported by `DataFrame.to_csv` in the same way ([GH 11852](https://github.com/pandas-dev/pandas/issues/11852))'
  id: totrans-441
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv()` 现在支持使用 xz 压缩打开文件，通过扩展推断或明确指定 `compression=''xz''`；`xz` 压缩也同样被
    `DataFrame.to_csv` 支持（[GH 11852](https://github.com/pandas-dev/pandas/issues/11852)）。'
- en: '`pd.read_msgpack()` now always gives writeable ndarrays even when compression
    is used ([GH 12359](https://github.com/pandas-dev/pandas/issues/12359)).'
  id: totrans-442
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_msgpack()` 现在即使使用了压缩，也总是返回可写入的 ndarrays（[GH 12359](https://github.com/pandas-dev/pandas/issues/12359)）。'
- en: '`pd.read_msgpack()` now supports serializing and de-serializing categoricals
    with msgpack ([GH 12573](https://github.com/pandas-dev/pandas/issues/12573))'
  id: totrans-443
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_msgpack()` 现在支持使用 msgpack 序列化和反序列化分类数据（[GH 12573](https://github.com/pandas-dev/pandas/issues/12573)）'
- en: '`.to_json()` now supports `NDFrames` that contain categorical and sparse data
    ([GH 10778](https://github.com/pandas-dev/pandas/issues/10778))'
  id: totrans-444
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.to_json()` 现在支持包含分类和稀疏数据的 `NDFrames`（[GH 10778](https://github.com/pandas-dev/pandas/issues/10778)）'
- en: '`interpolate()` now supports `method=''akima''` ([GH 7588](https://github.com/pandas-dev/pandas/issues/7588)).'
  id: totrans-445
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`interpolate()` 现在支持 `method=''akima''`（[GH 7588](https://github.com/pandas-dev/pandas/issues/7588)）'
- en: '`pd.read_excel()` now accepts path objects (e.g. `pathlib.Path`, `py.path.local`)
    for the file path, in line with other `read_*` functions ([GH 12655](https://github.com/pandas-dev/pandas/issues/12655))'
  id: totrans-446
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_excel()` 现在接受路径对象（例如 `pathlib.Path`，`py.path.local`）作为文件路径，与其他 `read_*`
    函数保持一致（[GH 12655](https://github.com/pandas-dev/pandas/issues/12655)）'
- en: Added `.weekday_name` property as a component to `DatetimeIndex` and the `.dt`
    accessor. ([GH 11128](https://github.com/pandas-dev/pandas/issues/11128))
  id: totrans-447
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增加了 `.weekday_name` 属性作为 `DatetimeIndex` 和 `.dt` 访问器的组成部分（[GH 11128](https://github.com/pandas-dev/pandas/issues/11128)）
- en: '`Index.take` now handles `allow_fill` and `fill_value` consistently ([GH 12631](https://github.com/pandas-dev/pandas/issues/12631))'
  id: totrans-448
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index.take` 现在一致地处理 `allow_fill` 和 `fill_value`（[GH 12631](https://github.com/pandas-dev/pandas/issues/12631)）'
- en: '[PRE79]'
  id: totrans-449
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE79]'
- en: '`Index` now supports `.str.get_dummies()` which returns `MultiIndex`, see [Creating
    Indicator Variables](../user_guide/text.html#text-indicator) ([GH 10008](https://github.com/pandas-dev/pandas/issues/10008),
    [GH 10103](https://github.com/pandas-dev/pandas/issues/10103))'
  id: totrans-450
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Index` 现在支持 `.str.get_dummies()`，返回 `MultiIndex`，详见 [创建指示变量](../user_guide/text.html#text-indicator)（[GH
    10008](https://github.com/pandas-dev/pandas/issues/10008)，[GH 10103](https://github.com/pandas-dev/pandas/issues/10103)）'
- en: '[PRE80]'
  id: totrans-451
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE80]'
- en: '`pd.crosstab()` has gained a `normalize` argument for normalizing frequency
    tables ([GH 12569](https://github.com/pandas-dev/pandas/issues/12569)). Examples
    in the updated docs [here](../user_guide/reshaping.html#reshaping-crosstabulations).'
  id: totrans-452
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.crosstab()` 增加了 `normalize` 参数以对频率表进行归一化处理（[GH 12569](https://github.com/pandas-dev/pandas/issues/12569)）。更新的文档示例在
    [这里](../user_guide/reshaping.html#reshaping-crosstabulations)。'
- en: '`.resample(..).interpolate()` is now supported ([GH 12925](https://github.com/pandas-dev/pandas/issues/12925))'
  id: totrans-453
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.resample(..).interpolate()` 现在受支持（[GH 12925](https://github.com/pandas-dev/pandas/issues/12925)）'
- en: '`.isin()` now accepts passed `sets` ([GH 12988](https://github.com/pandas-dev/pandas/issues/12988))'
  id: totrans-454
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.isin()` 现在接受传递的 `sets`（[GH 12988](https://github.com/pandas-dev/pandas/issues/12988)）'
- en: '## Sparse changes'
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: '## 稀疏变化'
- en: These changes conform sparse handling to return the correct types and work to
    make a smoother experience with indexing.
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
  zh: 这些变化使稀疏处理返回正确的类型，并努力使索引体验更加流畅。
- en: '`SparseArray.take` now returns a scalar for scalar input, `SparseArray` for
    others. Furthermore, it handles a negative indexer with the same rule as `Index`
    ([GH 10560](https://github.com/pandas-dev/pandas/issues/10560), [GH 12796](https://github.com/pandas-dev/pandas/issues/12796))'
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
  zh: '`SparseArray.take` 现在对标量输入返回标量，对其他输入返回 `SparseArray`。此外，它以与 `Index` 相同的规则处理负索引器（[GH
    10560](https://github.com/pandas-dev/pandas/issues/10560)，[GH 12796](https://github.com/pandas-dev/pandas/issues/12796)）'
- en: '[PRE81]'
  id: totrans-458
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: Bug in `SparseSeries[]` indexing with `Ellipsis` raises `KeyError` ([GH 9467](https://github.com/pandas-dev/pandas/issues/9467))
  id: totrans-459
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries[]` 使用 `Ellipsis` 进行索引时会引发 `KeyError` 的 Bug（[GH 9467](https://github.com/pandas-dev/pandas/issues/9467)）'
- en: Bug in `SparseArray[]` indexing with tuples are not handled properly ([GH 12966](https://github.com/pandas-dev/pandas/issues/12966))
  id: totrans-460
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray[]` 对元组进行索引的 Bug 没有得到正确处理（[GH 12966](https://github.com/pandas-dev/pandas/issues/12966)）'
- en: Bug in `SparseSeries.loc[]` with list-like input raises `TypeError` ([GH 10560](https://github.com/pandas-dev/pandas/issues/10560))
  id: totrans-461
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.loc[]` 中出现列表类似输入时引发 `TypeError` 的 Bug（[GH 10560](https://github.com/pandas-dev/pandas/issues/10560)）'
- en: Bug in `SparseSeries.iloc[]` with scalar input may raise `IndexError` ([GH 10560](https://github.com/pandas-dev/pandas/issues/10560))
  id: totrans-462
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.iloc[]` 中出现标量输入可能引发 `IndexError` 的 Bug（[GH 10560](https://github.com/pandas-dev/pandas/issues/10560)）'
- en: Bug in `SparseSeries.loc[]`, `.iloc[]` with `slice` returns `SparseArray`, rather
    than `SparseSeries` ([GH 10560](https://github.com/pandas-dev/pandas/issues/10560))
  id: totrans-463
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.loc[]`、`.iloc[]` 中使用 `slice` 返回 `SparseArray`，而不是 `SparseSeries`
    的 Bug（[GH 10560](https://github.com/pandas-dev/pandas/issues/10560)）'
- en: Bug in `SparseDataFrame.loc[]`, `.iloc[]` may results in dense `Series`, rather
    than `SparseSeries` ([GH 12787](https://github.com/pandas-dev/pandas/issues/12787))
  id: totrans-464
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseDataFrame.loc[]`、`.iloc[]` 中出现的 Bug 可能导致密集 `Series`，而不是 `SparseSeries`（[GH
    12787](https://github.com/pandas-dev/pandas/issues/12787)）'
- en: Bug in `SparseArray` addition ignores `fill_value` of right hand side ([GH 12910](https://github.com/pandas-dev/pandas/issues/12910))
  id: totrans-465
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray` 的加法中忽略右侧的 `fill_value` 的 Bug ([GH 12910](https://github.com/pandas-dev/pandas/issues/12910))'
- en: Bug in `SparseArray` mod raises `AttributeError` ([GH 12910](https://github.com/pandas-dev/pandas/issues/12910))
  id: totrans-466
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray` 的 mod 函数中存在 Bug，会引发 `AttributeError` ([GH 12910](https://github.com/pandas-dev/pandas/issues/12910))'
- en: Bug in `SparseArray` pow calculates `1 ** np.nan` as `np.nan` which must be
    1 ([GH 12910](https://github.com/pandas-dev/pandas/issues/12910))
  id: totrans-467
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray` 的 pow 函数中存在 Bug，将 `1 ** np.nan` 计算为 `np.nan`，应该是 `1` ([GH 12910](https://github.com/pandas-dev/pandas/issues/12910))'
- en: Bug in `SparseArray` comparison output may incorrect result or raise `ValueError`
    ([GH 12971](https://github.com/pandas-dev/pandas/issues/12971))
  id: totrans-468
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray` 比较输出的 Bug 可能会产生不正确的结果或引发 `ValueError` ([GH 12971](https://github.com/pandas-dev/pandas/issues/12971))'
- en: Bug in `SparseSeries.__repr__` raises `TypeError` when it is longer than `max_rows`
    ([GH 10560](https://github.com/pandas-dev/pandas/issues/10560))
  id: totrans-469
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.__repr__` 中存在 Bug，当长度超过 `max_rows` 时会引发 `TypeError` ([GH 10560](https://github.com/pandas-dev/pandas/issues/10560))'
- en: Bug in `SparseSeries.shape` ignores `fill_value` ([GH 10452](https://github.com/pandas-dev/pandas/issues/10452))
  id: totrans-470
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.shape` 中存在 Bug，忽略了 `fill_value` ([GH 10452](https://github.com/pandas-dev/pandas/issues/10452))'
- en: Bug in `SparseSeries` and `SparseArray` may have different `dtype` from its
    dense values ([GH 12908](https://github.com/pandas-dev/pandas/issues/12908))
  id: totrans-471
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries` 和 `SparseArray` 中的 Bug 可能与其密集值的 `dtype` 不同 ([GH 12908](https://github.com/pandas-dev/pandas/issues/12908))'
- en: Bug in `SparseSeries.reindex` incorrectly handle `fill_value` ([GH 12797](https://github.com/pandas-dev/pandas/issues/12797))
  id: totrans-472
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.reindex` 中存在 Bug，不正确处理 `fill_value` ([GH 12797](https://github.com/pandas-dev/pandas/issues/12797))'
- en: Bug in `SparseArray.to_frame()` results in `DataFrame`, rather than `SparseDataFrame`
    ([GH 9850](https://github.com/pandas-dev/pandas/issues/9850))
  id: totrans-473
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.to_frame()` 中存在 Bug，结果是 `DataFrame`，而不是 `SparseDataFrame` ([GH
    9850](https://github.com/pandas-dev/pandas/issues/9850))'
- en: Bug in `SparseSeries.value_counts()` does not count `fill_value` ([GH 6749](https://github.com/pandas-dev/pandas/issues/6749))
  id: totrans-474
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseSeries.value_counts()` 中存在 Bug，不计算 `fill_value` ([GH 6749](https://github.com/pandas-dev/pandas/issues/6749))'
- en: Bug in `SparseArray.to_dense()` does not preserve `dtype` ([GH 10648](https://github.com/pandas-dev/pandas/issues/10648))
  id: totrans-475
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.to_dense()` 中存在 Bug，不保留 `dtype` ([GH 10648](https://github.com/pandas-dev/pandas/issues/10648))'
- en: Bug in `SparseArray.to_dense()` incorrectly handle `fill_value` ([GH 12797](https://github.com/pandas-dev/pandas/issues/12797))
  id: totrans-476
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.to_dense()` 中不正确处理 `fill_value` 的 Bug ([GH 12797](https://github.com/pandas-dev/pandas/issues/12797))'
- en: Bug in `pd.concat()` of `SparseSeries` results in dense ([GH 10536](https://github.com/pandas-dev/pandas/issues/10536))
  id: totrans-477
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.concat()` 中的 `SparseSeries` 导致密集化的 Bug ([GH 10536](https://github.com/pandas-dev/pandas/issues/10536))'
- en: Bug in `pd.concat()` of `SparseDataFrame` incorrectly handle `fill_value` ([GH
    9765](https://github.com/pandas-dev/pandas/issues/9765))
  id: totrans-478
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.concat()` 中的 `SparseDataFrame` 不正确处理 `fill_value` 的 Bug ([GH 9765](https://github.com/pandas-dev/pandas/issues/9765))'
- en: Bug in `pd.concat()` of `SparseDataFrame` may raise `AttributeError` ([GH 12174](https://github.com/pandas-dev/pandas/issues/12174))
  id: totrans-479
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.concat()` 中的 `SparseDataFrame` 可能会引发 `AttributeError` 的 Bug ([GH 12174](https://github.com/pandas-dev/pandas/issues/12174))'
- en: Bug in `SparseArray.shift()` may raise `NameError` or `TypeError` ([GH 12908](https://github.com/pandas-dev/pandas/issues/12908))
  id: totrans-480
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SparseArray.shift()` 中存在 Bug，可能会引发 `NameError` 或 `TypeError` ([GH 12908](https://github.com/pandas-dev/pandas/issues/12908))'
- en: '## API changes'
  id: totrans-481
  prefs: []
  type: TYPE_NORMAL
  zh: '## API 变更'
- en: '### Method `.groupby(..).nth()` changes'
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
  zh: '### 方法 `.groupby(..).nth()` 变更'
- en: 'The index in `.groupby(..).nth()` output is now more consistent when the `as_index`
    argument is passed ([GH 11039](https://github.com/pandas-dev/pandas/issues/11039)):'
  id: totrans-483
  prefs: []
  type: TYPE_NORMAL
  zh: '当传递 `as_index` 参数时，`.groupby(..).nth()` 输出的索引现在更加一致了 ([GH 11039](https://github.com/pandas-dev/pandas/issues/11039)):'
- en: '[PRE82]'
  id: totrans-484
  prefs: []
  type: TYPE_PRE
  zh: '[PRE82]'
- en: 'Previous behavior:'
  id: totrans-485
  prefs: []
  type: TYPE_NORMAL
  zh: 之前的行为：
- en: '[PRE83]'
  id: totrans-486
  prefs: []
  type: TYPE_PRE
  zh: '[PRE83]'
- en: 'New behavior:'
  id: totrans-487
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE84]'
  id: totrans-488
  prefs: []
  type: TYPE_PRE
  zh: '[PRE84]'
- en: Furthermore, previously, a `.groupby` would always sort, regardless if `sort=False`
    was passed with `.nth()`.
  id: totrans-489
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，以前，`.groupby` 总是会排序，即使传递了 `sort=False` 也是如此，与 `.nth()` 一起。
- en: '[PRE85]'
  id: totrans-490
  prefs: []
  type: TYPE_PRE
  zh: '[PRE85]'
- en: 'Previous behavior:'
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
  zh: 之前的行为：
- en: '[PRE86]'
  id: totrans-492
  prefs: []
  type: TYPE_PRE
  zh: '[PRE86]'
- en: 'New behavior:'
  id: totrans-493
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE87]  ### NumPy function compatibility'
  id: totrans-494
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE87]  ### NumPy 函数兼容性'
- en: Compatibility between pandas array-like methods (e.g. `sum` and `take`) and
    their `numpy` counterparts has been greatly increased by augmenting the signatures
    of the `pandas` methods so as to accept arguments that can be passed in from `numpy`,
    even if they are not necessarily used in the `pandas` implementation ([GH 12644](https://github.com/pandas-dev/pandas/issues/12644),
    [GH 12638](https://github.com/pandas-dev/pandas/issues/12638), [GH 12687](https://github.com/pandas-dev/pandas/issues/12687))
  id: totrans-495
  prefs: []
  type: TYPE_NORMAL
  zh: 通过增加`pandas`方法的签名，使其接受可以从`numpy`传递的参数，即使它们在`pandas`实现中并不一定被使用，大大增加了`pandas`数组方法（例如`sum`和`take`）与它们的`numpy`对应方法之间的兼容性。([GH
    12644](https://github.com/pandas-dev/pandas/issues/12644), [GH 12638](https://github.com/pandas-dev/pandas/issues/12638),
    [GH 12687](https://github.com/pandas-dev/pandas/issues/12687))
- en: '`.searchsorted()` for `Index` and `TimedeltaIndex` now accept a `sorter` argument
    to maintain compatibility with numpy’s `searchsorted` function ([GH 12238](https://github.com/pandas-dev/pandas/issues/12238))'
  id: totrans-496
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.searchsorted()`对于`Index`和`TimedeltaIndex`现在接受一个`sorter`参数，以保持与numpy的`searchsorted`函数的兼容性([GH
    12238](https://github.com/pandas-dev/pandas/issues/12238))'
- en: Bug in numpy compatibility of `np.round()` on a `Series` ([GH 12600](https://github.com/pandas-dev/pandas/issues/12600))
  id: totrans-497
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Series`上的`np.round()`的numpy兼容性中存在错误([GH 12600](https://github.com/pandas-dev/pandas/issues/12600))
- en: 'An example of this signature augmentation is illustrated below:'
  id: totrans-498
  prefs: []
  type: TYPE_NORMAL
  zh: 一个此类签名增强的示例如下所示：
- en: '[PRE88]'
  id: totrans-499
  prefs: []
  type: TYPE_PRE
  zh: '[PRE88]'
- en: 'Previous behaviour:'
  id: totrans-500
  prefs: []
  type: TYPE_NORMAL
  zh: 先前行为：
- en: '[PRE89]'
  id: totrans-501
  prefs: []
  type: TYPE_PRE
  zh: '[PRE89]'
- en: 'New behaviour:'
  id: totrans-502
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE90]  ### Using `.apply` on GroupBy resampling'
  id: totrans-503
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE90]  ### 在GroupBy重新采样上使用`.apply`'
- en: Using `apply` on resampling groupby operations (using a `pd.TimeGrouper`) now
    has the same output types as similar `apply` calls on other groupby operations.
    ([GH 11742](https://github.com/pandas-dev/pandas/issues/11742)).
  id: totrans-504
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`apply`在重新采样分组操作（使用`pd.TimeGrouper`）上，现在具有与其他分组操作上类似的`apply`调用相同的输出类型。([GH
    11742](https://github.com/pandas-dev/pandas/issues/11742))。
- en: '[PRE91]'
  id: totrans-505
  prefs: []
  type: TYPE_PRE
  zh: '[PRE91]'
- en: 'Previous behavior:'
  id: totrans-506
  prefs: []
  type: TYPE_NORMAL
  zh: 先前行为：
- en: '[PRE92]'
  id: totrans-507
  prefs: []
  type: TYPE_PRE
  zh: '[PRE92]'
- en: 'New behavior:'
  id: totrans-508
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE93]  ### Changes in `read_csv` exceptions'
  id: totrans-509
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE93]  ### `read_csv`异常的更改'
- en: In order to standardize the `read_csv` API for both the `c` and `python` engines,
    both will now raise an `EmptyDataError`, a subclass of `ValueError`, in response
    to empty columns or header ([GH 12493](https://github.com/pandas-dev/pandas/issues/12493),
    [GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
  id: totrans-510
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使`read_csv` API在`c`和`python`引擎上标准化，现在两者都将对空列或标题引发`EmptyDataError`，这是`ValueError`的子类。([GH
    12493](https://github.com/pandas-dev/pandas/issues/12493), [GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
- en: 'Previous behaviour:'
  id: totrans-511
  prefs: []
  type: TYPE_NORMAL
  zh: 先前行为：
- en: '[PRE94]'
  id: totrans-512
  prefs: []
  type: TYPE_PRE
  zh: '[PRE94]'
- en: 'New behaviour:'
  id: totrans-513
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE95]'
  id: totrans-514
  prefs: []
  type: TYPE_PRE
  zh: '[PRE95]'
- en: 'In addition to this error change, several others have been made as well:'
  id: totrans-515
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这个错误更改之外，还进行了其他几个更改：
- en: '`CParserError` now sub-classes `ValueError` instead of just a `Exception` ([GH
    12551](https://github.com/pandas-dev/pandas/issues/12551))'
  id: totrans-516
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CParserError`现在是`ValueError`的子类，而不仅仅是`Exception`([GH 12551](https://github.com/pandas-dev/pandas/issues/12551))'
- en: A `CParserError` is now raised instead of a generic `Exception` in `read_csv`
    when the `c` engine cannot parse a column ([GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
  id: totrans-517
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`c`引擎无法解析列时，在`read_csv`中现在会引发`CParserError`而不是通用的`Exception`([GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
- en: A `ValueError` is now raised instead of a generic `Exception` in `read_csv`
    when the `c` engine encounters a `NaN` value in an integer column ([GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
  id: totrans-518
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`c`引擎在整数列中遇到`NaN`值时，在`read_csv`中现在会引发`ValueError`而不是通用的`Exception`([GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
- en: A `ValueError` is now raised instead of a generic `Exception` in `read_csv`
    when `true_values` is specified, and the `c` engine encounters an element in a
    column containing unencodable bytes ([GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
  id: totrans-519
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当指定`true_values`并且`c`引擎遇到包含不可编码字节的列中的元素时，在`read_csv`中现在会引发`ValueError`而不是通用的`Exception`([GH
    12506](https://github.com/pandas-dev/pandas/issues/12506))
- en: '`pandas.parser.OverflowError` exception has been removed and has been replaced
    with Python’s built-in `OverflowError` exception ([GH 12506](https://github.com/pandas-dev/pandas/issues/12506))'
  id: totrans-520
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.parser.OverflowError`异常已被移除，并已被Python内置的`OverflowError`异常替换([GH 12506](https://github.com/pandas-dev/pandas/issues/12506))'
- en: '`pd.read_csv()` no longer allows a combination of strings and integers for
    the `usecols` parameter ([GH 12678](https://github.com/pandas-dev/pandas/issues/12678))  ###
    Method `to_datetime` error changes'
  id: totrans-521
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv()`不再允许在`usecols`参数中组合字符串和整数。([GH 12678](https://github.com/pandas-dev/pandas/issues/12678))  ###
    方法`to_datetime`错误更改'
- en: Bugs in `pd.to_datetime()` when passing a `unit` with convertible entries and
    `errors='coerce'` or non-convertible with `errors='ignore'`. Furthermore, an `OutOfBoundsDateime`
    exception will be raised when an out-of-range value is encountered for that unit
    when `errors='raise'`. ([GH 11758](https://github.com/pandas-dev/pandas/issues/11758),
    [GH 13052](https://github.com/pandas-dev/pandas/issues/13052), [GH 13059](https://github.com/pandas-dev/pandas/issues/13059))
  id: totrans-522
  prefs: []
  type: TYPE_NORMAL
  zh: 在`pd.to_datetime()`中传递可转换条目和`errors='coerce'`或不可转换条目和`errors='ignore'`时存在错误。此外，当`errors='raise'`时遇到超出范围值时将引发`OutOfBoundsDateime`异常。([GH
    11758](https://github.com/pandas-dev/pandas/issues/11758), [GH 13052](https://github.com/pandas-dev/pandas/issues/13052),
    [GH 13059](https://github.com/pandas-dev/pandas/issues/13059))
- en: 'Previous behaviour:'
  id: totrans-523
  prefs: []
  type: TYPE_NORMAL
  zh: '先前的行为:'
- en: '[PRE96]'
  id: totrans-524
  prefs: []
  type: TYPE_PRE
  zh: '[PRE96]'
- en: 'New behaviour:'
  id: totrans-525
  prefs: []
  type: TYPE_NORMAL
  zh: '新行为:'
- en: '[PRE97]  ### Other API changes'
  id: totrans-526
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE97]  ### 其他API更改'
- en: '`.swaplevel()` for `Series`, `DataFrame`, `Panel`, and `MultiIndex` now features
    defaults for its first two parameters `i` and `j` that swap the two innermost
    levels of the index. ([GH 12934](https://github.com/pandas-dev/pandas/issues/12934))'
  id: totrans-527
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于`Series`、`DataFrame`、`Panel`和`MultiIndex`的`.swaplevel()`现在具有其前两个参数`i`和`j`的默认值，这两个参数交换索引的最内层级别。([GH
    12934](https://github.com/pandas-dev/pandas/issues/12934))
- en: '`.searchsorted()` for `Index` and `TimedeltaIndex` now accept a `sorter` argument
    to maintain compatibility with numpy’s `searchsorted` function ([GH 12238](https://github.com/pandas-dev/pandas/issues/12238))'
  id: totrans-528
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.searchsorted()`对于`Index`和`TimedeltaIndex`现在接受一个`sorter`参数以保持与numpy的`searchsorted`函数的兼容性
    ([GH 12238](https://github.com/pandas-dev/pandas/issues/12238))'
- en: '`Period` and `PeriodIndex` now raises `IncompatibleFrequency` error which inherits
    `ValueError` rather than raw `ValueError` ([GH 12615](https://github.com/pandas-dev/pandas/issues/12615))'
  id: totrans-529
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Period`和`PeriodIndex`现在引发`IncompatibleFrequency`错误，该错误继承自`ValueError`而不是原始的`ValueError`
    ([GH 12615](https://github.com/pandas-dev/pandas/issues/12615))'
- en: '`Series.apply` for category dtype now applies the passed function to each of
    the `.categories` (and not the `.codes`), and returns a `category` dtype if possible
    ([GH 12473](https://github.com/pandas-dev/pandas/issues/12473))'
  id: totrans-530
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.apply`对于类别dtype现在将传递的函数应用于每个`.categories`（而不是`.codes`），如果可能的话返回`category`
    dtype ([GH 12473](https://github.com/pandas-dev/pandas/issues/12473))'
- en: '`read_csv` will now raise a `TypeError` if `parse_dates` is neither a boolean,
    list, or dictionary (matches the doc-string) ([GH 5636](https://github.com/pandas-dev/pandas/issues/5636))'
  id: totrans-531
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`read_csv`现在会在`parse_dates`既不是布尔值、列表或字典时引发`TypeError`（与文档字符串匹配）([GH 5636](https://github.com/pandas-dev/pandas/issues/5636))'
- en: The default for `.query()/.eval()` is now `engine=None`, which will use `numexpr`
    if it’s installed; otherwise it will fallback to the `python` engine. This mimics
    the pre-0.18.1 behavior if `numexpr` is installed (and which, previously, if numexpr
    was not installed, `.query()/.eval()` would raise). ([GH 12749](https://github.com/pandas-dev/pandas/issues/12749))
  id: totrans-532
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.query()/.eval()`的默认值现在是`engine=None`，如果安装了`numexpr`，则会使用`numexpr`；否则将回退到`python`引擎。如果安装了`numexpr`，则模仿了0.18.1之前的行为（以前，如果未安装`numexpr`，`.query()/.eval()`会引发异常）。([GH
    12749](https://github.com/pandas-dev/pandas/issues/12749))'
- en: '`pd.show_versions()` now includes `pandas_datareader` version ([GH 12740](https://github.com/pandas-dev/pandas/issues/12740))'
  id: totrans-533
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.show_versions()`现在包括`pandas_datareader`版本 ([GH 12740](https://github.com/pandas-dev/pandas/issues/12740))'
- en: Provide a proper `__name__` and `__qualname__` attributes for generic functions
    ([GH 12021](https://github.com/pandas-dev/pandas/issues/12021))
  id: totrans-534
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为通用函数提供适当的`__name__`和`__qualname__`属性 ([GH 12021](https://github.com/pandas-dev/pandas/issues/12021))
- en: '`pd.concat(ignore_index=True)` now uses `RangeIndex` as default ([GH 12695](https://github.com/pandas-dev/pandas/issues/12695))'
  id: totrans-535
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.concat(ignore_index=True)`现在默认使用`RangeIndex` ([GH 12695](https://github.com/pandas-dev/pandas/issues/12695))'
- en: '`pd.merge()` and `DataFrame.join()` will show a `UserWarning` when merging/joining
    a single- with a multi-leveled dataframe ([GH 9455](https://github.com/pandas-dev/pandas/issues/9455),
    [GH 12219](https://github.com/pandas-dev/pandas/issues/12219))'
  id: totrans-536
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当将单级和多级数据框合并/连接时，`pd.merge()`和`DataFrame.join()`将显示`UserWarning` ([GH 9455](https://github.com/pandas-dev/pandas/issues/9455),
    [GH 12219](https://github.com/pandas-dev/pandas/issues/12219))
- en: 'Compat with `scipy` > 0.17 for deprecated `piecewise_polynomial` interpolation
    method; support for the replacement `from_derivatives` method ([GH 12887](https://github.com/pandas-dev/pandas/issues/12887))  ###
    Deprecations'
  id: totrans-537
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '与`scipy` > 0.17兼容的已弃用的`piecewise_polynomial`插值方法；支持替代的`from_derivatives`方法
    ([GH 12887](https://github.com/pandas-dev/pandas/issues/12887))  ### 弃用'
- en: The method name `Index.sym_diff()` is deprecated and can be replaced by `Index.symmetric_difference()`
    ([GH 12591](https://github.com/pandas-dev/pandas/issues/12591))
  id: totrans-538
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法名`Index.sym_diff()`已弃用，可以替换为`Index.symmetric_difference()` ([GH 12591](https://github.com/pandas-dev/pandas/issues/12591))
- en: 'The method name `Categorical.sort()` is deprecated in favor of `Categorical.sort_values()`
    ([GH 12882](https://github.com/pandas-dev/pandas/issues/12882))  ### Method `.groupby(..).nth()`
    changes'
  id: totrans-539
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '方法名 `Categorical.sort()` 已被弃用，推荐使用 `Categorical.sort_values()` ([GH 12882](https://github.com/pandas-dev/pandas/issues/12882))  ###
    方法 `.groupby(..).nth()` 的变化'
- en: 'The index in `.groupby(..).nth()` output is now more consistent when the `as_index`
    argument is passed ([GH 11039](https://github.com/pandas-dev/pandas/issues/11039)):'
  id: totrans-540
  prefs: []
  type: TYPE_NORMAL
  zh: '当传递 `as_index` 参数时，`.groupby(..).nth()` 输出中的索引现在更加一致 ([GH 11039](https://github.com/pandas-dev/pandas/issues/11039)):'
- en: '[PRE98]'
  id: totrans-541
  prefs: []
  type: TYPE_PRE
  zh: '[PRE98]'
- en: 'Previous behavior:'
  id: totrans-542
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE99]'
  id: totrans-543
  prefs: []
  type: TYPE_PRE
  zh: '[PRE99]'
- en: 'New behavior:'
  id: totrans-544
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE100]'
  id: totrans-545
  prefs: []
  type: TYPE_PRE
  zh: '[PRE100]'
- en: Furthermore, previously, a `.groupby` would always sort, regardless if `sort=False`
    was passed with `.nth()`.
  id: totrans-546
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，以前，`.groupby` 总是会排序，无论是否使用 `.nth()` 传递了 `sort=False`。
- en: '[PRE101]'
  id: totrans-547
  prefs: []
  type: TYPE_PRE
  zh: '[PRE101]'
- en: 'Previous behavior:'
  id: totrans-548
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE102]'
  id: totrans-549
  prefs: []
  type: TYPE_PRE
  zh: '[PRE102]'
- en: 'New behavior:'
  id: totrans-550
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE103]'
  id: totrans-551
  prefs: []
  type: TYPE_PRE
  zh: '[PRE103]'
- en: '### NumPy function compatibility'
  id: totrans-552
  prefs: []
  type: TYPE_NORMAL
  zh: '### NumPy 函数兼容性'
- en: Compatibility between pandas array-like methods (e.g. `sum` and `take`) and
    their `numpy` counterparts has been greatly increased by augmenting the signatures
    of the `pandas` methods so as to accept arguments that can be passed in from `numpy`,
    even if they are not necessarily used in the `pandas` implementation ([GH 12644](https://github.com/pandas-dev/pandas/issues/12644),
    [GH 12638](https://github.com/pandas-dev/pandas/issues/12638), [GH 12687](https://github.com/pandas-dev/pandas/issues/12687))
  id: totrans-553
  prefs: []
  type: TYPE_NORMAL
  zh: 增加了 pandas 数组类方法（例如 `sum` 和 `take`）与它们的 `numpy` 对应方法之间的兼容性，通过增加 `pandas` 方法的签名，使其接受可以从
    `numpy` 传递的参数，即使它们在 `pandas` 实现中并不一定会使用 ([GH 12644](https://github.com/pandas-dev/pandas/issues/12644),
    [GH 12638](https://github.com/pandas-dev/pandas/issues/12638), [GH 12687](https://github.com/pandas-dev/pandas/issues/12687))
- en: '`.searchsorted()` for `Index` and `TimedeltaIndex` now accept a `sorter` argument
    to maintain compatibility with numpy’s `searchsorted` function ([GH 12238](https://github.com/pandas-dev/pandas/issues/12238))'
  id: totrans-554
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.searchsorted()` 用于 `Index` 和 `TimedeltaIndex` 现在接受一个 `sorter` 参数，以保持与 numpy
    的 `searchsorted` 函数的兼容性 ([GH 12238](https://github.com/pandas-dev/pandas/issues/12238))'
- en: Bug in numpy compatibility of `np.round()` on a `Series` ([GH 12600](https://github.com/pandas-dev/pandas/issues/12600))
  id: totrans-555
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `Series` 上 `np.round()` 的 numpy 兼容性错误 ([GH 12600](https://github.com/pandas-dev/pandas/issues/12600))
- en: 'An example of this signature augmentation is illustrated below:'
  id: totrans-556
  prefs: []
  type: TYPE_NORMAL
  zh: 此签名增强的示例如下：
- en: '[PRE104]'
  id: totrans-557
  prefs: []
  type: TYPE_PRE
  zh: '[PRE104]'
- en: 'Previous behaviour:'
  id: totrans-558
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE105]'
  id: totrans-559
  prefs: []
  type: TYPE_PRE
  zh: '[PRE105]'
- en: 'New behaviour:'
  id: totrans-560
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE106]'
  id: totrans-561
  prefs: []
  type: TYPE_PRE
  zh: '[PRE106]'
- en: '### Using `.apply` on GroupBy resampling'
  id: totrans-562
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在 GroupBy 重采样上使用 `.apply`'
- en: Using `apply` on resampling groupby operations (using a `pd.TimeGrouper`) now
    has the same output types as similar `apply` calls on other groupby operations.
    ([GH 11742](https://github.com/pandas-dev/pandas/issues/11742)).
  id: totrans-563
  prefs: []
  type: TYPE_NORMAL
  zh: 在重采样 GroupBy 操作（使用 `pd.TimeGrouper`）上使用 `apply` 现在与其他 GroupBy 操作上的类似 `apply`
    调用具有相同的输出类型。 ([GH 11742](https://github.com/pandas-dev/pandas/issues/11742)).
- en: '[PRE107]'
  id: totrans-564
  prefs: []
  type: TYPE_PRE
  zh: '[PRE107]'
- en: 'Previous behavior:'
  id: totrans-565
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE108]'
  id: totrans-566
  prefs: []
  type: TYPE_PRE
  zh: '[PRE108]'
- en: 'New behavior:'
  id: totrans-567
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE109]'
  id: totrans-568
  prefs: []
  type: TYPE_PRE
  zh: '[PRE109]'
- en: '### Changes in `read_csv` exceptions'
  id: totrans-569
  prefs: []
  type: TYPE_NORMAL
  zh: '### `read_csv` 异常的变化'
- en: In order to standardize the `read_csv` API for both the `c` and `python` engines,
    both will now raise an `EmptyDataError`, a subclass of `ValueError`, in response
    to empty columns or header ([GH 12493](https://github.com/pandas-dev/pandas/issues/12493),
    [GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
  id: totrans-570
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使 `c` 和 `python` 引擎的 `read_csv` API 标准化，现在两者都会在空列或标题的情况下引发 `EmptyDataError`，它是
    `ValueError` 的子类 ([GH 12493](https://github.com/pandas-dev/pandas/issues/12493),
    [GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
- en: 'Previous behaviour:'
  id: totrans-571
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的行为：
- en: '[PRE110]'
  id: totrans-572
  prefs: []
  type: TYPE_PRE
  zh: '[PRE110]'
- en: 'New behaviour:'
  id: totrans-573
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE111]'
  id: totrans-574
  prefs: []
  type: TYPE_PRE
  zh: '[PRE111]'
- en: 'In addition to this error change, several others have been made as well:'
  id: totrans-575
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这个错误的更改之外，还进行了其他几个更改：
- en: '`CParserError` now sub-classes `ValueError` instead of just a `Exception` ([GH
    12551](https://github.com/pandas-dev/pandas/issues/12551))'
  id: totrans-576
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CParserError` 现在子类化 `ValueError` 而不仅仅是 `Exception` ([GH 12551](https://github.com/pandas-dev/pandas/issues/12551))'
- en: A `CParserError` is now raised instead of a generic `Exception` in `read_csv`
    when the `c` engine cannot parse a column ([GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
  id: totrans-577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `c` 引擎无法解析列时，`read_csv` 现在会引发 `CParserError` 而不是一般的 `Exception` ([GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
- en: A `ValueError` is now raised instead of a generic `Exception` in `read_csv`
    when the `c` engine encounters a `NaN` value in an integer column ([GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
  id: totrans-578
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `c` 引擎在整数列中遇到 `NaN` 值时，`read_csv` 现在会引发 `ValueError` 而不是一般的 `Exception` ([GH
    12506](https://github.com/pandas-dev/pandas/issues/12506))
- en: A `ValueError` is now raised instead of a generic `Exception` in `read_csv`
    when `true_values` is specified, and the `c` engine encounters an element in a
    column containing unencodable bytes ([GH 12506](https://github.com/pandas-dev/pandas/issues/12506))
  id: totrans-579
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当指定 `true_values` 时，现在在 `read_csv` 中抛出 `ValueError` 而不是通用的 `Exception`，并且 `c`
    引擎在包含无法编码的字节的列中遇到一个元素时将会抛出异常（[GH 12506](https://github.com/pandas-dev/pandas/issues/12506)）
- en: '`pandas.parser.OverflowError` exception has been removed and has been replaced
    with Python’s built-in `OverflowError` exception ([GH 12506](https://github.com/pandas-dev/pandas/issues/12506))'
  id: totrans-580
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas.parser.OverflowError` 异常已被移除，并已被 Python 的内置 `OverflowError` 异常取代（[GH
    12506](https://github.com/pandas-dev/pandas/issues/12506)）'
- en: '`pd.read_csv()` no longer allows a combination of strings and integers for
    the `usecols` parameter ([GH 12678](https://github.com/pandas-dev/pandas/issues/12678))'
  id: totrans-581
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_csv()` 现在不再允许在 `usecols` 参数中组合字符串和整数（[GH 12678](https://github.com/pandas-dev/pandas/issues/12678)）'
- en: '### Method `to_datetime` error changes'
  id: totrans-582
  prefs: []
  type: TYPE_NORMAL
  zh: '### `to_datetime` 方法错误变更'
- en: Bugs in `pd.to_datetime()` when passing a `unit` with convertible entries and
    `errors='coerce'` or non-convertible with `errors='ignore'`. Furthermore, an `OutOfBoundsDateime`
    exception will be raised when an out-of-range value is encountered for that unit
    when `errors='raise'`. ([GH 11758](https://github.com/pandas-dev/pandas/issues/11758),
    [GH 13052](https://github.com/pandas-dev/pandas/issues/13052), [GH 13059](https://github.com/pandas-dev/pandas/issues/13059))
  id: totrans-583
  prefs: []
  type: TYPE_NORMAL
  zh: 在传递可转换条目的 `unit` 和 `errors='coerce'` 或不可转换的 `errors='ignore'` 时，`pd.to_datetime()`
    中存在错误。此外，当 `errors='raise'` 时遇到超出范围的值时，将引发 `OutOfBoundsDateime` 异常。([GH 11758](https://github.com/pandas-dev/pandas/issues/11758),
    [GH 13052](https://github.com/pandas-dev/pandas/issues/13052), [GH 13059](https://github.com/pandas-dev/pandas/issues/13059))
- en: 'Previous behaviour:'
  id: totrans-584
  prefs: []
  type: TYPE_NORMAL
  zh: 之前的行为：
- en: '[PRE112]'
  id: totrans-585
  prefs: []
  type: TYPE_PRE
  zh: '[PRE112]'
- en: 'New behaviour:'
  id: totrans-586
  prefs: []
  type: TYPE_NORMAL
  zh: 新行为：
- en: '[PRE113]'
  id: totrans-587
  prefs: []
  type: TYPE_PRE
  zh: '[PRE113]'
- en: '### Other API changes'
  id: totrans-588
  prefs: []
  type: TYPE_NORMAL
  zh: '### 其他 API 变更'
- en: '`.swaplevel()` for `Series`, `DataFrame`, `Panel`, and `MultiIndex` now features
    defaults for its first two parameters `i` and `j` that swap the two innermost
    levels of the index. ([GH 12934](https://github.com/pandas-dev/pandas/issues/12934))'
  id: totrans-589
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 `Series`、`DataFrame`、`Panel` 和 `MultiIndex`，`.swaplevel()` 现在具有其前两个参数 `i`
    和 `j` 的默认值，用于交换索引的两个最内层级别。([GH 12934](https://github.com/pandas-dev/pandas/issues/12934))
- en: '`.searchsorted()` for `Index` and `TimedeltaIndex` now accept a `sorter` argument
    to maintain compatibility with numpy’s `searchsorted` function ([GH 12238](https://github.com/pandas-dev/pandas/issues/12238))'
  id: totrans-590
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 `Index` 和 `TimedeltaIndex`，`.searchsorted()` 现在接受一个 `sorter` 参数以保持与 numpy
    的 `searchsorted` 函数的兼容性（[GH 12238](https://github.com/pandas-dev/pandas/issues/12238)）
- en: '`Period` and `PeriodIndex` now raises `IncompatibleFrequency` error which inherits
    `ValueError` rather than raw `ValueError` ([GH 12615](https://github.com/pandas-dev/pandas/issues/12615))'
  id: totrans-591
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Period` 和 `PeriodIndex` 现在引发 `IncompatibleFrequency` 错误，该错误继承自 `ValueError`
    而不是原始的 `ValueError`（[GH 12615](https://github.com/pandas-dev/pandas/issues/12615)）'
- en: '`Series.apply` for category dtype now applies the passed function to each of
    the `.categories` (and not the `.codes`), and returns a `category` dtype if possible
    ([GH 12473](https://github.com/pandas-dev/pandas/issues/12473))'
  id: totrans-592
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Series.apply` 对于类别 dtype 现在将传递的函数应用于每个 `.categories`（而不是 `.codes`），并在可能的情况下返回一个
    `category` dtype（[GH 12473](https://github.com/pandas-dev/pandas/issues/12473)）'
- en: '`read_csv` will now raise a `TypeError` if `parse_dates` is neither a boolean,
    list, or dictionary (matches the doc-string) ([GH 5636](https://github.com/pandas-dev/pandas/issues/5636))'
  id: totrans-593
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果 `parse_dates` 不是布尔值、列表或字典（与文档字符串匹配），`read_csv` 现在会引发 `TypeError`（[GH 5636](https://github.com/pandas-dev/pandas/issues/5636)）
- en: The default for `.query()/.eval()` is now `engine=None`, which will use `numexpr`
    if it’s installed; otherwise it will fallback to the `python` engine. This mimics
    the pre-0.18.1 behavior if `numexpr` is installed (and which, previously, if numexpr
    was not installed, `.query()/.eval()` would raise). ([GH 12749](https://github.com/pandas-dev/pandas/issues/12749))
  id: totrans-594
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.query()/.eval()` 的默认值现在是 `engine=None`，如果安装了 `numexpr`，则会使用它；否则将退回到 `python`
    引擎。如果安装了 `numexpr`，则这模仿了0.18.1之前的行为（如果未安装 `numexpr`，`.query()/.eval()` 将引发异常）。([GH
    12749](https://github.com/pandas-dev/pandas/issues/12749))'
- en: '`pd.show_versions()` now includes `pandas_datareader` version ([GH 12740](https://github.com/pandas-dev/pandas/issues/12740))'
  id: totrans-595
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.show_versions()` 现在包括 `pandas_datareader` 版本（[GH 12740](https://github.com/pandas-dev/pandas/issues/12740)）'
- en: Provide a proper `__name__` and `__qualname__` attributes for generic functions
    ([GH 12021](https://github.com/pandas-dev/pandas/issues/12021))
  id: totrans-596
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为泛型函数提供适当的 `__name__` 和 `__qualname__` 属性（[GH 12021](https://github.com/pandas-dev/pandas/issues/12021)）
- en: '`pd.concat(ignore_index=True)` now uses `RangeIndex` as default ([GH 12695](https://github.com/pandas-dev/pandas/issues/12695))'
  id: totrans-597
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.concat(ignore_index=True)` 现在使用 `RangeIndex` 作为默认值（[GH 12695](https://github.com/pandas-dev/pandas/issues/12695)）'
- en: '`pd.merge()` and `DataFrame.join()` will show a `UserWarning` when merging/joining
    a single- with a multi-leveled dataframe ([GH 9455](https://github.com/pandas-dev/pandas/issues/9455),
    [GH 12219](https://github.com/pandas-dev/pandas/issues/12219))'
  id: totrans-598
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在将单层与多层数据框合并/连接时，`pd.merge()`和`DataFrame.join()`将显示`UserWarning`警告（[GH 9455](https://github.com/pandas-dev/pandas/issues/9455)，[GH
    12219](https://github.com/pandas-dev/pandas/issues/12219)）
- en: Compat with `scipy` > 0.17 for deprecated `piecewise_polynomial` interpolation
    method; support for the replacement `from_derivatives` method ([GH 12887](https://github.com/pandas-dev/pandas/issues/12887))
  id: totrans-599
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于已弃用的`piecewise_polynomial`插值方法与`scipy` > 0.17兼容；支持替代方法`from_derivatives`（[GH
    12887](https://github.com/pandas-dev/pandas/issues/12887)）
- en: '### Deprecations'
  id: totrans-600
  prefs: []
  type: TYPE_NORMAL
  zh: '### 废弃'
- en: The method name `Index.sym_diff()` is deprecated and can be replaced by `Index.symmetric_difference()`
    ([GH 12591](https://github.com/pandas-dev/pandas/issues/12591))
  id: totrans-601
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法名`Index.sym_diff()`已弃用，可替换为`Index.symmetric_difference()`（[GH 12591](https://github.com/pandas-dev/pandas/issues/12591)）
- en: The method name `Categorical.sort()` is deprecated in favor of `Categorical.sort_values()`
    ([GH 12882](https://github.com/pandas-dev/pandas/issues/12882))
  id: totrans-602
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方法名`Categorical.sort()`已弃用，改用`Categorical.sort_values()`（[GH 12882](https://github.com/pandas-dev/pandas/issues/12882)）
- en: '## Performance improvements'
  id: totrans-603
  prefs: []
  type: TYPE_NORMAL
  zh: '## 性能改进'
- en: Improved speed of SAS reader ([GH 12656](https://github.com/pandas-dev/pandas/issues/12656),
    [GH 12961](https://github.com/pandas-dev/pandas/issues/12961))
  id: totrans-604
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提高了SAS阅读器的速度（[GH 12656](https://github.com/pandas-dev/pandas/issues/12656)，[GH
    12961](https://github.com/pandas-dev/pandas/issues/12961)）
- en: Performance improvements in `.groupby(..).cumcount()` ([GH 11039](https://github.com/pandas-dev/pandas/issues/11039))
  id: totrans-605
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`.groupby(..).cumcount()`中的性能改进（[GH 11039](https://github.com/pandas-dev/pandas/issues/11039)）
- en: Improved memory usage in `pd.read_csv()` when using `skiprows=an_integer` ([GH
    13005](https://github.com/pandas-dev/pandas/issues/13005))
  id: totrans-606
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用`skiprows=an_integer`时，改进了`pd.read_csv()`的内存使用情况（[GH 13005](https://github.com/pandas-dev/pandas/issues/13005)）
- en: Improved performance of `DataFrame.to_sql` when checking case sensitivity for
    tables. Now only checks if table has been created correctly when table name is
    not lower case. ([GH 12876](https://github.com/pandas-dev/pandas/issues/12876))
  id: totrans-607
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在检查表的大小写敏感性时，改进了`DataFrame.to_sql`的性能。现在只在表名不是小写时才检查表是否已正确创建。([GH 12876](https://github.com/pandas-dev/pandas/issues/12876))
- en: Improved performance of `Period` construction and time series plotting ([GH
    12903](https://github.com/pandas-dev/pandas/issues/12903), [GH 11831](https://github.com/pandas-dev/pandas/issues/11831)).
  id: totrans-608
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了`Period`构造和时间序列绘图的性能（[GH 12903](https://github.com/pandas-dev/pandas/issues/12903)，[GH
    11831](https://github.com/pandas-dev/pandas/issues/11831)）。
- en: Improved performance of `.str.encode()` and `.str.decode()` methods ([GH 13008](https://github.com/pandas-dev/pandas/issues/13008))
  id: totrans-609
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进了`.str.encode()`和`.str.decode()`方法的性能（[GH 13008](https://github.com/pandas-dev/pandas/issues/13008)）
- en: Improved performance of `to_numeric` if input is numeric dtype ([GH 12777](https://github.com/pandas-dev/pandas/issues/12777))
  id: totrans-610
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果输入是数字类型，则改进了`to_numeric`的性能（[GH 12777](https://github.com/pandas-dev/pandas/issues/12777)）
- en: Improved performance of sparse arithmetic with `IntIndex` ([GH 13036](https://github.com/pandas-dev/pandas/issues/13036))
  id: totrans-611
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过`IntIndex`进行稀疏算术的性能改进（[GH 13036](https://github.com/pandas-dev/pandas/issues/13036)）
- en: '## Bug fixes'
  id: totrans-612
  prefs: []
  type: TYPE_NORMAL
  zh: '## 错误修复'
- en: '`usecols` parameter in `pd.read_csv` is now respected even when the lines of
    a CSV file are not even ([GH 12203](https://github.com/pandas-dev/pandas/issues/12203))'
  id: totrans-613
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 即使CSV文件的行数不均匀，`pd.read_csv`中的`usecols`参数现在也会受到尊重（[GH 12203](https://github.com/pandas-dev/pandas/issues/12203)）
- en: Bug in `groupby.transform(..)` when `axis=1` is specified with a non-monotonic
    ordered index ([GH 12713](https://github.com/pandas-dev/pandas/issues/12713))
  id: totrans-614
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当指定`axis=1`时，`groupby.transform(..)`中的错误（`axis=1`）与非单调有序索引一起使用时出现错误（[GH 12713](https://github.com/pandas-dev/pandas/issues/12713)）
- en: Bug in `Period` and `PeriodIndex` creation raises `KeyError` if `freq="Minute"`
    is specified. Note that “Minute” freq is deprecated in v0.17.0, and recommended
    to use `freq="T"` instead ([GH 11854](https://github.com/pandas-dev/pandas/issues/11854))
  id: totrans-615
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果指定`freq="Minute"`，则在`Period`和`PeriodIndex`创建中出现`KeyError`错误。请注意，“Minute”频率已在v0.17.0中弃用，建议改用`freq="T"`（[GH
    11854](https://github.com/pandas-dev/pandas/issues/11854)）
- en: Bug in `.resample(...).count()` with a `PeriodIndex` always raising a `TypeError`
    ([GH 12774](https://github.com/pandas-dev/pandas/issues/12774))
  id: totrans-616
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 始终引发`TypeError`的`.resample(...).count()`与`PeriodIndex`一起使用的错误（[GH 12774](https://github.com/pandas-dev/pandas/issues/12774)）
- en: Bug in `.resample(...)` with a `PeriodIndex` casting to a `DatetimeIndex` when
    empty ([GH 12868](https://github.com/pandas-dev/pandas/issues/12868))
  id: totrans-617
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当为空时，`.resample(...)`与`PeriodIndex`转换为`DatetimeIndex`时的错误（[GH 12868](https://github.com/pandas-dev/pandas/issues/12868)）
- en: Bug in `.resample(...)` with a `PeriodIndex` when resampling to an existing
    frequency ([GH 12770](https://github.com/pandas-dev/pandas/issues/12770))
  id: totrans-618
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当对 PeriodIndex 进行重采样到现有频率时，`.resample(...)` 存在 Bug（[GH 12770](https://github.com/pandas-dev/pandas/issues/12770)）
- en: Bug in printing data which contains `Period` with different `freq` raises `ValueError`
    ([GH 12615](https://github.com/pandas-dev/pandas/issues/12615))
  id: totrans-619
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包含不同 `freq` 的 `Period` 数据打印时引发 `ValueError` 的 Bug（[GH 12615](https://github.com/pandas-dev/pandas/issues/12615)）
- en: Bug in `Series` construction with `Categorical` and `dtype='category'` is specified
    ([GH 12574](https://github.com/pandas-dev/pandas/issues/12574))
  id: totrans-620
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在指定 `dtype='category'` 的情况下，使用 `Categorical` 构建 `Series` 存在 Bug（[GH 12574](https://github.com/pandas-dev/pandas/issues/12574)）
- en: Bugs in concatenation with a coercible dtype was too aggressive, resulting in
    different dtypes in output formatting when an object was longer than `display.max_rows`
    ([GH 12411](https://github.com/pandas-dev/pandas/issues/12411), [GH 12045](https://github.com/pandas-dev/pandas/issues/12045),
    [GH 11594](https://github.com/pandas-dev/pandas/issues/11594), [GH 10571](https://github.com/pandas-dev/pandas/issues/10571),
    [GH 12211](https://github.com/pandas-dev/pandas/issues/12211))
  id: totrans-621
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当对象长于 `display.max_rows` 时，具有可强制转换 dtype 的连接在输出格式化时过于激进，导致不同的 dtype（[GH 12411](https://github.com/pandas-dev/pandas/issues/12411),
    [GH 12045](https://github.com/pandas-dev/pandas/issues/12045), [GH 11594](https://github.com/pandas-dev/pandas/issues/11594),
    [GH 10571](https://github.com/pandas-dev/pandas/issues/10571), [GH 12211](https://github.com/pandas-dev/pandas/issues/12211)）
- en: Bug in `float_format` option with option not being validated as a callable.
    ([GH 12706](https://github.com/pandas-dev/pandas/issues/12706))
  id: totrans-622
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选项 `float_format` 在未验证为可调用时出现的 Bug。([GH 12706](https://github.com/pandas-dev/pandas/issues/12706))
- en: Bug in `GroupBy.filter` when `dropna=False` and no groups fulfilled the criteria
    ([GH 12768](https://github.com/pandas-dev/pandas/issues/12768))
  id: totrans-623
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `GroupBy.filter` 中，当 `dropna=False` 且没有组符合条件时存在 Bug ([GH 12768](https://github.com/pandas-dev/pandas/issues/12768))
- en: Bug in `__name__` of `.cum*` functions ([GH 12021](https://github.com/pandas-dev/pandas/issues/12021))
  id: totrans-624
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.cum*` 函数的 `__name__` 中存在 Bug（[GH 12021](https://github.com/pandas-dev/pandas/issues/12021)）'
- en: Bug in `.astype()` of a `Float64Inde/Int64Index` to an `Int64Index` ([GH 12881](https://github.com/pandas-dev/pandas/issues/12881))
  id: totrans-625
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 `Float64Inde/Int64Index` 转换为 `Int64Index` 时存在 Bug 在 `.astype()` 中。 ([GH 12881](https://github.com/pandas-dev/pandas/issues/12881))
- en: Bug in round tripping an integer based index in `.to_json()/.read_json()` when
    `orient='index'` (the default) ([GH 12866](https://github.com/pandas-dev/pandas/issues/12866))
  id: totrans-626
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `.to_json()/.read_json()` 中，默认情况下`orient='index'`，对整数型索引进行回环处理存在 Bug ([GH
    12866](https://github.com/pandas-dev/pandas/issues/12866))
- en: Bug in plotting `Categorical` dtypes cause error when attempting stacked bar
    plot ([GH 13019](https://github.com/pandas-dev/pandas/issues/13019))
  id: totrans-627
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在尝试堆叠条形图时，`Categorical` 数据类型绘图存在 Bug 导致错误（[GH 13019](https://github.com/pandas-dev/pandas/issues/13019)）
- en: Compat with >= `numpy` 1.11 for `NaT` comparisons ([GH 12969](https://github.com/pandas-dev/pandas/issues/12969))
  id: totrans-628
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 兼容 `numpy` 版本 `1.11` 以上的 `NaT` 比较（[GH 12969](https://github.com/pandas-dev/pandas/issues/12969)）
- en: Bug in `.drop()` with a non-unique `MultiIndex`. ([GH 12701](https://github.com/pandas-dev/pandas/issues/12701))
  id: totrans-629
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在非唯一的 `MultiIndex` 中使用 `.drop()` 存在 Bug。 ([GH 12701](https://github.com/pandas-dev/pandas/issues/12701))
- en: Bug in `.concat` of datetime tz-aware and naive DataFrames ([GH 12467](https://github.com/pandas-dev/pandas/issues/12467))
  id: totrans-630
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.concat` 方法在处理带时区和不带时区的 DataFrame 时存在 Bug（[GH 12467](https://github.com/pandas-dev/pandas/issues/12467)）'
- en: Bug in correctly raising a `ValueError` in `.resample(..).fillna(..)` when passing
    a non-string ([GH 12952](https://github.com/pandas-dev/pandas/issues/12952))
  id: totrans-631
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在传递非字符串时，在 `.resample(..).fillna(..)` 中正确引发 `ValueError` 的 Bug（[GH 12952](https://github.com/pandas-dev/pandas/issues/12952)）
- en: Bug fixes in various encoding and header processing issues in `pd.read_sas()`
    ([GH 12659](https://github.com/pandas-dev/pandas/issues/12659), [GH 12654](https://github.com/pandas-dev/pandas/issues/12654),
    [GH 12647](https://github.com/pandas-dev/pandas/issues/12647), [GH 12809](https://github.com/pandas-dev/pandas/issues/12809))
  id: totrans-632
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `pd.read_sas()` 中存在各种编码和头部处理问题的 Bug 修复（[GH 12659](https://github.com/pandas-dev/pandas/issues/12659),
    [GH 12654](https://github.com/pandas-dev/pandas/issues/12654), [GH 12647](https://github.com/pandas-dev/pandas/issues/12647),
    [GH 12809](https://github.com/pandas-dev/pandas/issues/12809)）
- en: Bug in `pd.crosstab()` where would silently ignore `aggfunc` if `values=None`
    ([GH 12569](https://github.com/pandas-dev/pandas/issues/12569)).
  id: totrans-633
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `pd.crosstab()` 中存在的 Bug：如果 `values=None`，则会静默忽略 `aggfunc`（[GH 12569](https://github.com/pandas-dev/pandas/issues/12569)）
- en: Potential segfault in `DataFrame.to_json` when serialising `datetime.time` ([GH
    11473](https://github.com/pandas-dev/pandas/issues/11473)).
  id: totrans-634
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在序列化 `datetime.time` 时，在 `DataFrame.to_json` 中存在潜在的段错误（[GH 11473](https://github.com/pandas-dev/pandas/issues/11473)）
- en: Potential segfault in `DataFrame.to_json` when attempting to serialise 0d array
    ([GH 11299](https://github.com/pandas-dev/pandas/issues/11299)).
  id: totrans-635
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在尝试序列化 0d 数组时，`DataFrame.to_json` 中存在潜在的段错误 ([GH 11299](https://github.com/pandas-dev/pandas/issues/11299))。
- en: Segfault in `to_json` when attempting to serialise a `DataFrame` or `Series`
    with non-ndarray values; now supports serialization of `category`, `sparse`, and
    `datetime64[ns, tz]` dtypes ([GH 10778](https://github.com/pandas-dev/pandas/issues/10778)).
  id: totrans-636
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在尝试序列化具有非 ndarray 值的 `DataFrame` 或 `Series` 时，`to_json` 中存在的段错误；现在支持 `category`、`sparse`
    和 `datetime64[ns, tz]` dtypes 的序列化 ([GH 10778](https://github.com/pandas-dev/pandas/issues/10778))。
- en: Bug in `DataFrame.to_json` with unsupported dtype not passed to default handler
    ([GH 12554](https://github.com/pandas-dev/pandas/issues/12554)).
  id: totrans-637
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataFrame.to_json` 中存在的 Bug，不支持的 dtype 未传递给默认处理程序 ([GH 12554](https://github.com/pandas-dev/pandas/issues/12554))。'
- en: Bug in `.align` not returning the sub-class ([GH 12983](https://github.com/pandas-dev/pandas/issues/12983))
  id: totrans-638
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.align` 中存在的 Bug，未返回子类 ([GH 12983](https://github.com/pandas-dev/pandas/issues/12983))。'
- en: Bug in aligning a `Series` with a `DataFrame` ([GH 13037](https://github.com/pandas-dev/pandas/issues/13037))
  id: totrans-639
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 `Series` 与 `DataFrame` 对齐时存在的 Bug ([GH 13037](https://github.com/pandas-dev/pandas/issues/13037))。
- en: Bug in `ABCPanel` in which `Panel4D` was not being considered as a valid instance
    of this generic type ([GH 12810](https://github.com/pandas-dev/pandas/issues/12810))
  id: totrans-640
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ABCPanel` 中存在的 Bug，其中 `Panel4D` 不被视为此通用类型的有效实例 ([GH 12810](https://github.com/pandas-dev/pandas/issues/12810))。'
- en: Bug in consistency of `.name` on `.groupby(..).apply(..)` cases ([GH 12363](https://github.com/pandas-dev/pandas/issues/12363))
  id: totrans-641
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.groupby(..).apply(..)` 案例中 `.name` 一致性存在 Bug ([GH 12363](https://github.com/pandas-dev/pandas/issues/12363))。'
- en: Bug in `Timestamp.__repr__` that caused `pprint` to fail in nested structures
    ([GH 12622](https://github.com/pandas-dev/pandas/issues/12622))
  id: totrans-642
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 导致 `pprint` 在嵌套结构中失败的 `Timestamp.__repr__` 中存在的 Bug ([GH 12622](https://github.com/pandas-dev/pandas/issues/12622))。
- en: Bug in `Timedelta.min` and `Timedelta.max`, the properties now report the true
    minimum/maximum `timedeltas` as recognized by pandas. See the [documentation](../user_guide/timedeltas.html#timedeltas-limitations).
    ([GH 12727](https://github.com/pandas-dev/pandas/issues/12727))
  id: totrans-643
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Timedelta.min` 和 `Timedelta.max` 中存在的 Bug，现在的属性报告 pandas 认可的真实最小/最大 `timedeltas`。参见
    [documentation](../user_guide/timedeltas.html#timedeltas-limitations)。 ([GH 12727](https://github.com/pandas-dev/pandas/issues/12727))。'
- en: Bug in `.quantile()` with interpolation may coerce to `float` unexpectedly ([GH
    12772](https://github.com/pandas-dev/pandas/issues/12772))
  id: totrans-644
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用插值的 `.quantile()` 中存在的 Bug，可能意外地强制转换为 `float` ([GH 12772](https://github.com/pandas-dev/pandas/issues/12772))。
- en: Bug in `.quantile()` with empty `Series` may return scalar rather than empty
    `Series` ([GH 12772](https://github.com/pandas-dev/pandas/issues/12772))
  id: totrans-645
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用空 `Series` 的 `.quantile()` 中存在的 Bug，可能返回标量而不是空 `Series` ([GH 12772](https://github.com/pandas-dev/pandas/issues/12772))。
- en: Bug in `.loc` with out-of-bounds in a large indexer would raise `IndexError`
    rather than `KeyError` ([GH 12527](https://github.com/pandas-dev/pandas/issues/12527))
  id: totrans-646
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在大量索引器中越界的 `.loc` 中存在的 Bug，会引发 `IndexError` 而不是 `KeyError` ([GH 12527](https://github.com/pandas-dev/pandas/issues/12527))。
- en: Bug in resampling when using a `TimedeltaIndex` and `.asfreq()`, would previously
    not include the final fencepost ([GH 12926](https://github.com/pandas-dev/pandas/issues/12926))
  id: totrans-647
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `TimedeltaIndex` 和 `.asfreq()` 重新采样时存在 Bug，之前不会包含最终的围栏。 ([GH 12926](https://github.com/pandas-dev/pandas/issues/12926))。
- en: Bug in equality testing with a `Categorical` in a `DataFrame` ([GH 12564](https://github.com/pandas-dev/pandas/issues/12564))
  id: totrans-648
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `DataFrame` 中的 `Categorical` 中的相等性测试中存在 Bug ([GH 12564](https://github.com/pandas-dev/pandas/issues/12564))。
- en: Bug in `GroupBy.first()`, `.last()` returns incorrect row when `TimeGrouper`
    is used ([GH 7453](https://github.com/pandas-dev/pandas/issues/7453))
  id: totrans-649
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `TimeGrouper` 时，`GroupBy.first()` 和 `.last()` 返回的行不正确 ([GH 7453](https://github.com/pandas-dev/pandas/issues/7453))。
- en: Bug in `pd.read_csv()` with the `c` engine when specifying `skiprows` with newlines
    in quoted items ([GH 10911](https://github.com/pandas-dev/pandas/issues/10911),
    [GH 12775](https://github.com/pandas-dev/pandas/issues/12775))
  id: totrans-650
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `c` 引擎的 `pd.read_csv()` 中存在的 Bug，当在引号中的项中指定 `skiprows` 时存在新行 ([GH 10911](https://github.com/pandas-dev/pandas/issues/10911),
    [GH 12775](https://github.com/pandas-dev/pandas/issues/12775))。
- en: Bug in `DataFrame` timezone lost when assigning tz-aware datetime `Series` with
    alignment ([GH 12981](https://github.com/pandas-dev/pandas/issues/12981))
  id: totrans-651
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在为具有对齐的时区感知日期时间 `Series` 分配时存在的 `DataFrame` 时区丢失的 Bug ([GH 12981](https://github.com/pandas-dev/pandas/issues/12981))。
- en: Bug in `.value_counts()` when `normalize=True` and `dropna=True` where nulls
    still contributed to the normalized count ([GH 12558](https://github.com/pandas-dev/pandas/issues/12558))
  id: totrans-652
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `normalize=True` 和 `dropna=True` 时，`.value_counts()` 存在 Bug，其中空值仍然影响了归一化计数
    ([GH 12558](https://github.com/pandas-dev/pandas/issues/12558))。
- en: Bug in `Series.value_counts()` loses name if its dtype is `category` ([GH 12835](https://github.com/pandas-dev/pandas/issues/12835))
  id: totrans-653
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`Series`的dtype为`category`时，在`Series.value_counts()`中存在错误，会丢失名称 ([GH 12835](https://github.com/pandas-dev/pandas/issues/12835))
- en: Bug in `Series.value_counts()` loses timezone info ([GH 12835](https://github.com/pandas-dev/pandas/issues/12835))
  id: totrans-654
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Series.value_counts()`中存在错误，丢失时区信息 ([GH 12835](https://github.com/pandas-dev/pandas/issues/12835))
- en: Bug in `Series.value_counts(normalize=True)` with `Categorical` raises `UnboundLocalError`
    ([GH 12835](https://github.com/pandas-dev/pandas/issues/12835))
  id: totrans-655
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Series.value_counts(normalize=True)`与`Categorical`一起使用时，会引发`UnboundLocalError`
    ([GH 12835](https://github.com/pandas-dev/pandas/issues/12835))
- en: Bug in `Panel.fillna()` ignoring `inplace=True` ([GH 12633](https://github.com/pandas-dev/pandas/issues/12633))
  id: totrans-656
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Panel.fillna()`中存在错误，忽略了`inplace=True` ([GH 12633](https://github.com/pandas-dev/pandas/issues/12633))
- en: Bug in `pd.read_csv()` when specifying `names`, `usecols`, and `parse_dates`
    simultaneously with the `c` engine ([GH 9755](https://github.com/pandas-dev/pandas/issues/9755))
  id: totrans-657
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当同时使用`c`引擎和`names`、`usecols`以及`parse_dates`来指定`pd.read_csv()`时出现错误 ([GH 9755](https://github.com/pandas-dev/pandas/issues/9755))
- en: Bug in `pd.read_csv()` when specifying `delim_whitespace=True` and `lineterminator`
    simultaneously with the `c` engine ([GH 12912](https://github.com/pandas-dev/pandas/issues/12912))
  id: totrans-658
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当同时使用`c`引擎和`delim_whitespace=True`以及`lineterminator`来指定`pd.read_csv()`时出现错误
    ([GH 12912](https://github.com/pandas-dev/pandas/issues/12912))
- en: Bug in `Series.rename`, `DataFrame.rename` and `DataFrame.rename_axis` not treating
    `Series` as mappings to relabel ([GH 12623](https://github.com/pandas-dev/pandas/issues/12623)).
  id: totrans-659
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`Series.rename`、`DataFrame.rename`和`DataFrame.rename_axis`中存在错误，未将`Series`视为映射来重新标记
    ([GH 12623](https://github.com/pandas-dev/pandas/issues/12623))
- en: Clean in `.rolling.min` and `.rolling.max` to enhance dtype handling ([GH 12373](https://github.com/pandas-dev/pandas/issues/12373))
  id: totrans-660
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`.rolling.min`和`.rolling.max`中进行清理以增强dtype处理 ([GH 12373](https://github.com/pandas-dev/pandas/issues/12373))
- en: Bug in `groupby` where complex types are coerced to float ([GH 12902](https://github.com/pandas-dev/pandas/issues/12902))
  id: totrans-661
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`groupby`中存在错误，复杂类型被强制转换为浮点数 ([GH 12902](https://github.com/pandas-dev/pandas/issues/12902))
- en: Bug in `Series.map` raises `TypeError` if its dtype is `category` or tz-aware
    `datetime` ([GH 12473](https://github.com/pandas-dev/pandas/issues/12473))
  id: totrans-662
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当其dtype为`category`或tz-aware `datetime`时，`Series.map`存在错误，会引发`TypeError` ([GH
    12473](https://github.com/pandas-dev/pandas/issues/12473))
- en: Bugs on 32bit platforms for some test comparisons ([GH 12972](https://github.com/pandas-dev/pandas/issues/12972))
  id: totrans-663
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在某些测试比较中，32位平台上存在错误 ([GH 12972](https://github.com/pandas-dev/pandas/issues/12972))
- en: Bug in index coercion when falling back from `RangeIndex` construction ([GH
    12893](https://github.com/pandas-dev/pandas/issues/12893))
  id: totrans-664
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当从`RangeIndex`构造中回退时，索引强制转换存在错误 ([GH 12893](https://github.com/pandas-dev/pandas/issues/12893))
- en: Better error message in window functions when invalid argument (e.g. a float
    window) is passed ([GH 12669](https://github.com/pandas-dev/pandas/issues/12669))
  id: totrans-665
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在窗口函数中改进了错误消息，当传递无效参数（例如浮点窗口）时 ([GH 12669](https://github.com/pandas-dev/pandas/issues/12669))
- en: Bug in slicing subclassed `DataFrame` defined to return subclassed `Series`
    may return normal `Series` ([GH 11559](https://github.com/pandas-dev/pandas/issues/11559))
  id: totrans-666
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在对子类化的`DataFrame`进行切片时存在错误，定义为返回子类化的`Series`可能返回普通的`Series` ([GH 11559](https://github.com/pandas-dev/pandas/issues/11559))
- en: Bug in `.str` accessor methods may raise `ValueError` if input has `name` and
    the result is `DataFrame` or `MultiIndex` ([GH 12617](https://github.com/pandas-dev/pandas/issues/12617))
  id: totrans-667
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在输入具有`name`并且结果为`DataFrame`或`MultiIndex`的情况下，使用`.str`访问器方法可能会引发`ValueError`
    ([GH 12617](https://github.com/pandas-dev/pandas/issues/12617))
- en: Bug in `DataFrame.last_valid_index()` and `DataFrame.first_valid_index()` on
    empty frames ([GH 12800](https://github.com/pandas-dev/pandas/issues/12800))
  id: totrans-668
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在空框架上使用`DataFrame.last_valid_index()`和`DataFrame.first_valid_index()`时存在错误 ([GH
    12800](https://github.com/pandas-dev/pandas/issues/12800))
- en: Bug in `CategoricalIndex.get_loc` returns different result from regular `Index`
    ([GH 12531](https://github.com/pandas-dev/pandas/issues/12531))
  id: totrans-669
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`CategoricalIndex.get_loc`中存在错误，与常规`Index`返回不同的结果 ([GH 12531](https://github.com/pandas-dev/pandas/issues/12531))
- en: Bug in `PeriodIndex.resample` where name not propagated ([GH 12769](https://github.com/pandas-dev/pandas/issues/12769))
  id: totrans-670
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`PeriodIndex.resample`中存在错误，名称未传播 ([GH 12769](https://github.com/pandas-dev/pandas/issues/12769))
- en: Bug in `date_range` `closed` keyword and timezones ([GH 12684](https://github.com/pandas-dev/pandas/issues/12684)).
  id: totrans-671
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`date_range`中`closed`关键字和时区存在错误 ([GH 12684](https://github.com/pandas-dev/pandas/issues/12684))
- en: Bug in `pd.concat` raises `AttributeError` when input data contains tz-aware
    datetime and timedelta ([GH 12620](https://github.com/pandas-dev/pandas/issues/12620))
  id: totrans-672
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当输入数据包含tz-aware datetime和timedelta时，`pd.concat`存在错误，会引发`AttributeError` ([GH
    12620](https://github.com/pandas-dev/pandas/issues/12620))
- en: Bug in `pd.concat` did not handle empty `Series` properly ([GH 11082](https://github.com/pandas-dev/pandas/issues/11082))
  id: totrans-673
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.concat` 中存在 bug，未正确处理空 `Series` ([GH 11082](https://github.com/pandas-dev/pandas/issues/11082))'
- en: Bug in `.plot.bar` alignment when `width` is specified with `int` ([GH 12979](https://github.com/pandas-dev/pandas/issues/12979))
  id: totrans-674
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当指定 `width` 时，`.plot.bar` 对齐存在 bug，其中 `width` 是 `int` ([GH 12979](https://github.com/pandas-dev/pandas/issues/12979))
- en: Bug in `fill_value` is ignored if the argument to a binary operator is a constant
    ([GH 12723](https://github.com/pandas-dev/pandas/issues/12723))
  id: totrans-675
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当二进制运算符的参数为常数时，`fill_value` 中的 bug 被忽略 ([GH 12723](https://github.com/pandas-dev/pandas/issues/12723))
- en: Bug in `pd.read_html()` when using bs4 flavor and parsing table with a header
    and only one column ([GH 9178](https://github.com/pandas-dev/pandas/issues/9178))
  id: totrans-676
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用 bs4 flavor 并解析只有一个标题列的表格时，`pd.read_html()` 存在 bug ([GH 9178](https://github.com/pandas-dev/pandas/issues/9178))
- en: Bug in `.pivot_table` when `margins=True` and `dropna=True` where nulls still
    contributed to margin count ([GH 12577](https://github.com/pandas-dev/pandas/issues/12577))
  id: totrans-677
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `margins=True` 和 `dropna=True` 时，`.pivot_table` 存在 bug，其中空值仍然会对边距计数有贡献 ([GH
    12577](https://github.com/pandas-dev/pandas/issues/12577))
- en: Bug in `.pivot_table` when `dropna=False` where table index/column names disappear
    ([GH 12133](https://github.com/pandas-dev/pandas/issues/12133))
  id: totrans-678
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `dropna=False` 时，`.pivot_table` 中存在 bug，表格索引/列名消失 ([GH 12133](https://github.com/pandas-dev/pandas/issues/12133))
- en: Bug in `pd.crosstab()` when `margins=True` and `dropna=False` which raised ([GH
    12642](https://github.com/pandas-dev/pandas/issues/12642))
  id: totrans-679
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `margins=True` 和 `dropna=False` 时，`pd.crosstab()` 中存在 bug，会引发异常 ([GH 12642](https://github.com/pandas-dev/pandas/issues/12642))
- en: Bug in `Series.name` when `name` attribute can be a hashable type ([GH 12610](https://github.com/pandas-dev/pandas/issues/12610))
  id: totrans-680
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `name` 属性可以是可哈希类型时，`Series.name` 存在 bug ([GH 12610](https://github.com/pandas-dev/pandas/issues/12610))
- en: Bug in `.describe()` resets categorical columns information ([GH 11558](https://github.com/pandas-dev/pandas/issues/11558))
  id: totrans-681
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`.describe()` 中存在 bug，重置了分类列信息 ([GH 11558](https://github.com/pandas-dev/pandas/issues/11558))'
- en: Bug where `loffset` argument was not applied when calling `resample().count()`
    on a timeseries ([GH 12725](https://github.com/pandas-dev/pandas/issues/12725))
  id: totrans-682
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在时间序列上调用 `resample().count()` 时，`loffset` 参数未被应用的 bug ([GH 12725](https://github.com/pandas-dev/pandas/issues/12725))
- en: '`pd.read_excel()` now accepts column names associated with keyword argument
    `names` ([GH 12870](https://github.com/pandas-dev/pandas/issues/12870))'
  id: totrans-683
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.read_excel()` 现在接受与关键字参数 `names` 关联的列名 ([GH 12870](https://github.com/pandas-dev/pandas/issues/12870))'
- en: Bug in `pd.to_numeric()` with `Index` returns `np.ndarray`, rather than `Index`
    ([GH 12777](https://github.com/pandas-dev/pandas/issues/12777))
  id: totrans-684
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 `Index` 作为参数时，`pd.to_numeric()` 存在 bug，返回 `np.ndarray` 而不是 `Index` ([GH 12777](https://github.com/pandas-dev/pandas/issues/12777))
- en: Bug in `pd.to_numeric()` with datetime-like may raise `TypeError` ([GH 12777](https://github.com/pandas-dev/pandas/issues/12777))
  id: totrans-685
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当类似日期时间的对象作为参数时，`pd.to_numeric()` 中存在 bug，可能引发 `TypeError` ([GH 12777](https://github.com/pandas-dev/pandas/issues/12777))
- en: Bug in `pd.to_numeric()` with scalar raises `ValueError` ([GH 12777](https://github.com/pandas-dev/pandas/issues/12777))
  id: totrans-686
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pd.to_numeric()` 存在 bug，使用标量会引发 `ValueError` ([GH 12777](https://github.com/pandas-dev/pandas/issues/12777))'
- en: '## Contributors'
  id: totrans-687
  prefs: []
  type: TYPE_NORMAL
  zh: '## 贡献者'
- en: A total of 60 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  id: totrans-688
  prefs: []
  type: TYPE_NORMAL
  zh: 这个版本共有 60 人贡献了补丁。带有“+”符号的人是首次贡献补丁的。
- en: Andrew Fiore-Gartland +
  id: totrans-689
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Andrew Fiore-Gartland +
- en: Bastiaan +
  id: totrans-690
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bastiaan +
- en: Benoît Vinot +
  id: totrans-691
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Benoît Vinot +
- en: Brandon Rhodes +
  id: totrans-692
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brandon Rhodes +
- en: DaCoEx +
  id: totrans-693
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DaCoEx +
- en: Drew Fustin +
  id: totrans-694
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Drew Fustin +
- en: Ernesto Freitas +
  id: totrans-695
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ernesto Freitas +
- en: Filip Ter +
  id: totrans-696
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Filip Ter +
- en: Gregory Livschitz +
  id: totrans-697
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gregory Livschitz +
- en: Gábor Lipták
  id: totrans-698
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gábor Lipták
- en: Hassan Kibirige +
  id: totrans-699
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hassan Kibirige +
- en: Iblis Lin
  id: totrans-700
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Iblis Lin
- en: Israel Saeta Pérez +
  id: totrans-701
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Israel Saeta Pérez +
- en: Jason Wolosonovich +
  id: totrans-702
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jason Wolosonovich +
- en: Jeff Reback
  id: totrans-703
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jeff Reback
- en: Joe Jevnik
  id: totrans-704
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joe Jevnik
- en: Joris Van den Bossche
  id: totrans-705
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Van den Bossche
- en: Joshua Storck +
  id: totrans-706
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joshua Storck +
- en: Ka Wo Chen
  id: totrans-707
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ka Wo Chen
- en: Kerby Shedden
  id: totrans-708
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kerby Shedden
- en: Kieran O’Mahony
  id: totrans-709
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kieran O’Mahony
- en: Leif Walsh +
  id: totrans-710
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Leif Walsh +
- en: Mahmoud Lababidi +
  id: totrans-711
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mahmoud Lababidi +
- en: Maoyuan Liu +
  id: totrans-712
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maoyuan Liu +
- en: Mark Roth +
  id: totrans-713
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mark Roth +
- en: Matt Wittmann
  id: totrans-714
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matt Wittmann
- en: MaxU +
  id: totrans-715
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MaxU +
- en: Maximilian Roos
  id: totrans-716
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maximilian Roos
- en: Michael Droettboom +
  id: totrans-717
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Michael Droettboom +
- en: Nick Eubank
  id: totrans-718
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nick Eubank
- en: Nicolas Bonnotte
  id: totrans-719
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nicolas Bonnotte
- en: OXPHOS +
  id: totrans-720
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OXPHOS +
- en: Pauli Virtanen +
  id: totrans-721
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pauli Virtanen +
- en: Peter Waller +
  id: totrans-722
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Peter Waller +
- en: Pietro Battiston
  id: totrans-723
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pietro Battiston
- en: Prabhjot Singh +
  id: totrans-724
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Prabhjot Singh +
- en: Robin Wilson
  id: totrans-725
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robin Wilson
- en: Roger Thomas +
  id: totrans-726
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Roger Thomas +
- en: Sebastian Bank
  id: totrans-727
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sebastian Bank
- en: Stephen Hoover
  id: totrans-728
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stephen Hoover
- en: Tim Hopper +
  id: totrans-729
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tim Hopper +
- en: Tom Augspurger
  id: totrans-730
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tom Augspurger
- en: WANG Aiyong
  id: totrans-731
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WANG Aiyong
- en: Wes Turner
  id: totrans-732
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wes Turner
- en: Winand +
  id: totrans-733
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Winand +
- en: Xbar +
  id: totrans-734
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Xbar +
- en: Yan Facai +
  id: totrans-735
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yan Facai +
- en: adneu +
  id: totrans-736
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: adneu +
- en: ajenkins-cargometrics +
  id: totrans-737
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ajenkins-cargometrics +
- en: behzad nouri
  id: totrans-738
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: behzad nouri
- en: chinskiy +
  id: totrans-739
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: chinskiy +
- en: gfyoung
  id: totrans-740
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gfyoung
- en: jeps-journal +
  id: totrans-741
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jeps-journal +
- en: jonaslb +
  id: totrans-742
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jonaslb +
- en: kotrfa +
  id: totrans-743
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: kotrfa +
- en: nileracecrew +
  id: totrans-744
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: nileracecrew +
- en: onesandzeroes
  id: totrans-745
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: onesandzeroes
- en: rs2 +
  id: totrans-746
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: rs2 +
- en: sinhrks
  id: totrans-747
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sinhrks
- en: tsdlovell +
  id: totrans-748
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: tsdlovell +
