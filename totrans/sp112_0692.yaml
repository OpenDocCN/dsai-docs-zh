- en: scipy.sparse.diags_array
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.sparse.diags_array.html#scipy.sparse.diags_array](https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.sparse.diags_array.html#scipy.sparse.diags_array)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Construct a sparse array from diagonals.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**diagonals**sequence of array_like'
  prefs: []
  type: TYPE_NORMAL
- en: Sequence of arrays containing the array diagonals, corresponding to *offsets*.
  prefs: []
  type: TYPE_NORMAL
- en: '**offsets**sequence of int or an int, optional'
  prefs: []
  type: TYPE_NORMAL
- en: 'Diagonals to set:'
  prefs: []
  type: TYPE_NORMAL
- en: k = 0 the main diagonal (default)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: k > 0 the kth upper diagonal
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: k < 0 the kth lower diagonal
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**shape**tuple of int, optional'
  prefs: []
  type: TYPE_NORMAL
- en: Shape of the result. If omitted, a square array large enough to contain the
    diagonals is returned.
  prefs: []
  type: TYPE_NORMAL
- en: '**format**{“dia”, “csr”, “csc”, “lil”, …}, optional'
  prefs: []
  type: TYPE_NORMAL
- en: Matrix format of the result. By default (format=None) an appropriate sparse
    array format is returned. This choice is subject to change.
  prefs: []
  type: TYPE_NORMAL
- en: '**dtype**dtype, optional'
  prefs: []
  type: TYPE_NORMAL
- en: Data type of the array.
  prefs: []
  type: TYPE_NORMAL
- en: Notes
  prefs: []
  type: TYPE_NORMAL
- en: 'The result from [`diags_array`](#scipy.sparse.diags_array "scipy.sparse.diags_array")
    is the sparse equivalent of:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Repeated diagonal offsets are disallowed.
  prefs: []
  type: TYPE_NORMAL
- en: New in version 1.11.
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'Broadcasting of scalars is supported (but shape needs to be specified):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'If only one diagonal is wanted (as in [`numpy.diag`](https://numpy.org/devdocs/reference/generated/numpy.diag.html#numpy.diag
    "(in NumPy v2.0.dev0)")), the following works as well:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
