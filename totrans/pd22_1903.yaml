- en: What’s new in 1.5.3 (January 18, 2023)
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://pandas.pydata.org/docs/whatsnew/v1.5.3.html](https://pandas.pydata.org/docs/whatsnew/v1.5.3.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: These are the changes in pandas 1.5.3\. See [Release notes](index.html#release)
    for a full changelog including other versions of pandas.
  prefs: []
  type: TYPE_NORMAL
- en: '## Fixed regressions'
  prefs: []
  type: TYPE_NORMAL
- en: Fixed performance regression in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") when `values` is empty ([GH 49839](https://github.com/pandas-dev/pandas/issues/49839))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrame.memory_usage()`](../reference/api/pandas.DataFrame.memory_usage.html#pandas.DataFrame.memory_usage
    "pandas.DataFrame.memory_usage") showing unnecessary `FutureWarning` when [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") is empty ([GH 50066](https://github.com/pandas-dev/pandas/issues/50066))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") when used with `as_index=False`
    ([GH 49834](https://github.com/pandas-dev/pandas/issues/49834))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Enforced reversion of `color` as an alias for `c` and `size` as an alias for
    `s` in function [`DataFrame.plot.scatter()`](../reference/api/pandas.DataFrame.plot.scatter.html#pandas.DataFrame.plot.scatter
    "pandas.DataFrame.plot.scatter") ([GH 49732](https://github.com/pandas-dev/pandas/issues/49732))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`SeriesGroupBy.apply()`](../reference/api/pandas.core.groupby.SeriesGroupBy.apply.html#pandas.core.groupby.SeriesGroupBy.apply
    "pandas.core.groupby.SeriesGroupBy.apply") setting a `name` attribute on the result
    if the result was a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 49907](https://github.com/pandas-dev/pandas/issues/49907))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed performance regression in setting with the [`at()`](../reference/api/pandas.DataFrame.at.html#pandas.DataFrame.at
    "pandas.DataFrame.at") indexer ([GH 49771](https://github.com/pandas-dev/pandas/issues/49771))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Fixed regression in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") raising `ValueError` when parsing array of `float` containing
    `np.nan` ([GH 50237](https://github.com/pandas-dev/pandas/issues/50237))  ## Bug
    fixes'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in the Copy-on-Write implementation losing track of views when indexing
    a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    with another [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 50630](https://github.com/pandas-dev/pandas/issues/50630))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`Styler.to_excel()`](../reference/api/pandas.io.formats.style.Styler.to_excel.html#pandas.io.formats.style.Styler.to_excel
    "pandas.io.formats.style.Styler.to_excel") leading to error when unrecognized
    `border-style` (e.g. `"hair"`) provided to Excel writers ([GH 48649](https://github.com/pandas-dev/pandas/issues/48649))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`Series.quantile()`](../reference/api/pandas.Series.quantile.html#pandas.Series.quantile
    "pandas.Series.quantile") emitting warning from NumPy when [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") has only `NA` values ([GH 50681](https://github.com/pandas-dev/pandas/issues/50681))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug when chaining several [`Styler.concat()`](../reference/api/pandas.io.formats.style.Styler.concat.html#pandas.io.formats.style.Styler.concat
    "pandas.io.formats.style.Styler.concat") calls, only the last styler was concatenated
    ([GH 49207](https://github.com/pandas-dev/pandas/issues/49207))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug when instantiating a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") subclass inheriting from `typing.Generic` that triggered a
    `UserWarning` on python 3.11 ([GH 49649](https://github.com/pandas-dev/pandas/issues/49649))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`pivot_table()`](../reference/api/pandas.pivot_table.html#pandas.pivot_table
    "pandas.pivot_table") with NumPy 1.24 or greater when the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") columns has nested elements ([GH 50342](https://github.com/pandas-dev/pandas/issues/50342))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Bug in [`pandas.testing.assert_series_equal()`](../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal
    "pandas.testing.assert_series_equal") (and equivalent `assert_` functions) when
    having nested data and using numpy >= 1.25 ([GH 50360](https://github.com/pandas-dev/pandas/issues/50360))  ##
    Other'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Note
  prefs: []
  type: TYPE_NORMAL
- en: If you are using [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql"), [`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql
    "pandas.read_sql"), [`read_sql_table()`](../reference/api/pandas.read_sql_table.html#pandas.read_sql_table
    "pandas.read_sql_table"), or [`read_sql_query()`](../reference/api/pandas.read_sql_query.html#pandas.read_sql_query
    "pandas.read_sql_query") with SQLAlchemy 1.4.46 or greater, you may see a `sqlalchemy.exc.RemovedIn20Warning`.
    These warnings can be safely ignored for the SQLAlchemy 1.4.x releases as pandas
    works toward compatibility with SQLAlchemy 2.0.
  prefs: []
  type: TYPE_NORMAL
- en: Reverted deprecation ([GH 45324](https://github.com/pandas-dev/pandas/issues/45324))
    of behavior of `Series.__getitem__()` and `Series.__setitem__()` slicing with
    an integer [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index");
    this will remain positional ([GH 49612](https://github.com/pandas-dev/pandas/issues/49612))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'A `FutureWarning` raised when attempting to set values inplace with [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") or [`DataFrame.iloc()`](../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc
    "pandas.DataFrame.iloc") has been changed to a `DeprecationWarning` ([GH 48673](https://github.com/pandas-dev/pandas/issues/48673))  ##
    Contributors'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A total of 19 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  prefs: []
  type: TYPE_NORMAL
- en: Emma Carballal Haire +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Irv Lustig
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: JHM Darbyshire
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Joris Van den Bossche
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Marc Garcia
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Marco Edward Gorelli
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: MarcoGorelli
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matthew Roeschke
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: MeeseeksMachine
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Natalia Mokeeva
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pandas Development Team
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Patrick Hoefler
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Richard Shadrach
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Tsvika Shapira +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: William Ayd
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: aneesh98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: jakirkham +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: jbrockmendel
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'silviaovo +  ## Fixed regressions'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed performance regression in [`Series.isin()`](../reference/api/pandas.Series.isin.html#pandas.Series.isin
    "pandas.Series.isin") when `values` is empty ([GH 49839](https://github.com/pandas-dev/pandas/issues/49839))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrame.memory_usage()`](../reference/api/pandas.DataFrame.memory_usage.html#pandas.DataFrame.memory_usage
    "pandas.DataFrame.memory_usage") showing unnecessary `FutureWarning` when [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") is empty ([GH 50066](https://github.com/pandas-dev/pandas/issues/50066))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`DataFrameGroupBy.transform()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform
    "pandas.core.groupby.DataFrameGroupBy.transform") when used with `as_index=False`
    ([GH 49834](https://github.com/pandas-dev/pandas/issues/49834))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Enforced reversion of `color` as an alias for `c` and `size` as an alias for
    `s` in function [`DataFrame.plot.scatter()`](../reference/api/pandas.DataFrame.plot.scatter.html#pandas.DataFrame.plot.scatter
    "pandas.DataFrame.plot.scatter") ([GH 49732](https://github.com/pandas-dev/pandas/issues/49732))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`SeriesGroupBy.apply()`](../reference/api/pandas.core.groupby.SeriesGroupBy.apply.html#pandas.core.groupby.SeriesGroupBy.apply
    "pandas.core.groupby.SeriesGroupBy.apply") setting a `name` attribute on the result
    if the result was a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 49907](https://github.com/pandas-dev/pandas/issues/49907))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed performance regression in setting with the [`at()`](../reference/api/pandas.DataFrame.at.html#pandas.DataFrame.at
    "pandas.DataFrame.at") indexer ([GH 49771](https://github.com/pandas-dev/pandas/issues/49771))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed regression in [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") raising `ValueError` when parsing array of `float` containing
    `np.nan` ([GH 50237](https://github.com/pandas-dev/pandas/issues/50237))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Bug fixes'
  prefs: []
  type: TYPE_NORMAL
- en: Bug in the Copy-on-Write implementation losing track of views when indexing
    a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    with another [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") ([GH 50630](https://github.com/pandas-dev/pandas/issues/50630))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`Styler.to_excel()`](../reference/api/pandas.io.formats.style.Styler.to_excel.html#pandas.io.formats.style.Styler.to_excel
    "pandas.io.formats.style.Styler.to_excel") leading to error when unrecognized
    `border-style` (e.g. `"hair"`) provided to Excel writers ([GH 48649](https://github.com/pandas-dev/pandas/issues/48649))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`Series.quantile()`](../reference/api/pandas.Series.quantile.html#pandas.Series.quantile
    "pandas.Series.quantile") emitting warning from NumPy when [`Series`](../reference/api/pandas.Series.html#pandas.Series
    "pandas.Series") has only `NA` values ([GH 50681](https://github.com/pandas-dev/pandas/issues/50681))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug when chaining several [`Styler.concat()`](../reference/api/pandas.io.formats.style.Styler.concat.html#pandas.io.formats.style.Styler.concat
    "pandas.io.formats.style.Styler.concat") calls, only the last styler was concatenated
    ([GH 49207](https://github.com/pandas-dev/pandas/issues/49207))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fixed bug when instantiating a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") subclass inheriting from `typing.Generic` that triggered a
    `UserWarning` on python 3.11 ([GH 49649](https://github.com/pandas-dev/pandas/issues/49649))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`pivot_table()`](../reference/api/pandas.pivot_table.html#pandas.pivot_table
    "pandas.pivot_table") with NumPy 1.24 or greater when the [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") columns has nested elements ([GH 50342](https://github.com/pandas-dev/pandas/issues/50342))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bug in [`pandas.testing.assert_series_equal()`](../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal
    "pandas.testing.assert_series_equal") (and equivalent `assert_` functions) when
    having nested data and using numpy >= 1.25 ([GH 50360](https://github.com/pandas-dev/pandas/issues/50360))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Other'
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs: []
  type: TYPE_NORMAL
- en: If you are using [`DataFrame.to_sql()`](../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql
    "pandas.DataFrame.to_sql"), [`read_sql()`](../reference/api/pandas.read_sql.html#pandas.read_sql
    "pandas.read_sql"), [`read_sql_table()`](../reference/api/pandas.read_sql_table.html#pandas.read_sql_table
    "pandas.read_sql_table"), or [`read_sql_query()`](../reference/api/pandas.read_sql_query.html#pandas.read_sql_query
    "pandas.read_sql_query") with SQLAlchemy 1.4.46 or greater, you may see a `sqlalchemy.exc.RemovedIn20Warning`.
    These warnings can be safely ignored for the SQLAlchemy 1.4.x releases as pandas
    works toward compatibility with SQLAlchemy 2.0.
  prefs: []
  type: TYPE_NORMAL
- en: Reverted deprecation ([GH 45324](https://github.com/pandas-dev/pandas/issues/45324))
    of behavior of `Series.__getitem__()` and `Series.__setitem__()` slicing with
    an integer [`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index");
    this will remain positional ([GH 49612](https://github.com/pandas-dev/pandas/issues/49612))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A `FutureWarning` raised when attempting to set values inplace with [`DataFrame.loc()`](../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc
    "pandas.DataFrame.loc") or [`DataFrame.iloc()`](../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc
    "pandas.DataFrame.iloc") has been changed to a `DeprecationWarning` ([GH 48673](https://github.com/pandas-dev/pandas/issues/48673))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '## Contributors'
  prefs: []
  type: TYPE_NORMAL
- en: A total of 19 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  prefs: []
  type: TYPE_NORMAL
- en: Emma Carballal Haire +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Irv Lustig
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: JHM Darbyshire
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Joris Van den Bossche
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Marc Garcia
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Marco Edward Gorelli
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: MarcoGorelli
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Matthew Roeschke
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: MeeseeksMachine
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Natalia Mokeeva
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pandas Development Team
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Patrick Hoefler
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Richard Shadrach
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Tsvika Shapira +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: William Ayd
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: aneesh98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: jakirkham +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: jbrockmendel
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: silviaovo +
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
