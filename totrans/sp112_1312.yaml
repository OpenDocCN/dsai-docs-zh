- en: scipy.stats.somersd
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.somersd.html#scipy.stats.somersd](https://docs.scipy.org/doc/scipy-1.12.0/reference/generated/scipy.stats.somersd.html#scipy.stats.somersd)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Calculates Somers’ D, an asymmetric measure of ordinal association.
  prefs: []
  type: TYPE_NORMAL
- en: 'Like Kendall’s \(\tau\), Somers’ \(D\) is a measure of the correspondence between
    two rankings. Both statistics consider the difference between the number of concordant
    and discordant pairs in two rankings \(X\) and \(Y\), and both are normalized
    such that values close to 1 indicate strong agreement and values close to -1 indicate
    strong disagreement. They differ in how they are normalized. To show the relationship,
    Somers’ \(D\) can be defined in terms of Kendall’s \(\tau_a\):'
  prefs: []
  type: TYPE_NORMAL
- en: \[D(Y|X) = \frac{\tau_a(X, Y)}{\tau_a(X, X)}\]
  prefs: []
  type: TYPE_NORMAL
- en: Suppose the first ranking \(X\) has \(r\) distinct ranks and the second ranking
    \(Y\) has \(s\) distinct ranks. These two lists of \(n\) rankings can also be
    viewed as an \(r \times s\) contingency table in which element \(i, j\) is the
    number of rank pairs with rank \(i\) in ranking \(X\) and rank \(j\) in ranking
    \(Y\). Accordingly, [`somersd`](#scipy.stats.somersd "scipy.stats.somersd") also
    allows the input data to be supplied as a single, 2D contingency table instead
    of as two separate, 1D rankings.
  prefs: []
  type: TYPE_NORMAL
- en: 'Note that the definition of Somers’ \(D\) is asymmetric: in general, \(D(Y|X)
    \neq D(X|Y)\). `somersd(x, y)` calculates Somers’ \(D(Y|X)\): the “row” variable
    \(X\) is treated as an independent variable, and the “column” variable \(Y\) is
    dependent. For Somers’ \(D(X|Y)\), swap the input lists or transpose the input
    table.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**x**array_like'
  prefs: []
  type: TYPE_NORMAL
- en: 1D array of rankings, treated as the (row) independent variable. Alternatively,
    a 2D contingency table.
  prefs: []
  type: TYPE_NORMAL
- en: '**y**array_like, optional'
  prefs: []
  type: TYPE_NORMAL
- en: If *x* is a 1D array of rankings, *y* is a 1D array of rankings of the same
    length, treated as the (column) dependent variable. If *x* is 2D, *y* is ignored.
  prefs: []
  type: TYPE_NORMAL
- en: '**alternative**{‘two-sided’, ‘less’, ‘greater’}, optional'
  prefs: []
  type: TYPE_NORMAL
- en: 'Defines the alternative hypothesis. Default is ‘two-sided’. The following options
    are available: * ‘two-sided’: the rank correlation is nonzero * ‘less’: the rank
    correlation is negative (less than zero) * ‘greater’: the rank correlation is
    positive (greater than zero)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Returns:'
  prefs: []
  type: TYPE_NORMAL
- en: '**res**SomersDResult'
  prefs: []
  type: TYPE_NORMAL
- en: 'A *SomersDResult* object with the following fields:'
  prefs: []
  type: TYPE_NORMAL
- en: statisticfloat
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The Somers’ \(D\) statistic.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: pvaluefloat
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The p-value for a hypothesis test whose null hypothesis is an absence of association,
    \(D=0\). See notes for more information.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: table2D array
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The contingency table formed from rankings *x* and *y* (or the provided contingency
    table, if *x* is a 2D array)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: See also
  prefs: []
  type: TYPE_NORMAL
- en: '[`kendalltau`](scipy.stats.kendalltau.html#scipy.stats.kendalltau "scipy.stats.kendalltau")'
  prefs: []
  type: TYPE_NORMAL
- en: Calculates Kendall’s tau, another correlation measure.
  prefs: []
  type: TYPE_NORMAL
- en: '[`weightedtau`](scipy.stats.weightedtau.html#scipy.stats.weightedtau "scipy.stats.weightedtau")'
  prefs: []
  type: TYPE_NORMAL
- en: Computes a weighted version of Kendall’s tau.
  prefs: []
  type: TYPE_NORMAL
- en: '[`spearmanr`](scipy.stats.spearmanr.html#scipy.stats.spearmanr "scipy.stats.spearmanr")'
  prefs: []
  type: TYPE_NORMAL
- en: Calculates a Spearman rank-order correlation coefficient.
  prefs: []
  type: TYPE_NORMAL
- en: '[`pearsonr`](scipy.stats.pearsonr.html#scipy.stats.pearsonr "scipy.stats.pearsonr")'
  prefs: []
  type: TYPE_NORMAL
- en: Calculates a Pearson correlation coefficient.
  prefs: []
  type: TYPE_NORMAL
- en: Notes
  prefs: []
  type: TYPE_NORMAL
- en: This function follows the contingency table approach of [[2]](#r689c526c87ec-2)
    and [[3]](#r689c526c87ec-3). *p*-values are computed based on an asymptotic approximation
    of the test statistic distribution under the null hypothesis \(D=0\).
  prefs: []
  type: TYPE_NORMAL
- en: Theoretically, hypothesis tests based on Kendall’s \(tau\) and Somers’ \(D\)
    should be identical. However, the *p*-values returned by [`kendalltau`](scipy.stats.kendalltau.html#scipy.stats.kendalltau
    "scipy.stats.kendalltau") are based on the null hypothesis of *independence* between
    \(X\) and \(Y\) (i.e. the population from which pairs in \(X\) and \(Y\) are sampled
    contains equal numbers of all possible pairs), which is more specific than the
    null hypothesis \(D=0\) used here. If the null hypothesis of independence is desired,
    it is acceptable to use the *p*-value returned by [`kendalltau`](scipy.stats.kendalltau.html#scipy.stats.kendalltau
    "scipy.stats.kendalltau") with the statistic returned by [`somersd`](#scipy.stats.somersd
    "scipy.stats.somersd") and vice versa. For more information, see [[2]](#r689c526c87ec-2).
  prefs: []
  type: TYPE_NORMAL
- en: 'Contingency tables are formatted according to the convention used by SAS and
    R: the first ranking supplied (`x`) is the “row” variable, and the second ranking
    supplied (`y`) is the “column” variable. This is opposite the convention of Somers’
    original paper [[1]](#r689c526c87ec-1).'
  prefs: []
  type: TYPE_NORMAL
- en: References
  prefs: []
  type: TYPE_NORMAL
- en: '[[1](#id4)]'
  prefs: []
  type: TYPE_NORMAL
- en: Robert H. Somers, “A New Asymmetric Measure of Association for Ordinal Variables”,
    *American Sociological Review*, Vol. 27, No. 6, pp. 799–811, 1962.
  prefs: []
  type: TYPE_NORMAL
- en: '[2] ([1](#id1),[2](#id3))'
  prefs: []
  type: TYPE_NORMAL
- en: Morton B. Brown and Jacqueline K. Benedetti, “Sampling Behavior of Tests for
    Correlation in Two-Way Contingency Tables”, *Journal of the American Statistical
    Association* Vol. 72, No. 358, pp. 309–315, 1977.
  prefs: []
  type: TYPE_NORMAL
- en: '[[3](#id2)]'
  prefs: []
  type: TYPE_NORMAL
- en: SAS Institute, Inc., “The FREQ Procedure (Book Excerpt)”, *SAS/STAT 9.2 User’s
    Guide, Second Edition*, SAS Publishing, 2009.
  prefs: []
  type: TYPE_NORMAL
- en: '[[4](#id9)]'
  prefs: []
  type: TYPE_NORMAL
- en: Laerd Statistics, “Somers’ d using SPSS Statistics”, *SPSS Statistics Tutorials
    and Statistical Guides*, [https://statistics.laerd.com/spss-tutorials/somers-d-using-spss-statistics.php](https://statistics.laerd.com/spss-tutorials/somers-d-using-spss-statistics.php),
    Accessed July 31, 2020.
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: 'We calculate Somers’ D for the example given in [[4]](#r689c526c87ec-4), in
    which a hotel chain owner seeks to determine the association between hotel room
    cleanliness and customer satisfaction. The independent variable, hotel room cleanliness,
    is ranked on an ordinal scale: “below average (1)”, “average (2)”, or “above average
    (3)”. The dependent variable, customer satisfaction, is ranked on a second scale:
    “very dissatisfied (1)”, “moderately dissatisfied (2)”, “neither dissatisfied
    nor satisfied (3)”, “moderately satisfied (4)”, or “very satisfied (5)”. 189 customers
    respond to the survey, and the results are cast into a contingency table with
    the hotel room cleanliness as the “row” variable and customer satisfaction as
    the “column” variable.'
  prefs: []
  type: TYPE_NORMAL
- en: '|  |  |  |  |  |  |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '|  | 27 | 25 | 14 | 7 | 0 |'
  prefs: []
  type: TYPE_TB
- en: '|  | 7 | 14 | 18 | 35 | 12 |'
  prefs: []
  type: TYPE_TB
- en: '|  | 1 | 3 | 2 | 7 | 17 |'
  prefs: []
  type: TYPE_TB
- en: For example, 27 customers assigned their room a cleanliness ranking of “below
    average (1)” and a corresponding satisfaction of “very dissatisfied (1)”. We perform
    the analysis as follows.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: The value of the Somers’ D statistic is approximately 0.6, indicating a positive
    correlation between room cleanliness and customer satisfaction in the sample.
    The *p*-value is very small, indicating a very small probability of observing
    such an extreme value of the statistic under the null hypothesis that the statistic
    of the entire population (from which our sample of 189 customers is drawn) is
    zero. This supports the alternative hypothesis that the true value of Somers’
    D for the population is nonzero.
  prefs: []
  type: TYPE_NORMAL
