- en: What’s new in 1.0.2 (March 12, 2020)
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 1.0.2版的新功能（2020年3月12日）
- en: 原文：[https://pandas.pydata.org/docs/whatsnew/v1.0.2.html](https://pandas.pydata.org/docs/whatsnew/v1.0.2.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://pandas.pydata.org/docs/whatsnew/v1.0.2.html](https://pandas.pydata.org/docs/whatsnew/v1.0.2.html)
- en: These are the changes in pandas 1.0.2\. See [Release notes](index.html#release)
    for a full changelog including other versions of pandas.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是pandas 1.0.2中的变化。查看[发行说明](index.html#release)获取包括其他版本的完整更改日志。
- en: '## Fixed regressions'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '## 修复的回归问题'
- en: '**Groupby**'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '**分组**'
- en: Fixed regression in [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") and [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") which were failing on frames with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") columns and a custom function ([GH 31777](https://github.com/pandas-dev/pandas/issues/31777))
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当帧具有[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")列和自定义函数时，[`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg")和[`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg")中的回归问题（[GH 31777](https://github.com/pandas-dev/pandas/issues/31777)）
- en: Fixed regression in `groupby(..).rolling(..).apply()` (`RollingGroupby`) where
    the `raw` parameter was ignored ([GH 31754](https://github.com/pandas-dev/pandas/issues/31754))
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`groupby(..).rolling(..).apply()`](RollingGroupby)中`raw`参数被忽略的回归问题（[GH 31754](https://github.com/pandas-dev/pandas/issues/31754)）
- en: Fixed regression in [`rolling(..).corr()`](../reference/api/pandas.core.window.rolling.Rolling.corr.html#pandas.core.window.rolling.Rolling.corr
    "pandas.core.window.rolling.Rolling.corr") when using a time offset ([GH 31789](https://github.com/pandas-dev/pandas/issues/31789))
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用时间偏移时[`rolling(..).corr()`](../reference/api/pandas.core.window.rolling.Rolling.corr.html#pandas.core.window.rolling.Rolling.corr
    "pandas.core.window.rolling.Rolling.corr")中的回归问题（[GH 31789](https://github.com/pandas-dev/pandas/issues/31789)）
- en: Fixed regression in [`groupby(..).nunique()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.nunique.html#pandas.core.groupby.DataFrameGroupBy.nunique
    "pandas.core.groupby.DataFrameGroupBy.nunique") which was modifying the original
    values if `NaN` values were present ([GH 31950](https://github.com/pandas-dev/pandas/issues/31950))
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当存在`NaN`值时，[`groupby(..).nunique()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.nunique.html#pandas.core.groupby.DataFrameGroupBy.nunique
    "pandas.core.groupby.DataFrameGroupBy.nunique")中的回归问题，该问题会修改原始值（[GH 31950](https://github.com/pandas-dev/pandas/issues/31950)）
- en: Fixed regression in `DataFrame.groupby` raising a `ValueError` from an internal
    operation ([GH 31802](https://github.com/pandas-dev/pandas/issues/31802))
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了从内部操作引发`ValueError`的`DataFrame.groupby`中的回归问题（[GH 31802](https://github.com/pandas-dev/pandas/issues/31802)）
- en: Fixed regression in [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") and [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") calling a user-provided function an extra
    time on an empty input ([GH 31760](https://github.com/pandas-dev/pandas/issues/31760))
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在空输入上调用用户提供的函数时，[`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg")和[`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg")额外调用一次的回归问题（[GH 31760](https://github.com/pandas-dev/pandas/issues/31760)）
- en: '**I/O**'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '**I/O**'
- en: Fixed regression in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which the `encoding` option was not recognized with certain
    file-like objects ([GH 31819](https://github.com/pandas-dev/pandas/issues/31819))
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在某些类文件对象中未识别`encoding`选项的[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv")中的回归问题（[GH 31819](https://github.com/pandas-dev/pandas/issues/31819)）
- en: Fixed regression in [`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel") when the `columns` keyword argument is passed ([GH
    31677](https://github.com/pandas-dev/pandas/issues/31677))
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在传递了`columns`关键字参数时，[`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel")中的回归问题（[GH 31677](https://github.com/pandas-dev/pandas/issues/31677)）
- en: Fixed regression in [`ExcelFile`](../reference/api/pandas.ExcelFile.html#pandas.ExcelFile
    "pandas.ExcelFile") where the stream passed into the function was closed by the
    destructor. ([GH 31467](https://github.com/pandas-dev/pandas/issues/31467))
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在传递给函数的流被析构函数关闭的[`ExcelFile`](../reference/api/pandas.ExcelFile.html#pandas.ExcelFile
    "pandas.ExcelFile")中的回归。 ([GH 31467](https://github.com/pandas-dev/pandas/issues/31467))
- en: Fixed regression where [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") raised a `UnicodeDecodeError` when reading a py27 pickle
    with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") column ([GH 31988](https://github.com/pandas-dev/pandas/issues/31988)).
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在读取具有[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")列的py27 pickle时，[`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle")引发`UnicodeDecodeError`的回归 ([GH 31988](https://github.com/pandas-dev/pandas/issues/31988))
- en: '**Reindexing/alignment**'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '**重新索引/对齐**'
- en: Fixed regression in [`Series.align()`](../reference/api/pandas.Series.align.html#pandas.Series.align
    "pandas.Series.align") when `other` is a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and `method` is not `None` ([GH 31785](https://github.com/pandas-dev/pandas/issues/31785))
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当`other`是[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")且`method`不是`None`时[`Series.align()`](../reference/api/pandas.Series.align.html#pandas.Series.align
    "pandas.Series.align")中的回归 ([GH 31785](https://github.com/pandas-dev/pandas/issues/31785))
- en: Fixed regression in [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") and [`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex") when reindexing with (tz-aware) index and `method=nearest`
    ([GH 26683](https://github.com/pandas-dev/pandas/issues/26683))
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在使用（带时区信息的）索引和`method=nearest`重新索引时[`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex")和[`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex")中的回归 ([GH 26683](https://github.com/pandas-dev/pandas/issues/26683))
- en: Fixed regression in [`DataFrame.reindex_like()`](../reference/api/pandas.DataFrame.reindex_like.html#pandas.DataFrame.reindex_like
    "pandas.DataFrame.reindex_like") on a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") subclass raised an `AssertionError` ([GH 31925](https://github.com/pandas-dev/pandas/issues/31925))
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")子类上调用[`DataFrame.reindex_like()`](../reference/api/pandas.DataFrame.reindex_like.html#pandas.DataFrame.reindex_like
    "pandas.DataFrame.reindex_like")时引发`AssertionError`的回归 ([GH 31925](https://github.com/pandas-dev/pandas/issues/31925))
- en: Fixed regression in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") arithmetic operations with mis-matched columns ([GH 31623](https://github.com/pandas-dev/pandas/issues/31623))
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在列不匹配的情况下[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame")算术运算中的回归（[GH 31623](https://github.com/pandas-dev/pandas/issues/31623)）
- en: '**Other**'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '**其他**'
- en: Fixed regression in joining on [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") or [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") to preserve `freq` in simple cases ([GH 32166](https://github.com/pandas-dev/pandas/issues/32166))
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在[`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex")或[`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex")上连接时保留`freq`的简单情况中的回归（[GH 32166](https://github.com/pandas-dev/pandas/issues/32166)）
- en: Fixed regression in [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift") with `datetime64` dtype when passing an integer `fill_value`
    ([GH 32591](https://github.com/pandas-dev/pandas/issues/32591))
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在使用`datetime64`数据类型时，通过整数`fill_value`传递给[`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift")时的回归 ([GH 32591](https://github.com/pandas-dev/pandas/issues/32591))
- en: Fixed regression in the repr of an object-dtype [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") with bools and missing values ([GH 32146](https://github.com/pandas-dev/pandas/issues/32146))
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了对象类型为布尔值和缺失值的[`Index`](../reference/api/pandas.Index.html#pandas.Index "pandas.Index")在repr中的回归（[GH
    32146](https://github.com/pandas-dev/pandas/issues/32146)）
- en: Indexing with nullable boolean arrays
  id: totrans-25
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用可空布尔数组进行索引
- en: Previously indexing with a nullable Boolean array containing `NA` would raise
    a `ValueError`, however this is now permitted with `NA` being treated as `False`.
    ([GH 31503](https://github.com/pandas-dev/pandas/issues/31503))
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 以前使用包含`NA`的可空布尔数组进行索引会引发`ValueError`，但现在允许使用`NA`，并将其视为`False`。 ([GH 31503](https://github.com/pandas-dev/pandas/issues/31503))
- en: '[PRE0]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '*pandas 1.0.0-1.0.1*'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '*pandas 1.0.0-1.0.1*'
- en: '[PRE1]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '*pandas 1.0.2*'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '*pandas 1.0.2*'
- en: '[PRE2]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '## Bug fixes'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '## 修复的错误'
- en: '**Datetimelike**'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '**Datetimelike**'
- en: Bug in [`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") not copying for tz-naive and tz-aware `datetime64` dtype
    ([GH 32490](https://github.com/pandas-dev/pandas/issues/32490))
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype")中的错误，对于tz-naive和tz-aware的`datetime64` dtype没有复制（[GH 32490](https://github.com/pandas-dev/pandas/issues/32490)）
- en: Bug where [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") would raise when passed `pd.NA` ([GH 32213](https://github.com/pandas-dev/pandas/issues/32213))
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当传递`pd.NA`时[`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime")会引发的错误（[GH 32213](https://github.com/pandas-dev/pandas/issues/32213)）
- en: Improved error message when subtracting two [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") that result in an out-of-bounds [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") ([GH 31774](https://github.com/pandas-dev/pandas/issues/31774))
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对两个导致超出界限的[`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp")相减时改进了错误消息（[GH 31774](https://github.com/pandas-dev/pandas/issues/31774)）
- en: '**Categorical**'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '**分类**'
- en: Fixed bug where [`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes") improperly raised a `ValueError` when passed
    nullable integer codes. ([GH 31779](https://github.com/pandas-dev/pandas/issues/31779))
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当传递可空整数代码时[`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes")错误地引发`ValueError`的错误（[GH 31779](https://github.com/pandas-dev/pandas/issues/31779)）
- en: Fixed bug where [`Categorical()`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") constructor would raise a `TypeError` when given a numpy
    array containing `pd.NA`. ([GH 31927](https://github.com/pandas-dev/pandas/issues/31927))
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当给定包含`pd.NA`的numpy数组时[`Categorical()`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")构造函数会引发`TypeError`的错误（[GH 31927](https://github.com/pandas-dev/pandas/issues/31927)）
- en: Bug in [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") that would ignore or crash when calling [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") with a list-like `to_replace` ([GH 31720](https://github.com/pandas-dev/pandas/issues/31720))
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在调用时会忽略或崩溃的[`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical")中的错误，当使用列表样的`to_replace`调用[`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace")时（[GH 31720](https://github.com/pandas-dev/pandas/issues/31720)）
- en: '**I/O**'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**输入/输出**'
- en: Using `pd.NA` with [`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") now correctly outputs a null value instead of an empty
    object ([GH 31615](https://github.com/pandas-dev/pandas/issues/31615))
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在在[`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json")中正确地输出空值而不是空对象的`pd.NA`（[GH 31615](https://github.com/pandas-dev/pandas/issues/31615)）
- en: Bug in [`pandas.json_normalize()`](../reference/api/pandas.json_normalize.html#pandas.json_normalize
    "pandas.json_normalize") when value in meta path is not iterable ([GH 31507](https://github.com/pandas-dev/pandas/issues/31507))
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当meta路径中的值不可迭代时修复了[`pandas.json_normalize()`](../reference/api/pandas.json_normalize.html#pandas.json_normalize
    "pandas.json_normalize")中的错误（[GH 31507](https://github.com/pandas-dev/pandas/issues/31507)）
- en: Fixed pickling of `pandas.NA`. Previously a new object was returned, which broke
    computations relying on `NA` being a singleton ([GH 31847](https://github.com/pandas-dev/pandas/issues/31847))
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`pandas.NA`的pickling。以前会返回一个新对象，这会破坏依赖于`NA`是单例的计算（[GH 31847](https://github.com/pandas-dev/pandas/issues/31847)）
- en: Fixed bug in parquet roundtrip with nullable unsigned integer dtypes ([GH 31896](https://github.com/pandas-dev/pandas/issues/31896)).
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了带有可空无符号整数dtype的parquet往返中的错误（[GH 31896](https://github.com/pandas-dev/pandas/issues/31896)）
- en: '**Experimental dtypes**'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**实验性的dtype**'
- en: Fixed bug in [`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes") for columns that were already using the `"string"`
    dtype ([GH 31731](https://github.com/pandas-dev/pandas/issues/31731)).
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了对已使用`"string"` dtype的列的[`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes")中的错误（[GH 31731](https://github.com/pandas-dev/pandas/issues/31731)）。
- en: Fixed bug in [`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes") for series with mix of integers and strings
    ([GH 32117](https://github.com/pandas-dev/pandas/issues/32117))
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes")中包含整数和字符串混合的系列的错误（[GH 32117](https://github.com/pandas-dev/pandas/issues/32117)）
- en: Fixed bug in [`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes") where `BooleanDtype` columns were converted
    to `Int64` ([GH 32287](https://github.com/pandas-dev/pandas/issues/32287))
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes")中`BooleanDtype`列被转换为`Int64`的错误（[GH 32287](https://github.com/pandas-dev/pandas/issues/32287)）
- en: Fixed bug in setting values using a slice indexer with string dtype ([GH 31772](https://github.com/pandas-dev/pandas/issues/31772))
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用具有字符串类型的切片索引器设置值时的错误（[GH 31772](https://github.com/pandas-dev/pandas/issues/31772)）
- en: Fixed bug where [`DataFrameGroupBy.first()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.first.html#pandas.core.groupby.DataFrameGroupBy.first
    "pandas.core.groupby.DataFrameGroupBy.first"), [`SeriesGroupBy.first()`](../reference/api/pandas.core.groupby.SeriesGroupBy.first.html#pandas.core.groupby.SeriesGroupBy.first
    "pandas.core.groupby.SeriesGroupBy.first"), [`DataFrameGroupBy.last()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.last.html#pandas.core.groupby.DataFrameGroupBy.last
    "pandas.core.groupby.DataFrameGroupBy.last"), and [`SeriesGroupBy.last()`](../reference/api/pandas.core.groupby.SeriesGroupBy.last.html#pandas.core.groupby.SeriesGroupBy.last
    "pandas.core.groupby.SeriesGroupBy.last") would raise a `TypeError` when groups
    contained `pd.NA` in a column of object dtype ([GH 32123](https://github.com/pandas-dev/pandas/issues/32123))
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrameGroupBy.first()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.first.html#pandas.core.groupby.DataFrameGroupBy.first
    "pandas.core.groupby.DataFrameGroupBy.first")，[`SeriesGroupBy.first()`](../reference/api/pandas.core.groupby.SeriesGroupBy.first.html#pandas.core.groupby.SeriesGroupBy.first
    "pandas.core.groupby.SeriesGroupBy.first")，[`DataFrameGroupBy.last()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.last.html#pandas.core.groupby.DataFrameGroupBy.last
    "pandas.core.groupby.DataFrameGroupBy.last")和[`SeriesGroupBy.last()`](../reference/api/pandas.core.groupby.SeriesGroupBy.last.html#pandas.core.groupby.SeriesGroupBy.last
    "pandas.core.groupby.SeriesGroupBy.last")在组中包含`pd.NA`的对象类型列时会引发`TypeError`的错误（[GH
    32123](https://github.com/pandas-dev/pandas/issues/32123)）
- en: Fixed bug where `DataFrameGroupBy.mean()`, `DataFrameGroupBy.median()`, `DataFrameGroupBy.var()`,
    and `DataFrameGroupBy.std()` would raise a `TypeError` on `Int64` dtype columns
    ([GH 32219](https://github.com/pandas-dev/pandas/issues/32219))
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`DataFrameGroupBy.mean()`，`DataFrameGroupBy.median()`，`DataFrameGroupBy.var()`和`DataFrameGroupBy.std()`在`Int64`类型列上引发`TypeError`的错误（[GH
    32219](https://github.com/pandas-dev/pandas/issues/32219)）
- en: '**Strings**'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '**Strings**'
- en: Using `pd.NA` with [`Series.str.repeat()`](../reference/api/pandas.Series.str.repeat.html#pandas.Series.str.repeat
    "pandas.Series.str.repeat") now correctly outputs a null value instead of raising
    error for vector inputs ([GH 31632](https://github.com/pandas-dev/pandas/issues/31632))
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`pd.NA`与[`Series.str.repeat()`](../reference/api/pandas.Series.str.repeat.html#pandas.Series.str.repeat
    "pandas.Series.str.repeat")一起，现在正确输出空值，而不是对向量输入引发错误（[GH 31632](https://github.com/pandas-dev/pandas/issues/31632)）
- en: '**Rolling**'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '**Rolling**'
- en: 'Fixed rolling operations with variable window (defined by time duration) on
    decreasing time index ([GH 32385](https://github.com/pandas-dev/pandas/issues/32385)).  ##
    Contributors'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '修复了在时间索引递减时使用变量窗口（由时间持续时间定义）的滚动操作的错误（[GH 32385](https://github.com/pandas-dev/pandas/issues/32385)）  ##
    贡献者'
- en: A total of 25 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 本次发布共有25人贡献了补丁。名字后面带有“+”符号的人第一次贡献了补丁。
- en: Anna Daglis +
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anna Daglis +
- en: Daniel Saxton
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Saxton
- en: Irv Lustig
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Irv Lustig
- en: Jan Škoda
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jan Škoda
- en: Joris Van den Bossche
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Van den Bossche
- en: Justin Zheng
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Justin Zheng
- en: Kaiqi Dong
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kaiqi Dong
- en: Kendall Masse
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kendall Masse
- en: Marco Gorelli
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marco Gorelli
- en: Matthew Roeschke
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Roeschke
- en: MeeseeksMachine
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MeeseeksMachine
- en: MomIsBestFriend
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MomIsBestFriend
- en: Pandas Development Team
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pandas开发团队
- en: Pedro Reys +
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pedro Reys +
- en: Prakhar Pandey
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Prakhar Pandey
- en: Robert de Vries +
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robert de Vries +
- en: Rushabh Vasani
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rushabh Vasani
- en: Simon Hawkins
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Simon Hawkins
- en: Stijn Van Hoey
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stijn Van Hoey
- en: Terji Petersen
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Terji Petersen
- en: Tom Augspurger
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tom Augspurger
- en: William Ayd
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: William Ayd
- en: alimcmaster1
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: alimcmaster1
- en: gfyoung
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gfyoung
- en: 'jbrockmendel  ## Fixed regressions'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'jbrockmendel  ## 修复回归问题'
- en: '**Groupby**'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '**Groupby**'
- en: Fixed regression in [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") and [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") which were failing on frames with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") columns and a custom function ([GH 31777](https://github.com/pandas-dev/pandas/issues/31777))
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在具有[`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex")列和自定义函数的框架上失败的[`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg")和[`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg")的回归问题 ([GH 31777](https://github.com/pandas-dev/pandas/issues/31777))
- en: Fixed regression in `groupby(..).rolling(..).apply()` (`RollingGroupby`) where
    the `raw` parameter was ignored ([GH 31754](https://github.com/pandas-dev/pandas/issues/31754))
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`groupby(..).rolling(..).apply()` (`RollingGroupby`)中`raw`参数被忽略的回归问题 ([GH
    31754](https://github.com/pandas-dev/pandas/issues/31754))
- en: Fixed regression in [`rolling(..).corr()`](../reference/api/pandas.core.window.rolling.Rolling.corr.html#pandas.core.window.rolling.Rolling.corr
    "pandas.core.window.rolling.Rolling.corr") when using a time offset ([GH 31789](https://github.com/pandas-dev/pandas/issues/31789))
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用时间偏移时[`rolling(..).corr()`](../reference/api/pandas.core.window.rolling.Rolling.corr.html#pandas.core.window.rolling.Rolling.corr
    "pandas.core.window.rolling.Rolling.corr")的回归问题 ([GH 31789](https://github.com/pandas-dev/pandas/issues/31789))
- en: Fixed regression in [`groupby(..).nunique()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.nunique.html#pandas.core.groupby.DataFrameGroupBy.nunique
    "pandas.core.groupby.DataFrameGroupBy.nunique") which was modifying the original
    values if `NaN` values were present ([GH 31950](https://github.com/pandas-dev/pandas/issues/31950))
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`groupby(..).nunique()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.nunique.html#pandas.core.groupby.DataFrameGroupBy.nunique
    "pandas.core.groupby.DataFrameGroupBy.nunique")在存在`NaN`值时修改原始值的回归问题 ([GH 31950](https://github.com/pandas-dev/pandas/issues/31950))
- en: Fixed regression in `DataFrame.groupby` raising a `ValueError` from an internal
    operation ([GH 31802](https://github.com/pandas-dev/pandas/issues/31802))
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了`DataFrame.groupby`在内部操作中引发`ValueError`的回归问题 ([GH 31802](https://github.com/pandas-dev/pandas/issues/31802))
- en: Fixed regression in [`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg") and [`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg") calling a user-provided function an extra
    time on an empty input ([GH 31760](https://github.com/pandas-dev/pandas/issues/31760))
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrameGroupBy.agg()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg
    "pandas.core.groupby.DataFrameGroupBy.agg")和[`SeriesGroupBy.agg()`](../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg
    "pandas.core.groupby.SeriesGroupBy.agg")在空输入上额外调用用户提供的函数的回归问题 ([GH 31760](https://github.com/pandas-dev/pandas/issues/31760))
- en: '**I/O**'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '**I/O**'
- en: Fixed regression in [`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv
    "pandas.read_csv") in which the `encoding` option was not recognized with certain
    file-like objects ([GH 31819](https://github.com/pandas-dev/pandas/issues/31819))
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`read_csv()`](../reference/api/pandas.read_csv.html#pandas.read_csv "pandas.read_csv")中某些类似文件对象不识别`encoding`选项的回归问题
    ([GH 31819](https://github.com/pandas-dev/pandas/issues/31819))
- en: Fixed regression in [`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel") when the `columns` keyword argument is passed ([GH
    31677](https://github.com/pandas-dev/pandas/issues/31677))
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.to_excel()`](../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel
    "pandas.DataFrame.to_excel")在传递`columns`关键字参数时的回归问题 ([GH 31677](https://github.com/pandas-dev/pandas/issues/31677))
- en: Fixed regression in [`ExcelFile`](../reference/api/pandas.ExcelFile.html#pandas.ExcelFile
    "pandas.ExcelFile") where the stream passed into the function was closed by the
    destructor. ([GH 31467](https://github.com/pandas-dev/pandas/issues/31467))
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`ExcelFile`](../reference/api/pandas.ExcelFile.html#pandas.ExcelFile "pandas.ExcelFile")中传递给函数的流被析构函数关闭的回归问题
    ([GH 31467](https://github.com/pandas-dev/pandas/issues/31467))
- en: Fixed regression where [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") raised a `UnicodeDecodeError` when reading a py27 pickle
    with [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") column ([GH 31988](https://github.com/pandas-dev/pandas/issues/31988)).
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用 [`MultiIndex`](../reference/api/pandas.MultiIndex.html#pandas.MultiIndex
    "pandas.MultiIndex") 列的 py27 pickle 时 [`read_pickle()`](../reference/api/pandas.read_pickle.html#pandas.read_pickle
    "pandas.read_pickle") 报错 `UnicodeDecodeError` 的回归问题 ([GH 31988](https://github.com/pandas-dev/pandas/issues/31988)).
- en: '**Reindexing/alignment**'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '**重新索引/对齐**'
- en: Fixed regression in [`Series.align()`](../reference/api/pandas.Series.align.html#pandas.Series.align
    "pandas.Series.align") when `other` is a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") and `method` is not `None` ([GH 31785](https://github.com/pandas-dev/pandas/issues/31785))
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当 `other` 是 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") 且 `method` 不是 `None` 时 [`Series.align()`](../reference/api/pandas.Series.align.html#pandas.Series.align
    "pandas.Series.align") 的回归问题 ([GH 31785](https://github.com/pandas-dev/pandas/issues/31785))
- en: Fixed regression in [`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") and [`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex") when reindexing with (tz-aware) index and `method=nearest`
    ([GH 26683](https://github.com/pandas-dev/pandas/issues/26683))
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在使用（时区感知的）索引和 `method=nearest` 进行重新索引时，[`DataFrame.reindex()`](../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex
    "pandas.DataFrame.reindex") 和 [`Series.reindex()`](../reference/api/pandas.Series.reindex.html#pandas.Series.reindex
    "pandas.Series.reindex") 中的回归问题 ([GH 26683](https://github.com/pandas-dev/pandas/issues/26683))
- en: Fixed regression in [`DataFrame.reindex_like()`](../reference/api/pandas.DataFrame.reindex_like.html#pandas.DataFrame.reindex_like
    "pandas.DataFrame.reindex_like") on a [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") subclass raised an `AssertionError` ([GH 31925](https://github.com/pandas-dev/pandas/issues/31925))
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在一个 [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    子类上使用 [`DataFrame.reindex_like()`](../reference/api/pandas.DataFrame.reindex_like.html#pandas.DataFrame.reindex_like
    "pandas.DataFrame.reindex_like") 引发了 `AssertionError` 的回归问题 ([GH 31925](https://github.com/pandas-dev/pandas/issues/31925))
- en: Fixed regression in [`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame
    "pandas.DataFrame") arithmetic operations with mis-matched columns ([GH 31623](https://github.com/pandas-dev/pandas/issues/31623))
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame`](../reference/api/pandas.DataFrame.html#pandas.DataFrame "pandas.DataFrame")
    算术运算中列不匹配的回归问题 ([GH 31623](https://github.com/pandas-dev/pandas/issues/31623))
- en: '**Other**'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '**其他**'
- en: Fixed regression in joining on [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") or [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") to preserve `freq` in simple cases ([GH 32166](https://github.com/pandas-dev/pandas/issues/32166))
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在简单情况下在 [`DatetimeIndex`](../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex
    "pandas.DatetimeIndex") 或 [`TimedeltaIndex`](../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex
    "pandas.TimedeltaIndex") 上连接时保留 `freq` 的回归问题 ([GH 32166](https://github.com/pandas-dev/pandas/issues/32166))
- en: Fixed regression in [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift") with `datetime64` dtype when passing an integer `fill_value`
    ([GH 32591](https://github.com/pandas-dev/pandas/issues/32591))
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用 `datetime64` 类型时 [`Series.shift()`](../reference/api/pandas.Series.shift.html#pandas.Series.shift
    "pandas.Series.shift") 的回归问题，当传递整数 `fill_value` 时 ([GH 32591](https://github.com/pandas-dev/pandas/issues/32591))
- en: Fixed regression in the repr of an object-dtype [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") with bools and missing values ([GH 32146](https://github.com/pandas-dev/pandas/issues/32146))
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了具有布尔值和缺失值的对象类型 [`Index`](../reference/api/pandas.Index.html#pandas.Index
    "pandas.Index") 的 repr 中的回归问题 ([GH 32146](https://github.com/pandas-dev/pandas/issues/32146))
- en: Indexing with nullable boolean arrays
  id: totrans-104
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用可空布尔数组进行索引
- en: Previously indexing with a nullable Boolean array containing `NA` would raise
    a `ValueError`, however this is now permitted with `NA` being treated as `False`.
    ([GH 31503](https://github.com/pandas-dev/pandas/issues/31503))
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 以前使用包含 `NA` 的可空布尔数组进行索引会引发 `ValueError`，但现在允许这样做，将 `NA` 视为 `False`。 ([GH 31503](https://github.com/pandas-dev/pandas/issues/31503))
- en: '[PRE3]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '*pandas 1.0.0-1.0.1*'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '*pandas 1.0.0-1.0.1*'
- en: '[PRE4]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '*pandas 1.0.2*'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '*pandas 1.0.2*'
- en: '[PRE5]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '## Bug fixes'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '## Bug fixes'
- en: '**Datetimelike**'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '**日期时间类**'
- en: Bug in [`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") not copying for tz-naive and tz-aware `datetime64` dtype
    ([GH 32490](https://github.com/pandas-dev/pandas/issues/32490))
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`Series.astype()`](../reference/api/pandas.Series.astype.html#pandas.Series.astype
    "pandas.Series.astype") 中的一个 bug，对于 tz-naive 和 tz-aware `datetime64` dtype 没有复制
    ([GH 32490](https://github.com/pandas-dev/pandas/issues/32490))
- en: Bug where [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") would raise when passed `pd.NA` ([GH 32213](https://github.com/pandas-dev/pandas/issues/32213))
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`to_datetime()`](../reference/api/pandas.to_datetime.html#pandas.to_datetime
    "pandas.to_datetime") 当传递 `pd.NA` 时会引发错误的 bug ([GH 32213](https://github.com/pandas-dev/pandas/issues/32213))
- en: Improved error message when subtracting two [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") that result in an out-of-bounds [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") ([GH 31774](https://github.com/pandas-dev/pandas/issues/31774))
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当减去两个结果为越界 [`Timedelta`](../reference/api/pandas.Timedelta.html#pandas.Timedelta
    "pandas.Timedelta") 的 [`Timestamp`](../reference/api/pandas.Timestamp.html#pandas.Timestamp
    "pandas.Timestamp") 时，改进了错误消息 ([GH 31774](https://github.com/pandas-dev/pandas/issues/31774))
- en: '**Categorical**'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '**分类**'
- en: Fixed bug where [`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes") improperly raised a `ValueError` when passed
    nullable integer codes. ([GH 31779](https://github.com/pandas-dev/pandas/issues/31779))
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`Categorical.from_codes()`](../reference/api/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes
    "pandas.Categorical.from_codes") 当传递可空整数代码时不正确地引发 `ValueError` 的 bug。 ([GH 31779](https://github.com/pandas-dev/pandas/issues/31779))
- en: Fixed bug where [`Categorical()`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") constructor would raise a `TypeError` when given a numpy
    array containing `pd.NA`. ([GH 31927](https://github.com/pandas-dev/pandas/issues/31927))
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了 [`Categorical()`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") 构造函数的一个 bug，当给定一个包含 `pd.NA` 的 numpy 数组时会引发 `TypeError`。([GH
    31927](https://github.com/pandas-dev/pandas/issues/31927))
- en: Bug in [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") that would ignore or crash when calling [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") with a list-like `to_replace` ([GH 31720](https://github.com/pandas-dev/pandas/issues/31720))
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [`Categorical`](../reference/api/pandas.Categorical.html#pandas.Categorical
    "pandas.Categorical") 中的一个 bug，当使用列表式的 `to_replace` 调用 [`Series.replace()`](../reference/api/pandas.Series.replace.html#pandas.Series.replace
    "pandas.Series.replace") 时会忽略或崩溃 ([GH 31720](https://github.com/pandas-dev/pandas/issues/31720))
- en: '**I/O**'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '**I/O**'
- en: Using `pd.NA` with [`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") now correctly outputs a null value instead of an empty
    object ([GH 31615](https://github.com/pandas-dev/pandas/issues/31615))
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `pd.NA` 与 [`DataFrame.to_json()`](../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json
    "pandas.DataFrame.to_json") 现在正确地输出一个 null 值而不是一个空对象 ([GH 31615](https://github.com/pandas-dev/pandas/issues/31615))
- en: Bug in [`pandas.json_normalize()`](../reference/api/pandas.json_normalize.html#pandas.json_normalize
    "pandas.json_normalize") when value in meta path is not iterable ([GH 31507](https://github.com/pandas-dev/pandas/issues/31507))
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[`pandas.json_normalize()`](../reference/api/pandas.json_normalize.html#pandas.json_normalize
    "pandas.json_normalize")中的一个 Bug，当元路径中的值不可迭代时 ([GH 31507](https://github.com/pandas-dev/pandas/issues/31507))
- en: Fixed pickling of `pandas.NA`. Previously a new object was returned, which broke
    computations relying on `NA` being a singleton ([GH 31847](https://github.com/pandas-dev/pandas/issues/31847))
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了对 `pandas.NA` 的 pickling。以前会返回一个新对象，这会破坏依赖于 `NA` 为单例的计算 ([GH 31847](https://github.com/pandas-dev/pandas/issues/31847))
- en: Fixed bug in parquet roundtrip with nullable unsigned integer dtypes ([GH 31896](https://github.com/pandas-dev/pandas/issues/31896)).
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了与可空无符号整数 dtypes 的 parquet 往返中的一个 bug ([GH 31896](https://github.com/pandas-dev/pandas/issues/31896)).
- en: '**Experimental dtypes**'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '**实验性的 dtypes**'
- en: Fixed bug in [`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes") for columns that were already using the `"string"`
    dtype ([GH 31731](https://github.com/pandas-dev/pandas/issues/31731)).
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes")中的一个 Bug，用于已经使用`"string"` dtype的列 ([GH 31731](https://github.com/pandas-dev/pandas/issues/31731)).
- en: Fixed bug in [`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes") for series with mix of integers and strings
    ([GH 32117](https://github.com/pandas-dev/pandas/issues/32117))
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了对混合整数和字符串系列的 [`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes") 中的错误（[GH 32117](https://github.com/pandas-dev/pandas/issues/32117)）
- en: Fixed bug in [`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes") where `BooleanDtype` columns were converted
    to `Int64` ([GH 32287](https://github.com/pandas-dev/pandas/issues/32287))
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了[`DataFrame.convert_dtypes()`](../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes
    "pandas.DataFrame.convert_dtypes")中 `BooleanDtype` 列被转换为 `Int64` 的错误（[GH 32287](https://github.com/pandas-dev/pandas/issues/32287)）
- en: Fixed bug in setting values using a slice indexer with string dtype ([GH 31772](https://github.com/pandas-dev/pandas/issues/31772))
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了使用字符串类型的切片索引器设置值时的错误（[GH 31772](https://github.com/pandas-dev/pandas/issues/31772)）
- en: Fixed bug where [`DataFrameGroupBy.first()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.first.html#pandas.core.groupby.DataFrameGroupBy.first
    "pandas.core.groupby.DataFrameGroupBy.first"), [`SeriesGroupBy.first()`](../reference/api/pandas.core.groupby.SeriesGroupBy.first.html#pandas.core.groupby.SeriesGroupBy.first
    "pandas.core.groupby.SeriesGroupBy.first"), [`DataFrameGroupBy.last()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.last.html#pandas.core.groupby.DataFrameGroupBy.last
    "pandas.core.groupby.DataFrameGroupBy.last"), and [`SeriesGroupBy.last()`](../reference/api/pandas.core.groupby.SeriesGroupBy.last.html#pandas.core.groupby.SeriesGroupBy.last
    "pandas.core.groupby.SeriesGroupBy.last") would raise a `TypeError` when groups
    contained `pd.NA` in a column of object dtype ([GH 32123](https://github.com/pandas-dev/pandas/issues/32123))
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当组中包含 `pd.NA` 在对象 dtype 列中时，[`DataFrameGroupBy.first()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.first.html#pandas.core.groupby.DataFrameGroupBy.first
    "pandas.core.groupby.DataFrameGroupBy.first")、[`SeriesGroupBy.first()`](../reference/api/pandas.core.groupby.SeriesGroupBy.first.html#pandas.core.groupby.SeriesGroupBy.first
    "pandas.core.groupby.SeriesGroupBy.first")、[`DataFrameGroupBy.last()`](../reference/api/pandas.core.groupby.DataFrameGroupBy.last.html#pandas.core.groupby.DataFrameGroupBy.last
    "pandas.core.groupby.DataFrameGroupBy.last") 和 [`SeriesGroupBy.last()`](../reference/api/pandas.core.groupby.SeriesGroupBy.last.html#pandas.core.groupby.SeriesGroupBy.last
    "pandas.core.groupby.SeriesGroupBy.last") 会引发 `TypeError` 的错误（[GH 32123](https://github.com/pandas-dev/pandas/issues/32123)）
- en: Fixed bug where `DataFrameGroupBy.mean()`, `DataFrameGroupBy.median()`, `DataFrameGroupBy.var()`,
    and `DataFrameGroupBy.std()` would raise a `TypeError` on `Int64` dtype columns
    ([GH 32219](https://github.com/pandas-dev/pandas/issues/32219))
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了当 `DataFrameGroupBy.mean()`、`DataFrameGroupBy.median()`、`DataFrameGroupBy.var()`
    和 `DataFrameGroupBy.std()` 在 `Int64` dtype 列上引发 `TypeError` 的错误（[GH 32219](https://github.com/pandas-dev/pandas/issues/32219)）
- en: '**Strings**'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '**字符串**'
- en: Using `pd.NA` with [`Series.str.repeat()`](../reference/api/pandas.Series.str.repeat.html#pandas.Series.str.repeat
    "pandas.Series.str.repeat") now correctly outputs a null value instead of raising
    error for vector inputs ([GH 31632](https://github.com/pandas-dev/pandas/issues/31632))
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `pd.NA` 与 [`Series.str.repeat()`](../reference/api/pandas.Series.str.repeat.html#pandas.Series.str.repeat
    "pandas.Series.str.repeat") 现在能正确输出空值，而不是对向量输入引发错误（[GH 31632](https://github.com/pandas-dev/pandas/issues/31632)）
- en: '**Rolling**'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '**滚动**'
- en: Fixed rolling operations with variable window (defined by time duration) on
    decreasing time index ([GH 32385](https://github.com/pandas-dev/pandas/issues/32385)).
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修复了在减少的时间索引上对变量窗口（由时间持续时间定义）的滚动操作的错误（[GH 32385](https://github.com/pandas-dev/pandas/issues/32385)）
- en: '## Contributors'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '## 贡献者'
- en: A total of 25 people contributed patches to this release. People with a “+”
    by their names contributed a patch for the first time.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 总共有25人为此版本提供了补丁。名字旁边带有“+”符号的人是第一次贡献补丁的人。
- en: Anna Daglis +
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anna Daglis +
- en: Daniel Saxton
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Daniel Saxton
- en: Irv Lustig
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Irv Lustig
- en: Jan Škoda
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jan Škoda
- en: Joris Van den Bossche
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Joris Van den Bossche
- en: Justin Zheng
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Justin Zheng
- en: Kaiqi Dong
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kaiqi Dong
- en: Kendall Masse
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kendall Masse
- en: Marco Gorelli
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Marco Gorelli
- en: Matthew Roeschke
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Matthew Roeschke
- en: MeeseeksMachine
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MeeseeksMachine
- en: MomIsBestFriend
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MomIsBestFriend
- en: Pandas Development Team
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pandas 开发团队
- en: Pedro Reys +
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pedro Reys +
- en: Prakhar Pandey
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Prakhar Pandey
- en: Robert de Vries +
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Robert de Vries +
- en: Rushabh Vasani
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rushabh Vasani
- en: Simon Hawkins
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Simon Hawkins
- en: Stijn Van Hoey
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Stijn Van Hoey
- en: Terji Petersen
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Terji Petersen
- en: Tom Augspurger
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tom Augspurger
- en: William Ayd
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: William Ayd
- en: alimcmaster1
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: alimcmaster1
- en: gfyoung
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gfyoung
- en: jbrockmendel
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: jbrockmendel
